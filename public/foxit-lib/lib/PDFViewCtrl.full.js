!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.PDFViewCtrl=t():e.PDFViewCtrl=t()}(self,(()=>(()=>{var e={7085:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<div class="collapse-panel">\n<div class="header" name="header">\n<div class="icon-triangle" name="icon">\n<svg width="8" height="8" version="1.1" xmlns="http://www.w3.org/2000/svg">\n<polygon class="right-bottom" points="8,0 8,8 0,8 8,0" stroke-width="0"/>\n<polygon class="right" points="0,0 8,4 0,8 0,0" stroke-width="0"/>\n</svg>\n</div>\n<div class="text" name="text"></div>\n<div class="line"></div>\n</div>\n<div name="body"></div>\n</div>','<div class="collapse-panel">\n<div class="header" name="header">\n<div class="icon-triangle" name="icon">\n<svg width="8" height="8" version="1.1" xmlns="http://www.w3.org/2000/svg">\n<polygon class="right-bottom" points="8,0 8,8 0,8 8,0" stroke-width="0"/>\n<polygon class="right" points="0,0 8,4 0,8 0,0" stroke-width="0"/>\n</svg>\n</div>\n<div class="text" name="text"></div>\n<div class="line"></div>\n</div>\n<div name="body"></div>\n</div>'}},5335:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<layer modal @isolate.strict @aria:circular-focus class="fv__ui-ask-dialog center fv__ui-alert-dialog" append-to="body">\n<div @controller.alias="alert">\n<layer-header @set.title="alert.title"></layer-header>\n<layer-view class="fv__ui-dialog-message">\n<i class="fv__ui-layer-message-icon fv__hidden"></i>\n<span>\n<text @set.text="alert.message"></text>\n</span>\n</layer-view>\n<checkbox class="m-r-10 fv__ui-dialog-again" @set.text="alert.notAgain" name="notAgain"></checkbox>\n<layer-toolbar class="footer">\n<xbutton class="fv__ui-dialog-ok-button" @on.click="alert.ok()"><text @set.text="alert.okBtnText"></text></xbutton>\n</layer-toolbar>\n</div>\n</layer>\n','<layer modal @isolate.strict @aria:circular-focus class="fv__ui-ask-dialog center fv__ui-alert-dialog" append-to="body">\n<div @controller.alias="alert">\n<layer-header @set.title="alert.title"></layer-header>\n<layer-view class="fv__ui-dialog-message">\n<i class="fv__ui-layer-message-icon fv__hidden"></i>\n<span>\n<text @set.text="alert.message"></text>\n</span>\n</layer-view>\n<checkbox class="m-r-10 fv__ui-dialog-again" @set.text="alert.notAgain" name="notAgain"></checkbox>\n<layer-toolbar class="footer">\n<xbutton class="fv__ui-dialog-ok-button" @on.click="alert.ok()"><text @set.text="alert.okBtnText"></text></xbutton>\n</layer-toolbar>\n</div>\n</layer>\n'}},4756:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<layer modal @isolate.strict append-to="body" backdrop class="fv__ui-ask-dialog center fv__ui-confirm-dialog websdk-modal" @aria:describedby="@layer-view>@div">\n<div @controller.alias="confirm" name="confirm-dialog">\n<layer-header @set.title="confirm.title"></layer-header>\n<layer-view>\n<div class="fv__ui-dialog-message fv__ui-confirm-message" name="fv__ui-confirm-message">\n<i class="fv__ui-layer-message-icon fv__hidden" name="fv__ui-layer-message-icon"></i>\n<span name="fv__ui-layer-message">\n<span></span>\n<text @set.text="confirm.message"></text>\n</span>\n\n</div>\n</layer-view>\n<checkbox class="fv__ui-dialog-again" @set.text="confirm.notAgain" name="notAgain"></checkbox>\n<layer-toolbar class="footer">\n<xbutton class="fv__ui-dialog-ok-button" name="fv__ui-dialog-ok-button" @on.click="confirm.ok()" @set.text="confirm.okText">common-dialogs.ok</xbutton>\n<xbutton class="fv__ui-dialog-cancel-button" name="fv__ui-dialog-cancel-button" @on.click="confirm.cancel()" @set.text="confirm.cancelText">common-dialogs.cancel</xbutton>\n</layer-toolbar>\n</div>\n</layer>','<layer modal @isolate.strict append-to="body" backdrop class="fv__ui-ask-dialog center fv__ui-confirm-dialog websdk-modal" @aria:describedby="@layer-view>@div">\n<div @controller.alias="confirm" name="confirm-dialog">\n<layer-header @set.title="confirm.title"></layer-header>\n<layer-view>\n<div class="fv__ui-dialog-message fv__ui-confirm-message" name="fv__ui-confirm-message">\n<i class="fv__ui-layer-message-icon fv__hidden" name="fv__ui-layer-message-icon"></i>\n<span name="fv__ui-layer-message">\n<span></span>\n<text @set.text="confirm.message"></text>\n</span>\n\n</div>\n</layer-view>\n<checkbox class="fv__ui-dialog-again" @set.text="confirm.notAgain" name="notAgain"></checkbox>\n<layer-toolbar class="footer">\n<xbutton class="fv__ui-dialog-ok-button" name="fv__ui-dialog-ok-button" @on.click="confirm.ok()" @set.text="confirm.okText">common-dialogs.ok</xbutton>\n<xbutton class="fv__ui-dialog-cancel-button" name="fv__ui-dialog-cancel-button" @on.click="confirm.cancel()" @set.text="confirm.cancelText">common-dialogs.cancel</xbutton>\n</layer-toolbar>\n</div>\n</layer>'}},1449:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<layer modal @isolate.strict append-to="body" backdrop class="fv__ui-ask-dialog center  fv__ui-confirm-dialog fv__ui-custom-confirm-dialog">\n<div @controller.alias="confirm">\n<layer-header @set.title="confirm.title"></layer-header>\n<layer-view>\n<div class="fv__ui-dialog-message fv__ui-confirm-message">\n<i class="fv__ui-layer-message-icon fv__hidden"></i>\n<text @set.text="confirm.message"></text>\n</div>\n</layer-view>\n<layer-toolbar class="footer">\n<checkbox class="ask-again" text="common-dialogs.notAgain" name="notAgain"></checkbox>\n<div class="fv__ui-dialog-footer-buttons">\n<xbutton class="fv__ui-dialog-ok-button fv__ui-button" @on.click="confirm.ok()">common-dialogs.ok</xbutton>\n<xbutton class="fv__ui-dialog-cancel-button fv__ui-button" @on.click="confirm.cancel()">common-dialogs.cancel</xbutton>\n</div>\n</layer-toolbar>\n</div>\n</layer>','<layer modal @isolate.strict append-to="body" backdrop class="fv__ui-ask-dialog center  fv__ui-confirm-dialog fv__ui-custom-confirm-dialog">\n<div @controller.alias="confirm">\n<layer-header @set.title="confirm.title"></layer-header>\n<layer-view>\n<div class="fv__ui-dialog-message fv__ui-confirm-message">\n<i class="fv__ui-layer-message-icon fv__hidden"></i>\n<text @set.text="confirm.message"></text>\n</div>\n</layer-view>\n<layer-toolbar class="footer">\n<checkbox class="ask-again" text="common-dialogs.notAgain" name="notAgain"></checkbox>\n<div class="fv__ui-dialog-footer-buttons">\n<xbutton class="fv__ui-dialog-ok-button fv__ui-button" @on.click="confirm.ok()">common-dialogs.ok</xbutton>\n<xbutton class="fv__ui-dialog-cancel-button fv__ui-button" @on.click="confirm.cancel()">common-dialogs.cancel</xbutton>\n</div>\n</layer-toolbar>\n</div>\n</layer>'}},3146:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<layer modal @isolate.strict append-to="body" backdrop class="fv__ui-ask-dialog center fv__ui-prompt-dialog fv__prompt-password" @aria:circular-focus>\n<div @controller="dialogs:PromptDialogController as prompt">\n<layer-header @set.title="prompt.title"></layer-header>\n<layer-view>\n<div class="fv__ui-prompt-message">\n<text @set.text="prompt.message"></text>\n</div>\n<p class="notify" name="fv__ui-prompt-pwd-notify">\n<text @set.text="prompt.notifyMessage"></text>\n</p>\n<div class="fv__ui-prompt-input-container">\n<input name="fv__ui-prompt-pwd-value-editor" type="password" @aria:labelledby="::parent()::parent()::childAt(0)" @aria:describedby="::parent()::parent()::childAt(1)">\n<i name="fv__ui-prompt-pwd-value-editor-toggler" @on.click="prompt.switchPassword()" class="fv__ui-prompt-password-switcher fv__ui-prompt-show-password"></i>\n</div>\n</layer-view>\n<layer-toolbar class="footer">\n<xbutton class="fv__ui-dialog-ok-button" @on.click="prompt.ok()">common-dialogs.ok</xbutton>\n<xbutton class="fv__ui-dialog-cancel-button" @on.click="prompt.cancel()">common-dialogs.cancel</xbutton>\n</layer-toolbar>\n</div>\n</layer>','<layer modal @isolate.strict append-to="body" backdrop class="fv__ui-ask-dialog center fv__ui-prompt-dialog fv__prompt-password" @aria:circular-focus>\n<div @controller="dialogs:PromptDialogController as prompt">\n<layer-header @set.title="prompt.title"></layer-header>\n<layer-view>\n<div class="fv__ui-prompt-message">\n<text @set.text="prompt.message"></text>\n</div>\n<p class="notify" name="fv__ui-prompt-pwd-notify">\n<text @set.text="prompt.notifyMessage"></text>\n</p>\n<div class="fv__ui-prompt-input-container">\n<input name="fv__ui-prompt-pwd-value-editor" type="password" @aria:labelledby="::parent()::parent()::childAt(0)" @aria:describedby="::parent()::parent()::childAt(1)">\n<i name="fv__ui-prompt-pwd-value-editor-toggler" @on.click="prompt.switchPassword()" class="fv__ui-prompt-password-switcher fv__ui-prompt-show-password"></i>\n</div>\n</layer-view>\n<layer-toolbar class="footer">\n<xbutton class="fv__ui-dialog-ok-button" @on.click="prompt.ok()">common-dialogs.ok</xbutton>\n<xbutton class="fv__ui-dialog-cancel-button" @on.click="prompt.cancel()">common-dialogs.cancel</xbutton>\n</layer-toolbar>\n</div>\n</layer>'}},166:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<layer modal append-to="body" backdrop class="fv__ui-ask-dialog center fv__ui-prompt-dialog fv__prompt-url" @isolate.strict>\n<div @controller="dialogs:PromptDialogController as prompt">\n<layer-header @set.title="prompt.title" @set.icon="prompt.iconType"></layer-header>\n<layer-view>\n<div class="fv__ui-dialog-message fv__ui-prompt-message">\n<text @set.text="prompt.message"></text>\n</div>\n<input name="fv__ui-prompt-value-editor" @aria:labelledby="::parent()::childAt(0)">\n</layer-view>\n<layer-toolbar  class="footer">\n<xbutton class="fv__ui-dialog-ok-button" name="fv__ui-prompt-ok-button" @on.click="prompt.ok()">common-dialogs.ok</xbutton>\n<xbutton class="fv__ui-dialog-cancel-button" name="fv__ui-prompt-cancel-button" @on.click="prompt.cancel()">common-dialogs.cancel</xbutton>\n</layer-toolbar>\n</div>\n</layer>','<layer modal append-to="body" backdrop class="fv__ui-ask-dialog center fv__ui-prompt-dialog fv__prompt-url" @isolate.strict>\n<div @controller="dialogs:PromptDialogController as prompt">\n<layer-header @set.title="prompt.title" @set.icon="prompt.iconType"></layer-header>\n<layer-view>\n<div class="fv__ui-dialog-message fv__ui-prompt-message">\n<text @set.text="prompt.message"></text>\n</div>\n<input name="fv__ui-prompt-value-editor" @aria:labelledby="::parent()::childAt(0)">\n</layer-view>\n<layer-toolbar  class="footer">\n<xbutton class="fv__ui-dialog-ok-button" name="fv__ui-prompt-ok-button" @on.click="prompt.ok()">common-dialogs.ok</xbutton>\n<xbutton class="fv__ui-dialog-cancel-button" name="fv__ui-prompt-cancel-button" @on.click="prompt.cancel()">common-dialogs.cancel</xbutton>\n</layer-toolbar>\n</div>\n</layer>'}},5027:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";var t="",n=(e=e||{}).i,r=e.j,o=e.colors,a=e.color,s=e.bc,c=i.$escape,u=e.transparent,l=e.showTrans,A=e.transparentclass,d=e.addclass,h=e.removeclass;t+='<ul class="fv__ui-colors-picker">\n';for(n=0,r=o.length;n<r;n++){s="",s="border-color:#e0e0e0";"delected"!=(a=o[n])&&(t+='\n  <li class="fv__ui-picker-color" tabindex="-1" data-index=\'',t+=c(n),t+="' style=\"background-color:",t+=c(a),t+=";",t+=c(s),t+='"></li>\n')}if(t+='\n<span class="fv__ui-sperator"></span>\n',!u)l="display:none";return t+='\n<li class="',t+=c(A),t+='" style="',t+=c(l),t+='" tabindex="0">\n  <div style="height:100%;" class="fv__ui-picker-nocolor"></div>\n</li>\n<button class="',t+=c(d),t+=' fv__ui-picker-addcolor" role="option" tabindex="0"></button>\n<button class="',t+=c(h),t+=' fv__ui-picker-removecolor" role="option" tabindex="0"></button>\n</ul>'}},6936:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<layer modal @isolate class="foxit-spectrum-wrapper center" append-to="body">\n<div class="foxit-spectrum">\n<div class="foxit-spectrum-color">\n<div class="foxit-spectrum-gradientX">\n<div class="foxit-spectrum-gradientY">\n<div id="foxit-spectrum-color-dragger">\n</div>\n</div>\n</div>\n</div>\n<div class="foxit-spectrum-hue">\n<div id="foxit-spectrum-hue-slider">\n</div>\n</div>\n<div class="foxit-spectrum-transparent fv__ui-property-icon-nocolor"></div>\n</div>\n<div class="foxit-spectrum-tools">\n<div class="foxit-spectrum-show">\n<div id="foxit-spectrum-current">\n</div>\n<div id="foxit-spectrum-active">\n</div>\n</div>\n<div class="foxit-spectrum-btns">\n<button id="foxit-spectrum-choose" name="foxit-spectrum-choose" data-i18n="common-dialogs.ok">OK</button>\n<button id="foxit-spectrum-cancel" data-i18n="dialog.close">Cancel</button>\n</div>\n</div>\n</layer>','<layer modal @isolate class="foxit-spectrum-wrapper center" append-to="body">\n<div class="foxit-spectrum">\n<div class="foxit-spectrum-color">\n<div class="foxit-spectrum-gradientX">\n<div class="foxit-spectrum-gradientY">\n<div id="foxit-spectrum-color-dragger">\n</div>\n</div>\n</div>\n</div>\n<div class="foxit-spectrum-hue">\n<div id="foxit-spectrum-hue-slider">\n</div>\n</div>\n<div class="foxit-spectrum-transparent fv__ui-property-icon-nocolor"></div>\n</div>\n<div class="foxit-spectrum-tools">\n<div class="foxit-spectrum-show">\n<div id="foxit-spectrum-current">\n</div>\n<div id="foxit-spectrum-active">\n</div>\n</div>\n<div class="foxit-spectrum-btns">\n<button id="foxit-spectrum-choose" name="foxit-spectrum-choose" data-i18n="common-dialogs.ok">OK</button>\n<button id="foxit-spectrum-cancel" data-i18n="dialog.close">Cancel</button>\n</div>\n</div>\n</layer>'}},9262:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<dropdown\nselectable\nseparate="false"\n@var.self="$component"\nclass="fv__ui-dropdown-select"\n>\n<xbutton\n@foreach="item in self.options track by id"\nforeach@lazy-mode="self.lazyMode"\nforeach@item-height="self.itemHeight"\nforeach@threshold="self.lazyLoadThreshold"\n@setter.text="item.text"\n@on.click="self.userSelect($component, item)"\n@active="self.selectedItem === $component"\n></xbutton>\n</dropdown>','<dropdown\nselectable\nseparate="false"\n@var.self="$component"\nclass="fv__ui-dropdown-select"\n>\n<xbutton\n@foreach="item in self.options track by id"\nforeach@lazy-mode="self.lazyMode"\nforeach@item-height="self.itemHeight"\nforeach@threshold="self.lazyLoadThreshold"\n@setter.text="item.text"\n@on.click="self.userSelect($component, item)"\n@active="self.selectedItem === $component"\n></xbutton>\n</dropdown>'}},5883:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape,r=e.layout,o=e.iconclass,a=e.icontext,s=e.text,c=e.selectorClass,u=e.options,l=e.i,A=e.j,d=e.option,h=e.optionLable,f=e.optionClass,p=e.noOptionLable,v=e.arrowiconclass;if(t+='<div class="fv__ui-select">\n<div class="fv__ui-select-icon ',t+=n(1==r?"":o),t+='">',t+=n(a),t+='</div>\n<div class="fv__ui-select-options">\n  <span class="fv__ui-select-lable" data-i18n="',t+=n(s||""),t+='">',t+=n(s),t+='</span>\n  <ul class="fv__ui-select-selector ',t+=n(c),t+='">\n',u){t+="\n";for(l=0,A=u.length;l<A;l++){h=(d=u[l]).lable||d.value,f=d.class;1!=p&&!1!==d.lable||(h=""),t+='\n<li class="fv__ui-select-option ',t+=n(d.optionItemClass||""),t+='" data-value="',t+=n(d.value),t+='"><div class="',t+=n(f),t+='" data-i18n="',t+=n(h),t+='" data-value="',t+=n(d.value),t+='">',t+=n(h),t+="</div></li>\n"}t+="\n"}return t+="\n  </ul>\n  ",v?(t+='\n  <div class="fv__ui-select-dropdown ',t+=n(v),t+='"></div>\n  '):t+='\n  <div class="fv__ui-select-dropdown">&#9660</div>\n  ',t+="\n</div>\n</div>"}},247:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";var t="",n=(e=e||{}).iconCls,r=i.$escape,o=e.iconText,a=e.hiddenInput,s=e.hideInput,c=e.left,u=e.value,l=e.min,A=e.max,d=e.usingSelect,h=e.unit;t+='<div class="fv__ui-slider">\n',n&&(t+='\n<div class="fv__slider-icon ',t+=r(n),t+='">',t+=r(o),t+="</div>\n"),t+="\n";a=s?"fv__hidden":"";return t+='\n<div class="fv__ui-slider-line">\n<div class="fv__ui-slider-center-point"></div>\n<div class="fv__ui-slider-bar" style="width:',t+=r(c=100*(u-l)/(A-l)),t+='%"></div>\n<span class="fv__ui-slider-cursor" style="left:',t+=r(c),t+='%"></span>\n</div>\n<input ',t+=r(d?"readOnly=1":""),t+='  value="',t+=r(u),t+='" class="fv__ui-slider-input ',t+=r(a),t+='" />\n<span class="fv__ui-slider-unit ',t+=r(a),t+='">',t+=r(h),t+="</span>\n</div>"}},2939:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__ui-xselect-button">\n<div class="fv__ui-xselect-button-text"></div>\n<div class="fv__ui-xselect-button-edit">\n<input type="text">\n</div>\n<div class="fv__ui-xselect-button-icon">\n<i></i>\n</div>\n</div>\n<ul class="fv__ui-xselect-options-list">\n</ul>','<div class="fv__ui-xselect-button">\n<div class="fv__ui-xselect-button-text"></div>\n<div class="fv__ui-xselect-button-edit">\n<input type="text">\n</div>\n<div class="fv__ui-xselect-button-icon">\n<i></i>\n</div>\n</div>\n<ul class="fv__ui-xselect-options-list">\n</ul>'}},7482:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__ui-layer-header-inner">\n<i class="fv__ui-layer-header-icon"></i>\n<div class="fv__ui-layer-header-title"></div>\n<div class="fv__ui-layer-header-buttons">\n\x3c!-- TODO: more layer header buttons... --\x3e\n<button href="javascript:;" class="fv__ui-layer-header-button" type="button" action="close">\n<i class="fv__icon-layer-close"></i>\n</button>\n</div>\n</div>','<div class="fv__ui-layer-header-inner">\n<i class="fv__ui-layer-header-icon"></i>\n<div class="fv__ui-layer-header-title"></div>\n<div class="fv__ui-layer-header-buttons">\n\x3c!-- TODO: more layer header buttons... --\x3e\n<button href="javascript:;" class="fv__ui-layer-header-button" type="button" action="close">\n<i class="fv__icon-layer-close"></i>\n</button>\n</div>\n</div>'}},1558:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__ui-paddle">\n<div class="fv__ui-paddle-button fv__ui-paddle-button-prev">\n<i></i>\n</div>\n<div class="fv__ui-paddle-content-container">\n<div class="fv__ui-paddle-content"></div>\n</div>\n<div class="fv__ui-paddle-button fv__ui-paddle-button-next">\n<i></i>\n</div>\n</div>','<div class="fv__ui-paddle">\n<div class="fv__ui-paddle-button fv__ui-paddle-button-prev">\n<i></i>\n</div>\n<div class="fv__ui-paddle-content-container">\n<div class="fv__ui-paddle-content"></div>\n</div>\n<div class="fv__ui-paddle-button fv__ui-paddle-button-next">\n<i></i>\n</div>\n</div>'}},7644:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<div\nclass="fv__ui-scenario-option-group"\n></div>\n','<div\nclass="fv__ui-scenario-option-group"\n></div>\n'}},757:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<div\nclass="fv__ui-scenario-option"\n@var.option="$component"\n>\n<label class="fv__ui-scenario-option-radio-box">\n<input type="radio" @prop.checked="option.isChecked" @init="option.radioInput = $component" @on.change="option.onUserCheckThis()">\n<span class="fv__ui-scenario-option-label">\n@{option.text}\n<span slot="label"></span>\n</span>\n</label>\n<div class="fv__ui-scenario-option-body" body @class="{\'fv__ui-scenario-option-checked\': option.isChecked}" @init="option.body=$component"></div>\n</div>\n','<div\nclass="fv__ui-scenario-option"\n@var.option="$component"\n>\n<label class="fv__ui-scenario-option-radio-box">\n<input type="radio" @prop.checked="option.isChecked" @init="option.radioInput = $component" @on.change="option.onUserCheckThis()">\n<span class="fv__ui-scenario-option-label">\n@{option.text}\n<span slot="label"></span>\n</span>\n</label>\n<div class="fv__ui-scenario-option-body" body @class="{\'fv__ui-scenario-option-checked\': option.isChecked}" @init="option.body=$component"></div>\n</div>\n'}},5322:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'\x3c!-- FIXME the label div must be here --\x3e\n<div>\n<contextmenu name="fv--sidebar-contextmenu" class="sidebar-contextmenu-wrap" @controller="sidebar:SidebarContextmenuController">\n<contextmenu-item name="sidebar-contextmenu-bookmarks" icon-class="fv__icon-sidebar-bookmark" @controller="sidebar:SidebarContextmenuItemController"\naction="bookmarks">contextmenu.sidebar.bookmarks</contextmenu-item>\n<contextmenu-item name="sidebar-contextmenu-pages" icon-class="fv__icon-sidebar-thumbnail" @controller="sidebar:SidebarContextmenuItemController"\naction="pages">contextmenu.sidebar.pages</contextmenu-item>\n<contextmenu-item name="sidebar-contextmenu-comments" icon-class="fv__icon-sidebar-comment-list" @controller="sidebar:SidebarContextmenuItemController"\naction="comments">contextmenu.sidebar.comments</contextmenu-item>\n<contextmenu-item name="sidebar-contextmenu-layers" icon-class="fv__icon-sidebar-page-manager" @controller="sidebar:SidebarContextmenuItemController"\naction="layers">contextmenu.sidebar.layers</contextmenu-item>\n<contextmenu-item name="sidebar-contextmenu-attachments" icon-class="fv__icon-sidebar-attachment" @controller="sidebar:SidebarContextmenuItemController"\naction="attachments">contextmenu.sidebar.attachment</contextmenu-item>\n<contextmenu-item name="sidebar-contextmenu-fields" icon-class="fv__icon-sidebar-field" @controller="sidebar:SidebarContextmenuItemController"\naction="fields">contextmenu.sidebar.fields</contextmenu-item>\n<contextmenu-item name="sidebar-contextmenu-articles" icon-class="fv__icon-sidebar-articles" @controller="sidebar:SidebarContextmenuItemController"\naction="articles">contextmenu.sidebar.articles</contextmenu-item>\n<contextmenu-item name="sidebar-contextmenu-signatures" icon-class="fv__icon-sidebar-signature" @controller="sidebar:SidebarContextmenuItemController"\naction="signatures">contextmenu.sidebar.signatures</contextmenu-item>\n<contextmenu-item name="sidebar-contextmenu-destinations" icon-class="fv__icon-sidebar-destinations" @controller="sidebar:SidebarContextmenuItemController"\naction="destinations">contextmenu.sidebar.destinations</contextmenu-item>\n<contextmenu-separator></contextmenu-separator>\n<contextmenu-item class="sidebar-contextmenu-no-icon" shortcut="F4"\n@controller="sidebar:SidebarContextmenuToggleNavigationPanelsController" action="hide">\ncontextmenu.sidebar.hideNavigationPanels</contextmenu-item>\n<contextmenu-item class="sidebar-contextmenu-no-icon" @controller="sidebar:SidebarContextmenuResetAllPanelsController">\ncontextmenu.sidebar.resetAllPanels</contextmenu-item>\n</contextmenu>\n</div>','\x3c!-- FIXME the label div must be here --\x3e\n<div>\n<contextmenu name="fv--sidebar-contextmenu" class="sidebar-contextmenu-wrap" @controller="sidebar:SidebarContextmenuController">\n<contextmenu-item name="sidebar-contextmenu-bookmarks" icon-class="fv__icon-sidebar-bookmark" @controller="sidebar:SidebarContextmenuItemController"\naction="bookmarks">contextmenu.sidebar.bookmarks</contextmenu-item>\n<contextmenu-item name="sidebar-contextmenu-pages" icon-class="fv__icon-sidebar-thumbnail" @controller="sidebar:SidebarContextmenuItemController"\naction="pages">contextmenu.sidebar.pages</contextmenu-item>\n<contextmenu-item name="sidebar-contextmenu-comments" icon-class="fv__icon-sidebar-comment-list" @controller="sidebar:SidebarContextmenuItemController"\naction="comments">contextmenu.sidebar.comments</contextmenu-item>\n<contextmenu-item name="sidebar-contextmenu-layers" icon-class="fv__icon-sidebar-page-manager" @controller="sidebar:SidebarContextmenuItemController"\naction="layers">contextmenu.sidebar.layers</contextmenu-item>\n<contextmenu-item name="sidebar-contextmenu-attachments" icon-class="fv__icon-sidebar-attachment" @controller="sidebar:SidebarContextmenuItemController"\naction="attachments">contextmenu.sidebar.attachment</contextmenu-item>\n<contextmenu-item name="sidebar-contextmenu-fields" icon-class="fv__icon-sidebar-field" @controller="sidebar:SidebarContextmenuItemController"\naction="fields">contextmenu.sidebar.fields</contextmenu-item>\n<contextmenu-item name="sidebar-contextmenu-articles" icon-class="fv__icon-sidebar-articles" @controller="sidebar:SidebarContextmenuItemController"\naction="articles">contextmenu.sidebar.articles</contextmenu-item>\n<contextmenu-item name="sidebar-contextmenu-signatures" icon-class="fv__icon-sidebar-signature" @controller="sidebar:SidebarContextmenuItemController"\naction="signatures">contextmenu.sidebar.signatures</contextmenu-item>\n<contextmenu-item name="sidebar-contextmenu-destinations" icon-class="fv__icon-sidebar-destinations" @controller="sidebar:SidebarContextmenuItemController"\naction="destinations">contextmenu.sidebar.destinations</contextmenu-item>\n<contextmenu-separator></contextmenu-separator>\n<contextmenu-item class="sidebar-contextmenu-no-icon" shortcut="F4"\n@controller="sidebar:SidebarContextmenuToggleNavigationPanelsController" action="hide">\ncontextmenu.sidebar.hideNavigationPanels</contextmenu-item>\n<contextmenu-item class="sidebar-contextmenu-no-icon" @controller="sidebar:SidebarContextmenuResetAllPanelsController">\ncontextmenu.sidebar.resetAllPanels</contextmenu-item>\n</contextmenu>\n</div>'}},1660:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__ui-sidebar-ctls" name="sidebar-tabs">\n<a class="fv__ui-sidebar-toggler"></a>\n<div class="fv__ui-sidebar-nav">\n</div>\n</div>\n<div class="fv__ui-sidebar-body">\n</div>\n<div class="fv__ui-sidebar-dragger">\n<span class="toggler" aria-hidden="true"></span>\n</div>','<div class="fv__ui-sidebar-ctls" name="sidebar-tabs">\n<a class="fv__ui-sidebar-toggler"></a>\n<div class="fv__ui-sidebar-nav">\n</div>\n</div>\n<div class="fv__ui-sidebar-body">\n</div>\n<div class="fv__ui-sidebar-dragger">\n<span class="toggler" aria-hidden="true"></span>\n</div>'}},9059:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape;return t+='<dialog class="fv__ui-layer fv__action-dialog" >\n   <div class="fv__action-dialog-header">\n  <div class="fv__action-dialog-title">',t+=n(i.i18n("viewer_:dialog.actionDialog.title")),t+='</div>\n  <div class="fv__action-dialog-close"><i class="fv__action-dialog-close-icon">x</i></div>\n   </div>\n   <div class="fv__action-dialog-body">\n  <div class="fv__action-dialog-select">\n <span class="fv__action-dialog-select-title">',t+=n(i.i18n("viewer_:dialog.actionDialog.selectKey")),t+='</span>\n <select id="select-action">\n<option value="TypeGoto">',t+=n(i.i18n("viewer_:dialog.actionDialog.selectAction.goto")),t+='</option>\n<option value="TypeURI">',t+=n(i.i18n("viewer_:dialog.actionDialog.selectAction.webLink")),t+='</option>\n </select>\n  </div>\n  <div class="fv__action-dialog-url fv__action-dialog-box" data-type="TypeURI">\n <div class="fv__action-dialog-url-title fv__action-box-title">',t+=n(i.i18n("viewer_:dialog.actionDialog.URLAction.title")),t+='</div>\n <div class="fv__action-dialog-url-input">\n<input class="fv__action-dialog-input" id="url-input"/>\n </div>\n  </div>\n  <div class="fv__action-dialog-goto fv__action-dialog-box" style="display:block;"  data-type="TypeGoto">\n <div class="fv__action-dialog-goto-title fv__action-box-title">',t+=n(i.i18n("viewer_:dialog.actionDialog.GotoAction.title")),t+='</div>\n <div class="fv__action-dialog-goto-container">\n<div class="fv__action-dialog-goto-center">\n   <div class="fv__action-dialog-goto-left">\n  <div class="fv__action-dialog-goto-target">',t+=n(i.i18n("viewer_:dialog.actionDialog.GotoAction.target")),t+=':</div>\n   </div>\n   <div class="fv__action-dialog-goto-right">\n  <div class="fv__action-dialog-goto-input">\n <input type="number" min="1" class="fv__action-dialog-input" id="goto-input"/>\n  </div>\n  <div class="fv__action-dialog-goto-position">\n <span class="fv__action-dialog-goto-position-left">',t+=n(i.i18n("viewer_:dialog.actionDialog.GotoAction.left")),t+=':</span><span class="fv__action-dialog-goto-left-value">0</span>\n <span class="fv__action-dialog-goto-position-top">',t+=n(i.i18n("viewer_:dialog.actionDialog.GotoAction.top")),t+=':</span><span class="fv__action-dialog-goto-top-value">0</span>\n  </div>\n   </div>\n</div>\n </div>\n  </div>\n   </div>\n   <div class="fv__action-dialog-footer">\n  <div class="fv__action-dialog-btns">\n  <button type="button" class="fv__action-btn fv__action-btn-ok">',t+=n(i.i18n("viewer_:dialog.actionDialog.OK")),t+='</button>\n  <button type="button" class="fv__action-btn fv__action-btn-cancel ">',t+=n(i.i18n("viewer_:dialog.actionDialog.Cancel")),t+="</button>\n  </div>\n   </div>\n</dialog>"}},875:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape;return t+='<dialog class="fv__ui-layer fv__place-redaction-dialog" >\n   <div class="fv__place-redaction-dialog-header">\n  <div class="fv__place-redaction-dialog-title">',t+=n(i.i18n("viewer_:dialog.placeRedactionDialog.title")),t+='</div>\n  <div class="fv__place-redaction-dialog-close"><i class="fv__place-redaction-dialog-close-icon">x</i></div>\n   </div>\n   <div class="fv__place-redaction-dialog-body">\n<div class="fv__redaction-container">\n<label>\n<input name="redaction-page-type" class="redaction-page-radio" type="radio" checked value="1" /><span>',t+=n(i.i18n("viewer_:dialog.placeRedactionDialog.allPage")),t+='</span>\n</label>\n</div>\n<div class="fv__redaction-container">\n<label>\n<input name="redaction-page-type" class="redaction-page-radio" type="radio" value="2" /><span>',t+=n(i.i18n("viewer_:dialog.placeRedactionDialog.specificPage")),t+='</span>\n<div class="fv__redaction-range">',t+=n(i.i18n("viewer_:dialog.placeRedactionDialog.pageRange")),t+=': <input type="text" class="fv__redaction-page-range" disabled placeholder="',t+=n(e),t+='"/></div>\n</label>\n</div> \n   </div>\n   <div class="fv__place-redaction-dialog-footer">\n<div class="fv__redaction-container footer" style="text-align:right">\n<button type="button" class="fv__redaction-btn fv__ui-dialog-ok-button">',t+=n(i.i18n("viewer_:dialog.placeRedactionDialog.OK")),t+='</button>\n<button type="button" class="fv__redaction-cancel fv__ui-dialog-cancel-button">',t+=n(i.i18n("viewer_:dialog.placeRedactionDialog.Cancel")),t+="</button>\n</div>\n   </div>\n</dialog>"}},5100:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";var t="",n=(e=e||{}).disabledAttr,r=e.disabled,o=e.i18nRoot,a=e.hlm,s=e.endingStyle,c=e.borderWidth,u=i.$escape,l=e.minBorderWidth,A=e.borderStyle,d=e.cloudy,h=e.highlightingMode,f=e.rotation,p=e.fillColor,v=e.checked,g=e.strFillColor,m=e.color,y=e.lineStartStyle,_=e.startStyle,b=e.lineEndStyle,w=e.endStyle,k=e.hasCap,x=(e.hasCapChecked,e.opacity);t+='<div class="fv__annot-properties-dialog">\n<div>\n';n=r?"disabled=disabled":"",a=(o="viewer_:dialog.")+"highlightingMode.",s=o+"endingStyle.";if(t+="\n",void 0!==c&&(t+='\n<div class="fv__property-item">\n<span class="fv__property-item-name-container">',t+=u(i.i18n(o+"borderWidth")),t+='</span>\n<div class="fv__property-item-field-container">\n<input id="thickness-input-tx" type="number"\n   min="',t+=u(null!=l?l:1),t+='" max="12" step="1" value="',t+=u(c),t+='"\n   ',t+=u(n),t+='>\n<input id="thickness-input" type="range"\n   value="',t+=u(c),t+='" min="1" max="12" step="1"\n   ',t+=u(n),t+=">\n</div>\n</div>\n"),!1!==A&&(t+='\n<div class="fv__property-item">\n<span class="fv__property-item-name-container">',t+=u(i.i18n(o+"borderStyle")),t+='</span>\n<div class="fv__property-item-field-container">\n<select id="borderStyle-select" ',t+=u(n),t+='>\n<option value="0">———————————</option>\n<option value="1">. . . . . . . . . . . . . . . . . . . . .</option>\n<option value="2">-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -</option>\n<option value="3">—  —  —  —  —  —  —  —  —</option>\n<option value="4">—  -  —  -  —  -  —  -  —  -  —  -</option>\n<option value="5">——  -  ——  -  ——  -  ——  -</option>\n<option value="6">-   ———   -   ———   -   ———</option>\n',!0===d&&(t+='\n<option value="7">﹋﹋﹋﹋﹋﹋﹋﹋﹋﹋﹋</option>\n<option value="8">~~~~~~~~~~~~~~~~~~~</option>\n'),t+="\n</select>\n</div>\n</div>\n"),void 0!==h&&(t+='\n<div class="fv__property-item">\n<span class="fv__property-item-name-container">',t+=u(i.i18n(a+"title")),t+='</span>\n<div class="fv__property-item-field-container">\n<select id="highlighting-select" ',t+=u(n),t+='>\n<option value="0">',t+=u(i.i18n(a+"none")),t+='</option>\n<option value="1">',t+=u(i.i18n(a+"invert")),t+='</option>\n<option value="2">',t+=u(i.i18n(a+"outline")),t+='</option>\n<option value="3">',t+=u(i.i18n(a+"push")),t+='</option>\n<option value="4">',t+=u(i.i18n(a+"toggle")),t+="</option>\n</select>\n</div>\n</div>\n"),void 0!==f&&(t+='\n<div class="fv__property-item">\n<span class="fv__property-item-name-container">',t+=u(i.i18n(o+"rotate")),t+='</span>\n<div class="fv__property-item-field-container">\n<select id="rotation-select" ',t+=u(n),t+='>\n<option value="0">0</option>\n<option value="1">90</option>\n<option value="2">180</option>\n<option value="3">270</option>\n</select>\n</div>\n</div>\n'),void 0!==p){v="",r="",g=p;if(0==p)r="disabled=1",v="checked=1",g="#FFFFFF";else{for(g=(p&=16777215).toString(16);g.length<6;)g="0"+g;g="#"+g}t+='\n<div class="fv__property-item">\n<span class="fv__property-item-name-container">',t+=u(i.i18n(o+"fillColor")),t+='</span>\n\n<div class="fv__property-item-field-container">\n<input id="fillcolor-input" type="color" value="',t+=u(g),t+='" ',t+=u(r),t+=" ",t+=u(n),t+='>\n\n<label>\n<input id="fillColor-transparent-input" type="checkbox" ',t+=u(v),t+=" ",t+=u(n),t+=">\n",t+=u(i.i18n(o+"transparent")),t+="\n</label>\n</div>\n</div>\n"}(void 0!==m&&(0===m&&(m="#ffffff"),t+='\n<div class="fv__property-item">\n<label>\n<span class="fv__property-item-name-container">',t+=u(i.i18n(o+"color")),t+='</span>\n<div class="fv__property-item-field-container">\n<input id="color-input" type="color" value="',t+=u(m),t+='" ',t+=u(n),t+=">\n</div>\n</label>\n</div>\n"),y&&(t+='\n<div class="fv__property-item">\n<span class="fv__property-item-name-container">',t+=u(i.i18n(o+"startStyle")),t+='</span>\n<div class="fv__property-item-field-container">\n<select id="startstyle-select" value="',t+=u(_),t+='" ',t+=u(n),t+='>\n<option value="0">',t+=u(i.i18n(s+"none")),t+='</option>\n<option value="1">',t+=u(i.i18n(s+"square")),t+='</option>\n<option value="2">',t+=u(i.i18n(s+"circle")),t+='</option>\n<option value="3">',t+=u(i.i18n(s+"diamond")),t+='</option>\n<option value="4">',t+=u(i.i18n(s+"openArrow")),t+='</option>\n<option value="5">',t+=u(i.i18n(s+"closedArrow")),t+='</option>\n<option value="6">',t+=u(i.i18n(s+"butt")),t+='</option>\n<option value="7">',t+=u(i.i18n(s+"reverseOpenArrow")),t+='</option>\n<option value="8">',t+=u(i.i18n(s+"reverseClosedArrow")),t+='</option>\n<option value="9">',t+=u(i.i18n(s+"slash")),t+="</option>\n</select>\n</div>\n</div>\n"),b&&(t+='\n<div class="fv__property-item">\n<span class="fv__property-item-name-container">',t+=u(i.i18n(o+"endStyle")),t+='</span>\n<div class="fv__property-item-field-container">\n<select id="endstyle-select" value="',t+=u(w),t+='" ',t+=u(n),t+='>\n<option value="0" >',t+=u(i.i18n(s+"none")),t+='</option>\n<option value="1" >',t+=u(i.i18n(s+"square")),t+='</option>\n<option value="2" >',t+=u(i.i18n(s+"circle")),t+='</option>\n<option value="3" >',t+=u(i.i18n(s+"diamond")),t+='</option>\n<option value="4" >',t+=u(i.i18n(s+"openArrow")),t+='</option>\n<option value="5" >',t+=u(i.i18n(s+"closedArrow")),t+='</option>\n<option value="6" >',t+=u(i.i18n(s+"butt")),t+='</option>\n<option value="7" >',t+=u(i.i18n(s+"reverseOpenArrow")),t+='</option>\n<option value="8" >',t+=u(i.i18n(s+"reverseClosedArrow")),t+='</option>\n<option value="9" >',t+=u(i.i18n(s+"slash")),t+="</option>\n</select>\n</div>\n</div>\n"),void 0!==k)&&(t+='\n<div class="fv__property-item">\n<label class="fv__property-item-only-field-container">\n<input id="hasCap-input" type="checkbox" ',t+=u(k?"checked=true":""),t+=" ",t+=u(n),t+=">\n",t+=u(i.i18n(o+"hasCap")),t+="\n</label>\n</div>\n");return!1!==x&&(t+='\n<div class="fv__property-item">\n<label class="fv__property-item-name-container">',t+=u(i.i18n(o+"opacity")),t+='</label>\n<div class="fv__property-item-field-container">\n<input id="opacity-input" type="range" value="',t+=u(x),t+='" min="0" max="1" step="0.01" ',t+=u(n),t+=">\n</div>\n</div>\n"),t+='\n</div>\n<div class="fv__btn-close-container">\n<button type="button" class="fv__btn fv__btn-close">',t+=u(i.i18n(o+"close")),t+="</button>\n</div>\n</div>"}},4637:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape;return t+='<dialog class="fv__dialog fv__annot-reply-dialog trust-dia-dibox">\n  <p><span>',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.diaTitle")),t+='</span><i class="fv__icon-layer-close"></i></p>\n  <div class="fv__trust-tip-container">\n<p><i class="fv__icon-dialog-level-warning"></i><span>',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.disableTip")),t+='</span></p>\n  </div>\n  <div class="fv__textarea-container trust-dia-inbox">\n  <label>\n  <input type="checkbox" name="trustToClose">\n  <span>',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.rememberTime")),t+='</span>\n  </label>\n  </div>\n  <div class="fv__btn_reply_container btn-bot-box">\n  <button type="button" class="fv__btn fv__btn-reply trust-ok-btn">',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.play")),t+='</button>\n  <button type="button" class="fv__btn fv__btn-close trust-no-btn">',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.reject")),t+="</button>\n  </div>\n</dialog>"}},1160:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";var t="",n=(e=e||{}).i,r=(e.pointIndex,i.$escape);for(n=0;n<e.anchorCount;n++){t+="\n";t+='\n<div class="fv__pdf-annot-line-point" data-index="',t+=r(n),t+='"><div class="fv__pdf-annot-line-point-item"></div></div>\n'}return t+="\n\n",e.isLineDimension&&(t+='\n<div class="fv__pdf-annot-line-caption" data-index="caption">',t+=r(e.captionText),t+="</div>\n"),t}},1583:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape,r=e.fillColor;return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M7.2,14.9H3.7c-.4,0-.7.3-.8.8V28.5c0,.4.3.7.8.8H7.2c.4,0,.7-.3.8-.8V15.7C7.9,15.2,7.6,14.9,7.2,14.9Z"/>\n<path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M10.8,7.9h3.5a.79.79,0,0,1,.8.8V28.5a.79.79,0,0,1-.8.8H10.8a.79.79,0,0,1-.8-.8V8.7C10.1,8.3,10.4,7.9,10.8,7.9Z"/>\n<path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M25.1,8h3.5a.79.79,0,0,1,.8.8V28.6a.79.79,0,0,1-.8.8H25.1a.79.79,0,0,1-.8-.8V8.8A.86.86,0,0,1,25.1,8Z"/>\n<path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M17.9,19.9h3.5a.79.79,0,0,1,.8.8v7.8a.79.79,0,0,1-.8.8H17.9a.79.79,0,0,1-.8-.8V20.7C17.2,20.2,17.5,19.9,17.9,19.9Z"/>\n</svg>'}},6283:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 56">\n  <path stroke="#3f3f3f" transform="rotate(-44 14.147195816040043,29.311956405639645) " d="m22.48496,6.139239a10.573254,11.136632 0 0 1 3.338127,0.652288a9.244045,9.736598 0 0 1 5.769976,9.259314a9.4253,9.927512 0 0 1 -2.733941,7.127445l-18.503194,19.727748a6.585627,6.936531 0 0 1 -1.827662,1.272758a4.380348,4.613748 0 0 1 -2.129755,0.572741a5.603824,5.902415 0 0 1 -2.114651,-0.572741a5.55851,5.854687 0 0 1 -1.510465,-1.272758a6.177801,6.506975 0 0 1 -1.208372,-1.925046a4.531394,4.772842 0 0 1 -0.302093,-2.227326a8.307556,8.750211 0 0 1 1.510465,-4.168282l16.977624,-18.534538a2.326116,2.450059 0 0 1 1.223476,-0.636379a2.311011,2.43415 0 0 1 1.510465,0.636379a1.706825,1.797771 0 0 1 0.619291,1.288667a2.054232,2.163689 0 0 1 -0.619291,1.590947l-17.294822,18.216348a2.311011,2.43415 0 0 0 -0.604186,1.590947a1.9485,2.052322 0 0 0 1.782348,1.940956a1.510465,1.590947 0 0 0 1.223476,-0.636379l18.533403,-19.823205a5.060057,5.329674 0 0 0 1.510465,-4.168282a6.404371,6.745617 0 0 0 -1.510465,-4.152373a4.531394,4.772842 0 0 0 -3.64022,-1.909137a4.863697,5.122851 0 0 0 -3.957418,1.909137l-18.503194,19.807296a11.14723,11.741192 0 0 0 -2.114651,3.181895a9.334672,9.832055 0 0 0 0,7.381996a11.14723,11.741192 0 0 0 2.114651,3.181895a8.790905,9.259314 0 0 0 6.343952,2.879615a8.594545,9.052491 0 0 0 6.404371,-2.879615l18.820391,-19.489106a1.510465,1.590947 0 0 1 1.208372,-0.636379a1.842767,1.940956 0 0 1 1.208372,0.636379a1.616197,1.702314 0 0 1 0.619291,1.288667a1.510465,1.590947 0 0 1 -0.619291,1.272758l-18.503194,19.807296a14.878078,15.670832 0 0 1 -4.244406,3.181895a12.400916,13.061679 0 0 1 -4.863697,0.970478a12.325393,12.982131 0 0 1 -4.848592,-0.970478a9.87844,10.404796 0 0 1 -4.244406,-3.181895a12.400916,13.061679 0 0 1 -2.733941,-4.470562a13.760334,14.493531 0 0 1 -0.906279,-5.106941a15.512474,16.33903 0 0 1 0.906279,-5.44104a12.627486,13.300321 0 0 1 2.733941,-4.470562l18.503194,-19.807296a9.379986,9.879784 0 0 1 6.676254,-2.895524z" stroke-miterlimit="10" fill="',t+=(0,i.$escape)(e.fillColor),t+='"/>\n</svg>\n'}},6852:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M26.9,20.3h0l-.1-.1-.1-.1-4.9-5.2h0V4.1H23a.94.94,0,0,0,1-1V2.5a.94.94,0,0,0-1-1H8.4a.94.94,0,0,0-1,1v.6a.94.94,0,0,0,1,1H9.7V14.9h0l-5,5.2-.1.1-.1.1h0c-.1.1-.1.2-.1.4a.79.79,0,0,0,.8.8H15v8.6a1,1,0,0,0,.8.9h0a1.22,1.22,0,0,0,.8-.9V21.5h9.7a.77.77,0,0,0,.8-.7v-.1A.76.76,0,0,1,26.9,20.3Z"/>\n</svg>'}},8807:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M30.2,20.4,13.6,2.4H3L2.4,3v9.4L19.5,31l1.1-.2L30,21.5ZM6.2,7.5A1.75,1.75,0,0,1,4.5,5.8,1.75,1.75,0,0,1,6.2,4.1,1.75,1.75,0,0,1,7.9,5.8,1.69,1.69,0,0,1,6.2,7.5Z"/>\n</svg>'}},3110:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M2.56,16.77a1,1,0,0,1,0-1.41L6.5,11.42a1,1,0,0,1,1.41,0l5.75,5.75a1,1,0,0,0,1.41,0h0l9.43-9.43a1,1,0,0,1,1.41,0l3.94,3.94a1,1,0,0,1,0,1.41L15.08,27.88a1,1,0,0,1-1.41,0Z"/>\n</svg>'}},7308:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M16,2A14.13,14.13,0,0,0,1.77,16,14.12,14.12,0,0,0,16,29.94,14.13,14.13,0,0,0,30.32,16h0A14.13,14.13,0,0,0,16.06,2Zm0,26a12,12,0,1,1,.09,0Z"/>\n</svg>'}},3856:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M27.6,2H4.75a3,3,0,0,0-3,3V21.63a3,3,0,0,0,3,3H6.2l1.22,6.24V31l6.37-6.37H27.6a3,3,0,0,0,3-3V5A3,3,0,0,0,27.6,2Z"/>\n<path fill="#3f3f3f" isolation="isolate"\n  d="M27.24,6.92a.52.52,0,0,1-.52.52H6.22a.52.52,0,0,1-.52-.52h0a.52.52,0,0,1,.52-.52h20.5a.52.52,0,0,1,.52.52Z"/>\n<path fill="#3f3f3f" isolation="isolate"\n  d="M27.35,12.07a.51.51,0,0,1-.5.52H6.33a.51.51,0,0,1-.51-.51h0a.51.51,0,0,1,.51-.51H26.84a.51.51,0,0,1,.51.51Z"/>\n<path fill="#3f3f3f" isolation="isolate"\n  d="M22,17.19c0,.29-.18.52-.39.52H6.2c-.22,0-.39-.23-.39-.52h0c0-.28.17-.52.39-.52H21.63c.21,0,.39.24.39.52Z"/>\n</svg>'}},4814:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M24,1.4a1.55,1.55,0,0,0-2.18,0L17.17,6A1.55,1.55,0,0,1,15,6L10.35,1.4a1.55,1.55,0,0,0-2.18,0L1.59,8a1.55,1.55,0,0,0,0,2.18L6.22,14.8a1.56,1.56,0,0,1,0,2.19l-4.63,4.6a1.56,1.56,0,0,0,0,2.19l6.58,6.58a1.56,1.56,0,0,0,2.19,0L15,25.73a1.56,1.56,0,0,1,2.19,0l4.62,4.63a1.55,1.55,0,0,0,2.18,0l6.58-6.58a1.56,1.56,0,0,0,0-2.19L25.93,17a1.55,1.55,0,0,1,0-2.18h0l4.62-4.62a1.55,1.55,0,0,0,0-2.18Z"/>\n</svg>'}},9797:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M30.68,16.17A14.48,14.48,0,1,1,16.19,1.7h0A14.47,14.47,0,0,1,30.68,16.17Z"/>\n<path fill="#fff" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M11.23,13.28c0-2.28.95-5.29,5-5.29,3.2,0,5,2,5,4a4.9,4.9,0,0,1-1.35,3.6c-1.59,1.58-1.8,2.38-1.8,3.84h0c0,.19-.5.35-1.12.35H15.51c-.61,0-1.11-.32-1.11-.71a7.58,7.58,0,0,1,.33-1.77,11.61,11.61,0,0,1,1.21-2.63c.32-.41,1.56-.95,1.56-2.33,0-.88-.37-1.37-1.35-1.37C15.33,11,15,12.2,15,12.2a1.51,1.51,0,0,1-1.38,1.08Zm3.17,9a1.13,1.13,0,0,1,1.11-1.12h1.43a1.12,1.12,0,0,1,1.12,1.12h0V24a1.12,1.12,0,0,1-1.12,1.12H15.51A1.13,1.13,0,0,1,14.4,24Z"/>\n</svg>'}},4739:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M30.16,24.36,17.49,6.08a2,2,0,0,0-1.64-.92,2,2,0,0,0-1.63.92L1.55,24.36a2.06,2.06,0,0,0-.41,1.19,1.56,1.56,0,0,0,1.29,1.54H29.28a1.56,1.56,0,0,0,1.29-1.54A2.06,2.06,0,0,0,30.16,24.36Z"/>\n</svg>'}},1158:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M27.65,5.25A9.26,9.26,0,0,0,12.4,15L3,24.32a4.53,4.53,0,0,0-1.15,2.8v1.67a2,2,0,0,0,2,2h1.7a4.3,4.3,0,0,0,2.74-1.1,3.53,3.53,0,0,0,1-2.29.89.89,0,0,0,0-.23v-.05a.23.23,0,0,1,.07-.19.4.4,0,0,1,.28-.08,1.86,1.86,0,0,0,2-1.48.63.63,0,0,1,.46-.53,1.57,1.57,0,0,0,1.44-1.66v-.09a.38.38,0,0,1,0-.15h.18a2,2,0,0,0,2.15-.59,12.55,12.55,0,0,1,1.31-1.51l.46-.47a9.23,9.23,0,0,0,10-15.09Zm-2.1,4.86a1.92,1.92,0,1,1,0-2.72h0A1.93,1.93,0,0,1,25.55,10.11Z"/>\n</svg>'}},2186:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape,r=e.fillColor;return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<polygon fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n points="5.88 28.59 4.82 24.23 5.06 5.18 6 2.71 9.65 2.59 19.29 3.06 21.65 4.47 25.41 7.76 25.65 9.53 26.1 21.8 25.52 28.58 23.53 29.29 9.41 28.94 5.88 28.59"/>\n<path fill="#3f3f3f"\n  d="M22.26,18.19a.35.35,0,0,1-.35.35H8.73a.35.35,0,0,1-.35-.35h0a.34.34,0,0,1,.33-.35h13.2a.35.35,0,0,1,.35.35Z"/>\n<path fill="#3f3f3f"\n  d="M22.26,21.8a.35.35,0,0,1-.35.35H8.73a.34.34,0,0,1-.35-.33v0h0a.35.35,0,0,1,.35-.35H21.91a.35.35,0,0,1,.35.35Z"/>\n<path fill="#3f3f3f"\n  d="M22.14,25.18a.35.35,0,0,1-.35.35H8.61a.35.35,0,0,1-.35-.35h0a.35.35,0,0,1,.35-.35H21.79a.35.35,0,0,1,.35.35Z"/>\n<path fill="#3f3f3f"\n  d="M22.26,14.69a.35.35,0,0,1-.35.35H8.73a.35.35,0,0,1-.35-.35h0a.35.35,0,0,1,.35-.35H21.91a.35.35,0,0,1,.35.35Z"/>\n<path fill="#3f3f3f"\n  d="M24.48,30.13H6.3A2.28,2.28,0,0,1,4,27.87V4.07A2.28,2.28,0,0,1,6.29,1.8H20.41l.14.13.13.14,5.8,5.69.14.13.14.14V27.85a2.28,2.28,0,0,1-2.28,2.28ZM6.73,3.83a.82.82,0,0,0-.81.81V27.29a.82.82,0,0,0,.81.8H24a.81.81,0,0,0,.82-.8h0V9.69H18.29V3.83ZM20.29,7.69h3.25L20.29,4.5Z"/>\n<path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M23.28,28.58A.58.58,0,0,1,22.7,28V26.36a.58.58,0,0,0-.58-.58H20.48a.58.58,0,0,1-.58-.58V23a.58.58,0,0,1,.58-.58h1.64a.58.58,0,0,0,.58-.58V20.17a.6.6,0,0,1,.58-.59h2.24a.6.6,0,0,1,.58.59V21.8a.58.58,0,0,0,.58.58h1.63a.58.58,0,0,1,.58.58V25.2a.58.58,0,0,1-.58.58H26.68a.58.58,0,0,0-.58.58V28a.58.58,0,0,1-.58.58Z"/>\n</svg>'}},927:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<polygon fill="',t+=(0,i.$escape)(e.fillColor),t+='"\n points="6.35 4 5.88 28.59 7.53 29.77 19.88 29.41 22 28.82 26.23 24.47 27.06 10.94 26.71 3.41 24.94 2.47 6.71 3.06 6.35 4"/>\n<path fill="#3f3f3f"\n  d="M23.17,16.73a.37.37,0,0,0-.36-.35H9.33a.37.37,0,0,0-.36.35H9a.36.36,0,0,0,.36.36H22.81a.36.36,0,0,0,.36-.36Z"/>\n<path fill="#3f3f3f"\n  d="M23.17,13a.36.36,0,0,0-.36-.36H9.33A.36.36,0,0,0,9,13H9a.37.37,0,0,0,.36.35H22.81A.37.37,0,0,0,23.17,13Z"/>\n<path fill="#3f3f3f"\n  d="M23.17,9.35A.37.37,0,0,0,22.81,9H9.33A.37.37,0,0,0,9,9.35H9a.36.36,0,0,0,.36.36H22.81a.36.36,0,0,0,.36-.36Z"/>\n<path fill="#3f3f3f"\n  d="M23.17,20.31a.37.37,0,0,0-.36-.35H9.33a.37.37,0,0,0-.36.35H9a.36.36,0,0,0,.36.36H22.81a.36.36,0,0,0,.36-.36Z"/>\n<path fill="#3f3f3f"\n  d="M25.62,2a2.32,2.32,0,0,1,2.32,2.32V24.63l-.14.14-.14.13-5.93,5.82-.14.14-.14.14H7a2.32,2.32,0,0,1-2.32-2.32h0V4.34A2.32,2.32,0,0,1,7,2H25.62ZM7.46,28.92H19.28v-6H26v-18a.83.83,0,0,0-.83-.83H7.46a.83.83,0,0,0-.83.83V28.09A.83.83,0,0,0,7.46,28.92Zm13.87-4v3.27L24.65,25Z"/>\n</svg>'}},5984:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M10.36,2.52A7.93,7.93,0,0,0,9,2.77H9A6.45,6.45,0,0,0,4.51,9.1a6.52,6.52,0,0,0,6.23,6.77H11V29.19l1.49.69v.95h2.1L14.54,6h3.54V29.19l1.5.69v.95h2.09L21.59,6h3.7V2.52Z"/>\n</svg>'}},1490:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M28.87,16.67a.82.82,0,0,0,.3-1.12.86.86,0,0,0-.3-.3L13.94,4.65c-.54-.39-1-.16-1,.52V9.78A1.22,1.22,0,0,1,11.73,11H4.32a1.22,1.22,0,0,0-1.21,1.22v7.49a1.22,1.22,0,0,0,1.21,1.22h7.41a1.21,1.21,0,0,1,1.21,1.21h0v4.61c0,.67.46.9,1,.52Z"/>\n</svg>'}},9856:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M29,16h0a1.3,1.3,0,0,0-.07-.33c0-.42-.84-1.16-1.28-1.43L7.17,2a1.76,1.76,0,0,0-1.32-.26h0A1.16,1.16,0,0,0,5.33,2h0l7.25,14L5.33,30h0a1.09,1.09,0,0,0,.52.27h0A1.76,1.76,0,0,0,7.17,30L27.63,17.83c.44-.27,1.28-1,1.28-1.43a1.3,1.3,0,0,0,.07-.33h0Z"/>\n</svg>'}},7156:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M24.28,29.33A2.58,2.58,0,0,1,23.1,29l-4.89-2.64A3.73,3.73,0,0,0,16.47,26a3.7,3.7,0,0,0-1.73.37L9.85,29a2.56,2.56,0,0,1-1.18.34,1.43,1.43,0,0,1-1.14-.52,2,2,0,0,1-.33-1.75l1-5.47a4.17,4.17,0,0,0-1.08-3.3l-4-3.84a1.88,1.88,0,0,1-.7-2,1.84,1.84,0,0,1,1.72-1.17l5.5-.74a4.22,4.22,0,0,0,2.81-2l2.4-5a1.87,1.87,0,0,1,1.64-1.26,1.87,1.87,0,0,1,1.64,1.26l2.41,5a4.15,4.15,0,0,0,2.8,2l5.51.74a1.85,1.85,0,0,1,1.71,1.17,1.83,1.83,0,0,1-.7,2l-4,3.84a4.14,4.14,0,0,0-1.07,3.29l1,5.47a2,2,0,0,1-.33,1.75,1.43,1.43,0,0,1-1.14.52Z"/>\n</svg>'}},9649:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M16.49,3.74a.78.78,0,0,0-1.07-.28.75.75,0,0,0-.28.28L5,18.08c-.37.52-.15,1,.49,1H9.91a1.17,1.17,0,0,1,1.17,1.17h0v7.1a1.18,1.18,0,0,0,1.17,1.16h7.18a1.17,1.17,0,0,0,1.17-1.17h0v-7.1A1.17,1.17,0,0,1,21.7,19h4.51c.64,0,.86-.43.48-.95Z"/>\n</svg>'}},7283:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10" \n  d="M7.4,5C7,4.8,6.6,5,6.4,5.4c-0.1,0.1-0.1,0.3,0,0.4l1.3,17.5c0,0.6,0.5,0.8,1,0.4l3.4-2.8\n\tc0.5-0.4,1.2-0.3,1.6,0.2c0,0,0,0,0,0l4.5,5.5c0.4,0.5,1.1,0.6,1.6,0.2c0,0,0,0,0,0l5.5-4.6c0.5-0.4,0.6-1.1,0.2-1.6c0,0,0,0,0,0\n\tL21,15.1c-0.4-0.5-0.3-1.2,0.1-1.6l3.4-2.8c0.5-0.4,0.4-0.9-0.2-1.1L7.4,5z"/>\n</svg>\n'}},8998:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape,r=e.fillColor;return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<circle fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" cx="7.53" cy="27.68" r="1"/>\n<circle fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" cx="25.53" cy="27.68" r="1"/>\n<path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M26.53,15.76V14.61A10,10,0,0,0,16.6,4.68h-.14a10,10,0,0,0-9.93,9.93v1.15a6.5,6.5,0,0,0,1,12.92l.68-.3.32-.7v-13a8,8,0,0,1,16,0v13l.35.61.65.39a6.5,6.5,0,0,0,1-12.92Z"/>\n<rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="10.53" y="18.68" width="2" height="8" rx="0.99"/>\n<rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="20.53" y="18.68" width="2" height="8" rx="0.99"/>\n<rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="15.53" y="19.68" width="2" height="6" rx="0.99"/>\n</svg>'}},7697:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape,r=e.fillColor;return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M9,12v2c0,4.4,2.6,8,7,8s7-3.6,7-8V12h2v2.07C25,19.53,21.53,24,16.07,24h-.14C10.47,24,7,19.53,7,14.07V12Z"/>\n<circle fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" cx="8" cy="12" r="1"/>\n<circle fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" cx="24" cy="12" r="1"/>\n<rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="15" y="23" width="2" height="5" rx="0.99"/>\n<rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="8" y="27" width="16" height="2" rx="0.99"/>\n<rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="12" y="4" width="8" height="16" rx="3.95"/>\n</svg>'}},9291:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape,r=e.fillColor;return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M18.7,4.62a5.88,5.88,0,0,0-3,1.79l-5.12,4.74H4.91a2,2,0,0,0-2,2v6.38a2,2,0,0,0,2,2h5.66l5.12,4.73a6,6,0,0,0,3,1.8.48.48,0,0,0,.51-.45V5.13C19.14,4.75,19,4.62,18.7,4.62Z"/>\n<rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="24" y="20.12" width="2" height="8" rx="0.99" transform="translate(-9.73 24.74) rotate(-45)"/>\n<rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="20.95" y="6.88" width="8" height="2" rx="0.99"\n  transform="translate(1.74 19.95) rotate(-45)"/>\n<rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="22" y="15" width="6" height="2" rx="0.99"/>\n</svg>'}},4252:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t,r="",o=i.$escape;return e.length&&(r+='\n<label class="fv__label-block-text">',r+=o(i.i18n("viewer_:dialog.replies")),r+="</label>\n",t=n(1186)(e),r+=t,r+="\n"),r}},4210:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t,r="",o=i.$escape;return r+='<li class="fv__replies_item"><span class="fv__replies_content">',r+=o(e.content),r+="</span>\n",t=n(1186)(e.replies),r+=t,r+="\n</li>"}},1186:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",r=i.$each;e.$value,e.$index;return e.length&&(t+='\n<ul class="fv__replies_list">\n',r(e,(function(e,i){var r;t+="\n",r=n(4210)(e),t+=r,t+="\n"})),t+="\n</ul>\n"),t}},6912:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",r=i.$escape,o=e.content,a=e.replies;return t+='<dialog class="fv__dialog fv__annot-reply-dialog">\n<div class="fv__textarea-container">\n<label>\n<span class="fv__label-block-text">',t+=r(i.i18n("viewer_:dialog.content")),t+='</span>\n<textarea class="fv__block-textarea content-textarea">',t+=r(o),t+='</textarea>\n</label>\n</div>\n<div class="fv__textarea-container">\n<label>\n<span class="fv__label-block-text">',t+=r(i.i18n("viewer_:dialog.reply")),t+='</span>\n<textarea class="fv__block-textarea reply-textarea"></textarea>\n</label>\n</div>\n<div class="fv__btn_reply_container">\n<button type="button" class="fv__btn fv__btn-reply" disabled>',t+=r(i.i18n("viewer_:dialog.reply")),t+='</button>\n</div>\n<div class="fv__dialog-replies-block">\n',function(e){t+=e}(n(4252)(a)),t+='\n</div>\n<div class="fv__btn-close-container">\n<button type="button" class="fv__btn fv__btn-close">',t+=r(i.i18n("viewer_:dialog.close")),t+="</button>\n</div>\n</dialog>"}},269:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<div class="fv__text-boundary fv__text-boundary-',t+=(0,i.$escape)(e.direction),t+='">\n<div class="fv__text-boundary-blank">\n<div class="fv__text-boundary-cursor"></div>\n<div class="fv__text-boundary-sign"></div>\n</div>\n</div>'}},7539:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape;return t+='<dialog class="websdk-modal fv__dialog fv__annot-reply-dialog trust-dia-dibox">\n  <p><span>',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.diaTitle")),t+='</span><i class="fv__icon-layer-close"></i></p>\n  <div class="fv__trust-tip-container">\n<p><i class="fv__icon-dialog-level-warning"></i><span>',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.enableTip")),t+='</span></p>\n  </div>\n  <div class="fv__textarea-container trust-dia-inbox">\n  <label>\n  <input component-type=input type="radio" name="trustMode" value="one" checked>\n  <span>',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.trustOneTime")),t+='</span>\n  </label>\n  <label>\n  <input component-type=input type="radio" name="trustMode" value="always">\n  <span>',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.trustAlways")),t+='</span>\n  </label>\n  </div>\n  <div class="fv__btn_reply_container btn-bot-box">\n  <button component-type="button" type="button" class="fv__btn fv__btn-reply trust-ok-btn">',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.ok")),t+='</button>\n  <button type="button" class="fv__btn fv__btn-close trust-no-btn">',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.cancel")),t+="</button>\n  </div>\n</dialog>"}},4563:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+="<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n  <title>Document</title>\n  <script>\nwindow.initJS = function (PDFJSGlobal) {\n  const standardGlobalVariables = [\n  'app', 'event', 'doc',\n  'this', 'util', 'catalog',\n  'color', 'console', 'dbg'\n  ];\n  standardGlobalVariables.forEach(function(key) {\nObject.defineProperty(window, key, {\nget: function(){\nreturn PDFJSGlobal[key];\n},\nset: function(value){\nPDFJSGlobal[key] = value;\n}\n})\n  });\n  window.PDFJSGlobal = new Proxy(PDFJSGlobal, {\nhas: function(target, key) {\nreturn Reflect.has(target, key);\n},\nget: function(target, key) {\nreturn Reflect.get(target, key);\n},\nset: function(target, key, value) {\nReflect.set(target, key, value);\nif(standardGlobalVariables.indexOf(key) === -1) {\nReflect.set(window, key, value);\n}\n}\n  })\n  function appClosure() {\nfor (var i in window) {\n  if (i != 'PDFJSGlobal'\n&& i != 'location'\n&& i != 'window'\n&& i != 'appClosure') {\n  try {\neval('var ' + i + '=null');\n  } catch (ex) {}\n  }\n}\nvar proto = Object.getPrototypeOf ? Object.getPrototypeOf(window.PDFJSGlobal.doc) : window.PDFJSGlobal.doc.__proto__;\nObject.getOwnPropertyNames(proto).forEach(function (key) {\n  if (key === \"constructor\") return;\n  var descriptor = Object.getOwnPropertyDescriptor(proto, key);\n  if(typeof descriptor.value === 'function') {\nwindow[key] = function () {\n  return window.PDFJSGlobal.doc[key].apply(window.PDFJSGlobal.doc, arguments)\n}\n  } else {\n  if(window[key]){window[key] = window.PDFJSGlobal.doc[key];return}\nObject.defineProperty(window, key, {\n  get: function () {\nreturn window.PDFJSGlobal.doc[key];\n  }, set: function (val) {\nwindow.PDFJSGlobal.doc[key] = val\n  }\n})\n  }\n})\n\nreturn {\n  docClosure: function (f) {\n  var self = {};\n  for (var i in window) {\n  self[i] = undefined;\n  }\n  self.PDFJSGlobal = window.PDFJSGlobal;\n  with(self) {\n  with (PDFJSGlobal) {\n  with (PDFJSGlobal.doc) {\n  try {\n  eval(f);\n  } catch (e) {\n  //",t+=(0,i.$escape)(e.log||""),t+="&&console.warn(e)\n  }\n  return function(f) {\n  var self = {};\n  for (var i in window) {\n  self[i] = undefined;\n  }\n  with (self) {\n  return eval(f)\n  }\n  }\n  }\n  }\n  }\n  }\n}\n  }\n  window.__appClosure__ = appClosure();\n}\n\nwindow.runJS = function (data, engineEvent) {\n  var doc = window.PDFJSGlobal.doc;\n  window.PDFJSGlobal.event = engineEvent;\n\n  doc.timeStamp = engineEvent && engineEvent.timeStamp;\n\n  var resetDocClosure = function () {\nconst guessVariableNames = Array.from(new Set(data.code.split(/\\W/))).filter(name => {\nif(!doc.exec) {\ndoc.exec = window.__appClosure__.docClosure('');\n}\ntry {\ndoc.exec(name);\nreturn false\n} catch (error) {\nreturn true\n}\n});\ndoc.exec = window.__appClosure__.docClosure.call(doc, data.code);\nguessVariableNames.forEach(name => {\ntry {\nconst value = doc.exec(name);\ndoc[name] = value;\n} catch (error) {\n// IGNORE\n}\n})\n  }\n  if(typeof data.code === 'string')\n  data.code = data.code.replace(/window\\.open/g, ''); //Sanitize window.open\n  switch (data.action) {\ncase 'execute':\n  doc.exec(data.code, data, engineEvent);\n  break;\ncase 'reset':\n  resetDocClosure();\n  return;\ndefault:\n  if (data.global) { // 兼容旧版本\nreturn resetDocClosure();\n  }\n  }\n  window.PDFJSGlobal.event = null;\n}\n  <\/script>\n</head>\n\n<body>\n</body>\n\n</html>\n"}},8272:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<div class="fv__ui-print-process">\n<div class="fv__ui-print-process-title">',t+=(0,i.$escape)(e.title),t+='</div>\n<div class="fv__ui-print-process-digital-progress"><span class="fv__ui-print-process-current">0</span>/<span class="fv__ui-print-process-total">0</span></div>\n<div class="fv__ui-print-process-bar">\n<div class="fv__ui-print-process-percent"></div>\n</div>\n</div>'}},1885:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<div class="fv-callout">\n<div class="fv__shape-control callout">\n<canvas class="fv__shape-control-previewer"></canvas>\n<div class="fv__shape-control-move-area"></div>\n<div class="fv__shape-control-inner-area">\n<div class="fv__shape-controller callout left text"></div>\n<div class="fv__shape-controller callout top text"></div>\n<div class="fv__shape-controller callout right text"></div>\n<div class="fv__shape-controller callout bottom text"></div>\n</div>\n<div class="fv__shape-control-text-area"></div>\n<div class="fv__shape-controller callout calloutStart"></div>\n<div class="fv__shape-controller callout calloutKnee"></div>\n</div>\n</div>','<div class="fv-callout">\n<div class="fv__shape-control callout">\n<canvas class="fv__shape-control-previewer"></canvas>\n<div class="fv__shape-control-move-area"></div>\n<div class="fv__shape-control-inner-area">\n<div class="fv__shape-controller callout left text"></div>\n<div class="fv__shape-controller callout top text"></div>\n<div class="fv__shape-controller callout right text"></div>\n<div class="fv__shape-controller callout bottom text"></div>\n</div>\n<div class="fv__shape-control-text-area"></div>\n<div class="fv__shape-controller callout calloutStart"></div>\n<div class="fv__shape-controller callout calloutKnee"></div>\n</div>\n</div>'}},8012:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape,r=e.previewer,o=e.moveable,a=e.resizable,s=e.enableFrame,c=e.enableDiagonally,u=e.enableSizeBox,l=e.rotatable,A=e.degreeInitVisibility;return t+='<div class="fv__shape-control">\n<canvas class="fv__shape-control-previewer" ',t+=n(r?"":"style=display:none"),t+=" ></canvas>\n",o&&(t+='\n<div class="fv__shape-control-move-area"></div>\n'),t+='\n<div class="fv__shape-controller-resizable-wrap" ',t+=n(a?"":"style=visibility:hidden"),t+=" >\n",s&&(t+='\n<div class="fv__shape-controller" direction="north"></div>\n<div class="fv__shape-controller" direction="south"></div>\n<div class="fv__shape-controller" direction="west"></div>\n<div class="fv__shape-controller" direction="east"></div>\n'),t+="\n",c&&(t+='\n<div class="fv__shape-controller" direction="north-west"></div>\n<div class="fv__shape-controller" direction="north-east"></div>\n<div class="fv__shape-controller" direction="south-west"></div>\n<div class="fv__shape-controller" direction="south-east"></div>\n'),t+="\n",u&&(t+='\n<div class="fv__shape-size"></div>\n'),t+="\n</div>\n",l&&(t+='\n<div class="fv__shape-rotate">\n<div class="fv-shape-rotate-handle fv__cursor-rotation"></div>\n<div class="fv-shape-rotate-degree" ',t+=n(A?"":"style=visibility:hidden"),t+=' ></div>\n<div class="fv-shape-rotate-bound"></div>\n</div>\n'),t+="\n</div>"}},564:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";var t="";return t+='<div class="fv__rendering-container" >\n',t+=(e=e||{}).isIE?'\n<ul class="fv__loading-animation">\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n':'\n<div class="fv__rendering-svg" aria-live="assertive" aria-busy="true"></div>\n',t+="\n</div>"}},5143:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__ui-progress-layer">\n<div class="fv__ui-progress-icon"></div>\n<span class="fv__ui-progress-text"></span>\n</div>','<div class="fv__ui-progress-layer">\n<div class="fv__ui-progress-icon"></div>\n<span class="fv__ui-progress-text"></span>\n</div>'}},3013:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$each,r=e.actions,o=(e.$value,e.$index,i.$escape);return t+='<div class="fv__selection-tool-tip-container" tabindex="0">\n\x3c!--<div class="fv__selection-tool-tip-items-container">--\x3e\n<div class="fv__selection-tool-tip-items">\n',n(r,(function(e,n){t+='\n<div class="fv__selection-tool-tip-item ',t+=o(e.iconClass),t+='" action="',t+=o(e.name),t+='"></div>\n'})),t+="\n</div>\n\x3c!--</div>--\x3e\n</div>"}},9901:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<audio class="fv__player" src="',t+=(0,i.$escape)(e.url),t+='"  poster="#" width="100%" height="100%" controls="controls" controlsList="nodownload" style="width: 100%; height: 100%;">Your browser does not support the audio tag.</audio>\r\n<button>\r\n<i class="fv__close-video"></i>\r\n</button>'}},5680:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__pdf-viewer-layout">\r\n<div class="fv__pdf-viewer-rendering"></div>\r\n<div class="fv__pdf-viewer-container"></div>\r\n<div class="fv__pdf-viewer-handler-container"></div>\r\n</div>','<div class="fv__pdf-viewer-layout">\r\n<div class="fv__pdf-viewer-rendering"></div>\r\n<div class="fv__pdf-viewer-container"></div>\r\n<div class="fv__pdf-viewer-handler-container"></div>\r\n</div>'}},2843:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<video class="fv__player" src="',t+=(0,i.$escape)(e.url),t+='" poster="#" width="100%" height="100%" controls="controls" controlsList="nodownload">Your browser does not support the video tag.</video>\r\n<button>\r\n<i class="fv__close-video"></i>\r\n</button>'}},973:e=>{window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(2)},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n(1);var i={isFirefox:function(){return"undefined"!=typeof InstallTrigger},getFirefoxMajorVersion:function(e){var t=(e=e||navigator.userAgent).toLowerCase().match(/firefox\/(\S+)/);if(t)return t[1].split(".").map((function(e){return parseInt(e)}))[0]},isIE:function(){return-1!==navigator.userAgent.indexOf("MSIE")||!!document.documentMode},isEdge:function(){return!i.isIE()&&!!window.StyleMedia},isChrome:function(){return!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||-1!==navigator.userAgent.toLowerCase().indexOf("safari")},isIOSChrome:function(){return-1!==navigator.userAgent.toLowerCase().indexOf("crios")}},r=i,o={show:function(e){var t=document.createElement("div");t.setAttribute("style","font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;"),t.setAttribute("id","printJS-Modal");var n=document.createElement("div");n.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var i=document.createElement("div");i.setAttribute("class","printClose"),i.setAttribute("id","printClose"),n.appendChild(i);var r=document.createElement("span");r.setAttribute("class","printSpinner"),n.appendChild(r);var a=document.createTextNode(e.modalMessage);n.appendChild(a),t.appendChild(n),document.getElementsByTagName("body")[0].appendChild(t),document.getElementById("printClose").addEventListener("click",(function(){o.close()}))},close:function(){var e=document.getElementById("printJS-Modal");e&&e.parentNode.removeChild(e)}},a=o;function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e){return e.charAt(0).toUpperCase()+e.slice(1)}function u(e,t){for(var n=0;n<e.length;n++)if("object"===s(t)&&-1!==t.indexOf(e[n]))return!0;return!1}function l(e,t){var n=document.createElement("div");if(h(t.header))n.innerHTML=t.header;else{var i=document.createElement("h1"),r=document.createTextNode(t.header);i.appendChild(r),i.setAttribute("style",t.headerStyle),n.appendChild(i)}e.insertBefore(n,e.childNodes[0])}function A(e,t){var n=document.createElement("div");if(h(t.footer))n.innerHTML=t.footer;else{var i=document.createElement("h1"),r=document.createTextNode(t.footer);i.appendChild(r),i.setAttribute("style",t.footerStyle),n.appendChild(i)}e.insertBefore(n,e.childNodes.lastChild)}function d(e){e.showModal&&a.close(),e.onLoadingEnd&&e.onLoadingEnd(),(e.showModal||e.onLoadingStart)&&window.URL.revokeObjectURL(e.printable);var t="mouseover";(r.isChrome()||r.isFirefox())&&(t="focus"),window.addEventListener(t,(function n(){window.removeEventListener(t,n),e.onPrintDialogClose();var i=document.getElementById(e.frameId);i&&(e.frameRemoveDelay?setTimeout((function(){i.remove()}),e.frameRemoveDelay):i.remove())}))}function h(e){return new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>").test(e)}function f(e,t){try{if(r.isEdge()||r.isIE())try{e.focus(),e.contentWindow.document.execCommand("print",!1,null),d(t)}catch(n){setTimeout((function(){e.focus(),e.contentWindow.print(),d(t)}),1e3)}else setTimeout((function(){e.focus(),e.contentWindow.print(),d(t)}),1e3)}catch(e){t.onError(e)}finally{r.isFirefox()&&r.getFirefoxMajorVersion()<110&&(e.style.visibility="hidden",e.style.left="-1px")}}var p={send:function(e,t){document.getElementsByTagName("body")[0].appendChild(t);var n=document.getElementById(e.frameId);n.onload=function(){if("pdf"!==e.type){var t=n.contentWindow||n.contentDocument;if(t.document&&(t=t.document),t.body.appendChild(e.printableElement),"pdf"!==e.type&&e.style){var i=document.createElement("style");i.innerHTML=e.style,t.head.appendChild(i)}var o=t.getElementsByTagName("img");o.length>0?function(e){var t=e.map((function(e){if(e.src&&e.src!==window.location.href)return function(e){return new Promise((function(t){!function n(){e&&void 0!==e.naturalWidth&&0!==e.naturalWidth&&e.complete?t():setTimeout(n,500)}()}))}(e)}));return Promise.all(t)}(Array.from(o)).then((function(){return f(n,e)})):f(n,e)}else r.isFirefox()&&r.getFirefoxMajorVersion()<110||r.isSafari()?setTimeout((function(){return f(n,e)}),1e3):f(n,e)}}},v=function(e,t){if(e.base64){-1!==e.printable.indexOf(",")&&(e.printable=e.printable.split(",")[1]);var n=Uint8Array.from(atob(e.printable),(function(e){return e.charCodeAt(0)}));g(e,t,n)}else{e.printable=/^(blob|http|\/\/)/i.test(e.printable)?e.printable:window.location.origin+("/"!==e.printable.charAt(0)?"/"+e.printable:e.printable);var i=new window.XMLHttpRequest;i.responseType="arraybuffer",i.addEventListener("error",(function(){d(e),e.onError(i.statusText,i)})),i.addEventListener("load",(function(){if(-1===[200,201].indexOf(i.status))return d(e),void e.onError(i.statusText,i);g(e,t,i.response)})),i.open("GET",e.printable,!0),i.send()}};function g(e,t,n){var i=new window.Blob([n],{type:"application/pdf"});i=window.URL.createObjectURL(i),t.setAttribute("src",i),p.send(e,t)}function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}var y=function(e,t){var n,i="object"===m(n=e.printable)&&n&&(n instanceof HTMLElement||1===n.nodeType)?e.printable:document.getElementById(e.printable);i?(e.printableElement=_(i,e),e.header&&l(e.printableElement,e),e.footer&&A(e.printableElement,e),p.send(e,t)):window.console.error("Invalid HTML element id: "+e.printable)};function _(e,t){for(var n=e.cloneNode(),i=Array.prototype.slice.call(e.childNodes),r=0;r<i.length;r++)if(-1===t.ignoreElements.indexOf(i[r].id)){var o=_(i[r],t);n.appendChild(o)}switch(t.scanStyles&&1===e.nodeType&&n.setAttribute("style",function(e,t){for(var n="",i=(document.defaultView||window).getComputedStyle(e,""),r=0;r<i.length;r++)(-1!==t.targetStyles.indexOf("*")||-1!==t.targetStyle.indexOf(i[r])||u(t.targetStyles,i[r]))&&i.getPropertyValue(i[r])&&(n+=i[r]+":"+i.getPropertyValue(i[r])+";");return n+"max-width: "+t.maxWidth+"px !important; font-size: "+t.font_size+" !important;"}(e,t)),e.tagName){case"SELECT":n.value=e.value;break;case"CANVAS":n.getContext("2d").drawImage(e,0,0)}return n}var b=function(e,t){e.printableElement=document.createElement("div"),e.printableElement.setAttribute("style","width:100%"),e.printableElement.innerHTML=e.printable,e.header&&l(e.printableElement,e),e.footer&&A(e.printableElement,e),p.send(e,t)},w=function(e,t){e.printable.constructor!==Array&&(e.printable=[e.printable]),e.printableElement=document.createElement("div"),e.printable.forEach((function(t){var n=document.createElement("img");if(n.setAttribute("style",e.imageStyle),n.src=t,r.isFirefox()){var i=n.src;n.src=i}var o=document.createElement("div");o.appendChild(n),e.printableElement.appendChild(o)})),e.header&&l(e.printableElement,e),e.footer&&A(e.printableElement,e),p.send(e,t)};function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}var x=function(e,t){if("object"!==k(e.printable))throw new Error("Invalid javascript data object (JSON).");if("boolean"!=typeof e.repeatTableHeader)throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!e.properties||!Array.isArray(e.properties))throw new Error("Invalid properties array for your JSON data.");e.properties=e.properties.map((function(t){return{field:"object"===k(t)?t.field:t,displayName:"object"===k(t)?t.displayName:t,columnSize:"object"===k(t)&&t.columnSize?t.columnSize+";":100/e.properties.length+"%;"}})),e.printableElement=document.createElement("div"),e.header&&l(e.printableElement,e),e.printableElement.innerHTML+=function(e){var t=e.printable,n=e.properties,i='<table style="border-collapse: collapse; width: 100%;">';e.repeatTableHeader&&(i+="<thead>"),i+="<tr>";for(var r=0;r<n.length;r++)i+='<th style="width:'+n[r].columnSize+";"+e.gridHeaderStyle+'">'+c(n[r].displayName)+"</th>";i+="</tr>",e.repeatTableHeader&&(i+="</thead>"),i+="<tbody>";for(var o=0;o<t.length;o++){i+="<tr>";for(var a=0;a<n.length;a++){var s=t[o],u=n[a].field.split(".");if(u.length>1)for(var l=0;l<u.length;l++)s=s[u[l]];else s=s[n[a].field];i+='<td style="width:'+n[a].columnSize+e.gridStyle+'">'+s+"</td>"}i+="</tr>"}return i+"</tbody></table>"}(e),e.footer&&A(e.printableElement,e),p.send(e,t)};function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}var C=["pdf","html","image","json","raw-html"],D=function(){var e={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",footer:null,footerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(e){throw e},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",frameRemoveDelay:null,printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},t=arguments[0];if(void 0===t)throw new Error("printJS expects at least 1 attribute.");switch(P(t)){case"string":e.printable=encodeURI(t),e.fallbackPrintable=e.printable,e.type=arguments[1]||e.type;break;case"object":for(var n in e.printable=t.printable,e.fallbackPrintable=void 0!==t.fallbackPrintable?t.fallbackPrintable:e.printable,e.fallbackPrintable=e.base64?"data:application/pdf;base64,".concat(e.fallbackPrintable):e.fallbackPrintable,e)"printable"!==n&&"fallbackPrintable"!==n&&(e[n]=void 0!==t[n]?t[n]:e[n]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+P(t))}if(!e.printable)throw new Error("Missing printable information.");if(!e.type||"string"!=typeof e.type||-1===C.indexOf(e.type.toLowerCase()))throw new Error("Invalid print type. Available types are: pdf, html, image and json.");e.showModal&&a.show(e),e.onLoadingStart&&e.onLoadingStart();var i=document.getElementById(e.frameId);i&&i.parentNode.removeChild(i);var o=document.createElement("iframe");switch(r.isFirefox()?o.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):o.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),o.setAttribute("id",e.frameId),"pdf"!==e.type&&(o.srcdoc="<html><head><title>"+e.documentTitle+"</title>",e.css&&(Array.isArray(e.css)||(e.css=[e.css]),e.css.forEach((function(e){o.srcdoc+='<link rel="stylesheet" href="'+e+'">'}))),o.srcdoc+="</head><body></body></html>"),e.type){case"pdf":if(r.isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer."),window.open(e.fallbackPrintable,"_blank").focus(),e.onIncompatibleBrowser()}catch(t){e.onError(t)}finally{e.showModal&&a.close(),e.onLoadingEnd&&e.onLoadingEnd()}else v(e,o);break;case"image":w(e,o);break;case"html":y(e,o);break;case"raw-html":b(e,o);break;case"json":x(e,o)}},E=D;"undefined"!=typeof window&&(window.printJS=E),t.default=E}]).default},5585:(e,t,n)=>{"use strict";
/*! art-template@runtime | https://github.com/aui/art-template */var i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{},r=Object.create(i),o=/["&'<>]/;function a(e){return"string"!=typeof e&&(e=null==e?"":"function"==typeof e?a(e.call(e)):JSON.stringify(e)),e}r.$escape=function(e){return function(e){var t=""+e,n=o.exec(t);if(!n)return e;var i="",r=void 0,a=void 0,s=void 0;for(r=n.index,a=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:s="&#34;";break;case 38:s="&#38;";break;case 39:s="&#39;";break;case 60:s="&#60;";break;case 62:s="&#62;";break;default:continue}a!==r&&(i+=t.substring(a,r)),a=r+1,i+=s}return a!==r?i+t.substring(a,r):i}(a(e))},r.$each=function(e,t){if(Array.isArray(e))for(var n=0,i=e.length;n<i;n++)t(e[n],n);else for(var r in e)t(e[r],r)},e.exports=r},5779:(e,t,n)=>{"use strict";e.exports=n(5585)},3954:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48bWFzayBpZD0iaSIgZmlsbD0id2hpdGUiPjxwYXRoIGQ9Ik0xMiAySDRWM0gxMlYyWiIvPjwvbWFzaz48cGF0aCBkPSJNMTIgMkg0VjNIMTJWMloiIGZpbGw9IiMzMzMiLz48cGF0aCBkPSJNNCAyVjFIM1YySDRaTTEyIDJIMTNWMUgxMlYyWk0xMiAzVjRIMTNWM0gxMlpNNCAzSDNWNEg0VjNaTTQgM0gxMlYxSDRWM1pNMTEgMlYzSDEzVjJIMTFaTTEyIDJINFY0SDEyVjJaTTUgM1YySDNWM0g1WiIgZmlsbD0iIzMzMyIgbWFzaz0idXJsKCNpKSIvPjxtYXNrIGlkPSJkIiBmaWxsPSJ3aGl0ZSI+PHBhdGggZD0iTTEwIDRINVY1SDEwVjRaIi8+PC9tYXNrPjxwYXRoIGQ9Ik0xMCA0SDVWNUgxMFY0WiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Ik01IDRWM0g0VjRINVpNMTAgNEgxMVYzSDEwVjRaTTEwIDVWNkgxMVY1SDEwWk01IDVINFY2SDVWNVpNNSA1SDEwVjNINVY1Wk05IDRWNUgxMVY0SDlaTTEwIDRINVY2SDEwVjRaTTYgNVY0SDRWNUg2WiIgZmlsbD0iIzMzMyIgbWFzaz0idXJsKCNkKSIvPjxtYXNrIGlkPSJjIiBmaWxsPSJ3aGl0ZSI+PHBhdGggZD0ibTEwIDQuNWMwLTAuMjc2MTQtMC4yMjM4Ni0wLjUtMC41LTAuNXMtMC41IDAuMjIzODYtMC41IDAuNXYxYzAgMC4yNzYxNCAwLjIyMzg2IDAuNSAwLjUgMC41czAuNS0wLjIyMzg2IDAuNS0wLjV2LTF6Ii8+PC9tYXNrPjxwYXRoIGQ9Im0xMCA0LjVjMC0wLjI3NjE0LTAuMjIzODYtMC41LTAuNS0wLjVzLTAuNSAwLjIyMzg2LTAuNSAwLjV2MWMwIDAuMjc2MTQgMC4yMjM4NiAwLjUgMC41IDAuNXMwLjUtMC4yMjM4NiAwLjUtMC41di0xeiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Ik05LjUgNUM5LjIyMzg2IDUgOSA0Ljc3NjE0IDkgNC41SDExQzExIDMuNjcxNTcgMTAuMzI4NCAzIDkuNSAzVjVaTTkgNC41VjUuNUgxMVY0LjVIOVpNOSA1LjVDOSA1LjIyMzg2IDkuMjIzODYgNSA5LjUgNVY3QzEwLjMyODQgNyAxMSA2LjMyODQzIDExIDUuNUg5Wk05LjUgNUM5Ljc3NjE0IDUgMTAgNS4yMjM4NiAxMCA1LjVIOEM4IDYuMzI4NDMgOC42NzE1NyA3IDkuNSA3VjVaTTEwIDUuNVY0LjVIOFY1LjVIMTBaTTEwIDQuNUMxMCA0Ljc3NjE0IDkuNzc2MTQgNSA5LjUgNVYzQzguNjcxNTcgMyA4IDMuNjcxNTcgOCA0LjVIMTBaIiBmaWxsPSIjMzMzIiBtYXNrPSJ1cmwoI2MpIi8+PG1hc2sgaWQ9ImIiIGZpbGw9IndoaXRlIj48cGF0aCBkPSJtNiA0LjVjMC0wLjI3NjE0LTAuMjIzODYtMC41LTAuNS0wLjVzLTAuNSAwLjIyMzg2LTAuNSAwLjV2MWMwIDAuMjc2MTQgMC4yMjM4NiAwLjUgMC41IDAuNXMwLjUtMC4yMjM4NiAwLjUtMC41di0xeiIvPjwvbWFzaz48cGF0aCBkPSJtNiA0LjVjMC0wLjI3NjE0LTAuMjIzODYtMC41LTAuNS0wLjVzLTAuNSAwLjIyMzg2LTAuNSAwLjV2MWMwIDAuMjc2MTQgMC4yMjM4NiAwLjUgMC41IDAuNXMwLjUtMC4yMjM4NiAwLjUtMC41di0xeiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Ik01LjUgNUM1LjIyMzg2IDUgNSA0Ljc3NjE0IDUgNC41SDdDNyAzLjY3MTU3IDYuMzI4NDMgMyA1LjUgM1Y1Wk01IDQuNVY1LjVIN1Y0LjVINVpNNSA1LjVDNSA1LjIyMzg2IDUuMjIzODYgNSA1LjUgNVY3QzYuMzI4NDMgNyA3IDYuMzI4NDMgNyA1LjVINVpNNS41IDVDNS43NzYxNCA1IDYgNS4yMjM4NiA2IDUuNUg0QzQgNi4zMjg0MyA0LjY3MTU3IDcgNS41IDdWNVpNNiA1LjVWNC41SDRWNS41SDZaTTYgNC41QzYgNC43NzYxNCA1Ljc3NjE0IDUgNS41IDVWM0M0LjY3MTU3IDMgNCAzLjY3MTU3IDQgNC41SDZaIiBmaWxsPSIjMzMzIiBtYXNrPSJ1cmwoI2IpIi8+PG1hc2sgaWQ9ImEiIGZpbGw9IndoaXRlIj48cGF0aCBkPSJNOCA0SDdWMTFIOFY0WiIvPjwvbWFzaz48cGF0aCBkPSJNOCA0SDdWMTFIOFY0WiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Ik03IDRWM0g2VjRIN1pNOCA0SDlWM0g4VjRaTTggMTFWMTJIOVYxMUg4Wk03IDExSDZWMTJIN1YxMVpNNyA1SDhWM0g3VjVaTTcgNFYxMUg5VjRIN1pNOCAxMEg3VjEySDhWMTBaTTggMTFWNEg2VjExSDhaIiBmaWxsPSIjMzMzIiBtYXNrPSJ1cmwoI2EpIi8+PG1hc2sgaWQ9ImgiIGZpbGw9IndoaXRlIj48cGF0aCBkPSJtOC41IDEwaC0yYy0wLjI3NjE0IDAtMC41IDAuMjIzOS0wLjUgMC41czAuMjIzODYgMC41IDAuNSAwLjVoMmMwLjI3NjE0IDAgMC41LTAuMjIzOSAwLjUtMC41cy0wLjIyMzg2LTAuNS0wLjUtMC41eiIvPjwvbWFzaz48cGF0aCBkPSJtOC41IDEwaC0yYy0wLjI3NjE0IDAtMC41IDAuMjIzOS0wLjUgMC41czAuMjIzODYgMC41IDAuNSAwLjVoMmMwLjI3NjE0IDAgMC41LTAuMjIzOSAwLjUtMC41cy0wLjIyMzg2LTAuNS0wLjUtMC41eiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Ik02LjUgMTFIOC41VjlINi41VjExWk04LjUgMTFDOC4yMjM4NiAxMSA4IDEwLjc3NjEgOCAxMC41SDEwQzEwIDkuNjcxNTcgOS4zMjg0MyA5IDguNSA5VjExWk04IDEwLjVDOCAxMC4yMjM5IDguMjIzODYgMTAgOC41IDEwVjEyQzkuMzI4NDMgMTIgMTAgMTEuMzI4NCAxMCAxMC41SDhaTTguNSAxMEg2LjVWMTJIOC41VjEwWk02LjUgMTBDNi43NzYxNCAxMCA3IDEwLjIyMzkgNyAxMC41SDVDNSAxMS4zMjg0IDUuNjcxNTcgMTIgNi41IDEyVjEwWk03IDEwLjVDNyAxMC43NzYxIDYuNzc2MTQgMTEgNi41IDExVjlDNS42NzE1NyA5IDUgOS42NzE1NyA1IDEwLjVIN1oiIGZpbGw9IiMzMzMiIG1hc2s9InVybCgjaCkiLz48bWFzayBpZD0iZyIgZmlsbD0id2hpdGUiPjxwYXRoIGQ9Im0xMSAxMmgtN3YxaDd2LTF6Ii8+PC9tYXNrPjxwYXRoIGQ9Im0xMSAxMmgtN3YxaDd2LTF6IiBmaWxsPSIjMzMzIi8+PHBhdGggZD0ibTQgMTJ2LTFoLTF2MWgxem03IDBoMXYtMWgtMXYxem0wIDF2MWgxdi0xaC0xem0tNyAwaC0xdjFoMXYtMXptMCAwaDd2LTJoLTd2MnptNi0xdjFoMnYtMWgtMnptMSAwaC03djJoN3YtMnptLTYgMXYtMWgtMnYxaDJ6IiBmaWxsPSIjMzMzIiBtYXNrPSJ1cmwoI2cpIi8+PG1hc2sgaWQ9ImYiIGZpbGw9IndoaXRlIj48cGF0aCBkPSJtMTQgMTB2LTVoLTF2NWgxeiIvPjwvbWFzaz48cGF0aCBkPSJtMTQgMTB2LTVoLTF2NWgxeiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Im0xNCA1aDF2LTFoLTF2MXptMCA1djFoMXYtMWgtMXptLTEgMGgtMXYxaDF2LTF6bTAtNXYtMWgtMXYxaDF6bTAgMHY1aDJ2LTVoLTJ6bTEgNGgtMXYyaDF2LTJ6bTAgMXYtNWgtMnY1aDJ6bS0xLTRoMXYtMmgtMXYyeiIgZmlsbD0iIzMzMyIgbWFzaz0idXJsKCNmKSIvPjxtYXNrIGlkPSJlIiBmaWxsPSJ3aGl0ZSI+PHBhdGggZD0ibTIgMTB2LTVoLTF2NWgxeiIvPjwvbWFzaz48cGF0aCBkPSJtMiAxMHYtNWgtMXY1aDF6IiBmaWxsPSIjMzMzIi8+PHBhdGggZD0ibTIgNWgxdi0xaC0xdjF6bTAgNXYxaDF2LTFoLTF6bS0xIDBoLTF2MWgxdi0xem0wLTV2LTFoLTF2MWgxem0wIDB2NWgydi01aC0yem0xIDRoLTF2Mmgxdi0yem0wIDF2LTVoLTJ2NWgyem0tMS00aDF2LTJoLTF2MnoiIGZpbGw9IiMzMzMiIG1hc2s9InVybCgjZSkiLz48cGF0aCBkPSJtMi41IDEuNWgtMnYyaDJ2LTJ6IiBzdHJva2U9IiMzMzMiLz48cGF0aCBkPSJtMTUuNSAxLjVoLTJ2Mmgydi0yeiIgc3Ryb2tlPSIjMzMzIi8+PHBhdGggZD0ibTIuNSAxMS41aC0ydjJoMnYtMnoiIHN0cm9rZT0iIzMzMyIvPjxwYXRoIGQ9Im0xNS41IDExLjVoLTJ2Mmgydi0yeiIgc3Ryb2tlPSIjMzMzIi8+PC9zdmc+Cg=="},975:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cG9seWdvbiBwb2ludHM9IjAgMCA2MCAwIDMwIDMwIiBzdHJva2Utd2lkdGg9IjAiLz48L3N2Zz4K"},916:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTQgMjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHN0eWxlPi5jbHMtMSwuY2xzLTIsLmNscy0ze2ZpbGw6bm9uZTtzdHJva2U6Izk5OTtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9LmNscy0ye3N0cm9rZS1kYXNoYXJyYXk6MC45NSAwLjk1O30uY2xzLTN7c3Ryb2tlLWRhc2hhcnJheToxIDE7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5qb2luX3BjX3VpPC90aXRsZT48ZyBkYXRhLW5hbWU9ImwgMiI+PGc+PGxpbmUgY2xhc3M9ImNscy0xIiB4MT0iNS41IiB4Mj0iNS41IiB5Mj0iLjUiLz48bGluZSBjbGFzcz0iY2xzLTIiIHgxPSI1LjUiIHgyPSI1LjUiIHkxPSIxLjQ1IiB5Mj0iMjAuMDIiLz48bGluZSBjbGFzcz0iY2xzLTEiIHgxPSI1LjUiIHgyPSI1LjUiIHkxPSIyMC41IiB5Mj0iMjEiLz48bGluZSBjbGFzcz0iY2xzLTMiIHgxPSI3IiB4Mj0iMTQiIHkxPSIxMC41IiB5Mj0iMTAuNSIvPjwvZz48L2c+PC9zdmc+Cg=="},5798:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTQgMjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHN0eWxlPi5jbHMtMSwuY2xzLTIsLmNscy0ze2ZpbGw6bm9uZTtzdHJva2U6Izk5OTtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9LmNscy0ye3N0cm9rZS1kYXNoYXJyYXk6MS4wNSAxLjA1O30uY2xzLTN7c3Ryb2tlLWRhc2hhcnJheToxIDE7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5qb2luYm90dG9tX3BjX3VpPC90aXRsZT48ZyBkYXRhLW5hbWU9ImwgMiI+PGc+PGxpbmUgY2xhc3M9ImNscy0xIiB4MT0iNS41IiB4Mj0iNS41IiB5Mj0iLjUiLz48bGluZSBjbGFzcz0iY2xzLTIiIHgxPSI1LjUiIHgyPSI1LjUiIHkxPSIxLjU1IiB5Mj0iMTEuNDgiLz48bGluZSBjbGFzcz0iY2xzLTMiIHgxPSI3IiB4Mj0iMTQiIHkxPSIxMC41IiB5Mj0iMTAuNSIvPjwvZz48L2c+PC9zdmc+Cg=="},6690:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTQgMjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOm5vbmU7c3Ryb2tlOiM5OTk7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLWRhc2hhcnJheToxIDE7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5qb2ludG9wX3BjPC90aXRsZT48ZyBkYXRhLW5hbWU9ImwgMiI+PGc+PGxpbmUgY2xhc3M9ImNscy0xIiB4MT0iNS41IiB4Mj0iMTQiIHkxPSIxMC41IiB5Mj0iMTAuNSIvPjxsaW5lIGNsYXNzPSJjbHMtMSIgeDE9IjUuNSIgeDI9IjUuNSIgeTE9IjEwLjUiIHkyPSIyMSIvPjwvZz48L2c+PC9zdmc+Cg=="},6931:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTQgMjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHN0eWxlPi5jbHMtMSwuY2xzLTJ7ZmlsbDpub25lO3N0cm9rZTojOTk5O3N0cm9rZS1taXRlcmxpbWl0OjEwO30uY2xzLTJ7c3Ryb2tlLWRhc2hhcnJheTowLjk1IDAuOTU7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5saW5lPC90aXRsZT48ZyBkYXRhLW5hbWU9IuWbvuWxgiAyIj48Zz48bGluZSBjbGFzcz0iY2xzLTEiIHgxPSI1LjUiIHgyPSI1LjUiIHkyPSIuNSIvPjxsaW5lIGNsYXNzPSJjbHMtMiIgeDE9IjUuNSIgeDI9IjUuNSIgeTE9IjEuNDUiIHkyPSIyMC4wMiIvPjxsaW5lIGNsYXNzPSJjbHMtMSIgeDE9IjUuNSIgeDI9IjUuNSIgeTE9IjIwLjUiIHkyPSIyMSIvPjwvZz48L2c+PC9zdmc+Cg=="},4290:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTQgMjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHN0eWxlPi5jbHMtMSwuY2xzLTIsLmNscy0ze2ZpbGw6bm9uZTtzdHJva2U6Izk5OTtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9LmNscy0ye3N0cm9rZS1kYXNoYXJyYXk6MC45NSAwLjk1O30uY2xzLTN7c3Ryb2tlLWRhc2hhcnJheToxIDE7fS5jbHMtNHtmaWxsOiM2NjY7fS5jbHMtNXtmaWxsOiNmZmY7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5taW51c19wYzwvdGl0bGU+PGcgZGF0YS1uYW1lPSJsIDIiPjxnPjxsaW5lIGNsYXNzPSJjbHMtMiIgeDE9IjUuNSIgeDI9IjUuNSIgeTI9IjIxIi8+PGxpbmUgY2xhc3M9ImNscy0zIiB4MT0iMTQiIHgyPSI1LjUiIHkxPSIxMC41IiB5Mj0iMTAuNSIvPjxyZWN0IGNsYXNzPSJjbHMtNCIgeD0iMSIgeT0iNiIgd2lkdGg9IjkiIGhlaWdodD0iOSIvPjxyZWN0IGNsYXNzPSJjbHMtNSIgeD0iMiIgeT0iNyIgd2lkdGg9IjciIGhlaWdodD0iNyIvPjxyZWN0IGNsYXNzPSJjbHMtNCIgeD0iMyIgeT0iMTAiIHdpZHRoPSI1IiBoZWlnaHQ9IjEiLz48L2c+PC9nPjwvc3ZnPgo="},7161:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTQgMjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHN0eWxlPi5jbHMtMSwuY2xzLTIsLmNscy0ze2ZpbGw6bm9uZTtzdHJva2U6Izk5OTtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9LmNscy0ye3N0cm9rZS1kYXNoYXJyYXk6MS4wNSAxLjA1O30uY2xzLTN7c3Ryb2tlLWRhc2hhcnJheToxIDE7fS5jbHMtNHtmaWxsOiM2NjY7fS5jbHMtNXtmaWxsOiNmZmY7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5taW51c2JvdHRvbV9wYzwvdGl0bGU+PGcgZGF0YS1uYW1lPSLlm77lsYIgMiI+PGc+PGxpbmUgY2xhc3M9ImNscy0xIiB4MT0iNS41IiB4Mj0iNS41IiB5Mj0iLjUiLz48bGluZSBjbGFzcz0iY2xzLTIiIHgxPSI1LjUiIHgyPSI1LjUiIHkxPSIxLjU1IiB5Mj0iMTEuNDgiLz48bGluZSBjbGFzcz0iY2xzLTEiIHgxPSI1LjUiIHgyPSI1LjUiIHkxPSIxMiIgeTI9IjEyLjUiLz48bGluZSBjbGFzcz0iY2xzLTMiIHgxPSIxNS41IiB4Mj0iNS41IiB5MT0iMTIuNSIgeTI9IjEyLjUiLz48cmVjdCBjbGFzcz0iY2xzLTQiIHk9IjYiIHdpZHRoPSI5IiBoZWlnaHQ9IjkiLz48cmVjdCBjbGFzcz0iY2xzLTUiIHg9IjEiIHk9IjciIHdpZHRoPSI3IiBoZWlnaHQ9IjciLz48cmVjdCBjbGFzcz0iY2xzLTQiIHg9IjIiIHk9IjEwIiB3aWR0aD0iNSIgaGVpZ2h0PSIxIi8+PC9nPjwvZz48L3N2Zz4K"},4281:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTQgMjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHN0eWxlPi5jbHMtMSwuY2xzLTIsLmNscy0ze2ZpbGw6bm9uZTtzdHJva2U6Izk5OTtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9LmNscy0ye3N0cm9rZS1kYXNoYXJyYXk6MC45NSAwLjk1O30uY2xzLTN7c3Ryb2tlLWRhc2hhcnJheToxIDE7fS5jbHMtNHtmaWxsOiM2NjY7fS5jbHMtNXtmaWxsOiNmZmY7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5wbHVnX3BjPC90aXRsZT48ZyBkYXRhLW5hbWU9IuWbvuWxgiAyIj48Zz48bGluZSBjbGFzcz0iY2xzLTIiIHgxPSI1LjUiIHgyPSI1LjUiIHkyPSIyMSIvPjxsaW5lIGNsYXNzPSJjbHMtMyIgeDE9IjE0IiB4Mj0iNSIgeTE9IjEwLjUiIHkyPSIxMC41Ii8+PHJlY3QgY2xhc3M9ImNscy00IiB4PSIxIiB5PSI2IiB3aWR0aD0iOSIgaGVpZ2h0PSI5Ii8+PHJlY3QgY2xhc3M9ImNscy01IiB4PSIyIiB5PSI3IiB3aWR0aD0iNyIgaGVpZ2h0PSI3Ii8+PHJlY3QgY2xhc3M9ImNscy00IiB4PSIzIiB5PSIxMCIgd2lkdGg9IjUiIGhlaWdodD0iMSIvPjxyZWN0IGNsYXNzPSJjbHMtNCIgeD0iNSIgeT0iOCIgd2lkdGg9IjEiIGhlaWdodD0iNSIvPjwvZz48L2c+PC9zdmc+Cg=="},9775:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTQgMjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHN0eWxlPi5jbHMtMSwuY2xzLTIsLmNscy0ze2ZpbGw6bm9uZTtzdHJva2U6Izk5OTtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9LmNscy0ye3N0cm9rZS1kYXNoYXJyYXk6MS4wNSAxLjA1O30uY2xzLTN7c3Ryb2tlLWRhc2hhcnJheToxIDE7fS5jbHMtNHtmaWxsOiM2NjY7fS5jbHMtNXtmaWxsOiNmZmY7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5wbHVnYm90dG9tPC90aXRsZT48ZyBkYXRhLW5hbWU9IuWbvuWxgiAyIj48Zz48bGluZSBjbGFzcz0iY2xzLTEiIHgxPSI1LjUiIHgyPSI1LjUiIHkyPSIuNSIvPjxsaW5lIGNsYXNzPSJjbHMtMiIgeDE9IjUuNSIgeDI9IjUuNSIgeTE9IjEuNTUiIHkyPSIxMS40OCIvPjxsaW5lIGNsYXNzPSJjbHMtMSIgeDE9IjUuNSIgeDI9IjUuNSIgeTE9IjEyIiB5Mj0iMTIuNSIvPjxsaW5lIGNsYXNzPSJjbHMtMyIgeDE9IjE1LjUiIHgyPSI0LjUiIHkxPSIxMC41IiB5Mj0iMTAuNSIvPjxyZWN0IGNsYXNzPSJjbHMtNCIgeD0iMSIgeT0iNiIgd2lkdGg9IjkiIGhlaWdodD0iOSIvPjxyZWN0IGNsYXNzPSJjbHMtNSIgeD0iMiIgeT0iNyIgd2lkdGg9IjciIGhlaWdodD0iNyIvPjxyZWN0IGNsYXNzPSJjbHMtNCIgeD0iMyIgeT0iMTAiIHdpZHRoPSI1IiBoZWlnaHQ9IjEiLz48cmVjdCBjbGFzcz0iY2xzLTQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02IDE1KSByb3RhdGUoLTkwKSIgeD0iMiIgeT0iMTEiIHdpZHRoPSI1IiBoZWlnaHQ9IjEiLz48L2c+PC9nPjwvc3ZnPgo="},6402:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTEiIGhlaWdodD0iMTAiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxMSAxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtMi41IDUuNSA2IDQuNXYtMTBsLTYgNS41eiIgZmlsbD0iIzMzMyIvPjwvc3ZnPgo="},9322:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCA1MCA1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Zz48YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIGF0dHJpYnV0ZVR5cGU9InhtbCIgZHVyPSIxcyIgZnJvbT0iMCAyNSAyNSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHRvPSIzNjAgMjUgMjUiIHR5cGU9InJvdGF0ZSIvPjxjaXJjbGUgY3g9IjE3IiBjeT0iMTUiIHI9IjUiIGZpbGw9IiNFN0I3RTgiLz48Y2lyY2xlIGN4PSIzNiIgY3k9IjE4IiByPSI1IiBmaWxsPSIjQ0Q4RENFIi8+PGNpcmNsZSBjeD0iMTUiIGN5PSIzMiIgcj0iNSIgZmlsbD0iI0MxNzVDMiIvPjxjaXJjbGUgY3g9IjMzIiBjeT0iMzYiIHI9IjUiIGZpbGw9IiM5NjQ5OTgiLz48L2c+PC9zdmc+Cg=="},4052:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNy41IDguNXYtMmMwLTEuMTA0NiAwLjg5NTQzLTIgMi0yaDVtMCAwLTIuNS0yLjVtMi41IDIuNS0yLjUgMi41IiBzdHJva2U9InVybCgjYikiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjxwYXRoIGQ9Im03IDEuNWgtNC41Yy0wLjU1MjI4IDAtMSAwLjQ0NzcyLTEgMXYxMWMwIDAuNTUyMyAwLjQ0NzcyIDEgMSAxaDExYzAuNTUyMyAwIDEtMC40NDc3IDEtMXYtMy41IiBzdHJva2U9InVybCgjYSkiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPjxkZWZzPjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgeDE9IjExIiB4Mj0iMTEiIHkxPSIyIiB5Mj0iOC41IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agc3RvcC1jb2xvcj0iIzI0N0VGOSIgb2Zmc2V0PSIwIi8+PHN0b3Agc3RvcC1jb2xvcj0iI0I3NDRFRCIgb2Zmc2V0PSIxIi8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9ImEiIHgxPSI4IiB4Mj0iOCIgeTE9IjEuNSIgeTI9IjE0LjUiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBzdG9wLWNvbG9yPSIjMjQ3RUY5IiBvZmZzZXQ9IjAiLz48c3RvcCBzdG9wLWNvbG9yPSIjQjc0NEVEIiBvZmZzZXQ9IjEiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48L3N2Zz4K"},5767:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cG9seWdvbiBwb2ludHM9IjAgMCA2MCAwIDMwIDMwIiBmaWxsPSJIaWdobGlnaHRUZXh0IiBzdHJva2Utd2lkdGg9IjAiLz48L3N2Zz4K"},9456:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTUgMUgyVjJIMTVWMVoiIGZpbGw9IiMzMzMiLz48cGF0aCBkPSJtOSA5LjVjMC0wLjI3NjE0LTAuMjIzODYtMC41LTAuNS0wLjVzLTAuNSAwLjIyMzg2LTAuNSAwLjV2NGMwIDAuMjc2MSAwLjIyMzg2IDAuNSAwLjUgMC41czAuNS0wLjIyMzkgMC41LTAuNXYtNHoiIGZpbGw9IiMzMzMiLz48cGF0aCBkPSJtOS41IDEzaC0yYy0wLjI3NjE0IDAtMC41IDAuMjIzOS0wLjUgMC41czAuMjIzODYgMC41IDAuNSAwLjVoMmMwLjI3NjE0IDAgMC41LTAuMjIzOSAwLjUtMC41cy0wLjIyMzg2LTAuNS0wLjUtMC41eiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Im0zIDEuNWMwLTAuMjc2MTQtMC4yMjM4Ni0wLjUtMC41LTAuNXMtMC41IDAuMjIzODYtMC41IDAuNXYwLjdjMCAwLjI3NjE0IDAuMjIzODYgMC41IDAuNSAwLjVzMC41LTAuMjIzODYgMC41LTAuNXYtMC43eiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Im0xNSAxLjhjMC0wLjI3NjE0LTAuMjIzOS0wLjUtMC41LTAuNXMtMC41IDAuMjIzODYtMC41IDAuNXYwLjdjMCAwLjI3NjE0IDAuMjIzOSAwLjUgMC41IDAuNXMwLjUtMC4yMjM4NiAwLjUtMC41di0wLjd6IiBmaWxsPSIjMzMzIi8+PHBhdGggZD0ibTE0LjUgN2gtMTJjLTAuMjc2MTQgMC0wLjUgMC4yMjM4Ni0wLjUgMC41czAuMjIzODYgMC41IDAuNSAwLjVoMTJjMC4yNzYxIDAgMC41LTAuMjIzODYgMC41LTAuNXMtMC4yMjM5LTAuNS0wLjUtMC41eiIgZmlsbD0iI0ZBQjEwQiIvPjxwYXRoIGQ9Im05IDEuNWMwLTAuMjc2MTQtMC4yMjM4Ni0wLjUtMC41LTAuNXMtMC41IDAuMjIzODYtMC41IDAuNXY0YzAgMC4yNzYxNCAwLjIyMzg2IDAuNSAwLjUgMC41czAuNS0wLjIyMzg2IDAuNS0wLjV2LTR6IiBmaWxsPSIjMzMzIi8+PC9zdmc+Cg=="},4855:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBjbGlwLXBhdGg9InVybCgjYikiPjxwYXRoIGQ9Im0xNC41IDE0aC0xM2MtMC4yNzYxNCAwLTAuNSAwLjIyMzktMC41IDAuNXMwLjIyMzg2IDAuNSAwLjUgMC41aDEzYzAuMjc2MSAwIDAuNS0wLjIyMzkgMC41LTAuNXMtMC4yMjM5LTAuNS0wLjUtMC41eiIgZmlsbD0iI0ZBQjEwQiIvPjxwYXRoIGQ9Im01LjU2NTQgMTEuNjk3LTAuOTAwOSAwLjc4MTVoLTIuNDIyNmwyLjA5MzItMi4wMTE4IDEuMjMwMyAxLjIzMDN6IiBmaWxsPSIjRkFCMTBCIi8+PHBhdGggZD0ibTIuMjQxOSAxMi40NzhoMS4yNDE4IDEuMTgwOS0xZS01IC0yLjQyMjZ6IiBmaWxsPSIjMzMzIiBzdHJva2U9IiMzMzMiLz48cGF0aCBkPSJtMTQuOTQgMy4wNjEyLTIuMDAwNC0yLjAwMDRjLTAuMTk1My0wLjE5NTI2LTAuNTExOS0wLjE5NTI2LTAuNzA3MiAwbC04LjE3MTMgOC4xNzEzYy0wLjE5NTI2IDAuMTk1MjctMC4xOTUyNiAwLjUxMTg1IDAgMC43MDcxMWwyLjAwMDQgMi4wMDA0YzAuMTk1MjcgMC4xOTUyIDAuNTExODUgMC4xOTUyIDAuNzA3MTEgMGw4LjE3MTQtOC4xNzE0YzAuMTk1Mi0wLjE5NTI2IDAuMTk1Mi0wLjUxMTg0IDAtMC43MDcxMXoiIHN0cm9rZT0iIzMzMyIvPjxtYXNrIGlkPSJhIiBmaWxsPSJ3aGl0ZSI+PHBhdGggZD0ibTguMjkyOSAxMSAwLjcwNzExLTAuNzA3MS0yLjgyODQtMi44Mjg1LTAuNzA3MSAwLjcwNzExIDIuODI4NCAyLjgyODR6Ii8+PC9tYXNrPjxwYXRoIGQ9Im04LjI5MjkgMTEgMC43MDcxMS0wLjcwNzEtMi44Mjg0LTIuODI4NS0wLjcwNzEgMC43MDcxMSAyLjgyODQgMi44Mjg0eiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Im05IDEwLjI5MyAwLjcwNzExIDAuNzA3MSAwLjcwNzA5LTAuNzA3MS0wLjcwNzA5LTAuNzA3MTQtMC43MDcxMSAwLjcwNzE0em0tMC43MDcxMSAwLjcwNzEtMC43MDcxIDAuNzA3MSAwLjcwNzEgMC43MDcxIDAuNzA3MTEtMC43MDcxLTAuNzA3MTEtMC43MDcxem0tMi44Mjg0LTIuODI4NC0wLjcwNzExLTAuNzA3MTEtMC43MDcxMSAwLjcwNzExIDAuNzA3MTEgMC43MDcxMSAwLjcwNzExLTAuNzA3MTF6bTAuNzA3MS0wLjcwNzExIDAuNzA3MTEtMC43MDcxMS0wLjcwNzExLTAuNzA3MS0wLjcwNzEgMC43MDcxIDAuNzA3MSAwLjcwNzExem0yLjEyMTMgMi4xMjEzLTAuNzA3MSAwLjcwNzE0IDEuNDE0MiAxLjQxNDIgMC43MDcxMS0wLjcwNzEtMS40MTQyLTEuNDE0MnptMC43MDcxMSAwLjcwNzE0LTIuODI4NC0yLjgyODUtMS40MTQyIDEuNDE0MiAyLjgyODQgMi44Mjg0IDEuNDE0Mi0xLjQxNDJ6bS0yLjgyODQtMS40MTQyIDAuNzA3MTEtMC43MDcxMS0xLjQxNDItMS40MTQyLTAuNzA3MTEgMC43MDcxMSAxLjQxNDIgMS40MTQyem0tMC43MDcxLTAuNzA3MTEgMi44Mjg0IDIuODI4NCAxLjQxNDItMS40MTQyLTIuODI4NC0yLjgyODQtMS40MTQyIDEuNDE0MnoiIGZpbGw9IiMzMzMiIG1hc2s9InVybCgjYSkiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJiIj48cmVjdCB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9IiNmZmYiLz48L2NsaXBQYXRoPjwvZGVmcz48L3N2Zz4K"},2142:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTUgMUgyVjJIMTVWMVoiIGZpbGw9IiMzMzMiLz48cGF0aCBkPSJNOSAxSDhWMTJIOVYxWiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Im05LjUgMTJoLTJjLTAuMjc2MTQgMC0wLjUgMC4yMjM5LTAuNSAwLjVzMC4yMjM4NiAwLjUgMC41IDAuNWgyYzAuMjc2MTQgMCAwLjUtMC4yMjM5IDAuNS0wLjVzLTAuMjIzODYtMC41LTAuNS0wLjV6IiBmaWxsPSIjMzMzIi8+PHBhdGggZD0ibTMgMS41YzAtMC4yNzYxNC0wLjIyMzg2LTAuNS0wLjUtMC41cy0wLjUgMC4yMjM4Ni0wLjUgMC41djAuN2MwIDAuMjc2MTQgMC4yMjM4NiAwLjUgMC41IDAuNXMwLjUtMC4yMjM4NiAwLjUtMC41di0wLjd6IiBmaWxsPSIjMzMzIi8+PHBhdGggZD0ibTE1IDEuOGMwLTAuMjc2MTQtMC4yMjM5LTAuNS0wLjUtMC41cy0wLjUgMC4yMjM4Ni0wLjUgMC41djAuN2MwIDAuMjc2MTQgMC4yMjM5IDAuNSAwLjUgMC41czAuNS0wLjIyMzg2IDAuNS0wLjV2LTAuN3oiIGZpbGw9IiMzMzMiLz48cGF0aCBkPSJtMTQuNSAxNGgtMTJjLTAuMjc2MTQgMC0wLjUgMC4yMjM5LTAuNSAwLjVzMC4yMjM4NiAwLjUgMC41IDAuNWgxMmMwLjI3NjEgMCAwLjUtMC4yMjM5IDAuNS0wLjVzLTAuMjIzOS0wLjUtMC41LTAuNXoiIGZpbGw9IiNGQUIxMEIiLz48L3N2Zz4K"},3434:e=>{e.exports="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA80lEQVR42qXToU4DQRDG8V+BVNRUIXH3DCVBtTgEpMGRuj5CFQFPUH2EOoIjFxB1xZH0Hc4hqzCImsNMk025KyX3JZPb/c/st5PJXqssS010tFkMr4b/Opi/5uBAQ20b9PCObkVtN3K9XQYP6OMF7YS3g/WjptbgBgXOMUMrYhasiJrfQwytcIEPjPAZfJTkVrsMxC2XWOA22Hew4q8hbrTENNlPg9nX4BSTZD8JtpdBhjd08BjRCZbVvsTQMebxfcJd8JMY5Bxn6SC3O3iOWxYYo4wYB8uipraDexziGuuEr4PlSVeVBksMagb7VZVr/DP9AJT5MPf0gyv5AAAAAElFTkSuQmCC"},8672:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyBkYXRhLW5hbWU9IuWbvuWxgiAxIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiM1NTU7fS5jbHMtMntmaWxsOm5vbmU7c3Ryb2tlOiM1NTU7c3Ryb2tlLW1pdGVybGltaXQ6MTA7fTwvc3R5bGU+PC9kZWZzPjxnPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTIwLjQsMTMuNjJhLjYuNiwwLDAsMC0uODIuMTgsOSw5LDAsMCwxLTcuNjYsNCw5LjA2LDkuMDYsMCwwLDEtNy42Ni00LC41OS41OSwwLDAsMC0uODItLjIxLjY0LjY0LDAsMCwwLS4yMi4yNC43My43MywwLDAsMC0uMDcuMjR2LjA3YS42My42MywwLDAsMCwuMS4zQTEwLjI3LDEwLjI3LDAsMCwwLDExLjkyLDE5YTEwLjI2LDEwLjI2LDAsMCwwLDguNjctNC41OC42MS42MSwwLDAsMC0uMTktLjgyWiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTIwLjMzLDE0LjI1YS42MS42MSwwLDAsMCwuMi0uODIsMTAuMjgsMTAuMjgsMCwwLDAtOC42OC00LjU4LDEwLjI3LDEwLjI3LDAsMCwwLTguNjcsNC41OC42Mi42MiwwLDAsMC0uMDkuM3YuMDdhLjUzLjUzLDAsMCwwLC4wNi4yNC42NC42NCwwLDAsMCwuMjIuMjQuNi42LDAsMCwwLC44My0uMjEsOSw5LDAsMCwxLDcuNjUtNCw5LDksMCwwLDEsNy42Niw0LC42MS42MSwwLDAsMCwuODIuMThaIi8+PHBhdGggY2xhc3M9ImNscy0xIiBkPSJNMTIuMDUsMi45MmEuNjUuNjUsMCwwLDAtLjY1LjY2VjYuMTlhLjY1LjY1LDAsMSwwLDEuMywwVjMuNThBLjY1LjY1LDAsMCwwLDEyLjA1LDIuOTJaTTQuNjYsNmEuNjMuNjMsMCwwLDAtLjQ2LjIuNjQuNjQsMCwwLDAsMCwuOTJMNi4wNSw5YS42Mi42MiwwLDAsMCwuNDYuMTlBLjY1LjY1LDAsMCwwLDcsOSwuNjcuNjcsMCwwLDAsNyw4TDUuMTIsNi4xOEEuNjUuNjUsMCwwLDAsNC42Niw2Wk0xOS40NCw2YS42Ni42NiwwLDAsMC0uNDYuMkwxNy4xMyw4YS42Ny42NywwLDAsMCwwLC45My42Ni42NiwwLDAsMCwuOTMsMEwxOS45LDcuMWEuNjQuNjQsMCwwLDAsMC0uOTJBLjYzLjYzLDAsMCwwLDE5LjQ0LDZaIi8+PGNpcmNsZSBjbGFzcz0iY2xzLTIiIGN4PSIxMi4xIiBjeT0iMTMuOTciIHI9IjIiLz48L2c+PC9zdmc+Cg=="},4471:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyBkYXRhLW5hbWU9IuWbvuWxgiAxIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiM1NTU7fTwvc3R5bGU+PC9kZWZzPjxnPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTIwLjQ5LDguMzVhLjU5LjU5LDAsMCwwLS44Mi4xNyw5LDksMCwwLDEtNy42Niw0LDkuMDUsOS4wNSwwLDAsMS03LjY2LTQsLjYuNiwwLDAsMC0uODItLjIuNTYuNTYsMCwwLDAtLjIyLjI0LjUxLjUxLDAsMCwwLS4wNy4yNHYuMDdhLjU2LjU2LDAsMCwwLC4xLjI5QTEwLjI0LDEwLjI0LDAsMCwwLDEyLDEzLjc1YTEwLjI2LDEwLjI2LDAsMCwwLDguNjctNC41OS42LjYsMCwwLDAtLjE5LS44MVoiLz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik04LjkyLDE2LjUxaC0uMWEuNTkuNTksMCwwLDEtLjQ5LS42OWwuNDctMi42N2EuNi42LDAsMSwxLDEuMTguMkw5LjUxLDE2YS42LjYsMCwwLDEtLjU5LjQ5bTYuMTEsMGEuNjEuNjEsMCwwLDEtLjU5LS40OGwtLjU1LTIuNjdhLjYuNiwwLDAsMSwuNDctLjcxLjYyLjYyLDAsMCwxLC43MS40N2wuNTUsMi42N2EuNjEuNjEsMCwwLDEtLjQ3LjcxSDE1bS0xMC4xOC0yYS40NS40NSwwLDAsMS0uMiwwLC41OS41OSwwLDAsMS0uMzYtLjc2aDBsMS0yLjY3YS42LjYsMCwxLDEsMS4xMy40MWwtMSwyLjY4YS42LjYsMCwwLDEtLjU2LjM5TTE5LjEsMTVhLjYuNiwwLDAsMS0uNTYtLjM4bC0xLjA2LTIuNjhhLjYuNiwwLDAsMSwxLjEyLS40NGwxLjA2LDIuNjdhLjU5LjU5LDAsMCwxLS4wNy41Ni41OC41OCwwLDAsMS0uNDkuMjciLz48L2c+PC9zdmc+Cg=="},8488:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNNCA0SDVMMyAxMUgyTDQgNFoiIGZpbGw9IiMzMzMiLz48cGF0aCBkPSJNNiA4SDNWOUg2VjhaIiBmaWxsPSIjMzMzIi8+PHBhdGggZD0ibTExLjAwMSA0aC0xdjdoMXYtN3oiIGZpbGw9IiMzMzMiLz48cGF0aCBkPSJtMTIuMDAxIDhoLTJ2LTFoMmMwLjI2NTIgMCAwLjUxOTUtMC4xMDU0MyAwLjcwNy0wLjI5Mjk3czAuMjkzLTAuNDQxODEgMC4yOTMtMC43MDcwMy0wLjEwNTUtMC41MTk0OS0wLjI5My0wLjcwNzAzLTAuNDQxOC0wLjI5Mjk3LTAuNzA3LTAuMjkyOTdoLTJ2LTFoMmMwLjUzMDQgMCAxLjAzOSAwLjIxMDg2IDEuNDE0IDAuNTg1OTQgMC4zNzUxIDAuMzc1MDcgMC41ODYgMC44ODM2MyAwLjU4NiAxLjQxNDFzLTAuMjEwOSAxLjAzOS0wLjU4NiAxLjQxNDFjLTAuMzc1IDAuMzc1MDgtMC44ODM2IDAuNTg1OTQtMS40MTQgMC41ODU5NHoiIGZpbGw9IiMzMzMiLz48cGF0aCBkPSJNNSA0SDRMNiAxMUg3TDUgNFoiIGZpbGw9IiMzMzMiLz48cGF0aCBkPSJtMTIuMDAxIDExaC0ydi0xaDJjMC4yNjUyIDAgMC41MTk1LTAuMTA1NDMgMC43MDctMC4yOTI5N3MwLjI5My0wLjQ0MTgxIDAuMjkzLTAuNzA3MDMtMC4xMDU1LTAuNTE5NDktMC4yOTMtMC43MDcwMy0wLjQ0MTgtMC4yOTI5Ny0wLjcwNy0wLjI5Mjk3aC0ydi0xaDJjMC41MzA0IDAgMS4wMzkgMC4yMTA4NiAxLjQxNCAwLjU4NTk0IDAuMzc1MSAwLjM3NTA3IDAuNTg2IDAuODgzNjMgMC41ODYgMS40MTQxcy0wLjIxMDkgMS4wMzktMC41ODYgMS40MTQxYy0wLjM3NSAwLjM3NS0wLjg4MzYgMC41ODU5LTEuNDE0IDAuNTg1OXoiIGZpbGw9IiMzMzMiLz48cGF0aCBkPSJtMTQgMi41aC0xMmMtMC44Mjg0MyAwLTEuNSAwLjY3MTU3LTEuNSAxLjV2N2MwIDAuODI4NCAwLjY3MTU3IDEuNSAxLjUgMS41aDEyYzAuODI4NCAwIDEuNS0wLjY3MTYgMS41LTEuNXYtN2MwLTAuODI4NDMtMC42NzE2LTEuNS0xLjUtMS41eiIgc3Ryb2tlPSIjMzMzIi8+PHBhdGggZD0iTTkgM0g4VjEzSDlWM1oiIGZpbGw9IiMzMzMiLz48L3N2Zz4K"},3231:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtMTIuNTQ2IDIuODg4OS05Ljg5OTUgOS44OTk1Yy0wLjE5NTI2IDAuMTk1My0wLjE5NTI2IDAuNTExOSAwIDAuNzA3MSAwLjE5NTI3IDAuMTk1MyAwLjUxMTg1IDAuMTk1MyAwLjcwNzExIDBsOS44OTk1LTkuODk5NWMwLjE5NTItMC4xOTUyNyAwLjE5NTItMC41MTE4NSAwLTAuNzA3MTEtMC4xOTUzLTAuMTk1MjYtMC41MTE5LTAuMTk1MjYtMC43MDcxIDB6IiBmaWxsPSIjMzMzIi8+PHBhdGggZD0ibTIuNjQ2IDMuNTk2IDkuODk5NSA5Ljg5OTRjMC4xOTUzIDAuMTk1MyAwLjUxMTggMC4xOTUzIDAuNzA3MSAwIDAuMTk1My0wLjE5NTIgMC4xOTUzLTAuNTExOCAwLTAuNzA3MWwtOS44OTk1LTkuODk5NWMtMC4xOTUyNy0wLjE5NTI2LTAuNTExODUtMC4xOTUyNi0wLjcwNzExIDAtMC4xOTUyNiAwLjE5NTI3LTAuMTk1MjYgMC41MTE4NSAwIDAuNzA3MTF6IiBmaWxsPSIjMzMzIi8+PC9zdmc+Cg=="},6627:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNDE2IC0yNzEpIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MTYgMjcxKSIgZmlsbD0iIzcwNzA3MCIgb3BhY2l0eT0iMCIgc3Ryb2tlPSIjNzA3MDcwIiBkYXRhLW5hbWU9IuefqeW9oiAxNTkwMiI+PHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBzdHJva2U9Im5vbmUiLz48cmVjdCB4PSIuNSIgeT0iLjUiIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgZmlsbD0ibm9uZSIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MjYgMjc5KSIgZmlsbD0iIzcwNzA3MCIgc3Ryb2tlPSIjNzA3MDcwIiBkYXRhLW5hbWU9IuefqeW9oiAxNTkwNCI+PHJlY3Qgd2lkdGg9IjUiIGhlaWdodD0iMSIgc3Ryb2tlPSJub25lIi8+PHJlY3QgeD0iLjUiIHk9Ii41IiB3aWR0aD0iNCIgZmlsbD0ibm9uZSIvPjwvZz48cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MTYgMjcxKSIgZD0iTTQsMUg1LjQ2M0wxLjQ0OSwxNEgwWiIgZmlsbD0iIzcwNzA3MCIgZGF0YS1uYW1lPSLot6/lvoQgODk5NyIvPjxwYXRoIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQyMCAyNzEpIiBkPSJNMiwxSC41NTZMNC41MiwxNEg2WiIgZmlsbD0iIzcwNzA3MCIgZGF0YS1uYW1lPSLot6/lvoQgODk5OCIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQxOCAyNzkpIiBmaWxsPSIjZmZmIiBkYXRhLW5hbWU9Iui3r+W+hCA5MDE1Ij48cGF0aCBkPSJtNS41IDAuOTYwOTRoLTV2LTAuNDYwOTRoNXYwLjQ2MDk0eiIvPjxwYXRoIGQ9Im0wLTEuMTkyMWUtNmg2djEuNDYwOWgtNnYtMS40NjA5eiIgZmlsbD0iIzcwNzA3MCIvPjwvZz48L2c+PC9zdmc+Cg=="},5080:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBkYXRhLW5hbWU9IkZyb20gZmlsZSI+PGcgZmlsbD0iI2ZmZiIgb3BhY2l0eT0iMCIgc3Ryb2tlPSIjNzA3MDcwIiBkYXRhLW5hbWU9IuefqeW9oiAxMzUyMCI+PHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBzdHJva2U9Im5vbmUiLz48cmVjdCB4PSIuNSIgeT0iLjUiIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgZmlsbD0ibm9uZSIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyIDQpIiBmaWxsPSJub25lIiBzdHJva2U9IiM3MDcwNzAiIGRhdGEtbmFtZT0i55+p5b2iIDEzODM5Ij48cGF0aCBkPSJtMCAwaDEydjlhMiAyIDAgMCAxLTIgMmgtOGEyIDIgMCAwIDEtMi0ydi05eiIgc3Ryb2tlPSJub25lIi8+PHBhdGggZD0iTTEsLjVIMTFhLjUuNSwwLDAsMSwuNS41VjlBMS41LDEuNSwwLDAsMSwxMCwxMC41SDJBMS41LDEuNSwwLDAsMSwuNSw5VjFBLjUuNSwwLDAsMSwxLC41WiIgZmlsbD0ibm9uZSIvPjwvZz48cmVjdCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxIDIpIiB3aWR0aD0iMTQiIGhlaWdodD0iMSIgcng9Ii41IiBmaWxsPSIjNzA3MDcwIiBkYXRhLW5hbWU9IuefqeW9oiAxMzg0MCIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUpIiBmaWxsPSJub25lIiBzdHJva2U9IiM3MDcwNzAiIGRhdGEtbmFtZT0i55+p5b2iIDEzODQxIj48cmVjdCB3aWR0aD0iNiIgaGVpZ2h0PSIzIiByeD0iMSIgc3Ryb2tlPSJub25lIi8+PHJlY3QgeD0iLjUiIHk9Ii41IiB3aWR0aD0iNSIgaGVpZ2h0PSIyIiByeD0iLjUiIGZpbGw9Im5vbmUiLz48L2c+PHJlY3QgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNiA3KSIgd2lkdGg9IjEiIGhlaWdodD0iNSIgcng9Ii41IiBmaWxsPSIjNzA3MDcwIiBkYXRhLW5hbWU9IuefqeW9oiAxMzg0MiIvPjxyZWN0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDkgNykiIHdpZHRoPSIxIiBoZWlnaHQ9IjUiIHJ4PSIuNSIgZmlsbD0iIzcwNzA3MCIgZGF0YS1uYW1lPSLnn6nlvaIgMTM4NDMiLz48L2c+PC9zdmc+Cg=="},2272:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNy41IDEyYzIuNDg1MyAwIDQuNS0yLjAxNDcgNC41LTQuNXMtMi4wMTQ3LTQuNS00LjUtNC41LTQuNSAyLjAxNDctNC41IDQuNSAyLjAxNDcgNC41IDQuNSA0LjV6IiBmaWxsPSIjMzMzIi8+PC9zdmc+Cg=="},329:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNDE2IC0yNzEpIiBkYXRhLW5hbWU9IkErIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MTYgMjcxKSIgZmlsbD0iIzcwNzA3MCIgb3BhY2l0eT0iMCIgc3Ryb2tlPSIjNzA3MDcwIiBkYXRhLW5hbWU9IuefqeW9oiAxNTkwMiI+PHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBzdHJva2U9Im5vbmUiLz48cmVjdCB4PSIuNSIgeT0iLjUiIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgZmlsbD0ibm9uZSIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MjYgMjc5KSIgZmlsbD0iIzcwNzA3MCIgc3Ryb2tlPSIjNzA3MDcwIiBkYXRhLW5hbWU9IuefqeW9oiAxNTkwNCI+PHJlY3Qgd2lkdGg9IjUiIGhlaWdodD0iMSIgc3Ryb2tlPSJub25lIi8+PHJlY3QgeD0iLjUiIHk9Ii41IiB3aWR0aD0iNCIgZmlsbD0ibm9uZSIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MjggMjc3KSIgZmlsbD0iIzcwNzA3MCIgc3Ryb2tlPSIjNzA3MDcwIiBkYXRhLW5hbWU9IuefqeW9oiAxNTkwNSI+PHJlY3Qgd2lkdGg9IjEiIGhlaWdodD0iNSIgc3Ryb2tlPSJub25lIi8+PHJlY3QgeD0iLjUiIHk9Ii41IiBoZWlnaHQ9IjQiIGZpbGw9Im5vbmUiLz48L2c+PHBhdGggdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDE2IDI3MSkiIGQ9Ik00LDFINS40NjNMMS40NDksMTRIMFoiIGZpbGw9IiM3MDcwNzAiIGRhdGEtbmFtZT0i6Lev5b6EIDg5OTciLz48cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MjAgMjcxKSIgZD0iTTIsMUguNTU2TDQuNTIsMTRINloiIGZpbGw9IiM3MDcwNzAiIGRhdGEtbmFtZT0i6Lev5b6EIDg5OTgiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MTggMjc5KSIgZmlsbD0iI2ZmZiIgZGF0YS1uYW1lPSLot6/lvoQgOTAxNSI+PHBhdGggZD0ibTUuNSAwLjk2MDk0aC01di0wLjQ2MDk0aDV2MC40NjA5NHoiLz48cGF0aCBkPSJtMC0xLjE5MjFlLTZoNnYxLjQ2MDloLTZ2LTEuNDYwOXoiIGZpbGw9IiM3MDcwNzAiLz48L2c+PC9nPjwvc3ZnPgo="},1759:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtMTQuNSA3aC0xM2MtMC4yNzYxNCAwLTAuNSAwLjIyMzg2LTAuNSAwLjVzMC4yMjM4NiAwLjUgMC41IDAuNWgxM2MwLjI3NjEgMCAwLjUtMC4yMjM4NiAwLjUtMC41cy0wLjIyMzktMC41LTAuNS0wLjV6IiBmaWxsPSIjMzMzIi8+PC9zdmc+Cg=="},5906:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTE5IC0yNzEpIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MTkgMjcxKSIgZmlsbD0ibm9uZSIgb3BhY2l0eT0iMCIgc3Ryb2tlPSIjNzA3MDcwIiBkYXRhLW5hbWU9IuakreWchiAyOTgiPjxjaXJjbGUgY3g9IjgiIGN5PSI4IiByPSI4IiBzdHJva2U9Im5vbmUiLz48Y2lyY2xlIGN4PSI4IiBjeT0iOCIgcj0iNy41IiBmaWxsPSJub25lIi8+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQwIDk4KSIgZmlsbD0iIzcwNzA3MCIgZGF0YS1uYW1lPSLnu4QgMTM0MjciPjxjaXJjbGUgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDgxIDE4MCkiIGN4PSIxLjUiIGN5PSIxLjUiIHI9IjEuNSIgZGF0YS1uYW1lPSLmpK3lnIYgNiIvPjxjaXJjbGUgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDg2IDE4MCkiIGN4PSIxLjUiIGN5PSIxLjUiIHI9IjEuNSIgZGF0YS1uYW1lPSLmpK3lnIYgNyIvPjxjaXJjbGUgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDkxIDE4MCkiIGN4PSIxLjUiIGN5PSIxLjUiIHI9IjEuNSIgZGF0YS1uYW1lPSLmpK3lnIYgOCIvPjwvZz48L2c+PC9zdmc+Cg=="},383:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtMTIgMi41aC04Yy0wLjgyODQzIDAtMS41IDAuNjcxNTctMS41IDEuNXY4YzAgMC44Mjg0IDAuNjcxNTcgMS41IDEuNSAxLjVoOGMwLjgyODQgMCAxLjUtMC42NzE2IDEuNS0xLjV2LThjMC0wLjgyODQzLTAuNjcxNi0xLjUtMS41LTEuNXoiIHN0cm9rZT0iIzMzMyIvPjwvc3ZnPgo="},9416:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtMTQuNjQ2IDIuODktOS4xOTI0IDkuMTkyNGMtMC4xOTUyNiAwLjE5NTMtMC4xOTUyNiAwLjUxMTkgMCAwLjcwNzEgMC4xOTUyNiAwLjE5NTMgMC41MTE4NCAwLjE5NTMgMC43MDcxMSAwbDkuMTkyNC05LjE5MjRjMC4xOTUzLTAuMTk1MjYgMC4xOTUzLTAuNTExODUgMC0wLjcwNzExLTAuMTk1Mi0wLjE5NTI2LTAuNTExOC0wLjE5NTI2LTAuNzA3MSAweiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Im02LjE2MTIgMTIuMDgyLTQuMjQyNi00LjI0MjdjLTAuMTk1MjctMC4xOTUyNy0wLjUxMTg1LTAuMTk1MjctMC43MDcxMSAwLTAuMTk1MjYgMC4xOTUyNi0wLjE5NTI2IDAuNTExODQgMCAwLjcwNzFsNC4yNDI2IDQuMjQyN2MwLjE5NTI2IDAuMTk1MiAwLjUxMTg0IDAuMTk1MiAwLjcwNzExIDAgMC4xOTUyNi0wLjE5NTMgMC4xOTUyNi0wLjUxMTkgMC0wLjcwNzF6IiBmaWxsPSIjMzMzIi8+PC9zdmc+Cg=="},2954:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHN0eWxlIHR5cGU9InRleHQvY3NzIj4uc3Q0N3tmaWxsOiM0RjRENEY7fTwvc3R5bGU+PGc+PHJlY3QgY2xhc3M9InN0NDciIHRyYW5zZm9ybT0ibWF0cml4KC43MjcgLjY4NjYgLS42ODY2IC43MjcgMTEuMTQ1IC01LjEwNTEpIiB4PSI1Ljk3IiB5PSIxMC44NCIgd2lkdGg9IjEyLjA1IiBoZWlnaHQ9IjEuMjQiLz48cmVjdCBjbGFzcz0ic3Q0NyIgdHJhbnNmb3JtPSJtYXRyaXgoLS42NzggLjczNTEgLS43MzUxIC0uNjc4IDI4LjU1IDEwLjQyKSIgeD0iNS45NyIgeT0iMTAuODQiIHdpZHRoPSIxMi4wNSIgaGVpZ2h0PSIxLjI0Ii8+PC9nPjwvc3ZnPgo="},5412:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyBkYXRhLW5hbWU9IuWbvuWxgiAyIiB2aWV3Qm94PSIwIDAgMTE5LjUgMTE5LjUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOm5vbmU7c3Ryb2tlOiMwMDA7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOjZweDt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPjEyOC4xMjh2aWRlbyBhdWRpbzwvdGl0bGU+PHBvbHlnb24gcG9pbnRzPSI1My43MiA5Mi44OCA4My44MSA2Mi43OCA1My43MiAzMi42OSIvPjwvc3ZnPgo="},4031:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyBkYXRhLW5hbWU9IuWbvuWxgiAyIiB2aWV3Qm94PSIwIDAgMTE5LjUgMTE5LjUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOm5vbmU7c3Ryb2tlOiMwMDA7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOjZweDt9PC9zdHlsZT48L2RlZnM+PGNpcmNsZSBjbGFzcz0iY2xzLTEiIGN4PSI1OS43NSIgY3k9IjU5Ljc1IiByPSI1Ni43NSIvPjxyZWN0IHg9IjQwIiB5PSIzMi41IiB3aWR0aD0iMTEiIGhlaWdodD0iNTkiLz48cmVjdCB4PSI3MCIgeT0iMzIuNSIgd2lkdGg9IjExIiBoZWlnaHQ9IjU5Ii8+PC9zdmc+Cg=="},5471:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyBkYXRhLW5hbWU9IuWbvuWxgiAyIiB2aWV3Qm94PSIwIDAgMTE5LjUgMTE5LjUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOm5vbmU7c3Ryb2tlOiMwMDA7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOjZweDt9PC9zdHlsZT48L2RlZnM+PHBvbHlnb24gcG9pbnRzPSI1My43MiA5Mi44OCA4My44MSA2Mi43OCA1My43MiAzMi42OSIvPjxjaXJjbGUgY2xhc3M9ImNscy0xIiBjeD0iNTkuNzUiIGN5PSI1OS43NSIgcj0iNTYuNzUiLz48L3N2Zz4K"},384:e=>{e.exports="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAdUlEQVR42u2VwQrAIAxD07H/Lv3y7LKDlG46bAeCuUkPjxhrhCQqdaBYZ3sws1E78jZU1Rjgh5HMDADYgzwCPogjjrIy4B8hM+WKfEZ3Ji1Eqp8ps0IOXTlH9Yu2ARuwWh9Ei5IN8N8ue/0w3QezjmT50i8HXN7EHrm7nJBpAAAAAElFTkSuQmCC"},5672:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///5b/////////lgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///0z///+1////TAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAD///+W/////////////////////////5b///8DAAAAAAAAAAD///9U8PDw/0pKSv/w8PD/////VAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAA////lv////8AAAD/AAAA/wAAAP8AAAD///////z8/P////8D////Lfn5+f9CQkL/AAAA/0JCQv/6+vr/////LQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAP///5b/////AAAA//////////////////////8AAAD//////////5T///+WaWlp/wAAAP8AAAD/AAAA/2lpaf////+WAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAA/////wAAAP///////f39/////wL///8B/v7+//////8CAgL//////f///y3///+W/////wAAAP//////////lv///y0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAD/////AAAA//////////8CAAAAAAAAAAD///8B/////wAAAP//////AAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAD/////AAAA//////////8JAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAP////8AAAD///////b29v//////7e3t/wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAD///+Wqqqq/////5YAAAAAAAAAAAAAAAAAAAAA////lv////8AAAD/AAAA/wAAAP8AAAD//////////5YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAD///9VAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////lv////////////////////////+WAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/////////////////////////////////////////////////////////////////////////////////////////////////////lgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///+W/////////////////////////////////////////////////////////////////////////////////////////////////////////5YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////////////+P////j/+P/44DB/+MAAP/iAAD/4gAA/+IYY//iPGP/4jxj/+I8Y//iPGP/4jxj/+I8Y//iPCP/4jwD/+I8A//jfgf/4////+AAAP/gAAD/4AAA///////////////////////////8="},8244:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJeD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAl4Pn/5eD5/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJeD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAl4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////////////////////////////////////////////////////+B////PP///n5///5+P///PB///5gP///AB///4AP///AB///4AP///AB///4Af///AP///4H////D////5/////////////////////////////////8="},4404:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJeD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJeD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAl4Pn/5eD5/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJeD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAl4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////////////////////////////////////4AAH/+AAB///////+B////PP///n5///5+P///PB///5gP///AB///4AP///AB///4AP///AB///4Af///AP///4H////D////5/////////////////////////////////8="},4420:e=>{e.exports="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACaSURBVFiF7ZRBDoAgDATrxv8/efEChtRgKEWMpnMTK7OxTUWCIPgLJBPJZP0OM0MAEGuIqQFGQ7jJwlS1Yagdbvnd2TK5NcQ2IDzJ/RYAm64DUD9fagq7RV5f2rq41JHsvbofPWz6jyzpfUuydPq1zCN3LaIZS8ccoB6yPIQev10ujaWjz5fIe949Llc178g9dE3Q3SoNguDzHE8r6s7tkQQOAAAAAElFTkSuQmCC"},8555:e=>{e.exports="data:image/png;charset=utf-8;base64,AAABAAEAGBgAAAEAIACICQAAFgAAACgAAAAYAAAAMAAAAAEAIAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SpyxfUpXsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SlexfUqc////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SpyxfUr+sX1KV7F9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KV7F9Sv6xfUqc////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUqcsX1K/rF9SlexfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUpXsX1K/rF9SpyxfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUoAsX1KnLF9Sv6xfUpXsX1KALF9SgCxfUoAsX1KALF9SlexfUr+sX1KnLF9SgCxfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUoAsX1KALF9SpyxfUr+sX1KV7F9SgCxfUoAsX1KV7F9Sv6xfUqcsX1KALF9SgCxfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUoAsX1KALF9SgCxfUqcsX1K/rF9SlexfUpXsX1K/rF9SpyxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KnLF9Sv6xfUr+sX1KnLF9SgCxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KV7F9Sv+xfUr/sX1KV7F9SgCxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUoAsX1KALF9SgCxfUpXsX1K/rF9SpyxfUqcsX1K/rF9SlexfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUoAsX1KALF9SlexfUr+sX1KnLF9SgCxfUoAsX1KnLF9Sv6xfUpXsX1KALF9SgCxfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUoAsX1KV7F9Sv6xfUqcsX1KALF9SgCxfUoAsX1KALF9SpyxfUr+sX1KV7F9SgCxfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUpXsX1K/rF9SpyxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUqcsX1K/rF9SlexfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SlexfUr+sX1KnLF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KnLF9Sv6xfUpX////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Su+xfUqcsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SpyxfUrv////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////APn/nwD4/x8A/H4/AP48fwD/GP8A/4H/AP/D/wD/w/8A/4H/AP8Y/wD+PH8A/H4/APj/HwD5/58A////AP///wD///8A////AP///wA="},3296:e=>{e.exports="data:image/png;charset=utf-8;base64,AAABAAEAGBgAAAEAIACICQAAFgAAACgAAAAYAAAAMAAAAAEAIAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUoAsX1KALF9SiCxfUqgsX1K8LF9Sv+xfUr/sX1K8LF9SqCxfUogsX1KALF9SgD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUoAsX1KMLF9SvCxfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUrwsX1KMLF9SgD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUogsX1K8LF9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K8LF9SiD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUqgsX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9SqD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUrwsX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9SvD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv////8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv////8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUrwsX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9SvD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUqgsX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9SqD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUogsX1K8LF9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K8LF9SiD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUoAsX1KMLF9SvCxfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUrwsX1KMLF9SgD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUoAsX1KALF9SiCxfUqgsX1K8LF9Sv+xfUr/sX1K8LF9SqCxfUogsX1KALF9SgD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD/AP8A/gB/APwAPwD8AD8A/AA/APwAPwD8AD8A/AA/APwAPwD8AD8A/gB/AP8A/wD///8A////AP///wD///8A////AP///wA="},4853:e=>{e.exports="data:image/png;charset=utf-8;base64,AAABAAEAGBgAAAEAIACICQAAFgAAACgAAAAYAAAAMAAAAAEAIAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8AsX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wDwAA8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wA="},7e3:e=>{e.exports="data:image/png;charset=utf-8;base64,AAABAAEAGBgAAAEAIACICQAAFgAAACgAAAAYAAAAMAAAAAEAIAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SjCxfUrwsX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9SvCxfUow////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SvCxfUowsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SjCxfUrw////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SvCxfUowsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SjCxfUrw////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SjCxfUrwsX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9SvCxfUow////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////APgAHwD5/58A+//fAPv/3wD7/98A+//fAPv/3wD7/98A+//fAPv/3wD7/98A+//fAPn/nwD4AB8A////AP///wD///8A////AP///wA="},9382:e=>{e.exports="data:image/png;charset=utf-8;base64,AAABAAEAGBgAAAEAIACICQAAFgAAACgAAAAYAAAAMAAAAAEAIAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUr/sX1K/7F9Sv+xfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AP///wD///8A////AP///wD///8AgICAEP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8AgICAIICAgP+AgIAg////AP///wD///8AgICA/4CAgED///8AgICA/4CAgP+AgID/gICA/4CAgID///8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AICAgP+AgIBw////AP///wCAgIBQgICA/4CAgCD///8AgICA/////wD///8AgICAgICAgP////8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AICAgKCAgID/gICAQICAgECAgID/gICA0P///wD///8AgICA/////wD///8A////AICAgP////8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AICAgGCAgID/gICA/4CAgP+AgID/gICAnv///wD///8AgICA/////wD///8A////AICAgP////8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AICAgBCAgID/gICAUICAgDCAgID/gICAMP///wD///8AgICA/////wD///8AgICAgICAgP////8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AP///wCAgID/gICAoICAgHCAgID/////AP///wD///8AgICA/4CAgP+AgID/gICA/4CAgID///8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AP///wCAgICAgICA4ICAgMCAgICg////AP///wD///8AgICA/////wD///8AgICAgICAgP////8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AP///wCAgIAwgICA/4CAgP+AgIBg////AP///wD///8AgICA/////wD///8A////AICAgP////8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AP///wD///8AgICA7ICAgP+AgIAQ////AP///wD///8AgICA/////wD///8AgICAgICAgP////8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AP///wD///8AgICAwYCAgNz///8A////AP///wD///8AgICA/4CAgP+AgID/gICA/4CAgID///8A////AP///wD///8A////ALF9SgCxfUoAsX1K/7F9SgD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUoAsX1K/7F9SgCxfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUr/sX1K/7F9Sv+xfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8Awf//APf//wD3+/8A9jkHAPcxZwD3A3cA9wN3APcDZwD3hwcA94dnAPeHdwD3x2cA988HAPf//wD3//8Awf//AP///wD///8A////AP///wA="},5481:e=>{e.exports="data:image/png;charset=utf-8;base64,AAABAAEAGBgAAAEAIACICQAAFgAAACgAAAAYAAAAMAAAAAEAIAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUrIsX1K4bF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wCxfUoAsX1KALF9SgCxfUoAsX1KALF9SsGxfUr/sX1K/rF9SvKxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wCxfUoAsX1KALF9SgCxfUoAsX1KwbF9Sv+xfUp3sX1KLbF9Sv2xfUrysX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wCxfUoAsX1KALF9SgCxfUrBsX1K/7F9SnexfUoAsX1KALF9Si2xfUr9sX1K8rF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wCxfUoAsX1KALF9SsGxfUr/sX1Kd7F9SgCxfUoAsX1KALF9SgCxfUotsX1K/bF9SvKxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wCxfUoAsX1KwbF9Sv+xfUp3sX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KLbF9Sv2xfUrysX1KALF9SgCxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wCxfUp3sX1K/7F9SnexfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9Si2xfUr9sX1K8rF9SgCxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUotsX1K/bF9SvKxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KLbF9Sv2xfUrysX1KALF9SgCxfUoA////AP///wD///8A////AP///wCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9Si2xfUr9sX1K8rF9SgCxfUoA////AP///wD///8A////AP///wCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUotsX1K/bF9SvKxfUoA////AP///wD///8A////AP///wCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KLbF9Sv2xfUqU////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP+f/wD/D/8A/gf/APxj/wD48f8A8fj/AOP8fwD//j8A//8fAP//jwD//8cA///jAP///wD///8A////AP///wD///8A////AP///wA="},5618:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///9F////rv///+H////k////sf///0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8D////kNLS0v9RUVH/Hh4e/xsbG/9OTk7/ycnJ/////5P///8MAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///5b//////////////5YAAAAAAAAAAP///5OTk5P/BgYG/z8/P/+EhIT/h4eH/0VFRf8DAwP/ioqK/////5YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///+W/////wAAAP8AAAD//////////5b///9Iw8PD/wMDA/+Kior/////wP///3v///+NsbGx/wYGBv8AAAD/wMDA/////1oAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD///////////8AAAD//////////7FOTk7/RUVF/////7r///8M////iq6urv8JCQn/q6ur/1RUVP88PDz/////wwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///+W/////wAAAP///////////wAAAP//////////5xgYGP+cnJz/////Y////4qurq7/DAwM/6urq/////+Nq6ur/wMDA//8/Pz/////AwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///+W/////////5YAAAAAAAAAAP////8AAAD/////////////////AAAA///////////qFRUV/6Wlpf////+Kq6ur/wwMDP+rq6v/////iv///0u0tLT/AAAA//n5+f////8GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////////5b///+W/////wAAAP///////////wAAAP//////////lv///71CQkL/Y2Nj/6urq/8MDAz/q6ur/////4oAAAAA////inV1df8tLS3/////0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD///////////8AAAD/////////////////AAAA//////8AAAAA////VL29vf8GBgb/CQkJ/6urq/////+K////Qv///5DMzMz/DAwM/6Wlpf////9pAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAD//////wAAAP///////////wAAAP//////////lgAAAAAAAAAA////kH5+fv8DAwP/cnJy/7q6uv+9vb3/eHh4/wYGBv9jY2P/////nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD///////////8AAAD/////////////////AAAA////////////////////////////////07e3t/85OTn/BgYG/wAAAP82Njb/paWl/////5z///8zAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////////////////////////////////////AAAA/wAAAP8AAAD/AAAA/wAAAP//////////Xf///8b////5/////////8n///9gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA////////////////////////////////////////////////////////////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////////////////////////////////////////////////////wAAAP//////////lgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP////////////////////////////////////////////////8AAAD//////////5YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA////////////////////////////////////////////AAAA//////////+WAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////////////////////////////////////wAAAP//////////lgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP////////////////////////////////8AAAD//////////5YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA////////////////////////////AAAA//////////+WAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////////////////////wAAAP//////////lgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP////////////////8AAAD//////////5YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA////////////AAAA//////////+WAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAP//////////lgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD//////////5YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////////+WAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///5b/////////lgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////4H///4Af/+GAH//AAA//wAAP/4AAB/GAAAfwAAEP8AEAD/ABgB/wAAAf8AAAf/AAH//wAB//8AA///AAf//wAP//8AH///AD///wB///8A////Af///wP///8H////D////x//////////////8="},527:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///////////////////////////////////////////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///////////////////////////////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////////////AAAAAAAAAAD/////AAAA//////8AAAD//////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP//////AAAAAP///////////////wAAAP////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/////////////////////////////////wAAAP//////AAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP///////////////////////////////////////////wAAAP//////AAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA////////////////////////////////////////////AAAA//////8AAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP////////////////////////////////////////////////8AAAD//////wAAAAD///////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/////////////////////////////////////////////////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////////////////////////////////////////////////////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD///////////8AAAD///////////////////////////////////////////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA//////8AAAD//////wAAAP//////AAAA//////8AAAD//////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////////////////////////wAAAP//////AAAA//////8AAAD//////wAAAP//////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAD//////wAAAP//////AAAA//////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAP//////AAAA//////8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAA//////8AAAD//////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD//////wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////wB///8Af///AH////f////j////wf//gYD//wCA//4AY//8ACP//AAj//gAI//4AD//8AA//+AAP//gAD//4AA///4AP//+AH///gD///8B////g////8f///////////////////////8="},6189:e=>{e.exports="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAADWSURBVFiF7ZY7DoMwDEDdqgtiyMRK5t6iHRm5RK8B52CAIzAycoOs7F07I3Wx3aVUkSoqCg1BlZ8UKZ8hz3YkB0AQhH8BETMiYmu09hoRM6cCRMRaawYAVkpxVVWslGIAYK01ExE7FUDEfIjWGMMAwMYYOwO5UwGbZ7STot6v4PORw9hBXyeTaxamzW6uwHYzMHC8tHC93d/24yiArji5F+iK82sepg30dbL4UhvvJRCBrwTiKPAr8ItXv0hg09jteKQZrduOy7L0145HPiS5UwFBEObyAD+5v55ihI+vAAAAAElFTkSuQmCC"},6190:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////AAAAAP////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////wAAAP//////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////////////AAAA//////8AAAAA/////wAAAP//////AAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP8AAAD/AAAA////////////AAAA//////8AAAD//////wAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP//////AAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA//////8AAAAAAAAAAAAAAAD/////AAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////////8AAAAA/////wAAAP8AAAD//////wAAAAD//////////wAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA////////////AAAA/wAAAP///////////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////////////////////wAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////AAAA//////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////wAAAAD/////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////////////////////CH///wB///8Af///4//8AiP//ABj//4Y4//+HeP//h/j//4f4//+H+P/8hPj//AD4//wA+P/8APj////AH///wB///8If/////////////////////////////////////8="},3350:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAwADQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////////////8////+H////B////gf///wP///4H///8D//wAB//wAA//4fgf/8f+H//P/x//n/ef/5/zn/+f+5//n/uf/5/7n/+f+5//n/uf/5/3n//P/z//x/4//+H4f//wAP///AP////////////////////////////8="},7898:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAUABQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAA/wAAAOcAAAHngAABgYAAAYGAAAHngAAA5wAAAP8AAAA8AAAAAAAAA///////////////////////////////////////////////////////////////////////////////////////5////8f///+P////H///wj///wB///4Af//+AH///AA///wAP//8AD///AA///4Af//+AH///wD////D///8="},4005:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoCAAAFgAAACgAAAAgAAAAQAAAAAEACAAAAAAAgAQAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAACAAACAAAAAgIAAgAAAAIAAgACAgAAAwMDAAICAgAAAAP8AAP8AAAD//wD/AAAA/wD/AP//AAD///8ACQkJABISEgAfHx8ALCwsADk5OQBFRUUAUlJSAF9fXwBsbGwAeHh4AIWFhQCSkpIAn5+fAKurqwC4uLgAxcXFANLS0gDe3t4A6+vrAPj4+ADw+/8ApKCgAMDcwADwyqYAAAA+AAAAXQAAAHwAAACbAAAAugAAANkAAADwACQk/wBISP8AbGz/AJCQ/wC0tP8AABQ+AAAeXQAAKHwAADKbAAA8ugAARtkAAFXwACRt/wBIhf8AbJ3/AJC1/wC0zf8AACo+AAA/XQAAVHwAAGmbAAB+ugAAk9kAAKrwACS2/wBIwv8AbM7/AJDa/wC05v8AAD4+AABdXQAAfHwAAJubAAC6ugAA2dkAAPDwACT//wBI//8AbP//AJD//wC0//8AAD4qAABdPwAAfFQAAJtpAAC6fgAA2ZMAAPCqACT/tgBI/8IAbP/OAJD/2gC0/+YAAD4UAABdHgAAfCgAAJsyAAC6PAAA2UYAAPBVACT/bQBI/4UAbP+dAJD/tQC0/80AAD4AAABdAAAAfAAAAJsAAAC6AAAA2QAAAPAAACT/JABI/0gAbP9sAJD/kAC0/7QAFD4AAB5dAAAofAAAMpsAADy6AABG2QAAVfAAAG3/JACF/0gAnf9sALX/kADN/7QAKj4AAD9dAABUfAAAaZsAAH66AACT2QAAqvAAALb/JADC/0gAzv9sANr/kADm/7QAPj4AAF1dAAB8fAAAm5sAALq6AADZ2QAA8PAAAP//JAD//0gA//9sAP//kAD//7QAPioAAF0/AAB8VAAAm2kAALp+AADZkwAA8KoAAP+2JAD/wkgA/85sAP/akAD/5rQAPhQAAF0eAAB8KAAAmzIAALo8AADZRgAA8FUAAP9tJAD/hUgA/51sAP+1kAD/zbQAPgAAAF0AAAB8AAAAmwAAALoAAADZAAAA8AAAAP8kJAD/SEgA/2xsAP+QkAD/tLQAPgAUAF0AHgB8ACgAmwAyALoAPADZAEYA8ABVAP8kbQD/SIUA/2ydAP+QtQD/tM0APgAqAF0APwB8AFQAmwBpALoAfgDZAJMA8ACqAP8ktgD/SMIA/2zOAP+Q2gD/tOYAPgA+AF0AXQB8AHwAmwCbALoAugDZANkA8ADwAP8k/wD/SP8A/2z/AP+Q/wD/tP8AKgA+AD8AXQBUAHwAaQCbAH4AugCTANkAqgDwALYk/wDCSP8Azmz/ANqQ/wDmtP8AFAA+AB4AXQAoAHwAMgCbADwAugBGANkAVQDwAG0k/wCFSP8AnWz/ALWQ/wDNtP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/////////////////////////////////////////////////f////z////9f////b///+HAB//v//f/7//3/+//9//sADf/7//3/+//9//v//f/7AA3/+//9//v//f/7//3/+AAB/////////////////////////////////"},209:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACiWYf/olmH/6JZh/+iWYf/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACiWYf/olmH/wAAAACiWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKJZh/8AAAAAolmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKJZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/8AAAAAolmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/AAAAAKJZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/wAAAACiWYf/olmH/6JZh/+iWYf/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////9/////n////4f////J////0P///+B////gP///8B////gP///8B////gP///8B////gP///8B////gP///8B////gP///8B////gP///8F////iP///9D////h////8///////////////////////////8="},8483:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////wAAAAD/////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP8AAAD//////wAAAP8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////8AAAD//////////////////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///////////////////////////////wAAAP//////AAAAAP////8AAAD//////wAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA/wAAAP///////////wAAAP//////AAAA//////8AAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////////wAAAP8AAAD///////////8AAAAA/////wAAAP//////AAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP//////AAAAAAAAAAAAAAAA/////wAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////8AAAD/AAAA//////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////AAAA/wAAAP//////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP///////////wAAAP8AAAD///////////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////wAAAP//////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP8AAAD//////wAAAP8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////8AAAAA/////////////////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////////////////////hD///4A///+AP///8f/+ARH//gAx//4Ecf//DvH/+AHx//gB8f/4AfH//w/x//gB8f/4AfH/+AHx////gD///4A///+EP/////////////////////////////////////8="},1342:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAEBAAAAAAAABoAwAAFgAAACgAAAAQAAAAIAAAAAEAGAAAAAAAQAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACtbS6tbS6tbS6tbS6tbS6tbS4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACtbS6tbS6tbS6tbS6tbS6tbS6tbS6tbS4AAAAAAAAAAAAAAAAAAAAAAAAAAACtbS6tbS6tbS6tbS6tbS6tbS6tbS6tbS6tbS6tbS4AAAAAAAAAAAAAAAAAAACtbS6tbS6tbS6tbS4AAAAAAAAAAAAAAACtbS6tbS6tbS6tbS4AAAAAAAAAAACtbS6tbS6tbS6tbS4AAAAAAAAAAAAAAAAAAAAAAACtbS6tbS6tbS6tbS4AAAAAAACtbS6tbS6tbS4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACtbS6tbS6tbS4AAAAAAACtbS6tbS6tbS4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACtbS6tbS6tbS4AAAAAAACtbS6tbS6tbS4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACtbS6tbS6tbS4AAAAAAACtbS6tbS6tbS4AAAAAAAAAAAAAAACtbS4AAAAAAAAAAACtbS6tbS6tbS4AAAAAAACtbS6tbS6tbS6tbS4AAAAAAACtbS6tbS4AAAAAAACtbS6tbS6tbS6tbS4AAAAAAAAAAACtbS6tbS6tbS6tbS6tbS6tbS6tbS4AAACtbS6tbS6tbS6tbS4AAAAAAAAAAAAAAAAAAACtbS6tbS6tbS6tbS6tbS6tbS4AAACtbS6tbS6tbS4AAAAAAAAAAAAAAAAAAAAAAAAAAACtbS6tbS6tbS6tbS6tbS4AAAAAAACtbS4AAAAAAAAAAAAAAAAAAAAAAAAAAACtbS6tbS6tbS6tbS6tbS6tbS4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//wAA+B8AAPAPAADgBwAAw8MAAIfhAACP8QAAj/EAAI/xAACPcQAAhmEAAMBDAADgRwAA8G8AAOB/AAD//wAA"},6294:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////AAAAAP////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////AAAAAP///////////////wAAAAAAAAAA/////////////////////wAAAP//////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP//////AAAA/wAAAP8AAAD//////wAAAP8AAAD//////wAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///////////////wAAAAD///////////////8AAAAA////////////////AAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/////////////////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////AAAA//////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////wAAAAD/////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////////////////////CH///wB//iMAf/wB4//4AOP/+Ijj//8H4//+A+P//HHj//xx4//8ceP//HHj//xx4//8ceP//vvj////AH///wB///8If/////////////////////////////////////8="},7710:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn2QqMKNnK0CjZytAo2crQKNnK0CfZCowAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACfZycgomcqYKNpK4CjaCvAo2ks4KRqLf+kai3/pGot/6RqLf+kai3/pGot/6RqLf+kai3/o2kssKJnKmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJ9fHxCiaSxQo2krgKNpK4CiaSxQo2crQJ9fHxAAAAAAAAAAAAAAAAAAAAAAAAAAAKNnK0CiaCyQo2ks8KNoK8CfXx8QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAo2grwKJpLKCjaCtwn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACfZycgo2ks0KNpLLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACjaCvApGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACfZycgpGot/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKNoK3Ckai3/pGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKNnK0Ckai3/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn18fEKNpLNCkai3/pGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAo2ks0KNoK8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn18fEKNpLNCkai3/pGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKJpLKCjaSzwn2cnIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn18fEKNpLNCkai3/pGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAACiZypgpGot/6JnKmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn18fEKNpLNCkai3/pGot/6RqLf+jaSzQn18fEAAAAAAAAAAAn2cnIKNpLPCjaSuAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn18fEKNpLNCkai3/pGot/6RqLf+jaSzQn18fEAAAAACjaCtwo2ks4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn18fEKNpLNCkai3/pGot/6RqLf+jaSzQn18fEKNnK0Ckai3/o2krgJ9nJyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn18fEKNpLNCkai3/pGot/6NpLNCfXx8QAAAAAKJpLFCjaSzQpGot/6RqLf+jaCvAo2grwKNoK8CjaSywo2krgKJnKmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn18fEKNpLNCjaSzQn18fEKJnKmCjaSzQn18fEAAAAACfXx8Qo2crQKNoK3CjaSuAo2krgKNpK4CjaSuAomcqYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn18fEJ9fHxCiZypgpGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKNpLNCkai3/pGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn18fEKNpLNCkai3/pGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACfZCown18fEKNpLNCkai3/pGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn2QqMKRqLf+iZypgn18fEKNpLNCkai3/pGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAomcqYKRqLf+iZypgn18fEKNpLNCkai3/pGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAomcqYKRqLf+iZypgn18fEKNpLNCkai3/pGot/6RqLf+jaSuAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAomcqYKRqLf+iZypgn18fEKNpLNCkai3/pGot/6JpLFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAomcqYKRqLf+fZCowAAAAAJ9nJyCfZCowAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn2QqMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA///////////////////////gf//4AA//+A+D//h/4//4P/P/+B/z//gP8//8B+P//gPH//8Bj///gJ///8AH///gQA//8BAP//gP///+B////gP///4B///8AP///gB///8Af///gH///8T////v//////////////////////8="},6623:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////AAAAAP////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////wAAAP//////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////wAAAP8AAAD//////////////////////wAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP//////AAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////8AAAD/AAAA//////////////////////8AAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA////////////AAAA/wAAAP///////////wAAAP//////AAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA//////8AAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////////////////////wAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////AAAA//////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////wAAAAD/////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////////////////////CH///wB///8Af/8D4///A+P//4fj//+H4//8AOP//ADj//wA4///h+P//ADj//wA4//8AOP////j////AH///wB///8If/////////////////////////////////////8="},4113:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAgACACoDAAAFgAAACgAAAAgAAAAQAAAAAEAGAAAAAAAgAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///////////////////////8AAAD///////////////////////8AAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAD///////////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///8AAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///8AAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///////////////////////8AAAD///////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////////////////////////////////////////////////////////////////f////z//wAAf/8AAD//AAAAfx48AP8ePAH/HjwD/x48B/8ePA//Hjwf/x48P/8ePH//Hjx//x48f/8ePH//Hjx//wAAf/8AAH//AAB//w=="},3800:e=>{e.exports="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAADaSURBVFiF7dbNDYMwDIbhT6H3jJBNccIgMEo3yEa2ewEp/UkLFNMe8kpIICHlSQ4YoNVq/WvMTCKixXUtn5mZTAEioiEEBaDee52mSb33CkBDCCoiagpg5rjsNuesADTnXJ5ANAWUzbt9u2tmjntQl29g5eLDMNB8j67rVkMOASyllACAtiAOBexBHA7YijABbEGYAdYiTAFrEOaATwgTABGB6H5UqGo65QSICH3fJ+fc02KvchaLb/kSVivHcWUY0cP7u2ZBtcdxPI7j78Zx5YckmgJardZZ3QBYf/tz/TccpQAAAABJRU5ErkJggg=="},5225:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////AAAAAP////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////wAAAP//////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/////////////////wAAAP//////AAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////AAAA//////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////wAAAAD/////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////////////////////CH///wB///8Af/8B4//+AOP//wHj//+D4///AeP//jjj//444//+OOP//jjj//444//+OOP//33j////AH///wB///8If/////////////////////////////////////8="},7047:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCA1MCA1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Zz48YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIGF0dHJpYnV0ZVR5cGU9InhtbCIgZHVyPSIxcyIgZnJvbT0iMCAyNSAyNSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHRvPSIzNjAgMjUgMjUiIHR5cGU9InJvdGF0ZSIvPjxjaXJjbGUgY3g9IjE3IiBjeT0iMTUiIHI9IjUiIGZpbGw9IiNFN0I3RTgiLz48Y2lyY2xlIGN4PSIzNiIgY3k9IjE4IiByPSI1IiBmaWxsPSIjQ0Q4RENFIi8+PGNpcmNsZSBjeD0iMTUiIGN5PSIzMiIgcj0iNSIgZmlsbD0iI0MxNzVDMiIvPjxjaXJjbGUgY3g9IjMzIiBjeT0iMzYiIHI9IjUiIGZpbGw9IiM5NjQ5OTgiLz48L2c+PC9zdmc+Cg=="},6989:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9IiNkZGQiIHZpZXdCb3g9IjAgMCAzMiAzMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyKSIgZD0ibTAgMTJ2OGg0di04eiI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZCIgYmVnaW49IjAiIGNhbGNNb2RlPSJzcGxpbmUiIGR1cj0iMS4ycyIga2V5U3BsaW5lcz0iMC4yIDAuMiAwLjQgMC44OzAuMiAwLjYgMC40IDAuODswLjIgMC44IDAuNCAwLjgiIGtleXRpbWVzPSIwOy4yOy41OzEiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiB2YWx1ZXM9Ik0wIDEyIFYyMCBINCBWMTJ6OyBNMCA0IFYyOCBINCBWNHo7IE0wIDEyIFYyMCBINCBWMTJ6OyBNMCAxMiBWMjAgSDQgVjEyeiIvPjwvcGF0aD48cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4KSIgZD0ibTAgMTJ2OGg0di04eiI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZCIgYmVnaW49IjAuMiIgY2FsY01vZGU9InNwbGluZSIgZHVyPSIxLjJzIiBrZXlTcGxpbmVzPSIwLjIgMC4yIDAuNCAwLjg7MC4yIDAuNiAwLjQgMC44OzAuMiAwLjggMC40IDAuOCIga2V5dGltZXM9IjA7LjI7LjU7MSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHZhbHVlcz0iTTAgMTIgVjIwIEg0IFYxMno7IE0wIDQgVjI4IEg0IFY0ejsgTTAgMTIgVjIwIEg0IFYxMno7IE0wIDEyIFYyMCBINCBWMTJ6Ii8+PC9wYXRoPjxwYXRoIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE0KSIgZD0ibTAgMTJ2OGg0di04eiI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZCIgYmVnaW49IjAuNCIgY2FsY01vZGU9InNwbGluZSIgZHVyPSIxLjJzIiBrZXlTcGxpbmVzPSIwLjIgMC4yIDAuNCAwLjg7MC4yIDAuNiAwLjQgMC44OzAuMiAwLjggMC40IDAuOCIga2V5dGltZXM9IjA7LjI7LjU7MSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHZhbHVlcz0iTTAgMTIgVjIwIEg0IFYxMno7IE0wIDQgVjI4IEg0IFY0ejsgTTAgMTIgVjIwIEg0IFYxMno7IE0wIDEyIFYyMCBINCBWMTJ6Ii8+PC9wYXRoPjxwYXRoIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIwKSIgZD0ibTAgMTJ2OGg0di04eiI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZCIgYmVnaW49IjAuNiIgY2FsY01vZGU9InNwbGluZSIgZHVyPSIxLjJzIiBrZXlTcGxpbmVzPSIwLjIgMC4yIDAuNCAwLjg7MC4yIDAuNiAwLjQgMC44OzAuMiAwLjggMC40IDAuOCIga2V5dGltZXM9IjA7LjI7LjU7MSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHZhbHVlcz0iTTAgMTIgVjIwIEg0IFYxMno7IE0wIDQgVjI4IEg0IFY0ejsgTTAgMTIgVjIwIEg0IFYxMno7IE0wIDEyIFYyMCBINCBWMTJ6Ii8+PC9wYXRoPjxwYXRoIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2KSIgZD0ibTAgMTJ2OGg0di04eiI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZCIgYmVnaW49IjAuOCIgY2FsY01vZGU9InNwbGluZSIgZHVyPSIxLjJzIiBrZXlTcGxpbmVzPSIwLjIgMC4yIDAuNCAwLjg7MC4yIDAuNiAwLjQgMC44OzAuMiAwLjggMC40IDAuOCIga2V5dGltZXM9IjA7LjI7LjU7MSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHZhbHVlcz0iTTAgMTIgVjIwIEg0IFYxMno7IE0wIDQgVjI4IEg0IFY0ejsgTTAgMTIgVjIwIEg0IFYxMno7IE0wIDEyIFYyMCBINCBWMTJ6Ii8+PC9wYXRoPjwvc3ZnPgo="},9411:e=>{e.exports="data:application/vnd.ms-fontobject;charset=utf-8;base64,yA0AAPgMAAABAAIAAAAAAAIABQMAAAAAAAABAJABAAAAAExQAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAePjH6wAAAAAAAAAAAAAAAAAAAAAAACQAYwBvAG4AdABlAHgAdAAtAG0AZQBuAHUALQBpAGMAbwBuAHMAAAAOAFIAZQBnAHUAbABhAHIAAAAWAFYAZQByAHMAaQBvAG4AIAAxAC4AMAAAACQAYwBvAG4AdABlAHgAdAAtAG0AZQBuAHUALQBpAGMAbwBuAHMAAAAAAAABAAAACwCAAAMAMEdTVUIgiyV6AAABOAAAAFRPUy8yQG9MCAAAAYwAAABWY21hcIsI7vIAAAIIAAAB0mdseWap/oa/AAAD8AAABhRoZWFkGMy1jwAAAOAAAAA2aGhlYQe/A8gAAAC8AAAAJGhtdHggAP/6AAAB5AAAACRsb2NhBp4H6AAAA9wAAAAUbWF4cAEaAI4AAAEYAAAAIG5hbWWhQ3MWAAAKBAAAAo5wb3N0ObP5owAADJQAAABjAAEAAAPA/8AAAAQA//r//gQCAAEAAAAAAAAAAAAAAAAAAAAJAAEAAAABAADrx/h4Xw889QALBAAAAAAA2ti4iQAAAADa2LiJ//r/wAQCA8AAAAAIAAIAAAAAAAAAAQAAAAkAggAHAAAAAAACAAAACgAKAAAA/wAAAAAAAAABAAAACgAwAD4AAkRGTFQADmxhdG4AGgAEAAAAAAAAAAEAAAAEAAAAAAAAAAEAAAABbGlnYQAIAAAAAQAAAAEABAAEAAAAAQAIAAEABgAAAAEAAAABA44BkAAFAAACiQLMAAAAjwKJAswAAAHrADIBCAAAAgAFAwAAAAAAAAAAAAAAAAAAAAAAAAAAAABQZkVkAEDqAeoIA8D/wABcA8AAQAAAAAEAAAAAAAAAAAAABAAAAAQAAAAEAP/6BAAAAAQAAAAEAAAABAAAAAQAAAAAAAAFAAAAAwAAACwAAAAEAAABYgABAAAAAABcAAMAAQAAACwAAwAKAAABYgAEADAAAAAEAAQAAQAA6gj//wAA6gH//wAAAAEABAAAAAEAAgADAAQABQAGAAcACAAAAQYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAcAAAAAAAAAAIAADqAQAA6gEAAAABAADqAgAA6gIAAAACAADqAwAA6gMAAAADAADqBAAA6gQAAAAEAADqBQAA6gUAAAAFAADqBgAA6gYAAAAGAADqBwAA6gcAAAAHAADqCAAA6ggAAAAIAAAAAAAAADIAjAFWAdYCSAJ8As4DCgABAAAAAAOTA3cAIwAAARUUBisBFRQGKwEiJj0BIyImPQE0NjsBNTQ2OwEyFh0BMzIWA5IgF+0gF24XIO0XICAX7SAXbhcg7RcgAhttFyDuFyAgF+4gF20XIO4XICAX7iAAAAAABQAA/8AEAAPAAB8AIgAlADMAPAAAATIWFREUBiMhIiY9ASEiJjURNDY/AT4BOwEyFh0BNjMPATMBBzMXNzUjFRQGKwERITU0NgERIxUUBisBEQPJFyAgF/3cFyD+yRcgFxDpEDcX7RcgJyJJq6v+k6urcLTbIBfuASUXAjLcIBbuAuUgF/1JFyAgF6QgFwGAFzcQ6RAXIBe7F3qrAYarxrTu7hcg/pOSFzf+RAKS7Rcg/pIAB//6AAAEAgMuAAgASwBZAGcAcgB7AIEAAAEyFhQGIiY0NhcFFgYPAQYiJyUHBgcWBw4BBwYjIicmNz4BNzYzMhc2PwEnJicGIyInLgEnJjY3NjMyFx4BFxYHMh8BJTYyHwEeAQcFNiYnJiMiBwYWFxYzMgM+AScmIyIHDgEXFjMyExc1ND8BJwcGDwEfAQEnBRUHHwEFNyUHBgcCJQ4WFh0WFroBIhAFEUkIEgj+dT8EAggDBDgvTFJOMTQHBDguTFMwJwUHRkYHBScwU0wuOAQDFxkwT1JMLzgEAwgCBD8BiwgSCEkRBRD9WRocLzQ5KxYaHC80OSsbLxwaFis5NC8cGhYrOZo3EwgtFQQDBHs3AaRJ/klbCRwB7Un+12UBBgHAFh0WFh0WJeMLKQklBAXdJgIBHBssUR4wLTBGK1IeMBIIBSkqBQgSMB5RLCI9Fy0wHlEsHBwCJt0FBCUJKQtPGEseIRQYTB0i/msdTBgUIR1MGBQBgCIHFAwEGxUFAgOFEwFJJfZBNwgctyTqTwICAAAFAAAAAAOTA3cADwAfAC8ANwBbAAAlETQmKwEiBhURFBY7ATI2NxE0JisBIgYVERQWOwEyNjcRNCYrASIGFREUFjsBMjYBIScmJyMGBwUVFAYrAREUBiMhIiY1ESMiJj0BNDY7ATc+ATsBMhYfATMyFgGSCgglCAoKCCUICpMLCCQICwsIJAgLkgoIJQgKCgglCAr+yQEAGwQGtQYEAfYKCDc2Jf4kJTY3CAoKCLEoCC0XthctCCixCAquAZIICgoI/m4ICwsIAZIICgoI/m4ICwsIAZIICgoI/m4ICwsCP0IGAQEGVSQIC/3jMEVDLwIgCwgkCAtfFR4eFV8LAAAABQAAAAAD/AN3AAYADwA5AD4ASAAAATcnBxUzFQEmDwEGFj8BNhMVFAYjISImNRE0NjMhMhceAQ8BBicmIyEiBhURFBYzITI2PQE0PwE2FgMXASM1AQcnNzYyHwEWFAH7Q1dCNgEcCQrIChMJyAolYUT+JURhYUQB2yQfCAQHHAgKDQ3+JSY2NiYB2yY1BiQJFzek/oCkAn00pTUQLhBWEAEbQ1dDIDcBnAkKyAkTCsgK/rVsRGFhRAHbRGEOBBMHHAgDBDYm/iUmNjYmSAcFJQkKAZqk/oCkATU1pTQQEFcQLQAAAQAA/9ID7gOpACEAAAEUDgIiLgI1ND4BNxUOARUUHgIyPgI1NCYnNR4CA+5PhLbKtoRPb8B2fqc7YYiUiGE7p352wG8BwGW2hE9PhLZletSJEoMZyoNKiGE7O2GISoPKGYMSidQAAAAEAAD/wAQAA8AACAAYABsANwAAJSERIyImPQEjNzU0JiMhIgYdARQWMyEyNhMzJwURFAYjISImPQEhIiY1ETQ2MyEyFh0BFh8BHgEBtwIA7hcg25ILB/5uCAsLCAGSBwuSq6sBJSAX/dwXIP7JFyAgFwJuFiAMCekQFwkBbiAX7aUlBwsLByUHCwv+h6v0/oAXICAXWyAXAwAXICAXuwgI6RA3AAEAAAAAA1QC7wAkAAAlFA8BBiIvAQcGIi8BJjQ/AScmND8BNjIfATc2Mh8BFhQPARcWA1MQTRAuEKioEC4QTRAQqKgQEE0QLhCoqBAuEE0QEKioEM0XEE4QEKioEBBOEC0QqKgQLhBOEBCoqBAQThAuEKioEAAAAAAAEADGAAEAAAAAAAEAEgAAAAEAAAAAAAIABwASAAEAAAAAAAMAEgAZAAEAAAAAAAQAEgArAAEAAAAAAAUACwA9AAEAAAAAAAYAEgBIAAEAAAAAAAoAKwBaAAEAAAAAAAsAEwCFAAMAAQQJAAEAJACYAAMAAQQJAAIADgC8AAMAAQQJAAMAJADKAAMAAQQJAAQAJADuAAMAAQQJAAUAFgESAAMAAQQJAAYAJAEoAAMAAQQJAAoAVgFMAAMAAQQJAAsAJgGiY29udGV4dC1tZW51LWljb25zUmVndWxhcmNvbnRleHQtbWVudS1pY29uc2NvbnRleHQtbWVudS1pY29uc1ZlcnNpb24gMS4wY29udGV4dC1tZW51LWljb25zR2VuZXJhdGVkIGJ5IHN2ZzJ0dGYgZnJvbSBGb250ZWxsbyBwcm9qZWN0Lmh0dHA6Ly9mb250ZWxsby5jb20AYwBvAG4AdABlAHgAdAAtAG0AZQBuAHUALQBpAGMAbwBuAHMAUgBlAGcAdQBsAGEAcgBjAG8AbgB0AGUAeAB0AC0AbQBlAG4AdQAtAGkAYwBvAG4AcwBjAG8AbgB0AGUAeAB0AC0AbQBlAG4AdQAtAGkAYwBvAG4AcwBWAGUAcgBzAGkAbwBuACAAMQAuADAAYwBvAG4AdABlAHgAdAAtAG0AZQBuAHUALQBpAGMAbwBuAHMARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABzAHYAZwAyAHQAdABmACAAZgByAG8AbQAgAEYAbwBuAHQAZQBsAGwAbwAgAHAAcgBvAGoAZQBjAHQALgBoAHQAdABwADoALwAvAGYAbwBuAHQAZQBsAGwAbwAuAGMAbwBtAAAAAgAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJAQIBAwEEAQUBBgEHAQgBCQEKAANhZGQEY29weQNjdXQGZGVsZXRlBGVkaXQHbG9hZGluZwVwYXN0ZQRxdWl0AAAA"},5259:e=>{e.exports="data:font/ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwR1NVQiCLJXoAAAE4AAAAVE9TLzJAb0wIAAABjAAAAFZjbWFwiwju8gAAAggAAAHSZ2x5Zqn+hr8AAAPwAAAGFGhlYWQYzLWPAAAA4AAAADZoaGVhB78DyAAAALwAAAAkaG10eCAA//oAAAHkAAAAJGxvY2EGngfoAAAD3AAAABRtYXhwARoAjgAAARgAAAAgbmFtZaFDcxYAAAoEAAACjnBvc3Q5s/mjAAAMlAAAAGMAAQAAA8D/wAAABAD/+v/+BAIAAQAAAAAAAAAAAAAAAAAAAAkAAQAAAAEAAOvH+HhfDzz1AAsEAAAAAADa2LiJAAAAANrYuIn/+v/ABAIDwAAAAAgAAgAAAAAAAAABAAAACQCCAAcAAAAAAAIAAAAKAAoAAAD/AAAAAAAAAAEAAAAKADAAPgACREZMVAAObGF0bgAaAAQAAAAAAAAAAQAAAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAEDjgGQAAUAAAKJAswAAACPAokCzAAAAesAMgEIAAACAAUDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBmRWQAQOoB6ggDwP/AAFwDwABAAAAAAQAAAAAAAAAAAAAEAAAABAAAAAQA//oEAAAABAAAAAQAAAAEAAAABAAAAAAAAAUAAAADAAAALAAAAAQAAAFiAAEAAAAAAFwAAwABAAAALAADAAoAAAFiAAQAMAAAAAQABAABAADqCP//AADqAf//AAAAAQAEAAAAAQACAAMABAAFAAYABwAIAAABBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAABwAAAAAAAAAAgAAOoBAADqAQAAAAEAAOoCAADqAgAAAAIAAOoDAADqAwAAAAMAAOoEAADqBAAAAAQAAOoFAADqBQAAAAUAAOoGAADqBgAAAAYAAOoHAADqBwAAAAcAAOoIAADqCAAAAAgAAAAAAAAAMgCMAVYB1gJIAnwCzgMKAAEAAAAAA5MDdwAjAAABFRQGKwEVFAYrASImPQEjIiY9ATQ2OwE1NDY7ATIWHQEzMhYDkiAX7SAXbhcg7RcgIBftIBduFyDtFyACG20XIO4XICAX7iAXbRcg7hcgIBfuIAAAAAAFAAD/wAQAA8AAHwAiACUAMwA8AAABMhYVERQGIyEiJj0BISImNRE0Nj8BPgE7ATIWHQE2Mw8BMwEHMxc3NSMVFAYrAREhNTQ2AREjFRQGKwERA8kXICAX/dwXIP7JFyAXEOkQNxftFyAnIkmrq/6Tq6twtNsgF+4BJRcCMtwgFu4C5SAX/UkXICAXpCAXAYAXNxDpEBcgF7sXeqsBhqvGtO7uFyD+k5IXN/5EApLtFyD+kgAH//oAAAQCAy4ACABLAFkAZwByAHsAgQAAATIWFAYiJjQ2FwUWBg8BBiInJQcGBxYHDgEHBiMiJyY3PgE3NjMyFzY/AScmJwYjIicuAScmNjc2MzIXHgEXFgcyHwElNjIfAR4BBwU2JicmIyIHBhYXFjMyAz4BJyYjIgcOARcWMzITFzU0PwEnBwYPAR8BAScFFQcfAQU3JQcGBwIlDhYWHRYWugEiEAURSQgSCP51PwQCCAMEOC9MUk4xNAcEOC5MUzAnBQdGRgcFJzBTTC44BAMXGTBPUkwvOAQDCAIEPwGLCBIISREFEP1ZGhwvNDkrFhocLzQ5KxsvHBoWKzk0LxwaFis5mjcTCC0VBAMEezcBpEn+SVsJHAHtSf7XZQEGAcAWHRYWHRYl4wspCSUEBd0mAgEcGyxRHjAtMEYrUh4wEggFKSoFCBIwHlEsIj0XLTAeUSwcHAIm3QUEJQkpC08YSx4hFBhMHSL+ax1MGBQhHUwYFAGAIgcUDAQbFQUCA4UTAUkl9kE3CBy3JOpPAgIAAAUAAAAAA5MDdwAPAB8ALwA3AFsAACURNCYrASIGFREUFjsBMjY3ETQmKwEiBhURFBY7ATI2NxE0JisBIgYVERQWOwEyNgEhJyYnIwYHBRUUBisBERQGIyEiJjURIyImPQE0NjsBNz4BOwEyFh8BMzIWAZIKCCUICgoIJQgKkwsIJAgLCwgkCAuSCgglCAoKCCUICv7JAQAbBAa1BgQB9goINzYl/iQlNjcICgoIsSgILRe2Fy0IKLEICq4BkggKCgj+bggLCwgBkggKCgj+bggLCwgBkggKCgj+bggLCwI/QgYBAQZVJAgL/eMwRUMvAiALCCQIC18VHh4VXwsAAAAFAAAAAAP8A3cABgAPADkAPgBIAAABNycHFTMVASYPAQYWPwE2ExUUBiMhIiY1ETQ2MyEyFx4BDwEGJyYjISIGFREUFjMhMjY9ATQ/ATYWAxcBIzUBByc3NjIfARYUAftDV0I2ARwJCsgKEwnICiVhRP4lRGFhRAHbJB8IBAccCAoNDf4lJjY2JgHbJjUGJAkXN6T+gKQCfTSlNRAuEFYQARtDV0MgNwGcCQrICRMKyAr+tWxEYWFEAdtEYQ4EEwccCAMENib+JSY2NiZIBwUlCQoBmqT+gKQBNTWlNBAQVxAtAAABAAD/0gPuA6kAIQAAARQOAiIuAjU0PgE3FQ4BFRQeAjI+AjU0Jic1HgID7k+Etsq2hE9vwHZ+pzthiJSIYTunfnbAbwHAZbaET0+EtmV61IkSgxnKg0qIYTs7YYhKg8oZgxKJ1AAAAAQAAP/ABAADwAAIABgAGwA3AAAlIREjIiY9ASM3NTQmIyEiBh0BFBYzITI2EzMnBREUBiMhIiY9ASEiJjURNDYzITIWHQEWHwEeAQG3AgDuFyDbkgsH/m4ICwsIAZIHC5KrqwElIBf93Bcg/skXICAXAm4WIAwJ6RAXCQFuIBftpSUHCwsHJQcLC/6Hq/T+gBcgIBdbIBcDABcgIBe7CAjpEDcAAQAAAAADVALvACQAACUUDwEGIi8BBwYiLwEmND8BJyY0PwE2Mh8BNzYyHwEWFA8BFxYDUxBNEC4QqKgQLhBNEBCoqBAQTRAuEKioEC4QTRAQqKgQzRcQThAQqKgQEE4QLRCoqBAuEE4QEKioEBBOEC4QqKgQAAAAAAAQAMYAAQAAAAAAAQASAAAAAQAAAAAAAgAHABIAAQAAAAAAAwASABkAAQAAAAAABAASACsAAQAAAAAABQALAD0AAQAAAAAABgASAEgAAQAAAAAACgArAFoAAQAAAAAACwATAIUAAwABBAkAAQAkAJgAAwABBAkAAgAOALwAAwABBAkAAwAkAMoAAwABBAkABAAkAO4AAwABBAkABQAWARIAAwABBAkABgAkASgAAwABBAkACgBWAUwAAwABBAkACwAmAaJjb250ZXh0LW1lbnUtaWNvbnNSZWd1bGFyY29udGV4dC1tZW51LWljb25zY29udGV4dC1tZW51LWljb25zVmVyc2lvbiAxLjBjb250ZXh0LW1lbnUtaWNvbnNHZW5lcmF0ZWQgYnkgc3ZnMnR0ZiBmcm9tIEZvbnRlbGxvIHByb2plY3QuaHR0cDovL2ZvbnRlbGxvLmNvbQBjAG8AbgB0AGUAeAB0AC0AbQBlAG4AdQAtAGkAYwBvAG4AcwBSAGUAZwB1AGwAYQByAGMAbwBuAHQAZQB4AHQALQBtAGUAbgB1AC0AaQBjAG8AbgBzAGMAbwBuAHQAZQB4AHQALQBtAGUAbgB1AC0AaQBjAG8AbgBzAFYAZQByAHMAaQBvAG4AIAAxAC4AMABjAG8AbgB0AGUAeAB0AC0AbQBlAG4AdQAtAGkAYwBvAG4AcwBHAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAHMAdgBnADIAdAB0AGYAIABmAHIAbwBtACAARgBvAG4AdABlAGwAbABvACAAcAByAG8AagBlAGMAdAAuAGgAdAB0AHAAOgAvAC8AZgBvAG4AdABlAGwAbABvAC4AYwBvAG0AAAACAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkBAgEDAQQBBQEGAQcBCAEJAQoAA2FkZARjb3B5A2N1dAZkZWxldGUEZWRpdAdsb2FkaW5nBXBhc3RlBHF1aXQAAAA="},4128:e=>{e.exports="data:font/woff2;charset=utf-8;base64,d09GMgABAAAAAAaUAAsAAAAADPgAAAZFAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHFQGVgCDUgqMFIoSATYCJAMkCxQABCAFhQ4HYxscCxEVpHmS/UzI3LzQrNryNVzHQVwiFCHL2nz5zVFEm2eC5/m83nPzEn+VTgF40nqmslaC90wAXJvabmNfmEyZq06qp8x+IPMpPBlDbunxSiB1omoQc5nwqsJUMxuz/acq/O9+v/o3zCPnR85OJzSLhTjB7raHiA9R614hFE0m0qBkQo2AAHhriYeV34IALkWohFajVmouSBjQtbsVpEdHmClgN5cBfesqgH1IRI/xE+wYM+RMNQ9aAAzQZsuuA/P1OvKNYgIzN4ZCOLJJr7hqUOWrfLXVhfASHdRkqpSXD7BvhAIKtCdZuoVmdkCZUEBXblimTpF4qdPuqx2Gh6+iitZy6moodIzbP56FDWIiqDichlTa8FVkia41JGiFBK0jQRtI0CYStIUEbYPJBEdtmxzIBJpF0jQgeJbACAYWypi3o8S3VPIEx6mekOA5ZtL6NratWiefEsmus1ZuajceRHYgrmKPCpDYAxH1/GOHADCkgx6LE1BcYxUcNSD4u9tap70WLdBeUlbL1lAZTbV4CY52KB1pw2OH9J9fFCbEvAp2q20us6hfmcpgmwy3PivzDImmP2i9/mX5l2gsiDcgcE7/FBLFz7zIvP2oy0U0lnf6eaZNhkt6aVW88st5+7ZhzeKLcg+QqOPB52Xvo7H8sy/zCUg09dSzvIfQWFEaFDgYlMuzBMNaJtXh5aBFKqeuRGUug1XJA65nhgFahG3uRHjCHd+4qhHPRBisAkSWIK4eeebGRV+I4UY5SAIe9VqvPpsk7bRRnnIMW0fgucCj9zIslzk0HskFIOkxKnjpxcfs2E2Y4xJ9zguPiobHwNMCdjaIWL6vMK8akeFN8Jx+lbHjQ+PPBNfow1oSvHzUGjuNyANcY4+MBC9aCVndE9X0ZLSWoLB0BtBWygJ8Adqqq2xqwJo3nAhLS7UdltiIK1xJ4CaGmMFrFAAbRQkcZJ1hoIGU5scKDJLjf2rp35fPY9HyAY5vkB+/JWDTPmJQK33+HNamSb3N6VrrxAFBEJtnqNd2/fDhlWd5t/nZkpMyqPU6S71L0DH1z1b886tbZhK/4rSt1dvfT7iO37W+e/Hdh6JrxzuHlG6irV84O123siquXEDT9/YTcjwrEqrjHOOcqhMqPHNSPN4HZIZYDZj9m5G9Qtqru4yXFV1efD4ieVeiLZz4e386b5KsLRKUv7num6IpmpZ+iWZXxee4BBXhW1eOVahTugy/U6OEVbFx05V7EhNtT3yLKvSfO6s5VsfG8Ut1I6gpC/dS8Eo4p0xBq9psptSL4J2wDwXtmk0g1bHb+4eTvqpf5vFMv28tbL3blzYrUrKG3Ts7v2oelqWP/LLFQYfS7vtpThjc7zaiD3M18Ns4OhrHo6It/UtnWD2/6ealFdkXlLBW+snNseXlsW/P8LVdxWrP9lFX45/lyrOXrxJnn6huUWK+wX/Tnj1jY3v3Dvv6cqUYqVDYspVUkEpvLvVsdHxq6nj6HYlq1LpizWDr0/OzetZNjRjuvz21XvBceflcMLOma7qOS57y0qDoqYj2F+dbn3LMZtC01f3xduEWO7XQSSozPQ5eRBeyXxQE2y+RJwC3B3AdpJ9x+uTcQmhDySI3DKQGDRsB2wWmMTtowVAKFZJHwPpAtVg+OvyNrqlCbqHjvw3Cu+qn2kl2C+3X/3Qvnl26R+fECt9s77db8vTxidmbfOl3eKGcphcAG+3rqPhXsjuLsf2P+ltGCkkOlwh5Zvhbd4cjcgQ4TMEyGuCKJRAiZCdxsdxsIXlqP9Cs5DYo00oH0p3yEwOPisQkOXWIS37ane+RgukoRHcQfFasiEYCZ4jC5yrSnX4Sg9Synpj44khcWkmD63hAcsmmhmbGjb0JZ+d1h1XYF0o3ViZwAN9f/NDYjmaI/DDiJRnOaCrGFuod7CJjZgHC0ARpunuNI4E21GPDvmLWSRCIsHf7DU2HhmbGjT0mnJ1HF55uX4f1l26sTOohx8NvXWFs5155IMInzKUyP8+pqlTQkl7val27yPhmWIBsDE1mbFomjGIFATo8vcd1BfuoHEYnBJvxRFrl12xNz/08wEX4ekc0UaKLIaZYYosjLqpr214a0vu5cXxrcUTGC7Yd30eqtDqzvOrKel3/LuFwAAAAAA=="},1787:e=>{e.exports="data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAiEAAsAAAAADPgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAQwAAAFZAb0wIY21hcAAAAYgAAABuAAAB0osI7vJnbHlmAAAB+AAABGMAAAYUqf6Gv2hlYWQAAAZcAAAAMQAAADYYzLWPaGhlYQAABpAAAAAgAAAAJAe/A8hobXR4AAAGsAAAABUAAAAkIAD/+mxvY2EAAAbIAAAAFAAAABQGngfobWF4cAAABtwAAAAfAAAAIAEaAI5uYW1lAAAG/AAAATwAAAKOoUNzFnBvc3QAAAg4AAAATAAAAGM5s/mjeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGTuY5zAwMrAwNTJdIaBgaEfQjO+ZjBi5ACKMrAyM2AFAWmuKQwOrxhfcTAf+H+AIYb5AIMDUJgRJAcAElcM+QB4nO2R0Q2EQAhE37q4EmMpflxB92UFV/c24TFgGZK8mTAhfACwAj04A4N20VB9I22Zd/bMjU/OmPLp9x3apNFb6hKzFhsHGx7B4K0j9fd0rpsVecWlQN4LfWNaobvOtdCn5iiQbwVyL/A/vZIXbwAAeJyFVEtoXFUYPv99z0w7uZOZuSfpvO487r2N6Tycx70JsQk2MXTaaUITNZQsyiyCCzUVwQotlkiqtribuCouE1oZEAptCnYzK2kDbqTgIu2quFDIuJEu1Nz6n7lJWgriXfznf5zzP8757keA4Mev8Z+SLCEQjUjDnsiYxyHLRNUegxoTZS0BlbLGt3S6o9Nlqu9Q/SWVi31I9S5zdXX6QmXpRUKedwTCd0iKZIhBKuQNrFXWoqGIlE2zIihqoao9AePgFbIrfVABuUKdWrbXTyiNTUBoz+Afsuy7j6nuokbV31SHYg9Wpt5uu2vt9kd3trE4GJQrP9a1Lvcrbq6zI+s6hRXq4AE8dp9easOX7R/vdLFZd61FHXeKa2Eet0Xk538RInB8gSjkNDlH3iMfk8vk817fESljVm0qalIfSBnLkCVZk4MgS9mMZTrj4NiVMsVhLNNirgIqds+XBKrJ5RQYNookyKJtWmY2I0sa1Splfhx6VhCYFaa1KqaQsUYKwBKjcgpEh9XijKCmJTTtB8ioYqiu9CvuJxMCp/DCSLExN/N6VRZGCo35kiXK09OyaJXmG4URgaeDpdm5RhE1hRMm4Gs8Vw+J6u65I/FidXRY85ZYMX5EGx6tessNJ6zkowIvXHZgve7WF31x2Km7vyyBBB3WQ0IzngaGfIYgPjE5iMeOnU2W8qXp4blkqV8Rh14Tlf5S8uyxzHGaZ2s8zplPRMHwDQVmB04n05GBRiLjvp9oDETSTMBKRo4cEmJRkeO/CEPdePamo8Tv5X6f5bgejvaw2odIKhKHLBJihKomwlVCMGmIHdv5HxvS+CxZSRY9JHkIrIUOsO54EEwxrEPLrxiKvyfWAkpOCfTES173IZCYIN2VBHjmVxzbcHOG7bDg7aNKnm7SvHL0tuL/HlrM5y6zDP+hcxMnJADpHSyw+7T01mSR03vVzkeTyej5ANmf/x+cX8IbGCXj5CTi0bHkaCUKJmJRmwA7HN0fqWpX0gxzGEBcpb0rQJeNg+JGjaeQrYFsOQyNWgT+nlw4YUPc53/gD/se+I3mlGtMNZtTsJ1LKYIcV/yHD7uGadsmbJs1Keejzrq7ss59Vt2oqQX1XRVikwuTugPfYgpfGNO4dz/wEkw1g0IYM/CCbXopTsqi4fPDDZYBarWNqqouqHkcB7niZ77Lf0fSaESCXKbA1ar4T0WDSExJrjyOpmnVkhzfnb26ubV5dfZC5+KVm2PNa99ca47dvHKxcwE6S+jG6NKlR9f7Vwe3Vk9hCHecWt0aXO2//givUTjgJIUMkBhiiRhpDwVZByuw+0qAd1/hiiW+SlXoR5rS2G8M9ziCBLLdCsj7jyoHWu02GC8oSqfcsqYf8iHv+GAZaXPDkAMBmQn3q/af7grbsqhTnjDlvqIgoxGPm9/m/iA57C7CyKaILIPCZNTABHu6vffrQ9rg59Uz+BS3bqE4o7L1Vfsnqs54gRk17wUO7N5GQv4FV5EzGAB4nGNgZGBgAOLXxy8zxPPbfGXgZmEAgVs3dnTC6P+//h9gYWI+AORyMDCBRAGNQQ6nAAAAeJxjYGRgYD7w/wADAwvD/1///7EwMQBFUAAnAKWfBo54nGNgYGBggeP/v1hQ+BAMACzQAhoAAAAAAAAAADIAjAFWAdYCSAJ8As4DCnicY2BkYGDgZGhiYGcAASYg5gJCBob/YD4DABaQAakAeJyNjrtOwzAUhn/TC6KVECoSEpuHCiGhppexEmvLwNShA1uaOm2qJI4ct2ofgHdg5jmYGXgYnoE/xmKgS23p+DvfuSQArvAJgeoIdFyszhnOmf1yjXTruU5+8NxAG4+em/RPnlvsePHcxjVeuUHUL2i6ePN8hkt8eK7Rf3muk789N3AjOp6b6Ip7zy3MxbPnNu7Ee6Rzq/a2l6l820uYlTO12qahOS4cm7kyZaJzOQwGx8WpypUJrVrKxUGWu9XI2ljGRmdyUvWmqZaF0RsV2WBtbTHu92Pvg0hniKCRw0Jhz9hDRsqxJSW+VmJGt6JLEcKcNHFKz5zO8E1cLjFEgMFJk1PnqunQdS45vcCBscSOfzqitYiZx+zR3CEx+dub8mqawtU2NBF9gLWbKjBGnzf+1x+4r2c/1uR9/3icbcjLCoAgEAXQuT7TvxRnCEHSaFz09wVtO8tDhj6Z/iUYWDh4BERsSMhkC7OrY962Lg0sXVSccNPYR+F27H6W661zNSV6AHljD4A="},5852:(e,t,n)=>{var i=n(3645),r=n(1667),o=n(9411),a=n(4128),s=n(1787),c=n(5259);t=i(!1);var u=r(o),l=r(o,{hash:"#iefix"}),A=r(a),d=r(s),h=r(c);t.push([e.id,'@charset "UTF-8";\r\n/*!\r\n * jQuery contextMenu - Plugin for simple contextMenu handling\r\n *\r\n * Version: v2.9.2\r\n *\r\n * Authors: Björn Brala (SWIS.nl), Rodney Rehm, Addy Osmani (patches for FF)\r\n * Web: http://swisnl.github.io/jQuery-contextMenu/\r\n *\r\n * Copyright (c) 2011-2020 SWIS BV and contributors\r\n *\r\n * Licensed under\r\n *   MIT License http://www.opensource.org/licenses/mit-license\r\n *\r\n * Date: 2020-05-13T13:55:37.023Z\r\n */\r\n@-webkit-keyframes cm-spin {\r\n  0% {\r\n    -webkit-transform: translateY(-50%) rotate(0deg);\r\n            transform: translateY(-50%) rotate(0deg);\r\n  }\r\n  100% {\r\n    -webkit-transform: translateY(-50%) rotate(359deg);\r\n            transform: translateY(-50%) rotate(359deg);\r\n  }\r\n}\r\n@-o-keyframes cm-spin {\r\n  0% {\r\n    -webkit-transform: translateY(-50%) rotate(0deg);\r\n         -o-transform: translateY(-50%) rotate(0deg);\r\n            transform: translateY(-50%) rotate(0deg);\r\n  }\r\n  100% {\r\n    -webkit-transform: translateY(-50%) rotate(359deg);\r\n         -o-transform: translateY(-50%) rotate(359deg);\r\n            transform: translateY(-50%) rotate(359deg);\r\n  }\r\n}\r\n@keyframes cm-spin {\r\n  0% {\r\n    -webkit-transform: translateY(-50%) rotate(0deg);\r\n         -o-transform: translateY(-50%) rotate(0deg);\r\n            transform: translateY(-50%) rotate(0deg);\r\n  }\r\n  100% {\r\n    -webkit-transform: translateY(-50%) rotate(359deg);\r\n         -o-transform: translateY(-50%) rotate(359deg);\r\n            transform: translateY(-50%) rotate(359deg);\r\n  }\r\n}\r\n\r\n@font-face {\r\n  font-family: "context-menu-icons";\r\n  font-style: normal; \r\n  font-weight: normal;\r\n\r\n  src: url('+u+");\r\n  src: url("+l+') format("embedded-opentype"), url('+A+') format("woff2"), url('+d+') format("woff"), url('+h+') format("truetype");\r\n}\r\n\r\n.context-menu-icon-add:before {\r\n  content: "\\EA01";\r\n}\r\n\r\n.context-menu-icon-copy:before {\r\n  content: "\\EA02";\r\n}\r\n\r\n.context-menu-icon-cut:before {\r\n  content: "\\EA03";\r\n}\r\n\r\n.context-menu-icon-delete:before {\r\n  content: "\\EA04";\r\n}\r\n\r\n.context-menu-icon-edit:before {\r\n  content: "\\EA05";\r\n}\r\n\r\n.context-menu-icon-loading:before {\r\n  content: "\\EA06";\r\n}\r\n\r\n.context-menu-icon-paste:before {\r\n  content: "\\EA07";\r\n}\r\n\r\n.context-menu-icon-quit:before {\r\n  content: "\\EA08";\r\n}\r\n\r\n.context-menu-icon::before {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 0;\r\n  width: 2em; \r\n  font-family: "context-menu-icons";\r\n  font-size: 1em;\r\n  font-style: normal;\r\n  font-weight: normal;\r\n  line-height: 1;\r\n  color: #2980b9;\r\n  text-align: center;\r\n  -webkit-transform: translateY(-50%);\r\n      -ms-transform: translateY(-50%);\r\n       -o-transform: translateY(-50%);\r\n          transform: translateY(-50%);\r\n\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n\r\n.context-menu-icon.context-menu-hover:before {\r\n  color: #fff;\r\n}\r\n\r\n.context-menu-icon.context-menu-disabled::before {\r\n  color: #bbb;\r\n}\r\n\r\n.context-menu-icon.context-menu-icon-loading:before {\r\n  -webkit-animation: cm-spin 2s infinite;\r\n       -o-animation: cm-spin 2s infinite;\r\n          animation: cm-spin 2s infinite;\r\n}\r\n\r\n.context-menu-icon.context-menu-icon--fa {\r\n  display: list-item;\r\n  font-family: inherit;\r\n  line-height: inherit;\r\n}\r\n.context-menu-icon.context-menu-icon--fa::before {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 0;\r\n  width: 2em; \r\n  font-family: FontAwesome;\r\n  font-size: 1em;\r\n  font-style: normal;\r\n  font-weight: normal;\r\n  line-height: 1;\r\n  color: #2980b9;\r\n  text-align: center;\r\n  -webkit-transform: translateY(-50%);\r\n      -ms-transform: translateY(-50%);\r\n       -o-transform: translateY(-50%);\r\n          transform: translateY(-50%);\r\n\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n.context-menu-icon.context-menu-icon--fa.context-menu-hover:before {\r\n  color: #fff;\r\n}\r\n.context-menu-icon.context-menu-icon--fa.context-menu-disabled::before {\r\n  color: #bbb;\r\n}\r\n\r\n.context-menu-icon.context-menu-icon--fa5 {\r\n  display: list-item;\r\n  font-family: inherit;\r\n  line-height: inherit;\r\n}\r\n.context-menu-icon.context-menu-icon--fa5 i, .context-menu-icon.context-menu-icon--fa5 svg {\r\n  position: absolute;\r\n  top: .3em; \r\n  left: .5em;\r\n  color: #2980b9;\r\n}\r\n.context-menu-icon.context-menu-icon--fa5.context-menu-hover > i, .context-menu-icon.context-menu-icon--fa5.context-menu-hover > svg {\r\n  color: #fff;\r\n}\r\n.context-menu-icon.context-menu-icon--fa5.context-menu-disabled i, .context-menu-icon.context-menu-icon--fa5.context-menu-disabled svg {\r\n  color: #bbb;\r\n}\r\n\r\n.context-menu-list {\r\n  position: absolute; \r\n  display: inline-block;\r\n  min-width: 13em;\r\n  max-width: 26em;\r\n  padding: .25em 0;\r\n  margin: .3em;\r\n  font-family: inherit;\r\n  font-size: inherit;\r\n  list-style-type: none;\r\n  background: #fff;\r\n  border: 1px solid #bebebe;\r\n  border-radius: .2em;\r\n  -webkit-box-shadow: 0 2px 5px rgba(0, 0, 0, .5);\r\n          box-shadow: 0 2px 5px rgba(0, 0, 0, .5);\r\n}\r\n\r\n.context-menu-item {\r\n  position: relative;\r\n  -webkit-box-sizing: content-box;\r\n     -moz-box-sizing: content-box;\r\n          box-sizing: content-box;\r\n  padding: .2em 2em;\r\n  color: #2f2f2f;\r\n  -webkit-user-select: none;\r\n     -moz-user-select: none;\r\n      -ms-user-select: none;\r\n          user-select: none; \r\n  background-color: #fff;\r\n}\r\n\r\n.context-menu-separator {\r\n  padding: 0; \r\n  margin: .35em 0;\r\n  border-bottom: 1px solid #e6e6e6;\r\n}\r\n\r\n.context-menu-item > label > input,\r\n.context-menu-item > label > textarea {\r\n  -webkit-user-select: text;\r\n     -moz-user-select: text;\r\n      -ms-user-select: text;\r\n          user-select: text;\r\n}\r\n\r\n.context-menu-item.context-menu-hover {\r\n  color: #fff;\r\n  cursor: pointer; \r\n  background-color: #2980b9;\r\n}\r\n\r\n.context-menu-item.context-menu-disabled {\r\n  color: #bbb;\r\n  cursor: default; \r\n  background-color: #fff;\r\n}\r\n\r\n.context-menu-input.context-menu-hover {\r\n  color: #2f2f2f; \r\n  cursor: default;\r\n}\r\n\r\n.context-menu-submenu:after {\r\n  position: absolute;\r\n  top: 50%;\r\n  right: .5em;\r\n  z-index: 1; \r\n  width: 0;\r\n  height: 0;\r\n  content: \'\';\r\n  border-color: transparent transparent transparent #2f2f2f;\r\n  border-style: solid;\r\n  border-width: .25em 0 .25em .25em;\r\n  -webkit-transform: translateY(-50%);\r\n      -ms-transform: translateY(-50%);\r\n       -o-transform: translateY(-50%);\r\n          transform: translateY(-50%);\r\n}\r\n\r\n/**\r\n * Inputs\r\n */\r\n.context-menu-item.context-menu-input {\r\n  padding: .3em .6em;\r\n}\r\n\r\n/* vertically align inside labels */\r\n.context-menu-input > label > * {\r\n  vertical-align: top;\r\n}\r\n\r\n/* position checkboxes and radios as icons */\r\n.context-menu-input > label > input[type="checkbox"],\r\n.context-menu-input > label > input[type="radio"] {\r\n  position: relative;\r\n  top: .12em; \r\n  margin-right: .4em;\r\n}\r\n\r\n.context-menu-input > label {\r\n  margin: 0;\r\n}\r\n\r\n.context-menu-input > label,\r\n.context-menu-input > label > input[type="text"],\r\n.context-menu-input > label > textarea,\r\n.context-menu-input > label > select {\r\n  display: block;\r\n  width: 100%; \r\n  -webkit-box-sizing: border-box;\r\n     -moz-box-sizing: border-box;\r\n          box-sizing: border-box;\r\n}\r\n\r\n.context-menu-input > label > textarea {\r\n  height: 7em;\r\n}\r\n\r\n.context-menu-item > .context-menu-list {\r\n  top: .3em; \r\n  /* re-positioned by js */\r\n  right: -.3em;\r\n  display: none;\r\n}\r\n\r\n.context-menu-item.context-menu-visible > .context-menu-list {\r\n  display: block;\r\n}\r\n\r\n.context-menu-accesskey {\r\n  text-decoration: underline;\r\n}\r\n',""]),e.exports=t},5979:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.flatpickr-calendar{background:transparent;opacity:0;display:none;text-align:center;visibility:hidden;padding:0;-webkit-animation:none;animation:none;direction:ltr;border:0;font-size:14px;line-height:24px;border-radius:5px;position:absolute;width:307.875px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-touch-action:manipulation;touch-action:manipulation;background:#fff;-webkit-box-shadow:1px 0 0 #e6e6e6,-1px 0 0 #e6e6e6,0 1px 0 #e6e6e6,0 -1px 0 #e6e6e6,0 3px 13px rgba(0,0,0,0.08);box-shadow:1px 0 0 #e6e6e6,-1px 0 0 #e6e6e6,0 1px 0 #e6e6e6,0 -1px 0 #e6e6e6,0 3px 13px rgba(0,0,0,0.08)}.flatpickr-calendar.open,.flatpickr-calendar.inline{opacity:1;max-height:640px;visibility:visible}.flatpickr-calendar.open{display:inline-block;z-index:99999}.flatpickr-calendar.animate.open{-webkit-animation:fpFadeInDown 300ms cubic-bezier(.23,1,.32,1);animation:fpFadeInDown 300ms cubic-bezier(.23,1,.32,1)}.flatpickr-calendar.inline{display:block;position:relative;top:2px}.flatpickr-calendar.static{position:absolute;top:calc(100% + 2px)}.flatpickr-calendar.static.open{z-index:999;display:block}.flatpickr-calendar.multiMonth .flatpickr-days .dayContainer:nth-child(n+1) .flatpickr-day.inRange:nth-child(7n+7){-webkit-box-shadow:none !important;box-shadow:none !important}.flatpickr-calendar.multiMonth .flatpickr-days .dayContainer:nth-child(n+2) .flatpickr-day.inRange:nth-child(7n+1){-webkit-box-shadow:-2px 0 0 #e6e6e6,5px 0 0 #e6e6e6;box-shadow:-2px 0 0 #e6e6e6,5px 0 0 #e6e6e6}.flatpickr-calendar .hasWeeks .dayContainer,.flatpickr-calendar .hasTime .dayContainer{border-bottom:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.flatpickr-calendar .hasWeeks .dayContainer{border-left:0}.flatpickr-calendar.hasTime .flatpickr-time{height:40px;border-top:1px solid #e6e6e6}.flatpickr-calendar.noCalendar.hasTime .flatpickr-time{height:auto}.flatpickr-calendar:before,.flatpickr-calendar:after{position:absolute;display:block;pointer-events:none;border:solid transparent;content:\'\';height:0;width:0;left:22px}.flatpickr-calendar.rightMost:before,.flatpickr-calendar.arrowRight:before,.flatpickr-calendar.rightMost:after,.flatpickr-calendar.arrowRight:after{left:auto;right:22px}.flatpickr-calendar.arrowCenter:before,.flatpickr-calendar.arrowCenter:after{left:50%;right:50%}.flatpickr-calendar:before{border-width:5px;margin:0 -5px}.flatpickr-calendar:after{border-width:4px;margin:0 -4px}.flatpickr-calendar.arrowTop:before,.flatpickr-calendar.arrowTop:after{bottom:100%}.flatpickr-calendar.arrowTop:before{border-bottom-color:#e6e6e6}.flatpickr-calendar.arrowTop:after{border-bottom-color:#fff}.flatpickr-calendar.arrowBottom:before,.flatpickr-calendar.arrowBottom:after{top:100%}.flatpickr-calendar.arrowBottom:before{border-top-color:#e6e6e6}.flatpickr-calendar.arrowBottom:after{border-top-color:#fff}.flatpickr-calendar:focus{outline:0}.flatpickr-wrapper{position:relative;display:inline-block}.flatpickr-months{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.flatpickr-months .flatpickr-month{background:transparent;color:rgba(0,0,0,0.9);fill:rgba(0,0,0,0.9);height:34px;line-height:1;text-align:center;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.flatpickr-months .flatpickr-prev-month,.flatpickr-months .flatpickr-next-month{text-decoration:none;cursor:pointer;position:absolute;top:0;height:34px;padding:10px;z-index:3;color:rgba(0,0,0,0.9);fill:rgba(0,0,0,0.9)}.flatpickr-months .flatpickr-prev-month.flatpickr-disabled,.flatpickr-months .flatpickr-next-month.flatpickr-disabled{display:none}.flatpickr-months .flatpickr-prev-month i,.flatpickr-months .flatpickr-next-month i{position:relative}.flatpickr-months .flatpickr-prev-month.flatpickr-prev-month,.flatpickr-months .flatpickr-next-month.flatpickr-prev-month{/*\n      /*rtl:begin:ignore*/left:0/*\n      /*rtl:end:ignore*/}/*\n      /*rtl:begin:ignore*/\n/*\n      /*rtl:end:ignore*/\n.flatpickr-months .flatpickr-prev-month.flatpickr-next-month,.flatpickr-months .flatpickr-next-month.flatpickr-next-month{/*\n      /*rtl:begin:ignore*/right:0/*\n      /*rtl:end:ignore*/}/*\n      /*rtl:begin:ignore*/\n/*\n      /*rtl:end:ignore*/\n.flatpickr-months .flatpickr-prev-month:hover,.flatpickr-months .flatpickr-next-month:hover{color:#959ea9}.flatpickr-months .flatpickr-prev-month:hover svg,.flatpickr-months .flatpickr-next-month:hover svg{fill:#f64747}.flatpickr-months .flatpickr-prev-month svg,.flatpickr-months .flatpickr-next-month svg{width:14px;height:14px}.flatpickr-months .flatpickr-prev-month svg path,.flatpickr-months .flatpickr-next-month svg path{-webkit-transition:fill .1s;transition:fill .1s;fill:inherit}.numInputWrapper{position:relative;height:auto}.numInputWrapper input,.numInputWrapper span{display:inline-block}.numInputWrapper input{width:100%}.numInputWrapper input::-ms-clear{display:none}.numInputWrapper input::-webkit-outer-spin-button,.numInputWrapper input::-webkit-inner-spin-button{margin:0;-webkit-appearance:none}.numInputWrapper span{position:absolute;right:0;width:14px;padding:0 4px 0 2px;height:50%;line-height:50%;opacity:0;cursor:pointer;border:1px solid rgba(57,57,57,0.15);-webkit-box-sizing:border-box;box-sizing:border-box}.numInputWrapper span:hover{background:rgba(0,0,0,0.1)}.numInputWrapper span:active{background:rgba(0,0,0,0.2)}.numInputWrapper span:after{display:block;content:"";position:absolute}.numInputWrapper span.arrowUp{top:0;border-bottom:0}.numInputWrapper span.arrowUp:after{border-left:4px solid transparent;border-right:4px solid transparent;border-bottom:4px solid rgba(57,57,57,0.6);top:26%}.numInputWrapper span.arrowDown{top:50%}.numInputWrapper span.arrowDown:after{border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid rgba(57,57,57,0.6);top:40%}.numInputWrapper span svg{width:inherit;height:auto}.numInputWrapper span svg path{fill:rgba(0,0,0,0.5)}.numInputWrapper:hover{background:rgba(0,0,0,0.05)}.numInputWrapper:hover span{opacity:1}.flatpickr-current-month{font-size:135%;line-height:inherit;font-weight:300;color:inherit;position:absolute;width:75%;left:12.5%;padding:7.48px 0 0 0;line-height:1;height:34px;display:inline-block;text-align:center;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.flatpickr-current-month span.cur-month{font-family:inherit;font-weight:700;color:inherit;display:inline-block;margin-left:.5ch;padding:0}.flatpickr-current-month span.cur-month:hover{background:rgba(0,0,0,0.05)}.flatpickr-current-month .numInputWrapper{width:6ch;width:7ch\\0;display:inline-block}.flatpickr-current-month .numInputWrapper span.arrowUp:after{border-bottom-color:rgba(0,0,0,0.9)}.flatpickr-current-month .numInputWrapper span.arrowDown:after{border-top-color:rgba(0,0,0,0.9)}.flatpickr-current-month input.cur-year{background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;color:inherit;cursor:text;padding:0 0 0 .5ch;margin:0;display:inline-block;font-size:inherit;font-family:inherit;font-weight:300;line-height:inherit;height:auto;border:0;border-radius:0;vertical-align:initial;-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}.flatpickr-current-month input.cur-year:focus{outline:0}.flatpickr-current-month input.cur-year[disabled],.flatpickr-current-month input.cur-year[disabled]:hover{font-size:100%;color:rgba(0,0,0,0.5);background:transparent;pointer-events:none}.flatpickr-current-month .flatpickr-monthDropdown-months{appearance:menulist;background:transparent;border:none;border-radius:0;box-sizing:border-box;color:inherit;cursor:pointer;font-size:inherit;font-family:inherit;font-weight:300;height:auto;line-height:inherit;margin:-1px 0 0 0;outline:none;padding:0 0 0 .5ch;position:relative;vertical-align:initial;-webkit-box-sizing:border-box;-webkit-appearance:menulist;-moz-appearance:menulist;width:auto}.flatpickr-current-month .flatpickr-monthDropdown-months:focus,.flatpickr-current-month .flatpickr-monthDropdown-months:active{outline:none}.flatpickr-current-month .flatpickr-monthDropdown-months:hover{background:rgba(0,0,0,0.05)}.flatpickr-current-month .flatpickr-monthDropdown-months .flatpickr-monthDropdown-month{background-color:transparent;outline:none;padding:0}.flatpickr-weekdays{background:transparent;text-align:center;overflow:hidden;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;height:28px}.flatpickr-weekdays .flatpickr-weekdaycontainer{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}span.flatpickr-weekday{cursor:default;font-size:90%;background:transparent;color:rgba(0,0,0,0.54);line-height:1;margin:0;text-align:center;display:block;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;font-weight:bolder}.dayContainer,.flatpickr-weeks{padding:1px 0 0 0}.flatpickr-days{position:relative;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;width:307.875px}.flatpickr-days:focus{outline:0}.dayContainer{padding:0;outline:0;text-align:left;width:307.875px;min-width:307.875px;max-width:307.875px;-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-wrap:wrap;-ms-flex-pack:justify;-webkit-justify-content:space-around;justify-content:space-around;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);opacity:1}.dayContainer + .dayContainer{-webkit-box-shadow:-1px 0 0 #e6e6e6;box-shadow:-1px 0 0 #e6e6e6}.flatpickr-day{background:none;border:1px solid transparent;border-radius:150px;-webkit-box-sizing:border-box;box-sizing:border-box;color:#393939;cursor:pointer;font-weight:400;width:14.2857143%;-webkit-flex-basis:14.2857143%;-ms-flex-preferred-size:14.2857143%;flex-basis:14.2857143%;max-width:39px;height:39px;line-height:39px;margin:0;display:inline-block;position:relative;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center}.flatpickr-day.inRange,.flatpickr-day.prevMonthDay.inRange,.flatpickr-day.nextMonthDay.inRange,.flatpickr-day.today.inRange,.flatpickr-day.prevMonthDay.today.inRange,.flatpickr-day.nextMonthDay.today.inRange,.flatpickr-day:hover,.flatpickr-day.prevMonthDay:hover,.flatpickr-day.nextMonthDay:hover,.flatpickr-day:focus,.flatpickr-day.prevMonthDay:focus,.flatpickr-day.nextMonthDay:focus{cursor:pointer;outline:0;background:#e6e6e6;border-color:#e6e6e6}.flatpickr-day.today{border-color:#959ea9}.flatpickr-day.today:hover,.flatpickr-day.today:focus{border-color:#959ea9;background:#959ea9;color:#fff}.flatpickr-day.selected,.flatpickr-day.startRange,.flatpickr-day.endRange,.flatpickr-day.selected.inRange,.flatpickr-day.startRange.inRange,.flatpickr-day.endRange.inRange,.flatpickr-day.selected:focus,.flatpickr-day.startRange:focus,.flatpickr-day.endRange:focus,.flatpickr-day.selected:hover,.flatpickr-day.startRange:hover,.flatpickr-day.endRange:hover,.flatpickr-day.selected.prevMonthDay,.flatpickr-day.startRange.prevMonthDay,.flatpickr-day.endRange.prevMonthDay,.flatpickr-day.selected.nextMonthDay,.flatpickr-day.startRange.nextMonthDay,.flatpickr-day.endRange.nextMonthDay{background:#569ff7;-webkit-box-shadow:none;box-shadow:none;color:#fff;border-color:#569ff7}.flatpickr-day.selected.startRange,.flatpickr-day.startRange.startRange,.flatpickr-day.endRange.startRange{border-radius:50px 0 0 50px}.flatpickr-day.selected.endRange,.flatpickr-day.startRange.endRange,.flatpickr-day.endRange.endRange{border-radius:0 50px 50px 0}.flatpickr-day.selected.startRange + .endRange:not(:nth-child(7n+1)),.flatpickr-day.startRange.startRange + .endRange:not(:nth-child(7n+1)),.flatpickr-day.endRange.startRange + .endRange:not(:nth-child(7n+1)){-webkit-box-shadow:-10px 0 0 #569ff7;box-shadow:-10px 0 0 #569ff7}.flatpickr-day.selected.startRange.endRange,.flatpickr-day.startRange.startRange.endRange,.flatpickr-day.endRange.startRange.endRange{border-radius:50px}.flatpickr-day.inRange{border-radius:0;-webkit-box-shadow:-5px 0 0 #e6e6e6,5px 0 0 #e6e6e6;box-shadow:-5px 0 0 #e6e6e6,5px 0 0 #e6e6e6}.flatpickr-day.flatpickr-disabled,.flatpickr-day.flatpickr-disabled:hover,.flatpickr-day.prevMonthDay,.flatpickr-day.nextMonthDay,.flatpickr-day.notAllowed,.flatpickr-day.notAllowed.prevMonthDay,.flatpickr-day.notAllowed.nextMonthDay{color:rgba(57,57,57,0.3);background:transparent;border-color:transparent;cursor:default}.flatpickr-day.flatpickr-disabled,.flatpickr-day.flatpickr-disabled:hover{cursor:not-allowed;color:rgba(57,57,57,0.1)}.flatpickr-day.week.selected{border-radius:0;-webkit-box-shadow:-5px 0 0 #569ff7,5px 0 0 #569ff7;box-shadow:-5px 0 0 #569ff7,5px 0 0 #569ff7}.flatpickr-day.hidden{visibility:hidden}.rangeMode .flatpickr-day{margin-top:1px}.flatpickr-weekwrapper{float:left}.flatpickr-weekwrapper .flatpickr-weeks{padding:0 12px;-webkit-box-shadow:1px 0 0 #e6e6e6;box-shadow:1px 0 0 #e6e6e6}.flatpickr-weekwrapper .flatpickr-weekday{float:none;width:100%;line-height:28px}.flatpickr-weekwrapper span.flatpickr-day,.flatpickr-weekwrapper span.flatpickr-day:hover{display:block;width:100%;max-width:none;color:rgba(57,57,57,0.3);background:transparent;cursor:default;border:none}.flatpickr-innerContainer{display:block;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}.flatpickr-rContainer{display:inline-block;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box}.flatpickr-time{text-align:center;outline:0;display:block;height:0;line-height:40px;max-height:40px;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.flatpickr-time:after{content:"";display:table;clear:both}.flatpickr-time .numInputWrapper{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;width:40%;height:40px;float:left}.flatpickr-time .numInputWrapper span.arrowUp:after{border-bottom-color:#393939}.flatpickr-time .numInputWrapper span.arrowDown:after{border-top-color:#393939}.flatpickr-time.hasSeconds .numInputWrapper{width:26%}.flatpickr-time.time24hr .numInputWrapper{width:49%}.flatpickr-time input{background:transparent;-webkit-box-shadow:none;box-shadow:none;border:0;border-radius:0;text-align:center;margin:0;padding:0;height:inherit;line-height:inherit;color:#393939;font-size:14px;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}.flatpickr-time input.flatpickr-hour{font-weight:bold}.flatpickr-time input.flatpickr-minute,.flatpickr-time input.flatpickr-second{font-weight:400}.flatpickr-time input:focus{outline:0;border:0}.flatpickr-time .flatpickr-time-separator,.flatpickr-time .flatpickr-am-pm{height:inherit;float:left;line-height:inherit;color:#393939;font-weight:bold;width:2%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center}.flatpickr-time .flatpickr-am-pm{outline:0;width:18%;cursor:pointer;text-align:center;font-weight:400}.flatpickr-time input:hover,.flatpickr-time .flatpickr-am-pm:hover,.flatpickr-time input:focus,.flatpickr-time .flatpickr-am-pm:focus{background:#eee}.flatpickr-input[readonly]{cursor:pointer}@-webkit-keyframes fpFadeInDown{from{opacity:0;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}to{opacity:1;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}@keyframes fpFadeInDown{from{opacity:0;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}to{opacity:1;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}',""]),e.exports=t},5533:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-directive-display-on-device.none-devices-match,.fv__ui-directive-hide-on-device.devices-match{display:none !important}",""]),e.exports=t},987:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-visible-only-container{position:relative}.fv__ui-visible-only-element{visibility:hidden}",""]),e.exports=t},8600:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-foreach-delay-container{position:relative}.fv__ui-foreach-delay-container>.fv__ui-foreach-delay-item{position:absolute}",""]),e.exports=t},8778:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-directive-scrollable{scrollbar-width:none}.fv__ui-directive-scrollable::-webkit-scrollbar{display:none}.fv__ui-directive-scrollable-vertical{overflow-y:auto}.fv__ui-directive-scrollable-horizontal{overflow-x:auto}.fv__ui-scrollable-scrolling *{-webkit-touch-callout:none !important;-webkit-user-select:none !important;-moz-user-select:none !important;-ms-user-select:none !important;-o-user-select:none !important;user-select:none !important}",""]),e.exports=t},3883:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-draggable-target{position:absolute}.fv__ui-draggable-action{cursor:move}",""]),e.exports=t},5609:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-resizable-action{cursor:nw-resize;background:rgba(0,0,0,0);position:absolute;right:0;bottom:0;width:10px;height:10px}",""]),e.exports=t},2730:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-directive-show-hidden,.fv__ui-directive-hide-hidden{display:none !important}",""]),e.exports=t},2868:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-directive-tooltip-tip{position:fixed;box-shadow:rgba(151,151,151,.35) 0 0 14px 3px;box-shadow:var(--fv-drop-shadow, rgba(151, 151, 151, 0.35) 0 0 14px 3px);border-radius:5px;font-size:12px;text-align:left;background:#fff;background-color:var(--fv-file-page-content-bg, #FFFFFF);padding:10px;margin:0;z-index:1061;line-height:1}.fv__ui-directive-tooltip-tip>.fv__ui-directive-tooltip-title{white-space:pre-line}.fv__ui-tooltip-arrow{position:absolute;display:block;width:12px;height:12px;overflow:hidden;background:0 0;pointer-events:none}.fv__ui-tooltip-placement-bottom .fv__ui-tooltip-arrow{top:-8.484px;left:50%;margin-left:-6px}.fv__ui-tooltip-placement-top .fv__ui-tooltip-arrow{bottom:-8.484px;left:50%;margin-left:-6px}.fv__ui-tooltip-placement-right .fv__ui-tooltip-arrow{left:-6px;top:50%;margin-top:-6px}.fv__ui-tooltip-placement-left .fv__ui-tooltip-arrow{right:-6px;top:50%;margin-top:-6px}.fv__ui-tooltip-arrow-content{position:absolute;top:0;right:0;bottom:0;left:0;display:block;width:12px;height:12px;background-color:#fff;background-color:var(--fv-file-page-content-bg, #FFFFFF);pointer-events:auto}.fv__ui-tooltip-placement-bottom .fv__ui-tooltip-arrow-content{-webkit-transform:translateY(4px) rotate(45deg);-moz-transform:translateY(4px) rotate(45deg);-ms-transform:translateY(4px) rotate(45deg);-o-transform:translateY(4px) rotate(45deg);transform:translateY(4px) rotate(45deg)}.fv__ui-tooltip-placement-top .fv__ui-tooltip-arrow-content{-webkit-transform:translateY(-3px) rotate(45deg);-moz-transform:translateY(-3px) rotate(45deg);-ms-transform:translateY(-3px) rotate(45deg);-o-transform:translateY(-3px) rotate(45deg);transform:translateY(-3px) rotate(45deg)}.fv__ui-tooltip-placement-right .fv__ui-tooltip-arrow-content{-webkit-transform:translateX(2px) rotate(45deg);-moz-transform:translateX(2px) rotate(45deg);-ms-transform:translateX(2px) rotate(45deg);-o-transform:translateX(2px) rotate(45deg);transform:translateX(2px) rotate(45deg)}.fv__ui-tooltip-placement-left .fv__ui-tooltip-arrow-content{-webkit-transform:translateX(-3px) rotate(45deg);-moz-transform:translateX(-3px) rotate(45deg);-ms-transform:translateX(-3px) rotate(45deg);-o-transform:translateX(-3px) rotate(45deg);transform:translateX(-3px) rotate(45deg)}.fv__ui-directive-tooltip-desc{margin:.5em 0}",""]),e.exports=t},2547:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-accordion-card-header-button>i{display:inline-block}.fv__ui-accordion-card{min-width:0;word-wrap:break-word;background-clip:border-box;box-sizing:border-box;margin-top:12px}.fv__ui-accordion-card.active .fv__ui-accordion-card-header-button>i{transform:rotate(360deg)}.fv__ui-accordion-card.active .fv__ui-accordion-card-body{height:auto;overflow:visible}.fv__ui-accordion-card-header{font-size:12px;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;line-height:1}.fv__ui-accordion-card-header.selected button{background-color:var(--fv-hover-bg, #D8DBE5);background-color:var(--fv-secondary-bg, var(--fv-hover-bg, #D8DBE5))}.fv__ui-accordion-card-header-button{border:none;margin:0;outline:none;border-radius:3px;background-color:#f4f4f4;background-color:var(--fv-secondary-bg, #f4f4f4);padding:9px 10px;cursor:pointer;width:100%;text-align:left;font-family:inherit;font-size:1em;line-height:1}.fv__ui-accordion-card-header-button .fv__ui-mobile.fv__ui-tablet{font-size:12px}.fv__ui-accordion-card-header-button>span{color:var(--fv-primary-color, #131313);color:var(--fv-secondary-color, #333)}.fv__ui-accordion-card-header-button>i{width:12px;height:12px;float:right;transform:rotate(270deg);transition:transform .2s ease-out}.fv__ui-accordion-card-body{height:0;overflow:hidden}.fv__ui-mobile .fv__ui-accordion-card-header{font-size:3.2vmin;padding:2.1333333333vmin;border-radius:0.6666666667vmin}.fv__ui-mobile .fv__ui-accordion-card-header>i{width:3.2vmin;height:3.2vmin}",""]),e.exports=t},6613:(e,t,n)=>{var i=n(3645),r=n(1667),o=n(5767);t=i(!1);var a=r(o);t.push([e.id,".fv__ui-fileselector-label,.fv__ui-button{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-button{-webkit-box-pack:center;-moz-box-pack:center;box-pack:center;-webkit-justify-content:center;-moz-justify-content:center;-o-justify-content:center;justify-content:center}.fv__ui-fileselector-label,.fv__ui-button{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__ui-button-text,.fv__dropdown-button.fv__ui-button>span{display:inline-block}.fv__ui-button:not(.disabled):not(.active):focus{outline:1px solid var(--fv-btn-outline-color, #d9d9d9);border-radius:4px;outline-offset:-2px}.fv__ui-dropdown-list .fv__ui-button:not(.disabled):not(.active):focus{outline-offset:-4px}.fv__dropdown-button.fv__ui-button{width:auto;min-width:168px;line-height:34px;border:1px rgba(0,0,0,0)}.fv__ui-comparison-pdf-file-selector{padding:5px 0}.fv__ui-button{-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;cursor:pointer;box-sizing:border-box;font-size:12px;line-height:24px;background-color:rgba(0,0,0,0);border:1px solid rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;white-space:nowrap}.fv__ui-button .fv__ui-button-icon{width:1rem;height:1rem}.fv__ui-button.active{background:#f0f1f5;background-color:var(--fv-btn-pressed-bg, #F0F1F5)}.fv__ui-button.disabled{color:#666;filter:alpha(opacity=50);-moz-opacity:.5;-khtml-opacity:.5;opacity:.5;cursor:not-allowed}.fv__ui-button:not(.disabled):hover{color:var(--fv-accent-btn-color, #FFFFFF);background-color:var(--fv-accent-btn-hover-bg, #B051BE)}.fv__ui-button:not(.disabled):not(.active):focus .fv__ui-high-contrast.fv__ui-browser-firefox{background-color:Highlight}@media(forced-colors: active){.fv__ui-button:not(.disabled):not(.active):focus .fv__ui-high-contrast{background-color:Highlight}}.fv__ui-button>*{position:relative}.fv__ui-button-sm,.fv__ui-button-sm .fv__ui-button-icon{width:16px;height:16px}.fv__ui-button-text{color:#131313;color:var(--fv-primary-color, #131313);white-space:nowrap}.fv__ui-button-text.accent-text{color:var(--fv-accent-btn-color, #FFFFFF)}.fv__ui-fileselector{height:24px;padding:0 12px;font-size:14px;border-radius:24px;line-height:20px;color:#131313;color:var(--Primary_text, #131313);background-color:#fbfbfd;background-color:var(--fv-primary-bg, #FBFBFD)}.fv__ui-fileselector.disabled>.fv__ui-fileselector-label{cursor:not-allowed}.fv__ui-fileselector-label{-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;width:100%;height:100%;cursor:pointer;box-sizing:border-box;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.fv__ui-fileselector-input{display:none}.fx-ribbon-item{display:block;background-color:rgba(0,0,0,0);outline:1px solid rgba(0,0,0,0)}.fx-ribbon-item>*{position:relative}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button .fv__ui-button-text{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;color:WindowText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button.disabled .fv__ui-button-text{color:GrayText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button.disabled:not(.fv__ui-dropdown-button){outline:1px solid;outline-offset:-2px}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled).active,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled).active .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):hover,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):hover .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):focus,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):focus .fv__ui-button-text{background-color:Highlight;color:HighlightText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button.fv__ui-fileselector.disabled{outline-color:GrayText}.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item{border:none;padding:1px 5px}.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item-text{forced-color-adjust:none;forced-color-adjust:preserve-parent-color}.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled) .fx-ribbon-item-text:focus{background-color:Highlight;color:HighlightText;outline:none}.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled) .fx-ribbon-item-text:focus .fx-ribbon-item-more svg polygon{fill:HighlightText}.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled) .fx-ribbon-item-text:focus .fx-ribbon-item-more .fv__ribbonButton-arrow{background-image:url("+a+")}.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).active,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).active .fx-ribbon-item-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled):hover,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled):hover .fx-ribbon-item-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled):focus,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled):focus .fx-ribbon-item-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active .fx-ribbon-item-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active:focus,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active:focus .fx-ribbon-item-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item.selected,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item.selected .fx-ribbon-item-text{background-color:Highlight;color:HighlightText}.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).active .fx-ribbon-item-more svg>polygon,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled):hover .fx-ribbon-item-more svg>polygon,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled):focus .fx-ribbon-item-more svg>polygon,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active .fx-ribbon-item-more svg>polygon,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active:focus .fx-ribbon-item-more svg>polygon,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item.selected .fx-ribbon-item-more svg>polygon{fill:HighlightText}.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).active .fx-ribbon-item-more .fv__ribbonButton-arrow,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled):hover .fx-ribbon-item-more .fv__ribbonButton-arrow,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled):focus .fx-ribbon-item-more .fv__ribbonButton-arrow,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active .fx-ribbon-item-more .fv__ribbonButton-arrow,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active:focus .fx-ribbon-item-more .fv__ribbonButton-arrow,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item.selected .fx-ribbon-item-more .fv__ribbonButton-arrow{background-image:url("+a+")}.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).active .fx-ribbon-item-icon,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled):hover .fx-ribbon-item-icon,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled):focus .fx-ribbon-item-icon,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active .fx-ribbon-item-icon,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active:focus .fx-ribbon-item-icon,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item.selected .fx-ribbon-item-icon{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;background-color:rgba(0,0,0,0)}.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item-disabled{border-color:GrayText}.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item-disabled,.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item-disabled .fx-ribbon-item-text{color:GrayText}.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item-disabled .fx-ribbon-item-more svg>polygon{fill:graytext}.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item-text{color:WindowText}.fv__ui-high-contrast.fv__ui-browser-firefox .fx-ribbon-item-more svg>polygon{fill:WindowText}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-button .fv__ui-button-text{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;color:WindowText}.fv__ui-high-contrast .fv__ui-button.disabled .fv__ui-button-text{color:GrayText}.fv__ui-high-contrast .fv__ui-button.disabled:not(.fv__ui-dropdown-button){outline:1px solid;outline-offset:-2px}.fv__ui-high-contrast .fv__ui-button:not(.disabled).active,.fv__ui-high-contrast .fv__ui-button:not(.disabled).active .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-button:not(.disabled):hover,.fv__ui-high-contrast .fv__ui-button:not(.disabled):hover .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-button:not(.disabled):focus,.fv__ui-high-contrast .fv__ui-button:not(.disabled):focus .fv__ui-button-text{background-color:Highlight;color:HighlightText}.fv__ui-high-contrast .fv__ui-button.fv__ui-fileselector.disabled{outline-color:GrayText}.fv__ui-high-contrast .fx-ribbon-item{border:none;padding:1px 5px}.fv__ui-high-contrast .fx-ribbon-item-text{forced-color-adjust:none;forced-color-adjust:preserve-parent-color}.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled) .fx-ribbon-item-text:focus{background-color:Highlight;color:HighlightText;outline:none}.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled) .fx-ribbon-item-text:focus .fx-ribbon-item-more svg polygon{fill:HighlightText}.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled) .fx-ribbon-item-text:focus .fx-ribbon-item-more .fv__ribbonButton-arrow{background-image:url("+a+")}.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).active,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).active .fx-ribbon-item-text,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled):hover,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled):hover .fx-ribbon-item-text,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled):focus,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled):focus .fx-ribbon-item-text,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active .fx-ribbon-item-text,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active:focus,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active:focus .fx-ribbon-item-text,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item.selected,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item.selected .fx-ribbon-item-text{background-color:Highlight;color:HighlightText}.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).active .fx-ribbon-item-more svg>polygon,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled):hover .fx-ribbon-item-more svg>polygon,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled):focus .fx-ribbon-item-more svg>polygon,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active .fx-ribbon-item-more svg>polygon,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active:focus .fx-ribbon-item-more svg>polygon,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item.selected .fx-ribbon-item-more svg>polygon{fill:HighlightText}.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).active .fx-ribbon-item-more .fv__ribbonButton-arrow,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled):hover .fx-ribbon-item-more .fv__ribbonButton-arrow,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled):focus .fx-ribbon-item-more .fv__ribbonButton-arrow,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active .fx-ribbon-item-more .fv__ribbonButton-arrow,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active:focus .fx-ribbon-item-more .fv__ribbonButton-arrow,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item.selected .fx-ribbon-item-more .fv__ribbonButton-arrow{background-image:url("+a+")}.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).active .fx-ribbon-item-icon,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled):hover .fx-ribbon-item-icon,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled):focus .fx-ribbon-item-icon,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active .fx-ribbon-item-icon,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item-active:focus .fx-ribbon-item-icon,.fv__ui-high-contrast .fx-ribbon-item:not(.fx-ribbon-item-disabled).fx-ribbon-item.selected .fx-ribbon-item-icon{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;background-color:rgba(0,0,0,0)}.fv__ui-high-contrast .fx-ribbon-item-disabled{border-color:GrayText}.fv__ui-high-contrast .fx-ribbon-item-disabled,.fv__ui-high-contrast .fx-ribbon-item-disabled .fx-ribbon-item-text{color:GrayText}.fv__ui-high-contrast .fx-ribbon-item-disabled .fx-ribbon-item-more svg>polygon{fill:graytext}.fv__ui-high-contrast .fx-ribbon-item-text{color:WindowText}.fv__ui-high-contrast .fx-ribbon-item-more svg>polygon{fill:WindowText}}",""]),e.exports=t},7978:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".collapse-panel .header .icon-triangle{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.collapse-panel .header .icon-triangle{-webkit-box-pack:center;-moz-box-pack:center;box-pack:center;-webkit-justify-content:center;-moz-justify-content:center;-o-justify-content:center;justify-content:center}.collapse-panel .header .icon-triangle{-webkit-box-direction:normal;-webkit-box-orient:vertical;-moz-box-direction:normal;-moz-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.collapse-panel .header{display:-ms-flex;display:flex;-ms-flex-align:center;align-items:center;height:30px;line-height:30px;margin-bottom:10px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.collapse-panel .header .icon-triangle svg polygon{fill:#333}.collapse-panel .header .icon-triangle.right svg polygon.right-bottom{display:none}.collapse-panel .header .icon-triangle.right-bottom svg polygon.right{display:none}.collapse-panel .header .text{-ms-flex-negative:0;flex-shrink:0;margin-left:5px;color:var(--fv-primary-color, #131313)}.collapse-panel .header .text:focus{outline:1px solid #b5b4b4}.collapse-panel .header .line{width:100%;height:1px;margin-left:10px;background-color:var(--Spacing_line_color, #E6E9F0)}.fv__ui-high-contrast.fv__ui-browser-firefox .collapse-panel .header .icon-triangle svg polygon{fill:WindowText}@media(forced-colors: active){.fv__ui-high-contrast .collapse-panel .header .icon-triangle svg polygon{fill:WindowText}}",""]),e.exports=t},4162:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.fv__ui-contextmenu{min-width:13.13em;-webkit-box-shadow:0 2px 5px rgba(0, 0, 0, .5);-moz-box-shadow:0 2px 5px rgba(0, 0, 0, .5);-ms-box-shadow:0 2px 5px rgba(0, 0, 0, .5);-o-box-shadow:0 2px 5px rgba(0, 0, 0, .5);box-shadow:0 2px 5px rgba(0, 0, 0, .5);border-radius:.2em;border:1px solid #bebebe;border-color:var(--fv-frame-border-color, #bebebe);-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.fv__ui-contextmenu.fv__ui-layer{padding:.25em 0;position:fixed}.fv__ui-contextmenu .fv__ui-layer-inner{padding:0}.fv__ui-contextmenu .fv__ui-button-icon{width:24px;height:24px;background-position:center;background-size:contain;margin-right:4px}.fv__ui-contextmenu .fv__ui-option-group .fv__ui-button-icon{margin-right:0}.fv__ui-contextmenu-item{margin:.25rem .375rem;padding:.125rem .5rem;height:30px;line-height:30px;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.fv__ui-contextmenu-item:not(.disabled):hover,.fv__ui-contextmenu-item.fv__ui-button:not(.disabled):hover{background-color:#f0f1f5;background-color:var(--fv-hover-bg, #D8DBE5)}.fv__ui-cotextmenu-separator{display:block;border:var(--fv-frame-border, 1px solid #C7CCD9);border-color:var(--base-border-color, #C7CCD9);border-bottom:none;pointer-events:none;margin:0 1em}.fv__ui-cotextmenu-separator+.fv__ui-cotextmenu-separator,.fv__ui-cotextmenu-separator+.fv__ui-hide+.fv__ui-cotextmenu-separator{display:none}.context-menu-item.context-menu-separator.context-menu-not-selectable{margin:0 1em}.fv__ui-contextmenu-item-shortcut{font-size:12px;color:#aaa;white-space:nowrap;line-height:24px;margin-left:auto;padding-left:5px}.fv__ui-contextmenu .fv__ui-button{text-align:left}.fv__ui-contextmenu .fv__ui-dropdown,.fv__ui-contextmenu .fv__ui-button{display:block;width:95%;height:30px;font-size:12px;line-height:24px;border-radius:0;margin:.25rem .375rem;padding:.125rem .5rem}.fv__ui-contextmenu .fv__ui-dropdown .fv__ui-dropdown-toggler{font-size:1em;font-family:"Segoe UI",-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";border-left:0;border-right:0}.fv__ui-contextmenu .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text{color:#131313;color:var(--fv-primary-color, #131313)}.fv__ui-contextmenu .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-mobile.fv__ui-tablet{font-size:3.2vmin;padding:0 20px}.fv__ui-contextmenu .fv__ui-dropdown .fv__icon-toolbar-caret{transform:rotateZ(-90deg);background-color:rgba(0,0,0,0) !important}.fv__ui-contextmenu .fv__ui-dropdown .fv__ui-dropdown-list>.fv__ui-dropdown-item{display:flex;padding:.2em 2em;height:inherit;font-size:12px;line-height:24px;color:#444}.fv__ui-contextmenu .fv__ui-dropdown .fv__ui-dropdown-list>.fv__ui-dropdown-item:hover{background-color:#f0f1f5}.fv__ui-contextmenu .fv__ui-dropdown .fv__ui-dropdown-list>.fv__ui-dropdown-button{font-size:inherit}.fv__ui-contextmenu .fv__ui-dropdown[disabled]{cursor:default;opacity:.6}.fv__ui-contextmenu .fv__ui-dropdown[disabled] .fv__ui-dropdown-toggler{cursor:inherit}.fv__ui-contextmenu .fv__ui-dropdown:not([disabled]):hover{background-color:var(--fv-hover-bg, #D8DBE5)}.fv__ui-contextmenu .fv__ui-dropdown:not([disabled]).active{background-color:var(--fv-active-bg, #E6E9F0)}.fv__ui-mobile.fv__ui-tablet .fv__ui-contextmenu .fv__ui-dropdown{height:4.5714285714vmin;line-height:4.5714285714vmin}.fv__ui-mobile.fv__ui-tablet .fv__ui-contextmenu .fv__ui-dropdown .fv__ui-dropdown-toggler{font-size:1.3714285714vmin;padding-left:13px}.fv__ui-mobile.fv__ui-tablet .fv__ui-contextmenu-item.fv__ui-button{height:4.5714285714vmin;line-height:4.5714285714vmin;padding:0}.fv__ui-mobile.fv__ui-tablet .fv__ui-contextmenu-item.fv__ui-button .fv__ui-button-text{font-size:1.3714285714vmin;line-height:4.5714285714vmin;padding:2px 20px}.fv__ui-mobile .fv__ui-contextmenu{font-size:3.2vmin}.fv__ui-mobile .fv__ui-contextmenu.fv__ui-layer{padding:.25em 0}.fv__ui-mobile .fv__ui-contextmenu .fv__ui-dropdown{height:8.5333333333vmin;line-height:8.5333333333vmin}.fv__ui-mobile .fv__ui-contextmenu-item{height:8.5333333333vmin;line-height:8.5333333333vmin}.fv__ui-mobile .fv__ui-contextmenu-item.fv__ui-button{width:auto;height:8.5333333333vmin;line-height:8.5333333333vmin;font-size:3.2vmin;justify-content:flex-start}.fv__ui-mobile .fv__ui-contextmenu-item.fv__ui-button .fv__ui-contextmenu-item-shortcut{display:none}.fv__ui-mobile .fv__ui-contextmenu-item.fv__ui-button .fv__ui-button-text{font-size:3.2vmin;line-height:8.5333333333vmin;padding-left:0}.fv__ui-mobile .fv__ui-contextmenu-item.fv__ui-button span,.fv__ui-mobile .fv__ui-contextmenu-item.fv__ui-button .fv__ui-button-text{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.fv__ui-mobile .fv__ui-contextmenu-item:not(.disabled):hover>span,.fv__ui-mobile .fv__ui-contextmenu-item:not(.disabled):hover>label>span,.fv__ui-mobile .fv__ui-contextmenu-item:not(.disabled):hover .fv__ui-button-text{color:#000}.fv__ui-mobile .fv__ui-cotextmenu-separator,.fv__ui-mobile .fv__ui-contextmenu-item{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item-shortcut{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;opacity:.8}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button{border:0}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button:not(.disabled):hover,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button.selected,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button.active{background-color:Highlight;outline:none}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button:not(.disabled):hover>span,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button:not(.disabled):hover>label>span,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button:not(.disabled):hover .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button:not(.disabled):hover .fv__ui-contextmenu-item-shortcut,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button.selected>span,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button.selected>label>span,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button.selected .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button.selected .fv__ui-contextmenu-item-shortcut,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button.active>span,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button.active>label>span,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button.active .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button.active .fv__ui-contextmenu-item-shortcut{color:HighlightText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button>span,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button>label>span,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button .fv__ui-contextmenu-item-shortcut{color:WindowText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu .fv__ui-dropdown .fv__ui-dropdown-toggler{outline:none;border:none}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;color:WindowText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu .fv__ui-dropdown.active{background-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu .fv__ui-dropdown.active>.fv__ui-dropdown-toggler>.fv__ui-dropdown-toggler-text{background-color:Highlight;color:HighlightText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu .fv__ui-dropdown.disabled{outline:none;opacity:1}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu .fv__ui-dropdown.disabled>.fv__ui-dropdown-toggler>.fv__ui-dropdown-toggler-text{color:GrayText}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-contextmenu-item-shortcut{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;opacity:.8}.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button{border:0}.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button:not(.disabled):hover,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button.selected,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button.active{background-color:Highlight;outline:none}.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button:not(.disabled):hover>span,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button:not(.disabled):hover>label>span,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button:not(.disabled):hover .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button:not(.disabled):hover .fv__ui-contextmenu-item-shortcut,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button.selected>span,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button.selected>label>span,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button.selected .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button.selected .fv__ui-contextmenu-item-shortcut,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button.active>span,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button.active>label>span,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button.active .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button.active .fv__ui-contextmenu-item-shortcut{color:HighlightText}.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button>span,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button>label>span,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-contextmenu-item.fv__ui-button .fv__ui-contextmenu-item-shortcut{color:WindowText}.fv__ui-high-contrast .fv__ui-contextmenu .fv__ui-dropdown .fv__ui-dropdown-toggler{outline:none;border:none}.fv__ui-high-contrast .fv__ui-contextmenu .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;color:WindowText}.fv__ui-high-contrast .fv__ui-contextmenu .fv__ui-dropdown.active{background-color:Highlight}.fv__ui-high-contrast .fv__ui-contextmenu .fv__ui-dropdown.active>.fv__ui-dropdown-toggler>.fv__ui-dropdown-toggler-text{background-color:Highlight;color:HighlightText}.fv__ui-high-contrast .fv__ui-contextmenu .fv__ui-dropdown.disabled{outline:none;opacity:1}.fv__ui-high-contrast .fv__ui-contextmenu .fv__ui-dropdown.disabled>.fv__ui-dropdown-toggler>.fv__ui-dropdown-toggler-text{color:GrayText}}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button:not(.disabled):hover{outline:1px dotted highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button.selected,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button.selected:hover,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button.active,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button.active:hover{outline:1px solid highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button>span,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button>label>span,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-contextmenu-item.fv__ui-button .fv__ui-button-text{color:WindowText}',""]),e.exports=t},1286:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-alert-dialog .fv__ui-layer-message-icon{display:inline-block}.fv__ui-alert-dialog{border-radius:5px;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.fv__ui-alert-dialog .fv__ui-layer-header-title{padding-right:170px}.fv__ui-alert-dialog .fv__ui-layer-panel{font-size:12px;padding:1em;padding-left:0;white-space:pre-wrap;word-break:break-word}.fv__ui-alert-dialog .fv__ui-layer-inner{min-width:356px}.fv__ui-alert-dialog .fv__ui-dialog-message{display:flex;padding:22px 0;align-items:center;white-space:pre-wrap;overflow:hidden;word-wrap:break-word}.fv__ui-alert-dialog .fv__ui-layer-message-icon{flex:none;margin-right:10px;width:24px;height:24px}.fv__ui-alert-dialog .fv__ui-dialog-again{display:flex;margin-bottom:20px;font-size:12px;cursor:pointer}.fv__ui-alert-dialog .fv__ui-dialog-again>input{margin-right:5px;width:14px;height:14px}.fv__ui-mobile .fv__ui-alert-dialog{border-radius:0.6666666667vmin}.fv__ui-mobile .fv__ui-alert-dialog .fv__ui-layer-header-title{padding-right:0px}.fv__ui-mobile .fv__ui-alert-dialog .fv__ui-layer-header-inner{padding:0}.fv__ui-mobile .fv__ui-alert-dialog .fv__ui-layer-inner{min-width:auto}.fv__ui-mobile .fv__ui-alert-dialog .fv__ui-layer-panel{font-size:3.2vmin;min-width:26.6666666667vmin}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-alert-dialog{border:1px solid}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-alert-dialog{border:1px solid}}",""]),e.exports=t},2891:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-confirm-dialog .fv__ui-layer-message-icon{display:inline-block}.fv__ui-confirm-dialog{border-radius:3px;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.fv__ui-confirm-dialog .fv__ui-layer-header-title{padding-right:170px}.fv__ui-confirm-dialog .fv__ui-layer-panel{padding:0}.fv__ui-confirm-dialog .fv__ui-confirm-message{font-size:12px;padding-bottom:.5em}.fv__ui-confirm-dialog .fv__ui-layer-inner{min-width:356px}.fv__ui-confirm-dialog .fv__ui-dialog-message{display:flex;padding:0 0 22px 0;align-items:center;white-space:pre-wrap;overflow:hidden;word-break:break-word;word-wrap:break-word}.fv__ui-confirm-dialog .fv__ui-layer-message-icon{flex:none;margin-right:10px;width:24px;height:24px}.fv__ui-confirm-dialog .fv__ui-dialog-again{display:flex;position:absolute;left:22px;bottom:28px;align-items:center;font-size:12px;cursor:pointer}.fv__ui-confirm-dialog .fv__ui-dialog-again>input{margin-right:5px;width:14px;height:14px}.fv__ui-mobile .fv__ui-confirm-dialog{border-radius:0.4vmin}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-layer-header-title{padding-right:0px}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-layer-header-inner{padding:0}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-layer-panel{font-size:3.2vmin;padding:2.9333333333vmin;padding-top:0;min-width:26.6666666667vmin}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-layer-inner{padding:0;min-width:74.6666666667vmin}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-layer-inner input{width:4vmin;height:4vmin;padding:0 .2em}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-confirm-message{word-break:break-all;font-size:4.2666666667vmin;padding-bottom:.5em}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-layer-toolbar{font-size:4vmin;padding:0}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-layer-toolbar>.fv__ui-button{margin-left:1.3333333333vmin}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-confirm-dialog{border:1px solid}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-confirm-dialog{border:1px solid}}",""]),e.exports=t},7319:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.fv__ui-confirm-dialog .fv__ui-layer-message-icon{display:inline-block}.fv__ui-confirm-dialog{border-radius:3px;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.fv__ui-confirm-dialog .fv__ui-layer-header-title{padding-right:170px}.fv__ui-confirm-dialog .fv__ui-layer-panel{padding:0}.fv__ui-confirm-dialog .fv__ui-confirm-message{font-size:12px;padding-bottom:.5em}.fv__ui-confirm-dialog .fv__ui-layer-inner{min-width:356px}.fv__ui-confirm-dialog .fv__ui-dialog-message{display:flex;padding:0 0 22px 0;align-items:center;white-space:pre-wrap;overflow:hidden;word-break:break-word;word-wrap:break-word}.fv__ui-confirm-dialog .fv__ui-layer-message-icon{flex:none;margin-right:10px;width:24px;height:24px}.fv__ui-confirm-dialog .fv__ui-dialog-again{display:flex;position:absolute;left:22px;bottom:28px;align-items:center;font-size:12px;cursor:pointer}.fv__ui-confirm-dialog .fv__ui-dialog-again>input{margin-right:5px;width:14px;height:14px}.fv__ui-mobile .fv__ui-confirm-dialog{border-radius:0.4vmin}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-layer-header-title{padding-right:0px}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-layer-header-inner{padding:0}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-layer-panel{font-size:3.2vmin;padding:2.9333333333vmin;padding-top:0;min-width:26.6666666667vmin}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-layer-inner{padding:0;min-width:74.6666666667vmin}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-layer-inner input{width:4vmin;height:4vmin;padding:0 .2em}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-confirm-message{word-break:break-all;font-size:4.2666666667vmin;padding-bottom:.5em}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-layer-toolbar{font-size:4vmin;padding:0}.fv__ui-mobile .fv__ui-confirm-dialog .fv__ui-layer-toolbar>.fv__ui-button{margin-left:1.3333333333vmin}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-confirm-dialog{border:1px solid}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-confirm-dialog{border:1px solid}}.fv__ui-custom-confirm-dialog{width:auto;max-width:650px;min-width:505px}.fv__ui-custom-confirm-dialog .fv__ui-layer-header-title{padding-right:170px}.fv__ui-custom-confirm-dialog .fv__ui-layer-inner{min-width:356px}.fv__ui-custom-confirm-dialog .fv__ui-dialog-message{align-items:flex-start;font-size:14px}.fv__ui-custom-confirm-dialog .fv__ui-button{margin:0 !important;min-width:70px !important;min-height:unset !important;height:26px !important}.fv__ui-custom-confirm-dialog .fv__ui-button~.fv__ui-button{margin-left:10px !important}.fv__ui-custom-confirm-dialog .ask-again{margin-right:auto}.fv__ui-custom-confirm-dialog .lv-checkbox{display:inline-block;cursor:pointer;vertical-align:middle;user-select:none}.fv__ui-custom-confirm-dialog .lv-checkbox-tick{position:relative;top:0;left:0;display:inline-block;margin-right:4px;width:16px;height:16px;background-color:var(--fv-input-bg, #fff);border:1px solid var(--fv-input-border-color, #d9d9d9);border-radius:2px;border-collapse:separate;vertical-align:middle;-webkit-transition:all .3s;transition:all .3s}.fv__ui-custom-confirm-dialog .lv-checkbox-text{position:relative;display:inline-block;vertical-align:middle;margin-left:5px}.fv__ui-custom-confirm-dialog .lv-checkbox:active>.lv-checkbox-tick{background-color:rgba(64,158,255,.2)}.fv__ui-custom-confirm-dialog .lv-checkbox-checked>.lv-checkbox-tick:after{content:"";position:absolute;top:0;right:0;bottom:10%;left:1px;margin:auto;width:60%;height:40%;border-style:solid;border-color:var(--fv-checkbox-border-color, #aaa);border-width:2px;border-left:0;border-bottom:0;transform:rotate(135deg) scale(1)}.fv__ui-custom-confirm-dialog .fv__ui-dialog-comment-des20{margin-bottom:20px}.fv__ui-custom-confirm-dialog .fv__ui-dialog-comment-des5{margin-bottom:5px}.fv__ui-mobile .fv__ui-custom-confirm-dialog{min-width:100vw}',""]),e.exports=t},8305:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-dialog-ok-button,.fv__ui-dialog-cancel-button{display:-webkit-inline-box;display:inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-moz-inline-box;display:inline-flex}.fv__ui-mobile .fv__ui-ask-dialog .fv__ui-layer-toolbar,.fv__ui-ask-dialog .fv__ui-layer-toolbar{-webkit-box-pack:end;-moz-box-pack:end;box-pack:end;-webkit-justify-content:flex-end;-moz-justify-content:flex-end;-o-justify-content:flex-end;justify-content:flex-end}.fv__ui-dialog-ok-button,.fv__ui-dialog-cancel-button{-webkit-box-pack:center;-moz-box-pack:center;box-pack:center;-webkit-justify-content:center;-moz-justify-content:center;-o-justify-content:center;justify-content:center}.fv__ui-dialog-button{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;border:1px solid #ddd;border-radius:3px;background:#fff;background-color:var(--fv-btn-bg, #fff);border-color:var(--fv-btn-border-color, #ddd);cursor:pointer;padding:5px 10px;line-height:18px;align-self:flex-start;text-align:center}.fv__ui-dialog-button.disabled{opacity:.5;pointer-events:none}.fv__ui-dialog-button.small{padding-top:2px;padding-bottom:2px}.fv__ui-dialog-button.round{border-radius:20px}.fv__ui-dialog-ok-button,.fv__ui-dialog-cancel-button{-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;width:auto;min-width:48px;min-height:28px;line-height:28px;border:1px solid #dd88e0;border-color:var(--fv-btn-border-color, #dd88e0);border-radius:3px;justify-content:center;padding:0px 10px;cursor:pointer;white-space:nowrap}.fv__ui-dialog-ok-button:not(.disabled):not(.active):focus,.fv__ui-dialog-cancel-button:not(.disabled):not(.active):focus{border-radius:2rem}.fv__ui-dialog-ok-button .fv__ui-button-text,.fv__ui-dialog-cancel-button .fv__ui-button-text{padding:0}.fv__ui-dialog-ok-button{color:var(--fv-accent-btn-color, #FFFFFF);background-color:var(--fv-accent-btn-bg, #9E3ABF)}.fv__ui-dialog-cancel-button{border:var(--fv-btn-border, 1px solid #BCC1D1)}.fv__ui-ask-dialog{max-width:500px;padding:22px}.fv__ui-ask-dialog .fv__ui-layer-inner{padding:0}.fv__ui-ask-dialog .fv__ui-layer-header-inner{padding:0;font-size:16px;height:40px;line-height:40px}.fv__ui-ask-dialog .fv__ui-layer-toolbar{-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;height:auto;padding:0 1px}.fv__ui-dialog-message{white-space:pre-wrap;overflow:hidden;word-wrap:break-word}.fv__ui-mobile.fv__ui-tablet .fv__ui-dialog-ok-button,.fv__ui-mobile.fv__ui-tablet .fv__ui-dialog-cancel-button,.fv__ui-mobile.fv__ui-tablet .fv__ui-dialog-ok-button.fv__ui-button,.fv__ui-mobile.fv__ui-tablet .fv__ui-dialog-cancel-button.fv__ui-button{width:auto;height:3.4285714286vmin;line-height:3.4285714286vmin;min-width:5.4857142857vmin;border-radius:0.3428571429vmin;font-size:1.3714285714vmin;padding:0vmin 1.1428571429vmin}.fv__ui-mobile .fv__ui-dialog-ok-button,.fv__ui-mobile .fv__ui-dialog-cancel-button,.fv__ui-mobile .fv__ui-dialog-ok-button.fv__ui-button,.fv__ui-mobile .fv__ui-dialog-cancel-button.fv__ui-button{width:auto;height:8vmin;line-height:8vmin;min-width:12.8vmin;border-radius:0.8vmin;font-size:3.2vmin;padding:0vmin 2.6666666667vmin}.fv__ui-mobile .fv__ui-ask-dialog{width:80vw;max-width:80vw;padding:2.9333333333vmin}.fv__ui-mobile .fv__ui-ask-dialog .fv__ui-layer-inner{padding:0}.fv__ui-mobile .fv__ui-ask-dialog .fv__ui-layer-header-inner{height:5.3333333333vmin;line-height:5.3333333333vmin}.fv__ui-mobile .fv__ui-ask-dialog .fv__ui-layer-toolbar{-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;height:auto}.fv__ui-mobile .fv__ui-ask-dialog .fv__ui-layer-toolbar>.fv__ui-button{margin-left:10px}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dialog-ok-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dialog-ok-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dialog-ok-button.fv__ui-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dialog-cancel-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dialog-cancel-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dialog-cancel-button.fv__ui-button .fv__ui-button-text{color:WindowText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dialog-ok-button.disabled,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dialog-ok-button.disabled .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dialog-ok-button.disabled.fv__ui-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dialog-cancel-button.disabled,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dialog-cancel-button.disabled .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dialog-cancel-button.disabled.fv__ui-button .fv__ui-button-text{color:GrayText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):hover.fv__ui-dialog-ok-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):hover.fv__ui-dialog-cancel-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):focus.fv__ui-dialog-ok-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):focus.fv__ui-dialog-cancel-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):active.fv__ui-dialog-ok-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):active.fv__ui-dialog-cancel-button{outline:none;background-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):hover.fv__ui-dialog-ok-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):hover.fv__ui-dialog-ok-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):hover.fv__ui-dialog-cancel-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):hover.fv__ui-dialog-cancel-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):focus.fv__ui-dialog-ok-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):focus.fv__ui-dialog-ok-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):focus.fv__ui-dialog-cancel-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):focus.fv__ui-dialog-cancel-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):active.fv__ui-dialog-ok-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):active.fv__ui-dialog-ok-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):active.fv__ui-dialog-cancel-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-button:not(.disabled):active.fv__ui-dialog-cancel-button .fv__ui-button-text{color:HighlightText}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-dialog-ok-button,.fv__ui-high-contrast .fv__ui-dialog-ok-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-dialog-ok-button.fv__ui-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-dialog-cancel-button,.fv__ui-high-contrast .fv__ui-dialog-cancel-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-dialog-cancel-button.fv__ui-button .fv__ui-button-text{color:WindowText}.fv__ui-high-contrast .fv__ui-dialog-ok-button.disabled,.fv__ui-high-contrast .fv__ui-dialog-ok-button.disabled .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-dialog-ok-button.disabled.fv__ui-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-dialog-cancel-button.disabled,.fv__ui-high-contrast .fv__ui-dialog-cancel-button.disabled .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-dialog-cancel-button.disabled.fv__ui-button .fv__ui-button-text{color:GrayText}.fv__ui-high-contrast .fv__ui-button:not(.disabled):hover.fv__ui-dialog-ok-button,.fv__ui-high-contrast .fv__ui-button:not(.disabled):hover.fv__ui-dialog-cancel-button,.fv__ui-high-contrast .fv__ui-button:not(.disabled):focus.fv__ui-dialog-ok-button,.fv__ui-high-contrast .fv__ui-button:not(.disabled):focus.fv__ui-dialog-cancel-button,.fv__ui-high-contrast .fv__ui-button:not(.disabled):active.fv__ui-dialog-ok-button,.fv__ui-high-contrast .fv__ui-button:not(.disabled):active.fv__ui-dialog-cancel-button{outline:none;background-color:Highlight}.fv__ui-high-contrast .fv__ui-button:not(.disabled):hover.fv__ui-dialog-ok-button,.fv__ui-high-contrast .fv__ui-button:not(.disabled):hover.fv__ui-dialog-ok-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-button:not(.disabled):hover.fv__ui-dialog-cancel-button,.fv__ui-high-contrast .fv__ui-button:not(.disabled):hover.fv__ui-dialog-cancel-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-button:not(.disabled):focus.fv__ui-dialog-ok-button,.fv__ui-high-contrast .fv__ui-button:not(.disabled):focus.fv__ui-dialog-ok-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-button:not(.disabled):focus.fv__ui-dialog-cancel-button,.fv__ui-high-contrast .fv__ui-button:not(.disabled):focus.fv__ui-dialog-cancel-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-button:not(.disabled):active.fv__ui-dialog-ok-button,.fv__ui-high-contrast .fv__ui-button:not(.disabled):active.fv__ui-dialog-ok-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-button:not(.disabled):active.fv__ui-dialog-cancel-button,.fv__ui-high-contrast .fv__ui-button:not(.disabled):active.fv__ui-dialog-cancel-button .fv__ui-button-text{color:HighlightText}}",""]),e.exports=t},666:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-layer.fv__ui-loading-layer .fv__ui-layer-inner,.fv__ui-layer-header-buttons,.fv__ui-layer-toolbar,.fv__ui-layer-header-inner{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-layer-panel{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;-webkit-flex:1;-moz-flex:1;flex:1}.fv__ui-layer.fv__ui-loading-layer .fv__ui-layer-inner{-webkit-box-pack:center;-moz-box-pack:center;box-pack:center;-webkit-justify-content:center;-moz-justify-content:center;-o-justify-content:center;justify-content:center}.fv__ui-layer.fv__ui-loading-layer .fv__ui-layer-inner{-webkit-box-direction:normal;-webkit-box-orient:vertical;-moz-box-direction:normal;-moz-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.fv__ui-layer-header-inner{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__ui-layer-header-button i,.fv__ui-layer-header-icon,.fv__ui-layer-header-inner h1,.fv__ui-layer-header-inner h2,.fv__ui-layer-header-inner h3,.fv__ui-layer-header-inner h4,.fv__ui-layer-header-inner h5,.fv__ui-layer-header-inner h6,.fv__ui-layer{display:inline-block}.fv__ui-layer.fv__ui-loading-layer .fv__ui-layer-inner,.fv__ui-layer-header-buttons,.fv__ui-layer-toolbar,.fv__ui-layer-header-inner{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-layer-panel{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;-webkit-flex:1;-moz-flex:1;flex:1}.fv__ui-layer.fv__ui-loading-layer .fv__ui-layer-inner{-webkit-box-pack:center;-moz-box-pack:center;box-pack:center;-webkit-justify-content:center;-moz-justify-content:center;-o-justify-content:center;justify-content:center}.fv__ui-layer.fv__ui-loading-layer .fv__ui-layer-inner{-webkit-box-direction:normal;-webkit-box-orient:vertical;-moz-box-direction:normal;-moz-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.fv__ui-layer-header-inner{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__ui-layer-header-button i,.fv__ui-layer-header-icon,.fv__ui-layer-header-inner h1,.fv__ui-layer-header-inner h2,.fv__ui-layer-header-inner h3,.fv__ui-layer-header-inner h4,.fv__ui-layer-header-inner h5,.fv__ui-layer-header-inner h6,.fv__ui-layer{display:inline-block}.fv__ui-layer-modal{position:absolute;left:0;right:0;top:0;bottom:0;z-index:1050}.fv__ui-layer-backdrop{background-color:#000;opacity:.2}.fv__ui-layer{z-index:1050;position:absolute;background:#fff;background-color:var(--fv-primary-bg, #FBFBFD);border:var(--fv-frame-border, 1px solid #C7CCD9);box-shadow:rgba(151,151,151,.85) 0 0 14px 3px;box-shadow:var(--fv-drop-shadow, rgba(151, 151, 151, 0.85) 0 0 14px 3px);border-radius:5px;padding:22px;--fv-adjust-layer-offset-x: 0.5px;--fv-adjust-layer-offset-y: 0.5px}.fv__ui-layer.left{left:0}.fv__ui-layer.top{top:0}.fv__ui-layer.right{right:0}.fv__ui-layer.bottom{bottom:0}.fv__ui-layer.centerh{left:50%;transform:translateX(-50%)}.fv__ui-layer.centerv{top:50%;transform:translateY(-50%)}.fv__ui-layer.center{left:50%;top:50%;transform:translate(calc(-50% + var(--fv-adjust-layer-offset-x)), calc(-50% + var(--fv-adjust-layer-offset-y)))}.fv__ui-layer .footer .fv__ui-dialog-cancel-button{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #bcc1d1;color:#999;background-color:#fff;text-align:center;cursor:pointer;user-select:none;color:#131313;color:var(--fv-btn-color, #131313);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1)}.fv__ui-layer .footer .fv__ui-dialog-cancel-button:last-child{margin-right:0}.fv__ui-layer .footer .fv__ui-dialog-cancel-button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-layer .footer .fv__ui-dialog-cancel-button input[type=checkbox]:last-child{margin-right:0}.fv__ui-layer .footer .fv__ui-dialog-cancel-button .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):hover,.fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(:disabled):hover{border:var(--fv-hover-btn-border, 1px solid #9197A8)}.fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):hover .fv__ui-button-text,.fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(:disabled):hover .fv__ui-button-text{color:#131313 !important;color:var(--fv-btn-color, #131313) !important}.fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled,.fv__ui-layer .footer .fv__ui-dialog-cancel-button:disabled{color:var(--fv-btn-color, #131313);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1);opacity:var(--fv-btn-disabled-opacity, 0.3)}.fv__ui-layer .footer .fv__ui-dialog-ok-button{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #a236b2;color:#fff;background-color:#a236b2;text-align:center;cursor:pointer;user-select:none;color:var(--Accent_button_text, #FFFFFF);background-color:var(--fv-accent-btn-bg, #A236B2);border-color:var(--fv-accent-btn-border-color, #A236B2)}.fv__ui-layer .footer .fv__ui-dialog-ok-button:last-child{margin-right:0}.fv__ui-layer .footer .fv__ui-dialog-ok-button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-layer .footer .fv__ui-dialog-ok-button input[type=checkbox]:last-child{margin-right:0}.fv__ui-layer .footer .fv__ui-dialog-ok-button .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__ui-layer .footer .fv__ui-dialog-ok-button:disabled{opacity:.5;opacity:var(--fv-btn-disabled-opacity, 0.5)}.fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled,[disabled],:disabled):hover{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-hover-bg, #A236B2);border-color:var(--fv-accent-btn-border-hover-color, #A236B2);box-shadow:0 .125rem .1875rem rgba(0,0,0,.15)}.fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled,[disabled],:disabled):focus{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-focus-bg, #A236B2);border-color:var(--fv-accent-btn-border-focus-color, #A236B2);opacity:.8;opacity:var(--fv-btn-focus-opacity, 0.8)}.fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled,[disabled],:disabled):active{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-pressed-bg, #A236B2);border-color:var(--fv-accent-btn-border-pressed-color, #A236B2);opacity:.5;opacity:var(--fv-btn-pressed-opacity, 0.5)}.fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled,.fv__ui-layer .footer .fv__ui-dialog-ok-button:disabled{color:var(--fv-disable-accent-button-text, #FFFFFF);background-color:var(--fv-disable-accent-color, #E3C1E8);border-color:var(--fv-disable-accent-color, #E3C1E8);cursor:not-allowed}.fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled .fv__ui-button-text,.fv__ui-layer .footer .fv__ui-dialog-ok-button:disabled .fv__ui-button-text{color:var(--fv-disable-accent-button-text, #FFFFFF)}.fv__ui-layer select{border-width:1px}.fv__ui-layer input{border-width:1px}.fv__ui-layer-inner{display:block}.fv__ui-layer-header-inner{-webkit-box-pack:stretch;-moz-box-pack:stretch;box-pack:stretch;-webkit-justify-content:stretch;-moz-justify-content:stretch;-o-justify-content:stretch;justify-content:stretch;-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;justify-items:flex-start;height:48px}.fv__ui-layer-header-inner h1,.fv__ui-layer-header-inner h2,.fv__ui-layer-header-inner h3,.fv__ui-layer-header-inner h4,.fv__ui-layer-header-inner h5,.fv__ui-layer-header-inner h6{margin:0}.fv__ui-layer-toolbar{height:1.5em}.fv__ui-layer-header-icon{width:24px;height:24px}.fv__ui-layer-header-title{margin:0;padding:0;font-size:1em;font-weight:bold}.fv__ui-layer-header-buttons{margin-left:auto;align-items:flex-end;justify-content:center;justify-items:flex-end}.fv__ui-layer-header-buttons.fv__ui-layer-header-unclosable [action=close]{display:none}.fv__ui-layer-header-button i{width:16px;height:16px}.fv__ui-layer-header-button{cursor:pointer;-webkit-appearance:none;background:0 0;border:0;padding:0}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer{border:1px solid}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer [action=close]:focus{outline:1px solid highlight;outline:1px auto -webkit-focus-ring-color}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button{background-color:Window}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button:hover,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button:hover{border-color:WindowText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;color:WindowText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):hover,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):focus,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):active,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):hover,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):focus,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):active{color:HighlightText;border-color:WindowText;background-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled .fv__ui-button-text{color:GrayText;border-color:GrayText}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-layer{border:1px solid}.fv__ui-high-contrast .fv__ui-layer [action=close]:focus{outline:1px solid highlight;outline:1px auto -webkit-focus-ring-color}.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button{background-color:Window}.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button:hover,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button:hover{border-color:WindowText}.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;color:WindowText}.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):hover,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):focus,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):active,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):hover,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):focus,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):active{color:HighlightText;border-color:WindowText;background-color:Highlight}.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled .fv__ui-button-text{color:GrayText;border-color:GrayText}}.fv__ui-mobile .fv__ui-layer{padding:2.9333333333vmin;max-width:100%;max-height:100%;overflow-y:scroll}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #bcc1d1;color:#999;background-color:#fff;text-align:center;cursor:pointer;user-select:none;color:var(--fv-btn-color, #999999);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:last-child{margin-right:0}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button input[type=checkbox]:last-child{margin-right:0}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):hover,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(:disabled):hover{color:#a236b2;background-color:#fff;border-color:#a236b2;background-color:var(--fv-btn-hover-bg, #FFFFFF);border-color:#a236b2;border-color:var(--fv-btn-border-hover-color, #A236B2)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):focus,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(:disabled):focus{color:#a236b2;background-color:#fff;border-color:#a236b2;background-color:var(--fv-btn-focus-bg, #FFFFFF);border-color:#a236b2;border-color:var(--fv-btn-border-focus-color, #A236B2);opacity:.8;opacity:var(--fv-btn-focus-opacity, 0.8)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):active,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(:disabled):active{color:#a236b2;background-color:#fff;border-color:#a236b2;color:var(--fv-btn-pressed-color, #A236B2);background-color:var(--fv-btn-pressed-bg, #FFFFFF);border-color:var(--fv-btn-pressed-color, #A236B2);opacity:.5;opacity:var(--fv-btn-pressed-opacity, 0.8)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:disabled{color:#a236b2;background-color:#fff;border-color:#a236b2;color:var(--fv-btn-disabled-color, #A236B2);background-color:var(--fv-btn-disabled-color, #FFFFFF);border-color:var(--fv-btn-disabled-color, #A236B2);opacity:.3;opacity:var(--fv-btn-disabled-opacity, 0.8)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #a236b2;color:#fff;background-color:#a236b2;text-align:center;cursor:pointer;user-select:none;color:var(--Accent_button_text, #FFFFFF);background-color:var(--fv-accent-btn-bg, #A236B2);border-color:var(--fv-accent-btn-border-color, #A236B2)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:last-child{margin-right:0}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button input[type=checkbox]:last-child{margin-right:0}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:disabled{opacity:.5;opacity:var(--fv-btn-disabled-opacity, 0.5)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):hover,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(:disabled):hover{color:#fff;background-color:#a236b2;border-color:#a236b2;color:var(--fv-accent-btn-hover-color, #FFFFFF);background-color:var(--fv-accent-btn-hover-bg, #A236B2);border-color:var(--fv-accent-btn-border-hover-color, #A236B2);box-shadow:0 .125rem .1875rem rgba(0,0,0,.15)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):focus,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(:disabled):focus{color:#fff;background-color:#a236b2;border-color:#a236b2;color:var(--fv-accent-btn-focus-color, #FFFFFF);background-color:var(--fv-accent-btn-focus-bg, #A236B2);border-color:var(--fv-accent-btn-border-focus-color, #A236B2);opacity:.8;opacity:var(--fv-btn-focus-opacity, 0.8)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):active,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(:disabled):active{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-pressed-bg, #A236B2);border-color:var(--fv-accent-btn-border-pressed-color, #A236B2);opacity:.5;opacity:var(--fv-btn-pressed-opacity, 0.8)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:disabled{color:var(--fv-disable-accent-button-text, #FFFFFF);background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-disable-accent-color, #E3C1E8);border-color:var(--fv-accent-btn-border-disabled-color, #A236B2);opacity:.3;opacity:var(--fv-btn-disabled-opacity, 0.8)}.fv__ui-layer.fv__ui-loading-layer{position:absolute;left:0;right:0;top:0;bottom:0;background:rgba(0,0,0,0);box-shadow:none;cursor:wait;border:none}.fv__ui-layer.fv__ui-loading-layer .fv__ui-layer-inner{padding:0;-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;width:100%;height:100%}.fv__ui-layer.fv__ui-loading-layer .fv__loading-animation{width:128px;height:128px}.fv__ui-mobile .fv__ui-layer.fv__ui-loading-layer .fv__loading-animation{width:17.0666666667vmin;height:17.0666666667vmin}.fv__ui-layer.fv__ui-loading-layer .fv__loading-animation li:nth-child(1){animation-delay:0s}.fv__ui-layer.fv__ui-loading-layer .fv__loading-animation li:nth-child(2){animation-delay:.2s}.fv__ui-layer.fv__ui-loading-layer .fv__loading-animation li:nth-child(3){animation-delay:.4s}.fv__ui-layer.fv__ui-loading-layer .fv__loading-animation li:nth-child(4){animation-delay:.6s}.fv__ui-layer.fv__ui-loading-layer .fv__loading-animation li:nth-child(5){animation-delay:.8s}.fv__ui-layer.fv__ui-loading-layer .fv__ui-loading-hidden{display:none}.fv__ui-loading-text{color:#eee}@-webkit-keyframes loading-spinner{0%{filter:alpha(opacity=100);-moz-opacity:1;-khtml-opacity:1;opacity:1}100%{filter:alpha(opacity=0);-moz-opacity:0;-khtml-opacity:0;opacity:0}}@-moz-keyframes loading-spinner{0%{filter:alpha(opacity=100);-moz-opacity:1;-khtml-opacity:1;opacity:1}100%{filter:alpha(opacity=0);-moz-opacity:0;-khtml-opacity:0;opacity:0}}@-o-keyframes loading-spinner{0%{filter:alpha(opacity=100);-moz-opacity:1;-khtml-opacity:1;opacity:1}100%{filter:alpha(opacity=0);-moz-opacity:0;-khtml-opacity:0;opacity:0}}@keyframes loading-spinner{0%{filter:alpha(opacity=100);-moz-opacity:1;-khtml-opacity:1;opacity:1}100%{filter:alpha(opacity=0);-moz-opacity:0;-khtml-opacity:0;opacity:0}}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-loading-layer{border:none}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-loading-layer{border:none}}",""]),e.exports=t},6578:(e,t,n)=>{var i=n(3645),r=n(1667),o=n(4471),a=n(8672);t=i(!1);var s=r(o),c=r(a);t.push([e.id,".fv__ui-prompt-input-container,.fv__ui-layer-header-buttons,.fv__ui-layer-toolbar,.fv__ui-layer-header-inner{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-layer-panel{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;-webkit-flex:1;-moz-flex:1;flex:1}.fv__ui-prompt-dialog .fv__ui-layer-toolbar{-webkit-box-pack:end;-moz-box-pack:end;box-pack:end;-webkit-justify-content:flex-end;-moz-justify-content:flex-end;-o-justify-content:flex-end;justify-content:flex-end}.fv__ui-layer-header-inner{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__ui-prompt-password-switcher,.fv__ui-layer-header-button i,.fv__ui-layer-header-icon,.fv__ui-layer-header-inner h1,.fv__ui-layer-header-inner h2,.fv__ui-layer-header-inner h3,.fv__ui-layer-header-inner h4,.fv__ui-layer-header-inner h5,.fv__ui-layer-header-inner h6,.fv__ui-layer{display:inline-block}.fv__ui-prompt-input-container,.fv__ui-layer-header-buttons,.fv__ui-layer-toolbar,.fv__ui-layer-header-inner{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-layer-panel{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;-webkit-flex:1;-moz-flex:1;flex:1}.fv__ui-prompt-dialog .fv__ui-layer-toolbar{-webkit-box-pack:end;-moz-box-pack:end;box-pack:end;-webkit-justify-content:flex-end;-moz-justify-content:flex-end;-o-justify-content:flex-end;justify-content:flex-end}.fv__ui-layer-header-inner{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__ui-prompt-password-switcher,.fv__ui-layer-header-button i,.fv__ui-layer-header-icon,.fv__ui-layer-header-inner h1,.fv__ui-layer-header-inner h2,.fv__ui-layer-header-inner h3,.fv__ui-layer-header-inner h4,.fv__ui-layer-header-inner h5,.fv__ui-layer-header-inner h6,.fv__ui-layer{display:inline-block}.fv__ui-layer-modal{position:absolute;left:0;right:0;top:0;bottom:0;z-index:1050}.fv__ui-layer-backdrop{background-color:#000;opacity:.2}.fv__ui-layer{z-index:1050;position:absolute;background:#fff;background-color:var(--fv-primary-bg, #FBFBFD);border:var(--fv-frame-border, 1px solid #C7CCD9);box-shadow:rgba(151,151,151,.85) 0 0 14px 3px;box-shadow:var(--fv-drop-shadow, rgba(151, 151, 151, 0.85) 0 0 14px 3px);border-radius:5px;padding:22px;--fv-adjust-layer-offset-x: 0.5px;--fv-adjust-layer-offset-y: 0.5px}.fv__ui-layer.left{left:0}.fv__ui-layer.top{top:0}.fv__ui-layer.right{right:0}.fv__ui-layer.bottom{bottom:0}.fv__ui-layer.centerh{left:50%;transform:translateX(-50%)}.fv__ui-layer.centerv{top:50%;transform:translateY(-50%)}.fv__ui-layer.center{left:50%;top:50%;transform:translate(calc(-50% + var(--fv-adjust-layer-offset-x)), calc(-50% + var(--fv-adjust-layer-offset-y)))}.fv__ui-layer .footer .fv__ui-dialog-cancel-button{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #bcc1d1;color:#999;background-color:#fff;text-align:center;cursor:pointer;user-select:none;color:#131313;color:var(--fv-btn-color, #131313);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1)}.fv__ui-layer .footer .fv__ui-dialog-cancel-button:last-child{margin-right:0}.fv__ui-layer .footer .fv__ui-dialog-cancel-button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-layer .footer .fv__ui-dialog-cancel-button input[type=checkbox]:last-child{margin-right:0}.fv__ui-layer .footer .fv__ui-dialog-cancel-button .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):hover,.fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(:disabled):hover{border:var(--fv-hover-btn-border, 1px solid #9197A8)}.fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):hover .fv__ui-button-text,.fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(:disabled):hover .fv__ui-button-text{color:#131313 !important;color:var(--fv-btn-color, #131313) !important}.fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled,.fv__ui-layer .footer .fv__ui-dialog-cancel-button:disabled{color:var(--fv-btn-color, #131313);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1);opacity:var(--fv-btn-disabled-opacity, 0.3)}.fv__ui-layer .footer .fv__ui-dialog-ok-button{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #a236b2;color:#fff;background-color:#a236b2;text-align:center;cursor:pointer;user-select:none;color:var(--Accent_button_text, #FFFFFF);background-color:var(--fv-accent-btn-bg, #A236B2);border-color:var(--fv-accent-btn-border-color, #A236B2)}.fv__ui-layer .footer .fv__ui-dialog-ok-button:last-child{margin-right:0}.fv__ui-layer .footer .fv__ui-dialog-ok-button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-layer .footer .fv__ui-dialog-ok-button input[type=checkbox]:last-child{margin-right:0}.fv__ui-layer .footer .fv__ui-dialog-ok-button .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__ui-layer .footer .fv__ui-dialog-ok-button:disabled{opacity:.5;opacity:var(--fv-btn-disabled-opacity, 0.5)}.fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled,[disabled],:disabled):hover{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-hover-bg, #A236B2);border-color:var(--fv-accent-btn-border-hover-color, #A236B2);box-shadow:0 .125rem .1875rem rgba(0,0,0,.15)}.fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled,[disabled],:disabled):focus{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-focus-bg, #A236B2);border-color:var(--fv-accent-btn-border-focus-color, #A236B2);opacity:.8;opacity:var(--fv-btn-focus-opacity, 0.8)}.fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled,[disabled],:disabled):active{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-pressed-bg, #A236B2);border-color:var(--fv-accent-btn-border-pressed-color, #A236B2);opacity:.5;opacity:var(--fv-btn-pressed-opacity, 0.5)}.fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled,.fv__ui-layer .footer .fv__ui-dialog-ok-button:disabled{color:var(--fv-disable-accent-button-text, #FFFFFF);background-color:var(--fv-disable-accent-color, #E3C1E8);border-color:var(--fv-disable-accent-color, #E3C1E8);cursor:not-allowed}.fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled .fv__ui-button-text,.fv__ui-layer .footer .fv__ui-dialog-ok-button:disabled .fv__ui-button-text{color:var(--fv-disable-accent-button-text, #FFFFFF)}.fv__ui-layer select{border-width:1px}.fv__ui-layer input{border-width:1px}.fv__ui-layer-inner{display:block}.fv__ui-layer-header-inner{-webkit-box-pack:stretch;-moz-box-pack:stretch;box-pack:stretch;-webkit-justify-content:stretch;-moz-justify-content:stretch;-o-justify-content:stretch;justify-content:stretch;-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;justify-items:flex-start;height:48px}.fv__ui-layer-header-inner h1,.fv__ui-layer-header-inner h2,.fv__ui-layer-header-inner h3,.fv__ui-layer-header-inner h4,.fv__ui-layer-header-inner h5,.fv__ui-layer-header-inner h6{margin:0}.fv__ui-layer-toolbar{height:1.5em}.fv__ui-layer-header-icon{width:24px;height:24px}.fv__ui-layer-header-title{margin:0;padding:0;font-size:1em;font-weight:bold}.fv__ui-layer-header-buttons{margin-left:auto;align-items:flex-end;justify-content:center;justify-items:flex-end}.fv__ui-layer-header-buttons.fv__ui-layer-header-unclosable [action=close]{display:none}.fv__ui-layer-header-button i{width:16px;height:16px}.fv__ui-layer-header-button{cursor:pointer;-webkit-appearance:none;background:0 0;border:0;padding:0}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer{border:1px solid}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer [action=close]:focus{outline:1px solid highlight;outline:1px auto -webkit-focus-ring-color}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button{background-color:Window}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button:hover,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button:hover{border-color:WindowText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;color:WindowText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):hover,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):focus,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):active,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):hover,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):focus,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):active{color:HighlightText;border-color:WindowText;background-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled .fv__ui-button-text{color:GrayText;border-color:GrayText}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-layer{border:1px solid}.fv__ui-high-contrast .fv__ui-layer [action=close]:focus{outline:1px solid highlight;outline:1px auto -webkit-focus-ring-color}.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button{background-color:Window}.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button:hover,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button:hover{border-color:WindowText}.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;color:WindowText}.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):hover,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):focus,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):active,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):hover,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):focus,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):active{color:HighlightText;border-color:WindowText;background-color:Highlight}.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled .fv__ui-button-text{color:GrayText;border-color:GrayText}}.fv__ui-mobile .fv__ui-layer{padding:2.9333333333vmin;max-width:100%;max-height:100%;overflow-y:scroll}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #bcc1d1;color:#999;background-color:#fff;text-align:center;cursor:pointer;user-select:none;color:var(--fv-btn-color, #999999);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:last-child{margin-right:0}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button input[type=checkbox]:last-child{margin-right:0}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):hover,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(:disabled):hover{color:#a236b2;background-color:#fff;border-color:#a236b2;background-color:var(--fv-btn-hover-bg, #FFFFFF);border-color:#a236b2;border-color:var(--fv-btn-border-hover-color, #A236B2)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):focus,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(:disabled):focus{color:#a236b2;background-color:#fff;border-color:#a236b2;background-color:var(--fv-btn-focus-bg, #FFFFFF);border-color:#a236b2;border-color:var(--fv-btn-border-focus-color, #A236B2);opacity:.8;opacity:var(--fv-btn-focus-opacity, 0.8)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):active,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(:disabled):active{color:#a236b2;background-color:#fff;border-color:#a236b2;color:var(--fv-btn-pressed-color, #A236B2);background-color:var(--fv-btn-pressed-bg, #FFFFFF);border-color:var(--fv-btn-pressed-color, #A236B2);opacity:.5;opacity:var(--fv-btn-pressed-opacity, 0.8)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:disabled{color:#a236b2;background-color:#fff;border-color:#a236b2;color:var(--fv-btn-disabled-color, #A236B2);background-color:var(--fv-btn-disabled-color, #FFFFFF);border-color:var(--fv-btn-disabled-color, #A236B2);opacity:.3;opacity:var(--fv-btn-disabled-opacity, 0.8)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #a236b2;color:#fff;background-color:#a236b2;text-align:center;cursor:pointer;user-select:none;color:var(--Accent_button_text, #FFFFFF);background-color:var(--fv-accent-btn-bg, #A236B2);border-color:var(--fv-accent-btn-border-color, #A236B2)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:last-child{margin-right:0}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button input[type=checkbox]:last-child{margin-right:0}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:disabled{opacity:.5;opacity:var(--fv-btn-disabled-opacity, 0.5)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):hover,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(:disabled):hover{color:#fff;background-color:#a236b2;border-color:#a236b2;color:var(--fv-accent-btn-hover-color, #FFFFFF);background-color:var(--fv-accent-btn-hover-bg, #A236B2);border-color:var(--fv-accent-btn-border-hover-color, #A236B2);box-shadow:0 .125rem .1875rem rgba(0,0,0,.15)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):focus,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(:disabled):focus{color:#fff;background-color:#a236b2;border-color:#a236b2;color:var(--fv-accent-btn-focus-color, #FFFFFF);background-color:var(--fv-accent-btn-focus-bg, #A236B2);border-color:var(--fv-accent-btn-border-focus-color, #A236B2);opacity:.8;opacity:var(--fv-btn-focus-opacity, 0.8)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):active,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(:disabled):active{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-pressed-bg, #A236B2);border-color:var(--fv-accent-btn-border-pressed-color, #A236B2);opacity:.5;opacity:var(--fv-btn-pressed-opacity, 0.8)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:disabled{color:var(--fv-disable-accent-button-text, #FFFFFF);background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-disable-accent-color, #E3C1E8);border-color:var(--fv-accent-btn-border-disabled-color, #A236B2);opacity:.3;opacity:var(--fv-btn-disabled-opacity, 0.8)}.fv__prompt-password{padding:10px}.fv__prompt-password .fv__ui-layer-panel.fv__ui-layer-panel.fv__ui-layer-panel{padding:0 0 10px 0}.fv__prompt-password .fv__ui-layer-toolbar:last-child{padding:0}.fv__prompt-password.fv__ui-layer{z-index:100000}.fv__ui-prompt-dialog{border-radius:3px;width:360px;font-size:16px;padding:10px;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.fv__ui-prompt-dialog .fv__ui-layer-header-inner{padding-left:0}.fv__ui-prompt-dialog .fv__ui-layer-panel{font-size:16px;padding-bottom:10px}.fv__ui-prompt-dialog .fv__ui-layer-inner{padding:0 10px}.fv__ui-prompt-dialog .fv__ui-layer-inner input{width:100%;height:27px;padding:0 .2em;border:1px solid var(--fv-input-border-color, #ddd)}.fv__ui-prompt-dialog p.notify{display:none;padding:0;margin:0}.fv__ui-prompt-dialog p.notify.error{display:block;color:darkred}.fv__ui-prompt-dialog p.notify.success{display:block;color:#006400}.fv__ui-prompt-dialog p.notify.info{display:block;color:#00008b}.fv__ui-prompt-dialog p.notify.warning{display:block;color:#ff0}.fv__ui-prompt-dialog .fv__ui-prompt-message{font-size:16px;padding-bottom:.5em}.fv__ui-prompt-dialog .fv__ui-layer-toolbar{-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;height:auto;margin-top:10px}.fv__ui-prompt-dialog .fv__ui-layer-toolbar>.fv__ui-button{margin-left:10px}.fv__ui-prompt-input-container{-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;position:relative}.fv__ui-prompt-password-switcher{position:absolute;right:10px;background-repeat:no-repeat;background-size:100%;width:16px;height:16px;cursor:pointer}.fv__ui-prompt-show-password{background-image:url("+s+")}.fv__ui-prompt-hide-password{background-image:url("+c+")}.fv__ui-mobile .fv__ui-prompt-password-switcher{right:2.6666666667vmin;width:4.2666666667vmin;height:4.2666666667vmin}.fv__ui-mobile .fv__ui-prompt-dialog{border-radius:0.4vmin;width:86vw;font-size:13.3333333333vmin}.fv__ui-mobile .fv__ui-prompt-dialog .fv__ui-layer-header-inner{padding:0}.fv__ui-mobile .fv__ui-prompt-dialog .fv__ui-layer-panel{font-size:3.2vmin;padding-top:0;min-width:26.6666666667vmin}.fv__ui-mobile .fv__ui-prompt-dialog .fv__ui-layer-inner{padding:0}.fv__ui-mobile .fv__ui-prompt-dialog .fv__ui-layer-inner input{height:6.9333333333vmin;padding:0 .2em}.fv__ui-mobile .fv__ui-prompt-dialog .fv__ui-prompt-message{font-size:4.2666666667vmin;padding:1em;padding-left:0}.fv__ui-mobile .fv__ui-prompt-dialog .fv__ui-layer-toolbar{font-size:4vmin;margin-top:1.3333333333vmin}.fv__ui-mobile .fv__ui-prompt-dialog .fv__ui-layer-toolbar>.fv__ui-button{margin-left:1.3333333333vmin}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-prompt-dialog{border:1px solid}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-prompt-dialog{border:1px solid}}@media(inverted-colors: inverted){.fv__ui-prompt-dialog .fv__ui-layer-inner input:focus{border-color:#3183c8}.fv__ui-mobile.fv__ui-browser-safari .fv__ui-prompt-dialog .fv__ui-layer-inner input:focus{border-color:#aca7a3}}.fv__ui-browser-webkit[hc=a3] .fv__ui-prompt-dialog .fv__ui-layer-inner input:focus,.fv__ui-browser-webkit[hc=a4] .fv__ui-prompt-dialog .fv__ui-layer-inner input:focus,.fv__ui-browser-webkit[hc=a5] .fv__ui-prompt-dialog .fv__ui-layer-inner input:focus{border-color:#3183c8}.fv__ui-browser-webkit[hc=a3] .fv__ui-mobile.fv__ui-browser-safari .fv__ui-prompt-dialog .fv__ui-layer-inner input:focus,.fv__ui-browser-webkit[hc=a4] .fv__ui-mobile.fv__ui-browser-safari .fv__ui-prompt-dialog .fv__ui-layer-inner input:focus,.fv__ui-browser-webkit[hc=a5] .fv__ui-mobile.fv__ui-browser-safari .fv__ui-prompt-dialog .fv__ui-layer-inner input:focus{border-color:#aca7a3}",""]),e.exports=t},8015:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.fv__ui-mobile .fv__ui-dropdown-direction-row.active>.fv__ui-dropdown-list,.fv__ui-dropdown-item-label,.fv__ui-dropdown-list>li,.fv__ui-dropdown-button,.fv__ui-dropdown-toggler{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-dropdown-toggler-text{display:-webkit-inline-box;display:inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-moz-inline-box;display:inline-flex}.fv__ui-dropdown-toggler-text,.fv__ui-dropdown-list>li.fv__ui-dropdown-item .fv__ui-dropdown-toggler>span,.fv__ui-dropdown-editor{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;-webkit-flex:1;-moz-flex:1;flex:1}.fv__ui-dropdown-list>li{-webkit-box-pack:start;-moz-box-pack:start;box-pack:start;-webkit-justify-content:flex-start;-moz-justify-content:flex-start;-o-justify-content:flex-start;justify-content:flex-start}.fv__ui-dropdown-toggler{-webkit-box-pack:justify;-moz-box-pack:justify;box-pack:justify;-webkit-justify-content:space-between;-moz-justify-content:space-between;-o-justify-content:space-between;justify-content:space-between}.fv__ui-mobile .fv__ui-dropdown-direction-row.active>.fv__ui-dropdown-list,.fv__ui-dropdown-item-label,.fv__ui-dropdown-list>li,.fv__ui-dropdown-toggler{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__ui-dropdown-button-icon,.fv__ui-dropdown-list>li.fv__ui-dropdown-item .fv__ui-dropdown-toggler .fv__ui-dropdown-caret,.fv__ui-dropdown-editor,.fv__ui-dropdown,.fv__ui-dropdown-icon,.fv__ui-dropdown-caret{display:inline-block}.fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.active):not(:hover):not(.disabled):focus,.fv__ui-dropdown-list>li.fv__ui-dropdown-container-item:not(.active):not(:hover):not(.disabled):focus,.fv__ui-dropdown-icon:focus,.fv__ui-editable-dropdown .fv__ui-dropdown-caret:focus,.fv__ui-dropdown-toggler:focus,.fv__ui-dropdown-caret:focus{outline:1px solid var(--fv-btn-outline-color, #d9d9d9);border-radius:4px;outline-offset:-2px}.fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.active):not(:hover):not(.disabled):focus,.fv__ui-dropdown-list>li.fv__ui-dropdown-container-item:not(.active):not(:hover):not(.disabled):focus,.fv__ui-dropdown-list .fv__ui-dropdown-icon:focus,.fv__ui-dropdown-list .fv__ui-dropdown-toggler:focus,.fv__ui-dropdown-list .fv__ui-dropdown-caret:focus{outline-offset:-4px}.fv__ui-dropdown{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;width:54px;white-space:nowrap;height:40px;line-height:40px}.fv__ui-dropdown-caret{width:16px}.fv__ui-dropdown-caret:focus .fv__ui-high-contrast.fv__ui-browser-firefox{background-color:Highlight}@media(forced-colors: active){.fv__ui-dropdown-caret:focus .fv__ui-high-contrast{background-color:Highlight}}.fv__ui-dropdown-toggler{-webkit-box-align:stretch;-moz-box-align:stretch;-webkit-align-items:stretch;align-items:stretch;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;cursor:pointer;overflow:hidden;border-top-right-radius:3px;border-bottom-right-radius:3px;height:100%;width:100%;border:1px solid rgba(0,0,0,0);background-color:rgba(0,0,0,0);padding:0;line-height:40px;line-height:inherit}.fv__ui-dropdown-toggler.disabled{filter:alpha(opacity=100);-moz-opacity:1;-khtml-opacity:1;opacity:1;cursor:not-allowed}.fv__ui-dropdown-toggler>*{position:relative}.fv__ui-dropdown-toggler:focus .fv__ui-high-contrast.fv__ui-browser-firefox{background-color:Highlight}@media(forced-colors: active){.fv__ui-dropdown-toggler:focus .fv__ui-high-contrast{background-color:Highlight}}.fv__ui-dropdown,.fv__ui-dropdown-toggler{border-radius:3px}.fv__ui-dropdown-hide-text>.fv__ui-dropdown-toggler>.fv__ui-dropdown-toggler-text{display:none}.fv__ui-editable-dropdown{height:1.5rem;line-height:1.5rem}.fv__ui-editable-dropdown .fv__ui-dropdown-toggler{border:1px solid #c8c8c8;border-color:var(--fv-input-border-color, #c8c8c8)}.fv__ui-editable-dropdown .fv__ui-dropdown-caret{border-left:1px solid #c8c8c8;border-left-color:var(--fv-input-border-color, #c8c8c8)}.fv__ui-editable-dropdown .fv__ui-dropdown-caret:focus .fv__ui-high-contrast.fv__ui-browser-firefox{background-color:Highlight}@media(forced-colors: active){.fv__ui-editable-dropdown .fv__ui-dropdown-caret:focus .fv__ui-high-contrast{background-color:Highlight}}.fv__ui-editable-dropdown .fv__ui-dropdown-icon{height:24px}.fv__ui-editable-dropdown.disabled .fv__ui-dropdown-editor{cursor:no-drop}.fv__ui-mobile .fv__ui-editable-dropdown.disabled .fv__ui-dropdown-editor{filter:alpha(opacity=55);-moz-opacity:.55;-khtml-opacity:.55;opacity:.55}.fv__ui-dropdown-editor{height:1.5rem;min-width:0;border:none;margin:1px 0 0 2px;text-align:left;background-color:var(--fv-input-bg, #fff);color:var(--fv-primary-color, #131313)}.fv__ui-dropdown-editor:focus,.fv__ui-dropdown-editor:active{outline:none}.fv__ui-dropdown-icon{width:36px;height:38px;background-repeat:no-repeat;background-position:center}.fv__ui-dropdown-icon:focus .fv__ui-high-contrast.fv__ui-browser-firefox{background-color:Highlight}@media(forced-colors: active){.fv__ui-dropdown-icon:focus .fv__ui-high-contrast{background-color:Highlight}}.fv__ui-dropdown-icon.fx-icon-normal svg{width:1rem;height:1rem}button.fv__ui-dropdown-icon,button.fv__ui-dropdown-caret{border:none;background-color:rgba(0,0,0,0);appearance:none;-webkit-appearance:none;-moz-appearance:none}.fv__ui-dropdown-button{list-style:none;margin-left:0;-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center}.fv__ui-dropdown-list{list-style:none;margin:0;left:auto;top:auto;padding:4px 0;display:none;position:fixed;box-shadow:rgba(151,151,151,.35) 0 0 14px 3px;box-shadow:var(--fv-drop-shadow, rgba(151, 151, 151, 0.35) 0 0 14px 3px);z-index:1060;border-radius:5px;background:#fff;background-color:var(--fv-file-page-content-bg, #FFFFFF);border:1px solid #fff;border-color:var(--fv-frame-border-color, white)}.fv__ui-dropdown-list>li{margin:.25rem .375rem;padding:.125rem .5rem;position:relative;-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center}.fv__ui-dropdown-list>li.fv__ui-dropdown-container-item{padding:0}.fv__ui-dropdown-list>li.fv__ui-dropdown-container-item:not(.active):not(:hover):not(.disabled):focus .fv__ui-high-contrast.fv__ui-browser-firefox{background-color:Highlight}@media(forced-colors: active){.fv__ui-dropdown-list>li.fv__ui-dropdown-container-item:not(.active):not(:hover):not(.disabled):focus .fv__ui-high-contrast{background-color:Highlight}}.fv__ui-dropdown-list>li.fv__ui-dropdown-container-item>.fv__ui-dropdown>.fv__ui-dropdown-toggler{padding:0 14px}.fv__ui-dropdown-list>li.fv__ui-dropdown-item{height:32px;line-height:32px;min-width:168px}.fv__ui-dropdown-list>li.fv__ui-dropdown-item .fv__ui-dropdown{width:100%;border:0}.fv__ui-dropdown-list>li.fv__ui-dropdown-item .fv__ui-dropdown.active>.fv__ui-dropdown-toggler>.fv__ui-dropdown-caret{background-color:rgba(0,0,0,0)}.fv__ui-dropdown-list>li.fv__ui-dropdown-item .fv__ui-dropdown:hover{background-color:var(--fv-accent-btn-hover-bg, #E6E9F0)}.fv__ui-dropdown-list>li.fv__ui-dropdown-item .fv__ui-dropdown-toggler{-webkit-align-content:flex-start;align-content:flex-start;height:32px;font-size:14px}.fv__ui-dropdown-list>li.fv__ui-dropdown-item .fv__ui-dropdown-toggler>span{padding-left:18px;text-overflow:ellipsis;overflow:hidden;text-align:left;color:#444;color:var(--fv-primary-color, #444)}.fv__ui-dropdown-list>li.fv__ui-dropdown-item .fv__ui-dropdown-toggler .fv__ui-dropdown-caret{transform:rotate(270deg);background-color:rgba(0,0,0,0);margin-left:auto}.fv__ui-dropdown-list>li.fv__ui-dropdown-item .fv__ui-dropdown-toggler .fv__ui-dropdown-icon{width:16px;height:16px;line-height:24px;align-self:center}.fv__ui-dropdown-list>li.fv__ui-dropdown-item .fv__ui-dropdown,.fv__ui-dropdown-list>li.fv__ui-dropdown-item .fv__ui-dropdown-icon,.fv__ui-dropdown-list>li.fv__ui-dropdown-item .fv__ui-dropdown-caret{height:32px;line-height:32px}.fv__ui-dropdown-list>li.fv__ui-dropdown-button{height:32px;line-height:32px;min-width:168px;width:auto;cursor:pointer;font-size:14px;border-radius:0;border:1px rgba(0,0,0,0) solid}.fv__ui-dropdown-list>li.fv__ui-dropdown-button:hover,.fv__ui-dropdown-list>li.fv__ui-dropdown-button.active{background-color:#f0f1f5}.fv__ui-dropdown-list>li.fv__ui-dropdown-button.selected{background-color:var(--fv-btn-hover-bg, #F0F1F5)}.fv__ui-dropdown-list>li.fv__ui-dropdown-button.active{background-color:var(--fv-btn-hover-bg, #F0F1F5)}.fv__ui-dropdown-list>li.fv__ui-dropdown-button:hover{background-color:var(--fv-btn-hover-bg, #F0F1F5)}.fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.active):not(:hover):not(.disabled):focus .fv__ui-high-contrast.fv__ui-browser-firefox{background-color:Highlight}@media(forced-colors: active){.fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.active):not(:hover):not(.disabled):focus .fv__ui-high-contrast{background-color:Highlight}}.fv__ui-dropdown-list>li.fv__ui-dropdown-button.disabled{filter:alpha(opacity=60);-moz-opacity:.6;-khtml-opacity:.6;opacity:.6;cursor:not-allowed}.fv__ui-dropdown-list>li.fv__ui-dropdown-button.disabled:hover{background-color:#fff;background-color:var(--fv-file-page-content-bg, #FFFFFF)}.fv__ui-dropdown-list>li.fv__ui-dropdown-button-file{padding:0}.fv__ui-dropdown-list>li.fv__ui-dropdown-button-file>.fv__ui-dropdown-item-label{padding:0 14px;width:100%}.fv__ui-dropdown.active>.fv__ui-dropdown-list{display:block}.fv__ui-dropdown.active>.fv__ui-dropdown-toggler>.fv__ui-dropdown-caret{background-color:#e0bde1;background-color:var(--fv-btn-pressed-bg, #E0BDE1)}.fv__ui-dropdown.disabled{filter:alpha(opacity=60);-moz-opacity:.6;-khtml-opacity:.6;opacity:.6}.fv__ui-dropdown-item-text,.fv__ui-dropdown-toggler-text{color:#444;color:var(--fv-primary-color, #444)}.fv__ui-dropdown.fv__ui-dropdown-limit-options .fv__ui-dropdown-list{max-height:224px;overflow-y:scroll}.fv__ui-dropdown-item-text{line-height:1.5;margin-left:.5rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.fv__ui-dropdown-toggler-text{-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;overflow:hidden}.fv__ui-dropdown-button-icon{width:24px;height:24px;background-position:center;background-repeat:no-repeat}.fv__ui-dropdown-button-icon.new-save-local-icon{width:24px;margin-left:-1px;background-position:center}.fv__ui-dropdown-item-label{margin:0;cursor:pointer;height:100%;-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-align-content:center;align-content:center}.fv__ui-dropdown-item-input{display:none}.fv__ui-dropdown-separator:after{content:"";border-bottom:1px solid #dddedf;border-bottom-color:var(--fv-spacing-line-primary-color, #dddedf);left:14px;right:14px;display:block;height:0;position:absolute;bottom:0px}.fv__ui-mobile .fv__ui-dropdown-direction-row.active>.fv__ui-dropdown-list{-webkit-box-pack:stretch;-moz-box-pack:stretch;box-pack:stretch;-webkit-justify-content:stretch;-moz-justify-content:stretch;-o-justify-content:stretch;justify-content:stretch;-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:nowrap;flex-wrap:nowrap}.fv__ui-mobile .fv__ui-dropdown-direction-row .fv__ui-dropdown-list{padding:5px 0}.fv__ui-mobile .fv__ui-dropdown-direction-row .fv__ui-dropdown-list .fv__ui-dropdown-item-text{display:none}.fv__ui-mobile .fv__ui-dropdown-direction-row .fv__ui-dropdown-list>li.fv__ui-dropdown-button{min-width:0;width:44px;height:44px;padding:10px;border-radius:3px;margin-left:5px}.fv__ui-mobile .fv__ui-dropdown-direction-row .fv__ui-dropdown-list>li.fv__ui-dropdown-button:last-child{margin-right:5px}.fv__ui-mobile .fv__ui-dropdown-editor{width:100%;height:100%}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown .fv__ui-dropdown-toggler,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown .fv__ui-dropdown-toggler{outline-offset:-1px}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown .fv__ui-dropdown-toggler,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-caret,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown .fv__ui-dropdown-toggler,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-caret{border-color:WindowText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-caret,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-caret{background-color:Window;margin:1px}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text{margin:1px 0}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown.selected,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.selected{border-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown.selected .fv__ui-dropdown-icon,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.selected .fv__ui-dropdown-icon{background-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown.active>.fv__ui-dropdown-caret,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown.selected>.fv__ui-dropdown-caret,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown:not(.disabled):hover>.fv__ui-dropdown-caret,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.active>.fv__ui-dropdown-caret,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.selected>.fv__ui-dropdown-caret,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown:not(.disabled):hover>.fv__ui-dropdown-caret{border-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown.active>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown.selected>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown:not(.disabled):hover>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.active>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.selected>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown:not(.disabled):hover>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler{border-color:Highlight;background-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown.active>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown.selected>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown:not(.disabled):hover>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.active>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.selected>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown:not(.disabled):hover>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text{color:HighlightText;background-color:Highlight;forced-color-adjust:none;forced-color-adjust:preserve-parent-color}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown.active>.fv__ui-dropdown-toggler>.fv__ui-dropdown-caret,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.active>.fv__ui-dropdown-toggler>.fv__ui-dropdown-caret{background-color:rgba(0,0,0,0)}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown.disabled,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.disabled{outline:1px solid GrayText;outline-offset:-2px}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown.disabled .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.disabled .fv__ui-dropdown-toggler-text{color:GrayText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown:not(.selected):not(.active):not(.disabled):hover .fv__ui-dropdown-icon,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer:not(.float-bar) .fv__ui-dropdown:not(.selected):not(.active):not(.disabled):hover .fv__ui-dropdown-icon{background-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-editable-dropdown .fv__ui-dropdown-toggler{border:1px solid WindowText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-editable-dropdown.disabled{outline:none}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-editable-dropdown.disabled .fv__ui-dropdown-toggler,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-editable-dropdown.disabled .fv__ui-dropdown-caret{border-color:GrayText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-editable-dropdown.disabled .fv__ui-dropdown-editor{color:GrayText;background-color:Window}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-editable-dropdown:not(.selected):not(.active):not(.disabled):hover .fv__ui-dropdown-toggler{outline:none}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list>li.fv__ui-dropdown-button .fv__ui-dropdown-item-text{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;color:WindowText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list>li.fv__ui-dropdown-button.disabled .fv__ui-dropdown-item-text{color:GrayText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.disabled).active{background-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.disabled).active .fv__ui-dropdown-item-text{color:HighlightText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.disabled):hover,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.disabled):focus{background-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.disabled):hover .fv__ui-dropdown-item-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.disabled):focus .fv__ui-dropdown-item-text{color:HighlightText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list .fv__ui-dropdown-item>.fv__ui-dropdown .fv__ui-dropdown-toggler-text{background-color:Window;color:WindowText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list .fv__ui-dropdown-item>.fv__ui-dropdown.disabled .fv__ui-dropdown-toggler-text{color:GrayText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list .fv__ui-dropdown-item>.fv__ui-dropdown:not(.disabled):hover .fv__ui-dropdown-icon{background-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list .fv__ui-dropdown-item>.fv__ui-dropdown.active .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list .fv__ui-dropdown-item>.fv__ui-dropdown.active .fv__ui-dropdown-toggler:focus .fv__ui-dropdown-toggler-text{background-color:Highlight;color:HighlightText;forced-color-adjust:none;forced-color-adjust:preserve-parent-color}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-dropdown .fv__ui-dropdown-toggler,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown .fv__ui-dropdown-toggler{outline-offset:-1px}.fv__ui-high-contrast .fv__ui-dropdown .fv__ui-dropdown-toggler,.fv__ui-high-contrast .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-caret,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown .fv__ui-dropdown-toggler,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-caret{border-color:WindowText}.fv__ui-high-contrast .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-caret,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-caret{background-color:Window;margin:1px}.fv__ui-high-contrast .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text{margin:1px 0}.fv__ui-high-contrast .fv__ui-dropdown.selected,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.selected{border-color:Highlight}.fv__ui-high-contrast .fv__ui-dropdown.selected .fv__ui-dropdown-icon,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.selected .fv__ui-dropdown-icon{background-color:Highlight}.fv__ui-high-contrast .fv__ui-dropdown.active>.fv__ui-dropdown-caret,.fv__ui-high-contrast .fv__ui-dropdown.selected>.fv__ui-dropdown-caret,.fv__ui-high-contrast .fv__ui-dropdown:not(.disabled):hover>.fv__ui-dropdown-caret,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.active>.fv__ui-dropdown-caret,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.selected>.fv__ui-dropdown-caret,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown:not(.disabled):hover>.fv__ui-dropdown-caret{border-color:Highlight}.fv__ui-high-contrast .fv__ui-dropdown.active>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler,.fv__ui-high-contrast .fv__ui-dropdown.selected>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler,.fv__ui-high-contrast .fv__ui-dropdown:not(.disabled):hover>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.active>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.selected>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown:not(.disabled):hover>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler{border-color:Highlight;background-color:Highlight}.fv__ui-high-contrast .fv__ui-dropdown.active>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast .fv__ui-dropdown.selected>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast .fv__ui-dropdown:not(.disabled):hover>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.active>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.selected>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown:not(.disabled):hover>.fv__ui-dropdown-toggler.fv__ui-dropdown-toggler .fv__ui-dropdown-toggler-text{color:HighlightText;background-color:Highlight;forced-color-adjust:none;forced-color-adjust:preserve-parent-color}.fv__ui-high-contrast .fv__ui-dropdown.active>.fv__ui-dropdown-toggler>.fv__ui-dropdown-caret,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.active>.fv__ui-dropdown-toggler>.fv__ui-dropdown-caret{background-color:rgba(0,0,0,0)}.fv__ui-high-contrast .fv__ui-dropdown.disabled,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.disabled{outline:1px solid GrayText;outline-offset:-2px}.fv__ui-high-contrast .fv__ui-dropdown.disabled .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown.disabled .fv__ui-dropdown-toggler-text{color:GrayText}.fv__ui-high-contrast .fv__ui-dropdown:not(.selected):not(.active):not(.disabled):hover .fv__ui-dropdown-icon,.fv__ui-high-contrast .fv__ui-layer:not(.float-bar) .fv__ui-dropdown:not(.selected):not(.active):not(.disabled):hover .fv__ui-dropdown-icon{background-color:Highlight}.fv__ui-high-contrast .fv__ui-editable-dropdown .fv__ui-dropdown-toggler{border:1px solid WindowText}.fv__ui-high-contrast .fv__ui-editable-dropdown.disabled{outline:none}.fv__ui-high-contrast .fv__ui-editable-dropdown.disabled .fv__ui-dropdown-toggler,.fv__ui-high-contrast .fv__ui-editable-dropdown.disabled .fv__ui-dropdown-caret{border-color:GrayText}.fv__ui-high-contrast .fv__ui-editable-dropdown.disabled .fv__ui-dropdown-editor{color:GrayText;background-color:Window}.fv__ui-high-contrast .fv__ui-editable-dropdown:not(.selected):not(.active):not(.disabled):hover .fv__ui-dropdown-toggler{outline:none}.fv__ui-high-contrast .fv__ui-dropdown-list>li.fv__ui-dropdown-button .fv__ui-dropdown-item-text{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;color:WindowText}.fv__ui-high-contrast .fv__ui-dropdown-list>li.fv__ui-dropdown-button.disabled .fv__ui-dropdown-item-text{color:GrayText}.fv__ui-high-contrast .fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.disabled).active{background-color:Highlight}.fv__ui-high-contrast .fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.disabled).active .fv__ui-dropdown-item-text{color:HighlightText}.fv__ui-high-contrast .fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.disabled):hover,.fv__ui-high-contrast .fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.disabled):focus{background-color:Highlight}.fv__ui-high-contrast .fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.disabled):hover .fv__ui-dropdown-item-text,.fv__ui-high-contrast .fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.disabled):focus .fv__ui-dropdown-item-text{color:HighlightText}.fv__ui-high-contrast .fv__ui-dropdown-list .fv__ui-dropdown-item>.fv__ui-dropdown .fv__ui-dropdown-toggler-text{background-color:Window;color:WindowText}.fv__ui-high-contrast .fv__ui-dropdown-list .fv__ui-dropdown-item>.fv__ui-dropdown.disabled .fv__ui-dropdown-toggler-text{color:GrayText}.fv__ui-high-contrast .fv__ui-dropdown-list .fv__ui-dropdown-item>.fv__ui-dropdown:not(.disabled):hover .fv__ui-dropdown-icon{background-color:Highlight}.fv__ui-high-contrast .fv__ui-dropdown-list .fv__ui-dropdown-item>.fv__ui-dropdown.active .fv__ui-dropdown-toggler-text,.fv__ui-high-contrast .fv__ui-dropdown-list .fv__ui-dropdown-item>.fv__ui-dropdown.active .fv__ui-dropdown-toggler:focus .fv__ui-dropdown-toggler-text{background-color:Highlight;color:HighlightText;forced-color-adjust:none;forced-color-adjust:preserve-parent-color}}.fv__ui-dropdown-icon-only .fv__ui-dropdown-toggler{display:inline-block}.fv__ui-dropdown-icon-only,.fv__ui-dropdown-icon-only .fv__ui-dropdown-icon{width:var(--fv-dropdown-icon-only-size, 24px);height:var(--fv-dropdown-icon-only-size, 24px);line-height:var(--fv-dropdown-icon-only-size, 24px)}.fv__ui-dropdown-icon-only .fv__ui-dropdown-caret{display:none}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown{border:none}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown .fv__ui-dropdown-toggler{border-width:0}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown .fv__ui-dropdown-toggler .fv__ui-dropdown-caret{margin:1px 1px 1px 0;border-top-right-radius:3px;border-bottom-right-radius:3px}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown.disabled{outline:none}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown.disabled .fv__ui-dropdown-toggler{outline:1px solid graytext}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-editable-dropdown>.fv__ui-dropdown-toggler,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-editable-dropdown.active>.fv__ui-dropdown-toggler,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-editable-dropdown.selected>.fv__ui-dropdown-toggler,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-editable-dropdown:not(.disabled):hover>.fv__ui-dropdown-toggler{border-width:1px;outline:none}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.selected).active{outline:1px solid}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list>li.fv__ui-dropdown-button:not(.active):not(.selected):hover{outline:1px dotted}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-dropdown-list .fv__ui-dropdown-item>.fv__ui-dropdown .fv__ui-dropdown-caret{background-color:rgba(0,0,0,0)}',""]),e.exports=t},3858:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-colors-picker{font-size:0;margin:0;padding:0;overflow:hidden}.fv__ui-colors-picker li,.fv__ui-colors-picker .fv__ui-picker-addcolor,.fv__ui-colors-picker .fv__ui-picker-removecolor{border:1px solid rgba(0,0,0,0);border-radius:5px;display:block;height:24px;margin:5px 1.5% 5px 1.5%;width:11%;background-color:none;float:left}.fv__ui-colors-picker li:focus,.fv__ui-colors-picker .fv__ui-picker-addcolor:focus,.fv__ui-colors-picker .fv__ui-picker-removecolor:focus{box-shadow:1px 2px 3px #656}.fv__ui-colors-picker li{cursor:pointer;forced-color-adjust:none;forced-color-adjust:preserve-parent-color}.fv__ui-colors-picker .fv__ui-property-icon-nocolor{background-color:#fff;border-color:#aeaeae}.fv__ui-colors-picker .fv__ui-picker-addcolor{background-color:#fff;border-color:#aeaeae;position:relative}.fv__ui-colors-picker .fv__ui-picker-removecolor{background-color:#fff;border-color:#aeaeae}.fv__ui-colors-picker .fv__color-picker-add,.fv__ui-colors-picker .fv__color-picker-add>div:first-child{width:100%;height:100%;filter:alpha(opacity=0);-moz-opacity:0;-khtml-opacity:0;opacity:0;position:absolute}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-colors-picker li{border-color:WindowText !important}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-colors-picker li:focus{border-color:Highlight !important}",""]),e.exports=t},2877:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.foxit-spectrum-btns{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;-webkit-flex:1;-moz-flex:1;flex:1}.foxit-spectrum-btns{-webkit-box-pack:end;-moz-box-pack:end;box-pack:end;-webkit-justify-content:flex-end;-moz-justify-content:flex-end;-o-justify-content:flex-end;justify-content:flex-end}.foxit-spectrum-wrapper{position:fixed;background:#fff;background-color:var(--fv-file-page-content-bg, #FFFFFF);box-shadow:rgba(151,151,151,.85) 0 0 14px 3px;box-shadow:var(--fv-drop-shadow, rgba(151, 151, 151, 0.85) 0 0 14px 3px);border-radius:5px;width:256px;padding:22px;z-index:1051;display:none;border:1px solid #fff;border-color:var(--fv-frame-border-color, white)}.foxit-spectrum :after{content:"";display:block;width:0;height:0;clear:both}.foxit-spectrum,.foxit-spectrum-tools,.foxit-spectrum-btns{min-width:0}.foxit-spectrum{height:156px;display:flex;justify-content:space-between}.foxit-spectrum-color{width:156px;height:156px;background-color:red;position:relative}.foxit-spectrum-gradientX{width:100%;height:100%;background-image:linear-gradient(to right, #fff, rgba(204, 154, 129, 0));background-color:rgba(0,0,0,0)}.foxit-spectrum-gradientY{width:100%;height:100%;background-image:linear-gradient(to top, #000, rgba(204, 154, 129, 0));background-color:rgba(0,0,0,0)}#foxit-spectrum-color-dragger{border-radius:3px;height:6px;width:6px;border:1px solid #fff;background:#000;cursor:pointer;position:absolute;top:-3px;left:-3px}#foxit-spectrum-color-dragger:focus{background-color:#f0f1f5}.foxit-spectrum-hue{width:30px;height:120px;margin-left:10px;height:156px;background:linear-gradient(to bottom, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%);position:relative}.foxit-spectrum-transparent{width:30px;height:30px;position:absolute;border:1px solid #bfbebe;background-color:#fff;border-color:var(--fv-frame-border-color, #bfbebe);background-color:var(--fv-file-page-content-bg, #FFFFFF);border-radius:5px;right:22px;top:184px;display:none}.foxit-spectrum-transparent.show{display:block}#foxit-spectrum-hue-slider{position:absolute;left:-1px;top:-3px;width:32px;height:5px;border:1px solid #000;border-color:var(--fv-border-color, #000);background:#fff;filter:alpha(opacity=80);-moz-opacity:.8;-khtml-opacity:.8;opacity:.8}#foxit-spectrum-hue-slider:focus{background-color:#f0f1f5;filter:drop-shadow(1px 2px 3px #665566)}#foxit-spectrum-color-dragger,#foxit-spectrum-hue-slider{cursor:pointer}.foxit-spectrum-tools{margin-top:10px;height:30px}.foxit-spectrum-show{width:156px;height:24px;outline:1px solid #bfbfbf}#foxit-spectrum-current,#foxit-spectrum-active{float:left;width:50%;height:24px}.foxit-spectrum-btns{font-size:14px;margin-top:10px}.foxit-spectrum-btns button{margin-left:auto;width:60px;height:30px;border-radius:5px;background:rgba(0,0,0,0);outline:none;border:var(--fv-frame-border, 1px solid #C7CCD9);border-color:var(--fv-btn-border-color, #dddddd);cursor:pointer;display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #bcc1d1;color:#999;background-color:#fff;text-align:center;cursor:pointer;user-select:none;color:#131313;color:var(--fv-btn-color, #131313);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1);font-size:.75rem;min-width:fit-content;min-width:-moz-fit-content;min-width:-webkit-fit-content;padding:0rem .75rem 0rem .75rem;height:24px}.foxit-spectrum-btns button:last-child{margin-right:0}.foxit-spectrum-btns button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.foxit-spectrum-btns button input[type=checkbox]:last-child{margin-right:0}.foxit-spectrum-btns button .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.foxit-spectrum-btns button:not(.disabled):hover,.foxit-spectrum-btns button:not(:disabled):hover{border:var(--fv-hover-btn-border, 1px solid #9197A8)}.foxit-spectrum-btns button:not(.disabled):hover .fv__ui-button-text,.foxit-spectrum-btns button:not(:disabled):hover .fv__ui-button-text{color:#131313 !important;color:var(--fv-btn-color, #131313) !important}.foxit-spectrum-btns button.disabled,.foxit-spectrum-btns button:disabled{color:var(--fv-btn-color, #131313);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1);opacity:var(--fv-btn-disabled-opacity, 0.3)}#foxit-spectrum-choose{border:1px solid var(--fv-btn-border-color, #BCC1D1);border-color:var(--fv-btn-border-color, #BCC1D1);color:#fff;color:var(--fv-accent-btn-color, #FFFFFF);width:40%;float:left;margin-left:5%;display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #a236b2;color:#fff;background-color:#a236b2;text-align:center;cursor:pointer;user-select:none;color:var(--Accent_button_text, #FFFFFF);background-color:var(--fv-accent-btn-bg, #A236B2);border-color:var(--fv-accent-btn-border-color, #A236B2);margin-right:10px;min-width:0;font-size:.75rem;padding:0rem .75rem 0rem .75rem;height:24px}#foxit-spectrum-choose:last-child{margin-right:0}#foxit-spectrum-choose input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}#foxit-spectrum-choose input[type=checkbox]:last-child{margin-right:0}#foxit-spectrum-choose .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}#foxit-spectrum-choose:not(.disabled,[disabled],:disabled):hover{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-hover-bg, #A236B2);border-color:var(--fv-accent-btn-border-hover-color, #A236B2);box-shadow:0 .125rem .1875rem rgba(0,0,0,.15)}#foxit-spectrum-choose:not(.disabled,[disabled],:disabled):focus{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-focus-bg, #A236B2);border-color:var(--fv-accent-btn-border-focus-color, #A236B2);opacity:.8;opacity:var(--fv-btn-focus-opacity, 0.8)}#foxit-spectrum-choose:not(.disabled,[disabled],:disabled):active{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-pressed-bg, #A236B2);border-color:var(--fv-accent-btn-border-pressed-color, #A236B2);opacity:.5;opacity:var(--fv-btn-pressed-opacity, 0.5)}#foxit-spectrum-choose.disabled,#foxit-spectrum-choose:disabled{color:var(--fv-disable-accent-button-text, #FFFFFF);background-color:var(--fv-disable-accent-color, #E3C1E8);border-color:var(--fv-disable-accent-color, #E3C1E8);cursor:not-allowed}#foxit-spectrum-choose.disabled .fv__ui-button-text,#foxit-spectrum-choose:disabled .fv__ui-button-text{color:var(--fv-disable-accent-button-text, #FFFFFF)}#foxit-spectrum-cancel{width:40%;float:right;margin-right:5%}.fv__ui-mobile #foxit-spectrum-choose{border:1px solid #dd88e0;border-color:var(--fv-btn-border-color, #dd88e0);color:#dd88e0;color:var(--Accent_button_text, #dd88e0);display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #a236b2;color:#fff;background-color:#a236b2;text-align:center;cursor:pointer;user-select:none;color:var(--Accent_button_text, #FFFFFF);background-color:var(--fv-accent-btn-bg, #A236B2);border-color:var(--fv-accent-btn-border-color, #A236B2);display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;margin-right:5px;margin-left:5px;min-width:4rem;color:#fff}.fv__ui-mobile #foxit-spectrum-choose:last-child{margin-right:0}.fv__ui-mobile #foxit-spectrum-choose input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-mobile #foxit-spectrum-choose input[type=checkbox]:last-child{margin-right:0}.fv__ui-mobile #foxit-spectrum-choose .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__ui-mobile #foxit-spectrum-choose:last-child{margin-right:0}.fv__ui-mobile #foxit-spectrum-choose input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-mobile #foxit-spectrum-choose input[type=checkbox]:last-child{margin-right:0}.fv__ui-mobile #foxit-spectrum-choose:not(.disabled):hover,.fv__ui-mobile #foxit-spectrum-choose:not(:disabled):hover{color:#fff;background-color:#a236b2;border-color:#a236b2;color:var(--fv-accent-btn-hover-color, #FFFFFF);background-color:var(--fv-accent-btn-hover-bg, #A236B2);border-color:var(--fv-accent-btn-border-hover-color, #A236B2);box-shadow:0 .125rem .1875rem rgba(0,0,0,.15)}.fv__ui-mobile #foxit-spectrum-choose:not(.disabled):focus,.fv__ui-mobile #foxit-spectrum-choose:not(:disabled):focus{color:#fff;background-color:#a236b2;border-color:#a236b2;color:var(--fv-accent-btn-focus-color, #FFFFFF);background-color:var(--fv-accent-btn-focus-bg, #A236B2);border-color:var(--fv-accent-btn-border-focus-color, #A236B2);opacity:.8;opacity:var(--fv-btn-focus-opacity, 0.8)}.fv__ui-mobile #foxit-spectrum-choose:not(.disabled):active,.fv__ui-mobile #foxit-spectrum-choose:not(:disabled):active{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-pressed-bg, #A236B2);border-color:var(--fv-accent-btn-border-pressed-color, #A236B2);opacity:.5;opacity:var(--fv-btn-pressed-opacity, 0.8)}.fv__ui-mobile #foxit-spectrum-choose.disabled,.fv__ui-mobile #foxit-spectrum-choose:disabled{color:var(--fv-disable-accent-button-text, #FFFFFF);background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-disable-accent-color, #E3C1E8);border-color:var(--fv-accent-btn-border-disabled-color, #A236B2);opacity:.3;opacity:var(--fv-btn-disabled-opacity, 0.8)}.fv__ui-mobile #foxit-spectrum-cancel{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #bcc1d1;color:#999;background-color:#fff;text-align:center;cursor:pointer;user-select:none;color:var(--fv-btn-color, #999999);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1);display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;min-width:4rem}.fv__ui-mobile #foxit-spectrum-cancel:last-child{margin-right:0}.fv__ui-mobile #foxit-spectrum-cancel input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-mobile #foxit-spectrum-cancel input[type=checkbox]:last-child{margin-right:0}.fv__ui-mobile #foxit-spectrum-cancel .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__ui-mobile #foxit-spectrum-cancel:last-child{margin-right:0}.fv__ui-mobile #foxit-spectrum-cancel input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-mobile #foxit-spectrum-cancel input[type=checkbox]:last-child{margin-right:0}.fv__ui-mobile #foxit-spectrum-cancel:not(.disabled):hover,.fv__ui-mobile #foxit-spectrum-cancel:not(:disabled):hover{color:#a236b2;background-color:#fff;border-color:#a236b2;background-color:var(--fv-btn-hover-bg, #FFFFFF);border-color:#a236b2;border-color:var(--fv-btn-border-hover-color, #A236B2)}.fv__ui-mobile #foxit-spectrum-cancel:not(.disabled):focus,.fv__ui-mobile #foxit-spectrum-cancel:not(:disabled):focus{color:#a236b2;background-color:#fff;border-color:#a236b2;background-color:var(--fv-btn-focus-bg, #FFFFFF);border-color:#a236b2;border-color:var(--fv-btn-border-focus-color, #A236B2);opacity:.8;opacity:var(--fv-btn-focus-opacity, 0.8)}.fv__ui-mobile #foxit-spectrum-cancel:not(.disabled):active,.fv__ui-mobile #foxit-spectrum-cancel:not(:disabled):active{color:#a236b2;background-color:#fff;border-color:#a236b2;color:var(--fv-btn-pressed-color, #A236B2);background-color:var(--fv-btn-pressed-bg, #FFFFFF);border-color:var(--fv-btn-pressed-color, #A236B2);opacity:.5;opacity:var(--fv-btn-pressed-opacity, 0.8)}.fv__ui-mobile #foxit-spectrum-cancel.disabled,.fv__ui-mobile #foxit-spectrum-cancel:disabled{color:#a236b2;background-color:#fff;border-color:#a236b2;color:var(--fv-btn-disabled-color, #A236B2);background-color:var(--fv-btn-disabled-color, #FFFFFF);border-color:var(--fv-btn-disabled-color, #A236B2);opacity:.3;opacity:var(--fv-btn-disabled-opacity, 0.8)}.foxit-spectrum-color,.foxit-spectrum-hue,.foxit-spectrum-show,.foxit-spectrum-gradientX,.foxit-spectrum-gradientY,.foxit-spectrum-transparent{forced-color-adjust:none;forced-color-adjust:preserve-parent-color}',""]),e.exports=t},3402:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-dropdown-select{width:100%;border:1px solid var(--fv-input-border-color, #d1d1d1);background-color:var(--fv-input-bg, #fff)}.fv__ui-dropdown-select,.fv__ui-mobile .fv__ui-dropdown-select.fv__ui-dropdown-select{height:var(--fv-dropdown-select-height, 6.4vmin);line-height:var(--fv-dropdown-select-height, 6.4vmin);width:100%}.fv__ui-dropdown-select .fv__ui-dropdown-list{max-height:var(--ui-dropdown-select-max-height, 50vh);overflow-y:auto;background-color:var(--fv-input-bg, #fff)}.fv__ui-dropdown-select .fv__ui-dropdown-list>li.fv__ui-dropdown-button{height:var(--ui-dropdown-select-item-height, 28px);line-height:var(--ui-dropdown-select-item-height, 28px)}.fv__ui-dropdown-select .fv__ui-dropdown-toggler{padding-left:.2em}.fv__ui-dropdown-select-inline{margin:0 .5em;vertical-align:middle}",""]),e.exports=t},6754:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-select .fv__ui-select-options,.fv__ui-select{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-select .fv__ui-select-options .fv__ui-select-lable,.fv__ui-select .fv__ui-select-options{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;-webkit-flex:1;-moz-flex:1;flex:1}.fv__ui-select .fv__ui-select-options,.fv__ui-select{-webkit-box-pack:start;-moz-box-pack:start;box-pack:start;-webkit-justify-content:flex-start;-moz-justify-content:flex-start;-o-justify-content:flex-start;justify-content:flex-start}.fv__ui-select .fv__ui-select-options,.fv__ui-select{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__ui-select{-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;height:30px;line-height:30px;border:1px solid rgba(0,0,0,0);position:relative;cursor:pointer}.fv__ui-select:not(.disabled):hover{border-color:#dd88e0;border-color:var(--fv-input-border-color, #dd88e0)}.fv__ui-select:focus{border-color:#dd88e0;border-color:var(--fv-input-border-color, #dd88e0)}.fv__ui-select .fv__ui-select-icon{width:30px;height:30px}.fv__ui-select .fv__ui-select-selector{box-shadow:rgba(151,151,151,.35) 0 0 14px 3px;box-shadow:var(--fv-drop-shadow, rgba(151, 151, 151, 0.35) 0 0 14px 3px);z-index:1001;display:none;border-radius:5px;background:#fbfbfd;background-color:var(--fv-primary-bg, #FBFBFD);padding:5px;margin:0;width:100%;position:absolute;top:100%;line-height:20px}.fv__ui-select .fv__ui-select-option{cursor:pointer;display:block;height:20px;line-height:20px}.fv__ui-select .fv__ui-select-option:hover,.fv__ui-select .fv__ui-select-option.selected{background-color:#e6e9f0;background-color:var(--fv-active-bg, #E6E9F0)}.fv__ui-select .fv__ui-select-option>div{height:100%;display:block;text-align:center;font-size:12px}.fv__ui-select .fv__ui-select-option:focus{background-color:var(--fv-hover-bg, #D8DBE5);background-color:var(--fv-accent-btn-hover-bg, var(--fv-hover-bg, #D8DBE5))}.fv__ui-select .fv__ui-select-options{height:100%;-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;padding-left:19px}.fv__ui-select .fv__ui-select-options .fv__ui-select-lable{overflow:hidden;text-overflow:ellipsis;white-space:pre;height:100%}.fv__ui-select .fv__ui-select-options .fv__ui-select-dropdown{margin-left:auto;width:30px;height:30px;text-align:center;font-size:12px}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-select-selector{outline:1px solid}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-select .fv__ui-select-option{overflow:hidden;margin-bottom:1px}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-select .fv__ui-select-option:hover{outline:1px dotted}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-select .fv__ui-select-option.selected{outline:1px solid}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-select .fv__ui-select-option:hover,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-select .fv__ui-select-option.selected{background-color:Highlight}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-select-selector{outline:1px solid}.fv__ui-high-contrast .fv__ui-select .fv__ui-select-option{overflow:hidden;margin-bottom:1px}.fv__ui-high-contrast .fv__ui-select .fv__ui-select-option:hover{outline:1px dotted}.fv__ui-high-contrast .fv__ui-select .fv__ui-select-option.selected{outline:1px solid}.fv__ui-high-contrast .fv__ui-select .fv__ui-select-option:hover,.fv__ui-high-contrast .fv__ui-select .fv__ui-select-option.selected{background-color:Highlight}}",""]),e.exports=t},1637:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-slider{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-slider{position:relative;width:100%;min-width:220px;height:20px;font-size:12px;color:#444;-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center}.fv__ui-slider .fv__ui-slider-line,.fv__ui-slider input,.fv__ui-slider .fv__slider-icon{display:inline-block;vertical-align:top}.fv__ui-slider .fv__slider-icon{width:30px;height:100%}.fv__ui-slider .fv__ui-slider-line,.fv__ui-slider input{margin-left:1.375em}.fv__ui-slider .fv__ui-slider-line{width:calc(100% - 129px);height:4px;position:relative;background-color:var(--fv-check-or-radio-border-color, #9197A8)}.fv__ui-slider .fv__ui-slider-line .fv__ui-slider-bar{height:100%;background-color:var(--fv-accent-color, #A236B2)}.fv__ui-slider .fv__ui-slider-line .fv__ui-slider-cursor{display:inline-block;width:10px;height:10px;position:absolute;background-color:#cecece;border:1px solid #fff;box-sizing:border-box;top:-3px;left:-5px;cursor:pointer}.fv__ui-slider .fv__ui-slider-line .fv__ui-slider-cursor:hover,.fv__ui-slider .fv__ui-slider-line .fv__ui-slider-cursor:focus,.fv__ui-slider .fv__ui-slider-line .fv__ui-slider-cursor.fv__ui-select-dragging{background-color:var(--fv-accent-btn-hover-bg, #e2a1e6)}.fv__ui-slider .fv__ui-slider-line .fv__ui-slider-cursor,.fv__ui-slider .fv__ui-slider-line .fv__ui-slider-cursor:focus{border-radius:50%}.fv__ui-slider input{height:100%;width:40px;position:absolute;right:15px}.fv__ui-slider span{font-size:14px;top:2px;position:absolute;right:0}.fv__ui-slider.contrast .fv__ui-slider-bar{background-color:var(--fv-accent-color, #A236B2)}.fv__ui-slider.contrast .fv__ui-slider-line{background-color:var(--fv-check-or-radio-border-color, #9197A8)}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-slider-line{outline:1px solid}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-slider-bar{height:0;border-top:4px solid #cecece}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-slider-line{outline:1px solid}.fv__ui-high-contrast .fv__ui-slider-bar{height:0;border-top:4px solid #cecece}}.fv__ui-slider-no-input input{display:none}.fv__ui-slider-center-point{position:absolute;left:calc(50% - 5px);top:-4px;display:block;width:0;height:10px;border-left:2px solid #cecece;cursor:pointer}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-slider .fv__ui-slider-cursor{background-color:Highlight}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-slider .fv__ui-slider-cursor{background-color:Highlight}}",""]),e.exports=t},4881:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-xselect-button{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-xselect-button-text{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;-webkit-flex:1;-moz-flex:1;flex:1}.fv__ui-xselect-button{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__ui-xselect{display:inline-block}.fv__ui-xselect-button{-webkit-box-pack:stretch;-moz-box-pack:stretch;box-pack:stretch;-webkit-justify-content:stretch;-moz-justify-content:stretch;-o-justify-content:stretch;justify-content:stretch;-webkit-box-align:stretch;-moz-box-align:stretch;-webkit-align-items:stretch;align-items:stretch}.fv__ui-xselect-button.editable .fv__ui-xselect-button-text{display:none}.fv__ui-xselect-button.editable .fv__ui-xselect-button-edit{display:block}.fv__ui-xselect-button-edit{display:none}.fv__ui-xselect-button-text{display:block}.fv__ui-xselect-button-icon{width:1em}",""]),e.exports=t},62:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.fv__ui-checkbox{display:-webkit-inline-box;display:inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-moz-inline-box;display:inline-flex}.fv__ui-checkbox-wrapper,.fv__ui-checkbox{box-sizing:border-box;margin:0;padding:0;font-variant:tabular-nums;list-style:none;font-feature-settings:"tnum";cursor:pointer}.fv__ui-checkbox{-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;line-height:1;white-space:nowrap}.fv__ui-checkbox.disabled .fv__ui-checkbox-text{opacity:.5}.fv__ui-checkbox-wrapper{outline:none;position:relative;display:inline-block;width:1.3333333333em;min-width:1.3333333333em;height:1.3333333333em;min-height:1.3333333333em;vertical-align:middle}.fv__ui-checkbox-input{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;cursor:pointer;opacity:0;border:0;margin:0}.fv__ui-checkbox-inner{position:relative;top:0;left:0;width:100%;height:100%;display:inline-block;direction:ltr;background-color:var(--fv-input-bg, #FFFFFF);border:var(--Check_or_Radio_border, 1px solid #9197A8);border-radius:2px;border-collapse:separate}.fv__ui-checkbox-inner,.fv__ui-checkbox-inner::after,.fv__ui-checkbox-inner::before{-webkit-transition:opacity 0.1s, width 0.1s, height 0.1s;transition:opacity 0.1s, width 0.1s, height 0.1s}.fv__ui-checkbox-inner::after,.fv__ui-checkbox-inner::before{position:absolute;display:table;opacity:0;content:" "}.fv__ui-checkbox-inner::before{top:50%;left:20%;width:60%;height:.176em;margin-top:-0.088em;background-color:#c8c8c8}.fv__ui-checkbox-inner::after{top:50%;left:25%;-webkit-transform:rotate(45deg) scale(1) translate(-50%, -50%);-moz-transform:rotate(45deg) scale(1) translate(-50%, -50%);-ms-transform:rotate(45deg) scale(1) translate(-50%, -50%);-o-transform:rotate(45deg) scale(1) translate(-50%, -50%);transform:rotate(45deg) scale(1) translate(-50%, -50%);border:.1866666667em solid var(--fv-accent-btn-color, #FFFFFF);border-top:0;border-left:0;width:0.40715em;height:0.7415em}.fv__ui-checkbox-input:checked+.fv__ui-checkbox-inner{background-color:var(--fv-accent-btn-bg, #9E3ABF);border-color:var(--fv-accent-btn-bg, #9E3ABF)}.fv__ui-checkbox-input:indeterminate+.fv__ui-checkbox-inner::before,.fv__ui-checkbox-input:checked+.fv__ui-checkbox-inner::after{opacity:1}.fv__ui-checkbox-input:disabled+.fv__ui-checkbox-inner{opacity:.5;color:#888;border-color:var(--Accent_color, #d9d9d9) !important;cursor:not-allowed}.fv__ui-checkbox-text{margin-left:.5em}.fv__ui-checkbox-hide-text .fv__ui-checkbox-text{display:none}',""]),e.exports=t},6607:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.fv__ui-color-picker-button{--fv-color-picker-button-size: 24px;--value: transparent;position:relative;width:var(--fv-color-picker-button-size);height:var(--fv-color-picker-button-size);-webkit-user-select:none;user-select:none;border:1px solid var(--fv-input-border-color, #d1d1d1);background-color:var(--value);forced-color-adjust:none;forced-color-adjust:preserve-parent-color;box-sizing:content-box;padding:0}.fv__ui-color-picker-button:focus{outline:2px solid #656}.fv__ui-color-picker-button-empty:before{content:"";position:absolute;top:0;left:0;width:0;height:0;border:calc(var(--fv-color-picker-button-size)/2) solid green;border-top-color:blue;border-left-color:blue;cursor:pointer}.fv__ui-color-picker-button-empty:after{content:"?";font-size:calc(var(--fv-color-picker-button-size)/1.5);width:1em;height:1em;position:absolute;left:calc(50% - .5em);top:calc(50% - .5em);color:red}',""]),e.exports=t},5111:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-content-editor{display:block;white-space:pre;overflow:auto}.fv__ui-content-editor-disabled{opacity:.5}",""]),e.exports=t},9674:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-form-group{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-form-group-ttb .fv__ui-form-group-label,.fv__ui-form-group-rtl .fv__ui-form-group-label,.fv__ui-form-group-ltr .fv__ui-form-group-container{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;-webkit-flex:1;-moz-flex:1;flex:1}.fv__ui-form-group-ttb{-webkit-box-direction:normal;-webkit-box-orient:vertical;-moz-box-direction:normal;-moz-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.fv__ui-form-group-ltr,.fv__ui-form-group-rtl{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__ui-form-group-ltr,.fv__ui-form-group-rtl{-webkit-box-align:start;-moz-box-align:start;-webkit-align-items:flex-start;align-items:flex-start}.fv__ui-form-group-label{white-space:nowrap}.fv__ui-form-group-container{line-height:1}.fv__ui-form-group-delimiter{margin:0 5px 0 2px}.fv__ui-form-group-ltr,.fv__ui-form-group-rtl{-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center}.fv__ui-form-group-ttb{-webkit-box-align:stretch;-moz-box-align:stretch;-webkit-align-items:stretch;align-items:stretch}.fv__ui-form-group.disabled{opacity:.6;cursor:not-allowed}",""]),e.exports=t},9173:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-high-contrast.fv__ui-browser-firefox input.disabled{color:GrayText;border-color:GrayText}@media(forced-colors: active){.fv__ui-high-contrast input.disabled{color:GrayText;border-color:GrayText}}.fv__ui-input-primary{border:1px solid var(--fv-input-border-color, #d1d1d1);border-radius:var(--base-border-radius, 0.25rem);height:6.4vmin;line-height:6.4vmin}.fv__ui-number.disabled{cursor:not-allowed}.fv__ui-input.disabled{cursor:not-allowed}",""]),e.exports=t},9302:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.fv__ui-pdf-unit-number-input-decrement:after,.fv__ui-pdf-unit-number-input-increment:after{content:""}.fv__ui-pdf-unit-number-input-decrement,.fv__ui-pdf-unit-number-input-increment{display:flex;justify-content:center;align-items:center;width:100%;height:50%;cursor:pointer;border:none;appearance:none}.fv__ui-pdf-unit-number-input-decrement:hover,.fv__ui-pdf-unit-number-input-increment:hover{background-color:var(--fv-content-bg, #eee)}.fv__ui-pdf-unit-number-input{position:relative;border:1px solid var(--fv-input-border-color, #d1d1d1);border-radius:var(--base-border-radius, 0.25rem);overflow:hidden}.fv__ui-pdf-unit-number-input-editor{border:none;width:100%}.fv__ui-pdf-unit-number-input:hover .fv__ui-pdf-unit-number-input-buttons{display:flex;flex-direction:column;align-items:center;flex-wrap:nowrap;justify-content:space-between}.fv__ui-pdf-unit-number-input-buttons{display:none;position:absolute;right:0;top:0;width:24px;height:100%}.fv__ui-pdf-unit-number-input-increment:after{bottom:3px;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-bottom:4px solid gray}.fv__ui-pdf-unit-number-input-decrement:after{top:3px;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:4px solid gray}',""]),e.exports=t},6828:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,"fv__ui-radio{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}fv__ui-radio{-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center}fv__ui-radio-label{margin-left:.5em}",""]),e.exports=t},4827:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-textarea.disabled{cursor:not-allowed}.fv__ui-textarea-primary{border:1px solid var(--fv-input-border-color, #d1d1d1);border-radius:var(--base-border-radius, 0.25rem)}",""]),e.exports=t},6845:(e,t,n)=>{var i=n(3645),r=n(1667),o=n(975);t=i(!1);var a=r(o);t.push([e.id,'.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-grp-btn-list,.fv__ui-grouplist.horizontal>.fv__ui-grouplist-item,.fv__ui-grouplist{display:-webkit-inline-box;display:inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-moz-inline-box;display:inline-flex}.fv__ui-grp-btn-list,.fv__ui-grouplist.horizontal>.fv__ui-grouplist-item,.fv__ui-grouplist{-webkit-box-pack:start;-moz-box-pack:start;box-pack:start;-webkit-justify-content:flex-start;-moz-justify-content:flex-start;-o-justify-content:flex-start;justify-content:flex-start}.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active{-webkit-box-pack:center;-moz-box-pack:center;box-pack:center;-webkit-justify-content:center;-moz-justify-content:center;-o-justify-content:center;justify-content:center}.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active,.fv__ui-grp-btn-list,.fv__ui-grouplist.horizontal>.fv__ui-grouplist-item,.fv__ui-grouplist{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active{-webkit-box-align:start;-moz-box-align:start;-webkit-align-items:flex-start;align-items:flex-start}.fv__ui-grp-more .fv__icon-toolbar-more,.fv__ui-grouplist-item.shrink .fv__ui-grp-more{display:inline-block}.fx-ribbon{display:flex;padding:4px 0;user-select:none}.fx-ribbon-group{display:flex;border-left:1px solid #e0e0e0;border-left-color:var(--fv-body-bg, #e0e0e0);position:relative}.fx-ribbon-group:first-child{border-left:none}.fx-ribbon-group-header{display:none}.fx-ribbon-group-elements{display:flex}.fx-ribbon-item{flex-shrink:0;text-align:center;padding:0;margin:0 4px;color:#131313;color:var(--fv-primary-color, #131313);cursor:pointer}.fx-ribbon-item-disabled,.fx-ribbon-item.disabled{opacity:.5;cursor:not-allowed}.fx-ribbon-items-sm .fx-ribbon-item{padding:3px;margin:3px 0}.fx-ribbon-item-active,.fx-ribbon-item.active,.fx-ribbon-item.selected,.fx-ribbon-item:hover{border-radius:3px}.fx-ribbon-item-active,.fx-ribbon-item.active,.fx-ribbon-item.selected{background-color:#e6e9f0;background-color:var(--fv-hover-bg, #E6E9F0);outline-color:var(--fv-btn-outline-color, transparent)}.fx-ribbon-item:hover{background-color:#e6e9f0;background-color:var(--fv-hover-bg, #E6E9F0);outline-color:var(--fv-border-color, transparent);border-radius:3px}.fx-ribbon-item-sm{padding:0}.fx-ribbon-item-sm.fx-ribbon-item-active,.fx-ribbon-item-sm-active,.fx-ribbon-item-sm.active,.fx-ribbon-item-sm.selected,.fx-ribbon-item-sm:hover{background-color:rgba(0,0,0,0)}.fx-ribbon-item-sm.fx-ribbon-item-active .fx-ribbon-item-icon,.fx-ribbon-item-sm-active .fx-ribbon-item-icon,.fx-ribbon-item-sm.active .fx-ribbon-item-icon,.fx-ribbon-item-sm.selected .fx-ribbon-item-icon,.fx-ribbon-item-sm:hover .fx-ribbon-item-icon{background-color:#e6e9f0;background-color:var(--fv-hover-bg, #E6E9F0);border-radius:3px}.fx-ribbon-item-sm-active .fx-ribbon-item-icon,.fx-ribbon-item-sm.active .fx-ribbon-item-icon,.fx-ribbon-item-sm.selected .fx-ribbon-item-icon{background-color:#e6e9f0;background-color:var(--fv-hover-bg, #E6E9F0)}.fx-ribbon-item-sm:hover .fx-ribbon-item-icon{background-color:#e6e9f0;background-color:var(--fv-hover-bg, #E6E9F0)}.fx-ribbon-item-sm .fx-ribbon-item-icon{padding:2px;height:20px;width:20px;line-height:inherit}.fx-ribbon-item-sm .fx-ribbon-item-icon .fx-icon{line-height:inherit}.fx-ribbon-item-icon{height:32px;line-height:32px;overflow:hidden;text-align:center}.fx-ribbon-item-icon:focus{background-color:#e6e9f0;background-color:var(--fv-hover-bg, #E6E9F0)}.fx-ribbon-item-text{height:32px;min-width:42px;font-size:12px;text-align:center}.fx-ribbon-item-text:focus{background-color:#e6e9f0;background-color:var(--fv-hover-bg, #E6E9F0)}.fx-ribbon-item-text-1,.fx-ribbon-item-text-2{height:16px;line-height:16px;white-space:nowrap}.fx-ribbon-item-more svg{display:inline-block;margin-left:2px;margin-bottom:-2px}.fx-ribbon-item-more .fv__ribbonButton-arrow{display:inline-block;content:"";width:6px;height:3px;background-image:url('+a+');background-size:100%;background-repeat:no-repeat;margin-left:2px}.fx-ribbon-item-more:after{display:inline-block;content:"";width:6px;height:3px;background-image:var(--fv-icon-ribbon-item-more, url('+a+'));background-size:100%;background-repeat:no-repeat;margin-left:2px;margin-bottom:1px}.fx-ribbon-item-dropdown-menu.fx-dropdown-menu{margin-left:-4px}.fv__ui-mobile .fx-ribbon-dropdown>.fv__ui-dropdown{height:0}.fx-ribbon-dropdown{position:absolute;height:0}.fx-ribbon-dropdown>.fv__ui-dropdown{height:0}.fx-ribbon-dropdown>.fv__ui-dropdown>.fv__ui-dropdown-toggler{display:none}.fv__ui-grouplist{-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-align-content:space-between;align-content:space-between}.fv__ui-grouplist.horizontal>.fv__ui-grouplist-item{-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-align-content:space-between;align-content:space-between}.fv__ui-grouplist.horizontal>.fv__ui-grouplist-item:last-child{margin-right:0}.fv__ui-grouplist-item{*zoom:1;position:relative}.fv__ui-grouplist-item:after{content:"";height:30px;width:0px;border-right:var(--Spacing_line, 1px solid #E6E9F0);border-right-color:var(--Spacing_line_color, #E6E9F0);display:block;clear:both}.fv__ui-grouplist-item>*{margin-right:8px;clear:both}.fv__ui-grouplist-item>*:first-child{margin-left:8px}.fv__ui-grouplist-item .fv__ui-grp-btn-list-title{display:none}.fv__ui-grouplist-item .fv__ui-grp-btn-list{margin-right:0}.fv__ui-grouplist-item .fv__ui-grp-btn-list>*{margin-right:8px;list-style:none}.fv__ui-grp-btn-list{-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-align-content:space-between;align-content:space-between}.fv__ui-grp-btn-list>*{margin-right:0}.fv__ui-grp-btn-list>.fx-ribbon-items-sm{align-self:flex-start}.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list{display:none}.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active{position:fixed;background-color:#fff;background-color:var(--fv-file-page-content-bg, #FFFFFF);z-index:1000;padding-top:5px;padding-bottom:5px;border-radius:5px;min-width:142px;box-shadow:rgba(151,151,151,.35) 0 0 14px 3px;box-shadow:var(--fv-drop-shadow, rgba(151, 151, 151, 0.35) 0 0 14px 3px)}.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__ui-editable_zoom_dropdown{width:129px}.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__ui-grp-btn-list-title{display:block;padding:0 8px;height:38px;line-height:38px;font-size:12px;color:#444;color:var(--fv-primary-color, #444);font-weight:bold}.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__ui-button,.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__ui-file-selector,.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__ui-fileselector,.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__icon-toolbar-highlight-fields,.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__icon-toolbar-keep-tool-selected{width:100%;height:32px;padding:4px 8px}.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__ui-button>span,.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__ui-file-selector>span,.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__ui-fileselector>span,.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__icon-toolbar-highlight-fields>span,.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__icon-toolbar-keep-tool-selected>span{display:inline}.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__ui-button{margin:0}.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__icon-toolbar-highlight-fields>span{margin-left:17px}.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__icon-toolbar-keep-tool-selected>span{margin-left:6px}.fv__ui-grouplist-item.shrink .fv__ui-grp-btn-list.active .fv__ui-directive-tooltip-tip{display:none}div[name=fv--esignCN-tab-paddle] .fv__ui-grouplist-item:after{height:65px}div[name=fv--esignCN-tab-paddle] .fv__ui-paddle-content{display:flex}.fv__ui-grp-more{width:24px;height:24px;cursor:pointer;display:none}.fv__ui-grp-more .fv__icon-toolbar-more{width:24px;height:24px}.fv__ui-grp-more:focus{background-color:var(--fv-hover-bg, #D8DBE5);background-color:var(--fv-secondary-bg, var(--fv-hover-bg, #D8DBE5));border-radius:3px}',""]),e.exports=t},706:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.fv__ui-gtab-item-icon{display:inline-block}.fv__ui-gtab-item:focus{outline:1px solid var(--fv-btn-outline-color, #d9d9d9);border-radius:4px;outline-offset:-2px}.fv__ui-dropdown-list .fv__ui-gtab-item:focus{outline-offset:-4px}.fx-tab,.fv__ui-tab-nav{display:flex;list-style:none;padding:0;margin:0;user-select:none;background-color:#f4f4f4;background-color:var(--File_page_content_BG, #F4F4F4)}.fx-tab-item,.fv__ui-gtab-item{padding:.25rem 1rem .0625rem;cursor:pointer;color:#464646;color:var(--fv-primary-color, #464646);border-bottom:.1875rem solid rgba(0,0,0,0)}.fx-tab-item-active,.fv__ui-gtab-item.active,.fx-tab-item.active,.fx-tab-item:hover,.fv__ui-gtab-item:hover{color:#a236b2;color:var(--fv-accent-color, #A236B2);border-bottom-color:#a236b2;border-bottom-color:var(--fv-accent-color, #A236B2)}.fx-tab-link,.fv__ui-gtab-item-text{font-size:.875rem;line-height:1.25rem;font-weight:bold}.fx-tab-content{background-color:#f4f4f4;background-color:var(--File_page_content_BG, #F4F4F4)}.fx-tab-pane{display:none}.fx-tab-pane-active,.fx-tab-pane.active{display:block}.fv__ui-gtab-item{display:inline-block;position:relative}.fv__ui-browser-huawei .fv__ui-gtab-item::after{content:"";position:absolute;left:0;right:0;top:0;bottom:0;z-index:1}.fv__ui-gtab-item:focus{outline-offset:-3px;outline-color:var(--fv-accent-color, #A236B2)}.fv__ui-gtab-item:focus .fv__ui-high-contrast.fv__ui-browser-firefox{background-color:Highlight}@media(forced-colors: active){.fv__ui-gtab-item:focus .fv__ui-high-contrast{background-color:Highlight}}.fv__ui-gtab-item-icon{width:1em;height:1em;background-size:100%;margin:0 .2em}.fv__ui-gtab-item-text{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;color:var(--fv-ribbon-name-text, #515151)}.fv__ui-gtab-item-close{width:.625em;height:.625em;position:absolute;right:0;top:0;text-align:center;color:var(--fv-primary-color, #131313)}.fv__ui-gtab-item-close:before{content:"×";font-size:.625em;line-height:1;position:absolute;width:100%;height:100%;left:0;top:0;font-weight:bold;font-family:system-ui}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-gtab-item:focus{background-color:Window;outline:none}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-gtab-item:focus{background-color:Window;outline:none}}',""]),e.exports=t},8859:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-layer-header-buttons,.fv__ui-layer-toolbar,.fv__ui-layer-header-inner{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-layer-panel{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;-webkit-flex:1;-moz-flex:1;flex:1}.fv__ui-layer-header-inner{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__ui-layer-header-button i,.fv__ui-layer-header-icon,.fv__ui-layer-header-inner h1,.fv__ui-layer-header-inner h2,.fv__ui-layer-header-inner h3,.fv__ui-layer-header-inner h4,.fv__ui-layer-header-inner h5,.fv__ui-layer-header-inner h6,.fv__ui-layer{display:inline-block}.fv__ui-layer-modal{position:absolute;left:0;right:0;top:0;bottom:0;z-index:1050}.fv__ui-layer-backdrop{background-color:#000;opacity:.2}.fv__ui-layer{z-index:1050;position:absolute;background:#fff;background-color:var(--fv-primary-bg, #FBFBFD);border:var(--fv-frame-border, 1px solid #C7CCD9);box-shadow:rgba(151,151,151,.85) 0 0 14px 3px;box-shadow:var(--fv-drop-shadow, rgba(151, 151, 151, 0.85) 0 0 14px 3px);border-radius:5px;padding:22px;--fv-adjust-layer-offset-x: 0.5px;--fv-adjust-layer-offset-y: 0.5px}.fv__ui-layer.left{left:0}.fv__ui-layer.top{top:0}.fv__ui-layer.right{right:0}.fv__ui-layer.bottom{bottom:0}.fv__ui-layer.centerh{left:50%;transform:translateX(-50%)}.fv__ui-layer.centerv{top:50%;transform:translateY(-50%)}.fv__ui-layer.center{left:50%;top:50%;transform:translate(calc(-50% + var(--fv-adjust-layer-offset-x)), calc(-50% + var(--fv-adjust-layer-offset-y)))}.fv__ui-layer .footer .fv__ui-dialog-cancel-button{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #bcc1d1;color:#999;background-color:#fff;text-align:center;cursor:pointer;user-select:none;color:#131313;color:var(--fv-btn-color, #131313);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1)}.fv__ui-layer .footer .fv__ui-dialog-cancel-button:last-child{margin-right:0}.fv__ui-layer .footer .fv__ui-dialog-cancel-button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-layer .footer .fv__ui-dialog-cancel-button input[type=checkbox]:last-child{margin-right:0}.fv__ui-layer .footer .fv__ui-dialog-cancel-button .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):hover,.fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(:disabled):hover{border:var(--fv-hover-btn-border, 1px solid #9197A8)}.fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):hover .fv__ui-button-text,.fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(:disabled):hover .fv__ui-button-text{color:#131313 !important;color:var(--fv-btn-color, #131313) !important}.fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled,.fv__ui-layer .footer .fv__ui-dialog-cancel-button:disabled{color:var(--fv-btn-color, #131313);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1);opacity:var(--fv-btn-disabled-opacity, 0.3)}.fv__ui-layer .footer .fv__ui-dialog-ok-button{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #a236b2;color:#fff;background-color:#a236b2;text-align:center;cursor:pointer;user-select:none;color:var(--Accent_button_text, #FFFFFF);background-color:var(--fv-accent-btn-bg, #A236B2);border-color:var(--fv-accent-btn-border-color, #A236B2)}.fv__ui-layer .footer .fv__ui-dialog-ok-button:last-child{margin-right:0}.fv__ui-layer .footer .fv__ui-dialog-ok-button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-layer .footer .fv__ui-dialog-ok-button input[type=checkbox]:last-child{margin-right:0}.fv__ui-layer .footer .fv__ui-dialog-ok-button .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__ui-layer .footer .fv__ui-dialog-ok-button:disabled{opacity:.5;opacity:var(--fv-btn-disabled-opacity, 0.5)}.fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled,[disabled],:disabled):hover{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-hover-bg, #A236B2);border-color:var(--fv-accent-btn-border-hover-color, #A236B2);box-shadow:0 .125rem .1875rem rgba(0,0,0,.15)}.fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled,[disabled],:disabled):focus{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-focus-bg, #A236B2);border-color:var(--fv-accent-btn-border-focus-color, #A236B2);opacity:.8;opacity:var(--fv-btn-focus-opacity, 0.8)}.fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled,[disabled],:disabled):active{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-pressed-bg, #A236B2);border-color:var(--fv-accent-btn-border-pressed-color, #A236B2);opacity:.5;opacity:var(--fv-btn-pressed-opacity, 0.5)}.fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled,.fv__ui-layer .footer .fv__ui-dialog-ok-button:disabled{color:var(--fv-disable-accent-button-text, #FFFFFF);background-color:var(--fv-disable-accent-color, #E3C1E8);border-color:var(--fv-disable-accent-color, #E3C1E8);cursor:not-allowed}.fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled .fv__ui-button-text,.fv__ui-layer .footer .fv__ui-dialog-ok-button:disabled .fv__ui-button-text{color:var(--fv-disable-accent-button-text, #FFFFFF)}.fv__ui-layer select{border-width:1px}.fv__ui-layer input{border-width:1px}.fv__ui-layer-inner{display:block}.fv__ui-layer-header-inner{-webkit-box-pack:stretch;-moz-box-pack:stretch;box-pack:stretch;-webkit-justify-content:stretch;-moz-justify-content:stretch;-o-justify-content:stretch;justify-content:stretch;-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;justify-items:flex-start;height:48px}.fv__ui-layer-header-inner h1,.fv__ui-layer-header-inner h2,.fv__ui-layer-header-inner h3,.fv__ui-layer-header-inner h4,.fv__ui-layer-header-inner h5,.fv__ui-layer-header-inner h6{margin:0}.fv__ui-layer-toolbar{height:1.5em}.fv__ui-layer-header-icon{width:24px;height:24px}.fv__ui-layer-header-title{margin:0;padding:0;font-size:1em;font-weight:bold}.fv__ui-layer-header-buttons{margin-left:auto;align-items:flex-end;justify-content:center;justify-items:flex-end}.fv__ui-layer-header-buttons.fv__ui-layer-header-unclosable [action=close]{display:none}.fv__ui-layer-header-button i{width:16px;height:16px}.fv__ui-layer-header-button{cursor:pointer;-webkit-appearance:none;background:0 0;border:0;padding:0}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer{border:1px solid}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer [action=close]:focus{outline:1px solid highlight;outline:1px auto -webkit-focus-ring-color}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button{background-color:Window}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button:hover,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button:hover{border-color:WindowText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;color:WindowText}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):hover,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):focus,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):active,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):hover,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):focus,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):active{color:HighlightText;border-color:WindowText;background-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled .fv__ui-button-text,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled .fv__ui-button-text{color:GrayText;border-color:GrayText}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-layer{border:1px solid}.fv__ui-high-contrast .fv__ui-layer [action=close]:focus{outline:1px solid highlight;outline:1px auto -webkit-focus-ring-color}.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button{background-color:Window}.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button:hover,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button:hover{border-color:WindowText}.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;color:WindowText}.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):hover,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):focus,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):active,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):hover,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):focus,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):active{color:HighlightText;border-color:WindowText;background-color:Highlight}.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled .fv__ui-button-text,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled,.fv__ui-high-contrast .fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled .fv__ui-button-text{color:GrayText;border-color:GrayText}}.fv__ui-mobile .fv__ui-layer{padding:2.9333333333vmin;max-width:100%;max-height:100%;overflow-y:scroll}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #bcc1d1;color:#999;background-color:#fff;text-align:center;cursor:pointer;user-select:none;color:var(--fv-btn-color, #999999);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:last-child{margin-right:0}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button input[type=checkbox]:last-child{margin-right:0}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):hover,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(:disabled):hover{color:#a236b2;background-color:#fff;border-color:#a236b2;background-color:var(--fv-btn-hover-bg, #FFFFFF);border-color:#a236b2;border-color:var(--fv-btn-border-hover-color, #A236B2)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):focus,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(:disabled):focus{color:#a236b2;background-color:#fff;border-color:#a236b2;background-color:var(--fv-btn-focus-bg, #FFFFFF);border-color:#a236b2;border-color:var(--fv-btn-border-focus-color, #A236B2);opacity:.8;opacity:var(--fv-btn-focus-opacity, 0.8)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(.disabled):active,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:not(:disabled):active{color:#a236b2;background-color:#fff;border-color:#a236b2;color:var(--fv-btn-pressed-color, #A236B2);background-color:var(--fv-btn-pressed-bg, #FFFFFF);border-color:var(--fv-btn-pressed-color, #A236B2);opacity:.5;opacity:var(--fv-btn-pressed-opacity, 0.8)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button.disabled,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-cancel-button:disabled{color:#a236b2;background-color:#fff;border-color:#a236b2;color:var(--fv-btn-disabled-color, #A236B2);background-color:var(--fv-btn-disabled-color, #FFFFFF);border-color:var(--fv-btn-disabled-color, #A236B2);opacity:.3;opacity:var(--fv-btn-disabled-opacity, 0.8)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #a236b2;color:#fff;background-color:#a236b2;text-align:center;cursor:pointer;user-select:none;color:var(--Accent_button_text, #FFFFFF);background-color:var(--fv-accent-btn-bg, #A236B2);border-color:var(--fv-accent-btn-border-color, #A236B2)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:last-child{margin-right:0}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button input[type=checkbox]:last-child{margin-right:0}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:disabled{opacity:.5;opacity:var(--fv-btn-disabled-opacity, 0.5)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):hover,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(:disabled):hover{color:#fff;background-color:#a236b2;border-color:#a236b2;color:var(--fv-accent-btn-hover-color, #FFFFFF);background-color:var(--fv-accent-btn-hover-bg, #A236B2);border-color:var(--fv-accent-btn-border-hover-color, #A236B2);box-shadow:0 .125rem .1875rem rgba(0,0,0,.15)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):focus,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(:disabled):focus{color:#fff;background-color:#a236b2;border-color:#a236b2;color:var(--fv-accent-btn-focus-color, #FFFFFF);background-color:var(--fv-accent-btn-focus-bg, #A236B2);border-color:var(--fv-accent-btn-border-focus-color, #A236B2);opacity:.8;opacity:var(--fv-btn-focus-opacity, 0.8)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(.disabled):active,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:not(:disabled):active{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-pressed-bg, #A236B2);border-color:var(--fv-accent-btn-border-pressed-color, #A236B2);opacity:.5;opacity:var(--fv-btn-pressed-opacity, 0.8)}.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button.disabled,.fv__ui-mobile .fv__ui-layer .footer .fv__ui-dialog-ok-button:disabled{color:var(--fv-disable-accent-button-text, #FFFFFF);background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-disable-accent-color, #E3C1E8);border-color:var(--fv-accent-btn-border-disabled-color, #A236B2);opacity:.3;opacity:var(--fv-btn-disabled-opacity, 0.8)}",""]),e.exports=t},2387:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.fv__ui-option-group{position:relative;padding:4px 0}.fv__ui-option-group:not(:first-of-type)::before{content:"";position:absolute;top:0;right:8px;width:calc(100% - 1em - 32px);height:1px;border-top:solid 1px var(--base-border-color, #C7CCD9)}.fv__ui-option-group .fv__ui-option-group-item{display:flex;align-items:center;justify-content:flex-start;gap:8px;margin:0 5px;padding:0 8px;height:30px;min-width:168px;cursor:pointer}.fv__ui-option-group .fv__ui-option-group-item:not(.selected)>.fv__icon-tick{background-image:none}.fv__ui-option-group .fv__ui-option-group-item:not([disabled]).active,.fv__ui-option-group .fv__ui-option-group-item:not([disabled]):hover{background-color:var(--fv-accent-btn-hover-bg, #E6E9F0)}',""]),e.exports=t},7814:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.fv__ui-paddle-horizontal:not(.fv__ui-paddle-unavailable).fv__ui-paddle-overflow-backward .fv__ui-paddle-button-prev,.fv__ui-paddle-horizontal:not(.fv__ui-paddle-unavailable).fv__ui-paddle-overflow-forward .fv__ui-paddle-button-next,.fv__ui-paddle-horizontal{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-paddle-horizontal .fv__ui-paddle-content{display:-webkit-inline-box;display:inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-moz-inline-box;display:inline-flex}.fv__ui-paddle-content-container{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;-webkit-flex:1;-moz-flex:1;flex:1}.fv__ui-paddle-horizontal,.fv__ui-paddle-button{-webkit-box-pack:center;-moz-box-pack:center;box-pack:center;-webkit-justify-content:center;-moz-justify-content:center;-o-justify-content:center;justify-content:center}.fv__ui-paddle-horizontal .fv__ui-paddle-content,.fv__ui-paddle-horizontal{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__ui-paddle-unavailable,.fv__ui-paddle-unavailable .fv__ui-paddle-content-container{display:inline-block}.fv__ui-paddle{overflow:hidden}.fv__ui-paddle::after{visibility:hidden;display:block;font-size:0;content:" ";clear:both;height:0}.fv__ui-paddle-button{cursor:pointer;display:none;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center}.disabled .fv__ui-paddle-button{cursor:not-allowed}.fv__ui-paddle-button>i{display:block;width:9px;height:9px;border-top:1px solid #999;border-right:1px solid #999}.fv__ui-paddle-content-container{overflow:hidden}.fv__ui-paddle-horizontal{-webkit-box-align:stretch;-moz-box-align:stretch;-webkit-align-items:stretch;align-items:stretch;-webkit-flex-wrap:nowrap;flex-wrap:nowrap}.fv__ui-paddle-horizontal .fv__ui-paddle-content{height:100%;max-height:100%;min-width:100%;position:relative}.fv__ui-paddle-horizontal .fv__ui-paddle-button{width:16px}.fv__ui-paddle-horizontal .fv__ui-paddle-button-prev{border-right:1px solid #ddd}.fv__ui-paddle-horizontal .fv__ui-paddle-button-prev>i{transform:rotate(-135deg);margin-left:3px}.fv__ui-paddle-horizontal .fv__ui-paddle-button-next{border-left:1px solid #ddd}.fv__ui-paddle-horizontal .fv__ui-paddle-button-next>i{transform:rotate(45deg);margin-right:3px}.fv__ui-paddle-horizontal:not(.fv__ui-paddle-unavailable).fv__ui-paddle-overflow-none .fv__ui-paddle-button{display:none}.fv__ui-paddle-unavailable{vertical-align:top;width:100%}.fv__ui-paddle-unavailable .fv__ui-paddle-button{display:none}.fv__ui-paddle-unavailable .fv__ui-paddle-content-container{width:100%;overflow-x:auto}.fv__ui-paddle-unavailable .fv__ui-paddle-content-container::-webkit-scrollbar{display:none}',""]),e.exports=t},133:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,"",""]),e.exports=t},5174:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-scenario-option{display:flex;flex-direction:column;gap:10px}.fv__ui-scenario-option-radio-box{display:flex;align-items:center;gap:10px;height:24px;line-height:24px;white-space:nowrap}.fv__ui-scenario-option-radio-box input{margin:0}.fv__ui-scenario-option-body{padding-left:22px;cursor:not-allowed}.fv__ui-scenario-option-checked{cursor:initial}.fv__ui-scenario-option-disabled{opacity:.6}.fv__ui-scenario-option-disabled *{cursor:not-allowed}",""]),e.exports=t},2765:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-widget-sel-option{display:block;white-space:nowrap;min-height:1.2em;padding:0px 2px 1px;line-height:inherit;cursor:pointer}.fv__ui-widget-sel-option-selected{background-color:#d8dbe5;background-color:var(--fv-hover-bg, #D8DBE5);background-image:linear-gradient(0deg, #D8DBE5 0%, #D8DBE5 100%);background-image:linear-gradient(0deg, var(--fv-hover-bg, #D8DBE5) 0%, var(--fv-hover-bg, #D8DBE5) 100%);color:var(--fv-primary-color, #131313)}.fv__ui-widget-select-list{display:inline-block;border-radius:3px;border:var(--fv-frame-border, 1px solid #C7CCD9);overflow-x:hidden;overflow-y:scroll;list-style:none;margin:0;padding:0}.fv__ui-widget-select-list:focus-within{outline:none}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__ui-widget-sel-option-selected{background-color:Highlight;color:HighlightText;forced-color-adjust:none;forced-color-adjust:preserve-parent-color;background-image:none}@media(forced-colors: active){.fv__ui-high-contrast .fv__ui-widget-sel-option-selected{background-color:Highlight;color:HighlightText;forced-color-adjust:none;forced-color-adjust:preserve-parent-color;background-image:none}}",""]),e.exports=t},3985:(e,t,n)=>{var i=n(3645),r=n(1667),o=n(6402);t=i(!1);var a=r(o);t.push([e.id,'.fv__ui-sidebar-dragger,.fv__ui-sidebar-body>.active,.fv__ui-sidebar.expand .fv__ui-sidebar-ctls,.fv__ui-sidebar,.fv__ui-sidebar.collapse:not(.show){display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-sidebar-panel-body,.fv__ui-sidebar-body{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;-webkit-flex:1;-moz-flex:1;flex:1}.fv__ui-sidebar-ctls{-webkit-box-pack:start;-moz-box-pack:start;box-pack:start;-webkit-justify-content:flex-start;-moz-justify-content:flex-start;-o-justify-content:flex-start;justify-content:flex-start}.fv__ui-sidebar-dragger{-webkit-box-pack:center;-moz-box-pack:center;box-pack:center;-webkit-justify-content:center;-moz-justify-content:center;-o-justify-content:center;justify-content:center}.fv__ui-sidebar-dragger,.fv__ui-sidebar-body>.active,.fv__ui-sidebar-ctls{-webkit-box-direction:normal;-webkit-box-orient:vertical;-moz-box-direction:normal;-moz-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.fv__ui-sidebar,.fv__ui-sidebar.collapse:not(.show){-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__ui-sidebar-nav-icon{display:inline-block}.fv__ui-sidebar{z-index:999;background-color:#fff;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.fv__ui-sidebar,.fv__ui-sidebar.collapse:not(.show){-webkit-box-align:stretch;-moz-box-align:stretch;-webkit-align-items:stretch;align-items:stretch;-webkit-align-content:stretch;align-content:stretch}.fv__ui-sidebar.expand .fv__ui-sidebar-body{display:block}.fv__ui-sidebar.collapse-totally .fv__ui-sidebar-ctls,.fv__ui-sidebar.collapse-totally .fv__ui-sidebar-body{display:none}.fv__ui-sidebar.fv__ui-sidebar-full-width{width:100vw}.fv__ui-sidebar-ctls{order:0;width:38px;border-right:1px solid #e1e1e1;border-right-color:var(--fv-frame-border-color, #e1e1e1);background:#f7f7f7;background:var(--fv-secondary-bg, #f7f7f7)}.fv__ui-sidebar-toggler{width:38px;height:38px;display:block;cursor:pointer}.fv__ui-sidebar-nav{margin-top:8px}.fv__ui-sidebar-nav-ctrl{display:block;width:32px;height:48px;margin-left:5px;box-sizing:border-box;line-height:0;margin-bottom:1px;border-top-left-radius:5px;border-bottom-left-radius:5px;background:#f8f8f8;background-color:var(--fv-secondary-bg, #f8f8f8);cursor:pointer;padding:1px;position:relative;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none !important;user-select:none}.fv__ui-sidebar-nav-ctrl.active{border:1px solid #e1e1e1;border-right:none;border-color:var(--fv-frame-border-color, #e1e1e1);padding:0;background:#fff;background-color:var(--fv-primary-bg, #FFFFFF)}.fv__ui-sidebar-nav-ctrl.active:after{content:"";display:block;position:absolute;top:0;right:-1px;width:1px;height:100%;float:right;background:#fff;background-color:var(--fv-primary-bg, #FFFFFF)}.fv__ui-sidebar-nav-ctrl.disabled{filter:alpha(opacity=50);-moz-opacity:.5;-khtml-opacity:.5;opacity:.5;cursor:not-allowed}.fv__ui-sidebar-body{order:1;overflow:hidden}.fv__ui-sidebar-body>*{display:none;min-width:240px;height:100%}.fv__ui-sidebar-body .fv__ui-button:hover{background-color:#fff;background-color:var(--fv-file-page-content-bg, #FFFFFF)}.fv__ui-sidebar-body .fv__ui-button .fv__ui-button-icon{background-size:auto}.fv__ui-sidebar-body .fv__ui-buttongroup{display:flex;justify-content:flex-start;align-items:center;flex-wrap:wrap}.fv__ui-sidebar-body .fv__ui-buttongroup .fv__ui-dropdown-toggler-text{display:none}.fv__ui-sidebar-body .fv__ui-buttongroup .fv__ui-dropdown{width:1.75rem}.fv__ui-sidebar-body .fv__ui-buttongroup .fv__ui-dropdown .fv__ui-dropdown-icon{background-size:1rem}.fv__ui-sidebar-body .fv__ui-dropdown-list>li.fv__ui-dropdown-item .fv__ui-dropdown-toggler{padding:0 1rem}.fv__ui-sidebar-body .fv__ui-dropdown-list>li.fv__ui-dropdown-item .fv__ui-dropdown-toggler>span{padding-left:0px}.fv__ui-sidebar-dragger{order:2;width:12px;cursor:col-resize;background-color:#e6e9f0;border-right:1px solid #e6e9f0;border-left:1px solid #e6e9f0;background-color:var(--fv-hide-show-bg, #E6E9F0);border-left-color:var(--fv-hide-show-bg, #E6E9F0);border-right-color:var(--fv-hide-show-bg, #E6E9F0);-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-align-content:center;align-content:center}.fv__ui-sidebar-dragger .toggler{position:relative;cursor:pointer;font-size:12px;font-family:Verdana,Helvetica,"Micosoft Yahei",微软雅黑,宋体,sans-serif}.fv__ui-sidebar.collapse .fv__ui-sidebar-dragger{border-left:0}.fv__ui-sidebar.collapse .toggler,.fv__ui-sidebar.expand .toggler{display:inline-block;width:.625rem;height:.625rem;background:var(--fv-sidebar-toggler-icon, url('+a+')) no-repeat 100% 100%}.fv__ui-sidebar.collapse-totally .toggler:before{content:"▶";color:var(--fv-primary-color)}.fv__ui-sidebar-nav-icon{width:32px;height:48px}.fv__ui-sidebar-panel-header{height:43px;border-bottom:var(--Spacing_line, 1px solid #E6E9F0);border-bottom-color:var(--Spacing_line_color, #C7CCD9)}div[name=sidebar-attachment] .fv__ui-sidebar-panel-header{border-bottom:none}.fv__ui-sidebar-panel-title{line-height:36px;padding-left:1em;font-size:14px;font-weight:700;color:#666;color:var(--Secondary_text, #333333);-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none !important;user-select:none;white-space:nowrap}.fv__ui-sidebar-panel-body{overflow-y:auto;padding:0 10px}.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar-ctls,.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar-toggler{width:4.3428571429vmin}.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar-ctls{overflow-y:auto;overflow-x:hidden;border-right-width:0.0571428571vmin}.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar-toggler{height:2.1714285714vmin}.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar-nav-icon{width:2.7428571429vmin;height:5.3714285714vmin}.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar-nav-ctrl{width:3.6571428571vmin;height:5.3714285714vmin;margin-left:0.6285714286vmin}.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar-dragger{width:1.4857142857vmin}.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar-panel-header,.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar-panel-title{font-size:1.3714285714vmin;line-height:2.6285714286vmin}.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar-panel-title{padding-left:1.2571428571vmin}.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar-panel-header{height:2.6285714286vmin}.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar-body>*{min-width:14.8571428571vmin}.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar .fv__ui-buttongroup .fv__ui-button.fv__ui-toggle-commentlist-group-button{height:2.6285714286vmin}.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar .fv__ui-buttongroup .fv__ui-button.fv__ui-dropdown-button{height:2.6285714286vmin}.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar .fv__ui-buttongroup .fv__ui-button.fv__ui-dropdown-button .fv__ui-dropdown-item-text{font-size:size(24px);height:2.6285714286vmin;line-height:2.6285714286vmin}.fv__ui-mobile.fv__ui-tablet .fv__ui-sidebar .fv__ui-buttongroup .fv__ui-dropdown-list .fv__ui-button.fv__ui-dropdown-button{padding:0.9142857143vmin 1.3714285714vmin}.fv__ui-mobile .fv__ui-sidebar-ctls,.fv__ui-mobile .fv__ui-sidebar-toggler{width:10.1333333333vmin}.fv__ui-mobile .fv__ui-sidebar-ctls{overflow-y:auto;overflow-x:hidden;border-right-width:0.1333333333vmin}.fv__ui-mobile .fv__ui-sidebar-toggler{height:5.0666666667vmin}.fv__ui-mobile .fv__ui-sidebar-nav-icon{width:6.4vmin;height:12.5333333333vmin}.fv__ui-mobile .fv__ui-sidebar-nav-ctrl{width:8.5333333333vmin;height:12.5333333333vmin;margin-left:1.4666666667vmin;text-align:center}.fv__ui-mobile .fv__ui-sidebar-dragger{width:3.4666666667vmin}.fv__ui-mobile .fv__ui-sidebar-dragger.active{background-color:#c6c6c6}.fv__ui-mobile .fv__ui-sidebar-panel-header,.fv__ui-mobile .fv__ui-sidebar-panel-title{font-size:3.2vmin;line-height:6.1333333333vmin}.fv__ui-mobile .fv__ui-sidebar-panel-title{padding-left:2.9333333333vmin}.fv__ui-mobile .fv__ui-sidebar-panel-header{height:6.1333333333vmin}.fv__ui-mobile .fv__ui-sidebar-body>*{min-width:34.6666666667vmin}.fv__ui-mobile .fv__ui-sidebar .fv__ui-buttongroup .fv__ui-button{width:auto;height:auto}.fv__ui-mobile .fv__ui-sidebar .fv__ui-buttongroup .fv__ui-button.fv__ui-toggle-commentlist-group-button{height:6.1333333333vmin}.fv__ui-mobile .fv__ui-sidebar .fv__ui-buttongroup .fv__ui-button.fv__ui-dropdown-button{height:6.1333333333vmin}.fv__ui-mobile .fv__ui-sidebar .fv__ui-buttongroup .fv__ui-button.fv__ui-dropdown-button .fv__ui-dropdown-item-text{font-size:size(24px);height:6.1333333333vmin;line-height:6.1333333333vmin}.fv__ui-mobile .fv__ui-sidebar .fv__ui-buttongroup .fv__ui-dropdown-list .fv__ui-button.fv__ui-dropdown-button{height:auto;padding:2.1333333333vmin 3.2vmin}.fv__ui-mobile .fv__ui-sidebar .fv__ui-buttongroup .fv__ui-dropdown-list .fv__ui-button.fv__ui-dropdown-button:hover{background-color:var(--fv-active-bg, #E6E9F0)}@media(inverted-colors: inverted){.fv__ui-sidebar-nav-ctrl.active{border-color:#3183c8}.fv__ui-sidebar-ctls{border-right-color:#3183c8}}.fv__ui-browser-webkit[hc=a3] .fv__ui-sidebar-nav-ctrl.active,.fv__ui-browser-webkit[hc=a4] .fv__ui-sidebar-nav-ctrl.active,.fv__ui-browser-webkit[hc=a5] .fv__ui-sidebar-nav-ctrl.active{border-color:#3183c8}.fv__ui-browser-webkit[hc=a3] .fv__ui-sidebar-ctls,.fv__ui-browser-webkit[hc=a4] .fv__ui-sidebar-ctls,.fv__ui-browser-webkit[hc=a5] .fv__ui-sidebar-ctls{border-right-color:#3183c8}@media(inverted-colors: inverted){.fv__ui-mobile.fv__ui-browser-safari .fv__ui-sidebar-nav-ctrl.active{border-color:#aca7a3}.fv__ui-mobile.fv__ui-browser-safari .fv__ui-sidebar-ctls{border-right-color:#aca7a3}}.fv__ui-browser-webkit[hc=a3] .fv__ui-mobile.fv__ui-browser-safari .fv__ui-sidebar-nav-ctrl.active,.fv__ui-browser-webkit[hc=a4] .fv__ui-mobile.fv__ui-browser-safari .fv__ui-sidebar-nav-ctrl.active,.fv__ui-browser-webkit[hc=a5] .fv__ui-mobile.fv__ui-browser-safari .fv__ui-sidebar-nav-ctrl.active{border-color:#aca7a3}.fv__ui-browser-webkit[hc=a3] .fv__ui-mobile.fv__ui-browser-safari .fv__ui-sidebar-ctls,.fv__ui-browser-webkit[hc=a4] .fv__ui-mobile.fv__ui-browser-safari .fv__ui-sidebar-ctls,.fv__ui-browser-webkit[hc=a5] .fv__ui-mobile.fv__ui-browser-safari .fv__ui-sidebar-ctls{border-right-color:#aca7a3}.fv__ui-sidebar-ctls .fv__icon-sidebar-search{background-size:80%}.sidebar-contextmenu-wrap.fv__ui-contextmenu{min-width:222px}.sidebar-contextmenu-wrap.fv__ui-contextmenu .fv__ui-button-icon{width:16px;height:16px}.sidebar-contextmenu-no-icon .fv__ui-button-text{margin-left:20px}',""]),e.exports=t},3731:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-tab-nav{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-tab-nav{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__ui-tab-nav{list-style:none;padding:0;margin:0}.fv__ui-tab-nav li{cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;height:28px;line-height:28px;padding:0 16px;min-width:68px;text-align:center;border-top-left-radius:3px;border-top-right-radius:3px;color:#636363}.fv__ui-tab-nav li.active{background:#f7f7f7}.fv__ui-tab-body{background:#f7f7f7}.fv__ui-tab-body>*{display:none}.fv__ui-tab-body>.active{display:block}",""]),e.exports=t},7348:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-toolbar{border-bottom:var(--fv-frame-border, 1px solid #C7CCD9);border-color:var(--fv-border-color, #C7CCD9);background-color:var(--fv-primary-bg, #FBFBFD);line-height:0}",""]),e.exports=t},54:(e,t,n)=>{var i=n(3645),r=n(1667),o=n(916),a=n(5798),s=n(6690),c=n(6931),u=n(4290),l=n(4281),A=n(9775),d=n(7161),h=n(9322);t=i(!1);var f=r(o),p=r(a),v=r(s),g=r(c),m=r(u),y=r(l),_=r(A),b=r(d),w=r(h);t.push([e.id,".fv__ui-tree-node-wrapper{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__ui-tree-node-wrapper{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__ui-tree-node-icon,.fv__ui-tree-node-checkbox-inner,.fv__ui-tree-node-checkable .fv__ui-tree-node-checkbox,.fv__ui-tree-node-intent-unit{display:inline-block}.fv__ui-tree-node-leaf .fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher>.fv__ui-tree-node-switcher-icon,.fv__ui-tree-node-subtree .fv__ui-tree-node-leaf:first-child>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher>.fv__ui-tree-node-switcher-icon{background-repeat:no-repeat;background-position:center;background-image:var(--fv-icon-tree-icon-join-mid, url("+f+"));--icon-name: join_pc_ui}.fv__ui-tree-node-leaf:last-child>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher>.fv__ui-tree-node-switcher-icon,.fv__ui-tree-node-subtree .fv__ui-tree-node-leaf:last-child>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher>.fv__ui-tree-node-switcher-icon{background-repeat:no-repeat;background-position:center;background-image:var(--fv-icon-tree-icon-join-bottom, url("+p+"));--icon-name: joinbottom_pc_ui}.fv__ui-tree-node-leaf:first-child>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher>.fv__ui-tree-node-switcher-icon{background-repeat:no-repeat;background-position:center;background-image:var(--fv-icon-tree-icon-join-top, url("+v+"));--icon-name: jointop_pc_ui}.fv__ui-tree-node-intent-unit,.fv__ui-tree-node-switcher::before,.fv__ui-tree-node-intent-unit::after,.fv__ui-tree-node-switcher::after{background-repeat:no-repeat;background-position:center;background-image:var(--fv-icon-tree-icon-join-across, url("+g+"));--icon-name: line_pc_ui}.fv__ui-tree-node-list>.fv__ui-tree-node-subtree.fv__ui-tree-node-open:first-child>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher.fv__ui-tree-node-switcher>.fv__ui-tree-node-switcher-icon,.fv__ui-tree-node-subtree.fv__ui-tree-node-open>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher>.fv__ui-tree-node-switcher-icon{background-repeat:no-repeat;background-position:center;background-image:var(--fv-icon-tree-item-icon-minus-mid, url("+m+"));--icon-name: minus_pc_ui}.fv__ui-tree-node-list>.fv__ui-tree-node-subtree.fv__ui-tree-node-close:first-child>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher>.fv__ui-tree-node-switcher-icon,.fv__ui-tree-node-subtree.fv__ui-tree-node-close>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher>.fv__ui-tree-node-switcher-icon{background-repeat:no-repeat;background-position:center;background-image:var(--fv-icon-tree-item-icon-plus-mid, url("+y+"));--icon-name: plug_pc_ui}.fv__ui-tree-node-subtree.fv__ui-tree-node-close:last-child>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher>.fv__ui-tree-node-switcher-icon{background-repeat:no-repeat;background-position:center;background-image:var(--fv-icon-tree-item-icon-plus-bottom, url("+_+"));--icon-name: plugbottom_pc}.fv__ui-tree-node-list>.fv__ui-tree-node-subtree.fv__ui-tree-node-open:last-child>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher>.fv__ui-tree-node-switcher-icon{background-repeat:no-repeat;background-position:center;background-image:var(--fv-icon-tree-item-icon-minus-bottom, url("+b+'));--icon-name: minusbottom_pc}.fv__ui-tree{width:max-content}.fv__ui-tree-node-list{list-style:none;padding:0;margin:0}.fv__ui-tree-node-subtree.fv__ui-tree-node-close:last-child>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher::after{background-image:none}.fv__ui-tree-node-subtree .fv__ui-tree-node-leaf:last-child>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher::after{background-image:none}.fv__ui-tree-node-list>.fv__ui-tree-node-subtree.fv__ui-tree-node-open:last-child>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher::after{background-image:none}.fv__ui-tree>.fv__ui-tree-node-list>.fv__ui-tree-node:not(.fv__ui-tree-node-subtree):first-child>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher::before{background-image:none}.fv__ui-tree-node-leaf:last-child>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-switcher::after{background-image:none}.fv__ui-tree-node-children-wrapper{transition:height 5s ease-in;width:max-content;max-width:100%;display:none}.fv__ui-tree-node-open>.fv__ui-tree-node-children-wrapper{display:block}.fv__ui-tree-node.fv__ui-tree-node-loading .fv__ui-tree-node-children-wrapper:after{content:"";display:block;width:100%;min-width:1em;height:1em;background-image:var(--fv-icon-tree-node-loading, url('+w+'));background-repeat:no-repeat;background-position:center;background-size:1em}.fv__ui-tree-node{font-size:var(--fv-tree-node-font-size, 12px);-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;width:max-content;max-width:100%}.fv__ui-tree-node-wrapper{-webkit-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-align:stretch;-moz-box-align:stretch;-webkit-align-items:stretch;align-items:stretch;white-space:nowrap;box-sizing:content-box;font-family:Verdana,Geneva,Arial,Helvetica,sans-serif}.fv__ui-tree-node-switcher-icon{height:21px;width:14px;min-width:14px;background-size:14px 21px}.fv__ui-tree-node-switcher::before,.fv__ui-tree-node-intent-unit::after,.fv__ui-tree-node-switcher::after{background-size:14px 21px;background-repeat:repeat-y}.fv__ui-tree-node-intent-unit,.fv__ui-tree-node-switcher{background-size:100%;background-repeat:repeat-y;display:flex;align-self:stretch;flex-direction:column}.fv__ui-tree-node-intent-unit::before,.fv__ui-tree-node-switcher::before,.fv__ui-tree-node-intent-unit::after,.fv__ui-tree-node-switcher::after{content:"";display:inline-block}.fv__ui-tree-node-intent-unit::before,.fv__ui-tree-node-switcher::before{height:calc(1em - 12px);width:14px;min-width:14px}.fv__ui-tree-node-intent-unit::after,.fv__ui-tree-node-switcher::after{flex:1}.fv__ui-tree-node-intent{pointer-events:none;min-width:fit-content;display:flex;align-items:stretch}.fv__ui-tree-node-intent-unit{position:relative;visibility:hidden}.fv__ui-tree-node-intent-unit-has-line{visibility:visible;height:auto}.fv__ui-tree-node-checkbox{width:1em;height:1em;line-height:1;display:none;margin-left:2.4px;margin-right:4.8px;margin-top:calc(.5em - 1px)}.fv__ui-tree-node-checkbox-inner{width:1em;height:1em;box-sizing:border-box;border:1px solid #d9d9d9;border-radius:2px;border-collapse:separate;direction:ltr;position:relative;overflow:hidden}.fv__ui-tree-node-checkbox-inner:before,.fv__ui-tree-node-checkbox-inner:after{content:"";position:absolute}.fv__ui-tree-node-checkbox-native{display:none}.fv__ui-tree-node-checkbox-native:checked+.fv__ui-tree-node-checkbox-inner{border:0}.fv__ui-tree-node-checkbox-native:checked+.fv__ui-tree-node-checkbox-inner:before{left:0;top:0;width:0;height:0;border:.5em solid #1890ff}.fv__ui-tree-node-checkbox-native:checked+.fv__ui-tree-node-checkbox-inner:after{position:absolute;display:table;border:.125em solid #fff;border-top:0;border-right:0;width:.5714285713em;height:.3571428566em;transform:rotate(-45deg) translate(0, 90%)}.fv__ui-tree-node-checkbox-native:indeterminate+.fv__ui-tree-node-checkbox-inner:before{left:.16em;top:.18em;width:0;height:0;border:.28em solid #1890ff;background-color:#1890ff}.fv__ui-tree-node-content-wrapper{display:inline-flex;align-items:flex-start;padding:.325em 0}.fv__ui-tree-node-title{color:var(--fv-primary-color, #000000);white-space:nowrap;line-height:1.2;box-sizing:content-box;max-width:calc(100% - 16px)}.fv__ui-tree-node-title-bold{font-weight:bold}.fv__ui-tree-node-title-italic{font-style:italic}.fv__ui-tree-node-titleWrap .fv__ui-tree-node-title{white-space:break-spaces}.fv__ui-tree-node-icon{width:16px;min-width:16px;height:16px;margin-right:3px;margin-top:calc(.6*(1em - 12px));background-size:cover;background-repeat:no-repeat}.fv__ui-tree-node-editting>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-content-wrapper>.fv__ui-tree-node-title{min-width:12em;border:solid 1px #e1e1e1;border-color:var(--fv-input-border-color, #e1e1e1);font-size:inherit;display:inline-block;vertical-align:top;cursor:text}.fv__ui-tree-node-editting>.fv__ui-tree-node-wrapper>.fv__ui-tree-node-content-wrapper>.fv__ui-tree-node-title:focus{box-shadow:0px 0px 0px 1px #e2a1e6;box-shadow:var(--fv-drop-shadow, 0px 0px 0px 1px #E2A1E6);color:var(--fv-accent-color, #000);outline:none}.fv__ui-tree-node-drag-indicator{display:block;position:fixed;height:0;overflow:hidden;border-top:1px dashed #666;pointer-events:none;z-index:99999}.fv__ui-tree-dragging{cursor:pointer}.fv__ui-mobile .fv__ui-tree-node{font-size:3.2vmin}.fv__ui-tree-dragging-node{opacity:.8}',""]),e.exports=t},7057:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__js-exec-dialog-element{display:flex;flex-direction:column;padding:4px 0;--fv-exec-dialog-element-gap: 0.5em;align-items:flex-start;height:var(--fv-js-exec-dialog-element-height, auto);width:var(--fv-js-exec-dialog-element-width, auto);overflow:auto;box-sizing:content-box}.fv__js-exec-dialog-element-gap{align-self:stretch}.fv__js-exec-dialog-element-cluster{border:1px solid var(--fv-frame-border-color, #bebebe);padding:var(--fv-exec-dialog-element-gap, 0.5em);align-self:stretch}.fv__js-exec-dialog-element-button{display:inline-block}.fv__js-exec-dialog-element-edit_text{border:2px inset var(--fv-frame-border-color, #bebebe);cursor:text;align-self:stretch;outline:none;resize:none;font-size:14px}.fv__js-exec-dialog-element-edit_text-measure{font-size:14px;padding:0 2px;visibility:hidden;height:0px;overflow:visible;white-space:break-spaces}.fv__js-exec-dialog-element-edit_text-oneline{white-space:nowrap;word-break:keep-all}.fv__js-exec-dialog-element-edit_text-multiline{white-space:pre-wrap}.fv__js-exec-dialog-element-static_text{align-self:stretch}.fv__js-exec-dialog-element-static_text-oneline{white-space:break-spaces}.fv__js-exec-dialog-element-static_text-multiline{white-space:pre-wrap}.fv__js-exec-dialog-element-link_view{align-self:stretch}.fv__js-exec-dialog-element-ok{display:inline-block}.fv__js-exec-dialog-element-ok_cancel{display:inline-flex;flex-direction:row;gap:var(--fv-exec-dialog-element-gap, 0.5em)}.fv__js-exec-dialog-element-radio,.fv__js-exec-dialog-element-checkbox{flex-direction:row;gap:var(--fv-exec-dialog-element-gap, 0.5em);align-items:center}.fv__js-exec-dialog-element-radio>input,.fv__js-exec-dialog-element-checkbox>input{margin:0}.fv__js-exec-dialog-element-radio>input[disabled]~span,.fv__js-exec-dialog-element-checkbox>input[disabled]~span{opacity:.5}.fv__js-exec-dialog-element-ok_cancel_other{flex-direction:row;justify-content:flex-end;align-self:stretch;gap:var(--fv-exec-dialog-element-gap, 0.5em)}.fv__js-exec-dialog-element-ok_cancel_other>[data-button-type=other]{margin-right:auto}.fv__js-exec-dialog-element-listbox{align-self:stretch;border:2px inset var(--fv-frame-border-color, #bebebe)}.fv__js-exec-dialog-element-hier_listbox{align-self:stretch;border:2px inset var(--fv-frame-border-color, #bebebe)}.fv__js-exec-dialog-element-bold{font-weight:bold}.fv__js-exec-dialog-element-italic{font-style:italic}.fv__js-exec-dialog-element-alignment-children-align_right{align-items:flex-end}.fv__js-exec-dialog-element-alignment-children-align_center{align-items:center}.fv__js-exec-dialog-element-alignment-children-align_left{align-items:flex-start}.fv__js-exec-dialog-element-alignment-children-align_row{flex-direction:row;justify-content:space-between;align-items:center;gap:var(--fv-exec-dialog-element-gap, 0.5em)}.fv__js-exec-dialog-element-alignment-children-align_distribute{flex-direction:row;justify-content:space-around}.fv__js-exec-dialog-element-alignment-children-align_fill{flex-direction:row;justify-content:stretch}.fv__js-exec-dialog-element-alignment-self-align_right{align-self:flex-end}.fv__js-exec-dialog-element-alignment-self-align_center{align-self:center}.fv__js-exec-dialog-element-alignment-self-align_left{align-self:flex-start}",""]),e.exports=t},3636:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__action-dialog{padding:22px;overflow:hidden;color:rgba(0,0,0,0);position:fixed;margin:0;left:50%;top:50%;transform:translate(-50%, -50%)}.fv__action-dialog-container{cursor:default}.fv__action-dialog-header{font-size:18px;font-weight:600;display:flex;justify-content:space-between;color:#444}.fv__action-dialog-close-icon{cursor:pointer}.fv__action-dialog-body{padding:22px 0;font-size:12px;color:#212529;color:var(--fv-primary-color, #131313)}.fv__action-dialog-select{line-height:24px}.fv__action-dialog-input{height:24px;border:1px solid #d2d2d2;border-color:var(--fv-input-border-color, #d2d2d2);border-radius:5px}#select-action,#select-openIn{width:216px;height:24px;border:1px solid var(--fv-input-border-color, #cecece);border-radius:3px;font-size:12px}.fv__action-dialog-box{width:403px;margin-top:22px;border-radius:5px;display:none}.fv__action-box-title{line-height:18px;margin-bottom:9px}.fv__action-dialog-btns{float:right}.fv__action-dialog-btns .fv__ui-dialog-ok-button{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #a236b2;color:#fff;background-color:#a236b2;text-align:center;cursor:pointer;user-select:none;color:var(--Accent_button_text, #FFFFFF);background-color:var(--fv-accent-btn-bg, #A236B2);border-color:var(--fv-accent-btn-border-color, #A236B2)}.fv__action-dialog-btns .fv__ui-dialog-ok-button:last-child{margin-right:0}.fv__action-dialog-btns .fv__ui-dialog-ok-button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__action-dialog-btns .fv__ui-dialog-ok-button input[type=checkbox]:last-child{margin-right:0}.fv__action-dialog-btns .fv__ui-dialog-ok-button .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__action-dialog-btns .fv__ui-dialog-ok-button:not(.disabled,[disabled],:disabled):hover{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-hover-bg, #A236B2);border-color:var(--fv-accent-btn-border-hover-color, #A236B2);box-shadow:0 .125rem .1875rem rgba(0,0,0,.15)}.fv__action-dialog-btns .fv__ui-dialog-ok-button:not(.disabled,[disabled],:disabled):focus{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-focus-bg, #A236B2);border-color:var(--fv-accent-btn-border-focus-color, #A236B2);opacity:.8;opacity:var(--fv-btn-focus-opacity, 0.8)}.fv__action-dialog-btns .fv__ui-dialog-ok-button:not(.disabled,[disabled],:disabled):active{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-pressed-bg, #A236B2);border-color:var(--fv-accent-btn-border-pressed-color, #A236B2);opacity:.5;opacity:var(--fv-btn-pressed-opacity, 0.5)}.fv__action-dialog-btns .fv__ui-dialog-ok-button.disabled,.fv__action-dialog-btns .fv__ui-dialog-ok-button:disabled{color:var(--fv-disable-accent-button-text, #FFFFFF);background-color:var(--fv-disable-accent-color, #E3C1E8);border-color:var(--fv-disable-accent-color, #E3C1E8);cursor:not-allowed}.fv__action-dialog-btns .fv__ui-dialog-ok-button.disabled .fv__ui-button-text,.fv__action-dialog-btns .fv__ui-dialog-ok-button:disabled .fv__ui-button-text{color:var(--fv-disable-accent-button-text, #FFFFFF)}.fv__action-dialog-btns .fv__ui-dialog-cancel-button{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #bcc1d1;color:#999;background-color:#fff;text-align:center;cursor:pointer;user-select:none;color:#131313;color:var(--fv-btn-color, #131313);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1)}.fv__action-dialog-btns .fv__ui-dialog-cancel-button:last-child{margin-right:0}.fv__action-dialog-btns .fv__ui-dialog-cancel-button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.fv__action-dialog-btns .fv__ui-dialog-cancel-button input[type=checkbox]:last-child{margin-right:0}.fv__action-dialog-btns .fv__ui-dialog-cancel-button .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.fv__action-dialog-btns .fv__ui-dialog-cancel-button:not(.disabled):hover,.fv__action-dialog-btns .fv__ui-dialog-cancel-button:not(:disabled):hover{border:var(--fv-hover-btn-border, 1px solid #9197A8)}.fv__action-dialog-btns .fv__ui-dialog-cancel-button:not(.disabled):hover .fv__ui-button-text,.fv__action-dialog-btns .fv__ui-dialog-cancel-button:not(:disabled):hover .fv__ui-button-text{color:#131313 !important;color:var(--fv-btn-color, #131313) !important}.fv__action-dialog-btns .fv__ui-dialog-cancel-button.disabled,.fv__action-dialog-btns .fv__ui-dialog-cancel-button:disabled{color:var(--fv-btn-color, #131313);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1);opacity:var(--fv-btn-disabled-opacity, 0.3)}#url-input{width:100%}#goto-input{width:157px}.fv__action-dialog-goto-container{display:flex}.fv__action-dialog-goto-center{display:flex}.fv__action-dialog-select-title,.fv__action-dialog-goto-target{line-height:24px;white-space:nowrap;display:inline-block;width:140px;padding-right:12px}.fv__action-dialog-goto-input{display:inline-block;margin-right:10px}.fv__action-dialog-goto-position{display:inline-block;color:#969696}.fv__action-dialog-goto-left-value{margin-right:10px}.fv__action-btn{min-width:64px;height:30px;border-radius:5px;background:#f8f8f8;cursor:pointer;outline:none}.fv__action-btn:hover{background:#f0f1f5}.fv__action-dialog-footer{overflow:hidden}.fv__action-btn-ok{border:1px solid #dd88e0;color:#444}.fv__action-btn-cancel{border:1px solid #ddd;color:#444;margin-right:20px}",""]),e.exports=t},136:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__place-redaction-dialog{top:40%}.fv__place-redaction-dialog .fv__place-redaction-dialog-header{height:30px}.fv__place-redaction-dialog .fv__place-redaction-dialog-title{float:left}.fv__place-redaction-dialog .fv__place-redaction-dialog-close-icon{float:right}.fv__place-redaction-dialog span{vertical-align:text-bottom;padding:10px}.fv__place-redaction-dialog .fv__redaction-range{padding:10px 30px;font-size:12px}.fv__place-redaction-dialog .fv__redaction-page-range{padding:2px 42px 2px 5px;border:1px solid var(--fv-input-border-color, #e1e1e1);border-radius:5px;height:30px}.fv__place-redaction-dialog .fv__redaction-page-range.fv__redaction-error{border:1px solid red}.fv__redaction-container:not(:last-child){margin-bottom:10px}.fv__redaction-container{font-size:14px}",""]),e.exports=t},8962:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv_shapes_ui{position:absolute;z-index:25;left:0;top:0}",""]),e.exports=t},6608:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__widget-focus-element{position:absolute;z-index:9999;-webkit-user-select:none;-moz-user-select:none;user-select:none;text-indent:-1em;font-size:0;color:rgba(0,0,0,0);overflow:hidden;outline:1px dotted #666;outline-offset:0}.hide-form-field-focus-rectangle .fv__widget-focus-element{outline:none}.fv__widget-outline{outline:1px dotted #666;outline-offset:1px;opacity:1}.hide-form-field-focus-rectangle .fv__widget-outline{outline:none}.fv__widget-signature-foreground{mix-blend-mode:multiply;position:absolute;z-index:28}.fv__widget-signature-foreground:hover{outline:1px solid;cursor:var(--fv-doc-cursor-type, pointer)}.fv__widget-signature-foreground.fv__widget-outline:hover{outline-width:0}.fv__widget-signature-readonly{pointer-events:none}.fv__widget-signature-foreground-hidden{display:none}",""]),e.exports=t},422:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.js-window-modal .js-modal-dialog .modal-content .modal-body{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;-webkit-flex:1;-moz-flex:1;flex:1}.js-window-modal .js-modal-dialog{-webkit-box-flex:auto;-moz-box-flex:auto;box-flex:auto;-webkit-flex:auto;-moz-flex:auto;flex:auto}.js-window-modal{z-index:10020;position:absolute;top:0;left:0;right:0;bottom:0;background-color:rgba(125,125,125,.5)}.js-window-modal .disabled{filter:alpha(opacity=65);-moz-opacity:.65;-khtml-opacity:.65;opacity:.65;cursor:not-allowed !important}.js-window-modal .js-modal-dialog{position:absolute;top:50%;left:50%;border:1px solid;border-radius:4px;transform:translate(-50%, -50%);-webkit-transform:translate(-50%, -50%);-moz-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);background:#fbfbfd;background:var(--fv-primary-bg, #FBFBFD);max-height:82%;width:700px;max-width:80%}.js-window-modal .js-modal-dialog .modal-content{height:100%}.js-window-modal .js-modal-dialog .modal-content .modal-header{position:relative;line-height:19px;padding:5px 10px;border-bottom:1px solid #c7ccd9;border-bottom:var(--fv-frame-border, 1px solid #C7CCD9);font-size:14px;height:50px;box-sizing:border-box}.js-window-modal .js-modal-dialog .modal-content .modal-header button.close{float:right;border:0;background:rgba(0,0,0,0);font-size:24px;cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.js-window-modal .js-modal-dialog .modal-content .modal-body{padding:20px;line-height:1.42857143;height:calc(100% - 106px);overflow:auto;max-height:325px}.js-window-modal .js-modal-dialog .modal-content .modal-footer{padding:5px 20px 20px;height:56px;box-sizing:border-box}.js-window-modal .js-modal-dialog .modal-content .js-warning-footer{padding:5px 20px 20px}.js-window-modal .js-modal-dialog .modal-content .js-warning-footer .js-warning{padding:5px;border:1px solid #c7ccd9;border:var(--fv-frame-border, 1px solid #C7CCD9);color:red;font-size:14px}.js-window-modal .js-modal-dialog .modal-content .js-view-component+*{margin-top:20px}.js-window-modal .js-modal-dialog .modal-content .js-view-component{overflow:hidden;word-break:keep-all}.js-window-modal .js-modal-dialog .modal-content .js-view-component>*{max-width:100%}.js-window-modal .js-modal-dialog .modal-content .children-in-row::before,.js-window-modal .js-modal-dialog .modal-content .js-item-wrapper::before{display:table;content:" "}.js-window-modal .js-modal-dialog .modal-content .children-in-row::after,.js-window-modal .js-modal-dialog .modal-content .js-item-wrapper::after{display:table;content:" ";clear:both}.js-window-modal .js-modal-dialog .modal-content .js-item-wrapper>input{float:left;line-height:19px}.js-window-modal .js-modal-dialog .modal-content .js-item-wrapper>span{float:left;height:19px;line-height:19px}.js-window-modal .js-modal-dialog .modal-content .children-in-row{position:relative}.js-window-modal .js-modal-dialog .modal-content .children-in-row .js-item-wrapper{float:left}.js-window-modal .js-modal-dialog .modal-content .js-item-wrapper.btn-wrapper:not(:last-child){margin-right:15px}.js-window-modal .js-modal-dialog .modal-content .js-item-wrapper.btn-wrapper .btn{min-width:80px;min-height:21px}.js-window-modal .js-modal-dialog .modal-content .js-buttons .js-item-wrapper{display:inline-block}.js-window-modal .js-modal-dialog .modal-content .align-right{text-align:right}.js-window-modal .js-modal-dialog .modal-content .align-left{text-align:left}',""]),e.exports=t},7868:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-print-process{position:fixed;width:40%;left:50%;top:50%;transform:translate(-50%, -50%);background:#fff;box-shadow:rgba(151,151,151,.85) 0 0 14px 3px;border-radius:5px;z-index:100;padding:23px;font-size:18px}.fv__ui-print-process-digital-progress{margin:18px 0}.fv__ui-print-process-bar{height:24px;box-shadow:0 2px 4px #555;border-radius:5px;overflow:hidden;border:1px solid rgba(0,0,0,0);box-sizing:border-box}.fv__ui-print-process-percent{border-top:24px solid #a3bde3;width:0%;height:0}",""]),e.exports=t},995:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__viewer-snapped-point{position:absolute;z-index:1000;pointer-events:none}",""]),e.exports=t},9672:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__mark-image-blank{position:absolute;border:1px solid red}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__mark-image-blank{forced-color-adjust:none;forced-color-adjust:preserve-parent-color}@media(forced-colors: active){.fv__ui-high-contrast .fv__mark-image-blank{forced-color-adjust:none;forced-color-adjust:preserve-parent-color}}",""]),e.exports=t},6110:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__mark-link-blank{position:absolute;border:1px solid blue}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__mark-link-blank{forced-color-adjust:none;forced-color-adjust:preserve-parent-color}@media(forced-colors: active){.fv__ui-high-contrast .fv__mark-link-blank{forced-color-adjust:none;forced-color-adjust:preserve-parent-color}}",""]),e.exports=t},1051:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.fv__mark-selection-blank{position:absolute;padding:0;background-color:#59f}.fv__selection-tool-tip-container{position:absolute;display:none;z-index:100}.fv__selection-tool-tip-container.fv__active{display:block}.fv__selection-tool-tip-container::before,.fv__selection-tool-tip-container::after{content:"";position:absolute;left:-10px;display:block;border:10px solid rgba(0,0,0,0);width:0;height:0}.fv__selection-tool-tip-container::before{bottom:-11px;border-top-color:#ccc}.fv__selection-tool-tip-container::after{bottom:-10px;border-top-color:#fff}.fv__selection-tool-tip-items{position:relative;margin-top:-50px;left:-50%;box-shadow:rgba(151,151,151,.35) 0 0 14px;font-size:0;white-space:nowrap}.fv__selection-tool-tip-item{display:inline-block;width:40px;height:40px;cursor:pointer;background-color:#fff}.fv__selection-tool-tip-item:first-child{border-radius:5px 0 0 5px}.fv__selection-tool-tip-item:last-child{border-radius:0 5px 5px 0}.fv__selection-tool-tip-item.disabled{filter:alpha(opacity=50);-moz-opacity:.5;-khtml-opacity:.5;opacity:.5;cursor:initial}.fv__mark-text-selection-range{position:absolute;padding:0;border:solid 1px #000}.fv__text-link{max-width:200px;position:absolute;padding:10px;word-break:break-all;background-color:var(--fv-file-page-content-bg, #FFFFFF);box-shadow:var(--fv-drop-shadow, rgba(151, 151, 151, 0.85) 0 0 14px 3px);border-radius:5px}',""]),e.exports=t},7759:(e,t,n)=>{var i=n(3645),r=n(5979),o=n(1667),a=n(209),s=n(6190),c=n(6189),u=n(6294),l=n(5225),A=n(6623),d=n(8483),h=n(4420),f=n(3800),p=n(4113),v=n(4404),g=n(7898),m=n(3350),y=n(1342),_=n(9382),b=n(5481),w=n(8555),k=n(3296),x=n(4853),P=n(7e3),C=n(4005),D=n(5672),E=n(8244),S=n(5618),I=n(527),T=n(7710),R=n(4855),M=n(9456),F=n(2142),N=n(384),L=n(3954),O=n(6989),j=n(4052),B=n(5471),V=n(4031),U=n(3434),H=n(5412),z=n(2954),W=n(329),G=n(6627),Y=n(5080),$=n(8488),J=n(5906),q=n(9416),K=n(3231),Z=n(2272),X=n(1759),Q=n(383);(t=i(!1)).i(r);var ee=o(a),te=o(s),ne=o(c),ie=o(u),re=o(l),oe=o(A),ae=o(d),se=o(h),ce=o(f),ue=o(p),le=o(v),Ae=o(g),de=o(m),he=o(y),fe=o(_),pe=o(b),ve=o(w),ge=o(k),me=o(x),ye=o(P),_e=o(C),be=o(D),we=o(E),ke=o(S),xe=o(I),Pe=o(T),Ce=o(R),De=o(M),Ee=o(F),Se=o(N),Ie=o(L),Te=o(O),Re=o(j),Me=o(B),Fe=o(V),Ne=o(U),Le=o(H),Oe=o(z),je=o(W),Be=o(G),Ve=o(Y),Ue=o($),He=o(J),ze=o(q),We=o(K),Ge=o(Z),Ye=o(X),$e=o(Q);t.push([e.id,".fv__h-continuous-view-mode-layout,.fv__tiles-row,.fv__tiles-container{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__loading-animation{display:-webkit-inline-box;display:inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-moz-inline-box;display:inline-flex}.fv__tiles-container{-webkit-box-direction:normal;-webkit-box-orient:vertical;-moz-box-direction:normal;-moz-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.fv__h-continuous-view-mode-layout,.fv__tiles-row,.fv__loading-animation{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__rendering-svg{display:inline-block}.fv__h-continuous-view-mode-layout,.fv__tiles-row,.fv__tiles-container{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__loading-animation{display:-webkit-inline-box;display:inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-moz-inline-box;display:inline-flex}.fv__tiles-container{-webkit-box-direction:normal;-webkit-box-orient:vertical;-moz-box-direction:normal;-moz-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.fv__h-continuous-view-mode-layout,.fv__tiles-row,.fv__loading-animation{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__rendering-svg{display:inline-block}.fv__pdf-page-caret-annot-handler-container.disabled{cursor:not-allowed;filter:alpha(opacity=100);-moz-opacity:1;-khtml-opacity:1;opacity:1}.fv__h-continuous-view-mode-layout,.fv__tiles-row,.fv__tiles-container{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__loading-animation{display:-webkit-inline-box;display:inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-moz-inline-box;display:inline-flex}.fv__tiles-container{-webkit-box-direction:normal;-webkit-box-orient:vertical;-moz-box-direction:normal;-moz-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.fv__h-continuous-view-mode-layout,.fv__tiles-row,.fv__loading-animation{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__rendering-svg{display:inline-block}.fv__cursor-pencil{cursor:var(--fv-doc-cursor-type, crosshair);cursor:var(--fv-doc-cursor-type, url("+ee+")) 3 28,var(--fv-doc-cursor-type, crosshair)}.fv__cursor-insert-text{cursor:var(--fv-doc-cursor-type, text);cursor:var(--fv-doc-cursor-type, url("+te+")) 16 16,var(--fv-doc-cursor-type, text)}.fv__cursor-highlight{cursor:var(--fv-doc-cursor-type, text);cursor:var(--fv-doc-cursor-type, url("+ne+")) 16 16,var(--fv-doc-cursor-type, text)}.fv__cursor-s-underline{cursor:var(--fv-doc-cursor-type, text);cursor:var(--fv-doc-cursor-type, url("+ie+")) 16 16,var(--fv-doc-cursor-type, text)}.fv__cursor-underline{cursor:var(--fv-doc-cursor-type, text);cursor:var(--fv-doc-cursor-type, url("+re+")) 16 16,var(--fv-doc-cursor-type, text)}.fv__cursor-strikeout{cursor:var(--fv-doc-cursor-type, text);cursor:var(--fv-doc-cursor-type, url("+oe+")) 16 16,var(--fv-doc-cursor-type, text)}.fv__cursor-replace-text{cursor:var(--fv-doc-cursor-type, text);cursor:var(--fv-doc-cursor-type, url("+ae+")) 16 16,var(--fv-doc-cursor-type, text)}.fv__cursor-file{cursor:var(--fv-doc-cursor-type, crosshair);cursor:var(--fv-doc-cursor-type, url("+se+")) 5 27,var(--fv-doc-cursor-type, crosshair)}.fv__cursor-typewriter{cursor:var(--fv-doc-cursor-type, text);cursor:var(--fv-doc-cursor-type, url("+ce+")) 11 4,var(--fv-doc-cursor-type, text)}.fv__cursor-textbox{cursor:var(--fv-doc-cursor-type, text);cursor:var(--fv-doc-cursor-type, url("+ue+")) 16 16,var(--fv-doc-cursor-type, text)}.fv__cursor-eraser{cursor:var(--fv-doc-cursor-type, crosshair);cursor:var(--fv-doc-cursor-type, url("+le+")) 3 28,var(--fv-doc-cursor-type, crosshair)}.fv__cursor-marquee{cursor:var(--fv-doc-cursor-type, crosshair);cursor:var(--fv-doc-cursor-type, url("+Ae+")) 0 0,var(--fv-doc-cursor-type, crosshair)}.fv__cursor-loupe{cursor:var(--fv-doc-cursor-type, crosshair);cursor:var(--fv-doc-cursor-type, url("+de+")) 0 0,var(--fv-doc-cursor-type, crosshair)}.fv__cursor-rotation{cursor:var(--fv-doc-cursor-type, text);cursor:var(--fv-doc-cursor-type, url("+he+")) 8 8,var(--fv-doc-cursor-type, text)}.fv__cursor-fill-text{cursor:var(--fv-doc-cursor-type, text);cursor:var(--fv-doc-cursor-type, url("+fe+")) 4 0,var(--fv-doc-cursor-type, text)}.fv__cursor-fill-tick{cursor:var(--fv-doc-cursor-type, text);cursor:var(--fv-doc-cursor-type, url("+pe+")) 16 16,var(--fv-doc-cursor-type, text)}.fv__cursor-fill-cross{cursor:var(--fv-doc-cursor-type, text);cursor:var(--fv-doc-cursor-type, url("+ve+")) 16 16,var(--fv-doc-cursor-type, text)}.fv__cursor-fill-dot{cursor:var(--fv-doc-cursor-type, text);cursor:var(--fv-doc-cursor-type, url("+ge+")) 16 16,var(--fv-doc-cursor-type, text)}.fv__cursor-fill-line{cursor:var(--fv-doc-cursor-type, text);cursor:var(--fv-doc-cursor-type, url("+me+")) 16 16,var(--fv-doc-cursor-type, text)}.fv__cursor-fill-rectangle{cursor:var(--fv-doc-cursor-type, text);cursor:var(--fv-doc-cursor-type, url("+ye+")) 16 16,var(--fv-doc-cursor-type, text)}.fv__cursor-note{cursor:var(--fv-doc-cursor-type, crosshair);cursor:var(--fv-doc-cursor-type, url("+_e+")) 6 6,var(--fv-doc-cursor-type, crosshair)}.fv__cursor-article{cursor:var(--fv-doc-cursor-type, auto);cursor:var(--fv-doc-cursor-type, url("+be+")) 0 0,var(--fv-doc-cursor-type, auto)}.fv__cursor-eraser-2{cursor:var(--fv-doc-cursor-type, auto);cursor:var(--fv-doc-cursor-type, url("+we+")) 0 0,var(--fv-doc-cursor-type, auto)}.fv__cursor-forbidden{cursor:var(--fv-doc-cursor-type, auto);cursor:var(--fv-doc-cursor-type, url("+ke+")) 0 0,var(--fv-doc-cursor-type, auto)}.fv__cursor-hand{cursor:var(--fv-doc-cursor-type, auto);cursor:var(--fv-doc-cursor-type, url("+xe+")) 0 0,var(--fv-doc-cursor-type, auto)}.fv__cursor-sign{cursor:var(--fv-doc-cursor-type, auto);cursor:var(--fv-doc-cursor-type, url("+Pe+")) 0 0,var(--fv-doc-cursor-type, auto)}.fv__cursor-disable.fv__cursor-disable.fv__cursor-disable{cursor:no-drop}.fv__cursor-none{cursor:var(--fv-doc-cursor-type, none)}.fv__cursor-grab{cursor:var(--fv-doc-cursor-type, grab)}.fv__cursor-text{cursor:var(--fv-doc-cursor-type, text)}.fv__cursor-grabbing{cursor:var(--fv-doc-cursor-type, grabbing)}.fv__cursor-text{cursor:var(--fv-doc-cursor-type, text)}.fv__cursor-crosshair{cursor:var(--fv-doc-cursor-type, crosshair)}.fv__cursor-pointer{cursor:var(--fv-doc-cursor-type, pointer)}.fv__icon-toolbar-edit-text,.fv__icon-popup-copy,.fv__icon-toolbar-underline,.fv__icon-toolbar-strikeout,.fv__icon-toolbar-text-highlight{background-repeat:no-repeat;background-position:center}.fv__icon-toolbar-text-highlight{background-image:url("+Ce+")}.fv__icon-toolbar-strikeout{background-image:url("+De+")}.fv__icon-toolbar-underline{background-image:url("+Ee+")}.fv__icon-popup-copy{background-image:url("+Se+")}.fv__icon-toolbar-edit-text{background-image:url("+Ie+')}@font-face{font-family:FoxitPDFSDKForWeb;src:local("Helvetica"),local("Arial"),local("Times New Roman"),local("宋体")}html{--facing-margin: 8px}[contenteditable]{-webkit-user-select:text;user-select:text}.fv__hide{display:none !important}.fv__block{display:block !important}.fv__inline{display:inline !important}.fv__hidden{display:none !important}.fv__mb_5{margin-bottom:5px}.fv__mb_15{margin-bottom:15px}.fv__btn{cursor:pointer}.fv__pdf-page-not-rendered{height:100vh}.fv__rendering-svg{background-image:url('+Te+');background-repeat:no-repeat;background-size:100%;background-position:center;width:128px;height:128px}.fv__ui-touch-device .fv__pdf-page-rendering{pointer-events:none}.fv__pdf-viewer-rendering,.fv__pdf-doc-rendering,.fv__pdf-page-rendering{text-align:center;height:100%}.fv__pdf-viewer-rendering.rendered,.fv__pdf-doc-rendering.rendered,.fv__pdf-page-rendering.rendered{height:unset}.fv__pdf-viewer-rendering .fv__rendering-svg,.fv__pdf-doc-rendering .fv__rendering-svg,.fv__pdf-page-rendering .fv__rendering-svg{width:128px;vertical-align:middle}.fv__pdf-viewer-rendering .fv__loading-animation,.fv__pdf-doc-rendering .fv__loading-animation,.fv__pdf-page-rendering .fv__loading-animation{width:128px;height:128px}.fv__pdf-viewer-rendering .fv__loading-animation li:nth-child(1),.fv__pdf-doc-rendering .fv__loading-animation li:nth-child(1),.fv__pdf-page-rendering .fv__loading-animation li:nth-child(1){animation-delay:0s}.fv__pdf-viewer-rendering .fv__loading-animation li:nth-child(2),.fv__pdf-doc-rendering .fv__loading-animation li:nth-child(2),.fv__pdf-page-rendering .fv__loading-animation li:nth-child(2){animation-delay:.2s}.fv__pdf-viewer-rendering .fv__loading-animation li:nth-child(3),.fv__pdf-doc-rendering .fv__loading-animation li:nth-child(3),.fv__pdf-page-rendering .fv__loading-animation li:nth-child(3){animation-delay:.4s}.fv__pdf-viewer-rendering .fv__loading-animation li:nth-child(4),.fv__pdf-doc-rendering .fv__loading-animation li:nth-child(4),.fv__pdf-page-rendering .fv__loading-animation li:nth-child(4){animation-delay:.6s}.fv__pdf-viewer-rendering .fv__loading-animation li:nth-child(5),.fv__pdf-doc-rendering .fv__loading-animation li:nth-child(5),.fv__pdf-page-rendering .fv__loading-animation li:nth-child(5){animation-delay:.8s}.fv__loading-animation{-webkit-box-pack:stretch;-moz-box-pack:stretch;box-pack:stretch;-webkit-justify-content:stretch;-moz-justify-content:stretch;-o-justify-content:stretch;justify-content:stretch;-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;list-style:none;padding:0}.fv__loading-animation li{background-color:#ddd;-webkit-box-flex:1 1 auto;-moz-box-flex:1 1 auto;box-flex:1 1 auto;-webkit-flex:1 1 auto;-moz-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;height:26.56%;animation:loading-animation 1.2s infinite}.fv__loading-animation li:first-child{margin-left:5.859%}.fv__loading-animation li:last-child{margin-right:5.859%}.fv__loading-animation li+li{margin-left:5.468%}@-webkit-keyframes loading-animation{0%{height:26.56%}50%{height:67.18%}100%{height:26.56%}}@-moz-keyframes loading-animation{0%{height:26.56%}50%{height:67.18%}100%{height:26.56%}}@-o-keyframes loading-animation{0%{height:26.56%}50%{height:67.18%}100%{height:26.56%}}@keyframes loading-animation{0%{height:26.56%}50%{height:67.18%}100%{height:26.56%}}.fv__pdf-doc-layout{position:relative}.fv__pdf-doc-layout.fv__destroy{display:none}.fv__pdf-doc-layout .fv__pdf-doc-container{position:relative}.fv__pdf-doc-layout .fv__pdf-doc-container .fv__pdf-view-mode-item{margin-top:var(--facing-margin);margin-right:var(--facing-margin);margin-bottom:0}.fv__pdf-view-mode-item{margin:8px auto 0}.fv__pdf-invisible-page-item .fv__pdf-page-layout{visibility:hidden}.fv__pdf-invisible-page-item .fv__pdf-page-layout>*{display:none}.fv__pdf-invisible-page-item canvas{display:none}.fv__pdf-page-layout{overflow:visible;margin:8px auto;margin:0 auto;position:relative}.fv__pdf-page-layout.fv__rendering .fv__pdf-page-rendering{position:absolute;width:100%;height:100%;z-index:100;display:table}.fv__pdf-page-layout.fv__rendering .fv__pdf-page-rendering .fv__rendering-container{display:table-cell;vertical-align:middle}.fv__pdf-page-container{position:relative;transform-origin:0 0;overflow:hidden;width:100%;height:100%;background-color:var(--bgc)}.fv__pdf-page-annots-container,.fv__pdf-page-customs-container{position:absolute;transform-origin:0 0;top:0;left:0;width:100%;height:100%;overflow:hidden}.fv__tiles-container{transform-origin:0 0;position:relative}.fv__pdf-viewer{--bgc: #fff;position:relative;display:inline-block;min-width:100%}.fv__h-continuous-view-mode-layout{height:100%;-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:wrap;flex-wrap:wrap}.fv__pdf-viewer canvas{vertical-align:top}.fv__tiles-canvas{vertical-align:top;width:100%;height:100%}.fv__pdf-page-annot-container{position:absolute;overflow:visible;overflow:unset;z-index:22;transform-origin:0 0;cursor:pointer;line-height:0}.fv__pdf-page-annot-container.fv__annot-flags-nozoom{overflow:hidden;transform:scale(1) !important}.fv__pdf-page-annot-container.fv__zindex-down{z-index:21}.fv__pdf-page-highlight-annot-container,.fv__viewer-fake-highlight-area-annot{mix-blend-mode:multiply}.fv__color-property-row{display:flex;flex-direction:row;margin:1px 0}.fv__color-property-col{position:relative;-webkit-box-flex:1 0 28px;-moz-box-flex:1 0 28px;box-flex:1 0 28px;-webkit-flex:1 0 28px;-moz-flex:1 0 28px;-ms-flex:1 0 28px;flex:1 0 28px;height:26px;display:flex;margin:1px;cursor:pointer;line-height:26px;text-align:center}.fv__color-property-item{position:absolute;z-index:-1;top:0;right:0;bottom:0;left:0}.fv__color-property-item.fv__transparent{position:relative}.fv__color-property-item.fv__transparent:before{content:"";transform:rotate(-45deg);position:absolute;top:49%;width:100%;height:0;border-top:1px solid red}.fv__pdf-doc-handler-container{z-index:9;position:absolute;top:0;right:0;bottom:0;left:0;background-color:rgba(1,0,0,0)}.fv__pdf-page-content-container{z-index:10}.fv__pdf-page-highlight-container{position:absolute;top:0;left:0;z-index:1;transform-origin:0 0}.fv__pdf-page-no-highlight-container{position:absolute;top:0;left:0;z-index:20;transform-origin:0 0}.fv__virtual-pdf-page{position:relative}.fv__virtual-pdf-page>*{pointer-events:none}.fv__virtual-pdf-page:after{content:"";position:absolute;left:0;top:0;right:0;bottom:0;cursor:not-allowed;z-index:30}.fv_choice_border{box-sizing:border-box}.fv_choice_icon{position:absolute;top:0;left:0;width:100%;height:100%}.fv__height100{height:100%}.fv__width100{width:100%}.fv__annot-container-zindex-up .fv__pdf-page-handler-container{z-index:26}.fv__annot-container-zindex-up .fv__pdf-page-annot-container{z-index:28}.fv__annot-container-zindex-up .fv__pdf-page-annot-container.fv__zindex-down{z-index:27}.fv__annot-container-zindex-up .fv__pdf-page-annot-container.fv__pdf-page-watermark-annot-container{z-index:24}.fv__annot-container-zindex-up .fv__pdf-page-annot-container.fv__pdf-form-control-container{z-index:25;user-select:none}.fv__annot-container-zindex-up .fv__pdf-page-annot-container.fv__pdf-form-control-container.fv__zindex-down{z-index:24}.fv__annot-container-zindex-up .fv__pdf-page-highlight-annot-container{z-index:27}.fv__annot-container-zindex-up .fv__pdf-form-control-handler-container.fv__pdf-page-annot-handler-container{z-index:25}.fv__annot-container-zindex-up.fv__allow-modify-form-control .fv__pdf-form-control-handler-container.fv__pdf-page-annot-handler-container{z-index:29}.fv__pdf-page-handler-container{position:absolute;top:0;left:0;right:0;bottom:0;z-index:30;transform-origin:0 0;background-color:rgba(1,0,0,0)}.fv__pdf-page-annot-handler-container{position:absolute;top:0;left:0;width:0;height:0;transform-origin:0 0;z-index:31;display:none;background-color:rgba(1,0,0,0)}.fv__pdf-page-annot-handler-container.active{display:block}.fv__pdf-page-annot-handler-container.fv__pdf-form-control-handler-container{z-index:29;forced-color-adjust:none;forced-color-adjust:preserve-parent-color}.fv__pdf-page-annot-handler-container.fv__pdf-page-caret-annot-handler-container{z-index:31}.fv__pdf-page-3d-annot-interaction-canvas{width:100%;height:100%}.fv__pdf-page-text-selection-container{position:absolute;top:0;left:0;width:0;height:0;transform-origin:0 0;z-index:32}.fv__pdf-page-annot-handler-blank{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1}.fv__pdf-page-annot-handler-rect{position:absolute;z-index:2;outline-offset:-1px}.fv__pdf-page-annot-handler-rect.active{outline:1px solid red}.fv__pdf-page-annot-handler-rect.fv__annot-active{outline:1px solid #5aa}.fv__text-boundary{z-index:10;position:absolute;width:0;cursor:e-resize}.fv__text-boundary.ban{cursor:default}.fv__text-boundary.ban .fv__text-boundary-cursor{border:2px solid gray}.fv__text-boundary.ban .fv__text-boundary-sign{border:2px solid gray}.fv__text-boundary-blank{padding:0 7px;margin-left:-8px;height:100%}.fv__text-boundary-cursor{border:1px solid blue;width:0;height:100%}.fv__text-boundary-sign{position:absolute;border:2px solid blue;width:12px;height:12px;left:-8px;border-radius:50%;box-sizing:content-box}.fv__text-boundary-left{transform-origin:left top}.fv__text-boundary-left .fv__text-boundary-sign{top:-15px}.fv__text-boundary-right{transform-origin:left bottom}.fv__text-boundary-right .fv__text-boundary-sign{bottom:-15px}.fv__pdf-page-annot-action-container{position:absolute;z-index:40;display:none}.fv__pdf-page-annot-action-container.active{display:block}.fv__clipboard-copy-textarea{position:absolute;filter:alpha(opacity=0);-moz-opacity:0;-khtml-opacity:0;opacity:0}.fv__dialog{position:absolute;left:0;right:0;top:30%;z-index:1024;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;height:-moz-fit-content;height:-webkit-fit-content;height:fit-content;margin:auto;padding:1em;background:#fff;color:var(--fv-primary-color, #131313);display:block;box-shadow:1px 1px 3px 0px #ddd;border:1px solid #c7ccd9;border:var(--fv-dialog-border, 1px solid #C7CCD9);border-radius:5px}.fv__dialog:not([open]){display:none}.fv__dialog+.backdrop{position:fixed;top:0;right:0;bottom:0;left:0;background:rgba(0,0,0,.1)}.fv__dialog.fixed{position:fixed;top:50%;transform:translate(0, -50%)}.fv__annot-reply-dialog .fv__btn{background-color:#f8f8f8;line-height:1.3;border:1px solid #ddd;border-radius:3px}.fv__annot-reply-dialog .fv__textarea-container{margin-bottom:5px;margin-bottom:.2rem}.fv__annot-reply-dialog .trust-dia-inbox label{display:block}.fv__annot-reply-dialog .trust-dia-inbox label input{vertical-align:-2px}.fv__annot-reply-dialog .fv__block-textarea{border-color:#e5e5e5;border-radius:4px;width:300px;color:#666}.fv__annot-reply-dialog .fv__btn-reply{border-color:#e2a1e6;color:#e2a1e6}.fv__annot-reply-dialog .fv__btn-replay-disabled{border-color:gray;color:gray}.fv__annot-reply-dialog .fv__btn_reply_container{text-align:right;margin-bottom:-5px;margin-bottom:-0.2rem}.fv__annot-reply-dialog .fv__btn-close-container{border-top:1px solid #ddd;padding-top:10px;margin-top:10px;text-align:right}.trust-dia-dibox{padding:22px;background:#fbfbfd;background:var(--fv-primary-bg, #FBFBFD);box-shadow:rgba(151,151,151,.85) 0 0 14px 3px;max-width:480px}.trust-dia-dibox .btn-bot-box{margin-top:20px;margin-bottom:0}.trust-dia-dibox>p{margin-bottom:22px;padding:0;font-size:16px;color:#131313;color:var(--fv-primary-color, #131313);font-weight:400;display:flex;justify-content:space-between}.trust-dia-dibox>p i{width:16px;height:16px;cursor:pointer}.trust-dia-dibox .fv__icon-dialog-level-warning{display:inline-block;width:30px;height:24px;flex:0 0 30px;margin-top:5px}.trust-dia-dibox .fv__trust-tip-container>p{display:flex}.trust-dia-dibox .fv__trust-tip-container>p span{margin-left:8px}.trust-dia-dibox .trust-ok-btn{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #a236b2;color:#fff;background-color:#a236b2;text-align:center;cursor:pointer;user-select:none;color:var(--Accent_button_text, #FFFFFF);background-color:var(--fv-accent-btn-bg, #A236B2);border-color:var(--fv-accent-btn-border-color, #A236B2)}.trust-dia-dibox .trust-ok-btn:last-child{margin-right:0}.trust-dia-dibox .trust-ok-btn input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.trust-dia-dibox .trust-ok-btn input[type=checkbox]:last-child{margin-right:0}.trust-dia-dibox .trust-ok-btn .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.trust-dia-dibox .trust-ok-btn:not(.disabled,[disabled],:disabled):hover{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-hover-bg, #A236B2);border-color:var(--fv-accent-btn-border-hover-color, #A236B2);box-shadow:0 .125rem .1875rem rgba(0,0,0,.15)}.trust-dia-dibox .trust-ok-btn:not(.disabled,[disabled],:disabled):focus{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-focus-bg, #A236B2);border-color:var(--fv-accent-btn-border-focus-color, #A236B2);opacity:.8;opacity:var(--fv-btn-focus-opacity, 0.8)}.trust-dia-dibox .trust-ok-btn:not(.disabled,[disabled],:disabled):active{color:#fff;background-color:#a236b2;border-color:#a236b2;background-color:var(--fv-accent-btn-pressed-bg, #A236B2);border-color:var(--fv-accent-btn-border-pressed-color, #A236B2);opacity:.5;opacity:var(--fv-btn-pressed-opacity, 0.5)}.trust-dia-dibox .trust-ok-btn.disabled,.trust-dia-dibox .trust-ok-btn:disabled{color:var(--fv-disable-accent-button-text, #FFFFFF);background-color:var(--fv-disable-accent-color, #E3C1E8);border-color:var(--fv-disable-accent-color, #E3C1E8);cursor:not-allowed}.trust-dia-dibox .trust-ok-btn.disabled .fv__ui-button-text,.trust-dia-dibox .trust-ok-btn:disabled .fv__ui-button-text{color:var(--fv-disable-accent-button-text, #FFFFFF)}.trust-dia-dibox .trust-no-btn{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:.1875rem;border:1px solid #bcc1d1;color:#999;background-color:#fff;text-align:center;cursor:pointer;user-select:none;color:#131313;color:var(--fv-btn-color, #131313);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1)}.trust-dia-dibox .trust-no-btn:last-child{margin-right:0}.trust-dia-dibox .trust-no-btn input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:.1875rem}.trust-dia-dibox .trust-no-btn input[type=checkbox]:last-child{margin-right:0}.trust-dia-dibox .trust-no-btn .fv__ui-button-text{color:var(--fv-btn-color, #131313);text-align:center;line-height:1}.trust-dia-dibox .trust-no-btn:not(.disabled):hover,.trust-dia-dibox .trust-no-btn:not(:disabled):hover{border:var(--fv-hover-btn-border, 1px solid #9197A8)}.trust-dia-dibox .trust-no-btn:not(.disabled):hover .fv__ui-button-text,.trust-dia-dibox .trust-no-btn:not(:disabled):hover .fv__ui-button-text{color:#131313 !important;color:var(--fv-btn-color, #131313) !important}.trust-dia-dibox .trust-no-btn.disabled,.trust-dia-dibox .trust-no-btn:disabled{color:var(--fv-btn-color, #131313);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #BCC1D1);opacity:var(--fv-btn-disabled-opacity, 0.3)}.fv__replies_list{list-style:none;margin:0;padding:2px 0}.fv__replies_list .fv__replies_list{margin-left:5px}.fv__replies_item{line-height:2;border-top:1px dashed #ddd;color:#666}.fv__replies_content{white-space:pre}.fv__label-block-text{display:block;font-weight:bold;margin-bottom:5px;margin-bottom:.2rem}.fv__block-textarea{display:block;width:100%;box-sizing:border-box}.fv__annot-properties-dialog+.backdrop{background:rgba(0,0,0,0)}.fv__annot-properties-dialog::backdrop{background:rgba(0,0,0,0)}.fv__annot-properties-dialog .fv__btn{background-color:#f8f8f8;line-height:1.3;border:1px solid #ddd;border-radius:3px}.fv__annot-properties-dialog .fv__property-item{margin-bottom:5px;padding-bottom:5px;border-bottom:1px dashed #ddd}.fv__annot-properties-dialog .fv__property-item:last-child{border-bottom:none}.fv__annot-properties-dialog .fv__property-item-name-container{display:inline-block;width:100px;text-align:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.fv__annot-properties-dialog .fv__property-item-field-container{display:inline-block;width:200px}.fv__annot-properties-dialog .fv__property-item-field-container select,.fv__annot-properties-dialog .fv__property-item-field-container input{width:100%;border:1px solid #d4d4d4;border-radius:3px}.fv__annot-properties-dialog .fv__property-item-field-container input[type=range]{vertical-align:middle}.fv__annot-properties-dialog .fv__property-item-field-container input[type=number]{text-align:right}.fv__annot-properties-dialog .fv__property-item-field-container input[type=checkbox]{width:auto}.fv__annot-properties-dialog .fv__property-item-field-container select{vertical-align:super}.fv__annot-properties-dialog .fv__property-item-only-field-container{text-align:center}.fv__annot-properties-dialog .fv__btn-close-container{text-align:right}.fv__dialog-replies-block{margin-bottom:5px}.fv__pdf-annot-line-point{position:absolute;cursor:pointer}.fv__pdf-annot-line-point-item{position:absolute;top:-4px;left:-4px;width:8px;height:8px;background-color:#5aa;z-index:3}.fv__pdf-annot-line-caption{position:absolute;top:0px;left:0px;padding:0px 1px;white-space:nowrap;color:rgba(0,0,0,0);z-index:3;cursor:pointer}.fv__freetext-content-edit-textarea{display:none;position:absolute;transform-origin:0 0}.fv__freetext-content-edit-textarea.fv__active{display:block}.fv__mark-selection-blank{position:absolute;padding:0;background-color:rgba(85,153,255,.3)}.fv__mark-selection-blank button{display:none;position:relative;left:calc(100% + 8px);top:calc(100% - 32px);width:24px;height:24px;border-radius:4px;cursor:pointer;border:1px solid var(--Border-Frame_border, #C7CCD9);background:url('+Re+') no-repeat center center;box-shadow:0px 4px 4px 0px #c7d3e4}.fv__page-area-renderer{overflow:hidden;background-color:gray;width:100%;height:100%}.fv__page-area-renderer canvas{background-color:#fff;outline:1px solid #000;position:relative}.fv__tiles-container,.fv__tiles-row,.fv__h-continuous-view-mode-layout{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__loading-animation{display:-webkit-inline-box;display:inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-moz-inline-box;display:inline-flex}.fv__tiles-container{-webkit-box-direction:normal;-webkit-box-orient:vertical;-moz-box-direction:normal;-moz-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.fv__loading-animation,.fv__tiles-row,.fv__h-continuous-view-mode-layout{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__rendering-svg{display:inline-block}.fv__callout-shape-controller-resizable-disabled .fv__shape-controller{visibility:hidden;display:none}.fv__shape-control,.fv__process-innerrect-control,.fv__move-whole-control{display:block;position:absolute;outline:1px solid #5aa;outline-offset:-1px;forced-color-adjust:none;forced-color-adjust:preserve-parent-color;transform-origin:50% 50%;z-index:1}.fv__shape-control.disabled,.fv__process-innerrect-control.disabled,.fv__move-whole-control.disabled{filter:alpha(opacity=100);-moz-opacity:1;-khtml-opacity:1;opacity:1}.fv__shape-control.disabled .fv__shape-controller,.fv__process-innerrect-control.disabled .fv__shape-controller,.fv__move-whole-control.disabled .fv__shape-controller{visibility:hidden;display:none}.fv__shape-control.move-disabled,.fv__shape-control.move-disabled .fv__shape-control-move-area,.fv__shape-control.disabled,.fv__shape-control.disabled .fv__shape-control-move-area,.fv__process-innerrect-control.move-disabled,.fv__process-innerrect-control.move-disabled .fv__shape-control-move-area,.fv__process-innerrect-control.disabled,.fv__process-innerrect-control.disabled .fv__shape-control-move-area,.fv__move-whole-control.move-disabled,.fv__move-whole-control.move-disabled .fv__shape-control-move-area,.fv__move-whole-control.disabled,.fv__move-whole-control.disabled .fv__shape-control-move-area{cursor:not-allowed}.fv__shape-control.callout,.fv__process-innerrect-control.callout,.fv__move-whole-control.callout{left:0;top:0;width:100%;height:100%;outline:none;z-index:31}.fv__shape-control.current-annot:before,.fv__process-innerrect-control.current-annot:before,.fv__move-whole-control.current-annot:before{content:"";width:calc(100% + 2px);height:calc(100% + 2px);position:absolute;top:-1px;left:-1px;border:1px dashed #666}.fv__move-whole-control,.fv__process-innerrect-control{background:rgba(123,178,189,.2)}.fv__shape-control-move-area{display:block;position:absolute;left:0;top:0;right:0;bottom:0;cursor:move;background:rgba(1,0,0,0)}.fv__shape-control-text-area,.fv__shape-control-inner-area{display:block;position:absolute;left:0;top:0;right:0;bottom:0}.fv__shape-control-text-area{z-index:4}.fv__shape-control-inner-area{z-index:3}.fv__shape-control-inner-area .fv__shape-controller{z-index:5}.fv__shape-control-previewer{background:rgba(0,0,0,0);position:absolute;left:0;top:0;filter:alpha(opacity=50);-moz-opacity:.5;-khtml-opacity:.5;opacity:.5}.fv_form-editing .fv__shape-controller{background-color:#1492e6;outline:1px solid #1492e6}.fv_form-editing .fv_form-editing-label.active div{background-color:#1492e6}.fv_form-editing .fv__shape-control,.fv_form-editing .fv__process-innerrect-control,.fv_form-editing .fv__move-whole-control{outline:1px solid #1492e6}.fv__ui-tablet .fv__shape-controller:after,.fv__ui-mobile .fv__shape-controller:after{content:"";height:500%;left:-200%;position:absolute;top:-200%;width:500%}.fv__shape-controller{position:absolute;width:8px;height:8px;background-color:#5aa;pointer-events:initial}.fv__shape-controller.callout{cursor:pointer}.fv__shape-controller[direction=north],.fv__shape-controller.top{left:50%;margin-left:-4px;top:-4px;cursor:n-resize}.fv__shape-controller[direction=south],.fv__shape-controller.bottom{left:50%;margin-left:-4px;bottom:-4px;cursor:s-resize}.fv__shape-controller[direction=west],.fv__shape-controller.left{top:50%;margin-top:-4px;left:-4px;cursor:w-resize}.fv__shape-controller[direction=east],.fv__shape-controller.right{top:50%;margin-top:-4px;right:-4px;cursor:e-resize}.fv__shape-controller[direction=north-west]{left:-4px;top:-4px;cursor:nw-resize}.fv__shape-controller[direction=north-east]{right:-4px;top:-4px;cursor:ne-resize}.fv__shape-controller[direction=south-west]{left:-4px;bottom:-4px;cursor:sw-resize}.fv__shape-controller[direction=south-east]{right:-4px;bottom:-4px;cursor:se-resize}.fv__shape-rotate{height:60%;width:6px;left:50%;top:-10%;position:absolute;transform-origin:0 100%}.fv__shape-rotate>.fv-shape-rotate-handle{position:absolute;width:12px;height:12px;left:-5px;top:-11px;border-radius:50%;border:2px solid #5aa;box-sizing:border-box}.fv__shape-rotate>.fv-shape-rotate-bound{position:absolute;height:100%;width:2px;background-color:#5aa;box-sizing:border-box}.fv__shape-size{position:absolute;right:1px;background:#ccc;padding:4px;font-size:12px;height:18px;overflow:hidden}.fv-shape-rotate-degree{position:absolute;top:0;left:10px;border:1px solid #ccc;background:#ccc;padding:2px}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__shape-controller{outline:4px solid #000;outline-offset:-4px}.fv__tiles-container,.fv__tiles-row,.fv__h-continuous-view-mode-layout{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__loading-animation{display:-webkit-inline-box;display:inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-moz-inline-box;display:inline-flex}.fv__tiles-container{-webkit-box-direction:normal;-webkit-box-orient:vertical;-moz-box-direction:normal;-moz-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.fv__loading-animation,.fv__tiles-row,.fv__h-continuous-view-mode-layout{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__rendering-svg{display:inline-block}.fv__annot-properties-dialog{user-select:none}.fv__half-width{display:inline-block}input[type=range]:disabled{filter:alpha(opacity=50);-moz-opacity:.5;-khtml-opacity:.5;opacity:.5}.fv__tiles-container,.fv__tiles-row,.fv__h-continuous-view-mode-layout{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__loading-animation{display:-webkit-inline-box;display:inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-moz-inline-box;display:inline-flex}.fv__tiles-container{-webkit-box-direction:normal;-webkit-box-orient:vertical;-moz-box-direction:normal;-moz-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.fv__loading-animation,.fv__tiles-row,.fv__h-continuous-view-mode-layout{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__rendering-svg{display:inline-block}.fv__autocomp-ul{position:absolute;z-index:29;list-style-type:none;max-height:400px;overflow-y:auto;border:1px solid #000;margin:0;padding:0;cursor:pointer}.fv__autocomp-ul.fv__autocomp-open{display:block}.fv__autocomp-ul.fv__autocomp-close{display:none}.fv__autocomp-li{color:#000;font-size:20px;padding:4px 10px;background-color:#fff}.fv__autocomp-li.active{background-color:#daf6ff}.datepicker.datepicker td.old.day,.datepicker.datepicker td.new.day{opacity:1}.checkbox.form-field-options{z-index:35}.form-field-option.selected{color:#fff;background-color:#003371 !important}.form-field-option:not(.readonly):hover{background-color:rgba(0,51,113,.2)}.fv__ui-form-foreground:not(.form-field-readonly):hover{border:1px solid}.fv__ui-form-foreground{z-index:1;mix-blend-mode:multiply}.textCombContainer{display:flex}.textCombContainer,.textCombInput{position:absolute;height:100%;width:100%;font-size:0}.textCombContainer input,.textCombInput input{transform-origin:0 0;box-sizing:border-box;position:relative;outline:none}.textComb{display:inline-block;font-size:14px;text-align:center;vertical-align:middle}.fv__push_button{white-space:nowrap}.form-field-required{border-color:red}.fwr__ui-combo-dropdown{position:absolute;right:10px;top:10%;width:0;height:0;border-width:10px 10px 0;border-style:solid;border-color:#333 rgba(0,0,0,0) rgba(0,0,0,0)}.fwr__ui-combo-arrow{position:absolute;width:20px;height:100%;color:#000;background-color:#d0d0d0;font-size:20px}.fwr__ui-combo-arrow span{position:absolute;border-style:solid;border-width:12px 6px 0 6px;border-color:#666 rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);top:50%;left:4px}.datepicker{background:#fff;border:1px solid #000;position:absolute;user-select:none}.datepicker td.old.day,.datepicker td.new.day{filter:alpha(opacity=40);-moz-opacity:.4;-khtml-opacity:.4;opacity:.4}.datepicker td.active{background:rgba(0,255,0,.2)}.datepicker span:not(:first-child){margin-left:10px}.fv__control_focus{outline:dashed 1px #000}.hide-form-field-focus-rectangle .fv__control_focus{outline:none}.fv__pdf-form-control-handler-container input::-ms-clear{display:none}.fv__ui-form-selected-container{position:absolute;border:1px solid #000;display:none;justify-content:center;align-items:center;overflow:hidden}.fv__ui-form-selected-container>div{background:#000;color:#fff;white-space:nowrap;font-size:12px;line-height:normal}.fv__pdf-page-annot-container.fv__pdf-form-control-container.selected{z-index:31}.fv__pdf-page-annot-container.fv__pdf-form-control-container.selected .fv__ui-form-selected-container{display:flex}.fv__pdf-page-annot-container.fv__pdf-form-control-container.editing .fv__ui-form-selected-container>div{background:#5aa}.flatpickr-calendar.hasTime.open{box-shadow:rgba(151,151,151,.85) 0 0 14px 3px}.fv__pdf-form-field-combo-textarea{overflow:hidden;padding:0}.fv__pdf-form-field-combo-textarea.fv__scroll-text:focus{overflow:auto}.flatpickr-day.flatpickr-disabled,.flatpickr-day.flatpickr-disabled:hover,.flatpickr-day.prevMonthDay,.flatpickr-day.nextMonthDay,.flatpickr-day.notAllowed,.flatpickr-day.notAllowed.prevMonthDay,.flatpickr-day.notAllowed.nextMonthDay{color:#393939;opacity:.3}.flatpickr-day{border-width:0;box-sizing:border-box}.flatpickr-day.today{border-width:1px}.fv__ui-high-contrast.fv__ui-browser-firefox .flatpickr-day.selected{border-width:2px;line-height:35px;border-color:highlight;border-color:-webkit-focus-ring-color}@media(forced-colors: active){.fv__ui-high-contrast .flatpickr-day.selected{border-width:2px;line-height:35px;border-color:highlight;border-color:-webkit-focus-ring-color}}.fv__ui-high-contrast.fv__ui-browser-firefox .fwr__ui-combo-arrow span{position:absolute;border:none}.fv__ui-high-contrast.fv__ui-browser-firefox .fwr__ui-combo-arrow span:before{content:"▼"}.fv__select-annot-state-handler .fv__ui-field-show-in-select-annot-handler{display:block !important}.fv__ui-canvas-mirror{position:fixed;left:-100%;top:-100%;z-index:-1}.fv__pdf-page-multi-media-annot-container{width:96%;height:96%;left:2%;top:2%;position:absolute;z-index:11}.fv__pdf-page-multi-media-annot-container .play{width:100%;height:100%;background:url('+Me+") no-repeat center center}.fv__pdf-page-multi-media-annot-container .pause{width:100%;height:100%;background:url("+Fe+") no-repeat center center}.fv__pdf-player{position:absolute}.fv__pdf-player .IE-player{height:50px}.fv__pdf-player .player{position:absolute;left:0;top:0}.fv__pdf-player button{padding:0;margin:0;position:absolute;left:-1px;top:-1px;background:#fff;cursor:pointer;width:18px;height:18px;z-index:1999;border:1px solid #eee}.fv__pdf-player .fv__close-video{position:absolute;left:0;top:0;background:url("+Ne+");cursor:pointer;width:18px;height:18px;z-index:1999}.fv__pdf-player .err-tips{background:#eee;padding:16px 8px;width:200px;position:absolute;top:0}.fv__ui-mobile .fv__pdf-page-multi-media-annot-container .play{background:url("+Le+") no-repeat center center}.fv__ui-mobile .fv__pdf-player button{width:14px;height:14px}.fv__ui-mobile .fv__pdf-player .fv__close-video{width:14px;height:14px;background:url("+Oe+')}.fv__ui-mobile .fv__pdf-page-annot-container:hover{outline:inherit !important}.fv__ui-mobile .fv__pdf-annot-line-point-item:after{content:"";height:500%;left:-200%;position:absolute;top:-200%;width:500%}.fv__ui-tablet .fv__pdf-page-annot-container:hover{outline:inherit !important}.fv__ui-tablet .fv__pdf-annot-line-point-item:after{content:"";height:500%;left:-200%;position:absolute;top:-200%;width:500%}.fv__contextmenu-container{position:absolute;z-index:0;top:0;left:0;right:0;bottom:0}.fv__edid-text-container{position:absolute;left:0;top:0}.fv__edit-text-background{position:absolute;background-color:#fff;outline:1px solid #7dbaff}.fv__edit-text-content{position:absolute;border:none;background:rgba(0,0,0,0);transform-origin:left bottom}.fv__ui-freetext-editor{position:absolute;z-index:3;display:none;resize:none;outline:none;line-height:18.7px;word-break:break-word;overflow:hidden;outline:none;padding:0;margin:0;border:none}.fwr__graphics-object-handler{z-index:50;position:absolute;left:0;top:0}.fv__text-object-edit-char-container{position:absolute;width:0;height:0;top:0;left:0}.fv__text-fill-sign-toolbar,.fv__text-object-edit-char-mask-layer,.fv__text-object-edit-char-form,.fv__text-object-edit-char-input{position:absolute;z-index:50;left:0;bottom:0;transform-origin:left bottom;min-width:8px}.fv__text-object-edit-char-mask-layer{background:#fff;outline:none}.fv__text-object-edit-char-input{-webkit-text-size-adjust:none;-webkit-user-select:text;border:none;line-height:1;padding:0;background-color:#fff;outline:1px dashed #4d90fe;white-space:pre-line;overflow-wrap:break-word;word-break:break-all;overflow:hidden;width:max-content;forced-color-adjust:none;forced-color-adjust:preserve-parent-color}.fv__text_fill-sign-container .fv__text-object-edit-char-input{white-space:nowrap}.fv__text-fill-sign-toolbar{transform:translateY(-30px);height:25px;left:-5px;background-color:var(--fv-primary-bg, #FBFBFD);margin-bottom:10px;padding:0 3px;border:1px solid rgba(151,151,151,.6);border-radius:5px;box-shadow:-4px 4px 4px rgba(151,151,151,.6)}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-base,.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-exp{display:flex;align-items:center}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-exp{display:none}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-icon{cursor:pointer;width:24px;height:24px}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-increase{background-image:var(--fv-icon-fill-increase, url('+je+"));background-repeat:no-repeat;background-position:center}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-decrease{background-image:var(--fv-icon-fill-decrease, url("+Be+"));background-repeat:no-repeat;background-position:center}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-delete{background-image:var(--fv-icon-fill-delete, url("+Ve+"));background-repeat:no-repeat;background-position:center}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-combo-filed{background-image:var(--fv-icon-fill-combo-field, url("+Ue+"));background-repeat:no-repeat;background-position:center}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-more,.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-base-button{background-image:var(--fv-icon-fill-more, url("+He+"));background-repeat:no-repeat;background-position:center}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-tick{background-image:var(--fv-icon-fill-tick, url("+ze+"));background-repeat:no-repeat;background-position:center}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-cross{background-image:var(--fv-icon-fill-cross, url("+We+"));background-repeat:no-repeat;background-position:center}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-dot{background-image:var(--fv-icon-fill-dot, url("+Ge+"));background-repeat:no-repeat;background-position:center}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-line{background-image:var(--fv-icon-fill-line, url("+Ye+"));background-repeat:no-repeat;background-position:center}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-rectangle{background-image:var(--fv-icon-fill-rectangle, url("+$e+'));background-repeat:no-repeat;background-position:center}.fv__pdf-view-mode-item-split{display:none}.fv__viewer-fake-annot-container{position:absolute;z-index:22}.fv__markup-annot-invisible{display:none !important}.fv__typewriter_ui{margin:0;padding:0;font-family:"","","","",FoxitPDFSDKForWeb;line-height:100%}.fv__textbox_ui{position:absolute;word-break:break-word;white-space:pre-wrap;line-height:18px}.fv__ftui-container{position:relative;z-index:2;transform-origin:0}.fv__viewer-render-square-canvas{position:relative;z-index:-1}.fv_viewer-tooltip-container{width:250px;min-height:40px;background-color:var(--fv-popup-bg, #ffffff);box-shadow:0px 0px 10px rgba(151,151,151,.6);position:absolute;border-radius:5px;z-index:999}.fv_viewer-tooltip-container .fv_viewer-tooltip-title,.fv_viewer-tooltip-container .fv_viewer-tooltip-content{width:100%;overflow:hidden;text-overflow:ellipsis}.fv_viewer-tooltip-container .fv_viewer-tooltip-title{font-weight:bold;padding:3px 8px;text-align:left;box-sizing:border-box;line-height:24px}.fv_viewer-tooltip-container .fv_viewer-tooltip-content{padding-left:8px;padding-right:8px;font-size:12px;line-height:2;box-sizing:border-box}.fv__ui-predefined-cursor-img{position:absolute;transform-origin:0 50%;opacity:.5;font-family:Courier;font-size:16px;color:#131313}.tooltip-unactive{display:none}.tooltip-active{display:block}.fv__table-fixed-head{border:1px solid #ddd;border-color:var(--fv-border-color, #ddd);position:relative;overflow:hidden;padding:30px 0 0 0}.fv__table-fixed-head .thead{position:absolute;left:0;top:0;right:0}.fv__table-fixed-head .thead .tr{height:30px;line-height:30px;background:#eee;background-color:var(--fv-secondary-bg, #eee)}.fv__table-fixed-head .thead .tr .td{font-weight:bold;color:#666;color:var(--fv-primary-color, #666)}.fv__table-fixed-head .tbody{width:100%;height:100%;overflow:auto}.fv__table-fixed-head .tbody .tr{height:25px;line-height:25px}.fv__table-fixed-head .thead .tr,.fv__table-fixed-head .tbody .tr{border-bottom:1px solid #ddd;border-color:var(--fv-border-color, #ddd);display:-ms-flex;display:flex;-ms-flex-align:center;align-items:center}.fv__table-fixed-head .thead .tr .td,.fv__table-fixed-head .tbody .tr .td{border-right:1px solid #ddd;border-color:var(--fv-border-color, #ddd);padding:0 0 0 10px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;height:100%}.fv__table-fixed-head .thead .tr .td:last-child,.fv__table-fixed-head .tbody .tr .td:last-child{border-right:none}.fv__table-fixed-head .tbody .tr{cursor:pointer;user-select:none;-webkit-user-select:none}.fv__table-fixed-head .tbody .tr.selected{background:#f9e3fa;background-color:var(--fv-content-bg, #f9e3fa);color:var(--fv-accent-color)}.tooltip-active{display:block}.flatpickr-calendar::before,.flatpickr-calendar::after{forced-color-adjust:none;forced-color-adjust:preserve-parent-color;width:8px;height:8px;transform:rotate(45deg);border:none;background-color:#e6e6e6;display:none;z-index:-1}.flatpickr-calendar.arrowTop::before{display:block;margin-bottom:-3px}.flatpickr-calendar.arrowBottom::after{display:block;margin-top:-4px}.flatpickr-calendar>.flatpickr-months,.flatpickr-calendar>.flatpickr-innerContainer,.flatpickr-calendar>.flatpickr-time{background-color:#fff}.fv__viewer-annot-container-hide{visibility:hidden}.fv__force-hide{display:none !important}.annotRenderers,.highlightAP{position:absolute;z-index:11;transform-origin:0 0}.highlightAP{mix-blend-mode:multiply}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__loading-animation li{background-color:highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__text-boundary-sign{background-color:Highlight;border-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__text-boundary-cursor{border-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__pdf-page-layout{outline:1px solid #fff}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__pdf-doc-container.facing-page-view-mode,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__pdf-doc-container.facing-continuous-page-view-mode{overflow:visible}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__text-object-edit-char-mask-layer{outline:none;forced-color-adjust:none;forced-color-adjust:preserve-parent-color}.fv__ui-high-contrast.fv__ui-browser-firefox .flatpickr-calendar{outline:1px solid #fff}.fv__ui-high-contrast.fv__ui-browser-firefox .flatpickr-calendar::before,.fv__ui-high-contrast.fv__ui-browser-firefox .flatpickr-calendar::after{background-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .flatpickr-current-month .numInputWrapper span{font-family:"Segoe UI Symbol",arial,sans-serif;font-size:16px;line-height:12.5px;overflow:hidden;padding:0}.fv__ui-high-contrast.fv__ui-browser-firefox .flatpickr-current-month .numInputWrapper span:after{position:relative;top:0;display:block;text-align:center}.fv__ui-high-contrast.fv__ui-browser-firefox .flatpickr-current-month .numInputWrapper span.arrowUp:after{border:none;content:"▴"}.fv__ui-high-contrast.fv__ui-browser-firefox .flatpickr-current-month .numInputWrapper span.arrowDown:after{border:none;content:"▾"}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__table-fixed-head .tbody .tr.selected{background:#f9e3fa;background-color:highlight;color:highlighttext;forced-color-adjust:none;forced-color-adjust:preserve-parent-color}@media(forced-colors: active){.fv__ui-high-contrast .fv__loading-animation li{background-color:highlight}.fv__ui-high-contrast .fv__text-boundary-sign{background-color:Highlight;border-color:Highlight}.fv__ui-high-contrast .fv__text-boundary-cursor{border-color:Highlight}.fv__ui-high-contrast .fv__pdf-page-layout{outline:1px solid #fff}.fv__ui-high-contrast .fv__pdf-doc-container.facing-page-view-mode,.fv__ui-high-contrast .fv__pdf-doc-container.facing-continuous-page-view-mode{overflow:visible}.fv__ui-high-contrast .fv__text-object-edit-char-mask-layer{outline:none;forced-color-adjust:none;forced-color-adjust:preserve-parent-color}.fv__ui-high-contrast .flatpickr-calendar{outline:1px solid #fff}.fv__ui-high-contrast .flatpickr-calendar::before,.fv__ui-high-contrast .flatpickr-calendar::after{background-color:Highlight}.fv__ui-high-contrast .flatpickr-current-month .numInputWrapper span{font-family:"Segoe UI Symbol",arial,sans-serif;font-size:16px;line-height:12.5px;overflow:hidden;padding:0}.fv__ui-high-contrast .flatpickr-current-month .numInputWrapper span:after{position:relative;top:0;display:block;text-align:center}.fv__ui-high-contrast .flatpickr-current-month .numInputWrapper span.arrowUp:after{border:none;content:"▴"}.fv__ui-high-contrast .flatpickr-current-month .numInputWrapper span.arrowDown:after{border:none;content:"▾"}.fv__ui-high-contrast .fv__table-fixed-head .tbody .tr.selected{background:#f9e3fa;background-color:highlight;color:highlighttext;forced-color-adjust:none;forced-color-adjust:preserve-parent-color}}.fv__ui-high-contrast.fv__ui-browser-firefox .flatpickr-calendar::before,.fv__ui-high-contrast.fv__ui-browser-firefox .flatpickr-calendar::after{-moz-filter:contrast(0.1);filter:contrast(0.5)}@media(inverted-colors: inverted){.fv__ui-browser-safari img{filter:none}}',""]),e.exports=t},5044:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".d_f{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.d-if{display:-webkit-inline-box;display:inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-moz-inline-box;display:inline-flex}.d-ib{display:inline-block}.fd_c{-ms-flex-direction:column;flex-direction:column}.fw_w{-ms-flex-wrap:wrap;flex-wrap:wrap}.jc_fs{-ms-flex-pack:start;justify-content:flex-start}.jc_c{-ms-flex-pack:center;justify-content:center}.jc_fe{-ms-flex-pack:end;justify-content:flex-end}.jc_sb{-ms-flex-pack:justify;justify-content:space-between}.jc_sa{-ms-flex-pack:distribute;justify-content:space-around}.ai_fs{-ms-flex-align:start;align-items:flex-start}.ai_c{-ms-flex-align:center;align-items:center}.ai_fe{-ms-flex-align:end;align-items:flex-end}.fg_0{-ms-flex-positive:0;flex-grow:0}.fg_1{-ms-flex-positive:1;flex-grow:1}.fg_2{-ms-flex-positive:2;flex-grow:2}.fg_3{-ms-flex-positive:3;flex-grow:3}.fg_4{-ms-flex-positive:4;flex-grow:4}.fg_5{-ms-flex-positive:5;flex-grow:5}.fs_0{-ms-flex-negative:0;flex-shrink:0}.fs_1{-ms-flex-negative:1;flex-shrink:1}.fs_2{-ms-flex-negative:2;flex-shrink:2}.fs_3{-ms-flex-negative:3;flex-shrink:3}.fs_4{-ms-flex-negative:4;flex-shrink:4}.fs_5{-ms-flex-negative:5;flex-shrink:5}.fb_0{-ms-flex-preferred-size:0;flex-basis:0}.fb_10z{-ms-flex-preferred-size:10%;flex-basis:10%}.fb_20z{-ms-flex-preferred-size:20%;flex-basis:20%}.fb_30z{-ms-flex-preferred-size:30%;flex-basis:30%}.fb_40z{-ms-flex-preferred-size:40%;flex-basis:40%}.fb_50z{-ms-flex-preferred-size:50%;flex-basis:50%}.fb_60z{-ms-flex-preferred-size:60%;flex-basis:60%}.fb_70z{-ms-flex-preferred-size:70%;flex-basis:70%}.fb_80z{-ms-flex-preferred-size:80%;flex-basis:80%}.fb_90z{-ms-flex-preferred-size:90%;flex-basis:90%}.fb_100z{-ms-flex-preferred-size:100%;flex-basis:100%}.fb_25z{-ms-flex-preferred-size:25%;flex-basis:25%}.fb_33z{-ms-flex-preferred-size:33.3%;flex-basis:33.3%}.f_0{-ms-flex:0 0 0px;flex:0 0 0px}.f_1{-ms-flex:1 0 0px;flex:1 0 0px}.f_2{-ms-flex:2 0 0px;flex:2 0 0px}.f_3{-ms-flex:3 0 0px;flex:3 0 0px}.f_4{-ms-flex:4 0 0px;flex:4 0 0px}.f_5{-ms-flex:5 0 0px;flex:5 0 0px}.f_6{-ms-flex:6 0 0px;flex:6 0 0px}.f_7{-ms-flex:7 0 0px;flex:7 0 0px}.f_8{-ms-flex:8 0 0px;flex:8 0 0px}.f_9{-ms-flex:9 0 0px;flex:9 0 0px}.m_a{margin:auto}.mt_0{margin-top:0px}.mr_0{margin-right:0px}.mb_0{margin-bottom:0px}.ml_0{margin-left:0px}.mtmb_0{margin-top:0px;margin-bottom:0px}.mlmr_0{margin-left:0px;margin-right:0px}.mt_1{margin-top:1px}.mr_1{margin-right:1px}.mb_1{margin-bottom:1px}.ml_1{margin-left:1px}.mtmb_1{margin-top:1px;margin-bottom:1px}.mlmr_1{margin-left:1px;margin-right:1px}.mt_2{margin-top:2px}.mr_2{margin-right:2px}.mb_2{margin-bottom:2px}.ml_2{margin-left:2px}.mtmb_2{margin-top:2px;margin-bottom:2px}.mlmr_2{margin-left:2px;margin-right:2px}.mt_3{margin-top:3px}.mr_3{margin-right:3px}.mb_3{margin-bottom:3px}.ml_3{margin-left:3px}.mtmb_3{margin-top:3px;margin-bottom:3px}.mlmr_3{margin-left:3px;margin-right:3px}.mt_4{margin-top:4px}.mr_4{margin-right:4px}.mb_4{margin-bottom:4px}.ml_4{margin-left:4px}.mtmb_4{margin-top:4px;margin-bottom:4px}.mlmr_4{margin-left:4px;margin-right:4px}.mt_5{margin-top:5px}.mr_5{margin-right:5px}.mb_5{margin-bottom:5px}.ml_5{margin-left:5px}.mtmb_5{margin-top:5px;margin-bottom:5px}.mlmr_5{margin-left:5px;margin-right:5px}.mt_6{margin-top:6px}.mr_6{margin-right:6px}.mb_6{margin-bottom:6px}.ml_6{margin-left:6px}.mtmb_6{margin-top:6px;margin-bottom:6px}.mlmr_6{margin-left:6px;margin-right:6px}.mt_7{margin-top:7px}.mr_7{margin-right:7px}.mb_7{margin-bottom:7px}.ml_7{margin-left:7px}.mtmb_7{margin-top:7px;margin-bottom:7px}.mlmr_7{margin-left:7px;margin-right:7px}.mt_8{margin-top:8px}.mr_8{margin-right:8px}.mb_8{margin-bottom:8px}.ml_8{margin-left:8px}.mtmb_8{margin-top:8px;margin-bottom:8px}.mlmr_8{margin-left:8px;margin-right:8px}.mt_9{margin-top:9px}.mr_9{margin-right:9px}.mb_9{margin-bottom:9px}.ml_9{margin-left:9px}.mtmb_9{margin-top:9px;margin-bottom:9px}.mlmr_9{margin-left:9px;margin-right:9px}.mt_10{margin-top:10px}.mr_10{margin-right:10px}.mb_10{margin-bottom:10px}.ml_10{margin-left:10px}.mtmb_10{margin-top:10px;margin-bottom:10px}.mlmr_10{margin-left:10px;margin-right:10px}.mt_11{margin-top:11px}.mr_11{margin-right:11px}.mb_11{margin-bottom:11px}.ml_11{margin-left:11px}.mtmb_11{margin-top:11px;margin-bottom:11px}.mlmr_11{margin-left:11px;margin-right:11px}.mt_12{margin-top:12px}.mr_12{margin-right:12px}.mb_12{margin-bottom:12px}.ml_12{margin-left:12px}.mtmb_12{margin-top:12px;margin-bottom:12px}.mlmr_12{margin-left:12px;margin-right:12px}.mt_13{margin-top:13px}.mr_13{margin-right:13px}.mb_13{margin-bottom:13px}.ml_13{margin-left:13px}.mtmb_13{margin-top:13px;margin-bottom:13px}.mlmr_13{margin-left:13px;margin-right:13px}.mt_14{margin-top:14px}.mr_14{margin-right:14px}.mb_14{margin-bottom:14px}.ml_14{margin-left:14px}.mtmb_14{margin-top:14px;margin-bottom:14px}.mlmr_14{margin-left:14px;margin-right:14px}.mt_15{margin-top:15px}.mr_15{margin-right:15px}.mb_15{margin-bottom:15px}.ml_15{margin-left:15px}.mtmb_15{margin-top:15px;margin-bottom:15px}.mlmr_15{margin-left:15px;margin-right:15px}.mt_16{margin-top:16px}.mr_16{margin-right:16px}.mb_16{margin-bottom:16px}.ml_16{margin-left:16px}.mtmb_16{margin-top:16px;margin-bottom:16px}.mlmr_16{margin-left:16px;margin-right:16px}.mt_17{margin-top:17px}.mr_17{margin-right:17px}.mb_17{margin-bottom:17px}.ml_17{margin-left:17px}.mtmb_17{margin-top:17px;margin-bottom:17px}.mlmr_17{margin-left:17px;margin-right:17px}.mt_18{margin-top:18px}.mr_18{margin-right:18px}.mb_18{margin-bottom:18px}.ml_18{margin-left:18px}.mtmb_18{margin-top:18px;margin-bottom:18px}.mlmr_18{margin-left:18px;margin-right:18px}.mt_19{margin-top:19px}.mr_19{margin-right:19px}.mb_19{margin-bottom:19px}.ml_19{margin-left:19px}.mtmb_19{margin-top:19px;margin-bottom:19px}.mlmr_19{margin-left:19px;margin-right:19px}.mt_20{margin-top:20px}.mr_20{margin-right:20px}.mb_20{margin-bottom:20px}.ml_20{margin-left:20px}.mtmb_20{margin-top:20px;margin-bottom:20px}.mlmr_20{margin-left:20px;margin-right:20px}.mt_21{margin-top:21px}.mr_21{margin-right:21px}.mb_21{margin-bottom:21px}.ml_21{margin-left:21px}.mtmb_21{margin-top:21px;margin-bottom:21px}.mlmr_21{margin-left:21px;margin-right:21px}.mt_22{margin-top:22px}.mr_22{margin-right:22px}.mb_22{margin-bottom:22px}.ml_22{margin-left:22px}.mtmb_22{margin-top:22px;margin-bottom:22px}.mlmr_22{margin-left:22px;margin-right:22px}.mt_23{margin-top:23px}.mr_23{margin-right:23px}.mb_23{margin-bottom:23px}.ml_23{margin-left:23px}.mtmb_23{margin-top:23px;margin-bottom:23px}.mlmr_23{margin-left:23px;margin-right:23px}.mt_24{margin-top:24px}.mr_24{margin-right:24px}.mb_24{margin-bottom:24px}.ml_24{margin-left:24px}.mtmb_24{margin-top:24px;margin-bottom:24px}.mlmr_24{margin-left:24px;margin-right:24px}.mt_25{margin-top:25px}.mr_25{margin-right:25px}.mb_25{margin-bottom:25px}.ml_25{margin-left:25px}.mtmb_25{margin-top:25px;margin-bottom:25px}.mlmr_25{margin-left:25px;margin-right:25px}.mt_26{margin-top:26px}.mr_26{margin-right:26px}.mb_26{margin-bottom:26px}.ml_26{margin-left:26px}.mtmb_26{margin-top:26px;margin-bottom:26px}.mlmr_26{margin-left:26px;margin-right:26px}.mt_27{margin-top:27px}.mr_27{margin-right:27px}.mb_27{margin-bottom:27px}.ml_27{margin-left:27px}.mtmb_27{margin-top:27px;margin-bottom:27px}.mlmr_27{margin-left:27px;margin-right:27px}.mt_28{margin-top:28px}.mr_28{margin-right:28px}.mb_28{margin-bottom:28px}.ml_28{margin-left:28px}.mtmb_28{margin-top:28px;margin-bottom:28px}.mlmr_28{margin-left:28px;margin-right:28px}.mt_29{margin-top:29px}.mr_29{margin-right:29px}.mb_29{margin-bottom:29px}.ml_29{margin-left:29px}.mtmb_29{margin-top:29px;margin-bottom:29px}.mlmr_29{margin-left:29px;margin-right:29px}.mt_30{margin-top:30px}.mr_30{margin-right:30px}.mb_30{margin-bottom:30px}.ml_30{margin-left:30px}.mtmb_30{margin-top:30px;margin-bottom:30px}.mlmr_30{margin-left:30px;margin-right:30px}.mt_35{margin-top:35px}.mr_35{margin-right:35px}.mb_35{margin-bottom:35px}.ml_35{margin-left:35px}.mtmb_35{margin-top:35px;margin-bottom:35px}.mlmr_35{margin-left:35px;margin-right:35px}.mt_40{margin-top:40px}.mr_40{margin-right:40px}.mb_40{margin-bottom:40px}.ml_40{margin-left:40px}.mtmb_40{margin-top:40px;margin-bottom:40px}.mlmr_40{margin-left:40px;margin-right:40px}.mt_45{margin-top:45px}.mr_45{margin-right:45px}.mb_45{margin-bottom:45px}.ml_45{margin-left:45px}.mtmb_45{margin-top:45px;margin-bottom:45px}.mlmr_45{margin-left:45px;margin-right:45px}.mt_50{margin-top:50px}.mr_50{margin-right:50px}.mb_50{margin-bottom:50px}.ml_50{margin-left:50px}.mtmb_50{margin-top:50px;margin-bottom:50px}.mlmr_50{margin-left:50px;margin-right:50px}.mt_55{margin-top:55px}.mr_55{margin-right:55px}.mb_55{margin-bottom:55px}.ml_55{margin-left:55px}.mtmb_55{margin-top:55px;margin-bottom:55px}.mlmr_55{margin-left:55px;margin-right:55px}.mt_60{margin-top:60px}.mr_60{margin-right:60px}.mb_60{margin-bottom:60px}.ml_60{margin-left:60px}.mtmb_60{margin-top:60px;margin-bottom:60px}.mlmr_60{margin-left:60px;margin-right:60px}.pt_0{padding-top:0px}.pr_0{padding-right:0px}.pb_0{padding-bottom:0px}.pl_0{padding-left:0px}.ptpb_0{padding-top:0px;padding-bottom:0px}.plpr_0{padding-left:0px;padding-right:0px}.pt_1{padding-top:1px}.pr_1{padding-right:1px}.pb_1{padding-bottom:1px}.pl_1{padding-left:1px}.ptpb_1{padding-top:1px;padding-bottom:1px}.plpr_1{padding-left:1px;padding-right:1px}.pt_2{padding-top:2px}.pr_2{padding-right:2px}.pb_2{padding-bottom:2px}.pl_2{padding-left:2px}.ptpb_2{padding-top:2px;padding-bottom:2px}.plpr_2{padding-left:2px;padding-right:2px}.pt_3{padding-top:3px}.pr_3{padding-right:3px}.pb_3{padding-bottom:3px}.pl_3{padding-left:3px}.ptpb_3{padding-top:3px;padding-bottom:3px}.plpr_3{padding-left:3px;padding-right:3px}.pt_4{padding-top:4px}.pr_4{padding-right:4px}.pb_4{padding-bottom:4px}.pl_4{padding-left:4px}.ptpb_4{padding-top:4px;padding-bottom:4px}.plpr_4{padding-left:4px;padding-right:4px}.pt_5{padding-top:5px}.pr_5{padding-right:5px}.pb_5{padding-bottom:5px}.pl_5{padding-left:5px}.ptpb_5{padding-top:5px;padding-bottom:5px}.plpr_5{padding-left:5px;padding-right:5px}.pt_6{padding-top:6px}.pr_6{padding-right:6px}.pb_6{padding-bottom:6px}.pl_6{padding-left:6px}.ptpb_6{padding-top:6px;padding-bottom:6px}.plpr_6{padding-left:6px;padding-right:6px}.pt_7{padding-top:7px}.pr_7{padding-right:7px}.pb_7{padding-bottom:7px}.pl_7{padding-left:7px}.ptpb_7{padding-top:7px;padding-bottom:7px}.plpr_7{padding-left:7px;padding-right:7px}.pt_8{padding-top:8px}.pr_8{padding-right:8px}.pb_8{padding-bottom:8px}.pl_8{padding-left:8px}.ptpb_8{padding-top:8px;padding-bottom:8px}.plpr_8{padding-left:8px;padding-right:8px}.pt_9{padding-top:9px}.pr_9{padding-right:9px}.pb_9{padding-bottom:9px}.pl_9{padding-left:9px}.ptpb_9{padding-top:9px;padding-bottom:9px}.plpr_9{padding-left:9px;padding-right:9px}.pt_10{padding-top:10px}.pr_10{padding-right:10px}.pb_10{padding-bottom:10px}.pl_10{padding-left:10px}.ptpb_10{padding-top:10px;padding-bottom:10px}.plpr_10{padding-left:10px;padding-right:10px}.pt_11{padding-top:11px}.pr_11{padding-right:11px}.pb_11{padding-bottom:11px}.pl_11{padding-left:11px}.ptpb_11{padding-top:11px;padding-bottom:11px}.plpr_11{padding-left:11px;padding-right:11px}.pt_12{padding-top:12px}.pr_12{padding-right:12px}.pb_12{padding-bottom:12px}.pl_12{padding-left:12px}.ptpb_12{padding-top:12px;padding-bottom:12px}.plpr_12{padding-left:12px;padding-right:12px}.pt_13{padding-top:13px}.pr_13{padding-right:13px}.pb_13{padding-bottom:13px}.pl_13{padding-left:13px}.ptpb_13{padding-top:13px;padding-bottom:13px}.plpr_13{padding-left:13px;padding-right:13px}.pt_14{padding-top:14px}.pr_14{padding-right:14px}.pb_14{padding-bottom:14px}.pl_14{padding-left:14px}.ptpb_14{padding-top:14px;padding-bottom:14px}.plpr_14{padding-left:14px;padding-right:14px}.pt_15{padding-top:15px}.pr_15{padding-right:15px}.pb_15{padding-bottom:15px}.pl_15{padding-left:15px}.ptpb_15{padding-top:15px;padding-bottom:15px}.plpr_15{padding-left:15px;padding-right:15px}.pt_16{padding-top:16px}.pr_16{padding-right:16px}.pb_16{padding-bottom:16px}.pl_16{padding-left:16px}.ptpb_16{padding-top:16px;padding-bottom:16px}.plpr_16{padding-left:16px;padding-right:16px}.pt_17{padding-top:17px}.pr_17{padding-right:17px}.pb_17{padding-bottom:17px}.pl_17{padding-left:17px}.ptpb_17{padding-top:17px;padding-bottom:17px}.plpr_17{padding-left:17px;padding-right:17px}.pt_18{padding-top:18px}.pr_18{padding-right:18px}.pb_18{padding-bottom:18px}.pl_18{padding-left:18px}.ptpb_18{padding-top:18px;padding-bottom:18px}.plpr_18{padding-left:18px;padding-right:18px}.pt_19{padding-top:19px}.pr_19{padding-right:19px}.pb_19{padding-bottom:19px}.pl_19{padding-left:19px}.ptpb_19{padding-top:19px;padding-bottom:19px}.plpr_19{padding-left:19px;padding-right:19px}.pt_20{padding-top:20px}.pr_20{padding-right:20px}.pb_20{padding-bottom:20px}.pl_20{padding-left:20px}.ptpb_20{padding-top:20px;padding-bottom:20px}.plpr_20{padding-left:20px;padding-right:20px}.pt_21{padding-top:21px}.pr_21{padding-right:21px}.pb_21{padding-bottom:21px}.pl_21{padding-left:21px}.ptpb_21{padding-top:21px;padding-bottom:21px}.plpr_21{padding-left:21px;padding-right:21px}.pt_22{padding-top:22px}.pr_22{padding-right:22px}.pb_22{padding-bottom:22px}.pl_22{padding-left:22px}.ptpb_22{padding-top:22px;padding-bottom:22px}.plpr_22{padding-left:22px;padding-right:22px}.pt_23{padding-top:23px}.pr_23{padding-right:23px}.pb_23{padding-bottom:23px}.pl_23{padding-left:23px}.ptpb_23{padding-top:23px;padding-bottom:23px}.plpr_23{padding-left:23px;padding-right:23px}.pt_24{padding-top:24px}.pr_24{padding-right:24px}.pb_24{padding-bottom:24px}.pl_24{padding-left:24px}.ptpb_24{padding-top:24px;padding-bottom:24px}.plpr_24{padding-left:24px;padding-right:24px}.pt_25{padding-top:25px}.pr_25{padding-right:25px}.pb_25{padding-bottom:25px}.pl_25{padding-left:25px}.ptpb_25{padding-top:25px;padding-bottom:25px}.plpr_25{padding-left:25px;padding-right:25px}.pt_26{padding-top:26px}.pr_26{padding-right:26px}.pb_26{padding-bottom:26px}.pl_26{padding-left:26px}.ptpb_26{padding-top:26px;padding-bottom:26px}.plpr_26{padding-left:26px;padding-right:26px}.pt_27{padding-top:27px}.pr_27{padding-right:27px}.pb_27{padding-bottom:27px}.pl_27{padding-left:27px}.ptpb_27{padding-top:27px;padding-bottom:27px}.plpr_27{padding-left:27px;padding-right:27px}.pt_28{padding-top:28px}.pr_28{padding-right:28px}.pb_28{padding-bottom:28px}.pl_28{padding-left:28px}.ptpb_28{padding-top:28px;padding-bottom:28px}.plpr_28{padding-left:28px;padding-right:28px}.pt_29{padding-top:29px}.pr_29{padding-right:29px}.pb_29{padding-bottom:29px}.pl_29{padding-left:29px}.ptpb_29{padding-top:29px;padding-bottom:29px}.plpr_29{padding-left:29px;padding-right:29px}.pt_30{padding-top:30px}.pr_30{padding-right:30px}.pb_30{padding-bottom:30px}.pl_30{padding-left:30px}.ptpb_30{padding-top:30px;padding-bottom:30px}.plpr_30{padding-left:30px;padding-right:30px}.pt_35{padding-top:35px}.pr_35{padding-right:35px}.pb_35{padding-bottom:35px}.pl_35{padding-left:35px}.ptpb_35{padding-top:35px;padding-bottom:35px}.plpr_35{padding-left:35px;padding-right:35px}.pt_40{padding-top:40px}.pr_40{padding-right:40px}.pb_40{padding-bottom:40px}.pl_40{padding-left:40px}.ptpb_40{padding-top:40px;padding-bottom:40px}.plpr_40{padding-left:40px;padding-right:40px}.pt_45{padding-top:45px}.pr_45{padding-right:45px}.pb_45{padding-bottom:45px}.pl_45{padding-left:45px}.ptpb_45{padding-top:45px;padding-bottom:45px}.plpr_45{padding-left:45px;padding-right:45px}.pt_50{padding-top:50px}.pr_50{padding-right:50px}.pb_50{padding-bottom:50px}.pl_50{padding-left:50px}.ptpb_50{padding-top:50px;padding-bottom:50px}.plpr_50{padding-left:50px;padding-right:50px}.pt_55{padding-top:55px}.pr_55{padding-right:55px}.pb_55{padding-bottom:55px}.pl_55{padding-left:55px}.ptpb_55{padding-top:55px;padding-bottom:55px}.plpr_55{padding-left:55px;padding-right:55px}.pt_60{padding-top:60px}.pr_60{padding-right:60px}.pb_60{padding-bottom:60px}.pl_60{padding-left:60px}.ptpb_60{padding-top:60px;padding-bottom:60px}.plpr_60{padding-left:60px;padding-right:60px}.b_n{border:none}.b_1s{border:1px solid}.bt_1s{border-top:1px solid}.br_1s{border-right:1px solid}.bb_1s{border-bottom:1px solid}.bl_1s{border-left:1px solid}.b_2s{border:2px solid}.bt_2s{border-top:2px solid}.br_2s{border-right:2px solid}.bb_2s{border-bottom:2px solid}.bl_2s{border-left:2px solid}.b_3s{border:3px solid}.bt_3s{border-top:3px solid}.br_3s{border-right:3px solid}.bb_3s{border-bottom:3px solid}.bl_3s{border-left:3px solid}.b_1d{border:1px dashed}.bt_1d{border-top:1px dashed}.br_1d{border-right:1px dashed}.bb_1d{border-bottom:1px dashed}.bl_1d{border-left:1px dashed}.b_2d{border:2px dashed}.bt_2d{border-top:2px dashed}.br_2d{border-right:2px dashed}.bb_2d{border-bottom:2px dashed}.bl_2d{border-left:2px dashed}.b_3d{border:3px dashed}.bt_3d{border-top:3px dashed}.br_3d{border-right:3px dashed}.bb_3d{border-bottom:3px dashed}.bl_3d{border-left:3px dashed}.br_50z{border-radius:50%}.br_100z{border-radius:100%}.br_999{border-radius:999px}.br_0{border-radius:0px}.br_1{border-radius:1px}.br_2{border-radius:2px}.br_3{border-radius:3px}.br_4{border-radius:4px}.br_5{border-radius:5px}.br_6{border-radius:6px}.br_7{border-radius:7px}.br_8{border-radius:8px}.br_9{border-radius:9px}.br_10{border-radius:10px}.br_11{border-radius:11px}.br_12{border-radius:12px}.br_13{border-radius:13px}.br_14{border-radius:14px}.br_15{border-radius:15px}.br_16{border-radius:16px}.br_17{border-radius:17px}.br_18{border-radius:18px}.br_19{border-radius:19px}.br_20{border-radius:20px}.br_25{border-radius:25px}.br_30{border-radius:30px}.br_35{border-radius:35px}.br_40{border-radius:40px}.br_45{border-radius:45px}.br_50{border-radius:50px}.br_55{border-radius:55px}.br_60{border-radius:60px}.bc_t{border-color:rgba(0,0,0,0)}.bc_000{border-color:#000}.bc_111{border-color:#111}.bc_222{border-color:#222}.bc_333{border-color:#333}.bc_444{border-color:#444}.bc_555{border-color:#555}.bc_666{border-color:#666}.bc_777{border-color:#777}.bc_888{border-color:#888}.bc_999{border-color:#999}.bc_aaa{border-color:#aaa}.bc_bbb{border-color:#bbb}.bc_ccc{border-color:#ccc}.bc_ddd{border-color:#ddd}.bc_eee{border-color:#eee}.bc_fff{border-color:#fff}.bc_primary{border-color:#e2a1e6}.bc_red{border-color:#fb7878}.bc_green{border-color:#4ddc8a}.bc_blue{border-color:#4cb3ff}.bc_search{border-color:#454545}.c_t{color:rgba(0,0,0,0)}.c_000{color:#000}.c_111{color:#111}.c_222{color:#222}.c_333{color:#333}.c_444{color:#444}.c_555{color:#555}.c_666{color:#666}.c_777{color:#777}.c_888{color:#888}.c_999{color:#999}.c_aaa{color:#aaa}.c_bbb{color:#bbb}.c_ccc{color:#ccc}.c_ddd{color:#ddd}.c_eee{color:#eee}.c_fff{color:#fff}.c_primary{color:#e2a1e6}.c_red{color:#fb7878}.c_green{color:#4ddc8a}.c_blue{color:#4cb3ff}.c_error{color:#e12b2b}.b_t{background:rgba(0,0,0,0)}.b_000{background:#000}.b_111{background:#111}.b_222{background:#222}.b_333{background:#333}.b_444{background:#444}.b_555{background:#555}.b_666{background:#666}.b_777{background:#777}.b_888{background:#888}.b_999{background:#999}.b_aaa{background:#aaa}.b_bbb{background:#bbb}.b_ccc{background:#ccc}.b_ddd{background:#ddd}.b_eee{background:#eee}.b_fff{background:#fff}.b_primary{background:#e2a1e6}.b_red{background:#fb7878}.b_green{background:#4ddc8a}.b_blue{background:#4cb3ff}.b_body{background:#f4f4f4}.fs_8{font-size:8px}.fs_9{font-size:9px}.fs_10{font-size:10px}.fs_11{font-size:11px}.fs_12{font-size:12px}.fs_13{font-size:13px}.fs_14{font-size:14px}.fs_15{font-size:15px}.fs_16{font-size:16px}.fs_17{font-size:17px}.fs_18{font-size:18px}.fs_19{font-size:19px}.fs_20{font-size:20px}.fs_21{font-size:21px}.fs_22{font-size:22px}.fs_23{font-size:23px}.fs_24{font-size:24px}.fs_25{font-size:25px}.fs_26{font-size:26px}.fs_27{font-size:27px}.fs_28{font-size:28px}.fs_29{font-size:29px}.fs_30{font-size:30px}.fw_n{font-weight:normal}.fw_b{font-weight:bold}.fw_l{font-weight:lighter}.fw_100{font-weight:100}.fw_200{font-weight:200}.fw_300{font-weight:300}.fw_400{font-weight:400}.fw_500{font-weight:500}.fw_600{font-weight:600}.fw_700{font-weight:700}.fw_800{font-weight:800}.fw_900{font-weight:900}.fs_n{font-style:normal}.fs_i{font-style:italic}.w_a{width:auto}.w_fc{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.w_minc{width:-webkit-min-content;width:-moz-min-content;width:min-content}.w_maxc{width:-webkit-max-content;width:-moz-max-content;width:max-content}.w_5z{width:5%}.w_5vw{width:5vw}.w_10z{width:10%}.w_10vw{width:10vw}.w_15z{width:15%}.w_15vw{width:15vw}.w_20z{width:20%}.w_20vw{width:20vw}.w_25z{width:25%}.w_25vw{width:25vw}.w_30z{width:30%}.w_30vw{width:30vw}.w_35z{width:35%}.w_35vw{width:35vw}.w_40z{width:40%}.w_40vw{width:40vw}.w_45z{width:45%}.w_45vw{width:45vw}.w_50z{width:50%}.w_50vw{width:50vw}.w_55z{width:55%}.w_55vw{width:55vw}.w_60z{width:60%}.w_60vw{width:60vw}.w_65z{width:65%}.w_65vw{width:65vw}.w_70z{width:70%}.w_70vw{width:70vw}.w_75z{width:75%}.w_75vw{width:75vw}.w_80z{width:80%}.w_80vw{width:80vw}.w_85z{width:85%}.w_85vw{width:85vw}.w_90z{width:90%}.w_90vw{width:90vw}.w_95z{width:95%}.w_95vw{width:95vw}.w_100z{width:100%}.w_100vw{width:100vw}.w_0{width:0px}.w_1{width:1px}.w_2{width:2px}.w_3{width:3px}.w_4{width:4px}.w_5{width:5px}.w_6{width:6px}.w_7{width:7px}.w_8{width:8px}.w_9{width:9px}.w_10{width:10px}.w_11{width:11px}.w_12{width:12px}.w_13{width:13px}.w_14{width:14px}.w_15{width:15px}.w_16{width:16px}.w_17{width:17px}.w_18{width:18px}.w_19{width:19px}.w_20{width:20px}.w_21{width:21px}.w_22{width:22px}.w_23{width:23px}.w_24{width:24px}.w_25{width:25px}.w_26{width:26px}.w_27{width:27px}.w_28{width:28px}.w_29{width:29px}.w_30{width:30px}.w_35{width:35px}.w_40{width:40px}.w_45{width:45px}.w_50{width:50px}.w_55{width:55px}.w_60{width:60px}.w_65{width:65px}.w_70{width:70px}.w_75{width:75px}.w_80{width:80px}.w_85{width:85px}.w_90{width:90px}.w_95{width:95px}.w_100{width:100px}.w_110{width:110px}.w_120{width:120px}.w_130{width:130px}.w_140{width:140px}.w_150{width:150px}.w_160{width:160px}.w_170{width:170px}.w_180{width:180px}.w_190{width:190px}.w_200{width:200px}.w_210{width:210px}.w_220{width:220px}.w_230{width:230px}.w_240{width:240px}.w_250{width:250px}.w_260{width:260px}.w_270{width:270px}.w_280{width:280px}.w_290{width:290px}.w_300{width:300px}.h_a{height:auto}.h_fc{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}.h_minc{height:-webkit-min-content;height:-moz-min-content;height:min-content}.h_maxc{height:-webkit-max-content;height:-moz-max-content;height:max-content}.h_5z{height:5%}.h_5vh{height:5vh}.h_10z{height:10%}.h_10vh{height:10vh}.h_15z{height:15%}.h_15vh{height:15vh}.h_20z{height:20%}.h_20vh{height:20vh}.h_25z{height:25%}.h_25vh{height:25vh}.h_30z{height:30%}.h_30vh{height:30vh}.h_35z{height:35%}.h_35vh{height:35vh}.h_40z{height:40%}.h_40vh{height:40vh}.h_45z{height:45%}.h_45vh{height:45vh}.h_50z{height:50%}.h_50vh{height:50vh}.h_55z{height:55%}.h_55vh{height:55vh}.h_60z{height:60%}.h_60vh{height:60vh}.h_65z{height:65%}.h_65vh{height:65vh}.h_70z{height:70%}.h_70vh{height:70vh}.h_75z{height:75%}.h_75vh{height:75vh}.h_80z{height:80%}.h_80vh{height:80vh}.h_85z{height:85%}.h_85vh{height:85vh}.h_90z{height:90%}.h_90vh{height:90vh}.h_95z{height:95%}.h_95vh{height:95vh}.h_100z{height:100%}.h_100vh{height:100vh}.h_0{height:0px}.h_1{height:1px}.h_2{height:2px}.h_3{height:3px}.h_4{height:4px}.h_5{height:5px}.h_6{height:6px}.h_7{height:7px}.h_8{height:8px}.h_9{height:9px}.h_10{height:10px}.h_11{height:11px}.h_12{height:12px}.h_13{height:13px}.h_14{height:14px}.h_15{height:15px}.h_16{height:16px}.h_17{height:17px}.h_18{height:18px}.h_19{height:19px}.h_20{height:20px}.h_21{height:21px}.h_22{height:22px}.h_23{height:23px}.h_24{height:24px}.h_25{height:25px}.h_26{height:26px}.h_27{height:27px}.h_28{height:28px}.h_29{height:29px}.h_30{height:30px}.h_35{height:35px}.h_40{height:40px}.h_45{height:45px}.h_50{height:50px}.h_55{height:55px}.h_60{height:60px}.h_65{height:65px}.h_70{height:70px}.h_75{height:75px}.h_80{height:80px}.h_85{height:85px}.h_90{height:90px}.h_95{height:95px}.h_100{height:100px}.h_110{height:110px}.h_120{height:120px}.h_130{height:130px}.h_140{height:140px}.h_150{height:150px}.h_160{height:160px}.h_170{height:170px}.h_180{height:180px}.h_190{height:190px}.h_200{height:200px}.h_210{height:210px}.h_220{height:220px}.h_230{height:230px}.h_240{height:240px}.h_250{height:250px}.h_260{height:260px}.h_270{height:270px}.h_280{height:280px}.h_290{height:290px}.h_300{height:300px}.lh_n{line-height:normal}.lh_10z{line-height:10%}.lh_10vh{line-height:10vh}.lh_20z{line-height:20%}.lh_20vh{line-height:20vh}.lh_30z{line-height:30%}.lh_30vh{line-height:30vh}.lh_40z{line-height:40%}.lh_40vh{line-height:40vh}.lh_50z{line-height:50%}.lh_50vh{line-height:50vh}.lh_60z{line-height:60%}.lh_60vh{line-height:60vh}.lh_70z{line-height:70%}.lh_70vh{line-height:70vh}.lh_80z{line-height:80%}.lh_80vh{line-height:80vh}.lh_90z{line-height:90%}.lh_90vh{line-height:90vh}.lh_100z{line-height:100%}.lh_100vh{line-height:100vh}.lh_0{line-height:0px}.lh_1{line-height:1px}.lh_2{line-height:2px}.lh_3{line-height:3px}.lh_4{line-height:4px}.lh_5{line-height:5px}.lh_6{line-height:6px}.lh_7{line-height:7px}.lh_8{line-height:8px}.lh_9{line-height:9px}.lh_10{line-height:10px}.lh_11{line-height:11px}.lh_12{line-height:12px}.lh_13{line-height:13px}.lh_14{line-height:14px}.lh_15{line-height:15px}.lh_16{line-height:16px}.lh_17{line-height:17px}.lh_18{line-height:18px}.lh_19{line-height:19px}.lh_20{line-height:20px}.lh_21{line-height:21px}.lh_22{line-height:22px}.lh_23{line-height:23px}.lh_24{line-height:24px}.lh_25{line-height:25px}.lh_26{line-height:26px}.lh_27{line-height:27px}.lh_28{line-height:28px}.lh_29{line-height:29px}.lh_30{line-height:30px}.lh_35{line-height:35px}.lh_40{line-height:40px}.lh_45{line-height:45px}.lh_50{line-height:50px}.lh_55{line-height:55px}.lh_60{line-height:60px}.lh_65{line-height:65px}.lh_70{line-height:70px}.lh_75{line-height:75px}.lh_80{line-height:80px}.lh_85{line-height:85px}.lh_90{line-height:90px}.lh_95{line-height:95px}.lh_100{line-height:100px}.lh_110{line-height:110px}.lh_120{line-height:120px}.lh_130{line-height:130px}.lh_140{line-height:140px}.lh_150{line-height:150px}.lh_160{line-height:160px}.lh_170{line-height:170px}.lh_180{line-height:180px}.lh_190{line-height:190px}.lh_200{line-height:200px}.lh_210{line-height:210px}.lh_220{line-height:220px}.lh_230{line-height:230px}.lh_240{line-height:240px}.lh_250{line-height:250px}.lh_260{line-height:260px}.lh_270{line-height:270px}.lh_280{line-height:280px}.lh_290{line-height:290px}.lh_300{line-height:300px}.d_i{display:inline}.d_b{display:block}.d_n{display:none}.p_a{position:absolute}.p_r{position:relative}.p_sti{position:-webkit-sticky;position:sticky}.p_sta{position:static}.p_f{position:fixed}.t_0{top:0px}.r_0{right:0px}.b_0{bottom:0px}.l_0{left:0px}.t_1{top:1px}.r_1{right:1px}.b_1{bottom:1px}.l_1{left:1px}.t_2{top:2px}.r_2{right:2px}.b_2{bottom:2px}.l_2{left:2px}.t_3{top:3px}.r_3{right:3px}.b_3{bottom:3px}.l_3{left:3px}.t_4{top:4px}.r_4{right:4px}.b_4{bottom:4px}.l_4{left:4px}.t_5{top:5px}.r_5{right:5px}.b_5{bottom:5px}.l_5{left:5px}.t_6{top:6px}.r_6{right:6px}.b_6{bottom:6px}.l_6{left:6px}.t_7{top:7px}.r_7{right:7px}.b_7{bottom:7px}.l_7{left:7px}.t_8{top:8px}.r_8{right:8px}.b_8{bottom:8px}.l_8{left:8px}.t_9{top:9px}.r_9{right:9px}.b_9{bottom:9px}.l_9{left:9px}.t_10{top:10px}.r_10{right:10px}.b_10{bottom:10px}.l_10{left:10px}.t_11{top:11px}.r_11{right:11px}.b_11{bottom:11px}.l_11{left:11px}.t_12{top:12px}.r_12{right:12px}.b_12{bottom:12px}.l_12{left:12px}.t_13{top:13px}.r_13{right:13px}.b_13{bottom:13px}.l_13{left:13px}.t_14{top:14px}.r_14{right:14px}.b_14{bottom:14px}.l_14{left:14px}.t_15{top:15px}.r_15{right:15px}.b_15{bottom:15px}.l_15{left:15px}.t_16{top:16px}.r_16{right:16px}.b_16{bottom:16px}.l_16{left:16px}.t_17{top:17px}.r_17{right:17px}.b_17{bottom:17px}.l_17{left:17px}.t_18{top:18px}.r_18{right:18px}.b_18{bottom:18px}.l_18{left:18px}.t_19{top:19px}.r_19{right:19px}.b_19{bottom:19px}.l_19{left:19px}.t_20{top:20px}.r_20{right:20px}.b_20{bottom:20px}.l_20{left:20px}.t_21{top:21px}.r_21{right:21px}.b_21{bottom:21px}.l_21{left:21px}.t_22{top:22px}.r_22{right:22px}.b_22{bottom:22px}.l_22{left:22px}.t_23{top:23px}.r_23{right:23px}.b_23{bottom:23px}.l_23{left:23px}.t_24{top:24px}.r_24{right:24px}.b_24{bottom:24px}.l_24{left:24px}.t_25{top:25px}.r_25{right:25px}.b_25{bottom:25px}.l_25{left:25px}.t_26{top:26px}.r_26{right:26px}.b_26{bottom:26px}.l_26{left:26px}.t_27{top:27px}.r_27{right:27px}.b_27{bottom:27px}.l_27{left:27px}.t_28{top:28px}.r_28{right:28px}.b_28{bottom:28px}.l_28{left:28px}.t_29{top:29px}.r_29{right:29px}.b_29{bottom:29px}.l_29{left:29px}.t_30{top:30px}.r_30{right:30px}.b_30{bottom:30px}.l_30{left:30px}.t_35{top:35px}.r_35{right:35px}.b_35{bottom:35px}.l_35{left:35px}.t_40{top:40px}.r_40{right:40px}.b_40{bottom:40px}.l_40{left:40px}.t_45{top:45px}.r_45{right:45px}.b_45{bottom:45px}.l_45{left:45px}.t_50{top:50px}.r_50{right:50px}.b_50{bottom:50px}.l_50{left:50px}.t_55{top:55px}.r_55{right:55px}.b_55{bottom:55px}.l_55{left:55px}.t_60{top:60px}.r_60{right:60px}.b_60{bottom:60px}.l_60{left:60px}.o_0{opacity:0}.o_1{opacity:1}.o_01{opacity:.1}.o_02{opacity:.2}.o_03{opacity:.3}.o_04{opacity:.4}.o_05{opacity:.5}.o_06{opacity:.6}.o_07{opacity:.7}.o_08{opacity:.8}.o_09{opacity:.9}.ta_l{text-align:left}.ta_c{text-align:center}.ta_r{text-align:right}.ta_s{text-align:start}.ta_e{text-align:end}.f_n{float:none}.f_l{float:left}.f_r{float:right}.va_t{vertical-align:top}.va_m{vertical-align:middle}.va_b{vertical-align:bottom}.o_h{overflow:hidden}.o_a{overflow:auto}.o_v{overflow:visible}.ox_h{overflow-x:hidden}.oy_h{overflow-y:hidden}.ox_s{overflow-x:scroll}.oy_s{overflow-y:scroll}.zi_a{z-index:auto}.zi_0{z-index:0}.zi_1{z-index:1}.zi_2{z-index:2}.zi_3{z-index:3}.zi_4{z-index:4}.zi_5{z-index:5}.zi_6{z-index:6}.zi_7{z-index:7}.zi_8{z-index:8}.zi_9{z-index:9}.zi_10{z-index:10}.ws_n{white-space:nowrap}.to_e{text-overflow:ellipsis}.to_c{text-overflow:clip}.ww_bw{word-wrap:break-word}.wb_ba{word-break:break-all}.v_h{visibility:hidden}.c_b{clear:both}.c_p{cursor:pointer}.c_a{cursor:auto}.v_h{visibility:hidden}.us_n{user-select:none}",""]),e.exports=t},9580:(e,t,n)=>{var i=n(3645),r=n(1667),o=n(7047);t=i(!1);var a=r(o);t.push([e.id,".fv__ui-progress-layer{position:absolute;left:0;right:0;top:0;bottom:0;box-shadow:none;background:rgba(255,255,255,.6);z-index:99}.fv__ui-progress-layer .fv__ui-progress-text{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);color:#923094;font-size:16px;font-weight:bold}.fv__ui-progress-layer .fv__ui-progress-icon{background-image:url("+a+");background-repeat:no-repeat;background-size:50px;width:50px;height:50px;position:absolute;top:calc(50% - 40px);left:50%;transform:translate(-50%, -50%)}",""]),e.exports=t},3373:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.fv__js-popup-menu-container{position:fixed;left:0;top:0;z-index:1004}.context-menu-icon-check:before{content:"ચ"}',""]),e.exports=t},4482:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.fv__pdf-page-rendering>.fv__ui-layer-backdrop{background-color:#fff;opacity:0}.fv__js-exec-dialog{font-size:1rem;box-shadow:var(--fv-drop-shadow, rgba(151, 151, 151, 0.85) 0 0 14px 3px);border:1px solid #dedede;padding:0}.fv__js-exec-dialog-body{padding:8px 16px 16px 16px}.fv__js-exec-dialog-warning{border:1px solid var(--fv-frame-border-color, #bebebe);width:100%;height:2em;line-height:2em;margin-top:20px;padding-left:.5em;color:red;font-size:14px}.fv__js-exec-dialog-header{display:flex;flex-direction:row;align-items:center;border-bottom:1px solid var(--fv-frame-border-color, #bebebe);padding-left:.5em}.fv__js-exec-dialog-close-button{border:none;margin-left:auto;cursor:pointer}.fv__js-exec-dialog-close-button:before{content:"×";font-size:24px;font-weight:bold}',""]),e.exports=t},8023:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__viewer-single-view-mode .fv__pdf-doc-container{position:relative}.fv__viewer-single-view-mode .fv__pdf-view-mode-item{position:relative;--facing-margin: 0}",""]),e.exports=t},5789:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__viewer-selections-area{position:fixed;display:block;padding:0;margin:0;z-index:50}",""]),e.exports=t},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=(a=i,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),o=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[n].concat(o).concat([r]).join("\n")}var a,s,c;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(i)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(r[a]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);i&&r[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},1667:e=>{"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},5461:function(e){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){var t;switch(i(e)){case"string":return/Z$/.test(e)?0:(t=/([+-])(\d{2}):?(\d{2})/.exec(e))&&(+t[3]+60*t[2])*("+"===t[1]?1:-1);case"number":return Number.isNaN(e)?null:Math.abs(e)<16?60*e:e;default:return null}}n.r(t);var o=function(e,t,n){var i=String(e);return!i||i.length>=t?e:"".concat(Array(t+1-i.length).join(n)).concat(e)},a=function(e){var t=Math.abs(e),n=Math.floor(t/60),i=t%60;return"".concat(e<=0?"+":"-").concat(o(n,2,"0"),":").concat(o(i,2,"0"))};function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var c=(new Date).getTimezoneOffset(),u=Date.prototype;function l(e){return 6e4*(e-(arguments.length>1&&void 0!==arguments[1]?arguments[1]:c))}var A=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.getTimezoneOffset();!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$d=new Date(t.getTime()-l(n)),this.$timezoneOffset=n}var t,n,i;return t=e,(n=[{key:"getTimezoneOffset",value:function(){return this.$timezoneOffset}},{key:"setTimezoneOffset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$timezoneOffset;this.$d.setTime(this.$d.getTime()+l(this.$timezoneOffset,e)),this.$timezoneOffset=e}}])&&s(t.prototype,n),i&&s(t,i),e}();["toDateString","toLocaleString","toLocaleDateString","toLocaleTimeString","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setYear","getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getYear"].forEach((function(e){A.prototype[e]=function(){return u[e].apply(this.$d,arguments)}})),["toISOString","toUTCString","toGMTString","toJSON","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","valueOf","getTime"].forEach((function(e){A.prototype[e]=function(){return u[e].apply(new Date(this.$d.getTime()+l(this.$timezoneOffset)),arguments)}})),["setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds"].forEach((function(e){A.prototype[e]=function(){var t=new Date(this.$d.getTime()+l(this.$timezoneOffset));u[e].apply(t,arguments),t.setTime(t.getTime()-l(this.$timezoneOffset)),this.$d=t}})),["toString","toTimeString"].forEach((function(e){A.prototype[e]=function(){return u[e].apply(this.$d,arguments).replace(/GMT(.*)$/,"GMT".concat(a(this.$timezoneOffset)))}}));var d=A,h=!1,f=function(e,t){["clone","add","subtract","startOf"].forEach((function(n){e[n]=function(){var e=this.utcOffset();return t[n].apply(this,arguments).utcOffset(e)}})),e.utc=function(){return this.utcOffset(0)},e.local=function(){return this.utcOffset(-c)},e.utcOffset=function(e){if(void 0===e){var t=this.$d.getTimezoneOffset();return 0===t?0:-t}return null!==r(e)&&(this.$d.setTimezoneOffset(-r(e)),this.init()),this},e.toDate=function(){return new Date(this.$d.getTime())},e.isLocal=function(){return this.$d.getTimezoneOffset()===c},e.isUTC=function(){return 0===this.$d.getTimezoneOffset()},e.$set=function(){for(var e,n=this.$d.getTimezoneOffset(),i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.$set).call.apply(e,[this].concat(r)),this.$d instanceof Date&&(this.$d=new d(this.$d,n)),this},e.parse=function(e){t.parse.call(this,e);var n=this.$d,i="string"==typeof e.date?r(e.date):null;this.$d=new d(n,null===i?c:-i),h&&this.local(),this.init()}};t.default=function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;h=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).parseToLocal;var n=e.prototype,i=function(){};i.prototype=n;var o=new i;f(o,n),o.constructor=e.constructor,e.prototype=o,t.utc=function(e){var t=this(e);return"string"==typeof e&&null===r(e)&&(t.$d.$timezoneOffset=0),t.utc()}}}])},7484:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,i="millisecond",r="second",o="minute",a="hour",s="day",c="week",u="month",l="quarter",A="year",d="date",h="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},g=function(e,t,n){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(n)+e},m={s:g,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),i=Math.floor(n/60),r=n%60;return(t<=0?"+":"-")+g(i,2,"0")+":"+g(r,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var i=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(i,u),o=n-r<0,a=t.clone().add(i+(o?-1:1),u);return+(-(i+(n-r)/(o?r-a:a-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:A,w:c,d:s,D:d,h:a,m:o,s:r,ms:i,Q:l}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",_={};_[y]=v;var b="$isDayjsObject",w=function(e){return e instanceof C||!(!e||!e[b])},k=function e(t,n,i){var r;if(!t)return y;if("string"==typeof t){var o=t.toLowerCase();_[o]&&(r=o),n&&(_[o]=n,r=o);var a=t.split("-");if(!r&&a.length>1)return e(a[0])}else{var s=t.name;_[s]=t,r=s}return!i&&r&&(y=r),r||!i&&y},x=function(e,t){if(w(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new C(n)},P=m;P.l=k,P.i=w,P.w=function(e,t){return x(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var C=function(){function v(e){this.$L=k(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[b]=!0}var g=v.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(P.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var i=t.match(f);if(i){var r=i[2]-1||0,o=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)):new Date(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)}}return new Date(t)}(e),this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return P},g.isValid=function(){return!(this.$d.toString()===h)},g.isSame=function(e,t){var n=x(e);return this.startOf(t)<=n&&n<=this.endOf(t)},g.isAfter=function(e,t){return x(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<x(e)},g.$g=function(e,t,n){return P.u(e)?this[t]:this.set(n,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var n=this,i=!!P.u(t)||t,l=P.p(e),h=function(e,t){var r=P.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return i?r:r.endOf(s)},f=function(e,t){return P.w(n.toDate()[e].apply(n.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},p=this.$W,v=this.$M,g=this.$D,m="set"+(this.$u?"UTC":"");switch(l){case A:return i?h(1,0):h(31,11);case u:return i?h(1,v):h(0,v+1);case c:var y=this.$locale().weekStart||0,_=(p<y?p+7:p)-y;return h(i?g-_:g+(6-_),v);case s:case d:return f(m+"Hours",0);case a:return f(m+"Minutes",1);case o:return f(m+"Seconds",2);case r:return f(m+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var n,c=P.p(e),l="set"+(this.$u?"UTC":""),h=(n={},n[s]=l+"Date",n[d]=l+"Date",n[u]=l+"Month",n[A]=l+"FullYear",n[a]=l+"Hours",n[o]=l+"Minutes",n[r]=l+"Seconds",n[i]=l+"Milliseconds",n)[c],f=c===s?this.$D+(t-this.$W):t;if(c===u||c===A){var p=this.clone().set(d,1);p.$d[h](f),p.init(),this.$d=p.set(d,Math.min(this.$D,p.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[P.p(e)]()},g.add=function(i,l){var d,h=this;i=Number(i);var f=P.p(l),p=function(e){var t=x(h);return P.w(t.date(t.date()+Math.round(e*i)),h)};if(f===u)return this.set(u,this.$M+i);if(f===A)return this.set(A,this.$y+i);if(f===s)return p(1);if(f===c)return p(7);var v=(d={},d[o]=t,d[a]=n,d[r]=e,d)[f]||1,g=this.$d.getTime()+i*v;return P.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var i=e||"YYYY-MM-DDTHH:mm:ssZ",r=P.z(this),o=this.$H,a=this.$m,s=this.$M,c=n.weekdays,u=n.months,l=n.meridiem,A=function(e,n,r,o){return e&&(e[n]||e(t,i))||r[n].slice(0,o)},d=function(e){return P.s(o%12||12,e,"0")},f=l||function(e,t,n){var i=e<12?"AM":"PM";return n?i.toLowerCase():i};return i.replace(p,(function(e,i){return i||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return P.s(t.$y,4,"0");case"M":return s+1;case"MM":return P.s(s+1,2,"0");case"MMM":return A(n.monthsShort,s,u,3);case"MMMM":return A(u,s);case"D":return t.$D;case"DD":return P.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return A(n.weekdaysMin,t.$W,c,2);case"ddd":return A(n.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(o);case"HH":return P.s(o,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return f(o,a,!0);case"A":return f(o,a,!1);case"m":return String(a);case"mm":return P.s(a,2,"0");case"s":return String(t.$s);case"ss":return P.s(t.$s,2,"0");case"SSS":return P.s(t.$ms,3,"0");case"Z":return r}return null}(e)||r.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(i,d,h){var f,p=this,v=P.p(d),g=x(i),m=(g.utcOffset()-this.utcOffset())*t,y=this-g,_=function(){return P.m(p,g)};switch(v){case A:f=_()/12;break;case u:f=_();break;case l:f=_()/3;break;case c:f=(y-m)/6048e5;break;case s:f=(y-m)/864e5;break;case a:f=y/n;break;case o:f=y/t;break;case r:f=y/e;break;default:f=y}return h?f:P.a(f)},g.daysInMonth=function(){return this.endOf(u).$D},g.$locale=function(){return _[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),i=k(e,t,!0);return i&&(n.$L=i),n},g.clone=function(){return P.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},v}(),D=C.prototype;return x.prototype=D,[["$ms",i],["$s",r],["$m",o],["$H",a],["$W",s],["$M",u],["$y",A],["$D",d]].forEach((function(e){D[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),x.extend=function(e,t){return e.$i||(e(t,C,x),e.$i=!0),x},x.locale=k,x.isDayjs=w,x.unix=function(e){return x(1e3*e)},x.en=_[y],x.Ls=_,x.p={},x}()},7211:(e,t,n)=>{var i;!function(){var r=window.CustomEvent;function o(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement}return null}function a(e){e&&e.blur&&e!==document.body&&e.blur()}function s(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1}function c(e){return!(!e||!e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function u(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]})}else{var t,n=!1,i=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),r=function(r){if(r.target===e){var o="DOMNodeRemoved";n|=r.type.substr(0,14)===o,window.clearTimeout(t),t=window.setTimeout(i,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach((function(t){e.addEventListener(t,r)}))}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}r&&"object"!=typeof r||((r=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),n}).prototype=window.Event.prototype),u.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),l.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var n=document.createEvent("MouseEvents");n.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(n),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),!e){var t=["button","input","keygen","select","textarea"].map((function(e){return e+":not([disabled])"}));t.push('[tabindex]:not([disabled]):not([tabindex=""])'),e=this.dialog_.querySelector(t.join(", "))}a(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!l.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),n=function(e,n){return!(void 0===t[e]||t[e]===n)};if(t.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,l.needsCentering(this.dialog_)?(l.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(e){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==e&&(this.dialog_.returnValue=e);var t=new r("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(t)}};var l={reposition:function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,n=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,n)+"px"},isInlinePositionSetByStylesheet:function(e){for(var t=0;t<document.styleSheets.length;++t){var n=document.styleSheets[t],i=null;try{i=n.cssRules}catch(e){}if(i)for(var r=0;r<i.length;++r){var o=i[r],a=null;try{a=document.querySelectorAll(o.selectorText)}catch(e){}if(a&&s(a,e)){var c=o.style.getPropertyValue("top"),u=o.style.getPropertyValue("bottom");if(c&&"auto"!==c||u&&"auto"!==u)return!0}}}return!1},needsCentering:function(e){return"absolute"===window.getComputedStyle(e).position&&(!("auto"!==e.style.top&&""!==e.style.top||"auto"!==e.style.bottom&&""!==e.style.bottom)&&!l.isInlinePositionSetByStylesheet(e))},forceRegisterDialog:function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new u(e)},registerDialog:function(e){e.showModal||l.forceRegisterDialog(e)},DialogManager:function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver((function(t){var n=[];t.forEach((function(e){for(var t,i=0;t=e.removedNodes[i];++i)t instanceof Element&&("dialog"===t.localName&&n.push(t),n=n.concat(t.querySelectorAll("dialog")))})),n.length&&e(n)})))}};if(l.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},l.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},l.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,n=0;e=this.pendingDialogStack[n];++n)e.updateZIndex(--t,--t),0===n&&(this.overlay.style.zIndex=--t);var i=this.pendingDialogStack[0];i?(i.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},l.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=o(e);){for(var t,n=0;t=this.pendingDialogStack[n];++n)if(t.dialog===e)return 0===n;e=e.parentElement}return!1},l.DialogManager.prototype.handleFocus_=function(e){if(!this.containedByTopDialog_(e.target)&&(e.preventDefault(),e.stopPropagation(),a(e.target),void 0!==this.forwardTab_)){var t=this.pendingDialogStack[0];return t.dialog.compareDocumentPosition(e.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():document.documentElement.focus()),!1}},l.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,27===e.keyCode){e.preventDefault(),e.stopPropagation();var t=new r("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&n.dialog.dispatchEvent(t)&&n.dialog.close()}else 9===e.keyCode&&(this.forwardTab_=!e.shiftKey)},l.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach((function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()}))},l.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t)&&(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),!0)},l.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},l.dm=new l.DialogManager,l.formSubmitter=null,l.useValue=null,void 0===window.HTMLDialogElement){var A=document.createElement("form");if(A.setAttribute("method","dialog"),"dialog"!==A.method){var d=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(d){var h=d.get;d.get=function(){return c(this)?"dialog":h.call(this)};var f=d.set;d.set=function(e){return"string"==typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):f.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",d)}}document.addEventListener("click",(function(e){if(l.formSubmitter=null,l.useValue=null,!e.defaultPrevented){var t=e.target;if(t&&c(t.form)){if(!("submit"===t.type&&["button","input"].indexOf(t.localName)>-1)){if("input"!==t.localName||"image"!==t.type)return;l.useValue=e.offsetX+","+e.offsetY}o(t)&&(l.formSubmitter=t)}}}),!1);var p=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!c(this))return p.call(this);var e=o(this);e&&e.close()},document.addEventListener("submit",(function(e){var t=e.target;if(c(t)){e.preventDefault();var n=o(t);if(n){var i=l.formSubmitter;i&&i.form===t?n.close(l.useValue||i.value):n.close(),l.formSubmitter=null}}}),!0)}l.forceRegisterDialog=l.forceRegisterDialog,l.registerDialog=l.registerDialog,"amd"in n.amdD?void 0===(i=function(){return l}.call(t,n,t,e))||(e.exports=i):"object"==typeof e.exports?e.exports=l:window.dialogPolyfill=l}()},6729:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function i(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,i,o,a){if("function"!=typeof i)throw new TypeError("The listener must be a function");var s=new r(i,o||e,a),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function s(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,i,r=[];if(0===this._eventsCount)return r;for(i in e=this._events)t.call(e,i)&&r.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},s.prototype.listeners=function(e){var t=n?n+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,o=i.length,a=new Array(o);r<o;r++)a[r]=i[r].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,i=this._events[t];return i?i.fn?1:i.length:0},s.prototype.emit=function(e,t,i,r,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var c,u,l=this._events[s],A=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),A){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,i),!0;case 4:return l.fn.call(l.context,t,i,r),!0;case 5:return l.fn.call(l.context,t,i,r,o),!0;case 6:return l.fn.call(l.context,t,i,r,o,a),!0}for(u=1,c=new Array(A-1);u<A;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var d,h=l.length;for(u=0;u<h;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),A){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,i);break;case 4:l[u].fn.call(l[u].context,t,i,r);break;default:if(!c)for(d=1,c=new Array(A-1);d<A;d++)c[d-1]=arguments[d];l[u].fn.apply(l[u].context,c)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,i,r){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||r&&!s.once||i&&s.context!==i||a(this,o);else{for(var c=0,u=[],l=s.length;c<l;c++)(s[c].fn!==t||r&&!s[c].once||i&&s[c].context!==i)&&u.push(s[c]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},3162:function(e,t,n){var i,r,o;r=[],void 0===(o="function"==typeof(i=function(){"use strict";function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function i(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){c(i.response,t,n)},i.onerror=function(){console.error("could not download file")},i.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,s=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,t,n){var s=a.URL||a.webkitURL,c=document.createElement("a");t=t||e.name||"download",c.download=t,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?o(c):r(c.href)?i(e,t,n):o(c,c.target="_blank")):(c.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(c.href)}),4e4),setTimeout((function(){o(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,a){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,a),n);else if(r(e))i(e,n,a);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){o(s)}))}}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return i(e,t,n);var o="application/octet-stream"===e.type,c=/constructor/i.test(a.HTMLElement)||a.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||o&&c||s)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var e=l.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},l.readAsDataURL(e)}else{var A=a.URL||a.webkitURL,d=A.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout((function(){A.revokeObjectURL(d)}),4e4)}});a.saveAs=c.saveAs=c,e.exports=c})?i.apply(t,r):i)||(e.exports=o)},1895:()=>{"use strict";"function"!=typeof Object.assign&&(Object.assign=function(e,...t){if(!e)throw TypeError("Cannot convert undefined or null to object");for(const n of t)n&&Object.keys(n).forEach((t=>e[t]=n[t]));return e})},2805:function(e,t){!function(e){"use strict";var t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},n={weekdays:{shorthand:["So","Mo","Di","Mi","Do","Fr","Sa"],longhand:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},months:{shorthand:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],longhand:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},firstDayOfWeek:1,weekAbbreviation:"KW",rangeSeparator:" bis ",scrollTitle:"Zum Ändern scrollen",toggleTitle:"Zum Umschalten klicken",time_24hr:!0};t.l10ns.de=n;var i=t.l10ns;e.German=n,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)},969:function(e,t){!function(e){"use strict";var t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},n={weekdays:{shorthand:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],longhand:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"]},months:{shorthand:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],longhand:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"]},ordinal:function(){return"º"},firstDayOfWeek:1,rangeSeparator:" a ",time_24hr:!0};t.l10ns.es=n;var i=t.l10ns;e.Spanish=n,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)},122:function(e,t){!function(e){"use strict";var t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},n={firstDayOfWeek:1,weekdays:{shorthand:["dim","lun","mar","mer","jeu","ven","sam"],longhand:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},months:{shorthand:["janv","févr","mars","avr","mai","juin","juil","août","sept","oct","nov","déc"],longhand:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},ordinal:function(e){return e>1?"":"er"},rangeSeparator:" au ",weekAbbreviation:"Sem",scrollTitle:"Défiler pour augmenter la valeur",toggleTitle:"Cliquer pour basculer",time_24hr:!0};t.l10ns.fr=n;var i=t.l10ns;e.French=n,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)},9088:function(e,t){!function(e){"use strict";var t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},n={weekdays:{shorthand:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],longhand:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"]},months:{shorthand:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],longhand:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"]},firstDayOfWeek:1,ordinal:function(){return"°"},rangeSeparator:" al ",weekAbbreviation:"Se",scrollTitle:"Scrolla per aumentare",toggleTitle:"Clicca per cambiare",time_24hr:!0};t.l10ns.it=n;var i=t.l10ns;e.Italian=n,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)},6741:function(e,t){!function(e){"use strict";var t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},n={weekdays:{shorthand:["日","月","火","水","木","金","土"],longhand:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"]},months:{shorthand:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],longhand:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]},time_24hr:!0,rangeSeparator:" から ",monthAriaLabel:"月",amPM:["午前","午後"],yearAriaLabel:"年",hourAriaLabel:"時間",minuteAriaLabel:"分"};t.l10ns.ja=n;var i=t.l10ns;e.Japanese=n,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)},1844:function(e,t){!function(e){"use strict";var t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},n={weekdays:{shorthand:["일","월","화","수","목","금","토"],longhand:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},months:{shorthand:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],longhand:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},ordinal:function(){return"일"},rangeSeparator:" ~ "};t.l10ns.ko=n;var i=t.l10ns;e.Korean=n,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)},6679:function(e,t){!function(e){"use strict";var t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},n={weekdays:{shorthand:["zo","ma","di","wo","do","vr","za"],longhand:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"]},months:{shorthand:["jan","feb","mrt","apr","mei","jun","jul","aug","sept","okt","nov","dec"],longhand:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"]},firstDayOfWeek:1,weekAbbreviation:"wk",rangeSeparator:" t/m ",scrollTitle:"Scroll voor volgende / vorige",toggleTitle:"Klik om te wisselen",time_24hr:!0,ordinal:function(e){return 1===e||8===e||e>=20?"ste":"de"}};t.l10ns.nl=n;var i=t.l10ns;e.Dutch=n,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)},7821:function(e,t){!function(e){"use strict";var t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},n={weekdays:{shorthand:["週日","週一","週二","週三","週四","週五","週六"],longhand:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},months:{shorthand:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],longhand:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},rangeSeparator:" 至 ",weekAbbreviation:"週",scrollTitle:"滾動切換",toggleTitle:"點擊切換 12/24 小時時制"};t.l10ns.zh_tw=n;var i=t.l10ns;e.MandarinTraditional=n,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)},799:function(e,t){!function(e){"use strict";var t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},n={weekdays:{shorthand:["周日","周一","周二","周三","周四","周五","周六"],longhand:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},months:{shorthand:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],longhand:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},rangeSeparator:" 至 ",weekAbbreviation:"周",scrollTitle:"滚动切换",toggleTitle:"点击切换 12/24 小时时制"};t.l10ns.zh=n;var i=t.l10ns;e.Mandarin=n,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)},840:(e,t,n)=>{var i;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */!function(r,o,a,s){"use strict";var c,u=["","webkit","Moz","MS","ms","o"],l=o.createElement("div"),A="function",d=Math.round,h=Math.abs,f=Date.now;function p(e,t,n){return setTimeout(w(e,n),t)}function v(e,t,n){return!!Array.isArray(e)&&(g(e,n[t],n),!0)}function g(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function m(e,t,n){var i="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),e.apply(this,arguments)}}c="function"!=typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==s&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}:Object.assign;var y=m((function(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;)(!n||n&&e[i[r]]===s)&&(e[i[r]]=t[i[r]]),r++;return e}),"extend","Use `assign`."),_=m((function(e,t){return y(e,t,!0)}),"merge","Use `assign`.");function b(e,t,n){var i,r=t.prototype;(i=e.prototype=Object.create(r)).constructor=e,i._super=r,n&&c(i,n)}function w(e,t){return function(){return e.apply(t,arguments)}}function k(e,t){return typeof e==A?e.apply(t&&t[0]||s,t):e}function x(e,t){return e===s?t:e}function P(e,t,n){g(S(t),(function(t){e.addEventListener(t,n,!1)}))}function C(e,t,n){g(S(t),(function(t){e.removeEventListener(t,n,!1)}))}function D(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function E(e,t){return e.indexOf(t)>-1}function S(e){return e.trim().split(/\s+/g)}function I(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function T(e){return Array.prototype.slice.call(e,0)}function R(e,t,n){for(var i=[],r=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];I(r,a)<0&&i.push(e[o]),r[o]=a,o++}return n&&(i=t?i.sort((function(e,n){return e[t]>n[t]})):i.sort()),i}function M(e,t){for(var n,i,r=t[0].toUpperCase()+t.slice(1),o=0;o<u.length;){if((i=(n=u[o])?n+r:t)in e)return i;o++}return s}var F=1;function N(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||r}var L="ontouchstart"in r,O=M(r,"PointerEvent")!==s,j=L&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),B="touch",V="mouse",U=25,H=1,z=4,W=8,G=1,Y=2,$=4,J=8,q=16,K=Y|$,Z=J|q,X=K|Z,Q=["x","y"],ee=["clientX","clientY"];function te(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){k(e.options.enable,[e])&&n.handler(t)},this.init()}function ne(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,o=t&H&&i-r==0,a=t&(z|W)&&i-r==0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=ie(t));r>1&&!n.firstMultiple?n.firstMultiple=ie(t):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,c=a?a.center:o.center,u=t.center=re(i);t.timeStamp=f(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=ce(c,u),t.distance=se(c,u),function(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},o=e.prevInput||{};t.eventType!==H&&o.eventType!==z||(r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y});t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}(n,t),t.offsetDirection=ae(t.deltaX,t.deltaY);var l=oe(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=l.x,t.overallVelocityY=l.y,t.overallVelocity=h(l.x)>h(l.y)?l.x:l.y,t.scale=a?(A=a.pointers,d=i,se(d[0],d[1],ee)/se(A[0],A[1],ee)):1,t.rotation=a?function(e,t){return ce(t[1],t[0],ee)+ce(e[1],e[0],ee)}(a.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,i,r,o,a=e.lastInterval||t,c=t.timeStamp-a.timeStamp;if(t.eventType!=W&&(c>U||a.velocity===s)){var u=t.deltaX-a.deltaX,l=t.deltaY-a.deltaY,A=oe(c,u,l);i=A.x,r=A.y,n=h(A.x)>h(A.y)?A.x:A.y,o=ae(u,l),e.lastInterval=t}else n=a.velocity,i=a.velocityX,r=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=i,t.velocityY=r,t.direction=o}(n,t);var A,d;var p=e.element;D(t.srcEvent.target,p)&&(p=t.srcEvent.target);t.target=p}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function ie(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:d(e.pointers[n].clientX),clientY:d(e.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:t,center:re(t),deltaX:e.deltaX,deltaY:e.deltaY}}function re(e){var t=e.length;if(1===t)return{x:d(e[0].clientX),y:d(e[0].clientY)};for(var n=0,i=0,r=0;r<t;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:d(n/t),y:d(i/t)}}function oe(e,t,n){return{x:t/e||0,y:n/e||0}}function ae(e,t){return e===t?G:h(e)>=h(t)?e<0?Y:$:t<0?J:q}function se(e,t,n){n||(n=Q);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(i*i+r*r)}function ce(e,t,n){n||(n=Q);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return 180*Math.atan2(r,i)/Math.PI}te.prototype={handler:function(){},init:function(){this.evEl&&P(this.element,this.evEl,this.domHandler),this.evTarget&&P(this.target,this.evTarget,this.domHandler),this.evWin&&P(N(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(N(this.element),this.evWin,this.domHandler)}};var ue={mousedown:H,mousemove:2,mouseup:z},le="mousedown",Ae="mousemove mouseup";function de(){this.evEl=le,this.evWin=Ae,this.pressed=!1,te.apply(this,arguments)}b(de,te,{handler:function(e){var t=ue[e.type];t&H&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=z),this.pressed&&(t&z&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:V,srcEvent:e}))}});var he={pointerdown:H,pointermove:2,pointerup:z,pointercancel:W,pointerout:W},fe={2:B,3:"pen",4:V,5:"kinect"},pe="pointerdown",ve="pointermove pointerup pointercancel";function ge(){this.evEl=pe,this.evWin=ve,te.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(pe="MSPointerDown",ve="MSPointerMove MSPointerUp MSPointerCancel"),b(ge,te,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),r=he[i],o=fe[e.pointerType]||e.pointerType,a=o==B,s=I(t,e.pointerId,"pointerId");r&H&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):r&(z|W)&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var me={touchstart:H,touchmove:2,touchend:z,touchcancel:W};function ye(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,te.apply(this,arguments)}function _e(e,t){var n=T(e.touches),i=T(e.changedTouches);return t&(z|W)&&(n=R(n.concat(i),"identifier",!0)),[n,i]}b(ye,te,{handler:function(e){var t=me[e.type];if(t===H&&(this.started=!0),this.started){var n=_e.call(this,e,t);t&(z|W)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:B,srcEvent:e})}}});var be={touchstart:H,touchmove:2,touchend:z,touchcancel:W},we="touchstart touchmove touchend touchcancel";function ke(){this.evTarget=we,this.targetIds={},te.apply(this,arguments)}function xe(e,t){var n=T(e.touches),i=this.targetIds;if(t&(2|H)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=T(e.changedTouches),s=[],c=this.target;if(o=n.filter((function(e){return D(e.target,c)})),t===H)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&s.push(a[r]),t&(z|W)&&delete i[a[r].identifier],r++;return s.length?[R(o.concat(s),"identifier",!0),s]:void 0}b(ke,te,{handler:function(e){var t=be[e.type],n=xe.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:B,srcEvent:e})}});var Pe=2500;function Ce(){te.apply(this,arguments);var e=w(this.handler,this);this.touch=new ke(this.manager,e),this.mouse=new de(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function De(e,t){e&H?(this.primaryTouch=t.changedPointers[0].identifier,Ee.call(this,t)):e&(z|W)&&Ee.call(this,t)}function Ee(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)}),Pe)}}function Se(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(t-r.x),a=Math.abs(n-r.y);if(o<=25&&a<=25)return!0}return!1}b(Ce,te,{handler:function(e,t,n){var i=n.pointerType==B,r=n.pointerType==V;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)De.call(this,t,n);else if(r&&Se.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ie=M(l.style,"touchAction"),Te=Ie!==s,Re="compute",Me="auto",Fe="manipulation",Ne="none",Le="pan-x",Oe="pan-y",je=function(){if(!Te)return!1;var e={},t=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||r.CSS.supports("touch-action",n)})),e}();function Be(e,t){this.manager=e,this.set(t)}Be.prototype={set:function(e){e==Re&&(e=this.compute()),Te&&this.manager.element.style&&je[e]&&(this.manager.element.style[Ie]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return g(this.manager.recognizers,(function(t){k(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(E(e,Ne))return Ne;var t=E(e,Le),n=E(e,Oe);if(t&&n)return Ne;if(t||n)return t?Le:Oe;if(E(e,Fe))return Fe;return Me}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var i=this.actions,r=E(i,Ne)&&!je[Ne],o=E(i,Oe)&&!je[Oe],a=E(i,Le)&&!je[Le];if(r){var s=1===e.pointers.length,c=e.distance<2,u=e.deltaTime<250;if(s&&c&&u)return}if(!a||!o)return r||o&&n&K||a&&n&Z?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Ve=1,Ue=32;function He(e){this.options=c({},this.defaults,e||{}),this.id=F++,this.manager=null,this.options.enable=x(this.options.enable,!0),this.state=Ve,this.simultaneous={},this.requireFail=[]}function ze(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function We(e){return e==q?"down":e==J?"up":e==Y?"left":e==$?"right":""}function Ge(e,t){var n=t.manager;return n?n.get(e):e}function Ye(){He.apply(this,arguments)}function $e(){Ye.apply(this,arguments),this.pX=null,this.pY=null}function Je(){Ye.apply(this,arguments)}function qe(){He.apply(this,arguments),this._timer=null,this._input=null}function Ke(){Ye.apply(this,arguments)}function Ze(){Ye.apply(this,arguments)}function Xe(){He.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Qe(e,t){return(t=t||{}).recognizers=x(t.recognizers,Qe.defaults.preset),new et(e,t)}He.prototype={defaults:{},set:function(e){return c(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(v(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Ge(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return v(e,"dropRecognizeWith",this)||(e=Ge(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(v(e,"requireFailure",this))return this;var t=this.requireFail;return-1===I(t,e=Ge(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(v(e,"dropRequireFailure",this))return this;e=Ge(e,this);var t=I(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function i(n){t.manager.emit(n,e)}n<8&&i(t.options.event+ze(n)),i(t.options.event),e.additionalEvent&&i(e.additionalEvent),n>=8&&i(t.options.event+ze(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=Ue},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(Ue|Ve)))return!1;e++}return!0},recognize:function(e){var t=c({},e);if(!k(this.options.enable,[this,t]))return this.reset(),void(this.state=Ue);56&this.state&&(this.state=Ve),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},b(Ye,He,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=6&t,r=this.attrTest(e);return i&&(n&W||!r)?16|t:i||r?n&z?8|t:2&t?4|t:2:Ue}}),b($e,Ye,{defaults:{event:"pan",threshold:10,pointers:1,direction:X},getTouchAction:function(){var e=this.options.direction,t=[];return e&K&&t.push(Oe),e&Z&&t.push(Le),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,o=e.deltaX,a=e.deltaY;return r&t.direction||(t.direction&K?(r=0===o?G:o<0?Y:$,n=o!=this.pX,i=Math.abs(e.deltaX)):(r=0===a?G:a<0?J:q,n=a!=this.pY,i=Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},attrTest:function(e){return Ye.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=We(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),b(Je,Ye,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ne]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),b(qe,He,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Me]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!i||!n||e.eventType&(z|W)&&!r)this.reset();else if(e.eventType&H)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),t.time,this);else if(e.eventType&z)return 8;return Ue},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&e.eventType&z?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),b(Ke,Ye,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ne]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),b(Ze,Ye,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:K|Z,pointers:1},getTouchAction:function(){return $e.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(K|Z)?t=e.overallVelocity:n&K?t=e.overallVelocityX:n&Z&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&h(t)>this.options.velocity&&e.eventType&z},emit:function(e){var t=We(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),b(Xe,He,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Fe]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),e.eventType&H&&0===this.count)return this.failTimeout();if(i&&r&&n){if(e.eventType!=z)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||se(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return Ue},failTimeout:function(){return this._timer=p((function(){this.state=Ue}),this.options.interval,this),Ue},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Qe.VERSION="2.0.7",Qe.defaults={domEvents:!1,touchAction:Re,enable:!0,inputTarget:null,inputClass:null,preset:[[Ke,{enable:!1}],[Je,{enable:!1},["rotate"]],[Ze,{direction:K}],[$e,{direction:K},["swipe"]],[Xe],[Xe,{event:"doubletap",taps:2},["tap"]],[qe]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function et(e,t){var n;this.options=c({},Qe.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(O?ge:j?ke:L?Ce:de))(n,ne),this.touchAction=new Be(this,this.options.touchAction),tt(this,!0),g(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function tt(e,t){var n,i=e.element;i.style&&(g(e.options.cssProps,(function(r,o){n=M(i.style,o),t?(e.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}et.prototype={set:function(e){return c(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var i=this.recognizers,r=t.curRecognizer;(!r||r&&8&r.state)&&(r=t.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===t.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&14&n.state&&(r=t.curRecognizer=n),o++}},get:function(e){if(e instanceof He)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(v(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(v(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=I(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var n=this.handlers;return g(S(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==s){var n=this.handlers;return g(S(e),(function(e){t?n[e]&&n[e].splice(I(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&tt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(Qe,{INPUT_START:H,INPUT_MOVE:2,INPUT_END:z,INPUT_CANCEL:W,STATE_POSSIBLE:Ve,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:Ue,DIRECTION_NONE:G,DIRECTION_LEFT:Y,DIRECTION_RIGHT:$,DIRECTION_UP:J,DIRECTION_DOWN:q,DIRECTION_HORIZONTAL:K,DIRECTION_VERTICAL:Z,DIRECTION_ALL:X,Manager:et,Input:te,TouchAction:Be,TouchInput:ke,MouseInput:de,PointerEventInput:ge,TouchMouseInput:Ce,SingleTouchInput:ye,Recognizer:He,AttrRecognizer:Ye,Tap:Xe,Pan:$e,Swipe:Ze,Pinch:Je,Rotate:Ke,Press:qe,on:P,off:C,each:g,merge:_,extend:y,assign:c,inherit:b,bindFn:w,prefixed:M}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=Qe,(i=function(){return Qe}.call(t,n,t,e))===s||(e.exports=i)}(window,document)},7337:(e,t,n)=>{var i,r,o;r=[n(9755)],void 0===(o="function"==typeof(i=function(e){"use strict";var t;e.support.htmlMenuitem="HTMLMenuItemElement"in window,e.support.htmlCommand="HTMLCommandElement"in window,e.support.eventSelectstart="onselectstart"in document.documentElement,e.ui&&e.widget||(e.cleanData=(t=e.cleanData,function(n){var i,r,o;for(o=0;null!=n[o];o++){r=n[o];try{(i=e._data(r,"events"))&&i.remove&&e(r).triggerHandler("remove")}catch(e){}}t(n)}));var n=null,i=!1,r=e(window),o=0,a={},s={},c={},u={selector:null,appendTo:null,trigger:"right",autoHide:!1,delay:200,reposition:!0,hideOnSecondTrigger:!1,selectableSubMenu:!1,classNames:{hover:"context-menu-hover",disabled:"context-menu-disabled",visible:"context-menu-visible",notSelectable:"context-menu-not-selectable",icon:"context-menu-icon",iconEdit:"context-menu-icon-edit",iconCut:"context-menu-icon-cut",iconCopy:"context-menu-icon-copy",iconPaste:"context-menu-icon-paste",iconDelete:"context-menu-icon-delete",iconAdd:"context-menu-icon-add",iconQuit:"context-menu-icon-quit",iconLoadingClass:"context-menu-icon-loading"},determinePosition:function(t){if(e.ui&&e.ui.position)t.css("display","block").position({my:"center top",at:"center bottom",of:this,offset:"0 5",collision:"fit"}).css("display","none");else{var n=this.offset();n.top+=this.outerHeight(),n.left+=this.outerWidth()/2-t.outerWidth()/2,t.css(n)}},position:function(e,t,n){var i;if(t||n){if("maintain"===t&&"maintain"===n)i=e.$menu.position();else{var o=e.$menu.offsetParent().offset();i={top:n-o.top,left:t-o.left}}var a=r.scrollTop()+r.height(),s=r.scrollLeft()+r.width(),c=e.$menu.outerHeight(),u=e.$menu.outerWidth();i.top+c>a&&(i.top-=c),i.top<0&&(i.top=0),i.left+u>s&&(i.left-=u),i.left<0&&(i.left=0),e.$menu.css(i)}else e.determinePosition.call(this,e.$menu)},positionSubmenu:function(t){if(void 0!==t)if(e.ui&&e.ui.position)t.css("display","block").position({my:"left top-5",at:"right top",of:this,collision:"flipfit fit"}).css("display","");else{var n={top:-9,left:this.outerWidth()-5};t.css(n)}},zIndex:1,animation:{duration:50,show:"slideDown",hide:"slideUp"},events:{preShow:e.noop,show:e.noop,hide:e.noop,activated:e.noop},callback:null,items:{}},l={timer:null,pageX:null,pageY:null},A=function(e){for(var t=0,n=e;t=Math.max(t,parseInt(n.css("z-index"),10)||0),(n=n.parent())&&n.length&&!("html body".indexOf(n.prop("nodeName").toLowerCase())>-1););return t},d={abortevent:function(e){e.preventDefault(),e.stopImmediatePropagation()},contextmenu:function(t){var i=e(this);if(!1!==t.data.events.preShow(i,t)&&("right"===t.data.trigger&&(t.preventDefault(),t.stopImmediatePropagation()),!("right"!==t.data.trigger&&"demand"!==t.data.trigger&&t.originalEvent||!(void 0===t.mouseButton||!t.data||"left"===t.data.trigger&&0===t.mouseButton||"right"===t.data.trigger&&2===t.mouseButton)||i.hasClass("context-menu-active")||i.hasClass("context-menu-disabled")))){if(n=i,t.data.build){var r=t.data.build(n,t);if(!1===r)return;if(t.data=e.extend(!0,{},u,t.data,r||{}),!t.data.items||e.isEmptyObject(t.data.items))throw window.console&&(console.error||console.log).call(console,"No items specified to show in contextMenu"),new Error("No Items specified");t.data.$trigger=n,h.create(t.data)}h.show.call(i,t.data,t.pageX,t.pageY)}},click:function(t){t.preventDefault(),t.stopImmediatePropagation(),e(this).trigger(e.Event("contextmenu",{data:t.data,pageX:t.pageX,pageY:t.pageY}))},mousedown:function(t){var i=e(this);n&&n.length&&!n.is(i)&&n.data("contextMenu").$menu.trigger("contextmenu:hide"),2===t.button&&(n=i.data("contextMenuActive",!0))},mouseup:function(t){var i=e(this);i.data("contextMenuActive")&&n&&n.length&&n.is(i)&&!i.hasClass("context-menu-disabled")&&(t.preventDefault(),t.stopImmediatePropagation(),n=i,i.trigger(e.Event("contextmenu",{data:t.data,pageX:t.pageX,pageY:t.pageY}))),i.removeData("contextMenuActive")},mouseenter:function(t){var i=e(this),r=e(t.relatedTarget),o=e(document);r.is(".context-menu-list")||r.closest(".context-menu-list").length||n&&n.length||(l.pageX=t.pageX,l.pageY=t.pageY,l.data=t.data,o.on("mousemove.contextMenuShow",d.mousemove),l.timer=setTimeout((function(){l.timer=null,o.off("mousemove.contextMenuShow"),n=i,i.trigger(e.Event("contextmenu",{data:l.data,pageX:l.pageX,pageY:l.pageY}))}),t.data.delay))},mousemove:function(e){l.pageX=e.pageX,l.pageY=e.pageY},mouseleave:function(t){var n=e(t.relatedTarget);if(!n.is(".context-menu-list")&&!n.closest(".context-menu-list").length){try{clearTimeout(l.timer)}catch(t){}l.timer=null}},layerClick:function(t){var n,i,o=e(this).data("contextMenuRoot"),a=t.button,s=t.pageX,c=t.pageY,u=void 0===s;t.preventDefault(),setTimeout((function(){if(u)null!=o&&null!==o.$menu&&void 0!==o.$menu&&o.$menu.trigger("contextmenu:hide");else{var l,A="left"===o.trigger&&0===a||"right"===o.trigger&&2===a;if(document.elementFromPoint&&o.$layer){if(o.$layer.hide(),null!==(n=document.elementFromPoint(s-r.scrollLeft(),c-r.scrollTop()))&&n.isContentEditable){var d=document.createRange(),h=window.getSelection();d.selectNode(n),d.collapse(!0),h.removeAllRanges(),h.addRange(d)}e(n).trigger(t),o.$layer.show()}if(o.hideOnSecondTrigger&&A&&null!==o.$menu&&void 0!==o.$menu)o.$menu.trigger("contextmenu:hide");else{if(o.reposition&&A)if(document.elementFromPoint){if(o.$trigger.is(n))return void o.position.call(o.$trigger,o,s,c)}else if(i=o.$trigger.offset(),l=e(window),i.top+=l.scrollTop(),i.top<=t.pageY&&(i.left+=l.scrollLeft(),i.left<=t.pageX&&(i.bottom=i.top+o.$trigger.outerHeight(),i.bottom>=t.pageY&&(i.right=i.left+o.$trigger.outerWidth(),i.right>=t.pageX))))return void o.position.call(o.$trigger,o,s,c);n&&A&&o.$trigger.one("contextmenu:hidden",(function(){e(n).contextMenu({x:s,y:c,button:a})})),null!=o&&null!==o.$menu&&void 0!==o.$menu&&o.$menu.trigger("contextmenu:hide")}}}),50)},keyStop:function(e,t){t.isInput||e.preventDefault(),e.stopPropagation()},key:function(e){var t={};n&&(t=n.data("contextMenu")||{}),void 0===t.zIndex&&(t.zIndex=0);var i=0,r=function(e){""!==e.style.zIndex?i=e.style.zIndex:null!==e.offsetParent&&void 0!==e.offsetParent?r(e.offsetParent):null!==e.parentElement&&void 0!==e.parentElement&&r(e.parentElement)};if(r(e.target),!(t.$menu&&parseInt(i,10)>parseInt(t.$menu.css("zIndex"),10))){switch(e.keyCode){case 9:case 38:if(d.keyStop(e,t),t.isInput){if(9===e.keyCode&&e.shiftKey)return e.preventDefault(),t.$selected&&t.$selected.find("input, textarea, select").blur(),void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("prevcommand"));if(38===e.keyCode&&"checkbox"===t.$selected.find("input, textarea, select").prop("type"))return void e.preventDefault()}else if(9!==e.keyCode||e.shiftKey)return void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("prevcommand"));break;case 40:if(d.keyStop(e,t),!t.isInput)return void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("nextcommand"));if(9===e.keyCode)return e.preventDefault(),t.$selected&&t.$selected.find("input, textarea, select").blur(),void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("nextcommand"));if(40===e.keyCode&&"checkbox"===t.$selected.find("input, textarea, select").prop("type"))return void e.preventDefault();break;case 37:if(d.keyStop(e,t),t.isInput||!t.$selected||!t.$selected.length)break;if(!t.$selected.parent().hasClass("context-menu-root")){var o=t.$selected.parent().parent();return t.$selected.trigger("contextmenu:blur"),void(t.$selected=o)}break;case 39:if(d.keyStop(e,t),t.isInput||!t.$selected||!t.$selected.length)break;var a=t.$selected.data("contextMenu")||{};if(a.$menu&&t.$selected.hasClass("context-menu-submenu"))return t.$selected=null,a.$selected=null,void a.$menu.trigger("nextcommand");break;case 35:case 36:return t.$selected&&t.$selected.find("input, textarea, select").length?void 0:((t.$selected&&t.$selected.parent()||t.$menu).children(":not(."+t.classNames.disabled+", ."+t.classNames.notSelectable+")")[36===e.keyCode?"first":"last"]().trigger("contextmenu:focus"),void e.preventDefault());case 13:if(d.keyStop(e,t),t.isInput){if(t.$selected&&!t.$selected.is("textarea, select"))return void e.preventDefault();break}return void(void 0!==t.$selected&&null!==t.$selected&&t.$selected.trigger("mouseup"));case 32:case 33:case 34:return void d.keyStop(e,t);case 27:return d.keyStop(e,t),void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("contextmenu:hide"));default:var s=String.fromCharCode(e.keyCode).toUpperCase();if(t.accesskeys&&t.accesskeys[s])return void t.accesskeys[s].$node.trigger(t.accesskeys[s].$menu?"contextmenu:focus":"mouseup")}e.stopPropagation(),void 0!==t.$selected&&null!==t.$selected&&t.$selected.trigger(e)}},prevItem:function(t){t.stopPropagation();var n=e(this).data("contextMenu")||{},i=e(this).data("contextMenuRoot")||{};if(n.$selected){var r=n.$selected;(n=n.$selected.parent().data("contextMenu")||{}).$selected=r}for(var o=n.$menu.children(),a=n.$selected&&n.$selected.prev().length?n.$selected.prev():o.last(),s=a;a.hasClass(i.classNames.disabled)||a.hasClass(i.classNames.notSelectable)||a.is(":hidden");)if((a=a.prev().length?a.prev():o.last()).is(s))return;n.$selected&&d.itemMouseleave.call(n.$selected.get(0),t),d.itemMouseenter.call(a.get(0),t);var c=a.find("input, textarea, select");c.length&&c.focus()},nextItem:function(t){t.stopPropagation();var n=e(this).data("contextMenu")||{},i=e(this).data("contextMenuRoot")||{};if(n.$selected){var r=n.$selected;(n=n.$selected.parent().data("contextMenu")||{}).$selected=r}for(var o=n.$menu.children(),a=n.$selected&&n.$selected.next().length?n.$selected.next():o.first(),s=a;a.hasClass(i.classNames.disabled)||a.hasClass(i.classNames.notSelectable)||a.is(":hidden");)if((a=a.next().length?a.next():o.first()).is(s))return;n.$selected&&d.itemMouseleave.call(n.$selected.get(0),t),d.itemMouseenter.call(a.get(0),t);var c=a.find("input, textarea, select");c.length&&c.focus()},focusInput:function(){var t=e(this).closest(".context-menu-item"),n=t.data(),i=n.contextMenu,r=n.contextMenuRoot;r.$selected=i.$selected=t,r.isInput=i.isInput=!0},blurInput:function(){var t=e(this).closest(".context-menu-item").data(),n=t.contextMenu;t.contextMenuRoot.isInput=n.isInput=!1},menuMouseenter:function(){e(this).data().contextMenuRoot.hovering=!0},menuMouseleave:function(t){var n=e(this).data().contextMenuRoot;n.$layer&&n.$layer.is(t.relatedTarget)&&(n.hovering=!1)},itemMouseenter:function(t){var n=e(this),i=n.data(),r=i.contextMenu,o=i.contextMenuRoot;o.hovering=!0,t&&o.$layer&&o.$layer.is(t.relatedTarget)&&(t.preventDefault(),t.stopImmediatePropagation()),(r.$menu?r:o).$menu.children("."+o.classNames.hover).trigger("contextmenu:blur").children(".hover").trigger("contextmenu:blur"),n.hasClass(o.classNames.disabled)||n.hasClass(o.classNames.notSelectable)?r.$selected=null:n.trigger("contextmenu:focus")},itemMouseleave:function(t){var n=e(this),i=n.data(),r=i.contextMenu,o=i.contextMenuRoot;if(o!==r&&o.$layer&&o.$layer.is(t.relatedTarget))return void 0!==o.$selected&&null!==o.$selected&&o.$selected.trigger("contextmenu:blur"),t.preventDefault(),t.stopImmediatePropagation(),void(o.$selected=r.$selected=r.$node);r&&r.$menu&&r.$menu.hasClass("context-menu-visible")||n.trigger("contextmenu:blur")},itemClick:function(t){var n,i=e(this),r=i.data(),o=r.contextMenu,a=r.contextMenuRoot,s=r.contextMenuKey;if(!(!o.items[s]||i.is("."+a.classNames.disabled+", .context-menu-separator, ."+a.classNames.notSelectable)||i.is(".context-menu-submenu")&&!1===a.selectableSubMenu)){if(t.preventDefault(),t.stopImmediatePropagation(),e.isFunction(o.callbacks[s])&&Object.prototype.hasOwnProperty.call(o.callbacks,s))n=o.callbacks[s];else{if(!e.isFunction(a.callback))return;n=a.callback}!1!==n.call(a.$trigger,s,a,t)?a.$menu.trigger("contextmenu:hide"):a.$menu.parent().length&&h.update.call(a.$trigger,a)}},inputClick:function(e){e.stopImmediatePropagation()},hideMenu:function(t,n){var i=e(this).data("contextMenuRoot");h.hide.call(i.$trigger,i,n&&n.force)},focusItem:function(t){t.stopPropagation();var n=e(this),i=n.data(),r=i.contextMenu,o=i.contextMenuRoot;n.hasClass(o.classNames.disabled)||n.hasClass(o.classNames.notSelectable)||(n.addClass([o.classNames.hover,o.classNames.visible].join(" ")).parent().find(".context-menu-item").not(n).removeClass(o.classNames.visible).filter("."+o.classNames.hover).trigger("contextmenu:blur"),r.$selected=o.$selected=n,r&&r.$node&&r.$node.hasClass("context-menu-submenu")&&r.$node.addClass(o.classNames.hover),r.$node&&o.positionSubmenu.call(r.$node,r.$menu))},blurItem:function(t){t.stopPropagation();var n=e(this),i=n.data(),r=i.contextMenu,o=i.contextMenuRoot;r.autoHide&&n.removeClass(o.classNames.visible),n.removeClass(o.classNames.hover),r.$selected=null}},h={show:function(t,i,r){var o=e(this),a={};if(e("#context-menu-layer").trigger("mousedown"),t.$trigger=o,!1!==t.events.show.call(o,t))if(!1!==h.update.call(o,t)){if(t.position.call(o,t,i,r),t.zIndex){var s=t.zIndex;"function"==typeof t.zIndex&&(s=t.zIndex.call(o,t)),a.zIndex=A(o)+s}h.layer.call(t.$menu,t,a.zIndex),t.$menu.find("ul").css("zIndex",a.zIndex+1),t.$menu.css(a)[t.animation.show](t.animation.duration,(function(){o.trigger("contextmenu:visible"),h.activated(t),t.events.activated(t)})),o.data("contextMenu",t).addClass("context-menu-active"),e(document).off("keydown.contextMenu").on("keydown.contextMenu",d.key),t.autoHide&&e(document).on("mousemove.contextMenuAutoHide",(function(e){var n=o.offset();n.right=n.left+o.outerWidth(),n.bottom=n.top+o.outerHeight(),!t.$layer||t.hovering||e.pageX>=n.left&&e.pageX<=n.right&&e.pageY>=n.top&&e.pageY<=n.bottom||setTimeout((function(){t.hovering||null===t.$menu||void 0===t.$menu||t.$menu.trigger("contextmenu:hide")}),50)}))}else n=null;else n=null},hide:function(t,i){var r=e(this);if(t||(t=r.data("contextMenu")||{}),i||!t.events||!1!==t.events.hide.call(r,t)){if(r.removeData("contextMenu").removeClass("context-menu-active"),t.$layer){setTimeout((o=t.$layer,function(){o.remove()}),10);try{delete t.$layer}catch(e){t.$layer=null}}var o;n=null,t.$menu.find("."+t.classNames.hover).trigger("contextmenu:blur"),t.$selected=null,t.$menu.find("."+t.classNames.visible).removeClass(t.classNames.visible),e(document).off(".contextMenuAutoHide").off("keydown.contextMenu"),t.$menu&&t.$menu[t.animation.hide](t.animation.duration,(function(){t.build&&(t.$menu.remove(),e.each(t,(function(e){switch(e){case"ns":case"selector":case"build":case"trigger":return!0;default:t[e]=void 0;try{delete t[e]}catch(e){}return!0}}))),setTimeout((function(){r.trigger("contextmenu:hidden")}),10)}))}},create:function(t,n){function i(t){var n=e("<span></span>");if(t._accesskey)t._beforeAccesskey&&n.append(document.createTextNode(t._beforeAccesskey)),e("<span></span>").addClass("context-menu-accesskey").text(t._accesskey).appendTo(n),t._afterAccesskey&&n.append(document.createTextNode(t._afterAccesskey));else if(t.isHtmlName){if(void 0!==t.accesskey)throw new Error("accesskeys are not compatible with HTML names and cannot be used together in the same item");n.html(t.name)}else n.text(t.name);return n}void 0===n&&(n=t),t.$menu=e('<ul class="context-menu-list"></ul>').addClass(t.className||"").data({contextMenu:t,contextMenuRoot:n}),t.dataAttr&&e.each(t.dataAttr,(function(e,n){t.$menu.attr("data-"+t.key,n)})),e.each(["callbacks","commands","inputs"],(function(e,i){t[i]={},n[i]||(n[i]={})})),n.accesskeys||(n.accesskeys={}),e.each(t.items,(function(r,o){var a=e('<li class="context-menu-item"></li>').addClass(o.className||""),s=null,u=null;if(a.on("click",e.noop),"string"!=typeof o&&"cm_separator"!==o.type||(o={type:"cm_seperator"}),o.$node=a.data({contextMenu:t,contextMenuRoot:n,contextMenuKey:r}),void 0!==o.accesskey)for(var l,A=f(o.accesskey),p=0;l=A[p];p++)if(!n.accesskeys[l]){n.accesskeys[l]=o;var v=o.name.match(new RegExp("^(.*?)("+l+")(.*)$","i"));v&&(o._beforeAccesskey=v[1],o._accesskey=v[2],o._afterAccesskey=v[3]);break}if(o.type&&c[o.type])c[o.type].call(a,o,t,n),e.each([t,n],(function(n,i){i.commands[r]=o,!e.isFunction(o.callback)||void 0!==i.callbacks[r]&&void 0!==t.type||(i.callbacks[r]=o.callback)}));else{switch("cm_seperator"===o.type?a.addClass("context-menu-separator "+n.classNames.notSelectable):"html"===o.type?a.addClass("context-menu-html "+n.classNames.notSelectable):"sub"!==o.type&&o.type?(s=e("<label></label>").appendTo(a),i(o).appendTo(s),a.addClass("context-menu-input"),t.hasTypes=!0,e.each([t,n],(function(e,t){t.commands[r]=o,t.inputs[r]=o}))):o.items&&(o.type="sub"),o.type){case"cm_seperator":break;case"text":u=e('<input type="text" value="1" name="" />').attr("name","context-menu-input-"+r).val(o.value||"").appendTo(s);break;case"textarea":u=e('<textarea name=""></textarea>').attr("name","context-menu-input-"+r).val(o.value||"").appendTo(s),o.height&&u.height(o.height);break;case"checkbox":u=e('<input type="checkbox" value="1" name="" />').attr("name","context-menu-input-"+r).val(o.value||"").prop("checked",!!o.selected).prependTo(s);break;case"radio":u=e('<input type="radio" value="1" name="" />').attr("name","context-menu-input-"+o.radio).val(o.value||"").prop("checked",!!o.selected).prependTo(s);break;case"select":u=e('<select name=""></select>').attr("name","context-menu-input-"+r).appendTo(s),o.options&&(e.each(o.options,(function(t,n){e("<option></option>").val(t).text(n).appendTo(u)})),u.val(o.selected));break;case"sub":i(o).appendTo(a),o.appendTo=o.$node,a.data("contextMenu",o).addClass("context-menu-submenu"),o.callback=null,"function"==typeof o.items.then?h.processPromises(o,n,o.items):h.create(o,n);break;case"html":e(o.html).appendTo(a);break;default:e.each([t,n],(function(n,i){i.commands[r]=o,!e.isFunction(o.callback)||void 0!==i.callbacks[r]&&void 0!==t.type||(i.callbacks[r]=o.callback)})),i(o).appendTo(a)}o.type&&"sub"!==o.type&&"html"!==o.type&&"cm_seperator"!==o.type&&(u.on("focus",d.focusInput).on("blur",d.blurInput),o.events&&u.on(o.events,t)),o.icon&&(e.isFunction(o.icon)?o._icon=o.icon.call(this,this,a,r,o):"string"!=typeof o.icon||"fab "!==o.icon.substring(0,4)&&"fas "!==o.icon.substring(0,4)&&"fad "!==o.icon.substring(0,4)&&"far "!==o.icon.substring(0,4)&&"fal "!==o.icon.substring(0,4)?"string"==typeof o.icon&&"fa-"===o.icon.substring(0,3)?o._icon=n.classNames.icon+" "+n.classNames.icon+"--fa fa "+o.icon:o._icon=n.classNames.icon+" "+n.classNames.icon+"-"+o.icon:(a.addClass(n.classNames.icon+" "+n.classNames.icon+"--fa5"),o._icon=e('<i class="'+o.icon+'"></i>')),"string"==typeof o._icon?a.addClass(o._icon):a.prepend(o._icon))}o.$input=u,o.$label=s,a.appendTo(t.$menu),!t.hasTypes&&e.support.eventSelectstart&&a.on("selectstart.disableTextSelect",d.abortevent)})),t.$node||t.$menu.css("display","none").addClass("context-menu-root"),t.$menu.appendTo(t.appendTo||document.body)},resize:function(t,n){var i;t.css({position:"absolute",display:"block"}),t.data("width",(i=t.get(0)).getBoundingClientRect?Math.ceil(i.getBoundingClientRect().width):t.outerWidth()+1),t.css({position:"static",minWidth:"0px",maxWidth:"100000px"}),t.find("> li > ul").each((function(){h.resize(e(this),!0)})),n||t.find("ul").addBack().css({position:"",display:"",minWidth:"",maxWidth:""}).outerWidth((function(){return e(this).data("width")}))},update:function(t,n){var i=this;void 0===n&&(n=t,h.resize(t.$menu));var r=!1;return t.$menu.children().each((function(){var o,a=e(this),s=a.data("contextMenuKey"),c=t.items[s],u=e.isFunction(c.disabled)&&c.disabled.call(i,s,n)||!0===c.disabled;if((o=e.isFunction(c.visible)?c.visible.call(i,s,n):void 0===c.visible||!0===c.visible)&&(r=!0),a[o?"show":"hide"](),a[u?"addClass":"removeClass"](n.classNames.disabled),e.isFunction(c.icon)){a.removeClass(c._icon);var l=c.icon.call(this,i,a,s,c);"string"==typeof l?a.addClass(l):a.prepend(l)}if(c.type)switch(a.find("input, select, textarea").prop("disabled",u),c.type){case"text":case"textarea":c.$input.val(c.value||"");break;case"checkbox":case"radio":c.$input.val(c.value||"").prop("checked",!!c.selected);break;case"select":c.$input.val((0===c.selected?"0":c.selected)||"")}c.$menu&&h.update.call(i,c,n)&&(r=!0)})),r},layer:function(t,n){var i=t.$layer=e('<div id="context-menu-layer"></div>').css({height:r.height(),width:r.width(),display:"block",position:"fixed","z-index":n-1,top:0,left:0,opacity:0,filter:"alpha(opacity=0)","background-color":"#000"}).data("contextMenuRoot",t).appendTo(document.body).on("contextmenu",d.abortevent).on("mousedown",d.layerClick);return void 0===document.body.style.maxWidth&&i.css({position:"absolute",height:e(document).height()}),i},processPromises:function(e,t,n){function i(e,t,n){void 0===n&&r(void 0),o(e,t,n)}function r(e,t,n){void 0===n?(n={error:{name:"No items and no error item",icon:"context-menu-icon context-menu-icon-quit"}},window.console&&(console.error||console.log).call(console,'When you reject a promise, provide an "items" object, equal to normal sub-menu items')):"string"==typeof n&&(n={error:{name:n}}),o(e,t,n)}function o(e,t,n){void 0!==t.$menu&&t.$menu.is(":visible")&&(e.$node.removeClass(t.classNames.iconLoadingClass),e.items=n,h.create(e,t,!0),h.update(e,t),t.positionSubmenu.call(e.$node,e.$menu))}e.$node.addClass(t.classNames.iconLoadingClass),n.then(i.bind(this,e,t),r.bind(this,e,t))},activated:function(t){var n=t.$menu,i=n.offset(),r=e(window).height(),o=e(window).scrollTop(),a=n.height();a>r?n.css({height:r+"px","overflow-x":"hidden","overflow-y":"auto",top:o+"px"}):(i.top<o||i.top+a>o+r)&&n.css({top:o+"px"})}};function f(e){for(var t,n=e.split(/\s+/),i=[],r=0;t=n[r];r++)t=t.charAt(0).toUpperCase(),i.push(t);return i}function p(t){return t.id&&e('label[for="'+t.id+'"]').val()||t.name}function v(t,n,i){return i||(i=0),n.each((function(){var n,r,o=e(this),a=this,s=this.nodeName.toLowerCase();switch("label"===s&&o.find("input, textarea, select").length&&(n=o.text(),s=(a=(o=o.children().first()).get(0)).nodeName.toLowerCase()),s){case"menu":r={name:o.attr("label"),items:{}},i=v(r.items,o.children(),i);break;case"a":case"button":r={name:o.text(),disabled:!!o.attr("disabled"),callback:function(){o.get(0).click()}};break;case"menuitem":case"command":switch(o.attr("type")){case void 0:case"command":case"menuitem":r={name:o.attr("label"),disabled:!!o.attr("disabled"),icon:o.attr("icon"),callback:function(){o.get(0).click()}};break;case"checkbox":r={type:"checkbox",disabled:!!o.attr("disabled"),name:o.attr("label"),selected:!!o.attr("checked")};break;case"radio":r={type:"radio",disabled:!!o.attr("disabled"),name:o.attr("label"),radio:o.attr("radiogroup"),value:o.attr("id"),selected:!!o.attr("checked")};break;default:r=void 0}break;case"hr":r="-------";break;case"input":switch(o.attr("type")){case"text":r={type:"text",name:n||p(a),disabled:!!o.attr("disabled"),value:o.val()};break;case"checkbox":r={type:"checkbox",name:n||p(a),disabled:!!o.attr("disabled"),selected:!!o.attr("checked")};break;case"radio":r={type:"radio",name:n||p(a),disabled:!!o.attr("disabled"),radio:!!o.attr("name"),value:o.val(),selected:!!o.attr("checked")};break;default:r=void 0}break;case"select":r={type:"select",name:n||p(a),disabled:!!o.attr("disabled"),selected:o.val(),options:{}},o.children().each((function(){r.options[this.value]=e(this).text()}));break;case"textarea":r={type:"textarea",name:n||p(a),disabled:!!o.attr("disabled"),value:o.val()};break;case"label":break;default:r={type:"html",html:o.clone(!0)}}r&&(i++,t["key"+i]=r)})),i}e.fn.contextMenu=function(t){var n=this,i=t;if(this.length>0)if(void 0===t)this.first().trigger("contextmenu");else if(void 0!==t.x&&void 0!==t.y)this.first().trigger(e.Event("contextmenu",{pageX:t.x,pageY:t.y,mouseButton:t.button}));else if("hide"===t){var r=this.first().data("contextMenu")?this.first().data("contextMenu").$menu:null;r&&r.trigger("contextmenu:hide")}else"destroy"===t?e.contextMenu("destroy",{context:this}):e.isPlainObject(t)?(t.context=this,e.contextMenu("create",t)):t?this.removeClass("context-menu-disabled"):t||this.addClass("context-menu-disabled");else e.each(s,(function(){this.selector===n.selector&&(i.data=this,e.extend(i.data,{trigger:"demand"}))})),d.contextmenu.call(i.target,i);return this},e.contextMenu=function(t,n){"string"!=typeof t&&(n=t,t="create"),"string"==typeof n?n={selector:n}:void 0===n&&(n={});var r=e.extend(!0,{},u,n||{}),c=e(document),l=c,A=!1;switch(r.context&&r.context.length?(l=e(r.context).first(),r.context=l.get(0),A=!e(r.context).is(document)):r.context=document,t){case"update":if(A)h.update(l);else for(var f in s)s.hasOwnProperty(f)&&h.update(s[f]);break;case"create":if(!r.selector)throw new Error("No selector specified");if(r.selector.match(/.context-menu-(list|item|input)($|\s)/))throw new Error('Cannot bind to selector "'+r.selector+'" as it contains a reserved className');if(!r.build&&(!r.items||e.isEmptyObject(r.items)))throw new Error("No Items specified");if(o++,r.ns=".contextMenu"+o,A||(a[r.selector]=r.ns),s[r.ns]=r,r.trigger||(r.trigger="right"),!i){var p="click"===r.itemClickEvent?"click.contextMenu":"mouseup.contextMenu",v={"contextmenu:focus.contextMenu":d.focusItem,"contextmenu:blur.contextMenu":d.blurItem,"contextmenu.contextMenu":d.abortevent,"mouseenter.contextMenu":d.itemMouseenter,"mouseleave.contextMenu":d.itemMouseleave};v[p]=d.itemClick,c.on({"contextmenu:hide.contextMenu":d.hideMenu,"prevcommand.contextMenu":d.prevItem,"nextcommand.contextMenu":d.nextItem,"contextmenu.contextMenu":d.abortevent,"mouseenter.contextMenu":d.menuMouseenter,"mouseleave.contextMenu":d.menuMouseleave},".context-menu-list").on("mouseup.contextMenu",".context-menu-input",d.inputClick).on(v,".context-menu-item"),i=!0}switch(l.on("contextmenu"+r.ns,r.selector,r,d.contextmenu),A&&l.on("remove"+r.ns,(function(){e(this).contextMenu("destroy")})),r.trigger){case"hover":l.on("mouseenter"+r.ns,r.selector,r,d.mouseenter).on("mouseleave"+r.ns,r.selector,r,d.mouseleave);break;case"left":l.on("click"+r.ns,r.selector,r,d.click);break;case"touchstart":l.on("touchstart"+r.ns,r.selector,r,d.click)}r.build||h.create(r);break;case"destroy":var g;if(A){var m=r.context;e.each(s,(function(t,n){if(!n)return!0;if(!e(m).is(n.selector))return!0;(g=e(".context-menu-list").filter(":visible")).length&&g.data().contextMenuRoot.$trigger.is(e(n.context).find(n.selector))&&g.trigger("contextmenu:hide",{force:!0});try{s[n.ns].$menu&&s[n.ns].$menu.remove(),delete s[n.ns]}catch(e){s[n.ns]=null}return e(n.context).off(n.ns),!0}))}else if(r.selector){if(a[r.selector]){(g=e(".context-menu-list").filter(":visible")).length&&g.data().contextMenuRoot.$trigger.is(r.selector)&&g.trigger("contextmenu:hide",{force:!0});try{s[a[r.selector]].$menu&&s[a[r.selector]].$menu.remove(),delete s[a[r.selector]]}catch(e){s[a[r.selector]]=null}c.off(a[r.selector])}}else c.off(".contextMenu .contextMenuAutoHide"),e.each(s,(function(t,n){e(n.context).off(n.ns)})),a={},s={},o=0,i=!1,e("#context-menu-layer, .context-menu-list").remove();break;case"html5":(!e.support.htmlCommand&&!e.support.htmlMenuitem||"boolean"==typeof n&&n)&&e('menu[type="context"]').each((function(){this.id&&e.contextMenu({selector:"[contextmenu="+this.id+"]",items:e.contextMenu.fromMenu(this)})})).css("display","none");break;default:throw new Error('Unknown operation "'+t+'"')}return this},e.contextMenu.setInputValues=function(t,n){void 0===n&&(n={}),e.each(t.inputs,(function(e,t){switch(t.type){case"text":case"textarea":t.value=n[e]||"";break;case"checkbox":t.selected=!!n[e];break;case"radio":t.selected=(n[t.radio]||"")===t.value;break;case"select":t.selected=n[e]||""}}))},e.contextMenu.getInputValues=function(t,n){return void 0===n&&(n={}),e.each(t.inputs,(function(e,t){switch(t.type){case"text":case"textarea":case"select":n[e]=t.$input.val();break;case"checkbox":n[e]=t.$input.prop("checked");break;case"radio":t.$input.prop("checked")&&(n[t.radio]=t.value)}})),n},e.contextMenu.fromMenu=function(t){var n={};return v(n,e(t).children()),n},e.contextMenu.defaults=u,e.contextMenu.types=c,e.contextMenu.handle=d,e.contextMenu.op=h,e.contextMenu.menus=s})?i.apply(t,r):i)||(e.exports=o)},9755:function(e,t){var n;
/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(i,r){"use strict";var o=[],a=Object.getPrototypeOf,s=o.slice,c=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},u=o.push,l=o.indexOf,A={},d=A.toString,h=A.hasOwnProperty,f=h.toString,p=f.call(Object),v={},g=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},m=function(e){return null!=e&&e===e.window},y=i.document,_={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var i,r,o=(n=n||y).createElement("script");if(o.text=e,t)for(i in _)(r=t[i]||t.getAttribute&&t.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?A[d.call(e)]||"object":typeof e}var k="3.7.1",x=/HTML$/i,P=function(e,t){return new P.fn.init(e,t)};function C(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!g(e)&&!m(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function D(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}P.fn=P.prototype={jquery:k,constructor:P,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=P.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return P.each(this,e)},map:function(e){return this.pushStack(P.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(P.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(P.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:o.sort,splice:o.splice},P.extend=P.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||g(a)||(a={}),s===c&&(a=this,s--);s<c;s++)if(null!=(e=arguments[s]))for(t in e)i=e[t],"__proto__"!==t&&a!==i&&(u&&i&&(P.isPlainObject(i)||(r=Array.isArray(i)))?(n=a[t],o=r&&!Array.isArray(n)?[]:r||P.isPlainObject(n)?n:{},r=!1,a[t]=P.extend(u,o,i)):void 0!==i&&(a[t]=i));return a},P.extend({expando:"jQuery"+(k+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==d.call(e))&&(!(t=a(e))||"function"==typeof(n=h.call(t,"constructor")&&t.constructor)&&f.call(n)===p)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(C(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},text:function(e){var t,n="",i=0,r=e.nodeType;if(!r)for(;t=e[i++];)n+=P.text(t);return 1===r||11===r?e.textContent:9===r?e.documentElement.textContent:3===r||4===r?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(C(Object(e))?P.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:l.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!x.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++)!t(e[r],r)!==a&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,a=[];if(C(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&a.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&a.push(r);return c(a)},guid:1,support:v}),"function"==typeof Symbol&&(P.fn[Symbol.iterator]=o[Symbol.iterator]),P.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){A["[object "+t+"]"]=t.toLowerCase()}));var E=o.pop,S=o.sort,I=o.splice,T="[\\x20\\t\\r\\n\\f]",R=new RegExp("^"+T+"+|((?:^|[^\\\\])(?:\\\\.)*)"+T+"+$","g");P.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var M=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function F(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}P.escapeSelector=function(e){return(e+"").replace(M,F)};var N=y,L=u;!function(){var e,t,n,r,a,c,u,A,d,f,p=L,g=P.expando,m=0,y=0,_=ee(),b=ee(),w=ee(),k=ee(),x=function(e,t){return e===t&&(a=!0),0},C="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="(?:\\\\[\\da-fA-F]{1,6}"+T+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",F="\\["+T+"*("+M+")(?:"+T+"*([*^$|!~]?=)"+T+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+T+"*\\]",O=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",j=new RegExp(T+"+","g"),B=new RegExp("^"+T+"*,"+T+"*"),V=new RegExp("^"+T+"*([>+~]|"+T+")"+T+"*"),U=new RegExp(T+"|>"),H=new RegExp(O),z=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+T+"*(even|odd|(([+-]|)(\\d*)n|)"+T+"*(?:([+-]|)"+T+"*(\\d+)|))"+T+"*\\)|)","i"),bool:new RegExp("^(?:"+C+")$","i"),needsContext:new RegExp("^"+T+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+T+"*((?:-\\d)?\\d*)"+T+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,q=new RegExp("\\\\[\\da-fA-F]{1,6}"+T+"?|\\\\([^\\r\\n\\f])","g"),K=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},Z=function(){ce()},X=de((function(e){return!0===e.disabled&&D(e,"fieldset")}),{dir:"parentNode",next:"legend"});try{p.apply(o=s.call(N.childNodes),N.childNodes),o[N.childNodes.length].nodeType}catch(e){p={apply:function(e,t){L.apply(e,s.call(t))},call:function(e){L.apply(e,s.call(arguments,1))}}}function Q(e,t,n,i){var r,o,a,s,u,l,h,f=t&&t.ownerDocument,m=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!i&&(ce(t),t=t||c,A)){if(11!==m&&(u=$.exec(e)))if(r=u[1]){if(9===m){if(!(a=t.getElementById(r)))return n;if(a.id===r)return p.call(n,a),n}else if(f&&(a=f.getElementById(r))&&Q.contains(t,a)&&a.id===r)return p.call(n,a),n}else{if(u[2])return p.apply(n,t.getElementsByTagName(e)),n;if((r=u[3])&&t.getElementsByClassName)return p.apply(n,t.getElementsByClassName(r)),n}if(!(k[e+" "]||d&&d.test(e))){if(h=e,f=t,1===m&&(U.test(e)||V.test(e))){for((f=J.test(e)&&se(t.parentNode)||t)==t&&v.scope||((s=t.getAttribute("id"))?s=P.escapeSelector(s):t.setAttribute("id",s=g)),o=(l=le(e)).length;o--;)l[o]=(s?"#"+s:":scope")+" "+Ae(l[o]);h=l.join(",")}try{return p.apply(n,f.querySelectorAll(h)),n}catch(t){k(e,!0)}finally{s===g&&t.removeAttribute("id")}}}return me(e.replace(R,"$1"),t,n,i)}function ee(){var e=[];return function n(i,r){return e.push(i+" ")>t.cacheLength&&delete n[e.shift()],n[i+" "]=r}}function te(e){return e[g]=!0,e}function ne(e){var t=c.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ie(e){return function(t){return D(t,"input")&&t.type===e}}function re(e){return function(t){return(D(t,"input")||D(t,"button"))&&t.type===e}}function oe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&X(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ae(e){return te((function(t){return t=+t,te((function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))}))}))}function se(e){return e&&void 0!==e.getElementsByTagName&&e}function ce(e){var n,i=e?e.ownerDocument||e:N;return i!=c&&9===i.nodeType&&i.documentElement?(u=(c=i).documentElement,A=!P.isXMLDoc(c),f=u.matches||u.webkitMatchesSelector||u.msMatchesSelector,u.msMatchesSelector&&N!=c&&(n=c.defaultView)&&n.top!==n&&n.addEventListener("unload",Z),v.getById=ne((function(e){return u.appendChild(e).id=P.expando,!c.getElementsByName||!c.getElementsByName(P.expando).length})),v.disconnectedMatch=ne((function(e){return f.call(e,"*")})),v.scope=ne((function(){return c.querySelectorAll(":scope")})),v.cssHas=ne((function(){try{return c.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}})),v.getById?(t.filter.ID=function(e){var t=e.replace(q,K);return function(e){return e.getAttribute("id")===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&A){var n=t.getElementById(e);return n?[n]:[]}}):(t.filter.ID=function(e){var t=e.replace(q,K);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&A){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),t.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},t.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&A)return t.getElementsByClassName(e)},d=[],ne((function(e){var t;u.appendChild(e).innerHTML="<a id='"+g+"' href='' disabled='disabled'></a><select id='"+g+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+T+"*(?:value|"+C+")"),e.querySelectorAll("[id~="+g+"-]").length||d.push("~="),e.querySelectorAll("a#"+g+"+*").length||d.push(".#.+[+~]"),e.querySelectorAll(":checked").length||d.push(":checked"),(t=c.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),u.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&d.push(":enabled",":disabled"),(t=c.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||d.push("\\["+T+"*name"+T+"*="+T+"*(?:''|\"\")")})),v.cssHas||d.push(":has"),d=d.length&&new RegExp(d.join("|")),x=function(e,t){if(e===t)return a=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!v.sortDetached&&t.compareDocumentPosition(e)===n?e===c||e.ownerDocument==N&&Q.contains(N,e)?-1:t===c||t.ownerDocument==N&&Q.contains(N,t)?1:r?l.call(r,e)-l.call(r,t):0:4&n?-1:1)},c):c}for(e in Q.matches=function(e,t){return Q(e,null,null,t)},Q.matchesSelector=function(e,t){if(ce(e),A&&!k[t+" "]&&(!d||!d.test(t)))try{var n=f.call(e,t);if(n||v.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){k(t,!0)}return Q(t,c,null,[e]).length>0},Q.contains=function(e,t){return(e.ownerDocument||e)!=c&&ce(e),P.contains(e,t)},Q.attr=function(e,n){(e.ownerDocument||e)!=c&&ce(e);var i=t.attrHandle[n.toLowerCase()],r=i&&h.call(t.attrHandle,n.toLowerCase())?i(e,n,!A):void 0;return void 0!==r?r:e.getAttribute(n)},Q.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},P.uniqueSort=function(e){var t,n=[],i=0,o=0;if(a=!v.sortStable,r=!v.sortStable&&s.call(e,0),S.call(e,x),a){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)I.call(e,n[i],1)}return r=null,e},P.fn.uniqueSort=function(){return this.pushStack(P.uniqueSort(s.apply(this)))},t=P.expr={cacheLength:50,createPseudo:te,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(q,K),e[3]=(e[3]||e[4]||e[5]||"").replace(q,K),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Q.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Q.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return W.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&H.test(n)&&(t=le(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(q,K).toLowerCase();return"*"===e?function(){return!0}:function(e){return D(e,t)}},CLASS:function(e){var t=_[e+" "];return t||(t=new RegExp("(^|"+T+")"+e+"("+T+"|$)"))&&_(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var r=Q.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(j," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,c){var u,l,A,d,h,f=o!==a?"nextSibling":"previousSibling",p=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!c&&!s,_=!1;if(p){if(o){for(;f;){for(A=t;A=A[f];)if(s?D(A,v):1===A.nodeType)return!1;h=f="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?p.firstChild:p.lastChild],a&&y){for(_=(d=(u=(l=p[g]||(p[g]={}))[e]||[])[0]===m&&u[1])&&u[2],A=d&&p.childNodes[d];A=++d&&A&&A[f]||(_=d=0)||h.pop();)if(1===A.nodeType&&++_&&A===t){l[e]=[m,d,_];break}}else if(y&&(_=d=(u=(l=t[g]||(t[g]={}))[e]||[])[0]===m&&u[1]),!1===_)for(;(A=++d&&A&&A[f]||(_=d=0)||h.pop())&&(!(s?D(A,v):1===A.nodeType)||!++_||(y&&((l=A[g]||(A[g]={}))[e]=[m,_]),A!==t)););return(_-=r)===i||_%i==0&&_/i>=0}}},PSEUDO:function(e,n){var i,r=t.pseudos[e]||t.setFilters[e.toLowerCase()]||Q.error("unsupported pseudo: "+e);return r[g]?r(n):r.length>1?(i=[e,e,"",n],t.setFilters.hasOwnProperty(e.toLowerCase())?te((function(e,t){for(var i,o=r(e,n),a=o.length;a--;)e[i=l.call(e,o[a])]=!(t[i]=o[a])})):function(e){return r(e,0,i)}):r}},pseudos:{not:te((function(e){var t=[],n=[],i=ge(e.replace(R,"$1"));return i[g]?te((function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}})),has:te((function(e){return function(t){return Q(e,t).length>0}})),contains:te((function(e){return e=e.replace(q,K),function(t){return(t.textContent||P.text(t)).indexOf(e)>-1}})),lang:te((function(e){return z.test(e||"")||Q.error("unsupported lang: "+e),e=e.replace(q,K).toLowerCase(),function(t){var n;do{if(n=A?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=i.location&&i.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===u},focus:function(e){return e===function(){try{return c.activeElement}catch(e){}}()&&c.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:oe(!1),disabled:oe(!0),checked:function(e){return D(e,"input")&&!!e.checked||D(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!t.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){return D(e,"input")&&"button"===e.type||D(e,"button")},text:function(e){var t;return D(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ae((function(){return[0]})),last:ae((function(e,t){return[t-1]})),eq:ae((function(e,t,n){return[n<0?n+t:n]})),even:ae((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ae((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ae((function(e,t,n){var i;for(i=n<0?n+t:n>t?t:n;--i>=0;)e.push(i);return e})),gt:ae((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}},t.pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=ie(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=re(e);function ue(){}function le(e,n){var i,r,o,a,s,c,u,l=b[e+" "];if(l)return n?0:l.slice(0);for(s=e,c=[],u=t.preFilter;s;){for(a in i&&!(r=B.exec(s))||(r&&(s=s.slice(r[0].length)||s),c.push(o=[])),i=!1,(r=V.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(R," ")}),s=s.slice(i.length)),t.filter)!(r=W[a].exec(s))||u[a]&&!(r=u[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?Q.error(e):b(e,c).slice(0)}function Ae(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function de(e,t,n){var i=t.dir,r=t.next,o=r||i,a=n&&"parentNode"===o,s=y++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,r);return!1}:function(t,n,c){var u,l,A=[m,s];if(c){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,c))return!0}else for(;t=t[i];)if(1===t.nodeType||a)if(l=t[g]||(t[g]={}),r&&D(t,r))t=t[i]||t;else{if((u=l[o])&&u[0]===m&&u[1]===s)return A[2]=u[2];if(l[o]=A,A[2]=e(t,n,c))return!0}return!1}}function he(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function fe(e,t,n,i,r){for(var o,a=[],s=0,c=e.length,u=null!=t;s<c;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),u&&t.push(s)));return a}function pe(e,t,n,i,r,o){return i&&!i[g]&&(i=pe(i)),r&&!r[g]&&(r=pe(r,o)),te((function(o,a,s,c){var u,A,d,h,f=[],v=[],g=a.length,m=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)Q(e,t[i],n);return n}(t||"*",s.nodeType?[s]:s,[]),y=!e||!o&&t?m:fe(m,f,e,s,c);if(n?n(y,h=r||(o?e:g||i)?[]:a,s,c):h=y,i)for(u=fe(h,v),i(u,[],s,c),A=u.length;A--;)(d=u[A])&&(h[v[A]]=!(y[v[A]]=d));if(o){if(r||e){if(r){for(u=[],A=h.length;A--;)(d=h[A])&&u.push(y[A]=d);r(null,h=[],u,c)}for(A=h.length;A--;)(d=h[A])&&(u=r?l.call(o,d):f[A])>-1&&(o[u]=!(a[u]=d))}}else h=fe(h===a?h.splice(g,h.length):h),r?r(null,a,h,c):p.apply(a,h)}))}function ve(e){for(var i,r,o,a=e.length,s=t.relative[e[0].type],c=s||t.relative[" "],u=s?1:0,A=de((function(e){return e===i}),c,!0),d=de((function(e){return l.call(i,e)>-1}),c,!0),h=[function(e,t,r){var o=!s&&(r||t!=n)||((i=t).nodeType?A(e,t,r):d(e,t,r));return i=null,o}];u<a;u++)if(r=t.relative[e[u].type])h=[de(he(h),r)];else{if((r=t.filter[e[u].type].apply(null,e[u].matches))[g]){for(o=++u;o<a&&!t.relative[e[o].type];o++);return pe(u>1&&he(h),u>1&&Ae(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(R,"$1"),r,u<o&&ve(e.slice(u,o)),o<a&&ve(e=e.slice(o)),o<a&&Ae(e))}h.push(r)}return he(h)}function ge(e,i){var r,o=[],a=[],s=w[e+" "];if(!s){for(i||(i=le(e)),r=i.length;r--;)(s=ve(i[r]))[g]?o.push(s):a.push(s);s=w(e,function(e,i){var r=i.length>0,o=e.length>0,a=function(a,s,u,l,d){var h,f,v,g=0,y="0",_=a&&[],b=[],w=n,k=a||o&&t.find.TAG("*",d),x=m+=null==w?1:Math.random()||.1,C=k.length;for(d&&(n=s==c||s||d);y!==C&&null!=(h=k[y]);y++){if(o&&h){for(f=0,s||h.ownerDocument==c||(ce(h),u=!A);v=e[f++];)if(v(h,s||c,u)){p.call(l,h);break}d&&(m=x)}r&&((h=!v&&h)&&g--,a&&_.push(h))}if(g+=y,r&&y!==g){for(f=0;v=i[f++];)v(_,b,s,u);if(a){if(g>0)for(;y--;)_[y]||b[y]||(b[y]=E.call(l));b=fe(b)}p.apply(l,b),d&&!a&&b.length>0&&g+i.length>1&&P.uniqueSort(l)}return d&&(m=x,n=w),_};return r?te(a):a}(a,o)),s.selector=e}return s}function me(e,n,i,r){var o,a,s,c,u,l="function"==typeof e&&e,d=!r&&le(e=l.selector||e);if(i=i||[],1===d.length){if((a=d[0]=d[0].slice(0)).length>2&&"ID"===(s=a[0]).type&&9===n.nodeType&&A&&t.relative[a[1].type]){if(!(n=(t.find.ID(s.matches[0].replace(q,K),n)||[])[0]))return i;l&&(n=n.parentNode),e=e.slice(a.shift().value.length)}for(o=W.needsContext.test(e)?0:a.length;o--&&(s=a[o],!t.relative[c=s.type]);)if((u=t.find[c])&&(r=u(s.matches[0].replace(q,K),J.test(a[0].type)&&se(n.parentNode)||n))){if(a.splice(o,1),!(e=r.length&&Ae(a)))return p.apply(i,r),i;break}}return(l||ge(e,d))(r,n,!A,i,!n||J.test(e)&&se(n.parentNode)||n),i}ue.prototype=t.filters=t.pseudos,t.setFilters=new ue,v.sortStable=g.split("").sort(x).join("")===g,ce(),v.sortDetached=ne((function(e){return 1&e.compareDocumentPosition(c.createElement("fieldset"))})),P.find=Q,P.expr[":"]=P.expr.pseudos,P.unique=P.uniqueSort,Q.compile=ge,Q.select=me,Q.setDocument=ce,Q.tokenize=le,Q.escape=P.escapeSelector,Q.getText=P.text,Q.isXML=P.isXMLDoc,Q.selectors=P.expr,Q.support=P.support,Q.uniqueSort=P.uniqueSort}();var O=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&P(e).is(n))break;i.push(e)}return i},j=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},B=P.expr.match.needsContext,V=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function U(e,t,n){return g(t)?P.grep(e,(function(e,i){return!!t.call(e,i,e)!==n})):t.nodeType?P.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?P.grep(e,(function(e){return l.call(t,e)>-1!==n})):P.filter(t,e,n)}P.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?P.find.matchesSelector(i,e)?[i]:[]:P.find.matches(e,P.grep(t,(function(e){return 1===e.nodeType})))},P.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(P(e).filter((function(){for(t=0;t<i;t++)if(P.contains(r[t],this))return!0})));for(n=this.pushStack([]),t=0;t<i;t++)P.find(e,r[t],n);return i>1?P.uniqueSort(n):n},filter:function(e){return this.pushStack(U(this,e||[],!1))},not:function(e){return this.pushStack(U(this,e||[],!0))},is:function(e){return!!U(this,"string"==typeof e&&B.test(e)?P(e):e||[],!1).length}});var H,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(P.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||H,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:z.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof P?t[0]:t,P.merge(this,P.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:y,!0)),V.test(i[1])&&P.isPlainObject(t))for(i in t)g(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=y.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==n.ready?n.ready(e):e(P):P.makeArray(e,this)}).prototype=P.fn,H=P(y);var W=/^(?:parents|prev(?:Until|All))/,G={children:!0,contents:!0,next:!0,prev:!0};function Y(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}P.fn.extend({has:function(e){var t=P(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(P.contains(this,t[e]))return!0}))},closest:function(e,t){var n,i=0,r=this.length,o=[],a="string"!=typeof e&&P(e);if(!B.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&P.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?P.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?l.call(P(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(P.uniqueSort(P.merge(this.get(),P(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),P.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return O(e,"parentNode")},parentsUntil:function(e,t,n){return O(e,"parentNode",n)},next:function(e){return Y(e,"nextSibling")},prev:function(e){return Y(e,"previousSibling")},nextAll:function(e){return O(e,"nextSibling")},prevAll:function(e){return O(e,"previousSibling")},nextUntil:function(e,t,n){return O(e,"nextSibling",n)},prevUntil:function(e,t,n){return O(e,"previousSibling",n)},siblings:function(e){return j((e.parentNode||{}).firstChild,e)},children:function(e){return j(e.firstChild)},contents:function(e){return null!=e.contentDocument&&a(e.contentDocument)?e.contentDocument:(D(e,"template")&&(e=e.content||e),P.merge([],e.childNodes))}},(function(e,t){P.fn[e]=function(n,i){var r=P.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=P.filter(i,r)),this.length>1&&(G[e]||P.uniqueSort(r),W.test(e)&&r.reverse()),this.pushStack(r)}}));var $=/[^\x20\t\r\n\f]+/g;function J(e){return e}function q(e){throw e}function K(e,t,n,i){var r;try{e&&g(r=e.promise)?r.call(e).done(t).fail(n):e&&g(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}P.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return P.each(e.match($)||[],(function(e,n){t[n]=!0})),t}(e):P.extend({},e);var t,n,i,r,o=[],a=[],s=-1,c=function(){for(r=r||e.once,i=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:"")},u={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){P.each(n,(function(n,i){g(i)?e.unique&&u.has(i)||o.push(i):i&&i.length&&"string"!==w(i)&&t(i)}))}(arguments),n&&!t&&c()),this},remove:function(){return P.each(arguments,(function(e,t){for(var n;(n=P.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--})),this},has:function(e){return e?P.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||t||(o=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},P.extend({Deferred:function(e){var t=[["notify","progress",P.Callbacks("memory"),P.Callbacks("memory"),2],["resolve","done",P.Callbacks("once memory"),P.Callbacks("once memory"),0,"resolved"],["reject","fail",P.Callbacks("once memory"),P.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return P.Deferred((function(n){P.each(t,(function(t,i){var r=g(e[i[4]])&&e[i[4]];o[i[1]]((function(){var e=r&&r.apply(this,arguments);e&&g(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,r){var o=0;function a(e,t,n,r){return function(){var s=this,c=arguments,u=function(){var i,u;if(!(e<o)){if((i=n.apply(s,c))===t.promise())throw new TypeError("Thenable self-resolution");u=i&&("object"==typeof i||"function"==typeof i)&&i.then,g(u)?r?u.call(i,a(o,t,J,r),a(o,t,q,r)):(o++,u.call(i,a(o,t,J,r),a(o,t,q,r),a(o,t,J,t.notifyWith))):(n!==J&&(s=void 0,c=[i]),(r||t.resolveWith)(s,c))}},l=r?u:function(){try{u()}catch(i){P.Deferred.exceptionHook&&P.Deferred.exceptionHook(i,l.error),e+1>=o&&(n!==q&&(s=void 0,c=[i]),t.rejectWith(s,c))}};e?l():(P.Deferred.getErrorHook?l.error=P.Deferred.getErrorHook():P.Deferred.getStackHook&&(l.error=P.Deferred.getStackHook()),i.setTimeout(l))}}return P.Deferred((function(i){t[0][3].add(a(0,i,g(r)?r:J,i.notifyWith)),t[1][3].add(a(0,i,g(e)?e:J)),t[2][3].add(a(0,i,g(n)?n:q))})).promise()},promise:function(e){return null!=e?P.extend(e,r):r}},o={};return P.each(t,(function(e,i){var a=i[2],s=i[5];r[i[1]]=a.add,s&&a.add((function(){n=s}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(i[3].fire),o[i[0]]=function(){return o[i[0]+"With"](this===o?void 0:this,arguments),this},o[i[0]+"With"]=a.fireWith})),r.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),r=s.call(arguments),o=P.Deferred(),a=function(e){return function(n){i[e]=this,r[e]=arguments.length>1?s.call(arguments):n,--t||o.resolveWith(i,r)}};if(t<=1&&(K(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||g(r[n]&&r[n].then)))return o.then();for(;n--;)K(r[n],a(n),o.reject);return o.promise()}});var Z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;P.Deferred.exceptionHook=function(e,t){i.console&&i.console.warn&&e&&Z.test(e.name)&&i.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},P.readyException=function(e){i.setTimeout((function(){throw e}))};var X=P.Deferred();function Q(){y.removeEventListener("DOMContentLoaded",Q),i.removeEventListener("load",Q),P.ready()}P.fn.ready=function(e){return X.then(e).catch((function(e){P.readyException(e)})),this},P.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--P.readyWait:P.isReady)||(P.isReady=!0,!0!==e&&--P.readyWait>0||X.resolveWith(y,[P]))}}),P.ready.then=X.then,"complete"===y.readyState||"loading"!==y.readyState&&!y.documentElement.doScroll?i.setTimeout(P.ready):(y.addEventListener("DOMContentLoaded",Q),i.addEventListener("load",Q));var ee=function(e,t,n,i,r,o,a){var s=0,c=e.length,u=null==n;if("object"===w(n))for(s in r=!0,n)ee(e,t,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,g(i)||(a=!0),u&&(a?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(P(e),n)})),t))for(;s<c;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:u?t.call(e):c?t(e[0],n):o},te=/^-ms-/,ne=/-([a-z])/g;function ie(e,t){return t.toUpperCase()}function re(e){return e.replace(te,"ms-").replace(ne,ie)}var oe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function ae(){this.expando=P.expando+ae.uid++}ae.uid=1,ae.prototype={cache:function(e){var t=e[this.expando];return t||(t={},oe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[re(t)]=n;else for(i in t)r[re(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][re(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(re):(t=re(t))in i?[t]:t.match($)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||P.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!P.isEmptyObject(t)}};var se=new ae,ce=new ae,ue=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,le=/[A-Z]/g;function Ae(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(le,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ue.test(e)?JSON.parse(e):e)}(n)}catch(e){}ce.set(e,t,n)}else n=void 0;return n}P.extend({hasData:function(e){return ce.hasData(e)||se.hasData(e)},data:function(e,t,n){return ce.access(e,t,n)},removeData:function(e,t){ce.remove(e,t)},_data:function(e,t,n){return se.access(e,t,n)},_removeData:function(e,t){se.remove(e,t)}}),P.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=ce.get(o),1===o.nodeType&&!se.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=re(i.slice(5)),Ae(o,i,r[i]));se.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each((function(){ce.set(this,e)})):ee(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=ce.get(o,e))||void 0!==(n=Ae(o,e))?n:void 0;this.each((function(){ce.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){ce.remove(this,e)}))}}),P.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=se.get(e,t),n&&(!i||Array.isArray(n)?i=se.access(e,t,P.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=P.queue(e,t),i=n.length,r=n.shift(),o=P._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,(function(){P.dequeue(e,t)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return se.get(e,n)||se.access(e,n,{empty:P.Callbacks("once memory").add((function(){se.remove(e,[t+"queue",n])}))})}}),P.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?P.queue(this[0],e):void 0===t?this:this.each((function(){var n=P.queue(this,e,t);P._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&P.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){P.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=P.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=se.get(o[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var de=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,he=new RegExp("^(?:([+-])=|)("+de+")([a-z%]*)$","i"),fe=["Top","Right","Bottom","Left"],pe=y.documentElement,ve=function(e){return P.contains(e.ownerDocument,e)},ge={composed:!0};pe.getRootNode&&(ve=function(e){return P.contains(e.ownerDocument,e)||e.getRootNode(ge)===e.ownerDocument});var me=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ve(e)&&"none"===P.css(e,"display")};function ye(e,t,n,i){var r,o,a=20,s=i?function(){return i.cur()}:function(){return P.css(e,t,"")},c=s(),u=n&&n[3]||(P.cssNumber[t]?"":"px"),l=e.nodeType&&(P.cssNumber[t]||"px"!==u&&+c)&&he.exec(P.css(e,t));if(l&&l[3]!==u){for(c/=2,u=u||l[3],l=+c||1;a--;)P.style(e,t,l+u),(1-o)*(1-(o=s()/c||.5))<=0&&(a=0),l/=o;l*=2,P.style(e,t,l+u),n=n||[]}return n&&(l=+l||+c||0,r=n[1]?l+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=l,i.end=r)),r}var _e={};function be(e){var t,n=e.ownerDocument,i=e.nodeName,r=_e[i];return r||(t=n.body.appendChild(n.createElement(i)),r=P.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),_e[i]=r,r)}function we(e,t){for(var n,i,r=[],o=0,a=e.length;o<a;o++)(i=e[o]).style&&(n=i.style.display,t?("none"===n&&(r[o]=se.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&me(i)&&(r[o]=be(i))):"none"!==n&&(r[o]="none",se.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}P.fn.extend({show:function(){return we(this,!0)},hide:function(){return we(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){me(this)?P(this).show():P(this).hide()}))}});var ke,xe,Pe=/^(?:checkbox|radio)$/i,Ce=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,De=/^$|^module$|\/(?:java|ecma)script/i;ke=y.createDocumentFragment().appendChild(y.createElement("div")),(xe=y.createElement("input")).setAttribute("type","radio"),xe.setAttribute("checked","checked"),xe.setAttribute("name","t"),ke.appendChild(xe),v.checkClone=ke.cloneNode(!0).cloneNode(!0).lastChild.checked,ke.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!ke.cloneNode(!0).lastChild.defaultValue,ke.innerHTML="<option></option>",v.option=!!ke.lastChild;var Ee={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Se(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&D(e,t)?P.merge([e],n):n}function Ie(e,t){for(var n=0,i=e.length;n<i;n++)se.set(e[n],"globalEval",!t||se.get(t[n],"globalEval"))}Ee.tbody=Ee.tfoot=Ee.colgroup=Ee.caption=Ee.thead,Ee.th=Ee.td,v.option||(Ee.optgroup=Ee.option=[1,"<select multiple='multiple'>","</select>"]);var Te=/<|&#?\w+;/;function Re(e,t,n,i,r){for(var o,a,s,c,u,l,A=t.createDocumentFragment(),d=[],h=0,f=e.length;h<f;h++)if((o=e[h])||0===o)if("object"===w(o))P.merge(d,o.nodeType?[o]:o);else if(Te.test(o)){for(a=a||A.appendChild(t.createElement("div")),s=(Ce.exec(o)||["",""])[1].toLowerCase(),c=Ee[s]||Ee._default,a.innerHTML=c[1]+P.htmlPrefilter(o)+c[2],l=c[0];l--;)a=a.lastChild;P.merge(d,a.childNodes),(a=A.firstChild).textContent=""}else d.push(t.createTextNode(o));for(A.textContent="",h=0;o=d[h++];)if(i&&P.inArray(o,i)>-1)r&&r.push(o);else if(u=ve(o),a=Se(A.appendChild(o),"script"),u&&Ie(a),n)for(l=0;o=a[l++];)De.test(o.type||"")&&n.push(o);return A}var Me=/^([^.]*)(?:\.(.+)|)/;function Fe(){return!0}function Ne(){return!1}function Le(e,t,n,i,r,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)Le(e,s,n,i,t[s],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Ne;else if(!r)return e;return 1===o&&(a=r,r=function(e){return P().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=P.guid++)),e.each((function(){P.event.add(this,t,r,i,n)}))}function Oe(e,t,n){n?(se.set(e,t,!1),P.event.add(e,t,{namespace:!1,handler:function(e){var n,i=se.get(this,t);if(1&e.isTrigger&&this[t]){if(i)(P.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=s.call(arguments),se.set(this,t,i),this[t](),n=se.get(this,t),se.set(this,t,!1),i!==n)return e.stopImmediatePropagation(),e.preventDefault(),n}else i&&(se.set(this,t,P.event.trigger(i[0],i.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Fe)}})):void 0===se.get(e,t)&&P.event.add(e,t,Fe)}P.event={global:{},add:function(e,t,n,i,r){var o,a,s,c,u,l,A,d,h,f,p,v=se.get(e);if(oe(e))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&P.find.matchesSelector(pe,r),n.guid||(n.guid=P.guid++),(c=v.events)||(c=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(t){return void 0!==P&&P.event.triggered!==t.type?P.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match($)||[""]).length;u--;)h=p=(s=Me.exec(t[u])||[])[1],f=(s[2]||"").split(".").sort(),h&&(A=P.event.special[h]||{},h=(r?A.delegateType:A.bindType)||h,A=P.event.special[h]||{},l=P.extend({type:h,origType:p,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&P.expr.match.needsContext.test(r),namespace:f.join(".")},o),(d=c[h])||((d=c[h]=[]).delegateCount=0,A.setup&&!1!==A.setup.call(e,i,f,a)||e.addEventListener&&e.addEventListener(h,a)),A.add&&(A.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,l):d.push(l),P.event.global[h]=!0)},remove:function(e,t,n,i,r){var o,a,s,c,u,l,A,d,h,f,p,v=se.hasData(e)&&se.get(e);if(v&&(c=v.events)){for(u=(t=(t||"").match($)||[""]).length;u--;)if(h=p=(s=Me.exec(t[u])||[])[1],f=(s[2]||"").split(".").sort(),h){for(A=P.event.special[h]||{},d=c[h=(i?A.delegateType:A.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)l=d[o],!r&&p!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||i&&i!==l.selector&&("**"!==i||!l.selector)||(d.splice(o,1),l.selector&&d.delegateCount--,A.remove&&A.remove.call(e,l));a&&!d.length&&(A.teardown&&!1!==A.teardown.call(e,f,v.handle)||P.removeEvent(e,h,v.handle),delete c[h])}else for(h in c)P.event.remove(e,h+t[u],n,i,!0);P.isEmptyObject(c)&&se.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,a,s=new Array(arguments.length),c=P.event.fix(e),u=(se.get(this,"events")||Object.create(null))[c.type]||[],l=P.event.special[c.type]||{};for(s[0]=c,t=1;t<arguments.length;t++)s[t]=arguments[t];if(c.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,c)){for(a=P.event.handlers.call(this,c,u),t=0;(r=a[t++])&&!c.isPropagationStopped();)for(c.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==o.namespace&&!c.rnamespace.test(o.namespace)||(c.handleObj=o,c.data=o.data,void 0!==(i=((P.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))&&!1===(c.result=i)&&(c.preventDefault(),c.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,c),c.result}},handlers:function(e,t){var n,i,r,o,a,s=[],c=t.delegateCount,u=e.target;if(c&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(o=[],a={},n=0;n<c;n++)void 0===a[r=(i=t[n]).selector+" "]&&(a[r]=i.needsContext?P(r,this).index(u)>-1:P.find(r,this,null,[u]).length),a[r]&&o.push(i);o.length&&s.push({elem:u,handlers:o})}return u=this,c<t.length&&s.push({elem:u,handlers:t.slice(c)}),s},addProp:function(e,t){Object.defineProperty(P.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[P.expando]?e:new P.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Pe.test(t.type)&&t.click&&D(t,"input")&&Oe(t,"click",!0),!1},trigger:function(e){var t=this||e;return Pe.test(t.type)&&t.click&&D(t,"input")&&Oe(t,"click"),!0},_default:function(e){var t=e.target;return Pe.test(t.type)&&t.click&&D(t,"input")&&se.get(t,"click")||D(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},P.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},P.Event=function(e,t){if(!(this instanceof P.Event))return new P.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Fe:Ne,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&P.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[P.expando]=!0},P.Event.prototype={constructor:P.Event,isDefaultPrevented:Ne,isPropagationStopped:Ne,isImmediatePropagationStopped:Ne,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Fe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Fe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Fe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},P.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},P.event.addProp),P.each({focus:"focusin",blur:"focusout"},(function(e,t){function n(e){if(y.documentMode){var n=se.get(this,"handle"),i=P.event.fix(e);i.type="focusin"===e.type?"focus":"blur",i.isSimulated=!0,n(e),i.target===i.currentTarget&&n(i)}else P.event.simulate(t,e.target,P.event.fix(e))}P.event.special[e]={setup:function(){var i;if(Oe(this,e,!0),!y.documentMode)return!1;(i=se.get(this,t))||this.addEventListener(t,n),se.set(this,t,(i||0)+1)},trigger:function(){return Oe(this,e),!0},teardown:function(){var e;if(!y.documentMode)return!1;(e=se.get(this,t)-1)?se.set(this,t,e):(this.removeEventListener(t,n),se.remove(this,t))},_default:function(t){return se.get(t.target,e)},delegateType:t},P.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,r=y.documentMode?this:i,o=se.get(r,t);o||(y.documentMode?this.addEventListener(t,n):i.addEventListener(e,n,!0)),se.set(r,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=y.documentMode?this:i,o=se.get(r,t)-1;o?se.set(r,t,o):(y.documentMode?this.removeEventListener(t,n):i.removeEventListener(e,n,!0),se.remove(r,t))}}})),P.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){P.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,r=e.handleObj;return i&&(i===this||P.contains(this,i))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}})),P.fn.extend({on:function(e,t,n,i){return Le(this,e,t,n,i)},one:function(e,t,n,i){return Le(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,P(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ne),this.each((function(){P.event.remove(this,e,n,t)}))}});var je=/<script|<style|<link/i,Be=/checked\s*(?:[^=]|=\s*.checked.)/i,Ve=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ue(e,t){return D(e,"table")&&D(11!==t.nodeType?t:t.firstChild,"tr")&&P(e).children("tbody")[0]||e}function He(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ze(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function We(e,t){var n,i,r,o,a,s;if(1===t.nodeType){if(se.hasData(e)&&(s=se.get(e).events))for(r in se.remove(t,"handle events"),s)for(n=0,i=s[r].length;n<i;n++)P.event.add(t,r,s[r][n]);ce.hasData(e)&&(o=ce.access(e),a=P.extend({},o),ce.set(t,a))}}function Ge(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Pe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Ye(e,t,n,i){t=c(t);var r,o,a,s,u,l,A=0,d=e.length,h=d-1,f=t[0],p=g(f);if(p||d>1&&"string"==typeof f&&!v.checkClone&&Be.test(f))return e.each((function(r){var o=e.eq(r);p&&(t[0]=f.call(this,r,o.html())),Ye(o,t,n,i)}));if(d&&(o=(r=Re(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(s=(a=P.map(Se(r,"script"),He)).length;A<d;A++)u=r,A!==h&&(u=P.clone(u,!0,!0),s&&P.merge(a,Se(u,"script"))),n.call(e[A],u,A);if(s)for(l=a[a.length-1].ownerDocument,P.map(a,ze),A=0;A<s;A++)u=a[A],De.test(u.type||"")&&!se.access(u,"globalEval")&&P.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?P._evalUrl&&!u.noModule&&P._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(Ve,""),u,l))}return e}function $e(e,t,n){for(var i,r=t?P.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||P.cleanData(Se(i)),i.parentNode&&(n&&ve(i)&&Ie(Se(i,"script")),i.parentNode.removeChild(i));return e}P.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,r,o,a,s=e.cloneNode(!0),c=ve(e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||P.isXMLDoc(e)))for(a=Se(s),i=0,r=(o=Se(e)).length;i<r;i++)Ge(o[i],a[i]);if(t)if(n)for(o=o||Se(e),a=a||Se(s),i=0,r=o.length;i<r;i++)We(o[i],a[i]);else We(e,s);return(a=Se(s,"script")).length>0&&Ie(a,!c&&Se(e,"script")),s},cleanData:function(e){for(var t,n,i,r=P.event.special,o=0;void 0!==(n=e[o]);o++)if(oe(n)){if(t=n[se.expando]){if(t.events)for(i in t.events)r[i]?P.event.remove(n,i):P.removeEvent(n,i,t.handle);n[se.expando]=void 0}n[ce.expando]&&(n[ce.expando]=void 0)}}}),P.fn.extend({detach:function(e){return $e(this,e,!0)},remove:function(e){return $e(this,e)},text:function(e){return ee(this,(function(e){return void 0===e?P.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Ye(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ue(this,e).appendChild(e)}))},prepend:function(){return Ye(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ue(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Ye(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Ye(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(P.cleanData(Se(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return P.clone(this,e,t)}))},html:function(e){return ee(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!je.test(e)&&!Ee[(Ce.exec(e)||["",""])[1].toLowerCase()]){e=P.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(P.cleanData(Se(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Ye(this,arguments,(function(t){var n=this.parentNode;P.inArray(this,e)<0&&(P.cleanData(Se(this)),n&&n.replaceChild(t,this))}),e)}}),P.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){P.fn[e]=function(e){for(var n,i=[],r=P(e),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),P(r[a])[t](n),u.apply(i,n.get());return this.pushStack(i)}}));var Je=new RegExp("^("+de+")(?!px)[a-z%]+$","i"),qe=/^--/,Ke=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=i),t.getComputedStyle(e)},Ze=function(e,t,n){var i,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];for(r in i=n.call(e),t)e.style[r]=o[r];return i},Xe=new RegExp(fe.join("|"),"i");function Qe(e,t,n){var i,r,o,a,s=qe.test(t),c=e.style;return(n=n||Ke(e))&&(a=n.getPropertyValue(t)||n[t],s&&a&&(a=a.replace(R,"$1")||void 0),""!==a||ve(e)||(a=P.style(e,t)),!v.pixelBoxStyles()&&Je.test(a)&&Xe.test(t)&&(i=c.width,r=c.minWidth,o=c.maxWidth,c.minWidth=c.maxWidth=c.width=a,a=n.width,c.width=i,c.minWidth=r,c.maxWidth=o)),void 0!==a?a+"":a}function et(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",pe.appendChild(u).appendChild(l);var e=i.getComputedStyle(l);n="1%"!==e.top,c=12===t(e.marginLeft),l.style.right="60%",a=36===t(e.right),r=36===t(e.width),l.style.position="absolute",o=12===t(l.offsetWidth/3),pe.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,o,a,s,c,u=y.createElement("div"),l=y.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===l.style.backgroundClip,P.extend(v,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),c},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,n,r;return null==s&&(e=y.createElement("table"),t=y.createElement("tr"),n=y.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",pe.appendChild(e).appendChild(t).appendChild(n),r=i.getComputedStyle(t),s=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,pe.removeChild(e)),s}}))}();var tt=["Webkit","Moz","ms"],nt=y.createElement("div").style,it={};function rt(e){var t=P.cssProps[e]||it[e];return t||(e in nt?e:it[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=tt.length;n--;)if((e=tt[n]+t)in nt)return e}(e)||e)}var ot=/^(none|table(?!-c[ea]).+)/,at={position:"absolute",visibility:"hidden",display:"block"},st={letterSpacing:"0",fontWeight:"400"};function ct(e,t,n){var i=he.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function ut(e,t,n,i,r,o){var a="width"===t?1:0,s=0,c=0,u=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=P.css(e,n+fe[a],!0,r)),i?("content"===n&&(c-=P.css(e,"padding"+fe[a],!0,r)),"margin"!==n&&(c-=P.css(e,"border"+fe[a]+"Width",!0,r))):(c+=P.css(e,"padding"+fe[a],!0,r),"padding"!==n?c+=P.css(e,"border"+fe[a]+"Width",!0,r):s+=P.css(e,"border"+fe[a]+"Width",!0,r));return!i&&o>=0&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-c-s-.5))||0),c+u}function lt(e,t,n){var i=Ke(e),r=(!v.boxSizingReliable()||n)&&"border-box"===P.css(e,"boxSizing",!1,i),o=r,a=Qe(e,t,i),s="offset"+t[0].toUpperCase()+t.slice(1);if(Je.test(a)){if(!n)return a;a="auto"}return(!v.boxSizingReliable()&&r||!v.reliableTrDimensions()&&D(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===P.css(e,"display",!1,i))&&e.getClientRects().length&&(r="border-box"===P.css(e,"boxSizing",!1,i),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+ut(e,t,n||(r?"border":"content"),o,i,a)+"px"}function At(e,t,n,i,r){return new At.prototype.init(e,t,n,i,r)}P.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Qe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=re(t),c=qe.test(t),u=e.style;if(c||(t=rt(s)),a=P.cssHooks[t]||P.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:u[t];"string"===(o=typeof n)&&(r=he.exec(n))&&r[1]&&(n=ye(e,t,r),o="number"),null!=n&&n==n&&("number"!==o||c||(n+=r&&r[3]||(P.cssNumber[s]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(c?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,i){var r,o,a,s=re(t);return qe.test(t)||(t=rt(s)),(a=P.cssHooks[t]||P.cssHooks[s])&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=Qe(e,t,i)),"normal"===r&&t in st&&(r=st[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),P.each(["height","width"],(function(e,t){P.cssHooks[t]={get:function(e,n,i){if(n)return!ot.test(P.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?lt(e,t,i):Ze(e,at,(function(){return lt(e,t,i)}))},set:function(e,n,i){var r,o=Ke(e),a=!v.scrollboxSize()&&"absolute"===o.position,s=(a||i)&&"border-box"===P.css(e,"boxSizing",!1,o),c=i?ut(e,t,i,s,o):0;return s&&a&&(c-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-ut(e,t,"border",!1,o)-.5)),c&&(r=he.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=P.css(e,t)),ct(0,n,c)}}})),P.cssHooks.marginLeft=et(v.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Qe(e,"marginLeft"))||e.getBoundingClientRect().left-Ze(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),P.each({margin:"",padding:"",border:"Width"},(function(e,t){P.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+fe[i]+t]=o[i]||o[i-2]||o[0];return r}},"margin"!==e&&(P.cssHooks[e+t].set=ct)})),P.fn.extend({css:function(e,t){return ee(this,(function(e,t,n){var i,r,o={},a=0;if(Array.isArray(t)){for(i=Ke(e),r=t.length;a<r;a++)o[t[a]]=P.css(e,t[a],!1,i);return o}return void 0!==n?P.style(e,t,n):P.css(e,t)}),e,t,arguments.length>1)}}),P.Tween=At,At.prototype={constructor:At,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||P.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(P.cssNumber[n]?"":"px")},cur:function(){var e=At.propHooks[this.prop];return e&&e.get?e.get(this):At.propHooks._default.get(this)},run:function(e){var t,n=At.propHooks[this.prop];return this.options.duration?this.pos=t=P.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):At.propHooks._default.set(this),this}},At.prototype.init.prototype=At.prototype,At.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=P.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){P.fx.step[e.prop]?P.fx.step[e.prop](e):1!==e.elem.nodeType||!P.cssHooks[e.prop]&&null==e.elem.style[rt(e.prop)]?e.elem[e.prop]=e.now:P.style(e.elem,e.prop,e.now+e.unit)}}},At.propHooks.scrollTop=At.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},P.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},P.fx=At.prototype.init,P.fx.step={};var dt,ht,ft=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;function vt(){ht&&(!1===y.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(vt):i.setTimeout(vt,P.fx.interval),P.fx.tick())}function gt(){return i.setTimeout((function(){dt=void 0})),dt=Date.now()}function mt(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=fe[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function yt(e,t,n){for(var i,r=(_t.tweeners[t]||[]).concat(_t.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function _t(e,t,n){var i,r,o=0,a=_t.prefilters.length,s=P.Deferred().always((function(){delete c.elem})),c=function(){if(r)return!1;for(var t=dt||gt(),n=Math.max(0,u.startTime+u.duration-t),i=1-(n/u.duration||0),o=0,a=u.tweens.length;o<a;o++)u.tweens[o].run(i);return s.notifyWith(e,[u,i,n]),i<1&&a?n:(a||s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:P.extend({},t),opts:P.extend(!0,{specialEasing:{},easing:P.easing._default},n),originalProperties:t,originalOptions:n,startTime:dt||gt(),duration:n.duration,tweens:[],createTween:function(t,n){var i=P.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),l=u.props;for(!function(e,t){var n,i,r,o,a;for(n in e)if(r=t[i=re(n)],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=P.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(l,u.opts.specialEasing);o<a;o++)if(i=_t.prefilters[o].call(u,e,l,u.opts))return g(i.stop)&&(P._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return P.map(l,yt,u),g(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),P.fx.timer(P.extend(c,{elem:e,anim:u,queue:u.opts.queue})),u}P.Animation=P.extend(_t,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ye(n.elem,e,he.exec(t),n),n}]},tweener:function(e,t){g(e)?(t=e,e=["*"]):e=e.match($);for(var n,i=0,r=e.length;i<r;i++)n=e[i],_t.tweeners[n]=_t.tweeners[n]||[],_t.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,o,a,s,c,u,l,A="width"in t||"height"in t,d=this,h={},f=e.style,p=e.nodeType&&me(e),v=se.get(e,"fxshow");for(i in n.queue||(null==(a=P._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always((function(){d.always((function(){a.unqueued--,P.queue(e,"fx").length||a.empty.fire()}))}))),t)if(r=t[i],ft.test(r)){if(delete t[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!v||void 0===v[i])continue;p=!0}h[i]=v&&v[i]||P.style(e,i)}if((c=!P.isEmptyObject(t))||!P.isEmptyObject(h))for(i in A&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(u=v&&v.display)&&(u=se.get(e,"display")),"none"===(l=P.css(e,"display"))&&(u?l=u:(we([e],!0),u=e.style.display||u,l=P.css(e,"display"),we([e]))),("inline"===l||"inline-block"===l&&null!=u)&&"none"===P.css(e,"float")&&(c||(d.done((function(){f.display=u})),null==u&&(l=f.display,u="none"===l?"":l)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),c=!1,h)c||(v?"hidden"in v&&(p=v.hidden):v=se.access(e,"fxshow",{display:u}),o&&(v.hidden=!p),p&&we([e],!0),d.done((function(){for(i in p||we([e]),se.remove(e,"fxshow"),h)P.style(e,i,h[i])}))),c=yt(p?v[i]:0,i,d),i in v||(v[i]=c.start,p&&(c.end=c.start,c.start=0))}],prefilter:function(e,t){t?_t.prefilters.unshift(e):_t.prefilters.push(e)}}),P.speed=function(e,t,n){var i=e&&"object"==typeof e?P.extend({},e):{complete:n||!n&&t||g(e)&&e,duration:e,easing:n&&t||t&&!g(t)&&t};return P.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in P.fx.speeds?i.duration=P.fx.speeds[i.duration]:i.duration=P.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){g(i.old)&&i.old.call(this),i.queue&&P.dequeue(this,i.queue)},i},P.fn.extend({fadeTo:function(e,t,n,i){return this.filter(me).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=P.isEmptyObject(e),o=P.speed(t,n,i),a=function(){var t=_t(this,P.extend({},e),o);(r||se.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,r=null!=e&&e+"queueHooks",o=P.timers,a=se.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&pt.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||P.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=se.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=P.timers,a=i?i.length:0;for(n.finish=!0,P.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish}))}}),P.each(["toggle","show","hide"],(function(e,t){var n=P.fn[t];P.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(mt(t,!0),e,i,r)}})),P.each({slideDown:mt("show"),slideUp:mt("hide"),slideToggle:mt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){P.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),P.timers=[],P.fx.tick=function(){var e,t=0,n=P.timers;for(dt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||P.fx.stop(),dt=void 0},P.fx.timer=function(e){P.timers.push(e),P.fx.start()},P.fx.interval=13,P.fx.start=function(){ht||(ht=!0,vt())},P.fx.stop=function(){ht=null},P.fx.speeds={slow:600,fast:200,_default:400},P.fn.delay=function(e,t){return e=P.fx&&P.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var r=i.setTimeout(t,e);n.stop=function(){i.clearTimeout(r)}}))},function(){var e=y.createElement("input"),t=y.createElement("select").appendChild(y.createElement("option"));e.type="checkbox",v.checkOn=""!==e.value,v.optSelected=t.selected,(e=y.createElement("input")).value="t",e.type="radio",v.radioValue="t"===e.value}();var bt,wt=P.expr.attrHandle;P.fn.extend({attr:function(e,t){return ee(this,P.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){P.removeAttr(this,e)}))}}),P.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?P.prop(e,t,n):(1===o&&P.isXMLDoc(e)||(r=P.attrHooks[t.toLowerCase()]||(P.expr.match.bool.test(t)?bt:void 0)),void 0!==n?null===n?void P.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=P.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&D(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match($);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),bt={set:function(e,t,n){return!1===t?P.removeAttr(e,n):e.setAttribute(n,n),n}},P.each(P.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=wt[t]||P.find.attr;wt[t]=function(e,t,i){var r,o,a=t.toLowerCase();return i||(o=wt[a],wt[a]=r,r=null!=n(e,t,i)?a:null,wt[a]=o),r}}));var kt=/^(?:input|select|textarea|button)$/i,xt=/^(?:a|area)$/i;function Pt(e){return(e.match($)||[]).join(" ")}function Ct(e){return e.getAttribute&&e.getAttribute("class")||""}function Dt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match($)||[]}P.fn.extend({prop:function(e,t){return ee(this,P.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[P.propFix[e]||e]}))}}),P.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&P.isXMLDoc(e)||(t=P.propFix[t]||t,r=P.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=P.find.attr(e,"tabindex");return t?parseInt(t,10):kt.test(e.nodeName)||xt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(P.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),P.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){P.propFix[this.toLowerCase()]=this})),P.fn.extend({addClass:function(e){var t,n,i,r,o,a;return g(e)?this.each((function(t){P(this).addClass(e.call(this,t,Ct(this)))})):(t=Dt(e)).length?this.each((function(){if(i=Ct(this),n=1===this.nodeType&&" "+Pt(i)+" "){for(o=0;o<t.length;o++)r=t[o],n.indexOf(" "+r+" ")<0&&(n+=r+" ");a=Pt(n),i!==a&&this.setAttribute("class",a)}})):this},removeClass:function(e){var t,n,i,r,o,a;return g(e)?this.each((function(t){P(this).removeClass(e.call(this,t,Ct(this)))})):arguments.length?(t=Dt(e)).length?this.each((function(){if(i=Ct(this),n=1===this.nodeType&&" "+Pt(i)+" "){for(o=0;o<t.length;o++)for(r=t[o];n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");a=Pt(n),i!==a&&this.setAttribute("class",a)}})):this:this.attr("class","")},toggleClass:function(e,t){var n,i,r,o,a=typeof e,s="string"===a||Array.isArray(e);return g(e)?this.each((function(n){P(this).toggleClass(e.call(this,n,Ct(this),t),t)})):"boolean"==typeof t&&s?t?this.addClass(e):this.removeClass(e):(n=Dt(e),this.each((function(){if(s)for(o=P(this),r=0;r<n.length;r++)i=n[r],o.hasClass(i)?o.removeClass(i):o.addClass(i);else void 0!==e&&"boolean"!==a||((i=Ct(this))&&se.set(this,"__className__",i),this.setAttribute&&this.setAttribute("class",i||!1===e?"":se.get(this,"__className__")||""))})))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+Pt(Ct(n))+" ").indexOf(t)>-1)return!0;return!1}});var Et=/\r/g;P.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=g(e),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,P(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=P.map(r,(function(e){return null==e?"":e+""}))),(t=P.valHooks[this.type]||P.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))}))):r?(t=P.valHooks[r.type]||P.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(Et,""):null==n?"":n:void 0}}),P.extend({valHooks:{option:{get:function(e){var t=P.find.attr(e,"value");return null!=t?t:Pt(P.text(e))}},select:{get:function(e){var t,n,i,r=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],c=a?o+1:r.length;for(i=o<0?c:a?o:0;i<c;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!D(n.parentNode,"optgroup"))){if(t=P(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=P.makeArray(t),a=r.length;a--;)((i=r[a]).selected=P.inArray(P.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),P.each(["radio","checkbox"],(function(){P.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=P.inArray(P(e).val(),t)>-1}},v.checkOn||(P.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var St=i.location,It={guid:Date.now()},Tt=/\?/;P.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new i.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||P.error("Invalid XML: "+(n?P.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var Rt=/^(?:focusinfocus|focusoutblur)$/,Mt=function(e){e.stopPropagation()};P.extend(P.event,{trigger:function(e,t,n,r){var o,a,s,c,u,l,A,d,f=[n||y],p=h.call(e,"type")?e.type:e,v=h.call(e,"namespace")?e.namespace.split("."):[];if(a=d=s=n=n||y,3!==n.nodeType&&8!==n.nodeType&&!Rt.test(p+P.event.triggered)&&(p.indexOf(".")>-1&&(v=p.split("."),p=v.shift(),v.sort()),u=p.indexOf(":")<0&&"on"+p,(e=e[P.expando]?e:new P.Event(p,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:P.makeArray(t,[e]),A=P.event.special[p]||{},r||!A.trigger||!1!==A.trigger.apply(n,t))){if(!r&&!A.noBubble&&!m(n)){for(c=A.delegateType||p,Rt.test(c+p)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(n.ownerDocument||y)&&f.push(s.defaultView||s.parentWindow||i)}for(o=0;(a=f[o++])&&!e.isPropagationStopped();)d=a,e.type=o>1?c:A.bindType||p,(l=(se.get(a,"events")||Object.create(null))[e.type]&&se.get(a,"handle"))&&l.apply(a,t),(l=u&&a[u])&&l.apply&&oe(a)&&(e.result=l.apply(a,t),!1===e.result&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||A._default&&!1!==A._default.apply(f.pop(),t)||!oe(n)||u&&g(n[p])&&!m(n)&&((s=n[u])&&(n[u]=null),P.event.triggered=p,e.isPropagationStopped()&&d.addEventListener(p,Mt),n[p](),e.isPropagationStopped()&&d.removeEventListener(p,Mt),P.event.triggered=void 0,s&&(n[u]=s)),e.result}},simulate:function(e,t,n){var i=P.extend(new P.Event,n,{type:e,isSimulated:!0});P.event.trigger(i,null,t)}}),P.fn.extend({trigger:function(e,t){return this.each((function(){P.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return P.event.trigger(e,t,n,!0)}});var Ft=/\[\]$/,Nt=/\r?\n/g,Lt=/^(?:submit|button|image|reset|file)$/i,Ot=/^(?:input|select|textarea|keygen)/i;function jt(e,t,n,i){var r;if(Array.isArray(t))P.each(t,(function(t,r){n||Ft.test(e)?i(e,r):jt(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)}));else if(n||"object"!==w(t))i(e,t);else for(r in t)jt(e+"["+r+"]",t[r],n,i)}P.param=function(e,t){var n,i=[],r=function(e,t){var n=g(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!P.isPlainObject(e))P.each(e,(function(){r(this.name,this.value)}));else for(n in e)jt(n,e[n],t,r);return i.join("&")},P.fn.extend({serialize:function(){return P.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=P.prop(this,"elements");return e?P.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!P(this).is(":disabled")&&Ot.test(this.nodeName)&&!Lt.test(e)&&(this.checked||!Pe.test(e))})).map((function(e,t){var n=P(this).val();return null==n?null:Array.isArray(n)?P.map(n,(function(e){return{name:t.name,value:e.replace(Nt,"\r\n")}})):{name:t.name,value:n.replace(Nt,"\r\n")}})).get()}});var Bt=/%20/g,Vt=/#.*$/,Ut=/([?&])_=[^&]*/,Ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,zt=/^(?:GET|HEAD)$/,Wt=/^\/\//,Gt={},Yt={},$t="*/".concat("*"),Jt=y.createElement("a");function qt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match($)||[];if(g(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Kt(e,t,n,i){var r={},o=e===Yt;function a(s){var c;return r[s]=!0,P.each(e[s]||[],(function(e,s){var u=s(t,n,i);return"string"!=typeof u||o||r[u]?o?!(c=u):void 0:(t.dataTypes.unshift(u),a(u),!1)})),c}return a(t.dataTypes[0])||!r["*"]&&a("*")}function Zt(e,t){var n,i,r=P.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&P.extend(!0,e,i),e}Jt.href=St.href,P.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:St.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(St.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":P.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Zt(Zt(e,P.ajaxSettings),t):Zt(P.ajaxSettings,e)},ajaxPrefilter:qt(Gt),ajaxTransport:qt(Yt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,o,a,s,c,u,l,A,d,h=P.ajaxSetup({},t),f=h.context||h,p=h.context&&(f.nodeType||f.jquery)?P(f):P.event,v=P.Deferred(),g=P.Callbacks("once memory"),m=h.statusCode||{},_={},b={},w="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(u){if(!a)for(a={};t=Ht.exec(o);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?o:null},setRequestHeader:function(e,t){return null==u&&(e=b[e.toLowerCase()]=b[e.toLowerCase()]||e,_[e]=t),this},overrideMimeType:function(e){return null==u&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)k.always(e[k.status]);else for(t in e)m[t]=[m[t],e[t]];return this},abort:function(e){var t=e||w;return n&&n.abort(t),x(0,t),this}};if(v.promise(k),h.url=((e||h.url||St.href)+"").replace(Wt,St.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match($)||[""],null==h.crossDomain){c=y.createElement("a");try{c.href=h.url,c.href=c.href,h.crossDomain=Jt.protocol+"//"+Jt.host!=c.protocol+"//"+c.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=P.param(h.data,h.traditional)),Kt(Gt,h,t,k),u)return k;for(A in(l=P.event&&h.global)&&0==P.active++&&P.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!zt.test(h.type),r=h.url.replace(Vt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Bt,"+")):(d=h.url.slice(r.length),h.data&&(h.processData||"string"==typeof h.data)&&(r+=(Tt.test(r)?"&":"?")+h.data,delete h.data),!1===h.cache&&(r=r.replace(Ut,"$1"),d=(Tt.test(r)?"&":"?")+"_="+It.guid+++d),h.url=r+d),h.ifModified&&(P.lastModified[r]&&k.setRequestHeader("If-Modified-Since",P.lastModified[r]),P.etag[r]&&k.setRequestHeader("If-None-Match",P.etag[r])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&k.setRequestHeader("Content-Type",h.contentType),k.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+$t+"; q=0.01":""):h.accepts["*"]),h.headers)k.setRequestHeader(A,h.headers[A]);if(h.beforeSend&&(!1===h.beforeSend.call(f,k,h)||u))return k.abort();if(w="abort",g.add(h.complete),k.done(h.success),k.fail(h.error),n=Kt(Yt,h,t,k)){if(k.readyState=1,l&&p.trigger("ajaxSend",[k,h]),u)return k;h.async&&h.timeout>0&&(s=i.setTimeout((function(){k.abort("timeout")}),h.timeout));try{u=!1,n.send(_,x)}catch(e){if(u)throw e;x(-1,e)}}else x(-1,"No Transport");function x(e,t,a,c){var A,d,y,_,b,w=t;u||(u=!0,s&&i.clearTimeout(s),n=void 0,o=c||"",k.readyState=e>0?4:0,A=e>=200&&e<300||304===e,a&&(_=function(e,t,n){for(var i,r,o,a,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){c.unshift(r);break}if(c[0]in n)o=c[0];else{for(r in n){if(!c[0]||e.converters[r+" "+c[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==c[0]&&c.unshift(o),n[o]}(h,k,a)),!A&&P.inArray("script",h.dataTypes)>-1&&P.inArray("json",h.dataTypes)<0&&(h.converters["text script"]=function(){}),_=function(e,t,n,i){var r,o,a,s,c,u={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!c&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=o,o=l.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(!(a=u[c+" "+o]||u["* "+o]))for(r in u)if((s=r.split(" "))[1]===o&&(a=u[c+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[r]:!0!==u[r]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+c+" to "+o}}}return{state:"success",data:t}}(h,_,k,A),A?(h.ifModified&&((b=k.getResponseHeader("Last-Modified"))&&(P.lastModified[r]=b),(b=k.getResponseHeader("etag"))&&(P.etag[r]=b)),204===e||"HEAD"===h.type?w="nocontent":304===e?w="notmodified":(w=_.state,d=_.data,A=!(y=_.error))):(y=w,!e&&w||(w="error",e<0&&(e=0))),k.status=e,k.statusText=(t||w)+"",A?v.resolveWith(f,[d,w,k]):v.rejectWith(f,[k,w,y]),k.statusCode(m),m=void 0,l&&p.trigger(A?"ajaxSuccess":"ajaxError",[k,h,A?d:y]),g.fireWith(f,[k,w]),l&&(p.trigger("ajaxComplete",[k,h]),--P.active||P.event.trigger("ajaxStop")))}return k},getJSON:function(e,t,n){return P.get(e,t,n,"json")},getScript:function(e,t){return P.get(e,void 0,t,"script")}}),P.each(["get","post"],(function(e,t){P[t]=function(e,n,i,r){return g(n)&&(r=r||i,i=n,n=void 0),P.ajax(P.extend({url:e,type:t,dataType:r,data:n,success:i},P.isPlainObject(e)&&e))}})),P.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),P._evalUrl=function(e,t,n){return P.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){P.globalEval(e,t,n)}})},P.fn.extend({wrapAll:function(e){var t;return this[0]&&(g(e)&&(e=e.call(this[0])),t=P(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return g(e)?this.each((function(t){P(this).wrapInner(e.call(this,t))})):this.each((function(){var t=P(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=g(e);return this.each((function(n){P(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){P(this).replaceWith(this.childNodes)})),this}}),P.expr.pseudos.hidden=function(e){return!P.expr.pseudos.visible(e)},P.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},P.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(e){}};var Xt={0:200,1223:204},Qt=P.ajaxSettings.xhr();v.cors=!!Qt&&"withCredentials"in Qt,v.ajax=Qt=!!Qt,P.ajaxTransport((function(e){var t,n;if(v.cors||Qt&&!e.crossDomain)return{send:function(r,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);t=function(e){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Xt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&i.setTimeout((function(){t&&n()}))},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),P.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),P.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return P.globalEval(e),e}}}),P.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),P.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,r){t=P("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),y.head.appendChild(t[0])},abort:function(){n&&n()}}}));var en,tn=[],nn=/(=)\?(?=&|$)|\?\?/;P.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tn.pop()||P.expando+"_"+It.guid++;return this[e]=!0,e}}),P.ajaxPrefilter("json jsonp",(function(e,t,n){var r,o,a,s=!1!==e.jsonp&&(nn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&nn.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=g(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(nn,"$1"+r):!1!==e.jsonp&&(e.url+=(Tt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||P.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=i[r],i[r]=function(){a=arguments},n.always((function(){void 0===o?P(i).removeProp(r):i[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,tn.push(r)),a&&g(o)&&o(a[0]),a=o=void 0})),"script"})),v.createHTMLDocument=((en=y.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===en.childNodes.length),P.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((i=(t=y.implementation.createHTMLDocument("")).createElement("base")).href=y.location.href,t.head.appendChild(i)):t=y),o=!n&&[],(r=V.exec(e))?[t.createElement(r[1])]:(r=Re([e],t,o),o&&o.length&&P(o).remove(),P.merge([],r.childNodes)));var i,r,o},P.fn.load=function(e,t,n){var i,r,o,a=this,s=e.indexOf(" ");return s>-1&&(i=Pt(e.slice(s)),e=e.slice(0,s)),g(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&P.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done((function(e){o=arguments,a.html(i?P("<div>").append(P.parseHTML(e)).find(i):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},P.expr.pseudos.animated=function(e){return P.grep(P.timers,(function(t){return e===t.elem})).length},P.offset={setOffset:function(e,t,n){var i,r,o,a,s,c,u=P.css(e,"position"),l=P(e),A={};"static"===u&&(e.style.position="relative"),s=l.offset(),o=P.css(e,"top"),c=P.css(e,"left"),("absolute"===u||"fixed"===u)&&(o+c).indexOf("auto")>-1?(a=(i=l.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(c)||0),g(t)&&(t=t.call(e,n,P.extend({},s))),null!=t.top&&(A.top=t.top-s.top+a),null!=t.left&&(A.left=t.left-s.left+r),"using"in t?t.using.call(e,A):l.css(A)}},P.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){P.offset.setOffset(this,e,t)}));var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===P.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===P.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=P(e).offset()).top+=P.css(e,"borderTopWidth",!0),r.left+=P.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-P.css(i,"marginTop",!0),left:t.left-r.left-P.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===P.css(e,"position");)e=e.offsetParent;return e||pe}))}}),P.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;P.fn[e]=function(i){return ee(this,(function(e,i,r){var o;if(m(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r}),e,i,arguments.length)}})),P.each(["top","left"],(function(e,t){P.cssHooks[t]=et(v.pixelPosition,(function(e,n){if(n)return n=Qe(e,t),Je.test(n)?P(e).position()[t]+"px":n}))})),P.each({Height:"height",Width:"width"},(function(e,t){P.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,i){P.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===o?"margin":"border");return ee(this,(function(t,n,r){var o;return m(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?P.css(t,n,s):P.style(t,n,r,s)}),t,a?r:void 0,a)}}))})),P.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){P.fn[t]=function(e){return this.on(t,e)}})),P.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),P.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){P.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var rn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;P.proxy=function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),g(e))return i=s.call(arguments,2),r=function(){return e.apply(t||this,i.concat(s.call(arguments)))},r.guid=e.guid=e.guid||P.guid++,r},P.holdReady=function(e){e?P.readyWait++:P.ready(!0)},P.isArray=Array.isArray,P.parseJSON=JSON.parse,P.nodeName=D,P.isFunction=g,P.isWindow=m,P.camelCase=re,P.type=w,P.now=Date.now,P.isNumeric=function(e){var t=P.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},P.trim=function(e){return null==e?"":(e+"").replace(rn,"$1")},void 0===(n=function(){return P}.apply(t,[]))||(e.exports=n);var on=i.jQuery,an=i.$;return P.noConflict=function(e){return i.$===P&&(i.$=an),e&&i.jQuery===P&&(i.jQuery=on),P},void 0===r&&(i.jQuery=i.$=P),P}))},8552:(e,t,n)=>{var i=n(852)(n(5639),"DataView");e.exports=i},1989:(e,t,n)=>{var i=n(1789),r=n(401),o=n(7667),a=n(1327),s=n(1866);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},8407:(e,t,n)=>{var i=n(7040),r=n(4125),o=n(2117),a=n(7518),s=n(4705);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},7071:(e,t,n)=>{var i=n(852)(n(5639),"Map");e.exports=i},3369:(e,t,n)=>{var i=n(4785),r=n(1285),o=n(6e3),a=n(9916),s=n(5265);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},3818:(e,t,n)=>{var i=n(852)(n(5639),"Promise");e.exports=i},8525:(e,t,n)=>{var i=n(852)(n(5639),"Set");e.exports=i},8668:(e,t,n)=>{var i=n(3369),r=n(619),o=n(2385);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=r,a.prototype.has=o,e.exports=a},6384:(e,t,n)=>{var i=n(8407),r=n(7465),o=n(3779),a=n(7599),s=n(4758),c=n(4309);function u(e){var t=this.__data__=new i(e);this.size=t.size}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,e.exports=u},2705:(e,t,n)=>{var i=n(5639).Symbol;e.exports=i},1149:(e,t,n)=>{var i=n(5639).Uint8Array;e.exports=i},577:(e,t,n)=>{var i=n(852)(n(5639),"WeakMap");e.exports=i},4963:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}},4636:(e,t,n)=>{var i=n(2545),r=n(5694),o=n(1469),a=n(4144),s=n(5776),c=n(6719),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&r(e),A=!n&&!l&&a(e),d=!n&&!l&&!A&&c(e),h=n||l||A||d,f=h?i(e.length,String):[],p=f.length;for(var v in e)!t&&!u.call(e,v)||h&&("length"==v||A&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,p))||f.push(v);return f}},2488:e=>{e.exports=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}},2908:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}},8470:(e,t,n)=>{var i=n(7813);e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},8866:(e,t,n)=>{var i=n(2488),r=n(1469);e.exports=function(e,t,n){var o=t(e);return r(e)?o:i(o,n(e))}},4239:(e,t,n)=>{var i=n(2705),r=n(9607),o=n(2333),a=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?r(e):o(e)}},9454:(e,t,n)=>{var i=n(4239),r=n(7005);e.exports=function(e){return r(e)&&"[object Arguments]"==i(e)}},939:(e,t,n)=>{var i=n(2492),r=n(7005);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!r(t)&&!r(n)?t!=t&&n!=n:i(t,n,o,a,e,s))}},2492:(e,t,n)=>{var i=n(6384),r=n(7114),o=n(8351),a=n(6096),s=n(4160),c=n(1469),u=n(4144),l=n(6719),A="[object Arguments]",d="[object Array]",h="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,p,v,g){var m=c(e),y=c(t),_=m?d:s(e),b=y?d:s(t),w=(_=_==A?h:_)==h,k=(b=b==A?h:b)==h,x=_==b;if(x&&u(e)){if(!u(t))return!1;m=!0,w=!1}if(x&&!w)return g||(g=new i),m||l(e)?r(e,t,n,p,v,g):o(e,t,_,n,p,v,g);if(!(1&n)){var P=w&&f.call(e,"__wrapped__"),C=k&&f.call(t,"__wrapped__");if(P||C){var D=P?e.value():e,E=C?t.value():t;return g||(g=new i),v(D,E,n,p,g)}}return!!x&&(g||(g=new i),a(e,t,n,p,v,g))}},8458:(e,t,n)=>{var i=n(3560),r=n(5346),o=n(3218),a=n(346),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,A=u.hasOwnProperty,d=RegExp("^"+l.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||r(e))&&(i(e)?d:s).test(a(e))}},8749:(e,t,n)=>{var i=n(4239),r=n(1780),o=n(7005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&r(e.length)&&!!a[i(e)]}},280:(e,t,n)=>{var i=n(5726),r=n(6916),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return r(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},2545:e=>{e.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}},7561:(e,t,n)=>{var i=n(7246),r=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(r,""):e}},1717:e=>{e.exports=function(e){return function(t){return e(t)}}},4757:e=>{e.exports=function(e,t){return e.has(t)}},4429:(e,t,n)=>{var i=n(5639)["__core-js_shared__"];e.exports=i},7114:(e,t,n)=>{var i=n(8668),r=n(2908),o=n(4757);e.exports=function(e,t,n,a,s,c){var u=1&n,l=e.length,A=t.length;if(l!=A&&!(u&&A>l))return!1;var d=c.get(e),h=c.get(t);if(d&&h)return d==t&&h==e;var f=-1,p=!0,v=2&n?new i:void 0;for(c.set(e,t),c.set(t,e);++f<l;){var g=e[f],m=t[f];if(a)var y=u?a(m,g,f,t,e,c):a(g,m,f,e,t,c);if(void 0!==y){if(y)continue;p=!1;break}if(v){if(!r(t,(function(e,t){if(!o(v,t)&&(g===e||s(g,e,n,a,c)))return v.push(t)}))){p=!1;break}}else if(g!==m&&!s(g,m,n,a,c)){p=!1;break}}return c.delete(e),c.delete(t),p}},8351:(e,t,n)=>{var i=n(2705),r=n(1149),o=n(7813),a=n(7114),s=n(8776),c=n(1814),u=i?i.prototype:void 0,l=u?u.valueOf:void 0;e.exports=function(e,t,n,i,u,A,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!A(new r(e),new r(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var f=1&i;if(h||(h=c),e.size!=t.size&&!f)return!1;var p=d.get(e);if(p)return p==t;i|=2,d.set(e,t);var v=a(h(e),h(t),i,u,A,d);return d.delete(e),v;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},6096:(e,t,n)=>{var i=n(8234),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var c=1&n,u=i(e),l=u.length;if(l!=i(t).length&&!c)return!1;for(var A=l;A--;){var d=u[A];if(!(c?d in t:r.call(t,d)))return!1}var h=s.get(e),f=s.get(t);if(h&&f)return h==t&&f==e;var p=!0;s.set(e,t),s.set(t,e);for(var v=c;++A<l;){var g=e[d=u[A]],m=t[d];if(o)var y=c?o(m,g,d,t,e,s):o(g,m,d,e,t,s);if(!(void 0===y?g===m||a(g,m,n,o,s):y)){p=!1;break}v||(v="constructor"==d)}if(p&&!v){var _=e.constructor,b=t.constructor;_==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b||(p=!1)}return s.delete(e),s.delete(t),p}},1957:(e,t,n)=>{var i="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=i},8234:(e,t,n)=>{var i=n(8866),r=n(9551),o=n(3674);e.exports=function(e){return i(e,o,r)}},5050:(e,t,n)=>{var i=n(7019);e.exports=function(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}},852:(e,t,n)=>{var i=n(8458),r=n(7801);e.exports=function(e,t){var n=r(e,t);return i(n)?n:void 0}},9607:(e,t,n)=>{var i=n(2705),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,s=i?i.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var i=!0}catch(e){}var r=a.call(e);return i&&(t?e[s]=n:delete e[s]),r}},9551:(e,t,n)=>{var i=n(4963),r=n(479),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),i(a(e),(function(t){return o.call(e,t)})))}:r;e.exports=s},4160:(e,t,n)=>{var i=n(8552),r=n(7071),o=n(3818),a=n(8525),s=n(577),c=n(4239),u=n(346),l="[object Map]",A="[object Promise]",d="[object Set]",h="[object WeakMap]",f="[object DataView]",p=u(i),v=u(r),g=u(o),m=u(a),y=u(s),_=c;(i&&_(new i(new ArrayBuffer(1)))!=f||r&&_(new r)!=l||o&&_(o.resolve())!=A||a&&_(new a)!=d||s&&_(new s)!=h)&&(_=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,i=n?u(n):"";if(i)switch(i){case p:return f;case v:return l;case g:return A;case m:return d;case y:return h}return t}),e.exports=_},7801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},1789:(e,t,n)=>{var i=n(4536);e.exports=function(){this.__data__=i?i(null):{},this.size=0}},401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7667:(e,t,n)=>{var i=n(4536),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(i){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(t,e)?t[e]:void 0}},1327:(e,t,n)=>{var i=n(4536),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:r.call(t,e)}},1866:(e,t,n)=>{var i=n(4536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?"__lodash_hash_undefined__":t,this}},5776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var i=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==i||"symbol"!=i&&t.test(e))&&e>-1&&e%1==0&&e<n}},7019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},5346:(e,t,n)=>{var i,r=n(4429),o=(i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";e.exports=function(e){return!!o&&o in e}},5726:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},7040:e=>{e.exports=function(){this.__data__=[],this.size=0}},4125:(e,t,n)=>{var i=n(8470),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():r.call(t,n,1),--this.size,!0)}},2117:(e,t,n)=>{var i=n(8470);e.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}},7518:(e,t,n)=>{var i=n(8470);e.exports=function(e){return i(this.__data__,e)>-1}},4705:(e,t,n)=>{var i=n(8470);e.exports=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},4785:(e,t,n)=>{var i=n(1989),r=n(8407),o=n(7071);e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(o||r),string:new i}}},1285:(e,t,n)=>{var i=n(5050);e.exports=function(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}},6e3:(e,t,n)=>{var i=n(5050);e.exports=function(e){return i(this,e).get(e)}},9916:(e,t,n)=>{var i=n(5050);e.exports=function(e){return i(this,e).has(e)}},5265:(e,t,n)=>{var i=n(5050);e.exports=function(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},8776:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}},4536:(e,t,n)=>{var i=n(852)(Object,"create");e.exports=i},6916:(e,t,n)=>{var i=n(5569)(Object.keys,Object);e.exports=i},1167:(e,t,n)=>{e=n.nmd(e);var i=n(1957),r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,a=o&&o.exports===r&&i.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},5639:(e,t,n)=>{var i=n(1957),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();e.exports=o},619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},2385:e=>{e.exports=function(e){return this.__data__.has(e)}},1814:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},7465:(e,t,n)=>{var i=n(8407);e.exports=function(){this.__data__=new i,this.size=0}},3779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},7599:e=>{e.exports=function(e){return this.__data__.get(e)}},4758:e=>{e.exports=function(e){return this.__data__.has(e)}},4309:(e,t,n)=>{var i=n(8407),r=n(7071),o=n(3369);e.exports=function(e,t){var n=this.__data__;if(n instanceof i){var a=n.__data__;if(!r||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7246:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},3279:(e,t,n)=>{var i=n(3218),r=n(7771),o=n(4841),a=Math.max,s=Math.min;e.exports=function(e,t,n){var c,u,l,A,d,h,f=0,p=!1,v=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=c,i=u;return c=u=void 0,f=t,A=e.apply(i,n)}function y(e){var n=e-h;return void 0===h||n>=t||n<0||v&&e-f>=l}function _(){var e=r();if(y(e))return b(e);d=setTimeout(_,function(e){var n=t-(e-h);return v?s(n,l-(e-f)):n}(e))}function b(e){return d=void 0,g&&c?m(e):(c=u=void 0,A)}function w(){var e=r(),n=y(e);if(c=arguments,u=this,h=e,n){if(void 0===d)return function(e){return f=e,d=setTimeout(_,t),p?m(e):A}(h);if(v)return clearTimeout(d),d=setTimeout(_,t),m(h)}return void 0===d&&(d=setTimeout(_,t)),A}return t=o(t)||0,i(n)&&(p=!!n.leading,l=(v="maxWait"in n)?a(o(n.maxWait)||0,t):l,g="trailing"in n?!!n.trailing:g),w.cancel=function(){void 0!==d&&clearTimeout(d),f=0,c=h=u=d=void 0},w.flush=function(){return void 0===d?A:b(r())},w}},7813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},5694:(e,t,n)=>{var i=n(9454),r=n(7005),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,c=i(function(){return arguments}())?i:function(e){return r(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},1469:e=>{var t=Array.isArray;e.exports=t},8612:(e,t,n)=>{var i=n(3560),r=n(1780);e.exports=function(e){return null!=e&&r(e.length)&&!i(e)}},4144:(e,t,n)=>{e=n.nmd(e);var i=n(5639),r=n(5062),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?i.Buffer:void 0,c=(s?s.isBuffer:void 0)||r;e.exports=c},8446:(e,t,n)=>{var i=n(939);e.exports=function(e,t){return i(e,t)}},3560:(e,t,n)=>{var i=n(4239),r=n(3218);e.exports=function(e){if(!r(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},3448:(e,t,n)=>{var i=n(4239),r=n(7005);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==i(e)}},6719:(e,t,n)=>{var i=n(8749),r=n(1717),o=n(1167),a=o&&o.isTypedArray,s=a?r(a):i;e.exports=s},3674:(e,t,n)=>{var i=n(4636),r=n(280),o=n(8612);e.exports=function(e){return o(e)?i(e):r(e)}},7771:(e,t,n)=>{var i=n(5639);e.exports=function(){return i.Date.now()}},479:e=>{e.exports=function(){return[]}},5062:e=>{e.exports=function(){return!1}},4841:(e,t,n)=>{var i=n(7561),r=n(3218),o=n(3448),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=s.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},7460:function(e,t){var n,i,r;
/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/i=[],n=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=!t.document&&!!t.postMessage,i=t.IS_PAPA_WORKER||!1,r={},o=0,a={parse:function(n,i){var s=(i=i||{}).dynamicTyping||!1;if(b(s)&&(i.dynamicTypingFunction=s,s={}),i.dynamicTyping=s,i.transform=!!b(i.transform)&&i.transform,i.worker&&a.WORKERS_SUPPORTED){var c=function(){if(!a.WORKERS_SUPPORTED)return!1;var n,i,s=(n=t.URL||t.webkitURL||null,i=e.toString(),a.BLOB_URL||(a.BLOB_URL=n.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",i,")();"],{type:"text/javascript"})))),c=new t.Worker(s);return c.onmessage=v,c.id=o++,r[c.id]=c}();return c.userStep=i.step,c.userChunk=i.chunk,c.userComplete=i.complete,c.userError=i.error,i.step=b(i.step),i.chunk=b(i.chunk),i.complete=b(i.complete),i.error=b(i.error),delete i.worker,void c.postMessage({input:n,config:i,workerId:c.id})}var h=null;return a.NODE_STREAM_INPUT,"string"==typeof n?(n=function(e){return 65279===e.charCodeAt(0)?e.slice(1):e}(n),h=i.download?new u(i):new A(i)):!0===n.readable&&b(n.read)&&b(n.on)?h=new d(i):(t.File&&n instanceof File||n instanceof Object)&&(h=new l(i)),h.stream(n)},unparse:function(e,t){var n=!1,i=!0,r=",",o="\r\n",s='"',c=s+s,u=!1,l=null,A=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||a.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(r=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(u=t.skipEmptyLines),"string"==typeof t.newline&&(o=t.newline),"string"==typeof t.quoteChar&&(s=t.quoteChar),"boolean"==typeof t.header&&(i=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");l=t.columns}void 0!==t.escapeChar&&(c=t.escapeChar+s),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(A=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var d=new RegExp(f(s),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return h(null,e,u);if("object"==typeof e[0])return h(l||Object.keys(e[0]),e,u)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||l),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),h(e.fields||[],e.data||[],u);throw new Error("Unable to serialize unrecognized input");function h(e,t,n){var a="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var s=Array.isArray(e)&&0<e.length,c=!Array.isArray(t[0]);if(s&&i){for(var u=0;u<e.length;u++)0<u&&(a+=r),a+=p(e[u],u);0<t.length&&(a+=o)}for(var l=0;l<t.length;l++){var A=s?e.length:t[l].length,d=!1,h=s?0===Object.keys(t[l]).length:0===t[l].length;if(n&&!s&&(d="greedy"===n?""===t[l].join("").trim():1===t[l].length&&0===t[l][0].length),"greedy"===n&&s){for(var f=[],v=0;v<A;v++){var g=c?e[v]:v;f.push(t[l][g])}d=""===f.join("").trim()}if(!d){for(var m=0;m<A;m++){0<m&&!h&&(a+=r);var y=s&&c?e[m]:m;a+=p(t[l][y],m)}l<t.length-1&&(!n||0<A&&!h)&&(a+=o)}}return a}function p(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var i=!1;A&&"string"==typeof e&&A.test(e)&&(e="'"+e,i=!0);var o=e.toString().replace(d,c);return(i=i||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(o,a.BAD_DELIMITERS)||-1<o.indexOf(r)||" "===o.charAt(0)||" "===o.charAt(o.length-1))?s+o+s:o}}};if(a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\ufeff",a.BAD_DELIMITERS=["\r","\n",'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!n&&!!t.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=p,a.ParserHandle=h,a.NetworkStreamer=u,a.FileStreamer=l,a.StringStreamer=A,a.ReadableStreamStreamer=d,t.jQuery){var s=t.jQuery;s.fn.parse=function(e){var n=e.config||{},i=[];return this.each((function(e){if("INPUT"!==s(this).prop("tagName").toUpperCase()||"file"!==s(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var r=0;r<this.files.length;r++)i.push({file:this.files[r],inputElem:this,instanceConfig:s.extend({},n)})})),r(),this;function r(){if(0!==i.length){var t,n,r,c,u=i[0];if(b(e.before)){var l=e.before(u.file,u.inputElem);if("object"==typeof l){if("abort"===l.action)return t="AbortError",n=u.file,r=u.inputElem,c=l.reason,void(b(e.error)&&e.error({name:t},n,r,c));if("skip"===l.action)return void o();"object"==typeof l.config&&(u.instanceConfig=s.extend(u.instanceConfig,l.config))}else if("skip"===l)return void o()}var A=u.instanceConfig.complete;u.instanceConfig.complete=function(e){b(A)&&A(e,u.file,u.inputElem),o()},a.parse(u.file,u.instanceConfig)}else b(e.complete)&&e.complete()}function o(){i.splice(0,1),r()}}}function c(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=y(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new h(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&b(this._config.beforeFirstChunk)){var r=this._config.beforeFirstChunk(e);void 0!==r&&(e=r)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+e;this._partialLine="";var s=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var c=s.meta.cursor;this._finished||(this._partialLine=o.substring(c-this._baseIndex),this._baseIndex=c),s&&s.data&&(this._rowCount+=s.data.length);var u=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)t.postMessage({results:s,workerId:a.WORKER_ID,finished:u});else if(b(this._config.chunk)&&!n){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);s=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!u||!b(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),u||s&&s.meta.paused||this._nextChunk(),s}this._halted=!0},this._sendError=function(e){b(this._config.error)?this._config.error(e):i&&this._config.error&&t.postMessage({workerId:a.WORKER_ID,error:e,finished:!1})}}function u(e){var t;(e=e||{}).chunkSize||(e.chunkSize=a.RemoteChunkSize),c.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=_(this._chunkLoaded,this),t.onerror=_(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var i in e)t.setRequestHeader(i,e[i])}if(this._config.chunkSize){var r=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+r)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substring(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function l(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=a.LocalChunkSize),c.call(this,e);var i="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,i?((t=new FileReader).onload=_(this._chunkLoaded,this),t.onerror=_(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var r=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,r)}var o=t.readAsText(e,this._config.encoding);i||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function A(e){var t;c.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,n=this._config.chunkSize;return n?(e=t.substring(0,n),t=t.substring(n)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function d(e){c.call(this,e=e||{});var t=[],n=!0,i=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){i&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=_((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=_((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=_((function(){this._streamCleanUp(),i=!0,this._streamData("")}),this),this._streamCleanUp=_((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function h(e){var t,n,i,r=Math.pow(2,53),o=-r,s=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,c=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,u=this,l=0,A=0,d=!1,h=!1,v=[],g={data:[],errors:[],meta:{}};if(b(e.step)){var m=e.step;e.step=function(t){if(g=t,k())w();else{if(w(),0===g.data.length)return;l+=t.data.length,e.preview&&l>e.preview?n.abort():(g.data=g.data[0],m(g,u))}}}function _(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function w(){return g&&i&&(P("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),i=!1),e.skipEmptyLines&&(g.data=g.data.filter((function(e){return!_(e)}))),k()&&function(){if(g)if(Array.isArray(g.data[0])){for(var t=0;k()&&t<g.data.length;t++)g.data[t].forEach(n);g.data.splice(0,1)}else g.data.forEach(n);function n(t,n){b(e.transformHeader)&&(t=e.transformHeader(t,n)),v.push(t)}}(),function(){if(!g||!e.header&&!e.dynamicTyping&&!e.transform)return g;function t(t,n){var i,r=e.header?{}:[];for(i=0;i<t.length;i++){var o=i,a=t[i];e.header&&(o=i>=v.length?"__parsed_extra":v[i]),e.transform&&(a=e.transform(a,o)),a=x(o,a),"__parsed_extra"===o?(r[o]=r[o]||[],r[o].push(a)):r[o]=a}return e.header&&(i>v.length?P("FieldMismatch","TooManyFields","Too many fields: expected "+v.length+" fields but parsed "+i,A+n):i<v.length&&P("FieldMismatch","TooFewFields","Too few fields: expected "+v.length+" fields but parsed "+i,A+n)),r}var n=1;return!g.data.length||Array.isArray(g.data[0])?(g.data=g.data.map(t),n=g.data.length):g.data=t(g.data,0),e.header&&g.meta&&(g.meta.fields=v),A+=n,g}()}function k(){return e.header&&0===v.length}function x(t,n){return i=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[i]&&(e.dynamicTyping[i]=e.dynamicTypingFunction(i)),!0===(e.dynamicTyping[i]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(e){if(s.test(e)){var t=parseFloat(e);if(o<t&&t<r)return!0}return!1}(n)?parseFloat(n):c.test(n)?new Date(n):""===n?null:n):n;var i}function P(e,t,n,i){var r={type:e,code:t,message:n};void 0!==i&&(r.row=i),g.errors.push(r)}this.parse=function(r,o,s){var c=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var n=new RegExp(f(t)+"([^]*?)"+f(t),"gm"),i=(e=e.replace(n,"")).split("\r"),r=e.split("\n"),o=1<r.length&&r[0].length<i[0].length;if(1===i.length||o)return"\n";for(var a=0,s=0;s<i.length;s++)"\n"===i[s][0]&&a++;return a>=i.length/2?"\r\n":"\r"}(r,c)),i=!1,e.delimiter)b(e.delimiter)&&(e.delimiter=e.delimiter(r),g.meta.delimiter=e.delimiter);else{var u=function(t,n,i,r,o){var s,c,u,l;o=o||[",","\t","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var A=0;A<o.length;A++){var d=o[A],h=0,f=0,v=0;u=void 0;for(var g=new p({comments:r,delimiter:d,newline:n,preview:10}).parse(t),m=0;m<g.data.length;m++)if(i&&_(g.data[m]))v++;else{var y=g.data[m].length;f+=y,void 0!==u?0<y&&(h+=Math.abs(y-u),u=y):u=y}0<g.data.length&&(f/=g.data.length-v),(void 0===c||h<=c)&&(void 0===l||l<f)&&1.99<f&&(c=h,s=d,l=f)}return{successful:!!(e.delimiter=s),bestDelimiter:s}}(r,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);u.successful?e.delimiter=u.bestDelimiter:(i=!0,e.delimiter=a.DefaultDelimiter),g.meta.delimiter=e.delimiter}var l=y(e);return e.preview&&e.header&&l.preview++,t=r,n=new p(l),g=n.parse(t,o,s),w(),d?{meta:{paused:!0}}:g||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,n.abort(),t=b(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){u.streamer._halted?(d=!1,u.streamer.parseChunk(t,!0)):setTimeout(u.resume,3)},this.aborted=function(){return h},this.abort=function(){h=!0,n.abort(),g.meta.aborted=!0,b(e.complete)&&e.complete(g),t=""}}function f(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function p(e){var t,n=(e=e||{}).delimiter,i=e.newline,r=e.comments,o=e.step,s=e.preview,c=e.fastMode,u=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(u=e.escapeChar),("string"!=typeof n||-1<a.BAD_DELIMITERS.indexOf(n))&&(n=","),r===n)throw new Error("Comment character same as delimiter");!0===r?r="#":("string"!=typeof r||-1<a.BAD_DELIMITERS.indexOf(r))&&(r=!1),"\n"!==i&&"\r"!==i&&"\r\n"!==i&&(i="\n");var l=0,A=!1;this.parse=function(a,d,h){if("string"!=typeof a)throw new Error("Input must be a string");var p=a.length,v=n.length,g=i.length,m=r.length,y=b(o),_=[],w=[],k=[],x=l=0;if(!a)return Y();if(e.header&&!d){var P=a.split(i)[0].split(n),C=[],D={},E=!1;for(var S in P){var I=P[S];b(e.transformHeader)&&(I=e.transformHeader(I,S));var T=I,R=D[I]||0;for(0<R&&(E=!0,T=I+"_"+R),D[I]=R+1;C.includes(T);)T=T+"_"+R;C.push(T)}if(E){var M=a.split(i);M[0]=C.join(n),a=M.join(i)}}if(c||!1!==c&&-1===a.indexOf(t)){for(var F=a.split(i),N=0;N<F.length;N++){if(k=F[N],l+=k.length,N!==F.length-1)l+=i.length;else if(h)return Y();if(!r||k.substring(0,m)!==r){if(y){if(_=[],H(k.split(n)),$(),A)return Y()}else H(k.split(n));if(s&&s<=N)return _=_.slice(0,s),Y(!0)}}return Y()}for(var L=a.indexOf(n,l),O=a.indexOf(i,l),j=new RegExp(f(u)+f(t),"g"),B=a.indexOf(t,l);;)if(a[l]!==t)if(r&&0===k.length&&a.substring(l,l+m)===r){if(-1===O)return Y();l=O+g,O=a.indexOf(i,l),L=a.indexOf(n,l)}else if(-1!==L&&(L<O||-1===O))k.push(a.substring(l,L)),l=L+v,L=a.indexOf(n,l);else{if(-1===O)break;if(k.push(a.substring(l,O)),G(O+g),y&&($(),A))return Y();if(s&&_.length>=s)return Y(!0)}else for(B=l,l++;;){if(-1===(B=a.indexOf(t,B+1)))return h||w.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:_.length,index:l}),W();if(B===p-1)return W(a.substring(l,B).replace(j,t));if(t!==u||a[B+1]!==u){if(t===u||0===B||a[B-1]!==u){-1!==L&&L<B+1&&(L=a.indexOf(n,B+1)),-1!==O&&O<B+1&&(O=a.indexOf(i,B+1));var V=z(-1===O?L:Math.min(L,O));if(a.substr(B+1+V,v)===n){k.push(a.substring(l,B).replace(j,t)),a[l=B+1+V+v]!==t&&(B=a.indexOf(t,l)),L=a.indexOf(n,l),O=a.indexOf(i,l);break}var U=z(O);if(a.substring(B+1+U,B+1+U+g)===i){if(k.push(a.substring(l,B).replace(j,t)),G(B+1+U+g),L=a.indexOf(n,l),B=a.indexOf(t,l),y&&($(),A))return Y();if(s&&_.length>=s)return Y(!0);break}w.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:_.length,index:l}),B++}}else B++}return W();function H(e){_.push(e),x=l}function z(e){var t=0;if(-1!==e){var n=a.substring(B+1,e);n&&""===n.trim()&&(t=n.length)}return t}function W(e){return h||(void 0===e&&(e=a.substring(l)),k.push(e),l=p,H(k),y&&$()),Y()}function G(e){l=e,H(k),k=[],O=a.indexOf(i,l)}function Y(e){return{data:_,errors:w,meta:{delimiter:n,linebreak:i,aborted:A,truncated:!!e,cursor:x+(d||0)}}}function $(){o(Y()),_=[],w=[]}},this.abort=function(){A=!0},this.getCharIndex=function(){return l}}function v(e){var t=e.data,n=r[t.workerId],i=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var o={abort:function(){i=!0,g(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:m,resume:m};if(b(n.userStep)){for(var a=0;a<t.results.data.length&&(n.userStep({data:t.results.data[a],errors:t.results.errors,meta:t.results.meta},o),!i);a++);delete t.results}else b(n.userChunk)&&(n.userChunk(t.results,o,t.file),delete t.results)}t.finished&&!i&&g(t.workerId,t.results)}function g(e,t){var n=r[e];b(n.userComplete)&&n.userComplete(t),n.terminate(),delete r[e]}function m(){throw new Error("Not implemented.")}function y(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=y(e[n]);return t}function _(e,t){return function(){e.apply(t,arguments)}}function b(e){return"function"==typeof e}return i&&(t.onmessage=function(e){var n=e.data;if(void 0===a.WORKER_ID&&n&&(a.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:a.WORKER_ID,results:a.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var i=a.parse(n.input,n.config);i&&t.postMessage({workerId:a.WORKER_ID,results:i,finished:!0})}}),(u.prototype=Object.create(c.prototype)).constructor=u,(l.prototype=Object.create(c.prototype)).constructor=l,(A.prototype=Object.create(A.prototype)).constructor=A,(d.prototype=Object.create(c.prototype)).constructor=d,a},void 0===(r="function"==typeof n?n.apply(t,i):n)||(e.exports=r)},3522:(e,t,n)=>{var i=n(5852);"string"==typeof i&&(i=[[e.id,i,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(6723)(i,r);i.locals&&(e.exports=i.locals)},6723:(e,t,n)=>{var i,r,o={},a=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=i.apply(this,arguments)),r}),s=function(e){return document.querySelector(e)},c=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=s.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),u=null,l=0,A=[],d=n(1947);function h(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=o[i.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](i.parts[a]);for(;a<i.parts.length;a++)r.parts.push(y(i.parts[a],t))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(y(i.parts[a],t));o[i.id]={id:i.id,refs:1,parts:s}}}}function f(e,t){for(var n=[],i={},r=0;r<e.length;r++){var o=e[r],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}function p(e,t){var n=c(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=A[A.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),A.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=c(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,r)}}function v(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=A.indexOf(e);t>=0&&A.splice(t,1)}function g(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),m(t,e.attrs),p(e,t),t}function m(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function y(e,t){var n,i,r,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var a=l++;n=u||(u=g(t)),i=w.bind(null,n,a,!1),r=w.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",m(t,e.attrs),p(e,t),t}(t),i=x.bind(null,n,t),r=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),i=k.bind(null,n),r=function(){v(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=f(e,t);return h(n,t),function(e){for(var i=[],r=0;r<n.length;r++){var a=n[r];(s=o[a.id]).refs--,i.push(s)}e&&h(f(e,t),t);for(r=0;r<i.length;r++){var s;if(0===(s=i[r]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete o[s.id]}}}};var _,b=(_=[],function(e,t){return _[e]=t,_.filter(Boolean).join("\n")});function w(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=b(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function k(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function x(e,t,n){var i=n.css,r=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||o)&&(i=d(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},1947:e=>{e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var r,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},6929:(e,t,n)=>{"use strict";var i,r;function o(e,t){switch(t){case e.ZoomMode.e_ZoomFitBBox:return"ZoomFitBBox";case e.ZoomMode.e_ZoomFitBHorz:return"ZoomFitBHorz";case e.ZoomMode.e_ZoomFitBVert:return"ZoomFitBVert";case e.ZoomMode.e_ZoomFitHorz:return"ZoomFitHorz";case e.ZoomMode.e_ZoomFitPage:return"ZoomFitPage";case e.ZoomMode.e_ZoomFitRect:return"ZoomFitRect";case e.ZoomMode.e_ZoomFitVert:return"ZoomFitVert";case e.ZoomMode.e_ZoomXYZ:return"ZoomXYZ";case void 0:case null:return"ZoomFitBHorz"}throw new Error("Incorrect zoomMode enumeration: ".concat(t))}n.r(t),n.d(t,{ACTION_EXECUTOR_CHANNEL_ID:()=>le,ADDITIONAL_ACTION_API_CHANNEL_ID:()=>ue,ALL_ACTION_TRIGGER_EVENTS:()=>A,ANNOT_ACTION_API_CHANNEL_ID:()=>Ae,ActionFlag:()=>c,ActionTriggerEvents:()=>r,ActionType:()=>a,AdditionalAction:()=>Ee,AnnotActionTriggerEvents:()=>d,AnnotActionTriggerEventsArray:()=>h,BOOKMARK_ACTION_API_CHANNEL_ID:()=>de,BeepType:()=>he,DIALOG_CALLBACK_CHANNEL_ID:()=>fe,DialogAlignmentType:()=>se,DialogElementFontType:()=>ce,DialogElementType:()=>ae,DocActionTriggerEvents:()=>m,DocActionTriggerEventsArray:()=>y,EmbeddedGotoTargetRelationship:()=>l,FXJSE_ACTION_CALLBACK_API:()=>ge,FieldActionTriggerEvents:()=>f,FieldActionTriggerEventsArray:()=>p,JSConfirmButtonID:()=>be,JSDialogButtonID:()=>_e,JSDialogButtonType:()=>ye,JSDialogIconType:()=>we,NewWindowFlag:()=>s,PRINT_EVENT_CALLBACK_API_CHANNEL_ID:()=>ke,PageActionTriggerEvents:()=>v,PageActionTriggerEventsArray:()=>g,PrintRangeMode:()=>ve,PrintType:()=>pe,SubmitFormat:()=>u,UI_STATE_MANAGER_API:()=>me,ZoomMode:()=>i,assembleActions:()=>te,createDestination:()=>$,createFileSpec:()=>J,describeActionDataForExecution:()=>V,describeActionFlags:()=>D,describeGSDKActionHierarchy:()=>B,describeGSDKActionSpecification:()=>j,disassembleActions:()=>Q,extractGSDKDestination:()=>N,extractGSDKFileSpec:()=>L,findAction:()=>ne,flattenActionHierarchy:()=>U,getAdditionalActionByDict:()=>W,getAdditionalActionByOwner:()=>G,isAnnotTrigger:()=>b,isDocTrigger:()=>x,isFieldTrigger:()=>w,isPageTrigger:()=>k,iterateActionHierarchy:()=>oe,moveActionAcross:()=>ee,moveAdditionalAction:()=>X,overwriteJavaScriptAction:()=>ie,removeAction:()=>Y,transformFromGSDKActionType:()=>C,transformGSDKZoomMode:()=>o,transformToGSDKActionType:()=>P,transformToGSDKTriggerEvent:()=>_,writeDataToGSDKAction:()=>Z}),function(e){e.ZoomFitBBox="ZoomFitBBox",e.ZoomFitBHorz="ZoomFitBHorz",e.ZoomFitBVert="ZoomFitBVert",e.ZoomFitHorz="ZoomFitHorz",e.ZoomFitVert="ZoomFitVert",e.ZoomFitPage="ZoomFitPage",e.ZoomFitRect="ZoomFitRect",e.ZoomXYZ="ZoomXYZ"}(i||(i={})),function(e){e[e.NONE=-1]="NONE",e[e.PAGE_OPENED=0]="PAGE_OPENED",e[e.PAGE_CLOSED=1]="PAGE_CLOSED",e[e.DOC_WILL_CLOSE=2]="DOC_WILL_CLOSE",e[e.DOC_WILL_SAVE=3]="DOC_WILL_SAVE",e[e.DOC_SAVED=4]="DOC_SAVED",e[e.DOC_WILL_PRINT=5]="DOC_WILL_PRINT",e[e.DOC_PRINTED=6]="DOC_PRINTED",e[e.FIELD_KEY_STROKE=7]="FIELD_KEY_STROKE",e[e.FIELD_WILL_FORMAT=8]="FIELD_WILL_FORMAT",e[e.FIELD_VALUE_CHANGED=9]="FIELD_VALUE_CHANGED",e[e.FIELD_RECALCULATE_VALUE=10]="FIELD_RECALCULATE_VALUE",e[e.ANNOT_CURSOR_ENTER=11]="ANNOT_CURSOR_ENTER",e[e.ANNOT_CURSOR_EXIT=12]="ANNOT_CURSOR_EXIT",e[e.ANNOT_MOUSE_BUTTON_PRESSED=13]="ANNOT_MOUSE_BUTTON_PRESSED",e[e.ANNOT_MOUSE_BUTTON_RELEASED=14]="ANNOT_MOUSE_BUTTON_RELEASED",e[e.ANNOT_RECEIVE_INPUT_FOCUS=15]="ANNOT_RECEIVE_INPUT_FOCUS",e[e.ANNOT_LOSE_INPUT_FOCUS=16]="ANNOT_LOSE_INPUT_FOCUS",e[e.ANNOT_PAGE_OPENED=17]="ANNOT_PAGE_OPENED",e[e.ANNOT_PAGE_CLOSED=18]="ANNOT_PAGE_CLOSED",e[e.ANNOT_PAGE_VISIBLE=19]="ANNOT_PAGE_VISIBLE",e[e.ANNOT_PAGE_INVISIBLE=20]="ANNOT_PAGE_INVISIBLE"}(r||(r={}));var a,s,c,u,l,A=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],d={ANNOT_CURSOR_ENTER:11,ANNOT_CURSOR_EXIT:12,ANNOT_MOUSE_BUTTON_PRESSED:13,ANNOT_MOUSE_BUTTON_RELEASED:14,ANNOT_RECEIVE_INPUT_FOCUS:15,ANNOT_LOSE_INPUT_FOCUS:16,ANNOT_PAGE_OPENED:17,ANNOT_PAGE_CLOSED:18,ANNOT_PAGE_VISIBLE:19,ANNOT_PAGE_INVISIBLE:20},h=Object.values(d),f={FIELD_KEY_STROKE:7,FIELD_WILL_FORMAT:8,FIELD_VALUE_CHANGED:9,FIELD_RECALCULATE_VALUE:10},p=Object.values(f),v={PAGE_OPENED:0,PAGE_CLOSED:1},g=Object.values(v),m={DOC_WILL_CLOSE:2,DOC_WILL_SAVE:3,DOC_SAVED:4,DOC_WILL_PRINT:5,DOC_PRINTED:6},y=Object.values(m);function _(e,t){var n;return null!==(n=e.TriggerEvent.values[t])&&void 0!==n?n:{value:-1}}function b(e){switch(e){case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:return!0}return!1}function w(e){switch(e){case 7:case 8:case 9:case 10:return!0}return!1}function k(e){switch(e){case 1:case 0:return!0}return!1}function x(e){switch(e){case 2:case 3:case 4:case 5:case 6:return!0}return!1}function P(e,t){switch(t){case"TypeGoto":return e.ActionType.e_TypeGoto;case"TypeLaunch":return e.ActionType.e_TypeLaunch;case"TypeURI":return e.ActionType.e_TypeURI;case"TypeNamed":return e.ActionType.e_TypeNamed;case"TypeThread":return e.ActionType.e_TypeThread;case"TypeSubmitForm":return e.ActionType.e_TypeSubmitForm;case"TypeResetForm":return e.ActionType.e_TypeResetForm;case"TypeJavaScript":return e.ActionType.e_TypeJavaScript;case"TypeImportData":return e.ActionType.e_TypeImportData;case"TypeHide":return e.ActionType.e_TypeHide;case"TypeGoToE":return e.ActionType.e_TypeGoToE;case"TypeGoToR":return e.ActionType.e_TypeGoToR;case"TypeSetOCGState":return e.ActionType.e_TypeSetOCGState;case"TypeRendition":return e.ActionType.e_TypeRendition}return e.ActionType.e_TypeUnknown}function C(e,t){switch(t){case e.ActionType.e_TypeGoto:return"TypeGoto";case e.ActionType.e_TypeLaunch:return"TypeLaunch";case e.ActionType.e_TypeURI:return"TypeURI";case e.ActionType.e_TypeNamed:return"TypeNamed";case e.ActionType.e_TypeThread:return"TypeThread";case e.ActionType.e_TypeSubmitForm:return"TypeSubmitForm";case e.ActionType.e_TypeResetForm:return"TypeResetForm";case e.ActionType.e_TypeJavaScript:return"TypeJavaScript";case e.ActionType.e_TypeImportData:return"TypeImportData";case e.ActionType.e_TypeHide:return"TypeHide";case e.ActionType.e_TypeGoToE:return"TypeGoToE";case e.ActionType.e_TypeGoToR:return"TypeGoToR";case e.ActionType.e_TypeSetOCGState:return"TypeSetOCGState";case e.ActionType.e_TypeRendition:return"TypeRendition";default:throw new Error("Unknown gsdk action type: ".concat(t))}}function D(e){return{format:E(e),includeAnnots:!!(128&e),exclude:!!(1&e),includeNoValueFields:!!(2&e),isGetMethod:!!(8&e)}}function E(e){return 4&e?"html":32&e?"xfdf":256&e?"pdf":"fdf"}!function(e){e.goto="TypeGoto",e.launch="TypeLaunch",e.uri="TypeURI",e.named="TypeNamed",e.thread="TypeThread",e.submitForm="TypeSubmitForm",e.resetForm="TypeResetForm",e.javaScript="TypeJavaScript",e.importData="TypeImportData",e.hide="TypeHide",e.gotoE="TypeGoToE",e.gotoR="TypeGoToR",e.setOCGState="TypeSetOCGState",e.rendition="TypeRendition"}(a||(a={})),function(e){e[e.NewWindowFlagFalse=0]="NewWindowFlagFalse",e[e.NewWindowFlagTrue=1]="NewWindowFlagTrue",e[e.NewWindowFlagNone=2]="NewWindowFlagNone"}(s||(s={})),function(e){e[e.FlagExclude=1]="FlagExclude",e[e.FlagIncludeNoValueFields=2]="FlagIncludeNoValueFields",e[e.FlagExportFormat=4]="FlagExportFormat",e[e.FlagGetMethod=8]="FlagGetMethod",e[e.FlagWithCoordinates=16]="FlagWithCoordinates",e[e.FlagAsXFDF=32]="FlagAsXFDF",e[e.FlagIncludeAppendSaves=64]="FlagIncludeAppendSaves",e[e.FlagIncludeAnnotations=128]="FlagIncludeAnnotations",e[e.FlagSubmitAsPDF=256]="FlagSubmitAsPDF",e[e.FlagCanonicalFormat=512]="FlagCanonicalFormat",e[e.FlagExclNonUserAnnots=1024]="FlagExclNonUserAnnots",e[e.FlagExclFKey=2048]="FlagExclFKey",e[e.FlagEmbedForm=8192]="FlagEmbedForm"}(c||(c={})),function(e){e.fdf="fdf",e.html="html",e.xfdf="xfdf",e.pdf="pdf",e.txt="txt",e.xml="xml"}(u||(u={})),function(e){e.Parent="P",e.Child="C"}(l||(l={}));var S,I=n(2956),T=n(7984);!function(e){e.Associate="Associate",e.None="None",e.Pause="Pause",e.Play="Play",e.Resume="Resume",e.Stop="Stop"}(S||(S={}));var R=n(5578),M=n(7582);function F(e,t,n){if(!n.IsEmpty()){var i=n.GetAttachedFileName().toString(),r=n.GetFileAttachmentAnnotIndex(),o=n.GetPageIndex(),a=n.GetRelationship().toString(),s=n.GetTarget();return{attachedFileName:i,fileAttachmentAnnotIndex:r,pageIndex:o,relationship:a,target:F(e,t,s),get fileInfo(){return new Promise((n=(0,R._)((function(n,a){var s,c,u,l,A,d,h;return(0,M.Jh)(this,(function(f){try{if(o>-1?(c=t.GetPage(o)).IsEmpty()||(u=c.GetAnnot(r)).IsEmpty()||(l=new e.FileAttachment(u),s=l.GetFileSpec()):(A=new e.PDFNameTree(t,e.PDFNameTreeType.e_EmbeddedFiles),(d=A.GetObj((0,T.createWString)(e,i)))&&(s=new e.FileSpec(t,d))),!s)return n(void 0),[2];h=function(e,t){var n=new Blob;return e.ExportToFileStream(t.StreamCallback.implement({Release:function(){},Flush:function(){return!0},GetSize:function(){return n.size},WriteBlock:function(e,i,r){var o=t.HEAPU8.buffer;return n=new Blob([n,o.slice(e,e+r)]),!0}})),n}(s,e),n({fileName:s.GetFileName().toString(),blob:h,description:s.GetDescription().toString()})}catch(e){a(e)}return[2]}))})),function(e,t){return n.apply(this,arguments)}));var n}}}}function N(e,t,n){if(!n.IsEmpty()){var r=function(e,t,n){var i=n.GetDestArray();if(!i||0===i.GetElementCount())return 0;var r=i.GetElement(0).GetDirectObject();if(!r)return 0;var o=r.GetType().value;if(2==o)return r.GetInteger();if(6!=o)return 0;var a=e.String,s=new a("Parent"),c=new a("Kids");try{var u=r.GetDict().GetElement(s);if(!u)return 0;var l=u.GetDict();if(!l)return 0;if(l.HasKey(c)){var A=l.GetElement(c).GetDirectObject().GetArray();if(!A||0===A.GetElementCount())return 0}}finally{s.delete(),c.delete()}return n.GetPageIndex(t)}(e,t,n);r<0&&(r=0);var a=o(e,n.GetZoomMode()),s=n.GetLeft(),c=n.GetRight(),u=n.GetTop(),l=n.GetBottom(),A=n.GetZoomFactor();switch(a){case i.ZoomFitBBox:return{zoomMode:a,pageIndex:r};case i.ZoomFitBHorz:return{zoomMode:a,pageIndex:r,top:u};case i.ZoomFitBVert:return{zoomMode:a,pageIndex:r,left:s};case i.ZoomFitHorz:return{zoomMode:a,pageIndex:r,top:u};case i.ZoomFitPage:return{zoomMode:a,pageIndex:r};case i.ZoomFitRect:return{zoomMode:a,pageIndex:r,left:s,top:u,right:c,bottom:l};case i.ZoomFitVert:return{zoomMode:a,pageIndex:r,left:s};case i.ZoomXYZ:return{zoomMode:a,pageIndex:r,left:s,top:u,right:c,bottom:l,zoomFactor:A}}}}function L(e,t){return t.IsEmpty()?{}:{fileName:t.GetFileName().toString(),fileSize:t.GetFileSize(),description:t.GetDescription().toString(),modifiedDateTime:(0,T.toLocalDate)(t.GetModifiedDateTime()),subtype:t.GetSubtype().toString(),isEmbedded:t.IsEmbedded()}}function O(e){return Array.from({length:e.GetSize()},(function(t,n){return e.GetAt(n).toString()}))}function j(e,t,n){var i=C(e,n.GetType());switch(i){case a.javaScript:var r=new e.JavaScriptAction(n);return{type:i,data:{javascript:(0,T.getPDFString)(e,r.GetScript())}};case a.uri:return{type:i,data:{uri:new e.URIAction(n).GetURI().toString()}};case a.goto:var o=new e.GotoAction(n).GetDestination();return{type:i,data:{destination:N(e,t,o)}};case a.gotoR:var s=new e.RemoteGotoAction(n);return{type:i,data:{destination:N(e,t,s.GetDestination()),fileSpec:L(0,s.GetFileSpec()),newWindowFlag:s.GetNewWindowFlag().value}};case a.hide:var c=new e.HideAction(n);return{type:i,data:{fieldNames:O(c.GetFieldNames()),hideState:c.GetHideState()}};case a.launch:return{type:i,data:{fileSpec:L(0,new e.LaunchAction(n).GetFileSpec())}};case a.importData:return{type:i,data:{fileSpec:L(0,new e.ImportDataAction(n).GetFDFFileSpec())}};case a.resetForm:var u=new e.ResetFormAction(n),l=O(u.GetFieldNames());return{type:i,data:{flags:u.GetFlags(),fieldNames:l}};case a.submitForm:var A=new e.SubmitFormAction(n);return{type:i,data:{fieldNames:O(A.GetFieldNames()),flags:A.GetFlags(),address:A.GetURL().toString()}};case a.named:return{type:i,data:{name:new e.NamedAction(n).GetName().toString()}};case a.thread:var d=new e.ThreadAction(n),h=d.IsDestThreadInCurrentDoc(),f=d.GetDestinationThread(),p=d.GetDestinationThreadIndex(),v=d.GetDestinationThreadTitle().toString();return{type:i,data:{fileSpec:L(0,d.GetFileSpec()),isDestThreadInCurrentDoc:h,destThread:f,destThreadIndex:p,destThreadTitle:v}};case a.gotoE:var g=new e.EmbeddedGotoAction(n),m=g.GetDestinationName().toString(),y=g.GetDestination(),_=N(e,t,y),b=g.GetRootFile(),w=b.IsEmpty()?void 0:L(0,b),k=g.GetNewWindowFlag().value,x=g.GetTarget();return{type:i,data:{destinationName:m,destination:_,rootFile:w,newWindowFlag:k,target:F(e,t,x)}};case a.setOCGState:for(var P=function(t){var n=D.GetOCGStateArray(t),i=D.GetOCGState(t),r=n.GetSize();i===e.OCGState.e_OCGStateOn?S=Array.from({length:r},(function(e,t){return n.GetAt(t).GetObjNum()})):I=Array.from({length:r},(function(e,t){return n.GetAt(t).GetObjNum()}))},D=new e.SetOCGStateAction(n),E=D.GetOCGStateCount(),S=[],I=[],R=0;R<E;R++)P(R);return{type:i,data:{visibleLayerNodeObjNums:S,hiddenLayerNodeObjNums:I}};case a.rendition:var M=new e.RenditionAction(n),j=M.GetJavaScript().toString(),B=M.GetRenditionCount(),V=Array.from({length:B},(function(e,t){return{name:M.GetRendition(t).GetRenditionName().toString()}})),U=function(e,t){switch(t){case e.OperationType.e_OpTypeAssociate:return"Associate";case e.OperationType.e_OpTypeNone:return"None";case e.OperationType.e_OpTypePause:return"Pause";case e.OperationType.e_OpTypePlay:return"Play";case e.OperationType.e_OpTypeResume:return"Resume";case e.OperationType.e_OpTypeStop:return"Stop"}throw new Error("Invalid operation type: ".concat(t))}(e,M.GetOperationType());return{type:i,data:{javascript:j,renditions:V,operationType:U}};default:throw new Error("Unsupported action type: "+n.GetType().constructor.name)}}function B(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=n.GetDict().GetObjNum(),o=i?Array.from({length:n.GetSubActionCount()},(function(i,r){var o=n.GetSubAction(r);return B(e,t,o)})):[];return(0,I._)({objNumber:r,subAction:o},j(e,t,n))}function V(e,t,n){var i=U(B(e,t,n,!(arguments.length>3&&void 0!==arguments[3])||arguments[3]),(function(e){return{type:e.type,objectNumber:e.objNumber,data:e.data}}));return i}function U(e,t){var n=[],i=function(e){var r;n.push(t(e)),null===(r=e.subAction)||void 0===r||r.forEach(i)};return i(e),n}var H=n(5843),z=n(8278);function W(e){var t=e.doc,n=e.gsdk,i=e.dict,r=e.createIfNotExists,o=void 0!==r&&r,a=new n.String("AA");try{var s=i.GetElement(a);if(s){var c=s.GetDict();return new n.AdditionalAction(t,c)}if(o){var u=n.PDFDictionary.Create();return i.SetAt(a,u),new n.AdditionalAction(t,u)}}finally{a.delete()}}function G(e){var t=e.gsdk,n=e.doc,i=e.query,r=e.trigger,o=e.useDict,a=void 0!==o&&o,s=e.createIfNotExists,c=void 0!==s&&s;switch(i.type){case"doc":if(a){var u=n.GetCatalog();return W({doc:n,gsdk:t,dict:u,createIfNotExists:c})}return new t.AdditionalAction(n,null);case"page":var l=n.GetPage(i.pageIndex);if(l.IsEmpty())throw new Error("The page index ".concat(i.pageIndex," you are trying to access does not exist and the additional action cannot be obtained!"));return(0,T.deleteLater)(l),a?W({doc:n,gsdk:t,dict:l.GetDict(),createIfNotExists:c}):t.AdditionalAction.CreateFromPage(l);case"annot":var A;if((0,T.isAnnotIdQuery)(i)){var d=i.annotId,h=d.pageIndex,f=d.objNumber;if(!(A=(0,z.findAnnot)(n,i.annotId)))throw new Error("The annot (page: ".concat(h,", objNumber: ").concat(f,") you are trying to access does not exist and the additional action cannot be obtained!"))}else A=i.annot;if(!A.IsEmpty()&&A.GetType()===t.AnnotType.e_Widget&&w(r)){var p=((0,H._)(A,t.Widget)?A:new t.Widget(A)).GetField();return a?W({doc:n,gsdk:t,dict:p.GetDict(),createIfNotExists:c}):new t.AdditionalAction(p)}return a?W({doc:n,gsdk:t,dict:A.GetDict(),createIfNotExists:c}):t.AdditionalAction.CreateFromAnnot(A);case"field":var v;if((0,T.isFieldNameQuery)(i)){var g=new t.Form(n),m=(0,T.createWString)(t,i.fieldName);if((v=g.GetField(0,m)).IsEmpty())throw new Error("The field ".concat(i.fieldName," you are trying to access does not exist and the additional action cannot be obtained!"));(0,T.deleteLater)(g)}else if((0,T.isWidgetFieldQuery)(i)){var y=(0,z.findAnnot)(n,i.widgetId);if(!y||y.IsEmpty()||y.GetType()!==t.AnnotType.e_Widget)throw new Error("The widget ".concat(JSON.stringify(i.widgetId)," you are trying to access does not exist and the additional action cannot be obtained!"));v=new t.Widget(y).GetField()}else v=i.field;return a?W({doc:n,gsdk:t,dict:v.GetDict(),createIfNotExists:c}):new t.AdditionalAction(v);default:throw new Error("Cannot obtain additional action by this owner: ".concat(JSON.stringify(i)))}}function Y(e,t,n){var i={value:t},r=e.GetAction(i);if(!r||r.IsEmpty())return!1;if("number"!=typeof n)return e.RemoveAction(i),!0;for(var o=r.GetSubActionCount(),a=[r],s=0;s<o;s++)a.push(r.GetSubAction(s));var c=a.findIndex((function(e){return e.GetDict().GetObjNum()===n}));if(-1===c)throw new Error("Action not found by this obj number: ".concat(n));if(0===c){if(a.shift(),0===a.length)return e.RemoveAction(i),!0;r.RemoveAllSubActions();var u=a.slice(1),l=a[0];u.forEach((function(e,t){l.InsertSubAction(t,e)})),e.SetAction(i,l)}else r.RemoveSubAction(c-1);return!0}function $(e){var t=e.gsdk,n=e.doc,r=e.data,o=e.assertPageIndex;switch(r.zoomMode){case i.ZoomXYZ:return a(function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(i){var r=t.GetPageCount(),o=n.pageIndex;if(isNaN(o)||o<0||o>=r){if(1===r)throw new Error("Incorrect page index: ".concat(o,". It should be 0"));throw new Error("Incorrect page index: ".concat(o,". It should be between [0,").concat(r-1,"]"))}}return e.Destination.CreateXYZ(t,n.pageIndex,n.left,n.top,n.zoomFactor)}(t,n,r,o));case i.ZoomFitPage:return a(function(e,t,n){return e.Destination.CreateFitPage(t,n.pageIndex)}(t,n,r));case i.ZoomFitHorz:return a(function(e,t,n){return e.Destination.CreateFitHorz(t,n.pageIndex,n.top)}(t,n,r));case i.ZoomFitVert:return a(function(e,t,n){return e.Destination.CreateFitVert(t,n.pageIndex,n.left)}(t,n,r));case i.ZoomFitRect:return a(function(e,t,n){return e.Destination.CreateFitRect(t,n.pageIndex,n.left,n.bottom,n.right,n.top)}(t,n,r));case i.ZoomFitBBox:return a(function(e,t,n){return e.Destination.CreateFitBBox(t,n.pageIndex)}(t,n,r));case i.ZoomFitBHorz:return a(function(e,t,n){return e.Destination.CreateFitBHorz(t,n.pageIndex,n.top)}(t,n,r));default:return a(function(e,t,n){return e.Destination.CreateFitBVert(t,n.pageIndex,n.left)}(t,n,r))}function a(e){if(e.IsEmpty())throw new Error("Failed to create 'Destination', please check the parameters: ".concat(JSON.stringify(r)));return e}}function J(e,t,n){var i=new e.FileSpec(t),r=n.buffer,o=n.fileName;if(r&&i.Embed(e.StreamCallback.implement({Release:function(){},GetSize:function(){return r.byteLength},ReadBlock:function(t,n,i){var o=r.slice(n,n+i);return e.HEAPU8.set(o,t),!0}})),i.SetFileName((0,T.createWString)(e,o)),n.description&&i.SetDescription((0,T.createString)(e,n.description)),n.modifiedDateTime){var a=(0,T.createDateTime)(e,n.modifiedDateTime);i.SetModifiedDateTime(a)}return n.subtype&&i.SetSubtype((0,T.createString)(e,n.subtype)),i}function q(e,t,n,i){var r=i.destination,o=i.destinationName,a=i.rootFile,c=i.newWindowFlag,u=i.target,l=new e.EmbeddedGotoAction(n);if(r){var A=new e.PDFDoc(null,!1),d=$({gsdk:e,doc:A,data:r,assertPageIndex:!1});l.SetDestination(d)}if(o&&l.SetDestinationName((0,T.createString)(e,o)),!r&&!o)throw new Error("For a embedded goto action, either destination or destinationName is required!");if(a){var h=t;if(a.buffer){var f=a.buffer,p=f.byteLength,v=e._malloc(p);e.HEAPU8.set(new Uint8Array(f),v);var g=e.createPDFDocWithBuffer(v,p),m=g.Load((0,T.createString)(e,""));if(m!==e.ErrorCode.e_ErrSuccess)throw new Error("Failed to load root file: ".concat(m));a.buffer=void 0,h=g}var y=J(e,h,a);l.SetRootFile(y)}switch(c){case s.NewWindowFlagFalse:case s.NewWindowFlagNone:case s.NewWindowFlagTrue:case void 0:l.SetNewWindowFlag(null!=c?c:s.NewWindowFlagNone);break;default:throw new Error("Unsupported new window flag: ".concat(c,", it should be one of ").concat(Object.values(s).join(", ")))}u&&l.SetTarget(K(e,t,u))}function K(e,t,n){var i=new e.EmbeddedGotoTarget(t);if(i.SetAttachedFileName((0,T.createWString)(e,n.attachedFileName)),i.SetFileAttachmentAnnotIndex(n.fileAttachmentAnnotIndex),i.SetPageIndex(n.pageIndex),i.SetRelationship((0,T.createString)(e,n.relationship)),n.target){var r=K(e,t,n.target);r.SetTarget(r)}return i}function Z(e){var t=e.gsdk,n=e.doc,i=e.action,r=e.data;switch(C(t,i.GetType())){case a.javaScript:!function(e,t,n){var i=n.javascript;if(void 0!==i){var r=new e.JavaScriptAction(t),o=(0,T.createWString)(e,i);r.SetScript(o),o.delete()}}(t,i,r);break;case a.uri:!function(e,t,n){var i=n.uri;if(void 0!==i){var r=new e.URIAction(t),o=(0,T.createString)(e,i);r.SetURI(o),o.delete()}}(t,i,r);break;case a.launch:!function(e,t,n,i){var r=i.fileSpec;if(r){var o=new e.LaunchAction(n),a=J(e,t,r);o.SetFileSpec(a)}}(t,n,i,r);break;case a.resetForm:!function(e,t,n){var i=n.fieldNames,r=n.flags,o=new e.ResetFormAction(t);if(void 0!==r&&o.SetFlags(r),i){var a=new e.WStringArray;i.forEach((function(t){a.Add((0,T.createWString)(e,t))})),o.SetFieldNames(a)}}(t,i,r);break;case a.submitForm:!function(e,t,n){var i=n.flags,r=n.fieldNames,o=n.address,a=new e.SubmitFormAction(t);if(a.SetFlags(i),void 0!==o){var s=o;o.toLowerCase().startsWith("mailto:")||(s="mailto:".concat(o)),a.SetURL((0,T.createString)(e,s))}if(r){var c=new e.WStringArray;r.forEach((function(t){c.Add((0,T.createWString)(e,t))})),a.SetFieldNames(c)}}(t,i,r);break;case a.importData:!function(e,t,n,i){var r=i.fileSpec;if(r){var o=new e.ImportDataAction(n),a=J(e,t,r);o.SetFDFFileSpec(a)}}(t,n,i,r);break;case a.goto:!function(e,t,n,i){var r=i.destination;if(r){var o=new e.GotoAction(n),a=$({gsdk:e,doc:t,data:r});o.SetDestination(a)}}(t,n,i,r);break;case a.gotoR:!function(e,t,n,i){var r=i.destination,o=i.fileSpec,a=i.newWindowFlag,s=new e.RemoteGotoAction(n);if(r){var c=new e.PDFDoc(null,!1),u=$({gsdk:e,doc:c,data:r,assertPageIndex:!1});s.SetDestination(u)}if(o){var l=J(e,t,o);s.SetFileSpec(l)}void 0!==a&&s.SetNewWindowFlag({value:a})}(t,n,i,r);break;case a.gotoE:q(t,n,i,r);break;case a.hide:!function(e,t,n){var i=n.fieldNames;if(i){var r=new e.HideAction(t),o=new e.WStringArray;i.forEach((function(t){var n=(0,T.createWString)(e,t);o.Add(n)})),r.SetHideState(n.hideState),r.SetFieldNames(o),o.delete()}}(t,i,r);break;case a.named:!function(e,t,n){var i=n.name;if(i){var r=new e.NamedAction(t),o=(0,T.createString)(e,i);r.SetName(o)}}(t,i,r);break;case a.setOCGState:!function(e,t,n,i){if(i){var r=new e.SetOCGStateAction(n),o=new e.LayerTree(t),a=new e.LayerContext(t,e.UsageType.e_UsageView),s=new e.PDFDictionaryArray,c=new e.PDFDictionaryArray,u=function(e){var t=e.GetChildrenCount();if(t)for(var n=0;n<t;n++){var i=e.GetChild(n);u(i)}else{var r=a.IsVisible(e),o=e.GetDict();r?s.Add(o):c.Add(o)}};if(!o.IsEmpty())for(var l=o.GetRootNode(),A=l.GetChildrenCount(),d=0;d<A;d++){var h=l.GetChild(d);u(h)}r.InsertOCGStates(t,0,e.OCGState.e_OCGStateOn,s),r.InsertOCGStates(t,0,e.OCGState.e_OCGStateOff,c)}}(t,n,i,r);break;case a.thread:!function(e,t,n,i){if(i.isDestThreadInCurrentDoc){var r=new e.ThreadAction(n),o=new e.FileSpec(t);r.SetDestinationThreadIndex(o,i.destThreadIndex)}}(t,n,i,r)}return i}function X(e,t){var n={value:t.trigger};return function(e,t,n){var i=t.targetActionObjNumber,r=t.direction,o=t.trigger,a={value:o},s=Q(e),c=s.findIndex((function(e){return e.GetDict().GetObjNum()===i}));if(-1===c)throw new Error("Cannot found action by this obj number: ".concat(i));var u="down"===r?c+1:c-1;if(u<0||u>=s.length)return!1;if(0===u||0===c){e.RemoveAllSubActions(),null==n||n.RemoveAction(a);var l=0==c?u:c,A=s[l];null==n||n.SetAction(a,A),s.splice(l,1);for(var d=0;d<s.length;d++)A.InsertSubAction(d,s[d])}else{var h;e.RemoveAllSubActions(),h=[s[u],s[c]],s[c]=h[0],s[u]=h[1];for(var f=1;f<s.length;f++)e.InsertSubAction(f,s[f])}return!0}(e.GetAction(n),t,e)}function Q(e){if(e.IsEmpty())return[];var t=[e];function n(e,t){var i=e.GetSubAction(t),r=Array.from({length:i.GetSubActionCount()},(function(e,t){return n(i,t)}));return[i].concat(r)}var i=Array.from({length:e.GetSubActionCount()},(function(t,i){return n(e,i)})).flat(1/0).filter((function(e){return!e.IsEmpty()}));return t.concat(i)}function ee(e,t,n,i){var r=i.trigger,o=i.targetActionObjNumber,a=i.direction,s={value:r},c=n.GetAction(s),u=Q(t),l=Q(c),A=u.concat(l),d=A.findIndex((function(e){return e.GetDict().GetObjNum()===o}));if(-1===d)throw new Error("Cannot found action by this obj number: ".concat(o));var h="down"===a?d+1:d-1;if(h<0||h>=A.length)return!1;var f,p=u.length;h<u.length?p=u.length+1:d<u.length&&(p=u.length-1),f=[A[h],A[d]],A[d]=f[0],A[h]=f[1];var v=A.slice(0,p),g=A.slice(p),m=te(v),y=te(g);return m?e.SetAction(m):e.RemoveAction(),y?n.SetAction(s,y):n.RemoveAction(s),!0}function te(e){var t=e[0];if(t)return t.RemoveAllSubActions(),e.slice(1).forEach((function(n,i){var r=e[i+1];r.RemoveAllSubActions(),t.InsertSubAction(i,r)})),t}function ne(e,t){if(!e.IsEmpty()){if(e.GetDict().GetObjNum()===t)return{action:e,index:-1};var n=function(e){for(var i=e.GetSubActionCount(),r=0;r<i;r++){var o=e.GetSubAction(r);if(!o.IsEmpty()){if(o.GetDict().GetObjNum()===t)return{parent:e,action:o,index:r};var a=n(o);if(a)return a;(0,T.deleteLater)(o)}}};return n(e)}}function ie(e){return re.apply(this,arguments)}function re(){return(re=(0,R._)((function(e){var t,n,i,r,o,a,s,c,u,l,A;return(0,M.Jh)(this,(function(d){switch(d.label){case 0:return t=e.gsdk,n=e.doc,i=e.additionalAction,r=e.trigger,o=e.actionData,a=e.validator,[4,(void 0===a?function(){return Promise.resolve(!0)}:a)()];case 1:return d.sent()?(s={value:r},c=(0,T.createString)(t,"JS"),u=t.Action.Create(n,t.ActionType.e_TypeJavaScript),l=u.GetDict(),A=(0,T.createWString)(t,o.javascript),l.SetAtWString(c,A),i.SetAction(s,u),[2,!0]):[2,!1]}}))}))).apply(this,arguments)}function oe(e,t){var n,i,r,o,a,s,c;return(0,M.Jh)(this,(function(u){switch(u.label){case 0:return[4,{hierarchy:e,parent:t}];case 1:u.sent(),n=!0,i=!1,r=void 0,u.label=2;case 2:u.trys.push([2,7,8,9]),o=e.subAction[Symbol.iterator](),u.label=3;case 3:return(n=(a=o.next()).done)?[3,6]:(s=a.value,[5,(0,M.XA)(oe(s,e))]);case 4:u.sent(),u.label=5;case 5:return n=!0,[3,3];case 6:return[3,9];case 7:return c=u.sent(),i=!0,r=c,[3,9];case 8:try{n||null==o.return||o.return()}finally{if(i)throw r}return[7];case 9:return[2]}}))}var ae,se,ce,ue="additional-action-api-channel-id",le="action-executor-action-id",Ae="annot-action-api-channel",de="bookmark-action-api-channel";!function(e){e.BUTTON="button",e.CHECK_BOX="checkbox",e.RADIO="radio",e.LIST_BOX="listbox",e.HIER_LIST_BOX="hier_listbox",e.STATIC_TEXT="static_text",e.EDIT_TEXT="edit_text",e.OK="ok",e.OK_CANCEL="ok_cancel",e.OK_CANCEL_OTHER="ok_cancel_other",e.CLUSTER="cluster",e.IMAGE="image",e.PROGRESS_BAR="progress_bar",e.LINK_TEXT="link_text",e.LINK_GROUP="link_group",e.POPUP="popup",e.GAP="gap",e.VIEW="view"}(ae||(ae={})),function(e){e.LEFT="align_left",e.CENTER="align_center",e.RIGHT="align_right",e.TOP="align_top",e.FILL="align_fill",e.DISTRIBUTE="align_distribute",e.ROW="align_row",e.OFFSCREEN="align_offscreen"}(se||(se={})),function(e){e.DEFAULT="default",e.DIALOG="dialog",e.palette="palette"}(ce||(ce={}));var he,fe="dialog_event_callback_channel_id";!function(e){e[e.ERROR=0]="ERROR",e[e.WARNING=1]="WARNING",e[e.QUESTION=2]="QUESTION",e[e.STATUS=3]="STATUS",e[e.DEFAULT=4]="DEFAULT"}(he||(he={}));var pe,ve,ge="fxjse_action_callback_api_channel_id",me="ui-state-manager-channel-id";!function(e){e[e.Doc=0]="Doc",e[e.DocAndAnnot=1]="DocAndAnnot",e[e.DocAntStamps=2]="DocAntStamps",e[e.FieldsOnly=3]="FieldsOnly"}(pe||(pe={})),function(e){e[e.All=0]="All",e[e.CurrentView=1]="CurrentView",e[e.CurrentPage=2]="CurrentPage",e[e.Pages=3]="Pages",e[e.PortfolioSelected=4]="PortfolioSelected",e[e.PortfolioAll=5]="PortfolioAll"}(ve||(ve={}));var ye,_e,be,we,ke="print-event-callback-api-channel";!function(e){e[e.OK=0]="OK",e[e.OKCancel=1]="OKCancel",e[e.YesNO=2]="YesNO",e[e.YesNoCancel=3]="YesNoCancel"}(ye||(ye={})),function(e){e[e.OK=1]="OK",e[e.Cancel=2]="Cancel",e[e.NO=3]="NO",e[e.Yes=4]="Yes"}(_e||(_e={})),function(e){e[e.OK=1]="OK",e[e.Cancel=2]="Cancel",e[e.Block=3]="Block"}(be||(be={})),function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Question=2]="Question",e[e.Prompt=3]="Prompt"}(we||(we={}));var xe=n(9227),Pe=n(7424),Ce=n(5991),De={annot:h,doc:y,page:g,field:p,bookmark:[]},Ee=function(){function e(t,n,i){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return De[r.query.type]};(0,xe._)(this,e),(0,Ce._)(this,"query",void 0),(0,Ce._)(this,"additionalActionAPI",void 0),(0,Ce._)(this,"emitAAActionChangeEvent",void 0),(0,Ce._)(this,"getDefaultTriggerEvents",void 0),this.query=t,this.additionalActionAPI=n,this.emitAAActionChangeEvent=i,this.getDefaultTriggerEvents=o}return(0,Pe._)(e,[{key:"setAction",value:function(e,t){var n=this;return(0,R._)((function(){return(0,M.Jh)(this,(function(i){switch(i.label){case 0:return[4,n.additionalActionAPI.overwriteAction(n.query,e,t)];case 1:return i.sent(),n.emitAAActionChangeEvent("set",e,t),[2]}}))}))()}},{key:"updateActionData",value:function(e,t,n){var i=this;return(0,R._)((function(){return(0,M.Jh)(this,(function(r){switch(r.label){case 0:return[4,i.additionalActionAPI.updateAction(i.query,e,t,n)];case 1:return r.sent(),i.emitAAActionChangeEvent("update",e,t,n),[2]}}))}))()}},{key:"getActions",value:function(e){return Array.isArray(e)||(e=this.getDefaultTriggerEvents()),(null==e?void 0:e.length)?this.additionalActionAPI.getActions(this.query,e):Promise.resolve([])}},{key:"moveAction",value:function(e){var t=this;return(0,R._)((function(){return(0,M.Jh)(this,(function(n){switch(n.label){case 0:return[4,t.additionalActionAPI.moveAction(t.query,e)];case 1:return n.sent(),t.emitAAActionChangeEvent("move"),[2]}}))}))()}},{key:"removeAction",value:function(e,t){var n=this;return(0,R._)((function(){var i;return(0,M.Jh)(this,(function(r){switch(r.label){case 0:return[4,n.additionalActionAPI.removeAction(n.query,e,t)];case 1:return(i=r.sent())&&n.emitAAActionChangeEvent("remove",e,t),[2,i]}}))}))()}},{key:"addAction",value:function(e,t){var n=this;return(0,R._)((function(){return(0,M.Jh)(this,(function(i){switch(i.label){case 0:return[4,n.additionalActionAPI.appendAction(n.query,e,t)];case 1:return i.sent(),n.emitAAActionChangeEvent("add",e,t),[2]}}))}))()}},{key:"triggerAction",value:function(e){var t=this;return(0,R._)((function(){return(0,M.Jh)(this,(function(n){switch(n.label){case 0:return[4,t.additionalActionAPI.triggerAction(t.query,e)];case 1:return n.sent(),[2]}}))}))()}}]),e}()},8278:(e,t,n)=>{"use strict";function i(e,t){return!(!e||!t)&&(e===t||e.objNumber===t.objNumber&&e.pageIndex===t.pageIndex)}function r(e,t){return"".concat(e,"_").concat(t.pageIndex,"-").concat(t.objNumber)}function o(e){return!!e&&"object"==typeof e&&"number"==typeof e.pageIndex&&"number"==typeof e.objNumber}n.r(t),n.d(t,{AnnotType:()=>a,HighlightingMode:()=>s,annotIdToString:()=>r,findAnnot:()=>u,isAnnotId:()=>o,isSameAnnotId:()=>i,isValidHighlightingMode:()=>l});var a,s,c=n(7984);function u(e,t){var n=e.GetPage(t.pageIndex);if(!n.IsEmpty()){(0,c.deleteLater)(n);for(var i=n.GetAnnotCount(),r=0;r<i;r++){var o=n.GetAnnot(r);if(o.GetDict().GetObjNum()===t.objNumber)return o;(0,c.deleteLater)(o)}}}function l(e){switch(e){case 0:case 1:case 2:case 3:case 4:return!0;default:return!1}}!function(e){e.unKnownType="unknowntype",e.text="text",e.link="link",e.freeText="freetext",e.line="line",e.square="square",e.circle="circle",e.polygon="polygon",e.polyLine="polyline",e.polyline="polyline",e.highlight="highlight",e.underline="underline",e.squiggly="squiggly",e.strikeOut="strikeout",e.stamp="stamp",e.caret="caret",e.ink="ink",e.psInk="psink",e.fileAttachment="fileattachment",e.sound="sound",e.movie="movie",e.widget="widget",e.screen="screen",e.printerMark="printermark",e.trapNet="trapnet",e.watermark="watermark",e.threeD="3d",e.popup="popup",e.redact="redact"}(a||(a={})),function(e){e[e.NONE=0]="NONE",e[e.INVERT=1]="INVERT",e[e.OUTLINE=2]="OUTLINE",e[e.PUSH=3]="PUSH",e[e.TOGGLE=4]="TOGGLE"}(s||(s={}))},7984:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ApplicationContextImpl:()=>et,Aspect:()=>Zt,BROWSER_DETECTION:()=>ea,BasicIoCStrategy:()=>Ge,BrowserInfo:()=>s,BuiltinIntersectionObserver:()=>ga,CLIPBOARD_DATA_TYPES:()=>Ba,CSS_CURSOR_MAP:()=>ki,CUSTOM_SPELL_CHECKER_REMOTE_API:()=>gi,ChunkDownloader:()=>ec,Color:()=>en,CountDownLatch:()=>pi,CursorType:()=>fi,DEVICE_DETACTION:()=>Zi,DebounceAsyncTaskExecutor:()=>m,DebounceTaskExecutor:()=>ut,Defer:()=>p,DeviceInfo:()=>r,Disposable:()=>Ze,EDITABLE_ELEMENT_SHORTCUTS:()=>Xr,ErrorCodeMap:()=>xn,EventEmitterStore:()=>mt,ExecutionContext:()=>y,F:()=>Vn,FileExtensions:()=>ai,FileFormat:()=>Xn,IOC_SHARED_SINGLETON:()=>z,IOC_SINGLETON:()=>W,IS_HANDLED:()=>to,IoCScope:()=>H,KEYBOARD_LOCATION:()=>wi,KeyCodes:()=>Or,KeyboardImpl:()=>co,KeyboardUtils:()=>o,Lazy:()=>B,Log_Levels:()=>i,Logger:()=>Pe,LoggerFactory:()=>Le,MESSAGE_CHANNEL_MESSAGE_NAME:()=>bn,MODULE_LICENSE_INFO:()=>$a,MessageChannel:()=>Sn,NoLogger:()=>Ce,PDFDate:()=>pn,PDFUnit:()=>sn,PDFUnitNumber:()=>fn,PrototypeIoCStrategy:()=>Ke,Proxy:()=>T,QueuedAsyncTaskExecutor:()=>_,RandomAccessBlob:()=>Xi,Reflect:()=>R,SHARED_STRATEGY:()=>qe,SPELL_CHECKER_API_CHANNEL_ID:()=>vi,STANDARD_HTML_ELEMENTS:()=>Ja,SYSTEM_DEFAULT_SHORTCUTS:()=>Zr,Shortcut:()=>Kr,ShortcutContextImpl:()=>ao,ShortcutEventApportunity:()=>eo,ShortcutEventImpl:()=>ro,SingletonIoCStrategy:()=>Ye,Store:()=>vt,SyncGeneratorInvoker:()=>jn,T:()=>Bn,ThrottleAsyncTaskExecutor:()=>w,ThrottleTaskStatus:()=>g,TrustedPointerEventInput:()=>Ls,UndoRedoManager:()=>_i,ValueStore:()=>gt,VisibilityChecker:()=>Gs,Watcher:()=>ns,WorkerSyncGeneratorInvoker:()=>Gn,WriterHelper:()=>Ks,addClass:()=>_a,appOnly:()=>it,assertThat:()=>G,attachContextMenuEvent:()=>ya,attachContextMenuEvent2:()=>ma,attachKeypressEvent:()=>Fa,browser:()=>c,checkHighContrast:()=>is,colorConvertor:()=>an,config:()=>be,convertFromNumberToHex:()=>nn,convertFromNumberToJSColor:()=>ln,convertFromNumberToRGBA:()=>on,convertPointTo:()=>dn,convertToPoint:()=>hn,copyText:()=>Aa,createClass:()=>at,createClickEvent:()=>Na,createDOM:()=>Qa,createDateTime:()=>Ys,createDatetimeFromString:()=>$s,createDeferred:()=>v,createFocusEvent:()=>La,createHammer:()=>Os,createString:()=>qn,createWString:()=>Jn,cssText:()=>ka,curry:()=>zn,cursorIndex2Pos:()=>Rs,dayjs:()=>Kt,debounce:()=>lt,decodePDFString:()=>si,deleteLater:()=>Kn,diffRender:()=>os,dom:()=>Ka,doms:()=>Za,dpr:()=>ra,escapeXMLValue:()=>oi,eventPath:()=>da,excludeCommandInterceptor:()=>lo,excludeEditableElementInterceptor:()=>ho,extToMimeType:()=>nt,extendOptions:()=>dt,focusNeedBeOn:()=>po,getCanvasPixelRatio:()=>fa,getClientX:()=>Ga,getClientY:()=>Ya,getClipboardData:()=>Ms,getCursorIndex:()=>Ts,getCursorPositionOfEditableElement:()=>Is,getDPI:()=>aa,getKey:()=>Mr,getPDFString:()=>qs,getPtPxRatio:()=>sa,getPxPtRatio:()=>ca,getSecureRandom:()=>Wn,getTransparentOrColor:()=>An,getUniqueId:()=>fe,globalPointerStatus:()=>Xs,identity:()=>Un,includeCommandInterceptor:()=>uo,interceptors:()=>a,invokeAddDestroyHook:()=>He,invokeAllInjected:()=>je,invokeDecorate:()=>ze,invokeDestroy:()=>Ve,invokeInjected:()=>Be,invokePullout:()=>Ue,is360:()=>qo,isAliAppBrowser:()=>Bi,isAllSimilar:()=>ue,isAlt:()=>_r,isAltLeft:()=>br,isAltRight:()=>wr,isAndroid:()=>Ni,isAnnotIdQuery:()=>ui,isAnnotQuery:()=>ci,isBaidu:()=>zo,isBlackBerry:()=>Li,isChrome:()=>Fo,isChromebook:()=>Ki,isChromiumEdge:()=>Mo,isCloseTo:()=>ce,isCtrl:()=>fr,isCtrlLeft:()=>pr,isCtrlRight:()=>vr,isDefined:()=>ee,isDesktop:()=>zi,isDocument:()=>xs,isEdge:()=>Io,isEditable:()=>Pa,isEditableElement:()=>Ao,isElement:()=>Ea,isEnd:()=>Ir,isEnter:()=>Cr,isFieldNameQuery:()=>li,isFieldQuery:()=>Ai,isFirefox:()=>Oo,isFullscreen:()=>rs,isFunction:()=>te,isGecko:()=>Lo,isHTMLElement:()=>ks,isHome:()=>Sr,isHuawei:()=>Yi,isHuaweiBrowser:()=>$o,isIE:()=>Do,isIE10:()=>Eo,isIE10Compact:()=>Qo,isIE8:()=>Ko,isIE8Compact:()=>Zo,isIE9Compact:()=>Xo,isIEAtLeast11:()=>So,isIOS:()=>Ti,isIOSChrome:()=>Jo,isIPAD:()=>Mi,isIPHONE:()=>Ri,isIPOD:()=>Fi,isInCloseRange:()=>re,isInLeftCloseRange:()=>oe,isInOpenRange:()=>se,isInRightCloseRange:()=>ae,isInteger:()=>J,isKey:()=>Rr,isKindle:()=>ji,isLazy:()=>We,isLiebao:()=>Go,isLinux:()=>$i,isMac:()=>Ii,isMacOS:()=>qi,isMatch:()=>Ar,isMaxthon:()=>jo,isMeta:()=>kr,isMetaLeft:()=>xr,isMetaRight:()=>Pr,isMiPad:()=>Wi,isMiuiBrowser:()=>Yo,isMobile:()=>Hi,isNumber:()=>Y,isNumberInRange:()=>Z,isNumpadEnter:()=>Er,isOpera:()=>To,isPlainObject:()=>kn,isPromiseLike:()=>le,isQQ:()=>Vo,isQuirksMode:()=>Bo,isRevockableCallback:()=>Yn,isRunningInBrowser:()=>va,isRunningInWorker:()=>pa,isSafari:()=>No,isSamePoint:()=>Q,isShift:()=>gr,isShiftLeft:()=>mr,isShiftPressedKey:()=>Hr,isShiftRight:()=>yr,isSougou:()=>Ho,isSpace:()=>Tr,isSquaredNumber:()=>q,isStandardEnter:()=>Dr,isString:()=>ne,isTablet:()=>Ui,isTeamsAndroid:()=>Vi,isTouchDevice:()=>xi,isUC:()=>Wo,isValidNumber:()=>$,isValidRange:()=>ie,isValidRotationAngle:()=>K,isWeChat:()=>Uo,isWebOS:()=>Oi,isWebkit:()=>Ro,isWidgetFieldQuery:()=>di,isWindowObject:()=>Da,isWindows:()=>Ji,isXiaomi:()=>Gi,keyCodeToKey:()=>Vr,keyboardStatus:()=>vo,match:()=>lr,matchers:()=>hr,mix:()=>js,moduleType:()=>vs,moveCursorOfContentEditable:()=>Ss,moveCursorOfTextInput:()=>Es,moveCursorTo:()=>Cs,moveCursorToEnd:()=>Ps,moveCursorToEndOfTextInput:()=>Ds,noop:()=>h,notImplemented:()=>Ee,number2String:()=>Zs,observeResize:()=>Sa,onTap:()=>Oa,openFilePicker:()=>Qs,pointerStatus:()=>tc,preventDefaultInterceptor:()=>fo,preventFastClickByKeydown:()=>za,prop:()=>Hn,readFromClipboard:()=>Hs,releaseLater:()=>Zn,removeClass:()=>ba,replaceInvalidXMLCharacters:()=>ri,resolveLineWrap:()=>bi,setAttrs:()=>xa,setLogLevel:()=>ke,setThemeColor:()=>ys,simulateKey:()=>zr,singletonCreator:()=>st,standardColorAsARGBNumber:()=>un,stopPropagationOnShortcutEvent:()=>Wa,strLogLevel2Num:()=>we,toCloneableQuery:()=>hi,toLocalDate:()=>Js,toggleClassByFlag:()=>wa,toggleLogOff:()=>xe,unsupported:()=>yt,useJQuery:()=>Ma});var i={};n.r(i),n.d(i,{LEVEL_DEBUG:()=>ve,LEVEL_ERROR:()=>ye,LEVEL_INFO:()=>ge,LEVEL_WARN:()=>me});var r={};n.r(r),n.d(r,{DEVICE_DETACTION:()=>Zi,isAliAppBrowser:()=>Bi,isAndroid:()=>Ni,isBlackBerry:()=>Li,isChromebook:()=>Ki,isDesktop:()=>zi,isHuawei:()=>Yi,isIOS:()=>Ti,isIPAD:()=>Mi,isIPHONE:()=>Ri,isIPOD:()=>Fi,isKindle:()=>ji,isLinux:()=>$i,isMac:()=>Ii,isMacOS:()=>qi,isMiPad:()=>Wi,isMobile:()=>Hi,isTablet:()=>Ui,isTeamsAndroid:()=>Vi,isTouchDevice:()=>xi,isWebOS:()=>Oi,isWindows:()=>Ji,isXiaomi:()=>Gi});var o={};n.r(o),n.d(o,{KEYBOARD_LOCATION:()=>wi,getKey:()=>Mr,isAlt:()=>_r,isAltLeft:()=>br,isAltRight:()=>wr,isCtrl:()=>fr,isCtrlLeft:()=>pr,isCtrlRight:()=>vr,isEnd:()=>Ir,isEnter:()=>Cr,isHome:()=>Sr,isKey:()=>Rr,isMatch:()=>Ar,isMeta:()=>kr,isMetaLeft:()=>xr,isMetaRight:()=>Pr,isNumpadEnter:()=>Er,isShift:()=>gr,isShiftLeft:()=>mr,isShiftPressedKey:()=>Hr,isShiftRight:()=>yr,isSpace:()=>Tr,isStandardEnter:()=>Dr,keyCodeToKey:()=>Vr,match:()=>lr,matchers:()=>hr,simulateKey:()=>zr});var a={};n.r(a),n.d(a,{excludeCommandInterceptor:()=>lo,excludeEditableElementInterceptor:()=>ho,focusNeedBeOn:()=>po,includeCommandInterceptor:()=>uo,preventDefaultInterceptor:()=>fo});var s={};n.r(s),n.d(s,{BROWSER_DETECTION:()=>ea,is360:()=>qo,isBaidu:()=>zo,isChrome:()=>Fo,isChromiumEdge:()=>Mo,isEdge:()=>Io,isFirefox:()=>Oo,isGecko:()=>Lo,isHuaweiBrowser:()=>$o,isIE:()=>Do,isIE10:()=>Eo,isIE10Compact:()=>Qo,isIE8:()=>Ko,isIE8Compact:()=>Zo,isIE9Compact:()=>Xo,isIEAtLeast11:()=>So,isIOSChrome:()=>Jo,isLiebao:()=>Go,isMaxthon:()=>jo,isMiuiBrowser:()=>Yo,isOpera:()=>To,isQQ:()=>Vo,isQuirksMode:()=>Bo,isSafari:()=>No,isSougou:()=>Ho,isUC:()=>Wo,isWeChat:()=>Uo,isWebkit:()=>Ro});var c={};n.r(c),n.d(c,{copyText:()=>Aa,dpr:()=>ra,eventPath:()=>da,getCanvasPixelRatio:()=>fa,getDPI:()=>aa,getPtPxRatio:()=>sa,getPxPtRatio:()=>ca,isRunningInBrowser:()=>va,isRunningInWorker:()=>pa});var u=n(9227),l=n(7424),A=n(5843),d=n(4919);function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]}var f=n(5991),p=function(){function e(){var t=this;(0,u._)(this,e),(0,f._)(this,"promise",void 0),(0,f._)(this,"resolve",void 0),(0,f._)(this,"reject",void 0),(0,f._)(this,"resolveValue",void 0),(0,f._)(this,"rejectReason",void 0),(0,f._)(this,"isSettled",!1),this.promise=new Promise((function(e,n){t.resolve=function(n){t.isSettled=!0,t.resolveValue=n,e(n)},t.reject=function(e){t.isSettled=!0,t.rejectReason=e,n(e)}}))}return(0,l._)(e,[{key:"then",value:function(t,n){var i=new e;return this.promise.then(t,n).then(i.resolve,i.reject),i}},{key:"catch",value:function(t){var n=new e;return this.promise.catch(t).then(n.resolve,n.reject),n}},{key:"finally",value:function(t){var n=new e;return this.promise.finally(t).then(n.resolve,n.reject),n}}],[{key:"resolve",value:function(t){var n=new e;return n.resolve(t),n}},{key:"reject",value:function(t){var n=new e;return n.reject(t),n}}]),e}();function v(){return new p}var g,m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,u._)(this,e),this.lastTaskPromise=Promise.resolve(),this.interval=t,this.pending=!1,this.leading=n,this.flag=0,this.cancelLast=h,this.currentTaskFn=h}return(0,l._)(e,[{key:"invokeTask",value:function(e){var t=this,n=e();return(0,A._)(n,Promise)?n.finally((function(){t.pending=!1})):(this.pending=!1,Promise.resolve(n))}},{key:"exec",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.flag++,this.currentTaskFn=(t=e).bind.apply(t,[r].concat((0,d._)(i)));var o=this.currentTaskFn;if(this.pending)return this.lastTaskPromise;this.leading&&(this.lastTaskPromise=this.lastTaskPromise.finally((function(){return o()})),this.currentTaskFn=h);var a=v(),s=function(){n.pending=!0,n.lastTaskPromise=n.lastTaskPromise.finally((function(){var e=setTimeout((function(){if(n.flag>0)n.flag=0,clearTimeout(e),s();else{var t=n.currentTaskFn();(0,A._)(t,Promise)?t=t.finally((function(){n.pending=!1})):n.pending=!1,a.resolve(t)}}),n.interval)}))};return s(),a.promise}},{key:"waitForLastTask",value:function(e){return this.lastTaskPromise||Promise.resolve(e)}},{key:"cancel",value:function(){this.currentTaskFn=h}},{key:"destroy",value:function(){this.cancel()}}]),e}(),y=function(){function e(t){(0,u._)(this,e),(0,f._)(this,"task",void 0),(0,f._)(this,"cancelled",void 0),(0,f._)(this,"defer",void 0),this.task=t,this.cancelled=!1,this.defer=v()}return(0,l._)(e,[{key:"cancel",value:function(){this.defer.resolve(),this.cancelled=!0}},{key:"isCancelled",value:function(){return this.cancelled}},{key:"promise",get:function(){return this.defer.promise}},{key:"reject",value:function(e){this.defer.reject(e)}},{key:"resolve",value:function(e){this.defer.resolve(e)}}]),e}(),_=function(){function e(){(0,u._)(this,e),(0,f._)(this,"executing",void 0),(0,f._)(this,"insertions",[]),(0,f._)(this,"executions",[]),(0,f._)(this,"isRunning",!1)}return(0,l._)(e,[{key:"notifyExecute",value:function(){var e=this;if(!this.isRunning){this.isRunning=!0;var t=function(){var n,i=e.getAndPopNextExecution();if(i){var r=null===(n=e.executing)||void 0===n?void 0:n.promise,o=function(){if(e.executing=i,i.isCancelled())t();else{var n=i.task;Promise.resolve(function(){try{return n()}catch(e){return Promise.reject(e)}}()).then((function(e){i.resolve(e)}),(function(e){i.reject(e)})).finally((function(){t()}))}};r?r.then(o,o):o()}else e.isRunning=!1};t()}}},{key:"execTasks",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0===e.length)return this.waitForCurrentRunningTasks();var n,i,r=e.map((function(e){return new y(b(e))}));t?(n=this.executions).unshift.apply(n,(0,d._)(r)):(i=this.executions).push.apply(i,(0,d._)(r));var o=r[r.length-1].promise;return this.notifyExecute(),o}},{key:"execInverse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;return this.exec(e,t,n,!0)}},{key:"exec",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=("number"==typeof n?Array(n).fill(0).map((function(e,t){return[t]})):n).map((function(n){return(t=e).bind.apply(t,[i].concat((0,d._)(n)))}));return this.execTasks(o,r)}},{key:"insert",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,r=t.map(b).map((function(e){return new y(e)}));(i=this.insertions).push.apply(i,(0,d._)(r));var o=Promise.all(r.map((function(e){return e.promise})));return this.notifyExecute(),o}},{key:"resume",value:function(){}},{key:"cancel",value:function(){var e;this.insertions.forEach((function(e){e.cancel()})),this.executions.forEach((function(e){e.cancel()})),null===(e=this.executing)||void 0===e||e.cancel()}},{key:"waitForCurrentRunningTasks",value:function(){var e=this.insertions.concat(this.executions);return this.executing&&e.push(this.executing),Promise.all(e.map((function(e){return e.promise})))}},{key:"waitUntilQuiet",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return new Promise((function(n){var i=function(){setTimeout((function(){e.executions.length>0?i():n(e.waitForCurrentRunningTasks())}),t)};i()}))}},{key:"getRunningTaskCount",value:function(){return this.executions.filter((function(e){return!e.isCancelled()})).length}},{key:"getAndPopNextExecution",value:function(){var e;return this.insertions.length>0?(e=this.insertions[0],this.insertions.shift()):this.executions.length>0&&(e=this.executions[0],this.executions.shift()),e}}]),e}();function b(e){return"function"==typeof e?e:e.context?Array.isArray(e.args)?(t=e.task).bind.apply(t,[e.context].concat((0,d._)(e.args))):e.task.bind(e.context):e.task;var t}!function(e){e.IDLE="idle",e.RUNNING="running",e.CANCELLED="cancelled"}(g||(g={}));var w=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,u._)(this,e),(0,f._)(this,"interval",void 0),(0,f._)(this,"retainLastTask",void 0),(0,f._)(this,"status",void 0),(0,f._)(this,"lastCompleteTime",void 0),(0,f._)(this,"lastTaskPromise",void 0),(0,f._)(this,"retainTaskTimmerId",void 0),this.interval=t,this.retainLastTask=n,this.status="idle",this.lastCompleteTime=0,this.lastTaskPromise=Promise.resolve()}return(0,l._)(e,[{key:"exec",value:function(e,t,n){var i=this,r=function(){if("cancelled"!==i.status){i.status="running";var r=e.apply(n,t||[])||Promise.resolve();i.lastTaskPromise=r.finally((function(){i.lastCompleteTime=Date.now(),"cancelled"!==i.status&&(i.status="idle")}))}else i.status="idle"},o=Date.now();if("idle"===this.status)if(o-this.lastCompleteTime>=this.interval){var a=function(){return r(),i.lastTaskPromise};return this.lastTaskPromise.then(a,a)}return this.retainLastTask?new Promise((function(e){clearTimeout(i.retainTaskTimmerId);var t=i.interval-(Date.now()-i.lastCompleteTime)%i.interval;i.retainTaskTimmerId=setTimeout((function(){r(),e(i.lastTaskPromise)}),t)})):this.lastTaskPromise}},{key:"waitForLastTask",value:function(){return this.lastTaskPromise}},{key:"cancel",value:function(){this.status="cancelled"}},{key:"isRunning",value:function(){return"running"===this.status}}]),e}(),k=n(5467),x=n(5376);Object.getOwnPropertyDescriptors||(Object.getOwnPropertyDescriptors=function(e){return Object.getOwnPropertyNames(e).reduce((function(t,n){return t[n]=Object.getOwnPropertyDescriptor(e,n),t}),{})});var P=["isProxy","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","apply","arguments","bind","call","caller",Symbol.hasInstance,"valueOf","__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__"],C=["toSource","watch","unwatch"];function D(e,t){try{delete e[t]}catch(n){e[t]=void 0}}var E=P.concat(["length","name","prototype"]),S="origin",I="$proxy_class_symbol_"+Date.now().toString(32),T=function(){function e(){(0,u._)(this,e)}return(0,l._)(e,null,[{key:"getNoopConstructor",value:function(e){function t(){}return t.prototype=Object.create(e.prototype),t}},{key:"getProxyClass",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e){return!0};if(r){n=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(e){var i;return(0,u._)(this,n),(i=t.call(this))[S]=e,i}return n}(this.getNoopConstructor(e)),n[I]=!0}else{n=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(){return(0,u._)(this,n),t.apply(this,arguments)}return n}("function"==typeof i?i:this.getNoopConstructor(e));var a=this.getStaticDescriptors(e);Object.defineProperties(n,a),n[I]=!0}var s=this.getClassDescriptors(e.prototype);if("function"==typeof t){var c=function(e){var n=s[e];if(!n||!o(e,n))return"continue";if("function"==typeof n.value){var i=n.value;n.value=r?function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.call(this,this[S],i,r,e,"method")}:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.call(this,this,i,r,e,"method")}}if("function"==typeof n.get){var a=n.get;n.get=r?function(){return a.call(this[S])}:function(){return t.call(this,this,null,[],e,"getter")}}if("function"==typeof n.set){var c=n.set;n.set=r?function(e){c.call(this[S],e)}:function(n){return t.call(this,this,null,[n],e,"setter")}}};for(var l in s)c(l)}return Object.defineProperties(n.prototype,s),n}},{key:"isProxyClass",value:function(e){return"function"==typeof e&&e.hasOwnProperty(I)}},{key:"getProxyObject",value:function(e,t,n){if(null==e)throw new Error("Cannot proxy a null or undefined object");var i=e.constructor;return new(this.getProxyClass(i,t,i,!0,n))(e)}},{key:"getStaticDescriptors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E,n=function e(t){if(t===Object||t===Function||!t)return{};var n=Object.getPrototypeOf(t),i=e(n);return Object.assign(i,Object.getOwnPropertyDescriptors(t))}(e);return t.forEach((function(e){D(n,e)})),C.forEach((function(t){e[t]===Function.prototype[t]&&D(n,t)})),n}},{key:"getClassDescriptors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P,n=function e(t){if("object"!=typeof t||null===t)return{};var n=Object.getPrototypeOf(t),i=n===t?{}:e(n);return Object.assign(i,Object.getOwnPropertyDescriptors(t))}(e);return t.forEach((function(e){D(n,e)})),C.forEach((function(t){e[t]===Object.prototype[t]&&D(n,t)})),n}}]),e}();const R=function(){function e(){(0,u._)(this,e)}return(0,l._)(e,null,[{key:"getSuperClass",value:function(e){if(e&&e.prototype){var t=Object.getPrototypeOf(e.prototype);return null==t?void 0:t.constructor}}},{key:"isSubClassOf",value:function(e,t){return"function"==typeof e&&"function"==typeof t&&(0,A._)(e.prototype,t)}},{key:"isOverrided",value:function(e,t,n){for(var i=t.prototype;;){var r=i.constructor;if(!r||r===e||r===Object)return!1;if(Object.prototype.hasOwnProperty.call(i,n))return!T.isProxyClass(r);i=Object.getPrototypeOf(i)}}},{key:"mixin",value:function(e,t){var n=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(){return(0,u._)(this,n),t.apply(this,arguments)}return n}(e),i=T.getStaticDescriptors(t);Object.defineProperties(n,i);var r=T.getClassDescriptors(t.prototype);return Object.keys(r).filter((function(e){return"constructor"!==e})).forEach((function(e){Object.defineProperty(n.prototype,e,r[e])})),n}},{key:"getAllMethodNames",value:function(e){for(var t=e.prototype,n=new Set;t&&t!==Object.prototype&&t!==Function.prototype;){Object.getOwnPropertyNames(t).forEach((function(e){return n.add(e)})),t=Object.getPrototypeOf(t)}return n}}]),e}();var M=n(1540),F=n(6905),N=n(9418),L={},O="__lazy__",j=function(){function e(){(0,u._)(this,e)}return(0,l._)(e,null,[{key:"properties",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var i in n){var r=n[i];"function"==typeof r&&e.property(t,i,r)}}},{key:"property",value:function(t,n,i){var r=L;Object.getOwnPropertyDescriptor(t,O)||Object.defineProperty(t,O,{value:{},enumerable:!1,configurable:!1});var o=t[O][n]||{};t[O][n]=o,o.initialized=!1;var a=!1;Object.defineProperty(t,n,{get:function(){if(!o.initialized){if(a)throw new Error("The lazy property is not initialized and cannot be accessed at this time");a=!0;try{r=i()}catch(e){throw a=!1,e}o.initialized=!0,Promise.resolve().then((function(){(o.callbacks||[]).forEach((function(e){e(r)}))})),a=!1}return r},enumerable:!0,configurable:!0});var s=function(){e.release(t,n)};return"function"===t.addDestroyHook&&t.addDestroyHook(s),s}},{key:"value",value:function(t){var n="lazy_variable_"+Math.ceil(Math.random()*Date.now()).toString(34),i={};return e.property(i,n,t),{reset:function(){return e.reset(i,n)},get value(){return i[n]},get initialized(){return e.isPropertyIntialized(i,n)}}}},{key:"loadProperty",value:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);if(n&&n.get)return n.get.call(e)}},{key:"release",value:function(e,t){O in e&&!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&delete e[O][t],Object.defineProperty(e,t,{get:function(){},enumerable:!1,configurable:!0})}},{key:"reset",value:function(e,t){var n=e[O];if(n){var i=n[t];i&&(i.initialized=!1)}}},{key:"isPropertyIntialized",value:function(e,t){var n=e[O];return!!(n&&n[t]&&n[t].initialized)}},{key:"hasProperty",value:function(e,t){var n=e[O];return!(!n||!(t in n))}},{key:"notNullProperty",value:function(t,n,i){return e.property(t,n,(function(){var r=i();return null==r&&e.reset(t,n),r}))}},{key:"get",value:function(t,n,i){e.isPropertyIntialized(t,n)&&i(t[n])}},{key:"onInitialized",value:function(t,n,i){if(e.isPropertyIntialized(t,n))return i(t[n]),function(){};var r=t[O][n]||{};return t[O][n]=r,r.callbacks=r.callbacks||[],r.callbacks.push(i),function(){var e=r.callbacks.indexOf(i);e>-1&&r.callbacks.splice(e,1)}}}]),e}();const B=j;function V(e){for(var t=e,n=[];t&&t!==Object;)n.push(U(t)),t=R.getSuperClass(t);return n.reduce((function(e,t){for(var n in t){if(n in e&&e[n]!==t[n])throw new Error("Service injection conflict, the ".concat(n," injected into the parent class is ").concat(e[n],", while the service injected into the subclass is ").concat(t[n]));e[n]=t[n]}return e}),{})}function U(e){var t=e.services,n=e.inject||t;if("function"==typeof n){var i=n.call(e);return Array.isArray(i)?i.reduce((function(e,t,n){return e["service"+n]=t,e}),{}):"function"==typeof i?{service0:i}:i}return{}}var H,z="SHARED-SINGLETON",W="SINGLETON";function G(e,t){if(!e)throw new Error(t)}function Y(e){return"number"==typeof e}function $(e){return Y(e)&&isFinite(e)}function J(e){return Y(e)&&Math.floor(e)===e}function q(e){return Math.pow(Math.floor(e),2)!==e}function K(e){return(e%360+360)%360%90==0}function Z(e,t,n){return(arguments.length>3&&void 0!==arguments[3]&&arguments[3]?e>=t:e>t)&&(arguments.length>4&&void 0!==arguments[4]&&arguments[4]?e<=n:e<n)}function X(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<n}function Q(e,t){return X(e.x,t.x)&&X(e.y,t.y)}function ee(e){return null!=e}function te(e){return"function"==typeof e}function ne(e){return"string"==typeof e}function ie(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?e<=t:e<t}function re(e,t,n){return!!Y(t)&&(!!Y(n)&&(!(t>n)&&(e>=t&&e<=n)))}function oe(e,t,n){return!!Y(t)&&(!!Y(n)&&(!(t>n)&&(e>=t&&e<n)))}function ae(e,t,n){return!!Y(t)&&(!!Y(n)&&(!(t>n)&&(e>t&&e<=n)))}function se(e,t,n){return!!Y(t)&&(!!Y(n)&&(!(t>n)&&(e>t&&e<n)))}function ce(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.001;return Math.abs(e-t)<n}function ue(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=n.reduce((function(e,t){return e+t}))/n.length;return-1===n.findIndex((function(t){return t-r>e}))}function le(e){return!!e&&"object"==typeof e&&"function"==typeof e.then}function Ae(e){var t=e.scope;return te(t)&&t.call(e)||H.SINGLETON}!function(e){e.SHARED_SINGLETON="SHARED-SINGLETON",e.SINGLETON="SINGLETON",e.PROTOTYPE="PROTOTYPE"}(H||(H={}));var de="unique_"+Date.now(),he=0;const fe=function(e){return[e||"",de,he++].join("_")};var pe=n(9256),ve=0,ge=2,me=4,ye=8;const _e=function(){function e(){(0,u._)(this,e)}return(0,l._)(e,[{key:"format",value:function(e,t,n){return[{type:"string",value:"[".concat(this.levelText(t),"]")},{type:"string",value:"{".concat(e,"}")}].concat(n.map((function(e){return null==e?{type:void 0===e?"undefined":(0,pe._)(e),value:e+""}:{type:void 0===e?"undefined":(0,pe._)(e),value:e}})))}},{key:"levelText",value:function(e){switch(e){case ve:return"DEBUG";case ge:return"INFO";case me:return"WARN";case ye:return"ERROR"}return"UNKNOWN LEVEL"}}]),e}();var be={logLevel:we("warn"),logLayout:"complex",logAppenders:["console"]||0,logOff:!1,setLogLevel:ke,toggleLogOff:xe};function we(e){switch(e){case"debug":return ve;case"info":return ge;case"warn":return me;default:return ye}}function ke(e){switch(e){case ve:case ge:case me:case ye:be.logLevel=e}}function xe(e){be.logOff="boolean"==typeof e?e:!be.logOff}var Pe=function(){function e(t,n,i){(0,u._)(this,e),this.appender=t,this.layout=n,this.module=i,this.logOff=!1}return(0,l._)(e,[{key:"getMinLevel",value:function(){return void 0===this.minLevel?be.logLevel:this.minLevel}},{key:"toggle",value:function(e){this.logOff="boolean"==typeof e?e:!this.logOff}},{key:"setLevel",value:function(e){this.minLevel=e}},{key:"doLog",value:function(e,t){if(!this.isLogOff(e)){var n=this.layout.format(this.module,e,t);this.appender.print(n,e)}}},{key:"log",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.doLog(e,n)}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.doLog(ve,t)}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.doLog(ge,t)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.doLog(me,t)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.doLog(ye,t)}},{key:"isLogOff",value:function(e){return this.logOff||be.logOff||e<this.getMinLevel()}}]),e}(),Ce=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(){return(0,u._)(this,n),t.apply(this,arguments)}return(0,l._)(n,[{key:"doLog",value:function(){}}]),n}(Pe);const De=Pe;const Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";throw new Error("Method not implemented".concat(e?":"+e:""))};const Se=function(){function e(){(0,u._)(this,e)}return(0,l._)(e,[{key:"print",value:function(e,t){Ee(e,t)}}]),e}();var Ie=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(){return(0,u._)(this,n),t.apply(this,arguments)}return(0,l._)(n,[{key:"print",value:function(e,t){var n=e.map((function(e){return"string"!==e.type?" %o":" %c"+e.value})).join("").trim(),i=e.map((function(e){return"string"===e.type?e.style:e.value}));switch(i.splice(0,0,n),t){case ve:var r;(r=console).debug.apply(r,(0,d._)(i));break;case ge:var o;(o=console).info.apply(o,(0,d._)(i));break;case me:var a;(a=console).warn.apply(a,(0,d._)(i));break;case ye:var s;(s=console).error.apply(s,(0,d._)(i));break;default:var c;(c=console).log.apply(c,(0,d._)(i))}}}]),n}(Se);const Te=Ie;const Re=function(){function e(){(0,u._)(this,e)}return(0,l._)(e,[{key:"format",value:function(e,t,n){var i,r=this,o=(new Error).stack;o&&(i="\n  "+o.split("\n").pop().trim());return[{type:"string",style:"color: ".concat(this.levelColor(t),";"),value:"[".concat(this.levelText(t),"]")},{type:"string",style:"color: magenta",value:"{".concat(e,"}")}].concat(n.map((function(e){return null==e?{type:void 0===e?"undefined":(0,pe._)(e),style:"color: megenta;font-weight: bold",value:e+""}:"string"==typeof e?{type:void 0===e?"undefined":(0,pe._)(e),style:"color: ".concat(r.levelColor(t)),value:e}:{type:void 0===e?"undefined":(0,pe._)(e),value:e}}))).concat({type:"string",style:"color: grey;",value:i})}},{key:"levelColor",value:function(e){switch(e){case ve:return"blue";case ge:return"green";case me:return"#FCDCA0";case ye:return"red"}return"#000"}},{key:"levelText",value:function(e){switch(e){case ve:return"DEBUG";case ge:return"INFO";case me:return"WARN";case ye:return"ERROR"}return"UNKNOWN LEVEL"}}]),e}();var Me=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(e){var i;return(0,u._)(this,n),(i=t.call(this)).appenders=e||[],i}return(0,l._)(n,[{key:"print",value:function(e,t){this.appenders.forEach((function(n){return n.print(e,t)}))}}]),n}(Se);const Fe=Me;var Ne={},Le=function(){function e(){(0,u._)(this,e)}return(0,l._)(e,null,[{key:"toggleLogger",value:function(e){xe(e)}},{key:"setLogLevel",value:function(e){ke(e)}},{key:"getLogger",value:function(e){return Ne[e]=Ne[e]||this.createLogger(e)}},{key:"createLogger",value:function(e){var t,n;if("complex"===be.logLayout)t=new Re;else t=new _e;return n=be.logAppenders.map((function(e){switch(e){case"console":return new Te;case"websocket":return new WebsocketAppender}})).filter((function(e){return(0,A._)(e,Se)})),new De(new Fe(n),t,e)}}]),e}();const Oe=Le;function je(e){te(e.serviceInjected)&&(e.serviceInjected(),e.serviceInjected=h),te(e.allInjected)&&(e.allInjected(),e.allInjected=h)}function Be(e,t,n){te(e.injected)&&e.injected(t,n)}function Ve(e){te(e.destroy)&&e.destroy()}function Ue(e,t){te(e.pullout)&&e.pullout(t)}function He(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r;te(e.addDestroyHook)&&(r=e).addDestroyHook.apply(r,(0,d._)(n))}function ze(e){var t=e.constructor.decorate;return te(t)&&t.call(e.constructor,e)||e}function We(e){return!!te(e.isLazy)&&e.isLazy()}var Ge=function(){function e(){(0,u._)(this,e),(0,f._)(this,"map",new Map)}return(0,l._)(e,[{key:"getComponentInstance",value:function(e,t){if(ne(e))return this.map.get(e);var n=e.$$ioc_instance_name;if(ne(n)&&this.map.has(n))return this.map.get(n);e.length>0&&Oe.getLogger(this+"").warn("Relying on other object instances through constructors is not a good practice",e);var i=1===e.length?new e(t):new e;return this.saveComponentInstance(e,i),i}},{key:"saveComponentInstance",value:function(e,t){var n;if(ne(e)?n=e:(n=e.$$ioc_instance_name||this.generateInstanceName(),e.$$ioc_instance_name=n),this.map.has(n))throw new Error("[IoC] An unknown error has occurred: Duplicate requests to create instances of the same type: (".concat(e,")!"));this.map.set(n,t)}},{key:"onInject",value:function(e){var t=e.targetStrategy,n=e.injectInto,i=e.component,r=e.propertyName;t.level>this.level&&He(i,(function(){Ue(n,r)}))}},{key:"destroyComponents",value:function(){this.map.forEach((function(e){Ve(e)})),this.map.clear()}},{key:"define",value:function(e){}}]),e}(),Ye=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"singleton",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;return(0,u._)(this,n),e=t.call(this),(0,f._)((0,M._)(e),"name",void 0),(0,f._)((0,M._)(e),"level",void 0),e.name=i,e.level=r,e}return(0,l._)(n,[{key:"generateInstanceName",value:function(){return fe(this.name)}},{key:"registerComponentInstance",value:function(e){var t=e.constructor;this.saveComponentInstance(t,e)}},{key:"registerComponentInstanceByName",value:function(e,t){this.saveComponentInstance(t,e)}}]),n}(Ge),$e="object"==typeof window?window:globalThis,Je=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(){return(0,u._)(this,n),t.call(this,"shared",1/0)}return(0,l._)(n,[{key:"destroyComponents",value:function(){}}]),n}(Ye),qe=$e.__SHARED_IOC_STRATEGY__||new Je;$e.__SHARED_IOC_STRATEGY__=qe;var Ke=function(){function e(){(0,u._)(this,e),(0,f._)(this,"level",Number.MIN_SAFE_INTEGER)}return(0,l._)(e,[{key:"getComponentInstance",value:function(e,t){return new e}},{key:"onInject",value:function(e){var t=e.targetStrategy,n=e.injectInto,i=e.component,r=e.propertyName;t.level>this.level&&He(i,(function(){Ue(n,r)}))}},{key:"destroyComponents",value:function(){}},{key:"define",value:function(){}}]),e}(),Ze=function(){function e(){(0,u._)(this,e),this.destroyHooks=[],this.isDestroyed=!1}return(0,l._)(e,[{key:"ownsTo",value:function(t){if(!(0,A._)(t,e))throw new Error("Cannot owns to non Disposable instance");var n=t.addDestroyHook(this);this.addDestroyHook(n)}},{key:"addDestroyHook",value:function(){for(var t,n=this,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=this.destroyHooks).push.apply(t,(0,d._)(r.filter((function(t){if("function"!=typeof t&&!(0,A._)(t,e))throw new Error("[Illegal Argument] Invalid destroy hook:".concat(t,", It's not a function!"));return!0})))),function(){r.forEach((function(e){var t=n.destroyHooks.indexOf(e);t>-1&&n.destroyHooks.splice(t,1)}))}}},{key:"destroy",value:function(){this.destroyHooks.slice(0).forEach((function(t){try{"function"==typeof t?t():(0,A._)(t,e)&&t.destroy()}catch(e){throw e}})),this.destroyHooks=[],this.isDestroyed=!0}},{key:Symbol.dispose,value:function(){this.destroy()}}]),e}();const Xe=Ze;var Qe=fe("$$ioc-component-instance-initialized"),et=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(){var e;return(0,u._)(this,n),e=t.call(this),(0,f._)((0,M._)(e),"strategies",new Map),e.setStrategy(H.SHARED_SINGLETON,qe),e.setStrategy(H.PROTOTYPE,new Ke),e.setStrategy(H.SINGLETON,new Ye),e}return(0,l._)(n,[{key:"define",value:function(e){var t=Ae(e),n=this.getStrategy(t);null==n||n.define(e)}},{key:"getInstanceByClass",value:function(e,t){if(this.isDestroyed)throw new Error("IoC has been destroyed!");if("string"==typeof e){var n=this.getStrategy(H.SINGLETON).getComponentInstance(e,t);return n&&this.initInstance(n)}if("function"==typeof e){var i=Ae(e),r=this.getStrategy(i).getComponentInstance(e,t);return ze(this.initInstance(r))}}},{key:"initInstance",value:function(e){var t=function(t){if(B.hasProperty(e,t))return"continue";if(t in e&&e[t])throw new Error("Unable to inject instance, the same property name(".concat(t,") already exists in target instance."));B.property(e,t,(function(){var a=Ae(i),s=V(i),c=n.getStrategy(a);if(c.level<o.level)throw new Error("[IoC] Instances of scope '".concat(r,"' cannot depend on scope '").concat(a,"'"));var u=n.getInstanceByClass(s[t],e);if(!u)throw new Error("Unexpected ioc component class ".concat(s[t],", name: ").concat(t,", owner: ").concat(e));return Be(e,t,u),o.onInject({component:u,injectInto:e,propertyName:t,targetStrategy:c}),u})),We(i)||B.loadProperty(e,t)},n=this;if(this.isDestroyed)throw new Error("IoC has been destroyed!");if(!e||!e.constructor)throw new Error("".concat(e," is not a valid IoC Component instance!"));if(e[Qe])return e;Object.defineProperty(e,Qe,{get:function(){return!0},configurable:!1,enumerable:!1});var i=e.constructor,r=Ae(i),o=this.getStrategy(r),a=V(i);for(var s in a)t(s);return je(e),e}},{key:"setStrategy",value:function(e,t){this.strategies.set(e,t)}},{key:"getStrategy",value:function(e){var t=this.strategies.get(e);if(!t)throw new Error("[IoC] Incorrect scope: ".concat(e));return t}},{key:"hasStrategy",value:function(e){return this.strategies.has(e)}},{key:"destroy",value:function(){(0,F._)((0,N._)(n.prototype),"destroy",this).call(this),this.strategies.forEach((function(e){e.destroyComponents()}))}}]),n}(Xe);const tt={aac:"audio/aac",abw:"application/x-abiword",arc:"application/x-freearc",avi:"video/x-msvideo",azw:"application/vnd.amazon.ebook",bin:"application/octet-stream",bmp:"image/bmp",bz:"application/x-bzip",bz2:"application/x-bzip2",csh:"application/x-csh",css:"text/css",csv:"text/csv",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",eot:"application/vnd.ms-fontobject",epub:"application/epub+zip",gz:"application/gzip",gif:"image/gif",html:"text/html",ico:"image/vnd.microsoft.icon",ics:"text/calendar",jar:"application/java-archive",jpg:"image/jpeg",jpeg:"image/jpeg",js:"text/javascript",json:"application/json",jsonld:"application/ld+json",mid:"audio/midi",midi:"audio/x-midi",mjs:"text/javascript",mp3:"audio/mpeg",cda:"application/x-cdf",mp4:"video/mp4",mpeg:"video/mpeg",mpkg:"application/vnd.apple.installer+xml",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",oga:"audio/ogg",ogv:"video/ogg",ogx:"application/ogg",opus:"audio/opus",otf:"font/otf",png:"image/png",pdf:"application/pdf",fdf:"application/vnd.fdf",xfdf:"application/vnd.adobe.fdf",php:"application/x-httpd-php",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",rar:"application/vnd.rar",rtf:"application/rtf",sh:"application/x-sh",svg:"image/svg+xml",swf:"application/x-shockwave-flash",tar:"application/x-tar",tif:"image/tiff",".tiff":"image/tiff",ts:"video/mp2t",ttf:"font/ttf",txt:"text/plain",vsd:"application/vnd.visio",wav:"audio/wav",weba:"audio/webm",webm:"video/webm",webp:"image/webp",woff:"font/woff",woff2:"font/woff2",xhtml:"application/xhtml+xml",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xml:"application/xml",xul:"application/vnd.mozilla.xul+xml",zip:"application/zip","3gp":"video/3gpp","3g2":"video/3gpp2","7z":"application/x-7z-compressed"};function nt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"application/octet-stream";return tt[e]||t}function it(){}var rt=n(1550),ot=n(6073);function at(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Object.hasOwnProperty.call(e,"constructor"),r=i?e.constructor:void 0,o=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(){var e;return(0,u._)(this,n),e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),i?(0,ot._)(e,r.apply((0,M._)(e),arguments)):e}return n}(t);return i&&delete e.constructor,Object.assign(o.prototype,e),e.constructor=r,Object.assign(o,n),o}function st(e){var t=null;return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return null===t&&(t=(0,rt._)(e,(0,d._)(i))),t}}var ct=function(){},ut=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,u._)(this,e),(0,f._)(this,"delay",void 0),(0,f._)(this,"leading",void 0),(0,f._)(this,"handle",void 0),(0,f._)(this,"flag",void 0),(0,f._)(this,"pending",void 0),this.delay=t,this.leading=n,this.handle=ct,this.flag=0,this.pending=!1}return(0,l._)(e,[{key:"exec",value:function(e){var t=this;if(this.flag++,this.handle=e,!this.pending){this.leading&&(e(),this.flag=0,this.handle=ct);var n=function(){t.pending=!0,setTimeout((function(){if(t.flag>1)t.flag=0,n();else{var e=t.handle;t.handle=ct,e(),t.pending=!1}}),t.delay)};n()}}},{key:"cancel",value:function(){this.handle=ct}}]),e}();function lt(e){var t=new ut(arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,arguments.length>2&&void 0!==arguments[2]&&arguments[2]);return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var o,a=(o=e).bind.apply(o,[this].concat((0,d._)(i)));t.exec(a)}}var At={"[object Array]":"array","[object Boolean]":"boolean","[object Date]":"date","[object Error]":"error","[object Function]":"function","[object Number]":"number","[object Object]":"object","[object RegExp]":"regexp","[object String]":"string"};function dt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=!0;"boolean"==typeof e&&(r=e,e=n[0],n=n.slice(1)),(null===e||"object"!=typeof e&&"function"!=typeof e)&&(e={});for(var o=0,a=n.length;o<a;o++){var s=n[o];if(null!=s)for(var c in s){var u=e[c],l=s[c];if(e!==l){var A=void 0;if(r&&l&&(ft(l)||(A=Array.isArray(l)))){var d=void 0;A?(A=!1,d=u&&Array.isArray(u)?u:[]):d=u&&ft(u)?u:{},e[c]=dt(r,d,l)}else void 0!==l&&(e[c]=l)}}}return e}function ht(e,t){return null!=e&&{}.hasOwnProperty.call(e,t)}function ft(e){if(!e||"object"!==function(e){if(null===e)return"null";switch(void 0===e?"undefined":(0,pe._)(e)){case"object":case"function":return At[Object.prototype.toString(e)]||"object"}return void 0===e?"undefined":(0,pe._)(e)}(e)||e.nodeType||null!=e&&e==e.window)return!1;if(e.constructor&&!ht(e,"constructor")&&!ht(e.constructor.prototype,"isPrototypeOf"))return!1;var t=void 0;for(t in e);return void 0===t||ht(e,t)}var pt=Promise.resolve(),vt=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(){var e;return(0,u._)(this,n),e=t.call(this),(0,f._)((0,M._)(e),"__data",{}),(0,f._)((0,M._)(e),"subscribers",{}),(0,f._)((0,M._)(e),"reducers",[]),(0,f._)((0,M._)(e),"filters",[]),e.addDestroyHook((function(){e.reducers.length=0,e.filters.length=0,e.subscribers={},e.clear()})),e}return(0,l._)(n,[{key:"getCurrentValue",value:function(e,t){if(arguments.length>1&&!this.has(e))return t;var n=this.__data[e];return this.reducers.reduce((function(t,n){return n(t,e)}),n)}},{key:"forEach",value:function(e){if("function"!=typeof e)throw new Error((void 0===e?"undefined":(0,pe._)(e))+" is not a function!");for(var t in this.__data)e(this.getCurrentValue(t),t)}},{key:"has",value:function(e){return e in this.__data}},{key:"dispatch",value:function(e,t){var n=this;if(this.isDestroyed)return pt;this.__data[e]=t;var i=this.subscribers[e]||[],r=this.getCurrentValue(e),o=0===this.filters.length||this.filters.some((function(e){return e(t)}));return o&&i.length?Promise.all(i.slice(0).map((function(t){return t.call(n,r,e)}))):pt}},{key:"unDispatch",value:function(e){this.isDestroyed||delete this.__data[e]}},{key:"remove",value:function(e){this.isDestroyed||(delete this.__data[e],this.subscribers[e]=[])}},{key:"subscribe",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h;if(this.isDestroyed)return function(){};var i,r=!1,o=this.subscribers[e]||(this.subscribers[e]=[]),a=function(){if(!r)return n.call(t,t.getCurrentValue(e),e)};return o.push(a),e in this.__data&&Promise.resolve().then(a),function(){if(r)return i;r=!0;var e=o.indexOf(a);return i=e>-1&&o.splice(e,1).length>0}}},{key:"subscribeNextOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,i=this.has(e)?2:1,r=this.subscribe(e,(function(o){if(0===--i)return r(),n.call(t,o,e)}));return r}},{key:"subscribeOnce",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,n=this.subscribe(e,(function(e,i){return n&&n(),t.apply(this,[e,i])}));return n}},{key:"takeWhile",value:function(e){var t=this;return new Promise((function(n){t.subscribeOnce(e,(function(e){n(e)}))}))}},{key:"takeUntil",value:function(e,t){var n=this;return new Promise((function(i){var r=n.subscribe(e,(function(e){t(e)&&(i(),r())}))}))}},{key:"reducer",value:function(e){var t=this;if(this.isDestroyed)return h;if("function"!=typeof e)return h;var n=e.bind(this);return this.reducers.push(n),function(){var e=t.reducers.indexOf(n);return e>-1&&t.reducers.splice(e,1).length>0}}},{key:"filter",value:function(e){var t=this;if(!this.isDestroyed){if("function"!=typeof e)return h;var n=function(t){return e(t)};return this.filters.push(n),function(){var e=t.filters.indexOf(n);-1!==e&&t.filters.splice(e,1)}}}},{key:"clear",value:function(){this.__data={}}}]),n}(Xe),gt=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(e){var i;return(0,u._)(this,n),i=t.call(this),(0,f._)((0,M._)(i),"store",new vt),(0,f._)((0,M._)(i),"key","k"),i.addDestroyHook(i.store),e&&i.dispatch(e),i}return(0,l._)(n,[{key:"getCurrentValue",value:function(e){return this.store.has(this.key)?this.store.getCurrentValue(this.key):e}},{key:"dispatch",value:function(e){return this.store.dispatch(this.key,e)}},{key:"subscribe",value:function(e){return this.store.subscribe(this.key,(function(t){return e(t)}))}},{key:"subscribeOnce",value:function(e){return this.store.subscribeOnce(this.key,(function(t){return e(t)}))}},{key:"subscribeNextOne",value:function(e){return this.store.subscribeNextOne(this.key,e)}},{key:"takeWhile",value:function(){return this.store.takeWhile(this.key)}},{key:"takeUntil",value:function(e){return this.store.takeUntil(this.key,e)}},{key:"filter",value:function(e){return this.store.filter(e)}},{key:"reduce",value:function(e){return this.store.reducer((function(t){return e(t)}))}},{key:"unDispatch",value:function(){this.store.unDispatch(this.key)}},{key:"remove",value:function(){this.store.remove(this.key)}}]),n}(Xe),mt=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(e){var i;return(0,u._)(this,n),i=t.call(this),(0,f._)((0,M._)(i),"eventEmitter",void 0),(0,f._)((0,M._)(i),"listeners",void 0),i.eventEmitter=e,i.listeners=new Set,i}return(0,l._)(n,[{key:"dispatch",value:function(e,t){throw new Error("Cannot dispatch EventEmitterStore!")}},{key:"registerEvent",value:function(e){var t=this,i=this;if(!this.listeners.has(e)){this.listeners.add(e);var r=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];(0,F._)((0,N._)(n.prototype),"dispatch",i).call(i,e,r)};this.eventEmitter.on(e,r),this.addDestroyHook((function(){t.eventEmitter.off(e,r)}))}}},{key:"subscribe",value:function(e,t){return this.registerEvent(e+""),(0,F._)((0,N._)(n.prototype),"subscribe",this).call(this,e,(function(e){return t.apply(void 0,(0,d._)(e))}))}},{key:"subscribeOnce",value:function(e,t){return this.registerEvent(e+""),(0,F._)((0,N._)(n.prototype),"subscribeOnce",this).call(this,e,(function(e){return t.apply(void 0,(0,d._)(e))}))}}]),n}(vt);const yt=function(){throw new Error("Unsupported operation!")};var _t=n(7990),bt=n.n(_t),wt=n(8366),kt=n.n(wt),xt=n(4231),Pt=n.n(xt),Ct=n(1434),Dt=n.n(Ct),Et=n(7983),St=n.n(Et),It=n(1128),Tt=n.n(It),Rt=n(579),Mt=n.n(Rt),Ft=n(7074),Nt=n.n(Ft),Lt=n(890),Ot=n.n(Lt),jt=n(8990),Bt=n.n(jt),Vt=n(5522),Ut=n.n(Vt),Ht=n(3765),zt=n.n(Ht),Wt=n(5576),Gt=n.n(Wt),Yt=n(859),$t=n.n(Yt),Jt=n(4883),qt=n.n(Jt);bt().locale(Tt()),bt().locale(Mt()),bt().locale(Nt()),bt().locale(Ot()),bt().locale(Bt()),bt().locale(Bt()),bt().locale(Ut()),bt().locale(zt()),bt().locale(Gt()),bt().locale($t()),bt().locale(Bt()),bt().locale(qt()),bt().extend(kt()),bt().extend(Pt()),bt().extend(Dt()),bt().extend(St());const Kt=bt();var Zt=function(){function e(t){(0,u._)(this,e),this.originfn=t,this.beforeHooks=[],this.afterHooks=[],this.thrownHooks=[],this.aroundHooks=[]}return(0,l._)(e,[{key:"before",value:function(e){return"function"==typeof e&&this.beforeHooks.push(e),this}},{key:"after",value:function(e){return"function"==typeof e&&this.afterHooks.push(e),this}},{key:"thrown",value:function(e){return"function"==typeof e&&this.thrownHooks.push(e),this}},{key:"around",value:function(e){return"function"==typeof e&&this.aroundHooks.push(e),this}},{key:"proxy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.before,n=e.after,i=e.thrown,r=e.around;return this.before(t),this.after(n),this.thrown(i),this.around(r),this}},{key:"extract",value:function(){var e=this,t=e.beforeHooks,n=e.afterHooks,i=e.thrownHooks,r=e.aroundHooks,o=e.originfn;function a(){for(var e=this,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];t.forEach((function(t){return t.call(e,a)}));try{var c=o.apply(this,a);return(0,A._)(c,Promise)?(c.then((function(t){n.forEach((function(n){return n.call(e,t,a)}))})),c.catch((function(t){i.forEach((function(n){return n.call(e,t,a)}))}))):n.forEach((function(t){return t.call(e,c,a)})),c}catch(t){i.length,i.forEach((function(n){return n.call(e,t,a)}))}}return a.origin=o,r.reduceRight((function(e,t){return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t(this,e,i)}}),a)}}],[{key:"on",value:function(t){if("function"==typeof t)return new e(t);if((0,A._)(t,e))return new e(t.extract());throw new TypeError("Unexpected type: ".concat(void 0===t?"undefined":(0,pe._)(t)))}}]),e}(),Xt=n(449),Qt=Math.pow(2,24),en=function(){function e(t,n,i,r){(0,u._)(this,e),(0,f._)(this,"r",void 0),(0,f._)(this,"g",void 0),(0,f._)(this,"b",void 0),(0,f._)(this,"a",void 0),this.r=t,this.g=n,this.b=i,this.a=r}return(0,l._)(e,[{key:"toCSS_Hex",value:function(){return"#".concat(tn(this.r)).concat(tn(this.g)).concat(tn(this.b))}},{key:"toCSS_RGB",value:function(){return"rgb(".concat(this.r,",").concat(this.g,",").concat(this.b,")")}},{key:"toRGB",value:function(){return this.r<<16|this.g<<8|this.b}},{key:"toARGB",value:function(){return this.a*Qt+this.toRGB()}},{key:"toBGR",value:function(){return this.b<<16|this.g<<8|this.r}},{key:"toABGR",value:function(){return this.a*Qt+this.toBGR()}},{key:"toCSS_RGBA",value:function(){return"rgba(".concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.a/255,")")}},{key:"toHSL",value:function(){var e=this.r/255,t=this.g/255,n=this.b/255,i=Math.min(e,t,n),r=Math.max(e,t,n),o=r-i,a=0,s=0;return(a=0===o?0:r===e?(t-n)/o%6:r===t?(n-e)/o+2:(e-t)/o+4)<0&&(a+=360),s=(r+i)/2,{h:a,s:+(100*(0===o?0:o/(1-Math.abs(2*s-1)))).toFixed(1),l:s=+(100*s).toFixed(1)}}},{key:"toCSS_HSL",value:function(){var e=this.toHSL(),t=e.h,n=e.s,i=e.l;return"hsl(".concat(t,",").concat(n,"%,").concat(i,"%)")}},{key:"toCSS_HSLA",value:function(){var e=this.toHSL(),t=e.h,n=e.s,i=e.l;return"hsla(".concat(t,",").concat(n,"%,").concat(i,"%, ").concat(this.a/255,")")}},{key:"toCMYK",value:function(){return e.convertRGB2CMYK(this.r,this.g,this.b)}},{key:"toHSV",value:function(){return e.convertRGB2HSV(this.r,this.g,this.b)}},{key:"clone",value:function(){return new(0,this.constructor)(this.r,this.g,this.b,this.a)}},{key:"isSameAs",value:function(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}},{key:"asArray",value:function(){return[this.r,this.g,this.b,this.a]}}],[{key:"fromHSLA",value:function(t,n,i,r){var o=(0,Xt._)(e.convertHSL2rgb(t,n,i),3);return new e(o[0],o[1],o[2],r)}},{key:"fromRGBA",value:function(t,n){var i=(0,Xt._)(e.separateRGBNumber(t),3);return new e(i[0],i[1],i[2],n)}},{key:"fromARGB",value:function(t){var n=255&t>>24,i=16777215&t;return e.fromRGBA(i,n)}},{key:"fromRGB",value:function(t){return e.fromRGBA(t,255)}},{key:"fromBGR",value:function(t){var n=(255&t)<<16|(t>>8&255)<<8|t>>16&255;return e.fromRGB(n)}},{key:"convertHSL2rgb",value:function(e,t,n){e=Math.min(359,Math.max(0,e)),t=Math.min(100,Math.max(0,t)),n=Math.min(100,Math.max(0,n)),n/=100;var i,r,o,a,s=(t/=100)*(1-Math.abs(2*n-1)),c=s*(1-Math.abs(e/60%2-1)),u=n-s/2;if(e>=0&&e<60)i=(a=[s,c,0])[0],r=a[1],o=a[2];else if(e>=60&&e<120){var l;i=(l=[c,s,0])[0],r=l[1],o=l[2]}else if(e>=120&&e<180){var A;i=(A=[0,s,c])[0],r=A[1],o=A[2]}else if(e>=180&&e<240){var d;i=(d=[0,c,s])[0],r=d[1],o=d[2]}else if(e>=240&&e<300){var h;i=(h=[c,0,s])[0],r=h[1],o=h[2]}else{var f;i=(f=[s,0,c])[0],r=f[1],o=f[2]}return[i,r,o].map((function(e){return Math.round(255*(e+u))}))}},{key:"convertRGB2CMYK",value:function(e,t,n){var i=e/255,r=t/255,o=n/255,a=1-Math.max(i,r,o);return{c:(1-i-a)/(1-a),m:(1-r-a)/(1-a),y:(1-o-a)/(1-a),k:a}}},{key:"convertRGB2HSV",value:function(e,t,n){var i=e/255,r=t/255,o=n/255,a=Math.max(i,r,o),s=a-Math.min(i,r,o);return{h:0===s?0:a===i?(r-o)/s*60%6:a===r?60*((o-i)/s+2):60*((i-r)/s+4),s:0===a?0:s/a,v:a}}},{key:"separateRGBNumber",value:function(e){return[e>>16&255,e>>8&255,255&e]}}]),e}();function tn(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function nn(e){if("number"!=typeof e)throw new TypeError("Unexpected color value:"+e);if(e<0)return-1;var t=e.toString(16),n=6;for(e>16777215&&(n=8);t.length<n;)t="0"+t;return"#"+t}var rn=Math.pow(2,24);function on(e){var t;return e<16777216?t=255:(t=e/rn&255,e&=16777215),{r:e>>16&255,g:e>>8&255,b:255&e,a:t}}function an(e){var t,n,i,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HTML",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s="";if(e>4294967295)throw new Error("Incorrect color");switch("number"==typeof e&&(e=["int",e]),e[0]){case"int":t=(16711680&e[1])>>16,n=(65280&e[1])>>8,i=255&e[1];break;case"T":t=0,n=0,i=0,a=0;break;case"G":t=n=i=255*e[1];break;case"RGB":t=255*e[1],n=255*e[2],i=255*e[3];break;case"CMYK":t=(1-e[4])*(1-e[1])*255,n=(1-e[4])*(1-e[2])*255,i=(1-e[4])*(1-e[3])*255;break;case"r":t=+(r=e.match(/rgba?\((\d*),\s*(\d*),\s*(\d*),?\s*([\.0-9]*)?\)/))[1],n=+r[2],i=+r[3];var c=r[4];void 0!==c&&(a=+c);break;case"#":var u=4==e.length?/#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])$/:/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/;r=e.match(u),t=parseInt(r[1],16),n=parseInt(r[2],16),i=parseInt(r[3],16);break;default:throw new Error("Unsupported color format")}switch(o){case"HTML":s=t===n&&n===i&&-1===i?"transparent":"rgba("+parseInt(t)+","+parseInt(n)+","+parseInt(i)+","+a+")";break;case"RGB":s=["RGB",t/255,n/255,i/255];break;case"#":s+=t<16?"#0"+t.toString(16):"#"+t.toString(16),s+=n<16?"0"+n.toString(16):n.toString(16),s+=i<16?"0"+i.toString(16):i.toString(16);break;case"int":s=0,s|=(a*=255)<<24,s|=t<<16,s|=n<<8,s|=i,s>>>=0;break;case"CMYK":var l=255-t,A=255-n,d=255-i;return["CMYK",l/255,A/255,d/255,Math.min(l,A,d)/255];case"GRAY":return["GRAY",(.3*t+.59*n+.11*i)/255]}return s}var sn,cn=4278190080;function un(e){switch(void 0===e?"undefined":(0,pe._)(e)){case"number":if(e<=16777215)return cn+e;if(e>16777215)return e;break;case"string":if((e=e.replace("#","").trim()).match(/^[0-9A-F]{8}$/i))return parseInt(e,16);if(e.match(/^[0-9A-F]{6}$/i))return cn+parseInt(e,16);if(e.match(/^rgb\(\d{1,3}(,\d{1,3}){2}\)$/i)){var t=(0,Xt._)(e.split(/\D+/).map((function(e){return parseInt(e)})),4),n=t[1],i=t[2],r=t[3];return cn+(n<<16)+(i<<8)+r}if(e.match(/^rgba\(\d{1,3}(,\d{1,3}){3}\)$/i)){var o=(0,Xt._)(e.split(/\D+/).map((function(e){return parseInt(e)})),5),a=o[1],s=o[2],c=o[3],u=o[4];return Math.floor(u*cn)+(a<<16)+(s<<8)+c}}throw new Error('incorrect color format: "'.concat(e,'"'))}function ln(e){return["RGB",((16711680&e)>>16)/255,((65280&e)>>8)/255,(255&e)/255]}function An(e){return 0===e?"transparent":an(16777215&e,"#")}function dn(e,t){switch(t){case"cm":return 2.54*e/72;case"mm":return 25.4*e/72;case"inch":return e/72;case"pt":return e;case"pica":return e/12}}function hn(e,t){switch(t){case"cm":return 72*e/2.54;case"mm":return 72*e/25.4;case"inch":return 72*e;case"pt":return e;case"pica":return 12*e}}!function(e){e.Point="pt",e.Inch="inch",e.Centimeter="cm",e.Milimeter="mm",e.Picas="pica"}(sn||(sn={}));var fn=function(){function e(t,n){(0,u._)(this,e),(0,f._)(this,"value",void 0),(0,f._)(this,"unit",void 0),this.value=t,this.unit=n}return(0,l._)(e,[{key:"format",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;if(isNaN(this.value))return"";var t=Math.pow(10,e);if(this.unit===sn.Picas){var n=Math.floor(this.value),i=Math.round(12*(this.value-n)*t)/t;return"".concat(n,"p").concat(i)}return Math.round(this.value*t)/t+""}},{key:"convert",value:function(t){return isNaN(this.value)?e.NaN(t):this.unit===t?this:new e(dn(hn(this.value,this.unit),t),t)}},{key:"add",value:function(t){return isNaN(this.value)||isNaN(t.value)?e.NaN(this.unit):new e(dn(hn(this.value,this.unit)+hn(t.value,t.unit),this.unit),this.unit)}},{key:"minus",value:function(t){return isNaN(this.value)||isNaN(t.value)?e.NaN(this.unit):new e(dn(hn(this.value,this.unit)-hn(t.value,t.unit),this.unit),this.unit)}},{key:"valueOfUnit",value:function(e){return e===this.unit?this.value:this.convert(e).value}}],[{key:"zero",value:function(){return new e(0,sn.Point)}},{key:"one",value:function(t){return new e(1,t)}},{key:"NaN",value:function(){return new e(NaN,arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn.Point)}},{key:"parse",value:function(t,n){if(t.indexOf("p")>-1){if(n!==sn.Picas)throw new Error("Incorrect number format: ".concat(t));var i=(0,Xt._)(t.split("p"),2),r=i[0],o=i[1];return new e(dn(12*(parseFloat(r)||0)+(parseFloat(o)||0),sn.Picas),n)}var a=parseFloat(t);if(!isFinite(a))throw new Error("Incorrect number format: ".concat(t));return new e(a,n)}}]),e}(),pn=function(){function e(t){(0,u._)(this,e),(0,f._)(this,"dayjs",void 0),this.dayjs=bt()(t)}return(0,l._)(e,[{key:"format",value:function(e){return e=vn(e),this.dayjs.format(e)}},{key:"getDate",value:function(){return this.dayjs.toDate()}}],[{key:"now",value:function(){return new e(new Date)}},{key:"parse",value:function(t,n){return n=vn(n),new e(bt()(t,n))}},{key:"from",value:function(t){return new e(t)}}]),e}();function vn(e){return e=(e=(e=e.replace(/yyyy/g,"YYYY")).replace(/yy/g,"YY")).replace(/mmmm|mmm|mm|m|MM|M/g,(function(e){return e.toLowerCase()===e?e.toUpperCase():e.toLowerCase()})),e=e.replace(/dddd|ddd|dd|d/g,(function(e){switch(e){case"dddd":case"ddd":return e}return e.toUpperCase()})),e=e.replace(/tt/g,"a")}var gn=n(5578),mn=n(2956),yn=n(9149),_n=n(7582),bn="message-channel-message-name-lnQiP2FiI",wn=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(e){var i;(0,u._)(this,n),i=t.call(this),(0,f._)((0,M._)(i),"eventTarget",void 0),(0,f._)((0,M._)(i),"channelListeners",void 0),i.eventTarget=e,i.channelListeners=new Map;var r=function(e){var t=e.data;if(t&&t.name===bn){var n=i.channelListeners.get(t.channelId);n&&n(t)}};return i.eventTarget.addEventListener("message",r),i.addDestroyHook((function(){n.instances.delete(e),i.eventTarget.removeEventListener("message",r)})),i}return(0,l._)(n,[{key:"on",value:function(e,t){var n=this;return this.channelListeners.set(e,t),function(){n.channelListeners.delete(e)}}}],[{key:"getInstance",value:function(e){return this.instances.has(e)?this.instances.get(e):new n(e)}}]),n}(Xe);function kn(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(0,f._)(wn,"instances",new WeakMap);var xn={0:"Success, and no error occurs.",1:"File cannot be found or could not be opened.",2:"Format is invalid. For files, this may also mean that file is corrupted.",3:"Invalid password. Usually, this error may occur when loading a PDF document with password. When meet this, user should load document again with correct password.",4:"Error handle.",5:"Certificate error: PDF document is encrypted by digital certificate but current user does not have the correct certificate.",6:"Any unknown error occurs.",7:"Invalid license is used to initialize Foxit PDF SDK library.",8:"Parameter error: value of any input parameter for a function is invalid.",9:"Some types are not supported.",10:"Out-of-memory error occurs.",11:"PDF document is encrypted by some unsupported security handler.",12:"Content has not been parsed yet. Usually, this represents PDF page has not been parsed yet.",13:"Expected data or object is not found.",14:"The type of input object or current object is invalid.",15:"New data conflicts with existed data.",16:"Any unknown state occurs.",17:"Data is not ready. Usually this is used as an exception error code when loading document in asynchronous way.",18:"Data of current object is invalid.",19:"XFA loading error.",20:"Current object has not been loaded yet.",21:"Invalid or incorrect state.",22:"(For ConnectedPDF only) The loaded document is not a ConnectedPDF DRM document.",23:"(For ConnectedPDF only) Cannot connect to ConnectedPDF server.",24:"(For ConnectedPDF only) Input user token is invalid.",25:"(For ConnectedPDF only) Current user has no right to open the ConnectedPDF DRM document.",26:"(For ConnectedPDF only) The rights of Current user has expired.",27:"(For ConnectedPDF only) Current device is limited to open the ConnectedPDF DRM document.",28:"(For ConnectedPDF only) Cannot remove the security from ConnectedPDF server.",29:"(For ConnectedPDF only) Cannot get the ACL from ConnectedPDF server.",30:"(For ConnectedPDF only) Cannot set the ACL to ConnectedPDF server.",31:"(For ConnectedPDF only) Loaded document is already a ConnectedPDF document.",32:"(For ConnectedPDF only) Loaded document is already a ConnectedPDF DRM document.",33:"(For ConnectedPDF only) Cannot upload ConnectedPDF document info to ConnectedPDF server.",34:"(For ConnectedPDF only) Cannot upload ConnectedPDF DRM document info to ConnectedPDF server.",35:"(For ConnectedPDF only) The input ConnectedPDF DRM wrapper document is invalid.",36:"(For ConnectedPDF only) Cannot get client ID from ConnectedPDF server.",37:"(For ConnectedPDF only) Cannot get user token from ConnectedPDF server.",38:"(For ConnectedPDF only) Input ACL is invalid.",39:"(For ConnectedPDF only) Input client ID is invalid.",40:"(For OCR only) OCR engine has not been initialized successfully.",41:"(For OCR only) Not enough disk space.",42:"(For OCR only) The trial for OCR module is end.",43:"File or folder path does not exist.",44:"(For compliance only) Compliance engine has not been initialized successfully.",45:"(For compliance only) Invalid unlock code is used to initialize compliance engine.",46:"(For compliance only) Fail to initialize compliance engine.",47:"Time stamp server manager has not been initialized successfully.",48:"(For LTV only) LTV verify mode has not been set.",49:"(For LTV only) Revocation callback for LTV has not been set.",50:"(For LTV only) Fail to switch PDF verion.",51:"(For LTV only) Fail to check DTS.",52:"(For LTV only) Fail to load DSS.",53:"(For LTV only) Fail to load DTS.",54:"(For signature only) The signature being operated needs to be signed.",55:"(For compliance only) Compliance resource file(s) cannot be found or opened. Please check if compliance resource folder and files in this folder are valid.",56:"No default server has been set to time stamp server manager yet.",57:"Cannot use current default time stamp server. Please check if default time stamp server can be used.",58:'No "ConnectedPDF" module right.',59:'No "XFA" module right.',60:'No "Redaction" module right.',61:'No "RMS" module right.',62:'No "OCR" module right.',63:'No "Comparison" module right.',64:'No "Compliance" module right.',65:'No "Optimizer" module right.',66:'No "Conversion" module right.',67:"(For Office-to-PDF conversion only) Office COM has not been initialized successfully.",68:"(For Office-to-PDF conversion only) No Microsoft Office is installed in current system.",69:"(For Excel-to-PDF conversion only) Excel document does not have any content so it cannot be converted to PDF file.",70:'No "LayoutRecognition" module right.',71:"(For ConnectedPDF only) There is some error in response data.",72:"(For PDF Optimizer PDF) There are some objects not image type.",73:'No "AdvEdit" module right.',74:'No "3D" module right.'},Pn="undefined"!=typeof WorkerGlobalScope&&(0,A._)(self,WorkerGlobalScope),Cn=Le.getLogger("MessageChannel"),Dn="function_bcd5156b98f2d";function En(e){return!!e&&e.tag==Dn&&"string"==typeof e.id}var Sn=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(e,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,u._)(this,n),r=t.call(this),(0,f._)((0,M._)(r),"eventTarget",void 0),(0,f._)((0,M._)(r),"channelId",void 0),(0,f._)((0,M._)(r),"receiver",void 0),(0,f._)((0,M._)(r),"returnCallbacks",void 0),(0,f._)((0,M._)(r),"callbackReturnCallbacks",void 0),(0,f._)((0,M._)(r),"invocationCallbacks",void 0),r.eventTarget=e,r.channelId=i,r.receiver=o,r.returnCallbacks=new Map,r.callbackReturnCallbacks=new Map,r.invocationCallbacks=new Map;var a=wn.getInstance(e);return r.addDestroyHook(a.on(r.channelId,(function(e){"return"===e.type?r.handleReturnMessage(e):"invoke"===e.type?r.handleInvokeMessage(e):"callback"===e.type?r.handleCallback(e):"callback-return"===e.type?r.handleCallbackReturn(e):"revoke-callback"===e.type&&r.revokeCallback(e)}))),r}return(0,l._)(n,[{key:"revokeCallback",value:function(e){var t=this.invocationCallbacks.get(e.invocationId);t&&(t.get(e.callbackId)&&t.delete(e.callbackId),0===t.size&&this.invocationCallbacks.delete(e.invocationId))}},{key:"handleCallback",value:function(e){var t=this;return(0,gn._)((function(){var n,i,r,o,a;return(0,_n.Jh)(this,(function(s){switch(s.label){case 0:if(n=t.invocationCallbacks.get(e.invocationId),!(i=null==n?void 0:n.get(e.callbackId)))return[2];s.label=1;case 1:return s.trys.push([1,5,,6]),le(r=i.apply(void 0,(0,d._)(e.args||[])))?[4,r]:[3,3];case 2:return o=s.sent(),[3,4];case 3:o=r,s.label=4;case 4:return t.eventTarget.postMessage({name:bn,type:"callback-return",invocationId:e.invocationId,callbackId:e.callbackId,channelId:t.channelId,status:"resolve",value:o}),[3,6];case 5:return a=s.sent(),t.eventTarget.postMessage({name:bn,type:"callback-return",invocationId:e.invocationId,callbackId:e.callbackId,channelId:t.channelId,status:"reject",reason:null==a?void 0:a.toString()}),[3,6];case 6:return[2]}}))}))()}},{key:"handleCallbackReturn",value:function(e){var t=this.callbackReturnCallbacks.get(e.invocationId+e.callbackId);t&&t(e)}},{key:"handleInvokeMessage",value:function(e){var t=this;var n=function(n){var i=new Map,r=t.serializeMessageData([n],i)[0];t.invocationCallbacks.set(e.invocationId,i),t.eventTarget.postMessage({type:"return",name:bn,channelId:t.channelId,invocationId:e.invocationId,data:{status:"resolved",value:r}},t.collectTransferables([n]))},i=function(n){t.eventTarget.postMessage({type:"return",name:bn,channelId:t.channelId,invocationId:e.invocationId,data:{status:"rejected",reason:n}})},r=this.deserializeMessageData(e.invocationId,e.args);try{var o,a=(o=this.receiver)[e.method].apply(o,(0,d._)(r));le(a)?a.then(n,i):n(a)}catch(n){if(i(n),!Pn)throw n;!function(n){if("number"==typeof n){var i=getErrorCode(n);n=xn[i.value],Cn.error("An error occurred while calling a remote method:",{receiver:t.receiver,invokeMessage:e,errorCode:i,reason:n})}else Cn.error("An error occurred while calling a remote method:",{receiver:t.receiver,invokeMessage:e,reason:n})}(n)}}},{key:"handleReturnMessage",value:function(e){var t=this.returnCallbacks.get(e.invocationId);t&&t(e)}},{key:"invoke",value:function(e,t){var n=this,i="message-channel-callback-".concat(this.channelId,"-").concat(e,"-").concat(Date.now(),"-").concat(Math.random()),r=new Map,o=this.serializeMessageData(t,r);this.invocationCallbacks.set(i,r),this.eventTarget.postMessage({type:"invoke",name:bn,channelId:this.channelId,invocationId:i,method:e,args:o},this.collectTransferables(t));var a=new p;return this.returnCallbacks.set(i,(function(e){var t=e.data;if("rejected"===t.status)a.reject(t.reason);else{var r=n.deserializeMessageData(i,[t.value])[0];a.resolve(r)}n.returnCallbacks.delete(i)})),a}},{key:"invokeCallback",value:function(e,t,n){var i=this,r=this.collectTransferables(n),o=new p;return this.eventTarget.postMessage({type:"callback",name:bn,channelId:this.channelId,callbackId:t,invocationId:e,args:n},r),this.callbackReturnCallbacks.set(e+t,(function(n){"resolve"===n.status?o.resolve(n.value):o.reject(n.reason),i.callbackReturnCallbacks.delete(e+t)})),o.promise}},{key:"remoteImplementation",get:function(){var e=this;return new Proxy({},{has:function(e){return"then"!==e&&"string"==typeof e},get:function(t,n,i){var r=e;if("symbol"!==(void 0===n?"undefined":(0,pe._)(n))&&"then"!==n)return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r.invoke(n,t)}}})}},{key:"deserializeMessageData",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,r=function(t){if(En(t)){var i=n,r=t.id,o=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return i.invokeCallback(e,r,n)};return Object.assign(o,{revoke:function(){n.eventTarget.postMessage({type:"revoke-callback",name:bn,channelId:n.channelId,invocationId:e,callbackId:r})}}),o}return t};return t.map((function(t){if(i.has(t))return i.get(t);if(Array.isArray(t)){var o,a=[];i.set(t,a);var s=t.map((function(t){return i.has(t)?i.get(t):(o=En(t)?r(t):n.deserializeMessageData(e,[t],i)[0],i.set(t,o),o);var o}));return(o=a).push.apply(o,(0,d._)(s)),a}if(kn(t)){if(En(t)){var c=r(t);return i.set(t,c),c}var u={};i.set(t,u);var l=Object.getOwnPropertyDescriptors(t);for(var A in l){var h=t[A];if(En(h)&&h.isGetter){var f={get:r(h)};Object.defineProperty(u,A,f)}else if(i.has(h))u[A]=i.get(h);else if(te(h)){var p=r(h);i.set(h,p),u[A]=p}else if(h&&"object"==typeof h){var v=n.deserializeMessageData(e,[h],i)[0];u[A]=v}else u[A]=h}return u}return t}))}},{key:"serializeMessageData",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set,r=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(te(e)){var i=fe("func");return t.set(i,e),{tag:Dn,id:i,isGetter:n}}return e};return e.map((function(e){if(i.has(e))return e;if(i.add(e),Array.isArray(e))return e.map((function(e){return te(e)?r(e):n.serializeMessageData([e],t,i)[0]}));if(kn(e)){var o=Object.getOwnPropertyDescriptors(e),a={};for(var s in o){var c=o[s];if(c.get)if("undefined"!=typeof window)a[s]=e[s];else{var u=(0,yn._)((0,mn._)({},c),{value:r(c.get,!0)});delete u.get,delete u.set,Object.defineProperty(a,s,u)}else te(e[s])?a[s]=r(e[s]):c.writable?a[s]=n.serializeMessageData([e[s]],t,i)[0]:(c.value=n.serializeMessageData([e[s]],t,i)[0],Object.defineProperty(a,s,c))}return a}return r(e)}))}},{key:"collectTransferables",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,i=[];return e.forEach((function(e){if(!n.has(e))if(n.add(e),function(e){return(0,A._)(e,Uint8Array)||(0,A._)(e,Uint16Array)||(0,A._)(e,Uint32Array)||(0,A._)(e,Int8Array)||(0,A._)(e,Int16Array)||(0,A._)(e,Int32Array)||(0,A._)(e,Uint8ClampedArray)}(e))i.push(e.buffer);else if(function(e){return(0,A._)(e,ArrayBuffer)||(0,A._)(e,OffscreenCanvas)||(0,A._)(e,MessagePort)||globalThis.ReadableStream&&(0,A._)(e,globalThis.ReadableStream)||globalThis.WritableStream&&(0,A._)(e,globalThis.WritableStream)||globalThis.TransformStream&&(0,A._)(e,globalThis.TransformStream)||globalThis.VideoFrame&&(0,A._)(e,globalThis.VideoFrame)||globalThis.ImageBitmap&&(0,A._)(e,globalThis.ImageBitmap)}(e))i.push(e);else if(Array.isArray(e)){var r;(r=i).push.apply(r,(0,d._)(t.collectTransferables(e,n)))}else if(kn(e)){var o;(o=i).push.apply(o,(0,d._)(t.collectTransferables(Object.values(e),n)))}})),i}}]),n}(Xe);var In="$$u8a",Tn="$$buffer",Rn="$$blob",Mn="$$file";function Fn(e){return JSON.stringify(e,(function(e,t){return(0,A._)(t,Uint8Array)?{type:In,data:URL.createObjectURL(new Blob([t]))}:(0,A._)(t,ArrayBuffer)?{type:Tn,data:URL.createObjectURL(new Blob([t]))}:(0,A._)(t,File)?{type:Mn,data:{url:URL.createObjectURL(t),mime:t.type,name:t.name}}:(0,A._)(t,Blob)?{type:Rn,data:{url:URL.createObjectURL(t),mime:t.type}}:t}))}function Nn(e){if("string"==typeof e&&""!==e.trim())return JSON.parse(e,(function(e,t){switch(null==t?void 0:t.type){case In:var n=t.data,i=Ln(n);return URL.revokeObjectURL(n),new Uint8Array(i);case Tn:var r=t.data,o=Ln(r);return URL.revokeObjectURL(r),o;case Mn:var a=t.data,s=a.url,c=a.mime,u=a.name,l=Ln(s);return URL.revokeObjectURL(s),new File([l],u,{type:c});case Rn:var A=t.data,d=A.url,h=A.mime,f=Ln(d);return URL.revokeObjectURL(d),new Blob([f],{type:h})}return t}))}function Ln(e){var t=new XMLHttpRequest;return t.responseType="arraybuffer",t.open("GET",e,!1),t.send(),t.response}var On="value",jn=function(){function e(){(0,u._)(this,e),(0,f._)(this,"queue",[]),(0,f._)(this,"store",new vt),(0,f._)(this,"started",!1)}return(0,l._)(e,[{key:"start",value:function(){this.started=!0}},{key:"wait",value:function(){var e=this;return(0,gn._)((function(){var t;return(0,_n.Jh)(this,(function(n){switch(n.label){case 0:if(e.queue.length>0)return t=e.queue.shift(),0===e.queue.length&&e.store.unDispatch(On),[2,Fn(t)];n.label=1;case 1:return[4,e.store.takeWhile(On)];case 2:return n.sent(),e.queue.length>0?[2,Fn(e.queue.shift())]:(e.store.unDispatch(On),[3,1]);case 3:return[2]}}))}))()}},{key:"return",value:function(e){this.started=!1,this.queue.push({status:"done",data:e}),this.store.dispatch(On,void 0)}},{key:"done",value:function(e){this.started=!1;var t=this.queue.slice(0);return this.queue.length=0,Fn({returnData:e,messages:t})}},{key:"doYield",value:function(e,t){this.queue.push({status:e,data:t}),this.store.dispatch(On,void 0)}},{key:"yield",value:function(e){this.doYield("data",e)}},{key:"postWorkerMessage",value:function(e){this.doYield("worker-message",e)}},{key:"isStarted",value:function(){return this.started}},{key:"workerMessageAdaptor",value:function(e){var t=this,n=[];return{addEventListener:function(t,i){return"message"===t&&n.push(i),e.addEventListener(t,i)},postMessage:function(n,i){return t.isStarted()?t.postWorkerMessage(n):e.postMessage(n,i)}}}}]),e}(),Bn=function(){return!0},Vn=function(){return!1},Un=function(e){return e},Hn=function(e,t){return t[e]},zn=function(e){return function t(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return i.length>=e.length?e.apply(void 0,(0,d._)(i)):function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(void 0,(0,d._)(i).concat((0,d._)(n)))}}};function Wn(){if("undefined"!=typeof window){if(window.crypto)return e=new Uint32Array(1),window.crypto.getRandomValues(e),e[0]/4294967296;if(window.msCrypto)return function(){var e=new Uint32Array(1);return window.msCrypto.getRandomValues(e),e[0]/4294967296}()}var e;return Hn("random",Math)()}var Gn=function(){function e(t,n){(0,u._)(this,e),(0,f._)(this,"syncBaseUrl",void 0),(0,f._)(this,"clientId",void 0),this.syncBaseUrl=t,this.clientId=n}return(0,l._)(e,[{key:"send",value:function(e,t){var n=new XMLHttpRequest;return n.open("PUT",this.syncBaseUrl,!1),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("cache-control","no-cache"),n.send(JSON.stringify({id:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Wn()|0;return("x"==e?t:3&t|8).toString(16)})),clientId:this.clientId,type:"SyncGeneratorInvoker",action:e,data:t})),n.responseText}},{key:"start",value:function(){this.send("start")}},{key:"wait",value:function(){return Nn(this.send("wait"))}},{key:"done",value:function(){var e=Nn(this.send("done")),t=(e.returnData,e.messages);if(t){var n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if("worker-message"===s.status){var c=new MessageEvent("message",{data:s.data});globalThis.dispatchEvent(c)}}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}}},{key:"invokeSync",value:function(e){var t,n,i,r,o;return(0,_n.Jh)(this,(function(a){switch(a.label){case 0:if(this.start(),t=e(),!(0,A._)(t,p))throw new Error("Only asynchronous method calls driven by MessageChannel are supported!!");a.label=1;case 1:return t.isSettled?(this.done(),[2,t.resolveValue]):(n=this.wait(),i=n.status,r=n.data,"done"!==i?[3,2]:[2,r]);case 2:if("error"!==i)return[3,3];throw r;case 3:return"data"!==i?[3,5]:[4,r];case 4:return a.sent(),[3,6];case 5:"worker-message"===i&&(o=new MessageEvent("message",{data:r}),globalThis.dispatchEvent(o)),a.label=6;case 6:return[3,1];case 7:return[2]}}))}},{key:"invokeSyncAndReturn",value:function(e){for(var t=this.invokeSync(e);;){var n=t.next(),i=n.done,r=n.value;if(i)return r}}}]),e}();function Yn(e){return"function"==typeof e&&"revoke"in e&&"function"==typeof e.revoke}var $n=new p;function Jn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$n,i=new e.WString(t);return Kn(i,n),i}function qn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$n,i=new e.String(t);return Kn(i,n),i}function Kn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$n;"delete"in e&&"function"==typeof e.delete&&t.promise.finally((function(){try{if(e.isDeleted())return;e.delete()}catch(e){}}))}function Zn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$n;"release"in e&&"function"==typeof e.release&&t.promise.finally((function(){try{e.release()}catch(e){}}))}$n.resolve();var Xn,Qn,ei={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'"},ti=ii(ei),ni={"&amp;":"&","&lt;":"<","&gt;":">","&nbsp;":"","&iexcl;":"¡","&cent;":"¢","&pound;":"£","&curren;":"¤","&yen;":"¥","&brvbar;":"¦","&sect;":"§","&uml;":"¨","&copy;":"©","&ordf;":"ª","&laquo;":"«","&not;":"¬","&shy;":"­","&reg;":"®","&macr;":"¯","&deg;":"°","&plusmn;":"±","&sup2;":"²","&sup3;":"³","&acute;":"´","&micro;":"µ","&para;":"¶","&cedil;":"¸","&sup1;":"¹","&ordm;":"º","&raquo;":"»","&frac14;":"¼","&frac12;":"½","&frac34;":"¾","&iquest;":"¿","&times;":"×","&divide;":"÷","&forall;":"∀","&part;":"∂","&exist;":"∃","&empty;":"∅","&nabla;":"∇","&isin;":"∈","&notin;":"∉","&ni;":"∋","&prod;":"∏","&sum;":"∑","&minus;":"−","&lowast;":"∗","&radic;":"√","&prop;":"∝","&infin;":"∞","&ang;":"∠","&and;":"∧","&or;":"∨","&cap;":"∩","&cup;":"∪","&int;":"∫","&there4;":"∴","&sim;":"∼","&cong;":"≅","&asymp;":"≈","&ne;":"≠","&equiv;":"≡","&le;":"≤","&ge;":"≥","&sub;":"⊂","&sup;":"⊃","&nsub;":"⊄","&sube;":"⊆","&supe;":"⊇","&oplus;":"⊕","&otimes;":"⊗","&perp;":"⊥","&sdot;":"⋅","&Alpha;":"Α","&Beta;":"Β","&Gamma;":"Γ","&Delta;":"Δ","&Epsilon;":"Ε","&Zeta;":"Ζ","&Eta;":"Η","&Theta;":"Θ","&Iota;":"Ι","&Kappa;":"Κ","&Lambda;":"Λ","&Mu;":"Μ","&Nu;":"Ν","&Xi;":"Ξ","&Omicron;":"Ο","&Pi;":"Π","&Rho;":"Ρ","&Sigma;":"Σ","&Tau;":"Τ","&Upsilon;":"Υ","&Phi;":"Φ","&Chi;":"Χ","&Psi;":"Ψ","&Omega;":"Ω","&alpha;":"α","&beta;":"β","&gamma;":"γ","&delta;":"δ","&epsilon;":"ε","&zeta;":"ζ","&eta;":"η","&theta;":"θ","&iota;":"ι","&kappa;":"κ","&lambda;":"λ","&mu;":"μ","&nu;":"ν","&xi;":"ξ","&omicron;":"ο","&pi;":"π","&rho;":"ρ","&sigmaf;":"ς","&sigma;":"σ","&tau;":"τ","&upsilon;":"υ","&phi;":"φ","&chi;":"χ","&psi;":"ψ","&omega;":"ω","&thetasym;":"ϑ","&upsih;":"ϒ","&piv;":"ϖ","&OElig;":"Œ","&oelig;":"œ","&Scaron;":"Š","&scaron;":"š","&Yuml;":"Ÿ","&fnof;":"ƒ","&circ;":"ˆ","&tilde;":"˜","&ensp;":"","&emsp;":"","&thinsp;":"","&zwnj;":"‌","&zwj;":"‍","&lrm;":"‎","&rlm;":"‏","&ndash;":"–","&mdash;":"—","&lsquo;":"‘","&rsquo;":"’","&sbquo;":"‚","&ldquo;":"“","&rdquo;":"”","&bdquo;":"„","&dagger;":"†","&Dagger;":"‡","&bull;":"•","&hellip;":"…","&permil;":"‰","&prime;":"′","&Prime;":"″","&lsaquo;":"‹","&rsaquo;":"›","&oline;":"‾","&euro;":"€","&trade;":"™","&larr;":"←","&uarr;":"↑","&rarr;":"→","&darr;":"↓","&harr;":"↔","&crarr;":"↵","&lceil;":"⌈","&rceil;":"⌉","&lfloor;":"⌊","&rfloor;":"⌋","&loz;":"◊","&spades;":"♠","&clubs;":"♣","&hearts;":"♥","&diams;":"♦"};ii(ni);function ii(e){return Object.keys(e).reduce((function(t,n){return t[e[n]]=n,t}),{})}function ri(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";if(!e)return e;for(var n=e.replace(/[^\x09\x0A\x0D\x20-\uD7FF\uE000-\uFFFD]/g,t),i=String.fromCharCode(55296);;){var r=n.indexOf(i);if(-1===r)break;n=n.replace(n.substring(r,r+2),t)}return n}function oi(e){if(!e)return e;var t=e.replace(/&/g,(function(e,t,n){return/^#?(\d+)|([a-z]+);/i.test(n.substr(t+1))?e:"&amp;"})).replace(new RegExp(Object.keys(ti).join("|"),"g"),(function(e){return"&"===e?e:ti[e]}));return ri(t.replace(/\&[^;#]+;/g,(function(e){return(e=e.toLowerCase())in ei?e:e in ni?ni[e]:e.replace("&","&amp;")}))," ")}!function(e){e.pdf="pdf",e.xfdf="xfdf",e.fdf="fdf",e.xml="xml",e.html="html",e.json="json",e.csv="csv",e.text="text",e.xdp="xdp"}(Xn||(Xn={}));var ai=(Qn={},(0,f._)(Qn,"pdf","pdf"),(0,f._)(Qn,"xfdf","xfdf"),(0,f._)(Qn,"fdf","fdf"),(0,f._)(Qn,"xml","xml"),(0,f._)(Qn,"html","html"),(0,f._)(Qn,"json","json"),(0,f._)(Qn,"csv","csv"),(0,f._)(Qn,"text","txt"),(0,f._)(Qn,"xdp","xdp"),Qn);function si(e){if(254==e.charCodeAt(0)&&255==e.charCodeAt(1)){for(var t="",n=2;n<e.length;n+=2)t+=String.fromCharCode((e.charCodeAt(n)<<8)+e.charCodeAt(n+1));return t}return e}function ci(e){return"annot"===e.type&&"annot"in e}function ui(e){return"annot"===e.type&&"annotId"in e}function li(e){return"field"===e.type&&"fieldName"in e}function Ai(e){return"field"===e.type&&"field"in e}function di(e){return"field"===e.type&&"widgetId"in e}function hi(e){switch(e.type){case"annot":if("annot"in e){var t=e.annot;return{type:"annot",annotId:{pageIndex:t.GetPage().GetIndex(),objNumber:t.GetDict().GetObjNum()}}}case"field":if("field"in e)return{type:"field",fieldName:e.field.GetName().toString()}}return e}var fi,pi=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(e){var i;return(0,u._)(this,n),i=t.call(this),(0,f._)((0,M._)(i),"count",void 0),(0,f._)((0,M._)(i),"defer",void 0),i.count=e,i.defer=new p,i}return(0,l._)(n,[{key:"countDown",value:function(){this.isDestroyed||this.isDone()||(this.count--,this.isDone()&&this.defer.resolve())}},{key:"isDone",value:function(){return this.count<=0}},{key:"await",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!isFinite(t))return this.defer.promise;var i=n?null:new Error("Operation timed out after exceeding the specified wait time of ".concat(t," milliseconds!"));return new Promise((function(r,o){var a=setTimeout((function(){n?r():o(i)}),t);e.defer.promise.then((function(){clearTimeout(a),r()}))}))}},{key:"getCount",value:function(){return this.count}}]),n}(Xe),vi="spell-checker-api-channel-id",gi="custom-spell-checker-remote-api",mi=Symbol("initialized"),yi=mi,_i=function(){function e(){(0,u._)(this,e),(0,f._)(this,"stack",[]),(0,f._)(this,"position",0),(0,f._)(this,yi,!1)}return(0,l._)(e,[{key:"initialized",get:function(){return this[mi]}},{key:"initialize",value:function(e){if(this.initialized)throw new Error("Cannot initialize twice");this[mi]=!0,this.stack.push(e),this.position=0}},{key:"save",value:function(e){if(!this.initialized)throw new Error("Cannot save before initialization");this.stack.push(e),this.position=this.stack.length-1}},{key:"current",value:function(){return this.stack[this.position]}},{key:"undo",value:function(){this.canUndo()&&this.position--}},{key:"redo",value:function(){this.canRedo()&&this.position++}},{key:"canUndo",value:function(){return this.position>0}},{key:"canRedo",value:function(){return this.position<this.stack.length}},{key:"reset",value:function(){this.stack.length=0,this[mi]=!1,this.position=0}}]),e}();function bi(e){return e?e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"):""}!function(e){e[e.Pointer=0]="Pointer",e[e.Select=1]="Select",e[e.Cross=2]="Cross",e[e.HBeam=3]="HBeam",e[e.SizeAll=4]="SizeAll",e[e.SizeNESW=5]="SizeNESW",e[e.SizeNS=6]="SizeNS",e[e.SizeNWSE=7]="SizeNWSE",e[e.SizeWE=8]="SizeWE",e[e.SelectCopy=9]="SelectCopy",e[e.SelectDrag=10]="SelectDrag",e[e.SelectNoDrag=11]="SelectNoDrag",e[e.SelectCaption=12]="SelectCaption",e[e.VBeam=13]="VBeam",e[e.Hand=14]="Hand"}(fi||(fi={}));var wi,ki=new Map([[0,"pointer"],[1,"text"],[2,"crosshair"],[3,"text"],[13,"text"],[14,"grab"],[4,"move"],[5,"nesw-resize"],[6,"ns-resize"],[7,"nwse-resize"],[8,"col-resize"],[9,"copy"],[10,"move"],[11,"move"]]),xi=function(){if("undefined"==typeof window)return!1;var e=" -webkit- -moz- -o- -ms- ".split(" ");return!!("ontouchstart"in window||navigator.maxTouchPoints||window.DocumentTouch&&(0,A._)(document,DocumentTouch))||function(e){return!!window.matchMedia&&window.matchMedia(e).matches}(["(",e.join("touch-enabled),("),"heartz",")"].join(""))}(),Pi=navigator.userAgent.toLowerCase(),Ci="desktop"===globalThis.__FOXITWEBSDK_DEVICE_TYPE__,Di="mobile"===globalThis.__FOXITWEBSDK_DEVICE_TYPE__,Ei="tablet"===globalThis.__FOXITWEBSDK_DEVICE_TYPE__,Si=Ci||Di||Ei,Ii=/macintosh|mac os x/.test(Pi),Ti=/ipad|iphone|ipod/.test(Pi),Ri=/iphone/.test(Pi),Mi=/ipad/.test(Pi),Fi=/ipod/.test(Pi),Ni=/android/.test(Pi),Li=/blackberry/.test(Pi),Oi=/webos/.test(Pi),ji=/silk|kindle/.test(Pi),Bi=/aliapp/.test(Pi),Vi=/teamsmobile-android/.test(Pi),Ui=Si?Ei:!Bi&&/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(Pi),Hi=Si?Di:(!Ui||Vi)&&(/mobile/.test(Pi)||Ti||Ni||Li||Oi||ji),zi=Si?Ci:!(Hi||Ui||Ni||Ri||Mi||Fi||ji||Oi),Wi=/(MI(.*|\s*)PAD).*/i.test(Pi),Gi=!Wi&&/MI(\s+|\d+?|HM|xiaomi).*/i.test(Pi),Yi=/HUAWEI/i.test(navigator.userAgent),$i=/Linux/i.test(Pi),Ji=!$i&&/Windows(\s+NT)?/i.test(Pi),qi=/MacIntosh|(mac os)/i.test(Pi),Ki=/(cros\s|chromebook)/i.test(Pi),Zi={mac:Ii,ios:Ti,iphone:Ri,ipad:Mi,ipod:Fi,android:Ni,blackberry:Li,webos:Oi,kindle:ji,tablet:Ui,mobile:Hi,desktop:zi,xiaomi:Gi,huawei:Yi,touch:xi,linux:$i,windows:Ji,macos:qi,chromebook:Ki},Xi=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"application/octet-stream";(0,u._)(this,e),(0,f._)(this,"blob",void 0),this.blob="string"==typeof t?new Blob([],{type:t}):t}return(0,l._)(e,[{key:"set",value:function(e,t){if(e<0)throw new Error("offset must be greater than 0");if(e===this.blob.size){var n=new Blob([this.blob,t],{type:this.blob.type});this.blob=n}else if(e>this.blob.size){var i=new Blob([this.blob,new ArrayBuffer(e-this.blob.size),t],{type:this.blob.type});this.blob=i}else{var r=(0,A._)(t,Blob)?t.size:t.byteLength,o=new Blob([this.blob.slice(0,e),t,this.blob.slice(e+r)],{type:this.blob.type});this.blob=o}}},{key:"sub",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.blob.size;return new e(this.blob.slice(t,t+n))}},{key:"extract",value:function(){return this.blob}},{key:"size",get:function(){return this.blob.size}}]),e}(),Qi=1,er=2,tr=3,nr=0;!function(e){e[e.LEFT=KeyboardEvent.DOM_KEY_LOCATION_LEFT]="LEFT",e[e.RIGHT=KeyboardEvent.DOM_KEY_LOCATION_RIGHT]="RIGHT",e[e.STANDARD=KeyboardEvent.DOM_KEY_LOCATION_STANDARD]="STANDARD",e[e.NUMPAD=KeyboardEvent.DOM_KEY_LOCATION_NUMPAD]="NUMPAD"}(wi||(wi={}));var ir=function(){function e(t){(0,u._)(this,e),(0,f._)(this,"isMatch",void 0),this.isMatch=t}return(0,l._)(e,[{key:"match",value:function(){return this.isMatch}}]),e}(),rr=function(){function e(t){(0,u._)(this,e),(0,f._)(this,"keys",void 0),this.keys=t}return(0,l._)(e,[{key:"match",value:function(e){return this.keys.some((function(t){return"string"==typeof t?Rr(e,t):"boolean"==typeof t?t:t.match(e)}))}}]),e}(),or=function(){function e(t){(0,u._)(this,e),(0,f._)(this,"callback",void 0),this.callback=t}return(0,l._)(e,[{key:"match",value:function(e){return this.callback(e)}}]),e}(),ar=function(){function e(t){(0,u._)(this,e),(0,f._)(this,"keys",void 0),this.keys=t}return(0,l._)(e,[{key:"match",value:function(e){return this.keys.every((function(t){return"string"==typeof t?Rr(e,t):"boolean"==typeof t?t:t.match(e)}))}}]),e}(),sr=function(){function e(t){(0,u._)(this,e),(0,f._)(this,"key",void 0),this.key=t}return(0,l._)(e,[{key:"match",value:function(e){return Rr(e,this.key)}}]),e}();KeyboardEvent.prototype.getModifierState||(KeyboardEvent.prototype.getModifierState=function(e){switch(e){case"Control":return this.ctrlKey;case"Shift":return this.shiftKey;case"Alt":return this.altKey;case"Meta":return this.metaKey}return!1});var cr=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,u._)(this,e),(0,f._)(this,"event",void 0),(0,f._)(this,"detectors",void 0),(0,f._)(this,"interrupted",void 0),this.event=t,this.detectors=n,this.interrupted=!1}return(0,l._)(e,[{key:"switchers",value:function(e){return this.ctrl(e).shift(e).meta(e).alt(e)}},{key:"ctrl",value:function(e){var t=this;return Ur(e)?this.detectors.control=function(){return t.event.getModifierState("Control")===e}:delete this.detectors.control,this}},{key:"filter",value:function(e){var t=this;return"function"==typeof e&&(this.detectors[fe("filter")]=function(){return e.call(t,t.event)}),this}},{key:"shift",value:function(e){var t=this;return Ur(e)?this.detectors.shift=function(){return t.event.getModifierState("Shift")===e}:delete this.detectors.shift,this}},{key:"capsLock",value:function(e){var t=this;return Ur(e)?this.detectors.capsLock=function(){return t.event.getModifierState("CapsLock")===e}:delete this.detectors.capsLock,this}},{key:"meta",value:function(e){var t=this;return Ur(e)?this.detectors.meta=function(){return t.event.metaKey===e}:delete this.detectors.meta,this}},{key:"alt",value:function(e){var t=this;return Ur(e)?this.detectors.alt=function(){return t.event.getModifierState("Alt")===e}:delete this.detectors.alt,this}},{key:"mod",value:function(e){return Ii?this.meta(e):this.ctrl(e)}},{key:"location",value:function(e){var t=this;return this.detectors.location=function(){return Nr(t.event)===e},this}},{key:"standard",value:function(){return this.location(wi.STANDARD)}},{key:"numpad",value:function(){return this.location(wi.NUMPAD)}},{key:"left",value:function(){return this.location(wi.LEFT)}},{key:"right",value:function(){return this.location(wi.RIGHT)}},{key:"run",value:function(e){this.passed()&&(!1===e(this.event)&&(this.interrupted=!0));return this.clone()}},{key:"key",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=new rr(n.map((function(e){switch(void 0===e?"undefined":(0,pe._)(e)){case"string":return hr.key(e);case"boolean":return new ir(e)}return e})));return this.detectors.keys=function(){return r.match(e.event)},this}},{key:"when",value:function(e,t){var n;return Array.isArray(e)?(n=this.clone()).key.apply(n,(0,d._)(e)).run(t):this.clone().key(e).run(t)}},{key:"clone",value:function(){return this.interrupted?new ur(this.event,{}):new e(this.event,Object.assign({},this.detectors))}},{key:"passed",value:function(){return!this.interrupted&&!Object.values(this.detectors).some((function(e){return!e()}))}}]),e}(),ur=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(){return(0,u._)(this,n),t.apply(this,arguments)}return(0,l._)(n,[{key:"switchers",value:function(){return this}},{key:"ctrl",value:function(){return this}},{key:"shift",value:function(){return this}},{key:"capsLock",value:function(){return this}},{key:"meta",value:function(){return this}},{key:"alt",value:function(){return this}},{key:"location",value:function(){return this}},{key:"standard",value:function(){return this}},{key:"numpad",value:function(){return this}},{key:"left",value:function(){return this}},{key:"right",value:function(){return this}},{key:"run",value:function(){return this}},{key:"key",value:function(){return this}},{key:"when",value:function(){return this}}]),n}(cr);function lr(e){return new cr(e)}function Ar(e,t){var n=new cr(e),i=!1;return n.when(t,(function(){i=!0})),i}var dr=function(e){return new sr(e)},hr={or:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new rr(t)},key:dr,and:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ar(t)},Space:new or(Tr),Home:new or(Sr),End:new or(Ir),Enter:new or(Cr),StandardEnter:new or(Dr),NumpadEnter:new or(Er),Tab:dr("Tab"),CapsLock:dr("CapsLock"),PageUp:dr("PageUp"),PageDown:dr("PageDown"),ArrowUp:dr("ArrowUp"),ArrowDown:dr("ArrowDown"),ArrowLeft:dr("ArrowLeft"),ArrowRight:dr("ArrowRight"),BackSpace:dr("Backspace"),Delete:dr("Delete"),Escape:dr("Escape"),F1:dr("F1"),F2:dr("F2"),F3:dr("F3"),F4:dr("F4"),F5:dr("F5"),F6:dr("F6"),F7:dr("F7"),F8:dr("F8"),F9:dr("F9"),F10:dr("F10"),F11:dr("F11"),F12:dr("F12")};function fr(e){return pr(e)||vr(e)}function pr(e){return Fr(e,"Control",Qi)}function vr(e){return Fr(e,"Control",er)}function gr(e){return mr(e)||yr(e)}function mr(e){return Fr(e,"Shift",Qi)}function yr(e){return Fr(e,"Shift",er)}function _r(e){return br(e)||wr(e)}function br(e){return Fr(e,"Alt",Qi)}function wr(e){return Fr(e,"Alt",er)}function kr(e){return xr(e)||Pr(e)}function xr(e){return Fr(e,"Meta",Qi)}function Pr(e){return Fr(e,"Meta",er)}function Cr(e){return Dr(e)||Er(e)}function Dr(e){return Fr(e,"Enter",nr)}function Er(e){return Fr(e,"Enter",tr)}function Sr(e){return Fr(e,"Home",nr)}function Ir(e){return Fr(e,"End",nr)}function Tr(e){return Rr(e," ")}function Rr(e,t){return Mr(e)===t}function Mr(e){return Lr(e)?e.key:Vr(e.keyCode,e.shiftKey)}function Fr(e,t,n){if(void 0!==n&&Nr(e)!==n)return!1;var i=e.key;return Lr(e)||(i=Vr(e.keyCode,e.shiftKey)),i===t}function Nr(e){return void 0===e.location?e.keyLocation:e.location}function Lr(e){return void 0!==e.key}var Or,jr={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",189:"_",187:"+",219:"{",220:"|",221:"}",186:":",222:'"',188:"<",190:">",191:"?",192:"~"},Br={192:"`",191:"/",190:".",189:"-",188:",",220:"\\",222:"'",186:";",221:"]",219:"[",187:"=",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",27:"Escape",9:"Tab",20:"CapsLock",16:"Shift",17:"Control",91:"Meta",18:"Alt",32:" ",33:"PageUp",34:"PageDown",38:"ArrowUp",37:"ArrowLeft",40:"ArrowDown",39:"ArrowRight",13:"Enter",8:"Backspace",46:"Delete",45:"Insert",35:"End",36:"Home",144:"NumLock",111:"/",106:"*",109:"-",107:"+",110:".",96:0,97:1,98:2,99:3,100:4,101:5,102:6,103:7,104:8,105:9};function Vr(e,t){if(e>=65&&e<=90){var n=String.fromCharCode(e);return t?n.toUpperCase():n}return e>=48&&e<=57?t?jr[e]:String.fromCharCode(e):t?jr[e]:Br[e]}function Ur(e){return"boolean"==typeof e}function Hr(e){return"string"==typeof jr[e.keyCode]&&e.shiftKey}function zr(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1},r=i.ctrlKey,o=i.shiftKey,a=i.altKey,s=i.metaKey,c=document.createEvent("KeyboardEvent");(c.initKeyboardEvent?c.initKeyboardEvent:c.initEvent).call(c,t,!0,!0,window,r,a,o,s,n,n,0),e.dispatchEvent(c)}!function(e){e[e.Unknown=0]="Unknown",e[e.Backspace=8]="Backspace",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Shift=16]="Shift",e[e.Ctrl=17]="Ctrl",e[e.Alt=18]="Alt",e[e.PauseBreak=19]="PauseBreak",e[e.CapsLock=20]="CapsLock",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.LeftArrow=37]="LeftArrow",e[e.UpArrow=38]="UpArrow",e[e.RightArrow=39]="RightArrow",e[e.DownArrow=40]="DownArrow",e[e.Insert=45]="Insert",e[e.Delete=46]="Delete",e[e.KEY_0=48]="KEY_0",e[e.KEY_1=49]="KEY_1",e[e.KEY_2=50]="KEY_2",e[e.KEY_3=51]="KEY_3",e[e.KEY_4=52]="KEY_4",e[e.KEY_5=53]="KEY_5",e[e.KEY_6=54]="KEY_6",e[e.KEY_7=55]="KEY_7",e[e.KEY_8=56]="KEY_8",e[e.KEY_9=57]="KEY_9",e[e.KEY_A=65]="KEY_A",e[e.KEY_B=66]="KEY_B",e[e.KEY_C=67]="KEY_C",e[e.KEY_D=68]="KEY_D",e[e.KEY_E=69]="KEY_E",e[e.KEY_F=70]="KEY_F",e[e.KEY_G=71]="KEY_G",e[e.KEY_H=72]="KEY_H",e[e.KEY_I=73]="KEY_I",e[e.KEY_J=74]="KEY_J",e[e.KEY_K=75]="KEY_K",e[e.KEY_L=76]="KEY_L",e[e.KEY_M=77]="KEY_M",e[e.KEY_N=78]="KEY_N",e[e.KEY_O=79]="KEY_O",e[e.KEY_P=80]="KEY_P",e[e.KEY_Q=81]="KEY_Q",e[e.KEY_R=82]="KEY_R",e[e.KEY_S=83]="KEY_S",e[e.KEY_T=84]="KEY_T",e[e.KEY_U=85]="KEY_U",e[e.KEY_V=86]="KEY_V",e[e.KEY_W=87]="KEY_W",e[e.KEY_X=88]="KEY_X",e[e.KEY_Y=89]="KEY_Y",e[e.KEY_Z=90]="KEY_Z",e[e.Meta=91]="Meta",e[e.ContextMenu=93]="ContextMenu",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.F13=124]="F13",e[e.F14=125]="F14",e[e.F15=126]="F15",e[e.F16=127]="F16",e[e.F17=128]="F17",e[e.F18=129]="F18",e[e.F19=130]="F19",e[e.NumLock=144]="NumLock",e[e.ScrollLock=145]="ScrollLock",e[e.US_SEMICOLON=186]="US_SEMICOLON",e[e.US_EQUAL=187]="US_EQUAL",e[e.US_COMMA=188]="US_COMMA",e[e.US_MINUS=189]="US_MINUS",e[e.US_DOT=190]="US_DOT",e[e.US_SLASH=191]="US_SLASH",e[e.US_BACKTICK=192]="US_BACKTICK",e[e.US_OPEN_SQUARE_BRACKET=219]="US_OPEN_SQUARE_BRACKET",e[e.US_BACKSLASH=220]="US_BACKSLASH",e[e.US_CLOSE_SQUARE_BRACKET=221]="US_CLOSE_SQUARE_BRACKET",e[e.US_QUOTE=222]="US_QUOTE",e[e.NUMPAD_0=96]="NUMPAD_0",e[e.NUMPAD_1=97]="NUMPAD_1",e[e.NUMPAD_2=98]="NUMPAD_2",e[e.NUMPAD_3=99]="NUMPAD_3",e[e.NUMPAD_4=100]="NUMPAD_4",e[e.NUMPAD_5=101]="NUMPAD_5",e[e.NUMPAD_6=102]="NUMPAD_6",e[e.NUMPAD_7=103]="NUMPAD_7",e[e.NUMPAD_8=104]="NUMPAD_8",e[e.NUMPAD_9=105]="NUMPAD_9",e[e.NUMPAD_MULTIPLY=106]="NUMPAD_MULTIPLY",e[e.NUMPAD_ADD=107]="NUMPAD_ADD",e[e.NUMPAD_SEPARATOR=108]="NUMPAD_SEPARATOR",e[e.NUMPAD_SUBTRACT=109]="NUMPAD_SUBTRACT",e[e.NUMPAD_DECIMAL=110]="NUMPAD_DECIMAL",e[e.NUMPAD_DIVIDE=111]="NUMPAD_DIVIDE",e[e.KEY_IN_COMPOSITION=112]="KEY_IN_COMPOSITION",e[e.ABNT_C1=113]="ABNT_C1",e[e.ABNT_C2=114]="ABNT_C2"}(Or||(Or={}));var Wr=-1,Gr=function(){function e(){(0,u._)(this,e),(0,f._)(this,"activations",[])}return(0,l._)(e,[{key:"push",value:function(e){var t=this,n={context:e,order:++Wr};this.activations.push(n);return function(){var e=t.activations.indexOf(n);e>-1&&t.activations.splice(e,1)}}},{key:"peak",value:function(){var e;return null===(e=this.activations[this.activations.length-1])||void 0===e?void 0:e.context}},{key:"clear",value:function(){this.activations.length=0}},{key:"size",value:function(){return this.activations.length}}]),e}();window.ActvationShortcutContextManager=Gr;var Yr=n(2778),$r=n.n(Yr),Jr=new(function(){function e(){(0,u._)(this,e),(0,f._)(this,"_keyCodeToStr",[]),(0,f._)(this,"_strToKeyCode",{})}return(0,l._)(e,[{key:"define",value:function(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}},{key:"keyCodeToStr",value:function(e){return this._keyCodeToStr[e]}},{key:"strToKeyCode",value:function(e){return this._strToKeyCode[e.toLowerCase()]||Or.Unknown}}]),e}());function qr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];n.forEach((function(t){Jr.define(e,t)}))}qr(Or.Unknown,"unknown"),qr(Or.Backspace,"Backspace"),qr(Or.Tab,"Tab"),qr(Or.Enter,"Enter"),qr(Or.Shift,"Shift"),qr(Or.Ctrl,"Ctrl"),qr(Or.Alt,"Alt"),qr(Or.PauseBreak,"PauseBreak"),qr(Or.CapsLock,"CapsLock"),qr(Or.Escape,"Escape"),qr(Or.Space,"Space"),qr(Or.PageUp,"PageUp"),qr(Or.PageDown,"PageDown"),qr(Or.End,"End"),qr(Or.Home,"Home"),qr(Or.LeftArrow,"LeftArrow","Left"),qr(Or.UpArrow,"UpArrow","Up"),qr(Or.RightArrow,"RightArrow","Right"),qr(Or.DownArrow,"DownArrow","Down"),qr(Or.Insert,"Insert"),qr(Or.Delete,"Delete"),qr(Or.KEY_0,"0"),qr(Or.KEY_1,"1"),qr(Or.KEY_2,"2"),qr(Or.KEY_3,"3"),qr(Or.KEY_4,"4"),qr(Or.KEY_5,"5"),qr(Or.KEY_6,"6"),qr(Or.KEY_7,"7"),qr(Or.KEY_8,"8"),qr(Or.KEY_9,"9"),qr(Or.KEY_A,"A"),qr(Or.KEY_B,"B"),qr(Or.KEY_C,"C"),qr(Or.KEY_D,"D"),qr(Or.KEY_E,"E"),qr(Or.KEY_F,"F"),qr(Or.KEY_G,"G"),qr(Or.KEY_H,"H"),qr(Or.KEY_I,"I"),qr(Or.KEY_J,"J"),qr(Or.KEY_K,"K"),qr(Or.KEY_L,"L"),qr(Or.KEY_M,"M"),qr(Or.KEY_N,"N"),qr(Or.KEY_O,"O"),qr(Or.KEY_P,"P"),qr(Or.KEY_Q,"Q"),qr(Or.KEY_R,"R"),qr(Or.KEY_S,"S"),qr(Or.KEY_T,"T"),qr(Or.KEY_U,"U"),qr(Or.KEY_V,"V"),qr(Or.KEY_W,"W"),qr(Or.KEY_X,"X"),qr(Or.KEY_Y,"Y"),qr(Or.KEY_Z,"Z"),qr(Or.Meta,"Meta"),qr(Or.ContextMenu,"ContextMenu"),qr(Or.F1,"F1"),qr(Or.F2,"F2"),qr(Or.F3,"F3"),qr(Or.F4,"F4"),qr(Or.F5,"F5"),qr(Or.F6,"F6"),qr(Or.F7,"F7"),qr(Or.F8,"F8"),qr(Or.F9,"F9"),qr(Or.F10,"F10"),qr(Or.F11,"F11"),qr(Or.F12,"F12"),qr(Or.F13,"F13"),qr(Or.F14,"F14"),qr(Or.F15,"F15"),qr(Or.F16,"F16"),qr(Or.F17,"F17"),qr(Or.F18,"F18"),qr(Or.F19,"F19"),qr(Or.NumLock,"NumLock"),qr(Or.ScrollLock,"ScrollLock"),qr(Or.US_SEMICOLON,";",";","OEM_1"),qr(Or.US_EQUAL,"=","=","OEM_PLUS"),qr(Or.US_COMMA,",",",","OEM_COMMA"),qr(Or.US_MINUS,"-","-","OEM_MINUS"),qr(Or.US_DOT,".",".","OEM_PERIOD"),qr(Or.US_SLASH,"/","/","OEM_2"),qr(Or.US_BACKTICK,"`","`","OEM_3"),qr(Or.ABNT_C1,"ABNT_C1"),qr(Or.ABNT_C2,"ABNT_C2"),qr(Or.US_OPEN_SQUARE_BRACKET,"[","[","OEM_4"),qr(Or.US_BACKSLASH,"\\","\\","OEM_5"),qr(Or.US_CLOSE_SQUARE_BRACKET,"]","]","OEM_6"),qr(Or.US_QUOTE,"'","'","OEM_7"),qr(Or.NUMPAD_0,"NumPad0"),qr(Or.NUMPAD_1,"NumPad1"),qr(Or.NUMPAD_2,"NumPad2"),qr(Or.NUMPAD_3,"NumPad3"),qr(Or.NUMPAD_4,"NumPad4"),qr(Or.NUMPAD_5,"NumPad5"),qr(Or.NUMPAD_6,"NumPad6"),qr(Or.NUMPAD_7,"NumPad7"),qr(Or.NUMPAD_8,"NumPad8"),qr(Or.NUMPAD_9,"NumPad9"),qr(Or.NUMPAD_MULTIPLY,"NumPad_Multiply"),qr(Or.NUMPAD_ADD,"NumPad_Add"),qr(Or.NUMPAD_SEPARATOR,"NumPad_Separator"),qr(Or.NUMPAD_SUBTRACT,"NumPad_Subtract"),qr(Or.NUMPAD_DECIMAL,"NumPad_Decimal"),qr(Or.NUMPAD_DIVIDE,"NumPad_Divide");var Kr=function(){function e(t,n,i,r,o){(0,u._)(this,e),(0,f._)(this,"ctrlKey",void 0),(0,f._)(this,"shiftKey",void 0),(0,f._)(this,"altKey",void 0),(0,f._)(this,"metaKey",void 0),(0,f._)(this,"keyCode",void 0),this.ctrlKey=t,this.shiftKey=n,this.altKey=i,this.metaKey=r,this.keyCode=o}return(0,l._)(e,[{key:"equals",value:function(t){return!!(0,A._)(t,e)&&(this.ctrlKey===t.ctrlKey&&this.shiftKey===t.shiftKey&&this.altKey===t.altKey&&this.metaKey===t.metaKey&&this.keyCode===t.keyCode)}},{key:"isError",value:function(){return this.keyCode===Or.Unknown}},{key:"toString",value:function(){var e,t=[];return this.ctrlKey&&t.push("Ctrl"),this.shiftKey&&t.push("Shift"),this.altKey&&t.push("Alt"),this.metaKey&&t.push("Meta"),t.join("+")+(t.length>0?"+":"")+(e=this.keyCode,Jr.keyCodeToStr(e))}},{key:"match",value:function(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}}],[{key:"from",value:function(t){var n,i=function(e){e=e.trim().toLowerCase();var t,n=!1,i=!1,r=!1,o=!1;do{t=!1,/^ctrl[\+\-]/.test(e)&&(n=!0,e=e.substring(5),t=!0),/^shift[\+\-]/.test(e)&&(i=!0,e=e.substring(6),t=!0),/^alt[\+\-]/.test(e)&&(r=!0,e=e.substring(4),t=!0),/^meta[\+\-]/.test(e)&&(o=!0,e=e.substring(5),t=!0),/^win[\+\-]/.test(e)&&(o=!0,e=e.substring(4),t=!0),/^cmd[\+\-]/.test(e)&&(o=!0,e=e.substring(4),t=!0),/^mod[\+\-]/.test(e)&&(Ii?o=!0:n=!0,e=e.substring(4),t=!0)}while(t);return{ctrl:n,shift:i,alt:r,meta:o,key:e}}(t),r=(n=i.key,Jr.strToKeyCode(n));if(r===Or.Unknown)throw new Error('Incorrect shortcut: "'.concat(t,'", "').concat(i.key,'" is not valid'));return new e(i.ctrl,i.shift,i.alt,i.meta,r)}}]),e}();var Zr=[Kr.from("Mod+V"),Kr.from("Mod+A"),Kr.from("Mod+S"),Kr.from("Mod+Shift+S"),Kr.from("Mod+P"),Kr.from("Mod+F")],Xr=[Kr.from("Mod+A"),Kr.from("Mod+Z"),Kr.from("Mod+Y"),Kr.from("Mod+Left"),Kr.from("Mod+Right"),Kr.from("Mod+Up"),Kr.from("Mod+Down"),Kr.from("Mod+Shift+Left"),Kr.from("Mod+Shift+Right"),Kr.from("Mod+Shift+Up"),Kr.from("Mod+Shift+Down"),Kr.from("Delete"),Kr.from("Backspace"),Kr.from("Mod+Delete"),Kr.from("Mod+Backspace")];const Qr=Kr;var eo,to=Symbol("is-handled"),no=to,io=no,ro=function(){function e(t,n,i,r,o){(0,u._)(this,e),(0,f._)(this,"native",void 0),(0,f._)(this,"shortcut",void 0),(0,f._)(this,"opportunity",void 0),(0,f._)(this,"command",void 0),(0,f._)(this,"context",void 0),(0,f._)(this,"stopped",void 0),(0,f._)(this,io,void 0),(0,f._)(this,"nativeEvent",void 0),this.native=t,this.shortcut=n,this.opportunity=i,this.command=r,this.context=o,this.stopped=!1,this[no]=!1,this.nativeEvent=this.native}return(0,l._)(e,[{key:"preventDefault",value:function(){this.native.preventDefault()}},{key:"stop",value:function(){this.stopped=!0}},{key:"stopPropagation",value:function(){this.native.stopPropagation()}}]),e}();!function(e){e.keydown="keydown",e.keyup="keyup"}(eo||(eo={}));var oo=Oe.getLogger("ShortcutContext"),ao=function(){function e(t){(0,u._)(this,e),(0,f._)(this,"name",void 0),(0,f._)(this,"uperLayer",void 0),(0,f._)(this,"parents",void 0),(0,f._)(this,"emitter",void 0),(0,f._)(this,"shortcuts",void 0),(0,f._)(this,"interceptors",void 0),this.name=t,this.uperLayer=[],this.parents=[],this.emitter=new($r()),this.shortcuts={},this.interceptors=[]}return(0,l._)(e,[{key:"getUperLayers",value:function(){return this.uperLayer.slice(0)}},{key:"getParents",value:function(){return this.parents.slice(0)}},{key:"attach",value:function(e){var t=e;this.uperLayer.indexOf(t)>-1||this.uperLayer.push(t)}},{key:"extend",value:function(e){var t=e;this.parents.indexOf(t)>-1||this.parents.push(t)}},{key:"interceptor",value:function(){for(var e,t=this,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=this.interceptors).push.apply(e,(0,d._)(i)),function(){i.forEach((function(e){var n=t.interceptors.indexOf(e);n>-1&&t.interceptors.splice(n,1)}))}}},{key:"registerShortcut",value:function(e,t){var n=this;return this.shortcuts[e]=Qr.from(t),function(){delete n.shortcuts[e]}}},{key:"on",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clear:!1};i.clear&&this.removeListener(e);var r=function(e){var n=!!i.keydown,r=!!i.keyup||void 0===i.keydown&&void 0===i.keyup;(n&&e.opportunity===eo.keydown||r&&e.opportunity===eo.keyup)&&(e.stopped||(i.interceptors||[]).reduceRight((function(e,t){return function(n){t(n,e)}}),(function(n){n[to]=!0,i.preventDefault&&e.preventDefault(),t(n)}))(e))},o=function(t){t!==e&&t||n.emitter.off(e,r)};return t.__remove__=o,this.emitter.on(e,r),o}},{key:"keyup",value:function(e,t,n){return this.on(e,t,(0,yn._)((0,mn._)({},n),{keyup:!0,keydown:!1}))}},{key:"keydown",value:function(e,t,n){return this.on(e,t,(0,yn._)((0,mn._)({},n),{keyup:!1,keydown:!0}))}},{key:"removeListener",value:function(e,t){var n=t;t&&"string"==typeof n.__remove__?n.__remove__(e):this.emitter.removeAllListeners(e)}},{key:"handleEvent",value:function(e,t){var n=this,i=function(i){var c=a[i],u=new ro(e,c,o,i,n);if(Ar(e,c)){var l=t.concat(n.getInterceptors(i)).reduceRight((function(e,t){return function(n){t(n,e)}}),(function(t){r.getAncestorLink(i).forEach((function(e){e.emitter.emit(i,t)}));var n=t[to]&&Zr.some((function(e){return e.equals(c)}));n&&e.preventDefault()}));l(u),s=!0}},r=this,o=eo[e.type];if(!o)throw new Error("Unexpected keyboard event type: ".concat(e.type,', it should be "keydown" or "keyup"'));var a=this.getShortcuts(),s=!1;for(var c in a)i(c);return s||this.uperLayer.some((function(n){return n.handleEvent(e,t)}))}},{key:"getInterceptors",value:function(e){return this.getAncestorLink(e).reduceRight((function(e,t){return e.concat(t.interceptors)}),[])}},{key:"getAncestorLink",value:function(e){var t=this,n=[],i=function(r){var o=r.getParents().some((function(t){return t.getShortcut(e,!1)?(n.includes(t)||n.push(t),!0):i(t)}));o?n.unshift(r):t.getShortcut(e,!1)&&!n.includes(t)&&n.push(t)};return i(this),n}},{key:"getShortcut",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getShortcuts(t)[e]}},{key:"getShortcuts",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(e){var t=this.parents.reduceRight((function(t,n){return Object.assign(t,n.getShortcuts(e))}),{});return Object.assign({},t,this.shortcuts)}return Object.assign({},this.shortcuts)}},{key:"getComandName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="string"==typeof e?Qr.from(e):e,i=this.getShortcuts(t);for(var r in i){if(i[r].equals(n))return r}}},{key:"before",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return oo.warn("Deprecated API: ShortcutContext.before"),this.on(e,t,{keydown:!0,keyup:!1,preventDefault:n})}},{key:"toString",value:function(){return this.name}}]),e}(),so=Oe.getLogger("Keyboard"),co=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{anchor:document.body};return(0,u._)(this,n),e=t.call(this),(0,f._)((0,M._)(e),"anchor",void 0),(0,f._)((0,M._)(e),"disabled",!1),(0,f._)((0,M._)(e),"contexts",new vt),(0,f._)((0,M._)(e),"activationManager",new Gr),(0,f._)((0,M._)(e),"interceptors",[]),(0,f._)((0,M._)(e),"defaultShortcutContext",new ao("default-shortcut-context")),e.anchor=i.anchor,e.prepare(),e.contexts.filter(Boolean),e.addDestroyHook(e.contexts),e}return(0,l._)(n,[{key:"disable",value:function(){this.disabled=!0}},{key:"enable",value:function(){this.disabled=!1}},{key:"setup",value:function(e){var t=this;e.forEach((function(e){t.createContext(e.context,e,(function(t){for(var n in e.shortcuts)t.registerShortcut(n,e.shortcuts[n])}))}))}},{key:"createContext",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,r=n.extends||[],o=n.topLayers||[],a=function(e){var n=t.getContextByName(e);if(!n)throw new Error("ShortcutContext cannot be used before created: ".concat(e));return n},s=r.map((function(e){return a(e)})),c=o.map((function(e){return a(e)})),u=this.getContextByName(e)||new ao(e);return s.forEach((function(e){u.extend(e)})),c.forEach((function(e){u.attach(e)})),this.contexts.dispatch(e,u),i&&this.withContext(e,i),u}},{key:"withContext",value:function(e,t){var n=this;return this.contexts.takeWhile(e).then((function(e){return t.call(n,e),e}))}},{key:"activeContext",value:function(e){var t=this.contexts.getCurrentValue(e);return t?this.activationManager.push(t):h}},{key:"getActivateContext",value:function(){return this.activationManager.peak()||this.defaultShortcutContext}},{key:"on",value:function(e,t,n){var i=this.findContextByCommand(e).map((function(i){return i.on(e,t,n)}));return function(){i.forEach((function(e){return e()})),i.length=0}}},{key:"keydown",value:function(e,t,n){var i=this.findContextByCommand(e).map((function(i){return i.keydown(e,t,n)}));return function(){i.forEach((function(e){return e()})),i.length=0}}},{key:"keyup",value:function(e,t,n){var i=this.findContextByCommand(e).map((function(i){return i.keyup(e,t,n)}));return function(){i.forEach((function(e){return e()})),i.length=0}}},{key:"findContextByShortcut",value:function(e){var t=[];return this.contexts.forEach((function(n){n.getComandName(e,!1)&&t.push(n)})),t}},{key:"findContextByCommand",value:function(e){var t=[];return this.contexts.forEach((function(n){e in n.getShortcuts(!1)&&t.push(n)})),t}},{key:"getContextByName",value:function(e){return this.contexts.getCurrentValue(e)}},{key:"getBinder",value:function(e){return so.warn("Deprecated API: Keyboard.getBinder"),this.getContextByName(e)}},{key:"activeBinder",value:function(e){return so.warn("Deprecated API: Keyboard.activeBinder"),this.activeContext(e)}},{key:"markdown",value:function(){var e=[];return this.contexts.forEach((function(t){var n=t.getUperLayers(),i=t.getParents();n.forEach((function(n){e.push("    ".concat(n.name," --\x3e ").concat(t.name))})),i.forEach((function(n){e.push("    ".concat(n.name," -.Extends.-> ").concat(t.name))}));var r=t.getShortcuts(!1);if(Object.keys(r).length>0){for(var o in e.push("    subgraph ".concat(t.name,"_sub [").concat(t.name,"]")),r)e.push("    ".concat(t.name," ==Shortcut==> ").concat(o," -.-> ").concat(r[o].toString()));e.push("    end")}})),"```mermaid\n".concat("flowchart LR","\n").concat(e.join("\n"),"\n```")}},{key:"onShortcut",value:function(e,t,n){var i=e.toString();return this.defaultShortcutContext.registerShortcut(i,i),this.defaultShortcutContext.on(i,t,n)}},{key:"interceptor",value:function(){for(var e,t=this,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=this.interceptors).push.apply(e,(0,d._)(i)),function(){i.forEach((function(e){var n=t.interceptors.indexOf(e);n>-1&&t.interceptors.splice(n,1)}))}}},{key:"getDefaultShortcutContext",value:function(){return this.defaultShortcutContext}},{key:"prepare",value:function(){var e=this,t=function(t){if(!e.disabled){e.defaultShortcutContext.handleEvent(t,e.interceptors);var n=e.activationManager.peak();n&&n.handleEvent(t,e.interceptors)}},n={};this.anchor.addEventListener("keyup",t,n),this.anchor.addEventListener("keydown",t,n),this.addDestroyHook((function(){e.anchor.removeEventListener("keyup",t,n),e.anchor.removeEventListener("keydown",t,n)}))}},{key:"getActivationManager",value:function(){return this.activationManager}}]),n}(Xe);function uo(e){return function(t,n){if(e.indexOf(t.command))return n(t)}}function lo(e){return function(t,n){if(-1===e.indexOf(t.command))return n(t)}}function Ao(e,t){if(!e||!(0,A._)(e,Element))return!1;var n=t||{},i=n.visible,r=void 0===i||i,o=n.enable,a=void 0===o||o,s=n.readonly,c=void 0===s||s;if(r){var u=e.getClientRects();if(0===u.length)return!1;var l=u[0];if(l.width*l.height==0)return!1}switch(e.tagName.toLowerCase()){case"input":case"select":case"textarea":var d=e;return(!a||!d.disabled)&&(!c||!d.disabled&&!d.readOnly)}switch(e.contentEditable){case"true":case"plaintext-only":return!0}return!1}function ho(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(t,i){n.length>0&&n.indexOf(t.command)>-1?i(t):Ao(t.native.target,e)||i(t)}}function fo(e){return function(t,n){e&&t.command!==e||t.preventDefault(),n(t)}}function po(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,i){var r;r=t?function(e){return e===document.activeElement||e.contains(document.activeElement)}:function(e){return e===document.activeElement},!!e.find(r)&&i(n)}}var vo=new(function(){function e(){(0,u._)(this,e),this._ctrl=!1,this._shift=!1,this._win=!1,this._alt=!1,this._capsLock=!1,this._bindEvent()}return(0,l._)(e,[{key:"_bindEvent",value:function(){var e=this;window.addEventListener("keydown",(function(t){e._ctrl=t.ctrlKey,e._shift=t.shiftKey,e._alt=t.altKey,e._win=t.metaKey,e._capsLock=!!t.getModifierState&&t.getModifierState("CapsLock")}),!1),window.addEventListener("keyup",(function(t){e._shift=16!==t.keyCode&&e._shift,e._alt=18!==t.keyCode&&e._alt,e._ctrl=17!==t.keyCode&&e._ctrl,e._win=91!==t.keyCode&&e._win,e._capsLock=20!==t.keyCode&&e._capsLock}),!1),window.addEventListener("mousemove",(function(t){e._ctrl=t.ctrlKey,e._shift=t.shiftKey,e._alt=t.altKey,e._win=t.metaKey,e._capsLock=!!t.getModifierState&&t.getModifierState("CapsLock")}),{capture:!0}),window.addEventListener("wheel",(function(t){e._ctrl=t.ctrlKey,e._shift=t.shiftKey,e._alt=t.altKey,e._win=t.metaKey,e._capsLock=!!t.getModifierState&&t.getModifierState("CapsLock")}),{capture:!0})}},{key:"isCtrl",get:function(){return this._ctrl}},{key:"isCtrlDown",get:function(){return this._ctrl}},{key:"isShift",get:function(){return this._shift}},{key:"isShiftDown",get:function(){return this._shift}},{key:"isWin",get:function(){return this._win}},{key:"isWinDown",get:function(){return this._win}},{key:"isAlt",get:function(){return this._alt}},{key:"isAltDown",get:function(){return this._alt}},{key:"isCapsLock",get:function(){return this._capsLock}}]),e}());const go=vo;var mo=navigator.userAgent.toLowerCase(),yo=/opera|opr/.test(mo),_o=/msie/.test(mo),bo=/trident/.test(mo),wo=/\sapplewebkit\//.test(mo),ko=/chrome/.test(mo),xo=/safari/.test(mo),Po=/firefox/.test(mo),Co=/edg\//.test(mo),Do=(bo||_o)&&!yo&&"msSaveBlob"in navigator,Eo=Do&&function(){var e=mo.match(/msie ([\d\.]+)/);return!!e&&10===parseInt(e[1])}(),So=!_o&&bo&&!yo,Io=mo.indexOf("edge")>-1,To=yo,Ro=wo,Mo=!To&&ko&&!!window.chrome&&Co,Fo=/crios/.test(mo)||!To&&ko&&!!window.chrome&&!Co,No=!/huawei/.test(mo)&&!To&&xo&&!ko,Lo="Gecko"==navigator.product&&!Ro&&!To,Oo=!Fo&&!To&&!No&&Po,jo=/maxthon/.test(mo),Bo="BackCompact"==document.CompactMode,Vo=/tencenttraveler/.test(mo)||/qqbrowser/.test(mo),Uo=/wechat/.test(mo),Ho=/metasr/.test(mo)||/sogou/.test(mo),zo=/baidubrowser/.test(mo),Wo=/ucbrowser/.test(mo),Go=/liebao/.test(mo),Yo=/miuibrowser/.test(mo),$o=/huaweibrowser/.test(mo)||/huaweialp/.test(mo),Jo=/crios/.test(mo),qo=function(){if(Vo||Wo||Ho||Yo||Go||jo)return!1;if(-1===mo.indexOf("chrome"))return!1;var e=function(e,t){var n=navigator.mimeTypes;for(var i in n)if(n[i][e]==t)return!0;return!1}("type","application/vnd.chromium.remoting-viewer");return!window.chrome||e}(),Ko=!!document.documentMode&&document.documentMode<8,Zo=8==document.documentMode,Xo=9==document.documentMode,Qo=10==document.documentMode,ea={ie:Do,ieAtLeast11:So,edge:Io,"chromium-edge":Mo,opera:To,webkit:Ro,chrome:Fo,safari:No,gecko:Lo,firefox:Oo,maxthon:jo,quirksMode:Bo,"quirks-mode":Bo,qq:Vo,wechat:Uo,sougou:Ho,baidu:zo,liebao:Go,uc:Wo,miui:Yo,huawei:$o,360:qo};var ta,na,ia,ra=(navigator.appVersion.match(/iphone/gi),"undefined"!=typeof devicePixelRatio?devicePixelRatio:1);var oa=72;function aa(){return ta||(ta=function(){if("undefined"!=typeof screen&&screen.deviceXDPI)return{x:screen.deviceXDPI,y:screen.deviceYDPI};if("undefined"!=typeof document){var e=document.createElement("div");e.style.cssText="width:1in;height:1in;position:absolute;top:20in;border:none;padding:0;",document.body.appendChild(e);var t={x:parseInt(e.offsetWidth),y:parseInt(e.offsetHeight)};return e.parentNode.removeChild(e),t}return{x:96,y:96}}()),ta}function sa(){if(void 0===na){var e=aa();na=e.x/oa}return na}function ca(){if(void 0===ia){var e=aa();ia=oa/e.x}return ia}var ua,la=function(e){var t=[new ClipboardItem((0,f._)({},e.type,e))];return navigator.clipboard.write(t)};function Aa(e){return function(){if(No||Oo)return Promise.resolve(!1);if(!navigator.permissions||!navigator.permissions.query)return Promise.resolve(!1);try{return navigator.permissions.query({name:"clipboard-write",allowWithoutGesture:!1}).then((function(e){return"granted"===e.state}))}catch(e){return console.log(e),Promise.resolve(!1)}}().then((function(t){if(t){var n=new Blob([e],{type:"text/plain"});return la(n).then((function(e){return!0}))}var i=ua||((ua=document.createElement("textarea")).style.opacity="0",ua.style.top="-999px",ua.style["z-index"]=-1,ua.style.position="absolute",ua.id="foxit_eCopy",document.body.appendChild(ua),ua);i.value=e,i.select(),i.focus(),i.setSelectionRange(0,i.value.length);var r=document.execCommand("copy",!1,i.value);return i.blur(),r}))}function da(e){var t=null;try{(t=e.composedPath&&e.composedPath())&&0!=t.length||(t=e.path)}catch(e){t=null}var n=e.target;return null!=t?t.indexOf(window)<0?t.concat(window):t:n===window?[window]:[n].concat(ha(n),window)}function ha(e,t){t=t||[];var n=e&&e.parentNode;return n?ha(n,t.concat(n)):t}function fa(){if("object"!=typeof window)return 1;var e=window.devicePixelRatio||1,t=document.createElement("canvas").getContext("2d");return e/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}function pa(){return"undefined"!=typeof WorkerGlobalScope&&(0,A._)(self,WorkerGlobalScope)}function va(){return"undefined"!=typeof window}var ga=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,u._)(this,n),i=t.call(this),(0,f._)((0,M._)(i),"observer",void 0),(0,f._)((0,M._)(i),"observerCallbacks",new Map),(0,f._)((0,M._)(i),"lastIntersectionEntryMap",new WeakMap),i.observer=new IntersectionObserver((function(e){e.forEach((function(e){var t=i.observerCallbacks.get(e.target);i.lastIntersectionEntryMap.set(e.target,e),null==t||t.forEach((function(t){t.call(null,e.target,e.isIntersecting,e)}))}))}),{root:e,threshold:r}),i.addDestroyHook((function(){i.observer.disconnect(),i.observerCallbacks.clear()})),i}return(0,l._)(n,[{key:"observe",value:function(e,t){var n=this,i=t.bind(null);this.observerCallbacks.has(e)||this.observerCallbacks.set(e,[]);var r=this.observerCallbacks.get(e);return r.push(i),this.observer.observe(e),function(){n.observer.unobserve(e);var t=r.indexOf(i);t>-1&&r.splice(t,1)}}},{key:"forceUpdate",value:function(e){var t=this.lastIntersectionEntryMap.get(e);if(t){var n=(this.observerCallbacks.get(e)||[]).map((function(n){return n(e,t.isIntersecting,t)}));return Promise.all(n)}}},{key:"isVisible",value:function(e){var t,n;return null!==(n=null===(t=this.lastIntersectionEntryMap.get(e))||void 0===t?void 0:t.isIntersecting)&&void 0!==n&&n}}]),n}(Xe);function ma(e,t){var n=t.match,i=t.handler,r=t.useShim,o=void 0!==r&&r,a=t.eventOptions;if(o||Hi&&(No||Gi||Wo)||Mi&&No||Yi){var s,c=void 0,u=0,l=!1,A=function(e){n(e)&&(l=!1,s=void 0,clearTimeout(c),c=void 0,e.touches&&1!==e.touches.length||(u=0,s={x:e.touches[0].pageX,y:e.touches[0].pageY},c=setTimeout((function(){l||h(e)}),600),e.stopPropagation()))},d=function(e){if((!e.touches||1===e.touches.length)&&s){var t=e.touches[0],n=Math.pow(t.pageX-s.x,2)+Math.pow(t.pageY-s.y,2);(u=Math.max(u,n))>10&&(l=!0)}},h=function(t){if(s=null,t.changedTouches&&1===t.changedTouches.length){var n=t.changedTouches[0],r=new Event("contextmenu"),o=["target","currentTarget","clientX","clientY","pageX","pageY","offsetX","offsetY","path"].reduce((function(e,t){return e[t]={value:n[t]},e}),{});o.stopPropagation={value:function(){t.stopPropagation()}},o.preventDefault={value:function(){t.preventDefault()}};var a=Object.create(r,o);i.call(e,a),clearTimeout(c)}else clearTimeout(c)},f=function(){l=!1,clearTimeout(c)};e.addEventListener("touchstart",A,a),document.addEventListener("touchend",f,!0),document.addEventListener("touchmove",d,!0);var p=function(e){e.preventDefault()};return document.addEventListener("contextmenu",p,{capture:!0,passive:!1}),e.addEventListener("contextmenu",p),function(){e.removeEventListener("touchstart",A,a),document.removeEventListener("touchmove",d,!0),document.removeEventListener("touchend",f,!0),document.removeEventListener("contextmenu",p,{capture:!0,passive:!1}),e.removeEventListener("contextmenu",p)}}return e.addEventListener("contextmenu",i,a),function(){e.removeEventListener("contextmenu",i,a)}}function ya(e,t,n){return ma(e,{match:function(){return!0},handler:t,eventOptions:n,useShim:arguments.length>3&&void 0!==arguments[3]&&arguments[3]})}function _a(e,t){var n=e.classList;n.contains(t)||n.add(t)}function ba(e,t){if(e){var n=e.classList;n.contains(t)&&n.remove(t)}}function wa(e,t,n,i){t?(_a(e,n),ba(e,i)):(ba(e,n),_a(e,i))}function ka(e,t){var n=[],i=getComputedStyle(e);if("string"==typeof t){var r={};t.split(/;[\r\n\s]*/).forEach((function(e){var t=(0,Xt._)(e.split(/\s*:\s*/),2),n=t[0],i=t[1];r[n]=i})),t=r}for(var o in t)i[o]!==t[o]&&n.push("".concat(o,":").concat(t[o]));n.length>0&&(e.style.cssText+=n.join(";"))}function xa(e,t){for(var n in t){var i=e[n],r=t[n];i!=r&&(e[n]=r)}}function Pa(e){return Ao(e,{visible:!1,readonly:!1,enable:!1})}function Ca(e){return function(){var e=new Set;function t(n){try{h.call(n.location.href)}catch(e){return}(0,A._)(n,n.Window)&&e.add(n);for(var i=0;i<n.length;i++)t(n[i])}var n=window.top;n&&Object.getPrototypeOf(n)||(n=window);return t(n),Array.from(e)}().map((function(t){return t[e]}))}function Da(e){return Ca("window").indexOf(e)>=0}function Ea(e){return Ca("Element").some((function(t){return(0,A._)(e,t)}))}function Sa(e,t){if(Da(e)){var n=function(){t()};return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}if(!Ea(e))throw new TypeError("Failed to execute 'observeResize': parameter 1 is not of type `Element`");if("function"!=typeof t)throw new TypeError("Failed to execute 'observeResize': parameter 2 is not of type `Function`");if(window.ResizeObserver){var i=e.offsetWidth,r=e.offsetHeight,o=new ResizeObserver((function(e){if(1===e.length){var n=e[0].borderBoxSize[0],o=n.inlineSize,a=n.blockSize;o===i&&a===r||(t(),i=o,r=a)}}));return o.observe(e),function(){o.disconnect()}}var a,s=!1,c=Ia(e);return a=setInterval((function(){if(!s){var n=Ia(e);c&&n&&(n.width!==c.width||n.height!==c.height)&&t(),c=n}}),100),function(){s=!0,clearInterval(a)}}function Ia(e){if(!e)return null;if(Do)try{return e.getBoundingClientRect()}catch(e){return null}return e.getBoundingClientRect()}var Ta=n(636),Ra=n.n(Ta);function Ma(e,t){var n=Ra().fn.on;try{Ra().fn.on=function(){for(var t=this,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e.addDestroyHook((function(){Ra().fn.off.apply(t,r)})),n.apply(this,r)},t(Ra())}finally{Ra().fn.on=n}}function Fa(e,t,n,i){var r=!1,o=function(e){!r&&Ar(e,n)&&(r=!0)},a=function(e){r&&Ar(e,n)&&(r=!1,t(e))},s=function(e){((0,A._)(e,FocusEvent)||Ar(e,n))&&(r=!1)};return e.addEventListener("keydown",o,i),e.addEventListener("keyup",a,i),document.addEventListener("keyup",s),window.addEventListener("blur",s),function(){e.removeEventListener("keydown",o,i),e.removeEventListener("keyup",a,i),document.removeEventListener("keyup",s),window.removeEventListener("blur",s)}}function Na(e){var t=document.createEvent("MouseEvent"),n=(0,A._)(e,MouseEvent)?e:{screenX:0,screenY:0,clientX:0,clientY:0,button:0,relatedTarget:null},i=n.screenX,r=n.screenY,o=n.clientX,a=n.clientY,s=n.button,c=n.relatedTarget;return t.initMouseEvent("click",(null==e?void 0:e.bubbles)||!1,(null==e?void 0:e.cancelable)||!1,window,(null==e?void 0:e.detail)||-1,i,r,o,a,(null==e?void 0:e.ctrlKey)||go.isCtrl,(null==e?void 0:e.altKey)||go.isAlt,(null==e?void 0:e.shiftKey)||go.isShift,(null==e?void 0:e.metaKey)||go.isWin,s||0,c),t.isFake=!0,Object.defineProperties(t,{srcElement:{get:function(){return null==e?void 0:e.srcElement}},fromElement:{get:function(){return null==e?void 0:e.fromElement}},target:{get:function(){return null==e?void 0:e.target}},toElement:{get:function(){return null==e?void 0:e.toElement}}}),t}function La(e){var t=document.createEvent("FocusEvent");return t.initEvent("focus",!0,!1),Object.defineProperties(t,{target:{get:function(){return e}}}),t}function Oa(e){var t=e.target,n=e.onDoubleTap,i=e.onSingleTap,r=e.interval,o=void 0===r?300:r,a=e.preventDefault,s=void 0!==a&&a,c=e.stopPropagation,u=void 0!==c&&c;(0,A._)(t,HTMLElement)&&(t.style.cssText+="\n                    touch-action: none;\n                ");var l=0,d=null;function h(e){l=Date.now(),d=[e.clientX,e.clientY]}function f(){d&&console.log("moved"),d=null}t.addEventListener("pointerdown",h),document.addEventListener("poinermove",f,!0);var p,v=0,g=0,m=0;function y(e){if(l=Date.now()-l,clearTimeout(p),"function"==typeof s?s(e)&&e.preventDefault():s&&e.preventDefault(),"function"==typeof u?u(e)&&e.stopPropagation():u&&e.stopPropagation(),0===m)if(1===v){v=0;var r=Date.now();r-g<=o&&(n.call(t,ja(e,o)),g=0),g=r}else g=Date.now(),v=1,new Promise((function(e){p=setTimeout(e,o)})).then((function(){(v=0,g=0,i&&l<o&&d)&&(Math.sqrt(Math.pow(Math.abs(d[0]-e.clientX),2)+Math.pow(Math.abs(d[1]-e.clientY),2))<5&&i.call(t,ja(e,o)))}))}var _="pointerup";(Ti&&Fo||void 0===window.PointerEvent)&&(_="mouseup");var b=function(e){m=(0,A._)(e,TouchEvent)?e.touches.length:0};return t.addEventListener("touchend",b),t.addEventListener(_,y),function(){t.removeEventListener(_,y),t.removeEventListener("touchend",b),t.removeEventListener("pointerdown",h),document.removeEventListener("poinermove",f,!0)}}function ja(e,t){return{angle:0,deltaTime:t,deltaX:0,deltaY:0,direction:1,distance:0,eventType:4,isFinal:!0,isFirst:!1,maxPointers:1,offsetDirection:1,center:{x:e.clientX,y:e.clientY},changedPointers:[e],overallVelocity:0,overallVelocityX:0,overallVelocityY:0,pointerType:"mouse",pointers:[],preventDefault:function(){return e.preventDefault()},stopPropagation:function(){return e.stopPropagation()},rotation:0,scale:1,srcEvent:e,tapCount:2,target:e.target,timeStamp:e.timeStamp,type:"doubletap",velocity:0,velocityX:0,velocityY:0}}var Ba,Va=hr.or,Ua=hr.Enter,Ha=hr.Space;function za(e){var t=!1,n=function(e){Ar(e,Va(Ua,Ha))&&(t&&e.preventDefault(),t=!0)},i=function(e){((0,A._)(e,FocusEvent)||Ar(e,Va(Ua,Ha)))&&(t=!1)};return document.addEventListener("keyup",i,!0),window.addEventListener("blur",i),e.addEventListener("keydown",n,{capture:!0}),function(){document.removeEventListener("keyup",i,!0),window.removeEventListener("blur",i),e.removeEventListener("keydown",n,{capture:!0})}}function Wa(e,t,n,i){var r=function(e){Ar(e,n)&&e.stopPropagation()};return e.addEventListener(t,r,i),function(){e.removeEventListener(t,r,i)}}function Ga(e){if("clientX"in e)return e.clientX;switch(e.type){case"touchstart":case"touchmove":return e.touches[0].clientX;case"touchend":case"touchcancel":return e.changedTouches[0].clientX}throw new Error("Unexpected event type: ".concat(e.type))}function Ya(e){if("clientY"in e)return e.clientY;switch(e.type){case"touchstart":case"touchmove":return e.touches[0].clientY;case"touchend":case"touchcancel":return e.changedTouches[0].clientY}throw new Error("Unexpected event type: ".concat(e.type))}!function(e){e.PLAIN="text/plain",e.HTML="text/html",e.FILES="Files"}(Ba||(Ba={}));var $a="module-license-info",Ja=["html","a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],qa=document.createElement("div");function Ka(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=Xa(e,n);return qa.innerHTML=r.trim(),qa.firstChild}function Za(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=Xa(e,n);return qa.innerHTML=r.trim(),Array.from(qa.childNodes)}function Xa(e,t){return t.reduce((function(t,n,i){return t+n+e[i+1]}),e[0])}function Qa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=document.createElement(e);for(var r in t){i.constructor.prototype.hasOwnProperty(r)?i[r]=t[r]+"":i.setAttribute(r,t[r]+"")}return n.forEach((function(e){i.appendChild(e)})),i}var es="change",ts="update",ns=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(){var e;return(0,u._)(this,n),e=t.call(this),(0,f._)((0,M._)(e),"store",new vt),e.addDestroyHook(e.store),e.store.filter((function(){return!e.isDestroyed})),e}return(0,l._)(n,[{key:"onChange",value:function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.store.subscribeOnce(es,(function(t){return e(t)})):this.store.subscribe(es,(function(t){return e(t)}))}},{key:"onUpdate",value:function(e){return this.store.subscribe(ts,(function(){return e()}))}},{key:"handle",value:function(e){this.store.dispatch(es,e)}},{key:"update",value:function(){return this.store.dispatch(ts,null)}}]),n}(Ze);function is(){var e,t="rgb(31,41,59)",n=document.createElement("div");n.style.color=t,document.body.appendChild(n);try{return(e=n,document.defaultView?document.defaultView.getComputedStyle(e):e.currentStyle).color.replace(/ /g,"")!==t}finally{document.body.removeChild(n)}}function rs(){var e=document,t=e.mozFullscreen||e.webkitIsFullScreen||e.fullscreen;return Hi?No?!!e.webkitCurrentFullScreenElement:t:t||window.innerHeight===window.screen.height&&window.innerWidth===window.screen.width}function os(e,t){var n=Array.from(e.childNodes.values());n.forEach((function(i,r){t.includes(i)||(e.removeChild(i),n.splice(r,1))})),t.forEach((function(i,r){if(i&&n[r]!==i){var o,a,s,c,u,l=n.indexOf(i),A=t[r-1];-1===l?(A?(u=A).getComponent&&"string"==typeof u.getComponent().attrs.slot?A.appendChild(i):A.after(i):e.prepend(i),n.splice(r,0,i)):r<n.length?(i.before(n[r]),s=l,c=(o=n)[a=r],o[a]=o[s],o[s]=c,A?A.after(i):e.prepend(i)):(n.push(i),e.appendChild(i))}}))}var as="#9E3ABF",ss={"accent-color":{varKey:["--fv-accent-color","--Accent_color"],defaultValue:as,referenceValue:"#923094"},"accent-fill":{varKey:"--fv-accent-fill-color",defaultValue:as,referenceValue:"#923094"},"btn-color":{varKey:"--fv-btn-color",defaultValue:as,referenceValue:as},border:{varKey:"--fv-btn-border-color",defaultValue:as,referenceValue:as},"hover-color":{varKey:"--fv-btn-hover-color",defaultValue:as,referenceValue:as},"border-hover":{varKey:"--fv-btn-border-hover-color",defaultValue:as,referenceValue:"#f9e3fa"},"pressed-bg":{varKey:"--fv-btn-pressed-bg",defaultValue:as,referenceValue:"#9432AC"},"disabled-bg":{varKey:"--fv-btn-disabled-bg",defaultValue:as,referenceValue:"#70289B"},"disabled-color":{varKey:"--fv-btn-disabled-color",defaultValue:as,referenceValue:as},"border-disabled-color":{varKey:"--fv-btn-border-disabled-color",defaultValue:as,referenceValue:"#70289B"},"focus-bg":{varKey:"--fv-btn-focus-bg",defaultValue:as,referenceValue:as},"border-pressed":{varKey:"--fv-btn-border-pressed-color",defaultValue:as,referenceValue:"#D4A1E5"},"outline-focus-color":{varKey:"--fv-btn-outline-focus-color",defaultValue:as,referenceValue:as},"outline-color":{varKey:"--fv-btn-outline-color",defaultValue:as,referenceValue:as},"accent-btn-bg":{varKey:"--fv-accent-btn-bg",defaultValue:as,referenceValue:as},"accent-btn-border-color":{varKey:"--fv-accent-btn-border-color",defaultValue:as,referenceValue:as},"accent-btn-hover-bg":{varKey:"--fv-accent-btn-hover-bg",defaultValue:as,referenceValue:"#af40ca"},"accent-btn-border-hover-color":{varKey:"--fv-accent-btn-border-hover-color",defaultValue:as,referenceValue:"#af40ca"},"accent-btn-pressed-bg":{varKey:"--fv-accent-btn-pressed-bg",defaultValue:as,referenceValue:"#9432AC"},"accent-btn-border-pressed-color":{varKey:"--fv-accent-btn-border-pressed-color",defaultValue:as,referenceValue:"#9432AC"},"accent-btn-disabled-bg":{varKey:"--fv-accent-btn-disabled-bg",defaultValue:as,referenceValue:"#70289B"},"accent-btn-disabled-color":{varKey:"--fv-accent-btn-disabled-color",defaultValue:as,referenceValue:"#AF57CC"},"accent-btn-border-disabled-color":{varKey:"--fv-accent-btn-border-disabled-color",defaultValue:as,referenceValue:"#70289B"},"accent-btn-focus-bg":{varKey:"--fv-accent-btn-focus-bg",defaultValue:as,referenceValue:as},"accent-btn-border-focus-color":{varKey:"--fv-accent-btn-border-focus-color",defaultValue:as,referenceValue:as}},cs="#333333",us={background:{varKey:["--fv-primary-bg"],defaultValue:cs,referenceValue:cs},secondary:{varKey:"--fv-secondary-bg",defaultValue:cs,referenceValue:"#424242"},content:{varKey:"--fv-content-bg",defaultValue:cs,referenceValue:"#242424"},"hide-show":{varKey:"--fv-hide-show-bg",defaultValue:cs,referenceValue:"#131313"},hover:{varKey:"--fv-hover-bg",defaultValue:cs,referenceValue:"#515151"},active:{varKey:"--fv-active-bg",defaultValue:cs,referenceValue:"#424242"},input:{varKey:"--fv-input-bg",defaultValue:cs,referenceValue:"#242424"},footer:{varKey:"--fv-footer-bg",defaultValue:cs,referenceValue:"#131313"},btn:{varKey:"--fv-btn-bg",defaultValue:cs,referenceValue:"#fff"},"page-content":{varKey:"--fv-file-page-content-bg",defaultValue:cs,referenceValue:"#242424"}},ls="#666666",As={border:{varKey:"--fv-border-color",defaultValue:ls,referenceValue:ls},base:{varKey:"--base-border-color",defaultValue:ls,referenceValue:"#C7CCD9"},frame:{varKey:"--fv-frame-border-color",defaultValue:ls,referenceValue:"#131313"},tab:{varKey:"--fv-doc-tab-border-color",defaultValue:ls,referenceValue:"#242424"},"tab-active":{varKey:"--fv-doc-tab-border-active-color",defaultValue:ls,referenceValue:"#131313"},"spacing-line-primary":{varKey:"--fv-spacing-line-primary-color",defaultValue:ls,referenceValue:"#131313"},"spacing-line-tertiary":{varKey:"--fv-spacing-line-tertiary-color",defaultValue:ls,referenceValue:"#424242"},input:{varKey:"--fv-input-border-color",defaultValue:ls,referenceValue:"#515151"},spacing:{varKey:"--Spacing_line_color",defaultValue:ls,referenceValue:"#E6E9F0"},checkbox:{varKey:"--fv-checkbox-border-color",defaultValue:ls,referenceValue:"#aaa"}},ds="#99EBFF",hs={link:{varKey:"--fv-link-color",defaultValue:ds,referenceValue:ds}},fs="#E3E3E3",ps={primary:{varKey:["--fv-primary-color","--fv-ribbon-name-text"],defaultValue:fs,referenceValue:fs},secondary:{varKey:"--fv-secondary-color",defaultValue:fs,referenceValue:"#F7F7F7"},placeholder:{varKey:"--fv-placeholder-color,--Placeholder_text",defaultValue:fs,referenceValue:"#ACACAC"},disable:{varKey:"--fv-disable-color",defaultValue:fs,referenceValue:"#8B8B8B"},introductory:{varKey:"--fv-introductory-color",defaultValue:fs,referenceValue:"#BDBDBD"}},vs={primary:"primary",background:"brackground",border:"border",link:"link",text:"text"},gs=new Map,ms={primary:ss,background:us,border:As,link:hs,text:ps};function ys(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{dom,colors}];gs.clear(),e.forEach((function(e){var t=e.dom,n=e.colors;if(n){var i=t||document.body;Object.keys(n).forEach((function(e){return function(e,t,n){if(!t)return void Object.keys(n).forEach((function(t){var i=n[t].varKey;Array.isArray(i)?i.forEach((function(t){e.style.removeProperty(t)})):e.style.removeProperty(i)}));var i=an(t,"RGB");i.shift(),Object.keys(n).forEach((function(r){var o=n[r],a=o.varKey,s=o.defaultValue,c=o.referenceValue;Array.isArray(a)?a.forEach((function(n){e.style.setProperty(n,s!==c?bs.apply(void 0,(0,d._)(i).concat([_s(s,c)])):t)})):e.style.setProperty(a,s!==c?bs.apply(void 0,(0,d._)(i).concat([_s(s,c)])):t)}))}(i,n[e],ms[e])}))}}))}function _s(e,t){var n="".concat(e,"-").concat(t);if(gs.get(n))return gs.get("".concat(e,"-").concat(t));var i=an(e,"RGB"),r=an(t,"RGB"),o={r:i[1]/r[1],g:i[2]/r[2],b:i[3]/r[3]};return gs.set(n,o),o}function bs(e,t,n,i){var r=i.r,o=i.g,a=i.b;return an(["RGB",ws(e/r),ws(t/o),ws(n/a)],"HTML")}function ws(e){return e>1?1:e}function ks(e){return Ca("HTMLElement").some((function(t){return(0,A._)(e,t)}))}function xs(e){return Ca("document").indexOf(e)>=0}function Ps(e,t){(0,A._)(e,HTMLInputElement)||(0,A._)(e,HTMLTextAreaElement)?Ds(e,t):"inherit"!==e.contentEditable&&Ss(e,t)}function Cs(e,t,n){(0,A._)(e,HTMLInputElement)||(0,A._)(e,HTMLTextAreaElement)?Es(e,t,n):"inherit"!==e.contentEditable&&Ss(e,n,t)}function Ds(e,t){var n=(0,A._)(e,HTMLInputElement)?e.value.length:e.textLength;Es(e,{startOffset:n,endOffset:n},t)}function Es(e,t,n){e.focus(n),setTimeout((function(){e.focus(n),e.setSelectionRange(t.startOffset,t.endOffset)})),e.setSelectionRange(t.startOffset,t.endOffset)}function Ss(e,t,n){e.focus(t),setTimeout((function(){return e.focus(t)}));var i=document.createRange();if(i.selectNodeContents(e),n){var r,o=e.childNodes[n.startNodeIndex||0];if(o)i.setStart(o,Math.min(n.startOffset,(null===(r=o.textContent)||void 0===r?void 0:r.length)||0));var a,s=e.childNodes[n.endNodeIndex||0];if(s)i.setStart(s,Math.min(n.endOffset,(null===(a=o.textContent)||void 0===a?void 0:a.length)||0))}i.collapse(!0);var c=window.getSelection();c&&(c.removeAllRanges(),c.addRange(i))}function Is(e){var t=window.getSelection();if(null==t?void 0:t.rangeCount){var n=t.getRangeAt(0);if(e.contains(n.startContainer)&&e.contains(n.endContainer))return{startNodeIndex:i(n.startContainer),endNodeIndex:i(n.endContainer),startOffset:n.startOffset,endOffset:n.endOffset}}return null;function i(t){for(var n=t;n&&n.parentElement!==e;)n=n.parentNode;return Array.from(e.childNodes).indexOf(n)}}function Ts(e,t){return{startCursorIndex:n(e.startNodeIndex||0,e.startOffset),endCursorIndex:n(e.endNodeIndex||0,e.endOffset)};function n(e,n){return Array.from(t.childNodes).slice(0,e).reduce((function(e,t){var n;return(0,A._)(t,HTMLBRElement)?e+1:e+((null===(n=t.textContent)||void 0===n?void 0:n.length)||0)}),0)+n}}function Rs(e,t){for(var n=0,i=e,r=Array.from(t.childNodes),o=0,a=0;a<r.length;a++){var s,c=r[a],u=(0,A._)(c,HTMLBRElement)?1:(null===(s=c.textContent)||void 0===s?void 0:s.length)||0;if(0!==a){if(i<=o){n=a;break}i-=o}else o=u}return i>o&&(i=o),{nodeIndex:n,offset:i}}function Ms(e){var t=Ba.PLAIN,n=Ba.HTML,i=Ba.FILES,r=[],o=e.clipboardData,a=v();if(o&&o.items){var s=o.items,c=o.types,u=c[0],l=0;if(c.length>1){var A=c.indexOf(n);A>-1&&(l=A,u=n)}switch(u){case t:s[l].getAsString((function(e){var t;try{if("number"==typeof(t=JSON.parse(e)))throw new Error("Pure number")}catch(n){t=[{type:"string",value:e}]}t.some((function(e){var t=e.value;return"string"===e.type&&"widget"===t.type&&7===t.fieldType}))||(r=t,a.resolve(r))}));break;case n:var d=o.getData(n);d&&(r=[{type:"html",value:d}]),a.resolve(r);break;case i:var h=s[l].getAsFile();h&&(r=[{type:"file",value:h}]),a.resolve(r)}}return a.promise}var Fs=n(840),Ns=n.n(Fs)().PointerEventInput;function Ls(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ns.apply(this,t)}function Os(e){var t=new Hammer.Manager(e,{inputClass:xi?Hammer.TouchMouseInput:Ls});return t.add(new Hammer.Tap({event:"doubletap",taps:2})),t.add(new Hammer.Tap({event:"singletap"})),t.add(new Hammer.Pan),t.add(new Hammer.Press),t.add(new Hammer.Pinch({pointers:2})),t.get("doubletap").recognizeWith("singletap"),t.get("singletap").requireFailure("doubletap"),t}function js(e){return e}Ls.prototype=Object.create(Ns.prototype,{init:{value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=this.domHandler;return this.domHandler=function(e){if(e.isTrusted)return i.call(this,e)},Ns.prototype.init.apply(this,t)}}});var Bs=document.createElement("textarea");function Vs(){return Us.apply(this,arguments)}function Us(){return(Us=(0,gn._)((function(){return(0,_n.Jh)(this,(function(e){switch(e.label){case 0:if(Oo||No)return[2,!1];if(!navigator.permissions)return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,navigator.permissions.query({name:"clipboard-write"})];case 2:return[2,"granted"===e.sent().state];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))).apply(this,arguments)}function Hs(){return zs.apply(this,arguments)}function zs(){return(zs=(0,gn._)((function(){return(0,_n.Jh)(this,(function(e){switch(e.label){case 0:return navigator.clipboard?[4,Vs()]:[3,2];case 1:return e.sent()?[2,navigator.clipboard.readText()]:[2,Ws()];case 2:return[2,Ws()];case 3:return[2]}}))}))).apply(this,arguments)}function Ws(){var e=document.activeElement||Bs;"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName&&(e=Bs),e===Bs&&(document.body.appendChild(Bs),e.focus());var t=e.value;e.value="";try{return document.execCommand("paste")?e.value:Promise.reject("Unable to read from clipboard")}catch(e){return Promise.reject("Unable to read from clipboard")}finally{e.value=t,document.body.removeChild(Bs)}}Bs.style.cssText+="\n    position: fixed;\n    top: -9999px;\n    left: -9999px;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    border: none;\n    outline: none;\n    opacity: 0.1;\n";var Gs=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(e,i){var r;(0,u._)(this,n),r=t.call(this),(0,f._)((0,M._)(r),"target",void 0),(0,f._)((0,M._)(r),"options",void 0),(0,f._)((0,M._)(r),"isVisible",void 0),(0,f._)((0,M._)(r),"listeners",void 0),r.target=e,r.options=i,r.isVisible=!1,r.listeners=[];var o=new IntersectionObserver((function(e){var t=e[0].isIntersecting,n=r.isVisible;r.isVisible=t,r.listeners.forEach((function(e){e(t,n)}))}),r.options);return o.observe(r.target),r.addDestroyHook((function(){o.disconnect()})),r}return(0,l._)(n,[{key:"onVisibilityChange",value:function(e){var t=this;return this.listeners.push(e),function(){var n=t.listeners.indexOf(e);-1!==n&&t.listeners.splice(n,1)}}},{key:"waitForChange",value:function(){var e=v();return this.onVisibilityChange((function(t){e.resolve(t)})),e.promise}}]),n}(Xe);function Ys(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=new Date(t),i=n.getFullYear(),r=n.getMonth()+1,o=n.getDate(),a=n.getHours(),s=n.getMinutes(),c=n.getSeconds(),u=n.getMilliseconds(),l=-n.getTimezoneOffset()/60,A=Math.floor(l),d=Math.abs(60*(l-A));return new e.DateTime(i,r,o,a,s,c,u,A,d)}function $s(e,t){if(!t||"string"!=typeof t)return null;var n=t.match(/^D\:(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(([+-]\d\d)('\d\d')?)?$/);if(!n)return null;var i=(0,Xt._)(n,10),r=i[1],o=i[2],a=i[3],s=i[4],c=i[5],u=i[6],l=(i[7],i[8]),A=i[9],d=0;A&&A.length>2&&(d=Number(A.replace(/['"]/g,"")),isNaN(d)&&(d=0));var h=Number(l);return isNaN(h)&&(h=(new Date).getTimezoneOffset()/-60),new e.DateTime(Number(r),Number(o),Number(a),Number(s),Number(c),Number(u),0,h,d)}function Js(e){if(e.IsValid()){var t=new Date(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.milliseconds),n=e.utc_hour_offset,i=e.utc_minute_offset/60;n<0&&(i=-i);var r=-t.getTimezoneOffset()/60;return Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds())+60*(r-n-i)*60*1e3}}function qs(e,t){try{return t.toString()}catch(i){t.GetBuffer||(t=t.UTF8Encode());var n=t.GetBuffer();return function(e){if(254==e.charCodeAt(0)&&255==e.charCodeAt(1)){for(var t="",n=2;n<e.length;n+=2)t+=String.fromCharCode((e.charCodeAt(n)<<8)+e.charCodeAt(n+1));return t}return e}(Array.from({length:t.GetLength()},(function(t,i){var r=e.HEAP8[n+i]>>>0&255;return String.fromCharCode(r)})).join(""))}}var Ks=function(){function e(t){var n=this,i=t.gsdk,r=t.mimeType,o=void 0===r?"application/octet-stream":r,a=t.wrapper,s=void 0===a?i.WriterCallback:a;(0,u._)(this,e),(0,f._)(this,"implement",void 0),(0,f._)(this,"raBlob",void 0),this.raBlob=new Xi(o);var c=0;this.implement=s.implement({Release:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log("release",t)},Flush:function(){return!0},GetSize:function(){return c},WriteBlock:function(e,t,r){c+=r;var o,a=i.HEAPU8.buffer;return o=a.slice?a.slice(e,e+r):new Uint8Array(a,e,r).buffer,n.raBlob.set(t,o),!0}})}return(0,l._)(e,[{key:"size",get:function(){return this.raBlob.size}},{key:"getFile",value:function(){return this.raBlob.extract()}}]),e}();function Zs(e){if(isNaN(e)||!isFinite(e))return e+"";var t=e+"",n=t.charAt(0);if(!/\d+\.?\d*e[\+\-]*\d+/i.test(t))return t;return"-"!==n&&"+"!==n||(t=t.substring(1)),function(e){var t=e.charAt(0),n=/\d+\.?\d*e[\+\-]*\d+/i.test(e);if(!n)return e;var i="-"===t;"-"!==t&&"+"!==t||(e=e.substring(1));var r=(0,Xt._)(e.toLowerCase().split("e"),2),o=r[0],a=r[1],s=(0,Xt._)(o.split("."),2),c=s[0],u=s[1];u=u||"";var l,A=c.length+u.length,d=c+u,h=c.length+Number(a),f=h===A?"":".";l=h<=0?"0".concat(f).concat("0".repeat(Math.abs(h))).concat(d):h>A?"".concat(d).concat("0".repeat(Math.abs(h-A))):"".concat(d.substring(0,h)).concat(f).concat(d.substring(h));return i?"-"+l:l}(e+"")}var Xs=new(function(){function e(){var t=this;(0,u._)(this,e),(0,f._)(this,"mouseUpDefer",new p),(0,f._)(this,"pointX",0),(0,f._)(this,"pointY",0),document.addEventListener("pointerdown",(function(){t.mouseUpDefer.isSettled&&(t.mouseUpDefer=new p)}),!0),document.addEventListener("pointermove",(function(e){t.pointX=e.clientX,t.pointY=e.clientY}),!0),document.addEventListener("pointerup",(function(e){t.mouseUpDefer.resolve(),t.pointX=e.clientX,t.pointY=e.clientY}),!0),document.addEventListener("mouseup",(function(e){t.mouseUpDefer.resolve(),t.pointX=e.clientX,t.pointY=e.clientY}),!0),window.addEventListener("blur",(function(){t.mouseUpDefer.resolve()}))}return(0,l._)(e,[{key:"afterMouseUp",value:function(){return this.mouseUpDefer.promise}},{key:"getPoint",value:function(){var e=this;return{get x(){return e.pointX},get y(){return e.pointY}}}}]),e}());function Qs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,n){var i=e.accept,r=void 0===i?"":i,o=e.multiple,a=void 0!==o&&o,s=e.className,c=void 0===s?"hidden-file-input":s,u=e.timeoutMs,l=void 0===u?3e5:u,d=!1,h=null,f=null;if((h=document.createElement("input")).type="file",h.className=c,h.style.position="fixed",h.style.top="-100px",h.style.left="-100px",h.style.opacity="0",h.style.pointerEvents="none",r.length>0){var p=r;if(Yo||Vo||Uo){var v=r.split(/[;,]/).filter((function(e){return"*.*"!==e})).map((function(e){return e.replace(/^\*?\.(.+)/,(function(e,t){return nt(t,"."+t)}))}));p=v.join(";")}else{var g=r.split(/[;,]/).filter((function(e){return"*.*"!==e}));p=g.join(",")}h.accept=p}a&&(h.multiple=!0);var m=function(e){d||(d=!0,_(),t(e))},y=function(e){d||(d=!0,_(),n(e))},_=function(){f&&(window.clearTimeout(f),f=null),h&&(h.removeEventListener("change",b),h.removeEventListener("focus",k),h.removeEventListener("blur",x),h.removeEventListener("cancel",C),h.parentNode&&h.parentNode.removeChild(h),h=null),window.removeEventListener("focus",P)};f=window.setTimeout((function(){y(new Error("File selection timed out"))}),l);var b=function(e){var t=e.target;if(t&&t.files&&t.files.length>0){var n=t.files[0];m(n)}else m(null)},w=!1,k=function(){w=!0},x=function(){setTimeout((function(){var e;w&&!d&&h&&!(null===(e=h.files)||void 0===e?void 0:e.length)&&m(null)}),300)},P=function(){setTimeout((function(){var e;d||!h||(null===(e=h.files)||void 0===e?void 0:e.length)||w&&m(null)}),300)},C=function(){m(null)};h.addEventListener("change",b),h.addEventListener("focus",k),h.addEventListener("blur",x),h.addEventListener("cancel",C),window.addEventListener("focus",P),document.body.appendChild(h),queueMicrotask((function(){if(h&&!d)try{h.click()}catch(e){y(new Error("Failed to open file picker: ".concat((0,A._)(e,Error)?e.message:String(e))))}}))}))}var ec=function(){function e(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1048576,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Headers;(0,u._)(this,e),(0,f._)(this,"cacheName",void 0),(0,f._)(this,"url",void 0),(0,f._)(this,"totalSize",void 0),(0,f._)(this,"chunkSize",void 0),(0,f._)(this,"headers",void 0),(0,f._)(this,"started",void 0),(0,f._)(this,"offset",void 0),this.cacheName=t,this.url=n,this.totalSize=i,this.chunkSize=r,this.headers=o,this.started=!1,this.offset=0}return(0,l._)(e,[{key:"start",value:function(){var e=this;return(0,gn._)((function(){var t,n,i,r,o,a,s,c,u,l,d;return(0,_n.Jh)(this,(function(h){switch(h.label){case 0:if(e.started)return[2];if(e.started=!0,0===e.totalSize)return[2];h.label=1;case 1:h.trys.push([1,11,12,13]),e.dispatchPrecacheEvent({action:"start"}),t=e.getChunkRanges(e.offset,e.totalSize-1),n=!0,i=!1,r=void 0,h.label=2;case 2:h.trys.push([2,8,9,10]),o=t[Symbol.iterator](),h.label=3;case 3:return(n=(a=o.next()).done)?[3,7]:(s=a.value,c=s[0],u=s[1],[4,e.fetchChunk(c,u)]);case 4:return h.sent(),e.dispatchPrecacheEvent({action:"progress",loadedSize:u+1,progress:(u+1)/e.totalSize}),e.offset=s[1],[4,new Promise((function(e){return setTimeout(e,10)}))];case 5:h.sent(),h.label=6;case 6:return n=!0,[3,3];case 7:return[3,10];case 8:return l=h.sent(),i=!0,r=l,[3,10];case 9:try{n||null==o.return||o.return()}finally{if(i)throw r}return[7];case 10:return[3,13];case 11:throw d=h.sent(),e.dispatchPrecacheEvent({action:"error",error:(0,A._)(d,Error)?{name:d.name,message:d.message,stack:d.stack}:""}),d;case 12:return e.dispatchPrecacheEvent({action:"end"}),e.started=!1,[7];case 13:return[2]}}))}))()}},{key:"getChunkRanges",value:function(e,t){var n=this,i=Math.floor(e/this.chunkSize)*this.chunkSize,r=Math.ceil((t+1)/this.chunkSize)*this.chunkSize;return Array.from({length:(r-i)/this.chunkSize},(function(e,t){var o=i+t*n.chunkSize;return[o,Math.min(r,o+n.chunkSize,n.totalSize)-1]}))}},{key:"fetchChunk",value:function(e,t){var n=this;return(0,gn._)((function(){var i,r,o,a,s,c,u;return(0,_n.Jh)(this,(function(l){switch(l.label){case 0:return i=n.generateCacheKey(e,t),[4,n.openCache()];case 1:return[4,l.sent().match(i)];case 2:return(r=l.sent())?[2,r.clone()]:(o="bytes=".concat(e,"-").concat(t),(a=new Headers(n.headers)).set("range",o),[4,fetch(n.url,{headers:a})]);case 3:return[4,(s=l.sent()).blob()];case 4:return c=l.sent(),u=new Response(c,{headers:s.headers,status:200}),n.putCache(i,u),[2,new Response(c,{headers:s.headers,status:200})]}}))}))()}},{key:"openCache",value:function(){return caches.open(this.cacheName)}},{key:"putCache",value:function(e,t){var n=this;return(0,gn._)((function(){var i;return(0,_n.Jh)(this,(function(r){switch(r.label){case 0:return[4,n.openCache()];case 1:i=r.sent();try{i.put(e,t)}catch(e){}return[2]}}))}))()}},{key:"fetch",value:function(e,t,n){var i=this;return(0,gn._)((function(){var r,o,a,s,c,u,l,A,d;return(0,_n.Jh)(this,(function(h){switch(h.label){case 0:return 0===i.totalSize?[2,fetch(i.url,{headers:e.headers,body:e.body})]:(r=i.getChunkRanges(t,n),o=r.map((f=(0,gn._)((function(e){var t,n,r,o;return(0,_n.Jh)(this,(function(a){switch(a.label){case 0:return t=(0,Xt._)(e,2),n=t[0],r=t[1],[4,i.fetchChunk(n,r)];case 1:return o=a.sent(),[2,{start:n,end:r,response:o}]}}))})),function(e){return f.apply(this,arguments)})),[4,Promise.all(o)]);case 1:return a=h.sent(),[4,Promise.all(a.map(function(){var e=(0,gn._)((function(e){var i;return(0,_n.Jh)(this,(function(r){switch(r.label){case 0:return[4,e.response.blob()];case 1:return i=r.sent(),s=e.response.headers,[2,i.slice(Math.max(0,t-e.start),Math.min(i.size,n-e.start+1))]}}))}));return function(t){return e.apply(this,arguments)}}()))];case 2:return 0===(c=h.sent()).length?[2,fetch(i.url,{headers:e.headers,body:e.body})]:((u=new Headers(s)).get("Content-Type")&&u.set("Content-Type",null!==(l=u.get("Content-Type"))&&void 0!==l?l:"application/pdf"),A=u.get("Content-Range"),d=new Blob(c,{type:u.get("Content-Type")}),u.set("Content-Length",d.size+""),A&&u.set("Content-Range","bytes ".concat(t,"-").concat(n,"/").concat(i.totalSize)),[2,new Response(d,{headers:u,status:206})])}var f}))}))()}},{key:"stop",value:function(){var e=this;return(0,gn._)((function(){return(0,_n.Jh)(this,(function(t){return e.started=!1,[2]}))}))()}},{key:"drop",value:function(){var e=this;return(0,gn._)((function(){var t,n;return(0,_n.Jh)(this,(function(i){switch(i.label){case 0:return e.offset=0,[4,caches.open(e.cacheName)];case 1:return[4,(t=i.sent()).keys()];case 2:return n=i.sent(),[4,Promise.all(n.map((function(n){if(0===n.url.indexOf(e.url))return t.delete(n)})))];case 3:return i.sent(),[2]}}))}))()}},{key:"generateCacheKey",value:function(e,t){var n=new URL(this.url);return n.searchParams.set("__foxitwebsdk-precache-chunk__","".concat(e,":").concat(t)),n.toString()}},{key:"dispatchPrecacheEvent",value:function(e){var t=this;return(0,gn._)((function(){var n;return(0,_n.Jh)(this,(function(i){switch(i.label){case 0:return[4,globalThis.clients.matchAll()];case 1:return n=i.sent(),Object.assign(e,{totalSize:t.totalSize,originalURL:t.url}),n.forEach((function(t){t.postMessage({type:"precache-event",event:e})})),[2]}}))}))()}}]),e}(),tc=new(function(){function e(){(0,u._)(this,e),(0,f._)(this,"_pointerDown",!1),(0,f._)(this,"_pointerX",0),(0,f._)(this,"_pointerY",0),(0,f._)(this,"_moveEvent",void 0),this._bindEvent()}return(0,l._)(e,[{key:"pointerDown",get:function(){return this._pointerDown}},{key:"pointerX",get:function(){return this._pointerX}},{key:"pointerY",get:function(){return this._pointerY}},{key:"moveEvent",get:function(){return this._moveEvent}},{key:"_bindEvent",value:function(){var e=this;document.addEventListener("pointerdown",(function(t){e._pointerDown=!0}),{capture:!0}),document.addEventListener("pointermove",(function(t){e._pointerX=t.clientX,e._pointerY=t.clientY,e._moveEvent=t}),{capture:!0}),document.addEventListener("pointerup",(function(t){e._pointerDown=!1}),{capture:!0}),document.addEventListener("pointercancel",(function(t){e._pointerDown=!1}),{capture:!0})}}]),e}())},318:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ActionTriggerEvents:()=>b.ActionTriggerEvents,ActionType:()=>b.ActionType,AppendablePDFBlob:()=>ue,DefAPFlags:()=>s,ESIGN_CN_API_CHANNEL_ID:()=>_,FILLER_CONTROLLER_CHANNEL_ID:()=>a,FORM_API_CHANNEL_ID:()=>g,FORM_FIELD_API_CHANNEL_ID:()=>r,FORM_FILLER_EDITOR_API_CHANNEL_ID:()=>c,FORM_SIGNATURE_API_CHANNEL_ID:()=>y,FORM_WIDGET_PROPERTY_API_CHANNEL_ID:()=>u,FieldActionTriggerEvents:()=>b.FieldActionTriggerEvents,FieldCalculateType:()=>O,FieldFlag:()=>v,FieldType:()=>l,FormDesignMode:()=>A,FormFieldPropertyName:()=>W,FormFillerPopupMenuItemId:()=>i,FormMouseEventButtonType:()=>J,FormWidgetDirection:()=>x,FormWidgetRotation:()=>U,FormatCategory:()=>j,HighlightingMode:()=>q.HighlightingMode,ListboxSelectionChangeType:()=>$,MDPActionType:()=>G,MoveFocusDirectionEnum:()=>o,PagingSealPosition:()=>Y,SUBMIT_FORMAT_UNSUPPORTED_DESTINATION_ERROR:()=>m,SUBMIT_FORM_CALLBACK_API_CHANNEL_ID:()=>de,ScaleWayType:()=>P,SignatureType:()=>d,SpecialFormatEnum:()=>V,TextWidgetAlignment:()=>p,TimeFormatEnum:()=>B,ValidateTypeEnum:()=>z,WidgetActionTriggerEvents:()=>b.AnnotActionTriggerEvents,WidgetGestureState:()=>H,WidgetIconCaptionRelation:()=>h,WidgetPropertyName:()=>f,extractDateFormatActionInfo:()=>ne,extractNumberFormatActionInfo:()=>ee,extractPercentageNumberFormatActionInfo:()=>te,extractSpecialFormatActionInfo:()=>re,extractTimeFormatActionInfo:()=>ie,fieldIsChoiceMultiSelect:()=>L,fieldIsComb:()=>R,fieldIsComboEdit:()=>N,fieldIsInUnison:()=>C,fieldIsMultiline:()=>I,fieldIsNoExport:()=>S,fieldIsNoScroll:()=>F,fieldIsNoSpellCheck:()=>M,fieldIsPassword:()=>T,fieldIsReadOnly:()=>D,fieldIsRequired:()=>E,getFieldValue:()=>oe,isFieldTypeMatchDesignMode:()=>w,isMatchKeyCombine:()=>Ae,isSameWidgetId:()=>K,isValidMDPActionType:()=>Q,isValidWidgetGestureState:()=>X,isValidWidgetIconCaptionRelation:()=>k,transformToGSDKActionEvents:()=>b.transformToGSDKTriggerEvent,transformToGSDKActionType:()=>b.transformToGSDKActionType,widgetIdToString:()=>Z});var i,r="form-field-api-channel-id";!function(e){e.NONE="none",e.CUT="cut",e.COPY="copy",e.PASTE="paste",e.DELETE="delete",e.SELECT_ALL="select-all"}(i||(i={}));var o,a="filler-controller-channel-id";!function(e){e.NEXT="next",e.PREVIOUS="previous"}(o||(o={}));var s,c="form-filler-editor-api-channel-id",u="form-filler-widget-property-api-channel-id";!function(e){e[e.FONT=1]="FONT",e[e.TEXT_COLOR=2]="TEXT_COLOR",e[e.TEXT_SIZE=4]="TEXT_SIZE"}(s||(s={}));var l,A,d,h,f,p,v,g="pdf-form-api-channel-id",m="submit-format-unsupported-destination-error",y="form-signature-api-channel-id",_="esign-cn-api-channel-id",b=n(6929);function w(e,t){if(void 0===e)return!1;switch(t){case 8:return!0;case 1:return e===l.PushButton;case 2:return e===l.CheckBox;case 3:return e===l.RadioButton;case 4:return e===l.ComboBox;case 5:return e===l.ListBox;case 6:return e===l.Text;case 7:return e===l.Sign;default:return!1}}function k(e){switch(e){case 0:case 1:case 3:case 2:case 5:case 6:case 4:return!0;default:return!1}}!function(e){e[e.Unknown=0]="Unknown",e[e.PushButton=1]="PushButton",e[e.CheckBox=2]="CheckBox",e[e.RadioButton=3]="RadioButton",e[e.Text=6]="Text",e[e.ListBox=5]="ListBox",e[e.ComboBox=4]="ComboBox",e[e.Sign=7]="Sign",e[e.Barcode=8]="Barcode"}(l||(l={})),function(e){e[e.NONE=0]="NONE",e[e.PUSH_BUTTON_AND_IMAGE=1]="PUSH_BUTTON_AND_IMAGE",e[e.CHECK_BOX=2]="CHECK_BOX",e[e.RADIO_BUTTON=3]="RADIO_BUTTON",e[e.COMBO_BOX=4]="COMBO_BOX",e[e.LIST_BOX=5]="LIST_BOX",e[e.TEXT_AND_DATE=6]="TEXT_AND_DATE",e[e.SIGNATURE=7]="SIGNATURE",e[e.ALL_WIDGET_TYPES=8]="ALL_WIDGET_TYPES"}(A||(A={})),function(e){e[e.Ordinary=0]="Ordinary",e[e.TimeStamp=3]="TimeStamp",e[e.PagingSeal=4]="PagingSeal"}(d||(d={})),function(e){e[e.NO_ICON=0]="NO_ICON",e[e.NO_CAPTION=1]="NO_CAPTION",e[e.CAPTION_BELOW_ICON=2]="CAPTION_BELOW_ICON",e[e.CAPTION_ABOVE_ICON=3]="CAPTION_ABOVE_ICON",e[e.CAPTION_RIGHT=4]="CAPTION_RIGHT",e[e.CAPTION_LEFT=5]="CAPTION_LEFT",e[e.CAPTION_OVERLAY_ON_ICON=6]="CAPTION_OVERLAY_ON_ICON"}(h||(h={})),function(e){e.WIDGET_FLAG="widget_flag",e.WIDGET_RECT="widget_rect",e.FIELD_ALTERNATE_NAME="field_alternate_name",e.FIELD_NAME="field_name",e.FIELD_FLAG="field_flag",e.MK_ORIENTATION="mk_orientation",e.MK_BORDER_COLOR="mk_border_color",e.MK_FILL_COLOR="mk_fill_color",e.MK_DIRECTION_RTL="mk_direction_rtl",e.DA_FONT_COLOR="da_font_color",e.DA_FONT_NAME="da_font_name",e.DA_TEXT_SIZE="da_text_size"}(f||(f={})),function(e){e[e.left=0]="left",e[e.center=1]="center",e[e.right=2]="right"}(p||(p={})),function(e){e[e.ReadOnly=1]="ReadOnly",e[e.Required=2]="Required",e[e.NoExport=4]="NoExport",e[e.Hidden=8]="Hidden",e[e.ButtonNoToggleToOff=16384]="ButtonNoToggleToOff",e[e.ButtonRadiosInUnison=33554432]="ButtonRadiosInUnison",e[e.TextMultiline=4096]="TextMultiline",e[e.TextPassword=8192]="TextPassword",e[e.TextDoNotSpellCheck=4194304]="TextDoNotSpellCheck",e[e.TextDoNotScroll=8388608]="TextDoNotScroll",e[e.TextComb=16777216]="TextComb",e[e.ComboEdit=262144]="ComboEdit",e[e.ChoiceMultiSelect=2097152]="ChoiceMultiSelect",e[e.CommitOnSelChange=67108864]="CommitOnSelChange"}(v||(v={}));var x,P,C=function(e){return!!(33554432&e)},D=function(e){return!!(1&e)},E=function(e){return!!(2&e)},S=function(e){return!!(4&e)},I=function(e){return!!(4096&e)},T=function(e){return!!(8192&e)},R=function(e){return!!(16777216&e)},M=function(e){return!!(4194304&e)},F=function(e){return!!(8388608&e)},N=function(e){return!!(262144&e)},L=function(e){return!!(2097152&e)};!function(e){e[e.LEFT_TO_RIGHT=0]="LEFT_TO_RIGHT",e[e.RIGHT_TO_LEFT=1]="RIGHT_TO_LEFT"}(x||(x={})),function(e){e[e.NONE=0]="NONE",e[e.ALWAYS=1]="ALWAYS",e[e.BIGGER=2]="BIGGER",e[e.SMALLER=3]="SMALLER",e[e.NEVER=4]="NEVER"}(P||(P={}));var O,j,B,V,U,H,z,W,G,Y,$,J,q=n(8278),K=q.isSameAnnotId,Z=q.annotIdToString;function X(e){switch(e){case"up":case"down":case"rollover":return!0;default:return!1}}function Q(e){switch(e){case"none":case"all":case"include":case"exclude":case"custom":return!0;default:return!1}}function ee(e){var t=new Function("AFNumber_Format","AFNumber_Keystroke","return ".concat(e,";"));try{var n=function(e,t,n,i,r,o){return{category:j.NUMBER,decimalPlaces:e,separatorStyle:t,currencySymbol:r,isPrepend:o,useRedText:0!=(1&n),showParentheses:0!=(2&n)}};return t(n,n)}catch(e){return}}function te(e){var t=new Function("AFPercent_Format","AFPercent_Keystroke","return ".concat(e,";"));try{var n=function(e,t){return{category:j.PERCENTAGE,decimalPlaces:e,separatorStyle:t}};return t(n,n)}catch(e){return}}function ne(e){var t=new Function("AFDate_FormatEx","AFDate_Format","AFDate_KeystrokeEx","AFDate_Keystroke","return ".concat(e,";")),n=function(e){return["m/d","m/d/yy","m/d/yyyy","mm/dd/yy","mm/dd/yyyy","mm/yy","mm/yyyy","d-mmm","d-mmm-yy","d-mmm-yyyy","dd-mmm-yy","dd-mmm-yyyy","yy-mm-dd","yyyy-mm-dd","mmm-yy","mmm-yyyy","mmmm-yy","mmmm-yyyy","mmm d, yyyy","mmmm d, yyyy","m/d/yy h:MM tt","m/d/yyyy h:MM tt","m/d/yy HH:MM","m/d/yyyy HH:MM"][e]},i=function(e){return e};try{var r=t(i,n,i,n);return{category:j.DATE,format:r}}catch(e){return}}function ie(e){var t=new Function("AFTime_FormatEx","AFTime_Format","AFTime_Keystroke","return ".concat(e,";")),n=function(e){return"number"==typeof e?["HH:MM","h:MM tt","HH:MM:ss","h:MM:ss tt"][e]:e};try{var i=t(n,n,n);return{category:j.TIME,format:i}}catch(e){return}}function re(e){var t=new Function("AFSpecial_KeystrokeEx","AFSpecial_Format","AFSpecial_Keystroke","return ".concat(e,";"));try{var n=function(e){return e},i=t(n,n,n);return{category:j.SPECIAL,content:i}}catch(e){return}}function oe(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.GetType().value;if(t&&(n===l.RadioButton||n===l.CheckBox)){for(var i="Off",r=e.GetControlCount(),o=0;o<r;o++){var a=e.GetControl(o);if(a.IsChecked()){i=a.GetExportValue().toString();break}}return i}return e.GetValue().toString()}!function(e){e[e.NOT_CALCULATED=0]="NOT_CALCULATED",e[e.CALCULATE_WITH_FIELDS=1]="CALCULATE_WITH_FIELDS",e[e.FIMPLIFIED_FIELD_NOTATION=2]="FIMPLIFIED_FIELD_NOTATION",e[e.CUSTOM_CALCULATE_SCRIPT=3]="CUSTOM_CALCULATE_SCRIPT"}(O||(O={})),function(e){e.NONE="none",e.NUMBER="number",e.PERCENTAGE="percentage",e.DATE="date",e.TIME="time",e.SPECIAL="special",e.CUSTOM="custom"}(j||(j={})),function(e){e[e.HH_MM=0]="HH_MM",e[e.h_MM_tt=1]="h_MM_tt",e[e.HH_MM_ss=2]="HH_MM_ss",e[e.h_MM_ss_tt=3]="h_MM_ss_tt"}(B||(B={})),function(e){e[e.ZIP_CODE=0]="ZIP_CODE",e[e.ZIP_CODE_4=1]="ZIP_CODE_4",e[e.PHONE_NUMBER=2]="PHONE_NUMBER",e[e.SOCIAL_SECURITY_NUMBER=3]="SOCIAL_SECURITY_NUMBER"}(V||(V={})),function(e){e[e.ROTATION_0=0]="ROTATION_0",e[e.ROTATION_90=1]="ROTATION_90",e[e.ROTATION_180=2]="ROTATION_180",e[e.ROTATION_270=3]="ROTATION_270",e[e.UNKNOWN=4]="UNKNOWN"}(U||(U={})),function(e){e.UP="up",e.DOWN="down",e.ROLLOVER="rollover"}(H||(H={})),function(e){e.NONE="none",e.RANGE="range",e.CUSTOM="custom"}(z||(z={})),function(e){e.NAME="fieldName",e.VALUE="fieldValue",e.ALTERNATE_NAME="fieldAlternateName",e.FLAGS="fieldFlags",e.MAPPING_NAME="fieldMappingName",e.ALIGNMENT="fieldAlignment",e.MAX_LENGTH="maxLength",e.DEFAULT_VALUE="defaultValue",e.CHOICE_OPTION_ITEMS="choiceOptionItems",e.SELECT_OPTION_ITEM="selectOptionItem",e.CHECKED_BY_DEFAULT="checkedByDefault",e.ACTION="form-field-action",e.CALCULATE_ACTION="calculate_action",e.FORMAT_ACTION="format_action",e.VALIDATE_ACTION="validate_action",e.SIGNATURE_MDP_ACTION="signature_MDP_Action",e.SELECTION_CHANGE_ACTION="selection-change-action"}(W||(W={})),function(e){e.NONE="none",e.ALL="all",e.INCLUDE="include",e.EXCLUDE="exclude",e.CUSTOM="custom"}(G||(G={})),function(e){e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(Y||(Y={})),function(e){e.NONE="none",e.CUSTOM="custom"}($||($={})),function(e){e[e.LEFT_BUTTON=0]="LEFT_BUTTON",e[e.MIDDLE_BUTTON=1]="MIDDLE_BUTTON",e[e.RIGHT_BUTTON=2]="RIGHT_BUTTON"}(J||(J={}));var ae=n(9227),se=n(7424),ce=n(5991),ue=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"application/octet-stream";(0,ae._)(this,e),(0,ce._)(this,"mimeType",void 0),(0,ce._)(this,"blob",void 0),this.mimeType=t,this.blob=new Blob([],{type:this.mimeType})}return(0,se._)(e,[{key:"appendBlob",value:function(e){this.blob=new Blob([this.blob,e],{type:this.blob.type})}},{key:"appendArray",value:function(e){this.appendBlob(new Blob([Uint8Array.from(e)]))}},{key:"appendBuffer",value:function(e){this.appendBlob(new Blob([e]))}},{key:"appendString",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=[];for(t=0;t<e.length&&!(e.charCodeAt(t)>255);t++);if(t!==e.length){for(i.push(254),i.push(255),t=0;t<e.length;t++){var r=e.charCodeAt(t)>>8;!n||40!=r&&41!=r||i.push(92),i.push(r),r=255&e.charCodeAt(t),!n||40!=r&&41!=r||i.push(92),i.push(255&e.charCodeAt(t))}this.appendArray(i)}else{for(t=0;t<e.length;t++){var o=e.charCodeAt(t);!n||40!=o&&41!=o||i.push(92),i.push(o)}this.appendArray(i)}}},{key:"extract",value:function(){return this.blob}}]),e}(),le=["ctrl","shift","alt","meta","command","leftButtonDown","rightButtonDown","middeButtonDown"];function Ae(e,t,n){var i=t.charCodeAt(0);if(0===e.length)return i===n.keyCode;var r=le.filter((function(t){return-1===e.indexOf(t)}));return e.every((function(e){return n.flags[e]}))&&r.every((function(e){return!n.flags[e]}))&&i===n.keyCode}var de="submit-form-callback-api-channel"},3292:(e,t,n)=>{"use strict";var i;n.d(t,{s:()=>i}),function(e){e[e.AVAILABLE=2]="AVAILABLE",e[e.VISIBILITY=4]="VISIBILITY",e[e.ACTIVATION=8]="ACTIVATION"}(i||(i={}))},9378:(e,t,n)=>{"use strict";n.d(t,{B:()=>d});var i=n(1540),r=n(9227),o=n(7424),a=n(5991),s=n(5467),c=n(5843),u=n(5376),l=n(7984),A=n(1727),d=function(e){(0,s._)(n,e);var t=(0,u._)(n);function n(e){var o;return(0,r._)(this,n),o=t.call(this),(0,a._)((0,i._)(o),"pipeExprs",void 0),(0,a._)((0,i._)(o),"pipeFunctions",void 0),o.pipeExprs=e,o.pipeFunctions=[],o.init(),o}return(0,o._)(n,[{key:"init",value:function(){this.pipeFunctions=this.pipeExprs.map((function(e){var t=(0,l.getUniqueId)("pipe_function");-1===e.indexOf("(")&&(e+="()");var n,i=e.indexOf("("),r=e.lastIndexOf(")"),o=e.slice(0,i),s="",c=o.indexOf(":");c>-1?(n=o.slice(c+1),s=o.slice(0,c)):n=o;var u=e.slice(i+1,r).trim(),d=t+".call($controller".concat(u.length>0?","+u:"",")");return function(i,r){var o=A.a._nostrictModule(s);if(!o)return i;var c=o.getPipe(n),l=!0;if(c||""!=s){if(!c)return i}else try{if("function"!=typeof r.eval(n))return i;l=!1}catch(e){return i}var h=l?r.eval(d,(0,a._)({},t,c)):r.eval("".concat(n,"(").concat(u,")"));if("function"!=typeof h)throw new Error("".concat(e," must returning a pipe function, but actual: ").concat(h));return h.call(r,i)}}))}},{key:"transform",value:function(e,t){return this.pipeFunctions.reduce((function(e,n){return(0,c._)(e,Promise)?e.then((function(e){return n(e,t)})):n(e,t)}),e)}}]),n}(l.Disposable)},8902:(e,t,n)=>{"use strict";var i;n.d(t,{U:()=>i}),function(e){e.SINGLETON="SINGLETON",e.SHARED_SINGLETON="SHARED-SINGLETON",e.MULTI_CASE="MULTI-CASE",e.COMPONENT_TREE="COMPONENT-TREE",e.COMPONENT_CHILDREN="COMPONENT-CHILDREN"}(i||(i={}))},240:(e,t,n)=>{"use strict";var i;function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"@{",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"}";if(!e||e.length<=t.length+n.length)return[{type:"text",content:e||""}];for(var i=[],r=0;;){var o=e.indexOf(t,r);if(-1===o){i.push({type:"text",content:e.slice(r)});break}var a=e.indexOf(t,o+t.length),s=void 0;if(-1===(s=a>-1?e.lastIndexOf(n,a):e.lastIndexOf(n))){i.push({type:"text",content:e.slice(r)});break}i.push({type:"text",content:e.slice(r,o)}),i.push({type:"placeholder",content:e.substring(o+t.length,s)}),r=s+n.length}return i}n.d(t,{i:()=>i,w:()=>r}),function(e){e.text="text",e.placeholder="placeholder"}(i||(i={}))},7147:(e,t,n)=>{"use strict";n.d(t,{J:()=>d});var i=n(5578),r=n(9227),o=n(7424),a=n(449),s=n(7582),c=n(8278),u=n(7984),l=n(9475),A=n(318),d=function(){function e(){(0,r._)(this,e)}return(0,o._)(e,[{key:"fxjseActionCallback",get:function(){return this.engine.fxjseActionCallback||{}}},{key:"init",value:function(e){this.engine=e}},{key:"getDocById",value:function(e){return this.engine.pdfDocCacheMap.get(e)}},{key:"annotAdded",value:function(e,t){var n=this;return(0,i._)((function(){var i,r;return(0,s.Jh)(this,(function(o){switch(o.label){case 0:return(i=n.getDocById(e))&&(r=i.getLoadedPageByIndex(t.pageIndex))?[4,r.getUnloadedAnnots()]:[2];case 1:return o.sent(),[2]}}))}))()}},{key:"annotRemoved",value:function(e,t){var n=this;return(0,i._)((function(){var i,r,o,u;return(0,s.Jh)(this,(function(s){return(i=n.getDocById(e))&&(r=i.getLoadedPageByIndex(t.pageIndex))?(o=(0,a._)(r.getAnnotsSync([t.objNumber]),1),(u=o[0])&&u.getType()===c.AnnotType.highlight&&n.invalidateRect(t.pageIndex,u.getRect(),!0),r.cleanupRemovedAnnots([t.objNumber]),[2]):[2]}))}))()}},{key:"scroll",value:function(e){var t=this;return(0,i._)((function(){return(0,s.Jh)(this,(function(n){return t.fxjseActionCallback.scroll&&t.fxjseActionCallback.scroll(e),[2]}))}))()}},{key:"submitForm",value:function(e,t,n){var r=this;return(0,i._)((function(){return(0,s.Jh)(this,(function(i){return r.getDocById(e)?(r.fxjseActionCallback.submitForm&&r.fxjseActionCallback.submitForm(e,t,n),[2]):[2]}))}))()}},{key:"gotoPage",value:function(e,t){var n=this;return(0,i._)((function(){return(0,s.Jh)(this,(function(i){return n.getDocById(e)?(n.fxjseActionCallback.gotoPage&&n.fxjseActionCallback.gotoPage(e,t),[2]):[2]}))}))()}},{key:"setDocChangeMark",value:function(e,t){var n=this;return(0,i._)((function(){var i;return(0,s.Jh)(this,(function(r){return(i=n.getDocById(e))?(t?i.docChangeMark++:i.docChangeMark=i.docChangeMark>0?i.docChangeMark-1:0,n.engine.eventEmitter.emit(l.Z.docModified,i),[2]):[2]}))}))()}},{key:"getDocChangeMark",value:function(e){var t=this;return(0,i._)((function(){var n;return(0,s.Jh)(this,(function(i){return(n=t.getDocById(e))?[2,n.docChangeMark>0||n.docModified]:[2,!1]}))}))()}},{key:"clearDocChangeMark",value:function(e){var t=this;return(0,i._)((function(){var n;return(0,s.Jh)(this,(function(i){return(n=t.getDocById(e))?(n.docChangeMark=0,n.docModified=!1,[2]):[2]}))}))()}},{key:"pagesRemoved",value:function(e,t,n){var r=this;return(0,i._)((function(){var i;return(0,s.Jh)(this,(function(o){return(i=r.getDocById(e))?(i.cleanupRemovedPages(t,n),[2]):[2]}))}))()}},{key:"pageInserted",value:function(e,t,n){var r=this;return(0,i._)((function(){var i;return(0,s.Jh)(this,(function(o){return(i=r.getDocById(e))?(i.loadInsertPage(t,n),[2]):[2]}))}))()}},{key:"verifySignature",value:function(e,t,n){var r=this;return(0,i._)((function(){var i,o,a;return(0,s.Jh)(this,(function(s){switch(s.label){case 0:return(i=r.getDocById(e))?[4,i.query({type:"annot",annotId:t})]:[2,-1];case 1:return(o=s.sent())?(null==(a=o.getField())?void 0:a.getType())!==A.FieldType.Sign?[2,-1]:[4,a.verify({force:!1,verificationData:n})]:[2,-1];case 2:return[2,s.sent()]}}))}))()}},{key:"beep",value:function(e){return(0,i._)((function(){return(0,s.Jh)(this,(function(e){return[2,!0]}))}))()}},{key:"popupMenu",value:function(e){var t=this;return(0,i._)((function(){return(0,s.Jh)(this,(function(n){return t.fxjseActionCallback.popupMenu?[2,t.fxjseActionCallback.popupMenu(e)]:[2,void 0]}))}))()}},{key:"browseFile",value:function(e){var t=this;return(0,i._)((function(){return(0,s.Jh)(this,(function(n){return t.fxjseActionCallback.browseFile?[2,t.fxjseActionCallback.browseFile(e)]:[2,new Blob]}))}))()}},{key:"saveAs",value:function(e,t,n){var r=this;return(0,i._)((function(){return(0,s.Jh)(this,(function(i){return r.fxjseActionCallback.saveAs?[2,r.fxjseActionCallback.saveAs(e,t,n)]:[2]}))}))()}},{key:"documentWillCloseByJS",value:function(e,t,n,r,o){var a=this;return(0,i._)((function(){return(0,s.Jh)(this,(function(i){return a.fxjseActionCallback.documentWillCloseByJS&&a.fxjseActionCallback.documentWillCloseByJS(e,t,n,r,o),[2]}))}))()}},{key:"invalidateRect",value:function(e,t,n){var r=this;return(0,i._)((function(){return(0,s.Jh)(this,(function(i){return r.fxjseActionCallback.invalidateRect&&r.fxjseActionCallback.invalidateRect(e,t,n),[2]}))}))()}}],[{key:"inject",value:function(){return{syncGeneratorInvoker:u.SyncGeneratorInvoker}}}]),e}()},4929:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(9227),r=n(7424),o=n(5467),a=n(4919),s=n(5376),c=function(e){(0,o._)(n,e);var t=(0,s._)(n);function n(e,r){var o;return(0,i._)(this,n),(o=t.call(this,e)).callbackfn=r,o}return(0,r._)(n,[{key:"handle",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i;return(i=this.callbackfn).call.apply(i,[this].concat((0,a._)(t)))}}],[{key:"getName",value:function(){return"CallbackController"}}]),n}(n(3667).Q)},8448:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(9227),r=n(7424),o=n(5467),a=n(5376),s=n(3667),c=n(1727),u=function(e){(0,o._)(n,e);var t=(0,a._)(n);function n(){return(0,i._)(this,n),t.apply(this,arguments)}return(0,r._)(n,[{key:"prelink",value:function(){}},{key:"postlink",value:function(){}},{key:"mounted",value:function(){}},{key:"destroy",value:function(){}}],[{key:"getName",value:function(){return"NoopController"}}]),n}(s.Q);c.Z.root().registerController(u)},2320:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(9227),r=n(7424),o=n(6905),a=n(9418),s=n(5467),c=n(5376),u=n(7984),l=n(6557),A=u.LoggerFactory.getLogger("MultipleDirective"),d=function(e){(0,s._)(n,e);var t=(0,c._)(n);function n(e,r){var o;return(0,i._)(this,n),(o=t.call(this,e)).directives=r,o.addDestroyHook((function(){o.forEachAndRun((function(e){return e.destroy()}))})),o}return(0,r._)(n,[{key:"processComponentOptions",value:function(e){this.forEachAndRun((function(t){return t.processComponentOptions(e)}))}},{key:"init",value:function(e){(0,o._)((0,a._)(n.prototype),"init",this).call(this,e),this.forEachAndRun((function(t){t.init(e),e.element.classList&&e.element.classList.add("fv__ui-directive-".concat(t.directiveName))}))}},{key:"emit",value:function(e,t,n){this.forEachAndRun((function(i){i.emit(e,t,n)}))}},{key:"receiveEmit",value:function(e,t,n){var i=!0;this.directives.forEach((function(r){var o=0!=r.receiveEmit(e,t,n);i=i&&o})),i&&this.parentComponent&&this.parentComponent.directive.emit(t,n,e)}},{key:"receiveBroadcast",value:function(e,t){this.directives.forEach((function(n){n.receiveBroadcast(e,t)})),this.component.isContainer()&&this.component.children().forEach((function(n){n.directive.receiveBroadcast(e,t)}))}},{key:"beforeComponentRender",value:function(){this.forEachAndRun((function(e){return e.beforeComponentRender()}))}},{key:"afterComponentRender",value:function(){this.forEachAndRun((function(e){return e.afterComponentRender()}))}},{key:"componentPrelink",value:function(){this.forEachAndRun((function(e){return e.componentPrelink()}))}},{key:"componentPostlink",value:function(){this.forEachAndRun((function(e){return e.componentPostlink()}))}},{key:"componentMounted",value:function(){this.forEachAndRun((function(e){return e.componentMounted()}))}},{key:"componentDestroyed",value:function(){this.forEachAndRun((function(e){return e.componentDestroyed()})),this.destroy()}},{key:"getDirective",value:function(e){return this.getDirectives(e)[0]}},{key:"getDirectives",value:function(e){return this.directives.filter((function(t){return t.directiveName===e}))}},{key:"forEachAndRun",value:function(e){this.directives.forEach((function(t){try{e(t)}catch(e){throw A.error("An error occurred in the directive(".concat(t.attrName,") on the template: `").concat(t.node.template,"`"),e),e}}))}}],[{key:"getName",value:function(){return"<native-multiple>"}}]),n}(l.X)},2473:(e,t,n)=>{"use strict";n.d(t,{wA:()=>D,Ah:()=>E,Gn:()=>S});var i=n(1540),r=n(5578),o=n(9227),a=n(7424),s=n(6905),c=n(9418),u=n(5467),l=n(5843),A=n(4919),d=n(9256),h=n(5376),f=n(7582),p=n(2778),v=n.n(p),g=n(7984),m=n(2958),y=(n(6315),n(510)),_=n(1406),b=function(e){(0,u._)(n,e);var t=(0,h._)(n);function n(e){var i;return(0,o._)(this,n),(i=t.call(this,{})).component=e,i}return(0,a._)(n,null,[{key:"getName",value:function(){return"<native-noop>"}}]),n}(n(6557).X),w=n(7469),k=(n(6871),n(8902)),x=n(3292),P=Date.now();function C(e){return"".concat(e,"-").concat((P++).toString(36))}var D=function(e){(0,u._)(p,e);var t=(0,h._)(p);function p(e,r,a){var s;(0,o._)(this,p),(s=t.call(this)).$keepStateValue=0,s.$options=e,s.context=e.context,s.lockType=S.none,s.parser=e.parser,s.module=r,s.localizer=a,s.viewConfig=e.viewConfig,s.cls=e.cls,s.nodeName=s.viewConfig.nodeName;var c=s.viewConfig.attrs;if(s.name=c.name||e.name||C("component_name"),s.id=c.id||C("component"),s.attrs=c,s.tempAttrs=c,s._data=null,s.node=e.viewConfig.vnode,s.parent=e.parentComponent,s.texts=[],s.isMounted=!1,s.constructor.getMetadataResolver().resolve((0,i._)(s)),s.element=s.createDOMElement(),s.directive=new b((0,i._)(s)),s.subject$=new(v()),s.$services=[],s.lifecycleStates=Object.keys(E).reduce((function(e,t){return e[t]=!1,e}),{}),e.events)for(var u in e.events){var l=e.events[u];"function"==typeof l&&s.on(u,l)}s._disableReason={},s._localizeWatchers=[];var A=n(1702).Z;return s.setController(A.newControllerInstance(e,(0,i._)(s))),e.controllerAlias&&(s.controller.data[e.controllerAlias]=s.controller),s.element.getComponent=function(){return(0,i._)(s)},s.addDestroyHook((function(){delete s.element.getComponent})),s.addDestroyHook(s.context.pool.addComponent((0,i._)(s))),s.callInit(),s}return(0,a._)(p,[{key:"isLocked",get:function(){return this.lockType!==S.none}},{key:"callInit",value:function(){this.init()}},{key:"init",value:function(){}},{key:"setDirective",value:function(e){this.directive=e}},{key:"getDirectiveByName",value:function(e){return this.directive&&this.directive.getDirective(e)}},{key:"setController",value:function(e){this.controller&&this.controller.uninstall(),this.controller=e}},{key:"resetDataScope",value:function(){var e=this.parent?this.parent.controller:void 0;this.controller.setParentScope(e)&&this.lifecycleStates[E.mounted]&&this.controller.digest(!1)}},{key:"getRoot",value:function(){if(this.__root__){if(this.__root__.parent)return this.__root__=this.__root__.parent.getRoot()||this;if(!this.parent||this.__root__===this.parent.__root__)return this.__root__}return this.__root__=this.parent?this.parent.getRoot():this}},{key:"nextSiblings",value:function(){if(this.parent){var e=this.parent.indexOf(this),t=this.parent.childAt(e+1);return t&&t.isIgnorable()?t.nextSiblings():t}}},{key:"previousSiblings",value:function(){if(this.parent){var e=this.parent.indexOf(this),t=this.parent.childAt(e-1);return t&&t.isIgnorable()?t.previousSiblings():t}}},{key:"findNextMatching",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.nextSiblings(),i=this.index();;){if(!n){if(!t)return;if(n=this.parent.first())continue;return}if(e(n))return n;if(n.index()===i)return;n=n.nextSiblings()}}},{key:"findPreviousMatching",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.previousSiblings(),i=this.index();;){if(!n){if(!t)return;if(n=this.parent.last())continue;return}if(e(n))return n;if(n.index()===i)return;n=n.previousSiblings()}}},{key:"brothers",value:function(){return this.parent?this.parent.children():[this]}},{key:"createDOMElement",value:function(){return document.createElement("span")}},{key:"appendSlot",value:function(e,t){var n=this.getSlotContainer(e);if(!n)throw new Error("slot not exists: ".concat(e));t.children().forEach((function(e){n.appendChild(e.element)}))}},{key:"getSlotContainer",value:function(e){return this.element.querySelector("[slot=".concat(JSON.stringify(e),"]"))||this.element.querySelector('[slot=""]')}},{key:"on",value:function(e,t){var n=this;return this.subject$&&this.subject$.on(e,t),function(){n.subject$&&n.subject$.off(e,t)}}},{key:"once",value:function(e,t){var n=this;return this.subject$&&this.subject$.once(e,t),function(){n.subject$&&n.subject$.off(e,t)}}},{key:"off",value:function(e,t){this.subject$&&this.subject$.off(e,t)}},{key:"trigger",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r;this.subject$&&(r=this.subject$).emit.apply(r,[e].concat((0,A._)(n)))}},{key:"broadcast",value:function(e,t,n){}},{key:"receiveBroadcast",value:function(e,t,n){e===y.u7&&this.doLocalize(),this.texts.forEach((function(i){i.receiveBroadcast(e,t,n)}))}},{key:"prerender",value:function(){if(this.attrs){for(var e in this.attrs)-1===e.indexOf("@")&&"class"!==e&&this.setAttribute(e,this.attrs[e]);var t;if(this.attrs.class)(t=this.element.classList).add.apply(t,(0,A._)(this.attrs.class.split(/\s+/).filter((function(e){return e}))))}if("string"==typeof this.cls)this.element.classList.add(this.cls.split(" "));else if(Array.isArray(this.cls)){var n;(n=this.element.classList).add.apply(n,(0,A._)(this.cls))}this.setAttribute("component-name",this.name),this.setAttribute("component-type",this.nodeName),this.renderElementId()}},{key:"render",value:function(){this.acceptText()&&(this.textElement=this.renderText()),this.dispatchLifecycleChange(E.render),this.lifecycleStates[E.render]=!0}},{key:"renderElementId",value:function(){this.setAttribute("id",this.id)}},{key:"mounted",value:function(){this.isMounted||(this.dispatchLifecycleChange(E.mounted),this.isMounted=!0,this.element.dataset&&(this.element.dataset.webpdf_component=this.id),this.texts.forEach((function(e){return e.mounted()})),this.trigger(y.qo.MOUNTED),this.directive.componentMounted(),this.controller.mounted(),this.controller.$$is_ext_ctrl||this.controller.digest(!1))}},{key:"triggerHandler",value:function(){(0,g.unsupported)()}},{key:"lock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S.available;if(!this.isDestroyed){switch(this.lockType!=S.none&&this.lockType!=e&&this.unlock(),e){case S.visibility:this.hide();break;case S.available:this.disable();break;default:return}this.lockType=e,this.context.triggerStatusChange(this,"lock")}}},{key:"unlock",value:function(){if(this.isLocked&&!this.isDestroyed){var e=this.lockType;switch(this.lockType=S.none,e){case S.visibility:this.show();break;case S.available:this.enable();break;default:return}this.context.triggerStatusChange(this,"unlock")}}},{key:"disable",value:function(){return!this.canBeDisabled||this.disabled?this.disabled:this.isStateKept(x.s.AVAILABLE)?void 0:(this.disabled=!0,this.doDisable(),this.context.triggerStatusChange(this,y.qo.DISABLE),this.trigger(y.qo.DISABLE),this.disabled)}},{key:"enable",value:function(){return this._pluginEnableHook&&this._pluginEnableHook(),!this.disabled||(this.isStateKept(x.s.AVAILABLE)?void 0:this.lockType===S.available?(g.LoggerFactory.getLogger("".concat(this.nodeName,"#enable()")).info("Cannot enable this locked component!",this),!1):(this.disabled=!1,this.doEnable(),this.context.triggerStatusChange(this,y.qo.ENABLE),this.trigger(y.qo.ENABLE),!0))}},{key:"active",value:function(){if(!this.isDestroyed&&!this.disabled&&!this.isActive){if(this.isStateKept(x.s.ACTIVATION))return;this.isActive=!0,this.doActive(),this.context.triggerStatusChange(this,y.qo.ACTIVE),this.trigger(y.qo.ACTIVE)}}},{key:"deactive",value:function(){this.isActive&&!this.isDestroyed&&(this.isStateKept(x.s.ACTIVATION)||(this.isActive=!1,this.doDeactive(),this.context.triggerStatusChange(this,y.qo.DEACTIVE),this.trigger(y.qo.DEACTIVE)))}},{key:"show",value:function(e){this.isVisible||this.isDestroyed||this.isStateKept(x.s.VISIBILITY)||(this.lockType!==S.visibility?(this.isVisible=!0,this.doShown(e),this.context.triggerStatusChange(this,y.qo.SHOWN),this.trigger(y.qo.SHOWN,e)):g.LoggerFactory.getLogger("".concat(this.nodeName,"#show()")).warn("Cannot show this locked component!",this))}},{key:"hide",value:function(){this.isVisible&&!this.isDestroyed&&(this.isStateKept(x.s.VISIBILITY)||(this.isVisible=!1,this.doHidden(),this.context.triggerStatusChange(this,y.qo.HIDDEN),this.trigger(y.qo.HIDDEN)))}},{key:"keepState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x.s.VISIBILITY;(0,g.appOnly)(),I(e),this.$keepStateValue|=e}},{key:"revokeKeepState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x.s.VISIBILITY;(0,g.appOnly)(),I(e),this.$keepStateValue&=~e}},{key:"isStateKept",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x.s.VISIBILITY;return I(e),e===(this.$keepStateValue&e)}},{key:"cancel",value:function(){this.isVisible&&!this.isDestroyed&&(this.isVisible=!1,this.doHidden(),this.context.triggerStatusChange(this,y.qo.HIDDEN),this.trigger(y.qo.CANCEL))}},{key:"addDestroyHook",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i;return(i=(0,s._)((0,c._)(p.prototype),"addDestroyHook",this)).call.apply(i,[this].concat((0,A._)(t)))}},{key:"destroy",value:function(){this.isDestroyed||(this.dispatchLifecycleChange(E.destroyed),this.texts.forEach((function(e){return e.destroy()})),this.texts=[],(0,s._)((0,c._)(p.prototype),"destroy",this).call(this),this.doDestroy(),this.controller.destroy(),this.directive.componentDestroyed(),this.trigger(y.qo.DESTROYED),this.subject$.removeAllListeners(),this.$services.filter((function(e){var t=e.constructor,n=t.scope?t.scope():k.U.SINGLETON;return n===k.U.COMPONENT_TREE||n===k.U.MULTI_CASE})).forEach((function(e){e.destroy&&e.destroy()})),this.$services=null,this.$options=null,this.parser=null,this.module=null,this.localizer=null,this.viewConfig=null,this.attrs=null,this.tempAttrs=null,this.node=null,this.parent=null,this.element=null,this.directive=null,this.subject$=null,this.__root__=null,this.pdfUI=null,this._localizeWatchers.length=0)}},{key:"removeElement",value:function(){this.getRenderingElements().forEach((function(e){e.parentElement&&e.remove()}))}},{key:"remove",value:function(){var e=this.parent;(this.parent=null,e)?e.removeChild(this):this.getRenderingElements().forEach((function(e){e.remove()}))}},{key:"isIgnorable",value:function(){return!1}},{key:"isContainer",value:function(){return!1}},{key:"isNative",value:function(){return!1}},{key:"before",value:function(e,t){if(this.parent&&this.parent.isContainer()){var n=this.index();this.parent.insert(e,n,t)}}},{key:"after",value:function(e,t){if(this.parent&&this.parent.isContainer()){var n=this.parent.indexOf(this);this.parent.insert(e,n+1,t)}}},{key:"index",value:function(){if(this.parent&&this.parent.isContainer())return this.parent.indexOf(this)}},{key:"getComponentByName",value:function(e){if(this.name===e)return this}},{key:"getComponentByNameAsync",value:function(e){return Promise.resolve(this.name===e?this:void 0)}},{key:"findChildren",value:function(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&e(this)?[this]:[]}},{key:"getClosestComponentByName",value:function(e){return this.findClosestComponent((function(t){return t.name===e}))}},{key:"getClosestComponentByType",value:function(e){return this.findClosestComponent((function(t){return t.nodeName===e}))}},{key:"getClosestComponentByClass",value:function(e){return this.findClosestComponent((function(t){return(0,l._)(t,e)}))}},{key:"findClosestComponent",value:function(e){if("function"!=typeof e)throw new TypeError("callback must be a function, but actual: ".concat(void 0===e?"undefined":(0,d._)(e)));for(var t=this;t;){if(e(t))return t;t=t.parent}}},{key:"getAllComponentsByName",value:function(e){return this.name===e?[this]:[]}},{key:"getAllComponentsByNameAsync",value:function(e){return this.name===e?Promise.resolve([this]):Promise.resolve([])}},{key:"getAllComponentsByType",value:function(e){return this.constructor.getName()===e?[this]:[]}},{key:"querySelectorAll",value:function(e){var t=this,n=function(){return w.Z.parseSelectors(e).selectFrom([t])},i=n();if(0===i.length&&this.node){var r=this.node.querySelectorAll(e);if(r.length>0)return this.context.triggerObtainsComponentOf(r),n()}return i}},{key:"querySelector",value:function(e){return this.querySelectorAll(e)[0]}},{key:"doActive",value:function(){(0,g.addClass)(this.element,"active")}},{key:"doDeactive",value:function(){(0,g.removeClass)(this.element,"active")}},{key:"doDisable",value:function(){(0,g.addClass)(this.element,"disabled")}},{key:"doEnable",value:function(){(0,g.removeClass)(this.element,"disabled")}},{key:"doDestroy",value:function(){this.remove()}},{key:"doHidden",value:function(){this.addCSSClass("fv__ui-hide")}},{key:"doShown",value:function(){this.removeCSSClass("fv__ui-hide")}},{key:"getConfig",value:function(e){return"string"==typeof filed?this.$options:this.$options[e]}},{key:"addCSSClass",value:function(e){e&&(0,g.addClass)(this.element,e)}},{key:"removeCSSClass",value:function(e){e&&(0,g.removeClass)(this.element,e)}},{key:"attachEventToElement",value:function(e,t,n,i){var r=t.split(/[\s,;]+/).map((function(t){return e.addEventListener(t,n,i),function(){e.removeEventListener(t,n,i)}})),o=g.noop,a=function(){r.forEach((function(e){e()})),o()};return o=this.addDestroyHook(a),a}},{key:"setAttribute",value:function(e,t){this.element.setAttribute?this.element.setAttribute(e,t):this.element[e]=t}},{key:"getAttribute",value:function(e){return this.element.getAttribute?this.element.getAttribute(e):this.element[e]}},{key:"removeAttribute",value:function(e){this.element&&this.element.removeAttribute(e)}},{key:"getDomElement",value:function(){return this.element}},{key:"localize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.localizer;return this.doLocalize(e)}},{key:"doLocalize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.localizer,t=this;return(0,r._)((function(){var n,i,r;return(0,f.Jh)(this,(function(o){switch(o.label){case 0:return n=t._localizeWatchers.map((function(e){return e.update()})),i=t.texts.map((function(e){return e.localize()})),t.element?(t.trigger("localize",e),r=e.localizeRecursive(t.element,{})):r=Promise.resolve(),[4,Promise.all(n.concat(i).concat(r))];case 1:return o.sent(),[2]}}))}))()}},{key:"watchI18n",value:function(e,t){"string"==typeof e&&(e={key:e,force:!0,immediate:!0});var n=e.key,i=e.data,r=e.force,o=void 0===r||r,a=e.immediate,s=void 0===a||a,c=this._localizeWatchers;if(o&&c.length>0){var u=c.find((function(e){return e.key===n&&e.force}));u&&u.destroy()}var l=this.localizer.watcher(n,i);return l.key=n,l.force=o,l.onChange(t),c.push(l),l.addDestroyHook((function(){var e=c.indexOf(l);e>-1&&c.splice(e,1)})),s&&l.update(),function(){l.destroy()}}},{key:"prelink",value:function(){this.dispatchLifecycleChange(E.prelink),this.controller.prelink()}},{key:"postlink",value:function(){this.dispatchLifecycleChange(E.postlink),this.update(),this.controller.postlink()}},{key:"update",value:function(){this.updateDisableStatus(),this.updateVisiblityStatus()}},{key:"updateActiveStatus",value:function(){var e=this.isActive,t=this.$options.active;"function"==typeof t&&(e=t.call(this)),!1===e?this.doDeactive():this.doActive()}},{key:"updateVisiblityStatus",value:function(){var e=this.isVisible,t=this.$options.visible;"function"==typeof t&&(e=t.call(this)),!1===e?this.doHidden():this.doShown()}},{key:"updateDisableStatus",value:function(){var e=this.disabled,t=this.$options.disabled;"function"==typeof t&&(e=t.call(this)),!1===e?this.doEnable():this.doDisable()}},{key:"acceptText",value:function(){return!1}},{key:"appendText",value:function(e){e.parent=this,this.texts.push(e)}},{key:"renderText",value:function(){}},{key:"removeText",value:function(e){var t=this.texts.indexOf(e);return t>-1&&(this.texts.splice(t,1),e.removeElement(),e.trigger(y.qo.REMOVED,this,e),!0)}},{key:"specialEscape",value:function(e){return"string"!=typeof e?e:e.replace(/[<>&"]/g,(function(e){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[e]}))}},{key:"setText",value:function(e){if(this.acceptText()){this.texts.slice(0).forEach((function(e){e.destroy()})),e=this.specialEscape(e);var t=this.context.parser.createPlainTextNode(e);t.parent=this.node;var n=this.context.parser.parseTextNode(t);this.text=void 0,this.texts=[n],this.renderText()}}},{key:"getText",value:function(){return!this.text&this.texts.length>0?this.texts[0].textContent:this.text}},{key:"sync",value:function(e,t){if(0===e.indexOf("attr.")){var n=e.substring(5);return this.setAttribute(n,t),"data-i18n"===n&&this.localize(),!0}if(0===e.indexOf("prop."))return this[e.substring(5)]=t,!0;switch(e){case"disabled":this.syncDisableStatus(t);break;case"visible":this.syncVisibleStatus(t);break;case"canBeDisabled":this.syncCanBeDisabledStatus(t);break;case"active":this.syncActiveStatus(t);break;case"text":if(this.acceptText())return this.setText(t),!0;default:return!1}return!0}},{key:"syncDisableStatus",value:function(e){e?this.disable():this.enable()}},{key:"syncVisibleStatus",value:function(e){e?this.show():this.hide()}},{key:"syncCanBeDisabledStatus",value:function(e){!e&&this.disabled&&this.enable(),this.canBeDisabled=e}},{key:"syncActiveStatus",value:function(e){e?this.active():this.deactive()}},{key:"getTooltipAnchor",value:function(){return this.getDomElement()}},{key:"isLifecycleReached",value:function(e){return!!this.lifecycleStates[e]}},{key:"waitForComponentLifecycle",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.getRoot();return i===this?Promise.resolve([]):i.waitForComponentLifecycle(e,t,n)}},{key:"dispatchLifecycleChange",value:function(e){this.context.store.dispatch(this._getLifecycleDispatchKey(e),this),this.lifecycleStates[e]=!0}},{key:"_getLifecycleDispatchKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.name;return"".concat("comp-lcu","-").concat(t,"-").concat(e)}},{key:"isDOMVisible",value:function(){switch(this.element.nodeType){case Node.CDATA_SECTION_NODE:case Node.TEXT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:return this.parent&&this.parent.isDOMVisible();case Node.COMMENT_NODE:case Node.NOTATION_NODE:case Node.ATTRIBUTE_NODE:return!1;case Node.ELEMENT_NODE:return this.element.getClientRects().length>0;case Node.DOCUMENT_NODE:return!0}return!1}},{key:"isAncestorOf",value:function(e){return(0,l._)(e,p)&&e.isDescendantOf(this)}},{key:"isDescendantOf",value:function(e){if(!(0,l._)(e,p))return!1;for(var t=this.parent;t;){if(t===e)return!0;t=t.parent}return!1}},{key:"getComponentsPool",value:function(){return this.context.pool}},{key:"getRenderingElements",value:function(){return[this.element]}},{key:"setPluginData",value:function(e){this._pluginData=e}},{key:"getPluginData",value:function(){return this._pluginData}},{key:"setPluginEnableHook",value:function(e){this._pluginEnableHook=e}},{key:"digest",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.isMounted;if(this.controller)return this.controller.digest(e)}},{key:"watch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return this.controller?this.controller.watch(e,t,n,i):function(){}}},{key:"applyAll",value:function(){if(this.controller)return this.controller.applyAll()}},{key:"getServiceOf",value:function(e){var t;return this.$services.some((function(n){return!!(0,l._)(n,e)&&(t=n,!0)})),!t&&this.parent?this.parent.getServiceOf(e):t}},{key:"getClosestParentByName",value:function(e){if(!e)return null;for(var t=this.component;t=t.parent;)if(t.name===e)return t;return null}},{key:"focus",value:function(){this.element.focus()}},{key:"hasFocus",value:function(){return this.element&&this.element.contains(document.activeElement)}},{key:"is",value:function(e){if("string"!=typeof e)return!1;var t,n=e.split(":"),i="";if(1===n.length)t=n[0];else{if(2!==n.length)return!1;i=n[0],t=n[1]}return this.module.name===i&&this.nodeName===t}},{key:"lazyLoad",value:function(){return this}},{key:"useJQuery",value:function(e){return(0,g.useJQuery)(this,e)}}],[{key:"getName",value:function(){(0,g.notImplemented)()}},{key:"extend",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.getName=function(){return e},(0,g.createClass)(t,this,n)}},{key:"preprocess",value:function(e){}},{key:"getMetadata",value:function(){return{deprecated:!1,options:{disabled:{type:"boolean",defaultValue:!1},visible:{type:"boolean",field:"isVisible",defaultValue:!0},canBeDisabled:{type:"boolean",defaultValue:!0},active:{type:"boolean",field:"isActive",defaultValue:!1},"alias-name":{type:"array",field:"aliasNames",defaltValue:[]}}}}},{key:"getMetadataResolver",value:function(){return this.$metadata||(this.$metadata=new _.z(this)),this.$metadata}},{key:"isFake",value:function(){return!1}},{key:"handleParseError",value:function(){}},{key:"services",value:function(){}}]),p}(m.Z),E={prelink:"prelink",postlink:"postlink",mounted:"mounted",destroyed:"destroyed",render:"render"},S={visibility:"visibility",available:"available",none:"none"};function I(e){switch(e){case x.s.AVAILABLE:case x.s.VISIBILITY:case x.s.ACTIVATION:break;default:throw new TypeError("Incorrect KeepStateKind: ".concat(e,", "))}}},1406:(e,t,n)=>{"use strict";n.d(t,{z:()=>P});var i=n(9227),r=n(7424),o=n(5843),a=n(4919),s={},c={},u=/[A-Z]/g;function l(e,t){return 0===t?e.toLowerCase():"-"+e.toLowerCase()}function A(e,t){if(t in e)return e[t];var n=t.toLowerCase();if(n in e)return e[n];var i=c[t];return i||(i=t.replace(u,l),c[t]=i),i in e?e[i]:s}function d(e,t,n){var i=n.field||t,r=e.$options;return i in r?r[i]:t in r?r[t]:A(e.attrs,t)}function h(e,t,n){var i=d(e,t,n),r=n.separator||",";if(Array.isArray(i)||"string"==typeof i&&(i=i.split(r)),Array.isArray(i)||(i=n.defaultValue),!Array.isArray(i)&&n.required)throw new Error("Illegal component parameter(".concat(t,"): ").concat(t," is an array and also required for <").concat(e.name,">!"));return i||[]}function f(e,t,n){var i=d(e,t,n);if(i===s)return void 0!==n.defaultValue&&n.defaultValue;if("string"==typeof i&&(i=0==(i=i.trim().toLowerCase()).length||(!0===n.defaultValue?"false"!==i:"true"===i)),"boolean"!=typeof i&&(i=n.defaultValue),"boolean"!=typeof i&&n.required)throw new Error("Illegal component parameter(".concat(t,"): ").concat(t," is required for <").concat(e.name,">"));return i}function p(e,t,n){var i=d(e,t,n);if((i===s||"string"!=typeof i)&&n.required)throw new Error("Illegal component parameter(".concat(t,"): ").concat(t," is required for <").concat(e.name,">"));if("string"!=typeof i&&(i=n.defaultValue),"lower"===n.case?i=i.toLowerCase():"upper"===n.case&&(i=i.toUpperCase()),n.match){var r=n.match;if("string"==typeof n.match&&(r=new RegExp(r)),(0,o._)(r,RegExp)&&!r.test(i))throw new Error("Illegal component parameter(".concat(t,"): ").concat(i," doesn't match regex: ").concat(r))}return i}function v(e,t,n){var i=d(e,t,n);if((i===s||"string"!=typeof i)&&n.required)throw new Error("Illegal component parameter(".concat(t,"): ").concat(t," is required for <").concat(e.name,">"));"string"!=typeof i&&(i=n.defaultValue),"lower"===n.case?i=i.toLowerCase():"upper"===n.case&&(i=i.toUpperCase());var r=n.enums||[];if(-1==r.indexOf(i))throw new Error("'".concat(i,"' is not in list of valid values: [").concat(r.join(","),"]"));return i}function g(e,t,n){var i,r=n.min,o=n.max;isFinite(r)||(r=-1/0),isFinite(o)||(o=1/0),r=(i=[Math.min(r,o),Math.max(r,o)])[0],o=i[1];var a=Number(d(e,t,n));if("number"!=typeof a&&n.required)throw new Error("Illegal component parameter(".concat(t,"): ").concat(t," is required for <").concat(e.name,">"));if(("number"!=typeof a||isNaN(a))&&(a=n.defaultValue),a<r||a>o)throw new Error("Illegal component parameter(".concat(t,"): ").concat(a," is out of range [").concat(r,", ").concat(o,"]"));return a}function m(e,t,n){var i=Number(d(e,t,n));if("number"!=typeof i&&n.required)throw new Error("Illegal component parameter(".concat(t,"): ").concat(t," is required for <").concat(e.name,">"));if(("number"!=typeof i||isNaN(i))&&(i=n.defaultValue),void 0===i&&!n.required)return i;if(isNaN(i)||!isFinite(i))throw new Error("Illegal component parameter(".concat(t,"): ").concat(i," is not a valid number for <").concat(e.name,">"));return i}function y(e,t,n){var i=n.field||t;if(i in e.$options){var r=e.$options[i];if(!r&&n.required)throw new Error("Illegal component parameter(".concat(t,"): ").concat(t," is required for <").concat(e.name,">"));if("function"!=typeof r)throw new Error("Illegal component parameter(".concat(t,"): ").concat(r," is not a function"));return r}var o=A(e.attrs,t);if(o==s&&n.required)throw new Error("Illegal component parameter(".concat(t,"): ").concat(t," is required for <").concat(e.name,">"));if(o!==s){var c=[];if("string"==typeof n.args)c.push(n.args);else if(Array.isArray(n.args)){var u;(u=c).push.apply(u,(0,a._)(n.args))}return function(){var t=arguments;return e.controller.eval(o,c.reduce((function(e,n,i){return e[n]=t[i],e}),{$args:Array.prototype.slice.call(arguments,0)}))}}return n.defaultValue}function _(e,t,n){var i=d(e,t,n);if(void 0===i&&(i=n.defaultValue),(i===s||void 0===i)&&n.required)throw new Error("Illegal component parameter(".concat(t,"): ").concat(t," is required for <").concat(e.name,">"));if(i!==s)return i}function b(e,t,n){var i=d(e,t,{});return n.call(e,e,t,i===s?void 0:i)}var w=function(){function e(t){(0,i._)(this,e),this.resolvers=[],this.init(t)}return(0,r._)(e,[{key:"init",value:function(e){for(var t in e){var n=e[t],i=this.getResolver(n);this.resolvers.push({field:n.field||t,name:t,config:n,resolve:i})}}},{key:"getResolver",value:function(e){if("function"==typeof e)return b;switch(e.type){case"boolean":return f;case"string":return p;case"range":return g;case"number":return m;case"function":return y;case"enum":return v;case"array":return h;default:return _}}},{key:"resolve",value:function(e){this.resolvers.forEach((function(t){e[t.field]=t.resolve(e,t.name,t.config)}))}}]),e}(),k=n(2473);function x(e){if(e===k.wA)return k.wA.getMetadata();var t=x(Object.getPrototypeOf(e.prototype).constructor),n=e.getMetadata();return{options:Object.assign({},t.options,n.options)}}var P=function(){function e(t){(0,i._)(this,e);var n=this._resolveMetadata(t);this.optionsResolver=new w(n.options)}return(0,r._)(e,[{key:"_resolveMetadata",value:function(e){return x(e)}},{key:"resolve",value:function(e){this.optionsResolver.resolve(e)}}]),e}()},3667:(e,t,n)=>{"use strict";n.d(t,{Q:()=>F});var i=n(1540),r=n(5578),o=n(9227),a=n(7424),s=n(6905),c=n(9418),u=n(5467),l=n(5376),A=n(7582),d=n(7984),h=n(1182),f="$$is_overrided",p={};function v(e){if(!m(e))for(var t in y(e,"$set",_),y(e,f,!0),p)y(e,t,p[t])}function g(e){void 0===e.$$modCount&&(y(e,"$$modCount",0),y(e,"$$currentMod",void 0)),e.$$modCount++}function m(e){return!!e[f]}function y(e,t,n){var i=n;Object.defineProperty(e,t,{get:function(){return i},set:function(e){i=e},enumerable:!1,configurable:!1})}function _(e,t){this[e]!==t&&(this.$$prev=this.slice(0),this[e]=t,g(this))}["push","splice","unshift","shift","pop","reverse","sort"].forEach((function(e){var t=Array.prototype[e];"function"==typeof t&&(p[e]=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return this.$$prev=this.slice(0),g(this),t.apply(this,n)})}));var b=n(5843),w=n(6663),k=n(9378),x=n(7173),P=["window","document","top","setTimeout","setInterval","Function","eval","self","globalThis","global"],C=["location","screen"],D=window.Function,E=function(){var e=function(e){d.LoggerFactory.getLogger("inline-expression").warn('Accessing insecure field is not allowed: "'.concat(e,'"!'))};if(window.Proxy){var t=P.reduce((function(e,t){return e[t]=!0,e}),{});return new window.Proxy(window,{has:function(e,n){return t[n]},get:function(t,n){var i=t[n];return(0,b._)(i,Window)||(0,b._)(i,Document)||i===setTimeout||i===setInterval||i===Function||i===eval?(e(n),null):i}})}var n={};return P.forEach((function(t){Object.defineProperty(n,t,{get:function(){e(t)}})})),n}(),S=new D("return ({__proto__: null}) instanceof Object;")();function I(e,t){for(var n=[t],i=e,r=t;i;){var o=i.__proto__;if(o===Object.prototype||o===i||null==o)break;r+=".__proto__",n.push(r),i=o}return n.reduce((function(e,t){return"with(".concat(t,"){\n            ").concat(e,"\n        };")}),"{block-place}")}var T,R=(T=0,function(e){return e+"_"+(T++).toString(16)});var M=d.LoggerFactory.getLogger("Controller"),F=function(e){(0,u._)(n,e);var t=(0,l._)(n);function n(e){var r;return(0,o._)(this,n),(r=t.call(this)).component=e,r.data=Object.assign({},e.$options.$initData||{}),r.methods={},r.$$sources={},r.$$code={},r.subControllers=[],r.addDestroyHook((function(){var e=r.$$sources;for(var t in e){e[t].destroy()}r.$$sources={},r.$$code={}})),d.Lazy.property((0,i._)(r),"root",(function(){return e.getRoot()})),r.freeze(!1),r.$$watches=[],e.parent&&r.setParentScope(e.parent.controller),r.$$debounceTaskExecutor=new d.DebounceAsyncTaskExecutor(10),r}return(0,a._)(n,[{key:"getComponentByName",value:function(e){return this.component.getRoot().getComponentByName(e)}},{key:"eval",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=e.trim(),this.compileCode(e).call(this,t).transformed}},{key:"watch",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;if("function"!=typeof t)throw new TypeError("Illigal argument: callback must be a function");var o=new Error,a=this.compileCode(e),s=void 0,c=void 0,u=-1,l=function(){if(!n.isFreezed()){var l=function(){try{return r?a.call(null,r):a()}catch(t){d.LoggerFactory.getLogger(n.constructor.getName()).error("execute expression error",e,t,o)}}();if(l){var A=l.transformed,h=s,f=c;if(s=A,i){var p=JSON.stringify(A);c=p,p!==f&&t(A,h)}else Array.isArray(A)?(v(A),A==h&&A.$$modCount===u||(u=A.$$modCount,t(A,A.$$prev||h))):A!==h&&t(A,h)}}};l.$expression=e,this.$$watches.push(l);var A=function(){var e=n.$$watches.indexOf(l);e>-1&&n.$$watches.splice(e,1)};return A.invoke=l,this.addDestroyHook(A),A}},{key:"watchImm",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,r=this.watch(e,t,n,i);return r.invoke(),r}},{key:"set",value:function(e,t,n){v(e),e.$set(t,n),this.digest()}},{key:"digest",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.component||this.component.isMounted,n=this,i=(e=(0,r._)((function(){return(0,A.Jh)(this,(function(e){switch(e.label){case 0:return n.isFreezed()?[2]:[4,Promise.all(n.$$watches.map((function(e){return e()})))];case 1:return e.sent(),[4,Promise.all(n.subControllers.map((function(e){var t=e.deref();if(t)return t.digest()})))];case 2:return e.sent(),[2]}}))})),function(){return e.apply(this,arguments)});return t?i():this.$$debounceTaskExecutor.exec(i)}},{key:"applyAll",value:function(){var e=this;this.digest(),this.component.isContainer()&&this.component.$container.each((function(t){t.controller!==e.component.controller&&t.controller.applyAll()}))}},{key:"compileCode",value:function(e){try{return function(e,t){if(t[e])return t[e];var n,i=(0,w._)((0,x.a)(e)),r=i[0],o=i.slice(1),a=R("_self"),s=R("_sandbox"),c=R("_tempValue"),u="return (function(".concat(c,") {\n            ").concat(c," = ").concat(c," || {};\n            with(").concat(c,") {\n                with(").concat(a,".methods) {\n                    return (function(){\n                        'use strict';\n                        return {code};\n                    }).call(this)\n                }\n            }\n        }).bind(").concat(s,");").replace(/[\r\n]/g,"").replace("{code}",(function(){return r}));if(S){var l=R("_createDynamicWithBlock"),A=R("_Fn"),d=u.replace(/(?!\\)'/g,"\\'");n=new D(l,A,a,"\n                var ".concat(s," = ").concat(a,"._sandbox();\n                var dynamicCode = ").concat(l,"(").concat(s,", '").concat(s,"')\n                                    .replace('{block-place}', '").concat(d,"');\n                dynamicCode = 'with(").concat(s,".$secure) {' + dynamicCode + '}';\n                return new ").concat(A,"('").concat(s,"','").concat(a,"', dynamicCode).call(null, ").concat(s,", ").concat(a,")\n            ")).bind(null,I,D)}else n=new D(a,"\n                var ".concat(s," = ").concat(a,"._sandbox();\n                with(").concat(s,".$secure) {\n                    with(").concat(s,") {\n                        ").concat(u,"\n                    }\n                }\n            "));if(o.length>0){var h=new k.B(o);return t[e]=function(e){var t=n.call(this,e);return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var o;switch(i.length){case 0:o=t.call(this);break;case 1:o=t.call(this,i[0]);break;case 2:o=t.call(this,i[0],i[1]);break;case 3:o=t.call(this,i[0],i[1],i[2]);break;default:o=t.apply(this,i)}return{value:o,transformed:h.transform(o,e)}}}}return t[e]=function(e){var t=n.call(this,e);return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r;switch(n.length){case 0:r=t.call(this);break;case 1:r=t.call(this,n[0]);break;case 2:r=t.call(this,n[0],n[1]);break;case 3:r=t.call(this,n[0],n[1],n[2]);break;default:r=t.apply(this,n)}return{value:r,transformed:r}}}}(e,this.$$code).call(this,this)}catch(t){throw M.warn("compile code error",e),t}}},{key:"_sandbox",value:function(){var e=this;function t(){}t.prototype=this.data;var n=new t,i={};return C.forEach((function(e){i[e]={get:function(){return window[e]}}})),r("$secure",E),r("$controller",this),r("$this",this),r("$rootComponent",this.root),r("$root",this.root.controller.data),r("$component",this.component),r("$data",this.data),r("$pdfui",this.pdfUI),r("$$",(function(t){return e.getComponentByName(t)})),Object.defineProperties(n,i),n;function r(e,t){i[e]={get:function(){return t}}}}},{key:"setTimeout",value:function(e,t){var n=this;if("function"!=typeof e)throw new TypeError("Illegal argument: callback is not a function");var i=setTimeout((function(){try{e()}finally{n.digest()}}),t);return function(){return clearTimeout(i)}}},{key:"setInterval",value:function(e,t){var n=this;if("function"!=typeof e)throw new TypeError("Illegal argument: callback is not a function");var i=setInterval((function(){try{e()}finally{n.digest()}}),t);return function(){return clearInterval(i)}}},{key:"getDataSource",value:function(e){e=e.trim();var t=this.$$sources[e];if(t)return t;var n=e.split("."),i="",r=n.slice(0,n.length-1).reduce((function(e,t){if(null==e)throw new Error("cannot access ".concat(t," from '").concat(e,"': ").concat(i," "));return i=i?"".concat(i,".").concat(t):t,e[t]}),this.data),o=n[n.length-1];return this.$$sources[e]=new h.Z(r,o)}},{key:"setParentScope",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.$parent===e&&!t)return!1;if(this.$parent=e,e){if(e.addSubController(this),this.data.isPrototypeOf(e.data)||this.data===e.data)return!1;this.data=n(this.data,e.data),this.methods=n(this.methods,e.methods),this.data.$parent=e.data}else this.data=n(this.data,Object.prototype),this.methods=n(this.methods,Object.prototype),this.data.$parent=null;return!0;function n(e,t){return null==t&&(t=Object.prototype),Object.setPrototypeOf?(Object.setPrototypeOf(e,t),e):Object.create(t,Object.getOwnPropertyDescriptors(e))}}},{key:"addSubController",value:function(e){if(!this.isPrototypeOf(e)){var t=this.subControllers.findIndex((function(t){return t.deref()===e}));t>-1?this.subControllers.splice(t,1):this.subControllers.push(new WeakRef(e))}}},{key:"prelink",value:function(){(0,d.noop)()}},{key:"postlink",value:function(){(0,d.noop)()}},{key:"mounted",value:function(){this.digest()}},{key:"destroy",value:function(){(0,s._)((0,c._)(n.prototype),"destroy",this).call(this),this.$$debounceTaskExecutor.cancel(),d.Lazy.release(this,"root")}},{key:"handle",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];(0,d.noop)(t)}},{key:"uninstall",value:function(){this.destroy()}},{key:"freeze",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.data.$$freezed=e}},{key:"isFreezed",value:function(){return this.data.$$freezed}},{key:"useJQuery",value:function(e){return(0,d.useJQuery)(this,e)}}],[{key:"extend",value:function(e,t){return(0,d.createClass)(e,this,t)}},{key:"getName",value:function(){(0,d.notImplemented)()}},{key:"isFake",value:function(){return!1}},{key:"permission",get:function(){return 4294967295}},{key:"services",value:function(){}}]),n}(d.Disposable)},6557:(e,t,n)=>{"use strict";n.d(t,{X:()=>u});var i=n(9227),r=n(7424),o=n(5467),a=n(9256),s=n(5376),c=n(7984);var u=function(e){(0,o._)(n,e);var t=(0,s._)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.module,s=r.localizer,u=r.node,l=r.parentComponent,A=r.attrValue,d=r.subName,h=r.attrName;return(0,i._)(this,n),(e=t.call(this)).node=u,e.module=o,e.localizer=s,e.parentComponent=l,e.subName=d,e.modifiers=e._parseModifiers(u,d),e.attrValue=A,e.attrName=h,e.isParser=!1,e.order=1,e.directiveName=e.constructor.getName(),e.dynamics=new Proxy({},{get:function(t,n){if("symbol"===(void 0===n?"undefined":(0,a._)(n)))return c.noop;var i=e.constructor.getName()+"@"+function(e){return e.replace(/([^-])([A-Z])/g,(function(e,t,n){return t+"-"+n.toLowerCase()}))}(n);return u&&u.hasAttribute(i)?function(t){var n=u.getAttribute(i);return(e.constructor.isParser()?e.parentComponent:e.component).controller.eval(n,t)}:c.noop}}),e}return(0,r._)(n,[{key:"_parseModifiers",value:function(e,t){return e&&e.modifiers?e.modifiers:t?t.split(".").reduce((function(e,t){return e[t]=!0,e}),{}):{}}},{key:"findClosestDirective",value:function(e,t){var n=this.parentComponent;if("string"==typeof t)for(;n;){if(!!n.directive.findDirective(t))return;var i=n.directive.findDirective(e);if(i)return i;n=n.parent}else for(;n;){var r=n.directive.findDirective(e);if(r)return r;n=n.parent}}},{key:"processComponentOptions",value:function(e){}},{key:"parseComponent",value:function(){}},{key:"init",value:function(e){(this.component=e,this.controller=e.controller,this.directiveOption=e.$options[this.directiveName]||{},this.constructor.services())&&e.context.ioc.initInstance(this)}},{key:"emit",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,i=this.component.parent;i&&i.directive.receiveEmit(n,e,t)}},{key:"receiveEmit",value:function(e,t,n){}},{key:"broadcast",value:function(e,t){this.component.isContainer()&&this.component.children().forEach((function(n){n.directive.receiveBroadcast(e,t)}))}},{key:"receiveBroadcast",value:function(e,t){}},{key:"beforeComponentRender",value:function(){(0,c.noop)()}},{key:"afterComponentRender",value:function(){(0,c.noop)()}},{key:"componentPrelink",value:function(){(0,c.noop)()}},{key:"componentPostlink",value:function(){(0,c.noop)()}},{key:"componentMounted",value:function(){(0,c.noop)()}},{key:"componentDestroyed",value:function(){this.destroy()}},{key:"toString",value:function(){return"".concat(this.attrName,'="').concat(this.attrValue,'"')}}],[{key:"getName",value:function(){return(0,c.notImplemented)(this.name+".getName"),""}},{key:"services",value:function(){return{}}},{key:"isParser",value:function(){return!1}},{key:"isFake",value:function(){return!1}}]),n}(c.Disposable)},909:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(9227),r=n(7424),o=n(5467),a=n(5376),s=n(2958),c=n(7984),u=c.LoggerFactory.getLogger("pdf-ui.Layout"),l=function(e){(0,o._)(n,e);var t=(0,a._)(n);function n(){return(0,i._)(this,n),t.apply(this,arguments)}return(0,r._)(n,[{key:"insert",value:function(e,t,n){var i=t.children;n=Math.max(0,Math.min(n,i.length-1));var r=i.item(n);t.insertBefore(e,r)}},{key:"render",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;e=e.slice(0);var r=t.children,o=r[n+i];o||(o=e.pop())&&t.appendChild(o);for(var a=n,s=a+i;a<s;a++){var c=r.item(a);if(c!==o){var l=e.indexOf(c);c&&-1==l&&t.removeChild(c)}}e.reduceRight((function(e,n){try{t.insertBefore(n,e)}catch(i){throw u.error(t,n,e),i}return n}),o)}}],[{key:"getName",value:function(){(0,c.notImplemented)()}}]),n}(s.Z)},2958:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(9227),r=n(7424),o=n(5467),a=n(5376),s=n(7984),c=function(e){(0,o._)(n,e);var t=(0,a._)(n);function n(){return(0,i._)(this,n),t.apply(this,arguments)}return(0,r._)(n,[{key:"render",value:function(){(0,s.notImplemented)()}}]),n}(s.Disposable)},510:(e,t,n)=>{"use strict";n.d(t,{Fc:()=>r,KJ:()=>s,M4:()=>c,W4:()=>u,gC:()=>i,oB:()=>o,qo:()=>l,u7:()=>a});var i="horizontal",r="",o=":",a="localize",s="activation",c={BEFORE:"before",AFTER:"after",APPEND:"append",PREPEND:"prepend",INSERT:"insert",FILL:"fill",REPLACE:"replace",EXT:"ext",REMOVE:"remove"},u={THROW_ERROR_IF_NOT_FOUND:"throw",LOG_MESSAGE_IF_NOT_FOUND:"warn",IGNORE_IF_NOT_FOUND:"ignore"},l={DISABLE:"disable",ENABLE:"enable",ACTIVE:"active",DEACTIVE:"deactive",SHOWN:"shown",HIDDEN:"hidden",CANCEL:"cancel",DESTROYED:"destroyed",REMOVED:"removed",CHILD_INSERTED:"child_inserted",INSERTED:"inserted",MOUNTED:"mounted",CLOSED:"closed",EXPAND:"expand",BEFORE_EXPAND:"before_expand",RESIZESTART:"resizestart",RESIZE:"resize",COLLAPSE:"collapse"}},1182:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(9227),r=n(7424),o=n(5467),a=n(5376),s=n(6905),c=n(9418),u=n(7984),l=function(e){(0,o._)(n,e);var t=(0,a._)(n);function n(e,r){var o;return(0,i._)(this,n),(o=t.call(this,e,r)).preValue=e[r],o}return(0,r._)(n,[{key:"prepare",value:function(){var e=this.subject,t=this.part,n=Object.getOwnPropertyDescriptor(e,t);!n||n.configurable?this.inteceptGetterSetter(e,n):this.prepareTimmerWatcher(e)}},{key:"inteceptGetterSetter",value:function(e,t){var n=this.part,i=e[n],r=this,o=this.hasOwnKey=!!t,a={get:function(){return o?i:Object.getPrototypeOf(e)[n]},set:function(e){o=!0;var t=i;i=e,e!==t&&r.notify(e,t)},configurable:!0};Object.defineProperty(e,n,a),t?this.addDestroyHook((function(){Object.defineProperty(e,n,t)})):this.addDestroyHook((function(){delete e[n]}))}},{key:"prepareTimmerWatcher",value:function(e){var t=this,n=e[key],i=setInterval((function(){var i=e[key];i!==n&&t.notify(key,i,n)}),5);this.addDestroyHook((function(e){return clearInterval(i)}))}}]),n}(function(e){(0,o._)(n,e);var t=(0,a._)(n);function n(e,r){var o;return(0,i._)(this,n),(o=t.call(this)).subject=e,o.part=r,o.destinations=[],o.preValue=void 0,o.prepare(),o}return(0,r._)(n,[{key:"prepare",value:function(){(0,u.notImplemented)()}},{key:"destroy",value:function(){(0,s._)((0,c._)(n.prototype),"destroy",this).call(this),this.disconnectAll()}},{key:"notify",value:function(e,t){var n=this;this.isFreezed||(this.preValue=e,this.destinations.forEach((function(i){return i.receive(e,t,n)})))}},{key:"connect",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.destinations.push(e),n&&e.receive(this.preValue,this.preValue,this),function(){var n=t.destinations.indexOf(e);n>-1&&(t.destinations.splice(n,1),e.lost(t))}}},{key:"freeze",value:function(){var e=this;return this.isFreezed=!0,function(){e.isFreezed=!1}}},{key:"disconnectAll",value:function(){var e=this;this.destinations.forEach((function(t){return t.lost(e)})),this.destinations=[]}}]),n}(u.Disposable))},7469:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ee});var i=n(9227),r=n(7424),o=n(5467),a=n(4919),s=n(5376),c=function(){function e(t){(0,i._)(this,e),this.options=t}return(0,r._)(e,[{key:"selectFrom",value:function(e,t){return[]}}]),e}(),u=function(e){(0,o._)(n,e);var t=(0,s._)(n);function n(e){var r;return(0,i._)(this,n),(r=t.call(this,null,null)).selectors=(0,a._)(e),r}return(0,r._)(n,[{key:"selectFrom",value:function(e){return this.selectors.reduce((function(t,n){return n.selectFrom(e).forEach((function(e){-1===t.indexOf(e)&&t.push(e)})),t}),[])}}]),n}(c),l="[\\x20\\t\\r\\n\\f]",A="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",d="".concat(l,"*(").concat(A,")"),h="".concat(l,"*([*^$|!~]?=)").concat(l,"*"),f="".concat("'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"","|(").concat(A,")"),p="\\[".concat(d,"(?:").concat(h,"(?:").concat(f,")|)").concat(l,"*\\]"),v="::(".concat(A,")(?:\\(([^\\(\\)]*?|`[^`]*?`)\\))"),g=new RegExp("^".concat(l,"+")),m=new RegExp("^".concat(l,"*(\\>)").concat(l,"*")),y=new RegExp("^@((".concat(A,"):)?(").concat(A,")")),_=new RegExp("^".concat(A,"(:").concat(A,")?")),b=new RegExp("^".concat(p)),w=new RegExp("^".concat(v)),k=new RegExp("^".concat(l,"+|((?:^|[^\\\\])|(?:\\\\.)*)").concat(l,"+$"),"g"),x=new RegExp("^!root"),P=new RegExp("^:::(css)(?:\\(`([^`]*?)`\\))","i");var C,D=[function(e){if("*"===e[0])return{type:"all",token:"*",options:{},step:1}},function(e){var t=m.exec(e);if(t)return{type:"dchildren",token:t[0],step:t[0].length}},function(e){var t=g.exec(e);if(t)return{type:"whitespace",token:t[0],step:t[0].length}},function(e){var t=_.exec(e);if(t)return{type:"name",token:t[0],options:{name:t[0]},step:t[0].length}},function(e){var t=y.exec(e);if(t)return{type:"type",token:t[0],options:{type:t[3],module:t[2]},step:t[0].length}},function(e){var t=b.exec(e);if(t)return{type:"attribute",token:t[0],options:{key:t[1],compare:t[2],value:t[3]||t[4]||t[5]},step:t[0].length}},function(e){var t=P.exec(e);if(t)return{type:"css",token:t[0],options:{name:"css",parameter:t[2]},step:t[0].length}},function(e){var t=w.exec(e);if(t)return{type:"method",token:t[0],options:{name:t[1],parameter:t[2]},step:t[0].length}},function(e){var t=x.exec(e);if(t)return{type:"root",token:t[0],options:{},step:t[0].length}}],E=function(){function e(){(0,i._)(this,e)}return(0,r._)(e,[{key:"tokenize",value:function(e){for(var t=e.replace(k,"$1"),n=[];t.length>0;){var i=!1,r=!0,o=!1,a=void 0;try{for(var s,c=D[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var u=(0,s.value)(t);u&&(i=!0,t=t.substring(u.token.length),n.push(u))}}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}if(!i)throw new Error("'".concat(e,"' is not a valid selector: at ").concat(e.length-t.length))}return n}}]),e}(),S=n(5843),I=n(5923),T=n(2473),R=function(e){return!0},M=function(e){(0,o._)(n,e);var t=(0,s._)(n);function n(){return(0,i._)(this,n),t.apply(this,arguments)}return(0,r._)(n,[{key:"selectFrom",value:function(e){return e.reduce((function(e,t){if((0,S._)(t,T.wA)){if((t=t.lazyLoad()).isContainer())return e.concat(t.findChildren(R,!1,!0))}else if((0,S._)(t,I.Z))return e.concat(t.findChildren(R,!1));return e}),[]).reduce((function(e,t){return-1==e.indexOf(t)&&e.push(t),e}),[])}}]),n}(c),F=function(e){(0,o._)(n,e);var t=(0,s._)(n);function n(e){var r;return(0,i._)(this,n),(r=t.call(this,e)).name=e.name,r}return(0,r._)(n,[{key:"selectFrom",value:function(e,t){var n=this;return t?e.reduce((function(e,t){if((0,S._)(t,I.Z))return e.concat(t.findChildren((function(e){return e.attrs.name===n.name}),!0));var i=t.getAllComponentsByName(n.name);return i?e.concat(i):e}),[]):e.filter((function(e){return(0,S._)(e,I.Z)?e.attrs.name===n.name:e.name===n.name}))}}]),n}(c),N=n(510),L=function(e){(0,o._)(n,e);var t=(0,s._)(n);function n(e){var r;return(0,i._)(this,n),(r=t.call(this,e)).type=e.type,r.moduleName=e.module||N.Fc,r}return(0,r._)(n,[{key:"selectFrom",value:function(e,t){var n=this,i=function(e){return(e.module.name===n.moduleName||e.fragmentModule&&e.fragmentModule.name===n.moduleName)&&(e.nodeName===n.type||e.nestName===n.type||e.fragmentType===n.type)},r=function(e){var t,i;e.isLazyComponent?t=(i=e.originNode).nodeName:(i=e.node,t=e.constructor.getName());var r=i.namespace,o=i.fragmentType,a=i.fragmentModule;return"{native}"===t?e.element.nodeName.toLowerCase()===n.type:a&&a.name===n.moduleName&&o===n.type||r===n.moduleName&&t===n.type};return t?e.reduce((function(e,t){return(0,S._)(t,I.Z)?e.concat(t.findChildren(i,!1)):e.concat(t.findChildren(r,!1,!0))}),[]):e.filter((function(e){return(0,S._)(e,I.Z)?i(e):r(e)}))}}]),n}(c),O=n(5991),j=n(9256);var B=(C={},(0,O._)(C,"^=",(function(e,t){return"string"==typeof t&&0===t.indexOf(e)})),(0,O._)(C,"=",(function(e,t){return function(e){switch(void 0===e?"undefined":(0,j._)(e)){case"string":case"boolean":case"number":case"bigint":case"undefined":return!0}return null===e}(t)&&e==t+""})),(0,O._)(C,"*=",(function(e,t){return"string"==typeof t&&t.indexOf(e)>-1})),(0,O._)(C,"!=",(function(e,t){return e!==t})),(0,O._)(C,"|=",(function(e,t){return"string"==typeof t&&t.split("-").indexOf(e)>-1})),(0,O._)(C,"$=",(function(e,t){return"string"==typeof t&&e.length<=t.length&&t.slice(t.length-e.length)===e})),C),V=function(e){(0,o._)(n,e);var t=(0,s._)(n);function n(e){var r;return(0,i._)(this,n),(r=t.call(this,e)).key=e.key,r.value=e.value,r.matcher=B[e.compare],r}return(0,r._)(n,[{key:"selectFrom",value:function(e,t){var n=this;return t?this.selectDeeply(e):e.filter((function(e){if(e.isDestroyed)return!1;if(n.value){if((0,S._)(e,I.Z))return n.isNodeValueMatch(e);if((0,S._)(e,T.wA))return n.isComponentValueMatch(e)}else{if((0,S._)(e,I.Z))return n.isNodeContains(e);if((0,S._)(e,T.wA))return n.isComponentContains(e)}return!1}))}},{key:"selectDeeply",value:function(e){var t=this;return e.reduce((function(e,n){if(t.value){if((0,S._)(n,I.Z))return e.concat(n.findChildren((function(e){return t.isNodeValueMatch(e)}),!0));if((0,S._)(n,T.wA))return e.concat(n.findChildren((function(e){return t.isComponentValueMatch(e)}),!0,!0))}else{if((0,S._)(n,I.Z))return e.concat(n.findChildren((function(e){return t.isNodeContains(e)}),!0));if((0,S._)(n,T.wA))return e.concat(n.findChildren((function(e){return t.isComponentContains(e)}),!0,!0))}return e}),[])}},{key:"isMatch",value:function(e){return this.matcher.call(null,this.value,e)}},{key:"isNodeContains",value:function(e){return this.key in e.attrs}},{key:"isComponentContains",value:function(e){return!e.isDestroyed&&(e.isLazyComponent?this.isNodeContains(e.originNode):this.key in e||this.key in e.attrs)}},{key:"isNodeValueMatch",value:function(e){return this.key in e.attrs&&this.isMatch(e.attrs[this.key])}},{key:"isComponentValueMatch",value:function(e){return!e.isDestroyed&&(e.isLazyComponent?this.isNodeValueMatch(e.originNode):this.isMatch(e[this.key])||this.key in e.attrs&&this.isMatch(e.attrs[this.key]))}}]),n}(c),U=(n(7984).LoggerFactory.getLogger("method-selector"),{eq:function(e,t){var n=parseInt(t);if(isNaN(n)||n<0)throw new Error("invalid selector: illegal parameter for ::childAt() selector: ".concat(t));return n>=e.length?[]:[e[n]]},childAt:function(e,t){var n=parseInt(t);if(isNaN(n)||n<0)throw new Error("invalid selector: illegal parameter for ::childAt() selector: ".concat(t));return e.map((function(e){return(0,S._)(e,I.Z)||(0,S._)(e,T.wA)&&e.isContainer()?e.childAt(n):void 0}))},parent:function(e,t){return e.map((function(e){return e.parent}))},first:function(e){return e.length>0?[e[0]]:[]},last:function(e){return e.length>0?[e[e.length-1]]:[]},allAfter:function(e){return H(e,(function(e){var t=e.brothers(),n=t.indexOf(e);return t.slice(n+1)}))},allBefore:function(e){return H(e,(function(e){var t=e.brothers(),n=t.indexOf(e);return t.slice(0,n)}))},activated:function(e){return H(e,(function(e){return e.isActive?e:void 0}))},deactivated:function(e){return H(e,(function(e){return e.isActive?void 0:e}))},visible:function(e){return H(e,(function(e){return e.isDOMVisible()?e:void 0}))},invisible:function(e){return H(e,(function(e){return e.isDOMVisible()?void 0:e}))},hidden:function(e){return H(e,(function(e){return e.isDOMVisible()?void 0:e}))},disabled:function(e){return H(e,(function(e){return e.disabled?e:void 0}))},enabled:function(e){return H(e,(function(e){return e.disabled?void 0:e}))},closest:function(e,t){var n=t.substring(1,t.length-1),i=ee.parseSelector(n);return H(e,(function(e){for(var t=e.parent;t;){var n=i.selectFrom([t]);if(n&&n.length>0)return n;t=t.parent}}))},nextSiblings:function(e){return H(e,(function(e){return e.nextSiblings()}))},previousSiblings:function(e){return H(e,(function(e){return e.previousSiblings()}))},root:function(e){var t=e[0];return t?[t.getRoot()]:[]},self:function(e){return e}});function H(e,t){return e.reduce((function(e,n){var i=t(n),r=Array.isArray(i);return r&&i.length>0||!r&&void 0!==i?e.concat(i):e}),[]).reduce((function(e,t){return-1===e.indexOf(t)&&e.push(t),e}),[])}var z=function(e){(0,o._)(n,e);var t=(0,s._)(n);function n(e){var r;if((0,i._)(this,n),(r=t.call(this,e)).name=e.name,r.params=e.parameter,r.selector=U[r.name],!r.selector)throw new Error("Invalid selector: method not found: ".concat(e.name));return r}return(0,r._)(n,[{key:"selectFrom",value:function(e){return this.selector(e,this.params).filter((function(e){return!!e}))}}]),n}(c),W=n(6905),G=n(9418),Y=function(e){(0,o._)(n,e);var t=(0,s._)(n);function n(){return(0,i._)(this,n),t.apply(this,arguments)}return(0,r._)(n,[{key:"selectFrom",value:function(e,t){return t?(0,W._)((0,G._)(n.prototype),"selectFrom",this).call(this,e,t):e}}]),n}(M),$=function(e){(0,o._)(n,e);var t=(0,s._)(n);function n(){return(0,i._)(this,n),t.apply(this,arguments)}return(0,r._)(n,[{key:"selectFrom",value:function(e){return e.map((function(e){return e.getRoot()})).reduce((function(e,t){return-1===e.indexOf(t)&&e.push(t),e}),[])}}]),n}(c),J=function(e){(0,o._)(n,e);var t=(0,s._)(n);function n(){return(0,i._)(this,n),t.apply(this,arguments)}return(0,r._)(n,[{key:"selectFrom",value:function(e){return e.reduce((function(e,t){return(0,S._)(t,I.Z)?e.concat(t.children):(0,S._)(t,T.wA)?(t=t.lazyLoad()).isContainer()&&e.concat(t.children()):e}),[])}}]),n}(c),q=function(e){(0,o._)(n,e);var t=(0,s._)(n);function n(e){var r;return(0,i._)(this,n),(r=t.call(this,e)).cssSelector=e.parameter,r}return(0,r._)(n,[{key:"selectFrom",value:function(e){var t=this;return e.reduce((function(e,n){var i=n.element;if(!i.querySelector)return e;var r=i.querySelector(t.cssSelector);return r&&e.push(r),e}),[]).filter((function(e,t,n){return n.indexOf(e)===t}))}}]),n}(c),K=function(){function e(){(0,i._)(this,e)}return(0,r._)(e,null,[{key:"create",value:function(e,t){switch(e){case"whitespace":return new M(t);case"name":return new F(t);case"type":return new L(t);case"attribute":return new V(t);case"method":return new z(t);case"all":return new Y(t);case"dchildren":return new J(t);case"root":return new $(t);case"css":return new q(t);default:throw new Error("Unsupported selector: ".concat(e))}}}]),e}(),Z=function(e){(0,o._)(n,e);var t=(0,s._)(n);function n(e){var r;return(0,i._)(this,n),(r=t.call(this,{})).selectors=e,r}return(0,r._)(n,[{key:"selectFrom",value:function(e){return this.selectors.reduce((function(e,t,n){return e.length<1?e:t.selectFrom(e,0===n)}),e)}}]),n}(c),X={};function Q(e){if("string"!=typeof e)throw new Error("".concat(e," is not a valid selector"));if(e=e.trim(),X[e])return X[e];var t=(new E).tokenize(e).map((function(e){return K.create(e.type,e.options)})),n=new Z(t);return X[e]=n,n}const ee={selectors:X,parseSelectors:function(e){if(X[e])return X[e];var t,n=e.split(/\s*,\s*/).map((function(e){return Q(e)}));return t=1===n.length?n[0]:new u(n),X[e]=t,t},parseSelector:Q}},7173:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var i=/^([\w-]+:)?([\w-.]+)?(\(.*?\))?$/;function r(e){for(var t=1/0,n=[],r=e;;){var o=r.lastIndexOf("|",t);if(-1===o)break;if("|"!==r[o-1]){var a=r.slice(o+1);i.test(a)?(n.unshift(a),r=r.slice(0,o),t=1/0):t=o-1}else t=o-2}return n.unshift(r),n}},9185:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(9227),r=n(7424),o=n(9019),a=n(510),s=(n(7984),function(){function e(t,n){(0,i._)(this,e),this.name=t,this.depends=n||[],this.registry=new o.Z(this)}return(0,r._)(e,[{key:"registerPreConfiguredComponent",value:function(e,t){return this.registry.registerPreConfiguredComponent(e,t),this}},{key:"getPreConfiguredComponent",value:function(e){return this.registry.getPreConfiguredComponent(e,component)}},{key:"registerFragment",value:function(e,t){this.registry.registerFragment(e,t)}},{key:"getFragment",value:function(e){return this.registry.getFragment(e)}},{key:"getComponentClass",value:function(e){return this.registry.getComponentClass(e)}},{key:"getComponentDefAsync",value:function(e){return this.registry.getComponentDefAsync(e)}},{key:"getDirectiveClass",value:function(e){return this.registry.getDirectiveClass(e)}},{key:"getControllerClass",value:function(e){return this.registry.getControllerClass(e)}},{key:"registerComponent",value:function(e){return this.registry.registerComponent(e),this}},{key:"registerVueComponent",value:function(e,t){var i=n(552).default;this.registry.registerComponent(i.extend(t,e))}},{key:"registerReactComponent",value:function(e,t,i){var r=n(1291).r;this.registry.registerComponent(r.extend(t,e,i))}},{key:"registerController",value:function(e){return this.registry.registerController(e),this}},{key:"controller",value:function(e,t){return this.registry.controller(e,t),this}},{key:"registerDirective",value:function(e){this.registry.registerDirective(e)}},{key:"getRegistry",value:function(){return this.registry}},{key:"getPipe",value:function(e){return this.registry.getPipe(e)}},{key:"pipe",value:function(e,t){this.registry.registerPipe(e,t)}},{key:"resolveName",value:function(e){return this.name===a.Fc||this.name.length<1?e:"".concat(this.name).concat(a.oB).concat(e)}},{key:"service",value:function(e,t){return this.registry.service(e,t)}},{key:"isSeniorComponent",value:function(e){var t=this.getComponentClass(e);return!!(null==t?void 0:t.isSeniorComponent)}}]),e}())},9019:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i,r=n(1540),o=n(9227),a=n(7424),s=n(5991),c=n(5467),u=n(5843),l=n(4919),A=n(9256),d=n(5376),h=(n(2473),n(510)),f=(n(9185),n(909),n(3667)),p=n(1406),v=n(7984);!function(e){e.directive="directive",e.controller="controller",e.component="component",e.pipe="pipe",e.fragment="fragment"}(i||(i={}));var g=new v.Store,m=function(){function e(t){(0,o._)(this,e),this.module=t,this.controllers={},this.directives={},this.layouts={},this.fragments=new v.Store,this.components=new v.Store,this.pipes=new v.Store,this.services=new v.Store}return(0,a._)(e,[{key:"getPipe",value:function(e){return this.pipes.has(e)?this.pipes.getCurrentValue(e):(this.module.depends.some((function(n){return!!(t=n.registry.getPipe(e))})),t);var t}},{key:"registerPipe",value:function(e,t){if("function"!=typeof t)throw new Error("Pipe Must be a function, but actual: ".concat(void 0===t?"undefined":(0,A._)(t),", name: ").concat(e));this.pipes.dispatch(e,t),this.triggerRegisterAction(i.pipe,e)}},{key:"triggerRegisterAction",value:function(e,t){var n=g.getCurrentValue("register")||[];n.push({module:this.module.name,type:e,name:t}),g.dispatch("register",n)}},{key:"getComponentDefAsync",value:function(e){var t=[this];return this.module.depends.forEach((function e(n){-1===t.indexOf(n.registry)&&t.push(n.registry),n.depends.forEach(e)})),new Promise((function(n,i){var r=[];t.forEach((function(t){r.push(t.components.subscribeOnce(e,(function(e){r.forEach((function(e){return e()})),n({componentClass:e,type:"component"})})),t.fragments.subscribeOnce(e,(function(e){r.forEach((function(e){return e()})),n({fragmentsConfig:e,type:"fragment"})})))}))}))}},{key:"registerDirective",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getName().toLowerCase(),r=this.directives[n];if(r!==e){if(r&&!r.isFake()&&!t)throw new Error("Duplicated directive name ".concat(n));this.directives[n]=e,this.triggerRegisterAction(i.directive,n)}}},{key:"getDirectiveClass",value:function(e){e=e.toLowerCase();var t=this.directives[e];if(!t){var n=!0,i=!1,r=void 0;try{for(var o,a=this.module.depends[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){if(t=o.value.getDirectiveClass(e))break}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}return t}},{key:"registerController",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getName(),r=this.controllers[n];if(r!==e){if(r&&!r.isFake()&&!t)throw new Error("Duplicated controller class name: ".concat(n));this.controllers[n]=e,this.triggerRegisterAction(i.controller,n)}}},{key:"controller",value:function(e,t){var n=v.Proxy.getProxyClass(f.Q,(function(e,n,i,r){return t[r].apply(e,i)}),f.Q,!1,(function(e){return"function"==typeof t[e]&&t[e]!==Object.prototype[e]})),i=(0,s._)({},e,function(n){(0,c._)(s,n);var i=(0,d._)(s);function s(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var c;return(0,o._)(this,s),c=i.call.apply(i,[this].concat((0,l._)(n))),"function"==typeof t.init&&t.init.apply((0,r._)(c),n),c}return(0,a._)(s,null,[{key:"getName",value:function(){return e}}]),s}(n)),u=i[e].prototype;for(var A in t)void 0===u[A]&&(u[A]=t[A]);return this.registerController(i[e]),this}},{key:"getControllerClass",value:function(e){var t=this.controllers[e];if(!t){var n=!0,i=!1,r=void 0;try{for(var o,a=this.module.depends[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){if(t=o.value.getControllerClass(e))break}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}return t}},{key:"registerComponent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getName().toLowerCase(),r=this.components.getCurrentValue(n);if(r!==e){if(r&&!r.isFake()&&!t)throw new Error("Duplicated component name '".concat(n,"', component names must be unique and case-insensitive"));if("{native}"!==n){var o,a=this.module.name;if(a.length>0){var s="".concat(a).concat(h.oB).concat(n);document.createElementNS("http://www.w3.org/1999/xhtml",s),o=document.createElement(s)}else o=document.createElement(n);(0,u._)(o,HTMLUnknownElement)||"template"===n||"slot"===n||"input"===n||"textarea"===n||-1===v.STANDARD_HTML_ELEMENTS.indexOf(n)||v.LoggerFactory.getLogger("UIXRegistry").warn("Incorrect component name <".concat(n,">, It shouldn't be a name of the W3C HTML standard element"),e)}e.$metadata=new p.z(e),this.components.dispatch(n,e),this.triggerRegisterAction(i.component,n)}}},{key:"getComponentClass",value:function(e){e=e.toLowerCase();var t=this.components.getCurrentValue(e);if(!t){var n=!0,i=!1,r=void 0;try{for(var o,a=this.module.depends[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){if(t=o.value.getComponentClass(e))break}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}return t}},{key:"registerPreConfiguredComponent",value:function(e,t){return this.registerFragment(e,t)}},{key:"getPreConfiguredComponent",value:function(e){return this.getFragment(e)}},{key:"registerFragment",value:function(e,t){e=e.toLowerCase();var n=this.components.getCurrentValue(e);if(n&&!n.isFake())throw new Error("conflict: a component that names '".concat(e,"' is already exists."));if(this.fragments.has(e))throw new Error("Duplicate fragment name: ".concat(e));this.fragments.dispatch(e,t),this.triggerRegisterAction(i.fragment,e)}},{key:"getFragment",value:function(e){e=e.toLowerCase();var t=this.fragments.getCurrentValue(e);if(!t){var n=!0,i=!1,r=void 0;try{for(var o,a=this.module.depends[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){if(t=o.value.getFragment(e))break}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}return t}},{key:"service",value:function(e,t){if(void 0===t)return getService(e);this.services.dispatch(e,t)}},{key:"getService",value:function(e){if(this.services.has(e))return this.services.getCurrentValue(e);var t=!0,n=!1,i=void 0;try{for(var r,o=this.module.depends[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value.registry.getService(e);if(a)return a}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}}]),e}()},1727:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A,a:()=>l});var i=n(9227),r=n(7424),o=n(5843),a=n(9185),s=n(510),c=n(7984),u=c.LoggerFactory.getLogger("modular"),l=new(function(){function e(){(0,i._)(this,e),this.modules=new c.Store,this.modules.dispatch(s.Fc,new a.Z(s.Fc,[]))}return(0,r._)(e,[{key:"module",value:function(e,t){var n=this;if(Array.isArray(t)){if(this.modules.has(e))throw new Error('Duplicated Modular name: "'.concat(e,'", it must be unique.'));t=t.map((function(e,t){if("string"==typeof e)return n._module(e);if((0,o._)(e,a.Z))return e;throw new Error("Unexpected module type at position: ".concat(t))}));var i=this.root();t.indexOf(-1===i)&&t.push(i);var r=new a.Z(e,t);return this.modules.dispatch(e,r),r}return this._module(e)}},{key:"moduleAsync",value:function(e){return this.modules.takeWhile(e)}},{key:"root",value:function(){return this.modules.getCurrentValue(s.Fc)}},{key:"_module",value:function(e){var t=this.modules.getCurrentValue(e);if(!t)throw new Error("No module found: '".concat(e,"'"));return t}},{key:"_nostrictModule",value:function(e){var t=this.modules.getCurrentValue(e);return t||u.warn("module not found: ".concat(e,", using root module instead.")),t||this.root()}}]),e}());const A=l},6871:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(9227),r=n(7424),o=(n(1727),n(2320)),a=(n(5923),n(9185),function(){function e(t,n){(0,i._)(this,e),this.parser=t,this.localizer=n.localizer,this.options={parser:t},this.context=n}return(0,r._)(e,[{key:"appendOptions",value:function(e){return Object.assign(this.options,e),this}},{key:"appendInitData",value:function(e){return this.options.$initData=Object.assign(this.options.$initData||{},e),this}},{key:"appendVNode",value:function(e){return this.vnode=e,this.options.viewConfig=e.toViewConfig(),this}},{key:"appendParentComponent",value:function(e){return this.parentComponent=e,this.options.parentComponent=e,this}},{key:"build",value:function(){var e=this.vnode.getComponentClass(),t=this.vnode.getDirectiveInstances(this.parentComponent,this.localizer),n=new o.Z({node:this.vnode,parentComponent:this.parentComponent},t);if(n.processComponentOptions(this.options),!this.options.callback&&this.parentComponent&&(this.options.callback=this.parentComponent.controller),"context"in this.options&&this.options.context!==this.context)throw new Error("Conflicting component option: context");this.options.context=this.context;var i=new e(this.options,this.vnode.module,this.localizer);i.setDirective(n),this.context.dispatchNewComponent(i),this.context.ioc.initInstance(i),this.context.postHandle(i),n.init(i),n.beforeComponentRender(),i.prerender();try{i.render()}finally{n.afterComponentRender()}return i}}]),e}())},1702:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var i=n(9227),r=n(7424),o=n(5843),a=n(3667),s=n(4929),c=n(8448),u=n(7984),l=["mounted","prelink","postlink","destroy","uninstall"],A=function(){function e(){(0,i._)(this,e)}return(0,r._)(e,null,[{key:"newControllerInstance",value:function(e,t){var n,i=e.callback,r=e.proxyControllers;if("function"==typeof i)n=u.Reflect.isSubClassOf(i,a.Q)?new i(t):new s.Z(t,i);else if((0,o._)(i,a.Q)){n=Object.create(i),Object.defineProperty(n,"$$is_ext_ctrl",{value:!0,writable:!1,enumerable:!1,configurable:!1});for(var A=l.length;A>=0;A--){var d=l[A];n[d]=c.Z.prototype[d]}i.setParentScope===u.noop&&(n.setParentScope=a.Q.prototype.setParentScope),n.component=t,n.methods={},n.data=Object.assign({},e.$initData||{}),t.parent&&n.setParentScope(t.parent.controller)}else n=new c.Z(t);var h=r.reduce((function(e,t){var n=t.method||"handle";return(e[n]=e[n]||[]).push(t),e}),{});for(var f in h){var p=h[f];"function"==typeof n[f]&&(n[f]=p.reduce((function(e,t){return e.proxy(t)}),u.Aspect.on(n[f])).extract())}return t&&t.context?t.context.ioc.initInstance(n):console.warn("Cannot initialize controller",n,t),n}}]),e}()},6315:(e,t,n)=>{"use strict";n.d(t,{NI:()=>s,q4:()=>c});var i=n(9227),r=n(7424),o=n(4919),a=n(510);if(!window.WeakRef){new WeakMap;window.WeakRef=function(){function e(t){(0,i._)(this,e),this.value=t}return(0,r._)(e,[{key:"deref",value:function(){return this.value}}]),e}()}function s(e){var t=e.nodeName.toLowerCase(),n=t.indexOf(a.oB);return n>-1?t.substring(0,n):a.Fc}function c(e){var t=e.nodeName.toLowerCase(),n=t.indexOf(a.oB);return t.substring(n+1)}HTMLElement.prototype.remove||(HTMLElement.prototype.remove=function(){this.parentElement&&this.parentElement.removeChild(this)}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(e){e=0===arguments.length||!!e;var t=this.parentNode;if(t){var n=window.getComputedStyle(t,null),i=parseInt(n.getPropertyValue("border-top-width")),r=parseInt(n.getPropertyValue("border-left-width")),o=this.offsetTop-t.offsetTop<t.scrollTop,a=this.offsetTop-t.offsetTop+this.clientHeight-i>t.scrollTop+t.clientHeight,s=this.offsetLeft-t.offsetLeft<t.scrollLeft,c=this.offsetLeft-t.offsetLeft+this.clientWidth-r>t.scrollLeft+t.clientWidth,u=o&&!a;(o||a)&&e&&(t.scrollTop=this.offsetTop-t.offsetTop-t.clientHeight/2-i+this.clientHeight/2),(s||c)&&e&&(t.scrollLeft=this.offsetLeft-t.offsetLeft-t.clientWidth/2-r+this.clientWidth/2),(o||a||s||c)&&!e&&this.scrollIntoView(u)}}),HTMLElement.prototype.getUIXNamespace=function(){return s(this)},HTMLElement.prototype.getUIXNodeName=function(){return c(this)},HTMLElement.prototype.getUIXAttribute=function(e){return function(e,t){var n=e.getUIXNamespace();return n===a.Fc||0===n.length?e.getAttribute(t):e.getAttribute("".concat(n).concat(a.oB).concat(t))}(this,e)},HTMLElement.prototype.addClass=function(e){var t;"string"==typeof e&&(t=this.classList).add.apply(t,(0,o._)(e.split(" ")))},HTMLElement.prototype.removeClass=function(e){var t;"string"==typeof e&&(t=this.classList).remove.apply(t,(0,o._)(e.split(" ")))},HTMLElement.prototype.clear=function(){for(var e=Array.prototype.slice.call(this.childNodes,0),t=e.length,n=0;n<t;n++){var i=e[n];this.removeChild(i)}}},5923:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_,v:()=>_});var i=n(9227),r=n(7424),o=n(6905),a=n(9418),s=n(5467),c=n(5843),u=n(449),l=n(4919),A=n(5376),d=n(510),h=n(325),f=n(1727),p=n(7469),v=n(7984),g=n(240),m=v.LoggerFactory.getLogger("UIXNode"),y=Date.now();var _=function(e){(0,s._)(n,e);var t=(0,A._)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.namespace,a=void 0===o?d.Fc:o,s=r.nodeName,c=r.attrs,u=void 0===c?{}:c,l=r.text,A=r.template,f=void 0===A?"":A;(0,i._)(this,n),e=t.call(this,{namespace:a,type:h.C.NODE_TYPE_CONTAINER,text:l});var p=u.name||"".concat("node_name","-").concat((y++).toString(36));return u=e.parseAttrs(u),e.$$options={namespace:a,nodeName:s,attrs:Object.assign({},u),text:l,template:f},e.nodeName=s,e.attrs=Object.assign({},u),e.name=p,e.children=[],e.template=f,e.directives=e.parseDirectiveAttrs(),e.isSenior=!1,e}return(0,r._)(n,[{key:"_isAsync",get:function(){return this.directives.some((function(e){return"require-modules"===e.directiveName||"async"===e.directiveName}))}},{key:"parseAttrs",value:function(e){var t={};for(var n in e){var i=this.parseAttr(n,e[n]),r=i.key,o=i.value;t[r]=o}return t}},{key:"parseAttr",value:function(e,t){if("@"!==e[0]&&t&&t.indexOf("@{")>-1){var n=(0,g.w)(t);if(n.some((function(e){return e.type===g.i.placeholder})))return{key:"@attr."+e,value:n}}return{key:e,value:t}}},{key:"setComponentOptions",value:function(e){(0,o._)((0,a._)(n.prototype),"setComponentOptions",this).call(this,e),e&&e.attrs&&Object.assign(this.attrs,e.attrs),this.directives=this.parseDirectiveAttrs()}},{key:"appendComponentOptions",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t?t.rmattrs:void 0;t&&delete t.rmattrs,(0,o._)((0,a._)(n.prototype),"appendComponentOptions",this).call(this,t),t&&t.attrs&&Object.assign(this.attrs,t.attrs),Array.isArray(i)&&i.forEach((function(t){delete e.attrs[t],e.$$options.attrs&&delete e.$$options.attrs[t],e.componentOptions.attrs&&delete e.componentOptions.attrs[t]})),this.directives=this.parseDirectiveAttrs()}},{key:"clone",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;if(t.has(this))return t.get(this);var i=new n(this.$$options);return this.originalParent&&(i.originalParent=this.originalParent),t.set(this,i),i.children=this.children.map((function(n){var r=e?n.clone(e,t):n;return r.parent=i,r})),i.parent=this.parent,i.setComponentOptions(this.componentOptions),i}},{key:"parseDirectiveAttrs",value:function(){var e=[];for(var t in this.attrs)if("@"===t[0]){var n=this._parseDirectiveName(t),i=n.ns,r=n.directiveName,o=n.subName;e.push({attrName:t,ns:i,directiveName:r,subName:o,attrValue:this.attrs[t]})}return e}},{key:"_parseDirectiveName",value:function(e){var t=/^@(([^:]+):)?([^:][^.]*)(\.(.+))?$/.exec(e);if(!t)throw new Error("@Incorrect directive attribute: "+e);var n=(0,u._)(t,6);return{ns:n[2]||"",directiveName:n[3],subName:n[5]||""}}},{key:"size",value:function(){return this.children.length}},{key:"findByName",value:function(e){return this.findChildren((function(t){return t.name===e}))}},{key:"findChildren",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;i.add(this);var r=[];return t&&e(this)&&r.push(this),this.children.reduce((function(t,r){if(i.has(r))return t;if(!(0,c._)(r,n))return t;var o,a=r.findChildren(e,!0,i);a.length>0&&(o=t).push.apply(o,(0,l._)(a));return t}),r),r}},{key:"first",value:function(){return this.children[0]}},{key:"last",value:function(){return this.children[this.children.length-1]}},{key:"brothers",value:function(){return this.parent?this.parent.children:[this]}},{key:"querySelectorAll",value:function(e){return p.Z.parseSelectors(e).selectFrom([this])}},{key:"childAt",value:function(e){return this.children[e]}},{key:"append",value:function(e){return this.insert(e,this.children.length)}},{key:"prepend",value:function(e){return this.insert(e,0)}},{key:"insert",value:function(e,t){if(t<0)throw new Error("index out of bounds: ".concat(t));return t=Math.min(this.children.length,t),e.parent=this,this.children.splice(t,0,e),this}},{key:"removeChild",value:function(e){var t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1)),this}},{key:"replaceChild",value:function(e,t){return e<0||e>=this.children.length||!t||(this.children[e].parent=null,this.children[e]=t,t.parent=this),this}},{key:"replaceWith",value:function(e){if(!this.parent)return!1;var t=this.index();return-1!==t&&(this.parent.replaceChild(t,e),!0)}},{key:"index",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"clear",value:function(){return this.children.slice(0).forEach((function(e){return e.remove()})),this}},{key:"setAttribute",value:function(e,t){var n=this.parseAttr(e,t),i=n.key,r=n.value;this.attrs[i]=r,"@"===i[0]&&(this.directives=this.parseDirectiveAttrs()),"name"===e&&(this.name=t)}},{key:"hasAttribute",value:function(e){return e in this.attrs}},{key:"getAttribute",value:function(e){return this.attrs[e]}},{key:"removeAttribute",value:function(e){delete this.attrs[e]&&"@"===e[0]&&(this.directives=this.parseDirectiveAttrs())}},{key:"getComponentClass",value:function(){return this.module.getComponentClass(this.nodeName)||f.Z.root().getComponentClass("{native}")}},{key:"toViewConfig",value:function(){return{nodeName:this.nodeName,attrs:this.attrs,textContent:this.text,vnode:this}}},{key:"getParserDirectiveInstance",value:function(e,t){var n=this.directives.filter((function(e){var t=f.Z._nostrictModule(e.ns);if(!t)return!1;var n=t.getDirectiveClass(e.directiveName);return n&&n.isParser()}));if(n.length>1){var i=n.map((function(e){return e.directiveName}));throw new Error("Conflict directive: ".concat(i.join(" and "),", both of them are parser directive"))}var r=n[0];if(r){var o=f.Z.module(r.ns),a=o.getDirectiveClass(r.directiveName),s=r.attrName;return new a({module:o,localizer:t,node:this,subName:r.subName,attrValue:r.attrValue,parentComponent:e,attrName:s})}}},{key:"getDirectiveInstances",value:function(e,t){var n=this;return this.directives.map((function(i){var r=f.Z._nostrictModule(i.ns);if(!r)return m.warn("directive module not found: ".concat(i.ns)),null;var o=r.getDirectiveClass(i.directiveName);if(!o)return m.warn("directive not found! module name: ".concat(i.ns,", directive name: ").concat(i.directiveName)),null;if(o.isParser())return null;var a=i.attrName,s=i.subName,c=i.attrValue;return new o({module:r,localizer:t,node:n,subName:s,attrValue:c,parentComponent:e,attrName:a})})).filter((function(e){return!!e})).sort((function(e,t){return e.order===t.order?0:e.order>t.order?-1:1}))}},{key:"contains",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;return this===e||!t.has(this)&&(t.add(this),this.children.some((function(n){return n.contains(e,t)})))}}]),n}(h.C)},325:(e,t,n)=>{"use strict";n.d(t,{C:()=>c});var i=n(9227),r=n(7424),o=n(510),a=n(1727),s=n(7984),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.namespace,r=void 0===n?o.Fc:n,s=t.type,c=t.text;(0,i._)(this,e),this.$$options={namespace:r,type:s,text:c},this.componentOptions={proxyControllers:[]},this._module=a.Z._nostrictModule(r),this.namespace=r,this.text=c,this.parent=null,this.type=s,this.asyncFragments=[]}return(0,r._)(e,[{key:"module",get:function(){return this._module.name!==this.namespace&&(this._module=a.Z._nostrictModule(this.namespace)),this._module}},{key:"_isAsync",get:function(){return!1}},{key:"isAsync",value:function(){return!!this.asyncAncestor()}},{key:"asyncAncestor",value:function(){if(this._isAsync)return this;for(var e=this.parent;e;){if(e._isAsync)return e;e=e.parent}}},{key:"appendFragment",value:function(e){this.asyncFragments.push(e)}},{key:"setComponentOptions",value:function(e){this.componentOptions=e,e.proxyControllers||(e.proxyControllers=[])}},{key:"appendComponentOptions",value:function(e){e&&(0,s.extendOptions)(this.componentOptions,e)}},{key:"clone",value:function(){return new e(this.$$options)}},{key:"getRoot",value:function(){return this.parent?this.parent.getRoot():this}},{key:"remove",value:function(){return this.parent&&this.parent.removeChild(this),this}},{key:"index",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"after",value:function(e){var t=this.index();if(-1===t)throw new Error("cannot insert node after a node that has not been appended");this.parent&&this.parent.insert(e,t+1)}},{key:"before",value:function(e){var t=this.index();if(-1===t)throw new Error("cannot insert node before a node that has not been appended");this.parent&&this.parent.insert(e,t)}},{key:"nextSiblings",value:function(){if(this.parent){var e=this.parent.children,t=e.indexOf(this);return e[t+1]}}},{key:"previousSiblings",value:function(){if(this.parent){var e=this.parent.children,t=e.indexOf(this);return e[t-1]}}},{key:"prelink",value:function(){}},{key:"postlink",value:function(){}},{key:"contains",value:function(e){return this===e}}],[{key:"NODE_TYPE_CONTAINER",get:function(){return"container"}},{key:"NODE_TYPE_TEXT",get:function(){return"text"}},{key:"NODE_TYPE_FRAGMENT",get:function(){return"fragment"}}]),e}()},1291:(e,t,n)=>{"use strict";n.d(t,{r:()=>A});var i=n(9227),r=n(7424),o=n(6905),a=n(9418),s=n(5467),c=n(5376),u=n(2473),l=n(7984),A=function(e){(0,s._)(n,e);var t=(0,c._)(n);function n(){return(0,i._)(this,n),t.apply(this,arguments)}return(0,r._)(n,[{key:"isReact",get:function(){return!0}},{key:"createDOMElement",value:function(){var e=document.createElement("div");return e.classList.add("fv__ui-react-component"),e}},{key:"acceptText",value:function(){return!1}},{key:"mounted",value:function(){(0,o._)((0,a._)(n.prototype),"mounted",this).call(this),this.rerender()}},{key:"rerender",value:function(){(0,l.notImplemented)()}},{key:"setAttribute",value:function(e,t){this.attrs[e]=t,this.rerender()}},{key:"getAttribute",value:function(e){return this.attrs[e]}},{key:"removeAttribute",value:function(e){delete this.attrs[e],this.rerender()}},{key:"addCSSClass",value:function(e){var t=(this.attrs.class||"").split(/\s+/);this.setAttribute("class",t.concat(e).join(" "))}},{key:"removeCSSClass",value:function(e){var t=(this.attrs.class||"").split(/\s+/),n=t.indexOf(e);n>-1&&t.splice(n,1),this.setAttribute("class",t.join(" "))}},{key:"doEnable",value:function(){this.rerender()}},{key:"doDisable",value:function(){this.rerender()}},{key:"doDeactive",value:function(){this.rerender()}},{key:"doActive",value:function(){this.rerender()}},{key:"localize",value:function(){var e=this.localizer;return this.trigger("localize",e),e.localizeRecursive(this.getDomElement(),{})}}],[{key:"extend",value:function(e,t,u){return function(n){(0,s._)(A,n);var l=(0,c._)(A);function A(){return(0,i._)(this,A),l.apply(this,arguments)}return(0,r._)(A,[{key:"mounted",value:function(){var e=this;(0,o._)((0,a._)(A.prototype),"mounted",this).call(this);var t=this.getPDFUI().ReactDOM;this.addDestroyHook((function(){t.unmountComponentAtNode(e.element)}))}},{key:"initServices",value:function(e){for(var t in(0,o._)((0,a._)(A.prototype),"initServices",this).call(this,e),this.serviceInstances={},u){var n=e.getInstanceByClass(u[t],this);this.serviceInstances[t]=n}}},{key:"rerender",value:function(){var t=this.getPDFUI(),n=t.ReactDOM,i=t.React;n.render(i.createElement(e,Object.assign(this.attrs,{disabled:this.disabled,isActive:this.isActive,isVisible:this.isVisible,key:this.id,services:this.serviceInstances})),this.element),this.parent&&this.parent.rerenderChildren()}}],[{key:"getName",value:function(){return t}}]),A}(n)}}]),n}(u.wA)},552:(e,t,n)=>{"use strict";var i=n(9227),r=n(7424),o=n(6905),a=n(9418),s=n(5467),c=n(5376),u=n(7984);!function(e){(0,s._)(n,e);var t=(0,c._)(n);function n(){return(0,i._)(this,n),t.apply(this,arguments)}(0,r._)(n,[{key:"createDOMElement",value:function(){return document.createComment(this.nodeName)}},{key:"prelink",value:function(){var e=this;(0,o._)((0,a._)(n.prototype),"prelink",this).call(this),this.execVueComponent((function(t){e.execMethod(t,"prelink"),t.$emit("foxit:prelink")}))}},{key:"postlink",value:function(){var e=this;(0,o._)((0,a._)(n.prototype),"postlink",this).call(this),this.execVueComponent((function(t){e.execMethod(t,"postlink"),t.$emit("foxit:postlink")}))}},{key:"doEnable",value:function(){var e=this;this.execVueComponent((function(t){e.execMethod(t,"enable"),t.$emit("foxit:enable")}))}},{key:"doDisable",value:function(){var e=this;this.execVueComponent((function(t){e.execMethod(t,"disable"),t.$emit("foxit:disable")}))}},{key:"doActive",value:function(){var e=this;this.execVueComponent((function(t){e.execMethod(t,"active"),t.$emit("foxit:active")}))}},{key:"doDeactive",value:function(){var e=this;this.execVueComponent((function(t){e.execMethod(t,"deactive"),t.$emit("foxit:deactive")}))}},{key:"doShown",value:function(){var e=this;this.execVueComponent((function(t){var n=t.$el;n&&n.classList&&n.classList.remove("fv__ui-hide"),e.execMethod(t,"shown"),t.$emit("foxit:shown")}))}},{key:"doHidden",value:function(){var e=this;this.execVueComponent((function(t){var n=t.$el;n&&n.classList&&n.classList.add("fv__ui-hide"),e.execMethod(t,"hidden"),t.$emit("foxit:hidden")}))}},{key:"addCSSClass",value:function(e){e&&this.execVueComponent((function(t){var n=t.$el;n&&n.classList&&n.classList.add(e)}))}},{key:"removeCSSClass",value:function(e){e&&this.execVueComponent((function(t){var n=t.$el;n&&n.classList&&n.classList.remove(e)}))}},{key:"prerender",value:function(){}},{key:"mounted",value:function(){var e=this;(0,o._)((0,a._)(n.prototype),"mounted",this).call(this),this.execVueComponent((function(t){t.$mount(),e.parent.rerenderChildren()}))}},{key:"localize",value:function(){var e=this.localizer.getLanguage();this.execVueComponent((function(t){t.$emit("uix:localize",e)}))}},{key:"getRenderingElements",value:function(){var e=[this.element];return this.instance&&this.instance.$el&&e.push(this.instance.$el),e}},{key:"doDestroy",value:function(){(0,o._)((0,a._)(n.prototype),"doDestroy",this).call(this),this.instance&&(this.execMethod(this.instance,"destroy"),this.instance.$destroy(),this.instance=null,this.instancePromise=null)}},{key:"execMethod",value:function(e,t){var n=e.$options.foxit;if(n){var i=n[t];"function"==typeof i&&i.call(e,this)}}},{key:"execVueComponent",value:function(e){var t=this;this.instance?e(this.instance):this.instancePromise.then((function(n){!t.isDestroyed&&n&&e(n)}))}}],[{key:"extend",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.name,u=e.props,l={};for(var A in u){if(!/^\w+$/.test(A))throw new Error("Unsupported vue component: unexpected property name: ".concat(A));var d=void 0;switch(u[A].type){case String:d="string";break;case Number:d="number";break;case Boolean:d="boolean";break;default:d="any"}l[A]={type:d}}var h=function(n){(0,s._)(d,n);var A=(0,c._)(d);function d(){return(0,i._)(this,d),A.apply(this,arguments)}return(0,r._)(d,[{key:"sync",value:function(e,t){switch(e){case"pdfui":case"pdfviewer":case"pdfViewer":return!0}return e in u?(this.instance[e]=t,!0):(0,o._)((0,a._)(d.prototype),"sync",this).call(this,e,t)}}],[{key:"getName",value:function(){return t}},{key:"getMetadata",value:function(){return{options:l}}},{key:"getVueComponentRef",value:function(){return e}}]),d}(n);return h}},{key:"getVueComponentRef",value:function(){(0,u.notImplemented)("VueComponent::getVueComponentRef")}}])}(n(2473).wA)},4412:(e,t,n)=>{"use strict";n.r(t),n.d(t,{active3DHandle:()=>f,agreeActive3D:()=>P,destroy3DInteraction:()=>b,initJR3DAnnot:()=>_,render3D:()=>v,setAnnot3DTool:()=>k,setDefaultView:()=>x});var i=n(5578),r=n(4919),o=n(7582),a=n(3601),s=n(7984),c=n(9227),u=n(7424),l=function(){};!function(){function e(){(0,c._)(this,e),this._queue=[],this._initPromise()}(0,u._)(e,[{key:"_initPromise",value:function(){var e=this;return!this._promiseIsEnd&&this.promise||(this.promise=new Promise((function(t,n){var i=e;e._resolve=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];i._promiseIsEnd=!0,t.apply(void 0,(0,r._)(n))},e._reject=function(t){e._promiseIsEnd=!0,e._queue=[],n(t)}})),this._promiseIsEnd=!1),this.promise}},{key:"assign",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._queue=e}},{key:"push",value:function(e,t){this._queue.push([e,t])}},{key:"start",value:function(){var e=this._initPromise();return this._exec(),e}},{key:"_exec",value:function(){var e=this;if(!this._execIng){this._execIng=!0;var t,n=this._queue,i=n.shift()||[l];try{t=Promise.resolve(i[0]())}catch(t){try{return Promise.resolve(i[1](t)).then((function(){e._reject(t)}))}catch(e){return this._reject(t)}}t.then((function(t){if(e._execIng=!1,!n.length)return e._resolve(t);e._exec()}),(function(t){return e._reject(t)}))}}},{key:"end",value:function(){return this._queue=[],this._exec(),this.promise}}])}();var A=n(840),d=n.n(A),h={rotate:0,spin:1,pan:2,zoom:3};function f(e,t){return p.apply(this,arguments)}function p(){return p=(0,i._)((function(e,t){var n,a,c,u,l,A,h;return(0,o.Jh)(this,(function(t){switch(t.label){case 0:return[4,e.agreeActive3D()];case 1:if(!t.sent())return[2];n=e.annot,e.isActived3DHandleLoaded=!0,e.isActive3D=!0,a=e.parent().$handler,c=function(e,t,n){var i,o=e.e3DTarget;if(o)return{eTarget:o,eCanvas:e._e3DCanvas};o=document.createElement("div"),o.id="fv__pdf-page-3d-annot-interaction-handler-".concat(n),o.className="fv__pdf-page-3d-annot-interaction-handler";var a=document.createElement("canvas"),s=a.transferControlToOffscreen(),c=e.annot.page.doc.engine;return(i=c.api).setCanvas.apply(i,[{path:"jr/doc/3d",clientTransfer:[s]}].concat((0,r._)(y(e)),[s])),a.className="fv__pdf-page-3d-annot-interaction-canvas",o.appendChild(a),t.appendChild(o),e._e3DCanvas=a,e.e3DTarget=o,{eTarget:o,eCanvas:a}}(e,a[0],n.getId()),u=c.eTarget,l=c.eCanvas,t.label=2;case 2:return t.trys.push([2,4,,5]),[4,v(e,e.scale,e.rotate)];case 3:return t.sent(),function(e,t,n){if(e.off3DInteraction)return;var a,c=new(d().Manager)(n);c.add(new(d().Pan)),c.add(new(d().Press));var u=-1,l=new s.ThrottleAsyncTaskExecutor(50,!0),A=function(e,t,n,r){var a;l.exec((a=(0,i._)((function(i){return(0,o.Jh)(this,(function(i){switch(i.label){case 0:return[4,w(e,t,n,r)];case 1:return i.sent(),[2]}}))})),function(e){return a.apply(this,arguments)}))};c.on("panstart",(function(t){u=0,a=t.srcEvent.target.getBoundingClientRect(),A(e,t,1,a)})),c.on("panmove",(function(t){-1!==u&&2!==u&&(u=1,A(e,t,0,a))})),c.on("panend",(function(t){-1!==u&&(u=2,A(e,t,2,a))}));var h=function(t){e.showContextMenu()},f=function(t){e.showToolbar()},p=function(t){e.hideToolbar()},v=function(t){t.stopPropagation(),t.preventDefault();var n=t.target.getBoundingClientRect();!function(e,t,n,i){var o,a=t,s={movementX:t.deltaX,movementY:t.deltaY,timeStamp:a.timeStamp,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,altKey:a.altKey,metaKey:a.metaKey,button:a.button,buttons:a.buttons,targetX:a.clientX-i.left,targetY:a.clientY-i.top,canvasX:a.clientX-i.left,canvasY:a.clientX-i.left,deltaX:-t.deltaX,deltaY:-t.deltaY,deltaZ:-t.deltaZ,deltaMode:t.deltaMode};(o=e.annot.page.doc.engine.api).process3DMouseWheelEvent.apply(o,[{path:"jr/doc/3d"}].concat((0,r._)(y(e)),[s,n]))}(e,t,0,n)};c.on("press",h),t.addEventListener("contextmenu",h),t.addEventListener("mouseover",f),t.addEventListener("mouseout",p),t.addEventListener("mousewheel",v),s.isTouchDevice&&t.addEventListener("touchstart",f);e.off3DInteraction=function(){c.off("panstart"),c.off("panmove"),c.off("panend"),c.off("press"),t.removeEventListener("contextmenu",h),t.removeEventListener("mouseover",f),t.removeEventListener("mouseout",p),t.removeEventListener("mousewheel",v),s.isTouchDevice&&t.addEventListener("touchstart",f),c.destroy(),e.off3DInteraction=null}}(e,u,l),[3,5];case 4:return A=t.sent(),e.isActive3D=!1,(null==A||null===(h=A.message)||void 0===h?void 0:h.includes("Method not permission."))&&e.pdfViewer.setEnable3DInteraction(!1),[3,5];case 5:return[2]}}))})),p.apply(this,arguments)}function v(e,t,n){return g.apply(this,arguments)}function g(){return g=(0,i._)((function(e,t,n){var i,r,s,c;return(0,o.Jh)(this,(function(o){switch(o.label){case 0:return e._e3DCanvas&&(i=e.e3DTarget)?(r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.scale,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.scale,i=e.annot,r=(0,a.oC)(t),o=i.getDeviceRect(r,0),s=i.getDeviceRect(t,n);return{smartRect:o,showRect:s}}(e,t,n),s=r.smartRect,function(e,t){t.style.cssText="z-index:999;position:absolute;top:".concat(e.top,"px;left:").concat(e.left,"px;width:").concat(e.right-e.left,"px;height:").concat(e.bottom-e.top,"px;")}(r.showRect,i),(c=e.parent().$handler.addClass("active")[0])&&(c.style.transform=null),[4,m(e,s)]):[2];case 1:return o.sent(),[2,!0]}}))})),g.apply(this,arguments)}function m(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.rotate;return(n=e.annot.page.doc.engine.api).LoadAnnot3DBitmap.apply(n,[{path:"jr/doc/3d",transfer:["bitmap"]}].concat((0,r._)(y(e)),[t,i]))}function y(e){var t=e.annot,n=e.getPDFPage();return[n.getPDFDoc().getId(),n.getIndex(),t.getId()]}function _(e){if(e._ready3DPromise)return e._ready3DPromise;var t=e.annot.page.doc.engine;return e._ready3DPromise=t.api.getPDF3D({path:"jr/doc"},e.getPDFPage().getPDFDoc().getId())}function b(e){e.off3DInteraction&&(e.off3DInteraction(),e.off3DInteraction=null),e._interactionHammer&&(e._interactionHammer.destroy(),e._interactionHammer=null),e.isActive3D=!1}function w(e,t,n,i){var o,a=t.srcEvent,s={movementX:t.deltaX,movementY:t.deltaY,timeStamp:a.timeStamp,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,altKey:a.altKey,metaKey:a.metaKey,button:a.button,buttons:a.buttons,targetX:a.clientX-i.left,targetY:a.clientY-i.top,canvasX:a.clientX-i.left,canvasY:a.clientX-i.left};return(o=e.annot.page.doc.engine.api).process3DMouseEvent.apply(o,[{path:"jr/doc/3d"}].concat((0,r._)(y(e)),[s,n]))}function k(e,t){var n;return(n=e.annot.page.doc.engine.api).setAnnot3DTool.apply(n,[{path:"jr/doc/3d"}].concat((0,r._)(y(e)),[h[t]||0]))}function x(e){var t;return(t=e.annot.page.doc.engine.api).setDefaultView.apply(t,[{path:"jr/doc/3d"}].concat((0,r._)(y(e)))).then((function(){return v(e,e.scale,e.rotate)}))}function P(e){return!0}},1940:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ActivationGroup:()=>XN,AnnotComponent:()=>qd,AnnotationApRenderer:()=>Hg,AnnotationAuthorityManager:()=>sI,BrowserInfo:()=>W.BrowserInfo,CalloutShape:()=>H_,CaretComponent:()=>u_,CircleComponent:()=>sy,CombindForms:()=>pN,Consts:()=>r,CustomScrollWrap:()=>rF,Deps:()=>NN,DeviceInfo:()=>W.DeviceInfo,DivScrollWrap:()=>FN,DocCustomRender:()=>xh,EventEmitter:()=>bo(),Events:()=>se,FakeAreaHighlightAnnotation:()=>EN,FakeCircleAnnotation:()=>_N,FakeLineAnnotation:()=>RN,FakePolygonAnnotation:()=>IN,FakePolylineAnnotation:()=>SN,FakeSquareAnnotation:()=>yN,FileAttachmentComponent:()=>s_,FontUtil:()=>d,FreeTextBoxComponent:()=>ib,FreeTextCalloutComponent:()=>tb,FreeTextComponent:()=>N_,FreeTextTypeWritterComponent:()=>j_,Hammer:()=>Kr(),HighlightComponent:()=>$g,HtmlUtil:()=>f,IContextMenu:()=>Lx,IStateHandler:()=>nf,IViewMode:()=>fh,InkComponent:()=>p_,KeyboardUtils:()=>W.KeyboardUtils,LineComponent:()=>ym,LinkAnnotComponent:()=>iy,LocalCanvasApRenderer:()=>zg,Log:()=>VN,MarkupAnnotComponent:()=>og,Matrix:()=>nn.Z,NoteComponent:()=>r_,PDF:()=>$N,PDFDocRendering:()=>kh,PDFPageRendering:()=>Y,PDFPreviewer:()=>CN,PDFViewer:()=>eM,PDFViewerRendering:()=>U,PageCustomRender:()=>J,PolyLineComponent:()=>Sm,PolygonCloudAnnotComponent:()=>D_,PolygonComponent:()=>Vm,PropertiesControl:()=>Jv,RetryPasswordComponent:()=>BM,STATE_HANDLER_NAMES:()=>s,ScreenComponent:()=>_b,ScrollWrap:()=>Qh,ShapeControl:()=>Ng,SignatureUtil:()=>m,SignatureWidgetAnnotComponent:()=>Vb,SnappedPointAssistant:()=>pm,SnapshotServer:()=>wx,SoundComponent:()=>Sb,SquareComponent:()=>A_,SquigglyComponent:()=>Qg,StampComponent:()=>h_,StrikeOutComponent:()=>qg,StrikeOutTextEditComponent:()=>bb,TextMarkupAnnotComponent:()=>Ug,TextWidgetAnnotComponent:()=>Ub,TileJREngineApRenderer:()=>o_,UnderlineComponent:()=>Zg,UserPermission:()=>Ph,ViewerEvents:()=>MN,WidgetAnnotComponent:()=>th,_internal:()=>QN,actions:()=>$e,bookmark:()=>tL,collab:()=>KN,commons:()=>W,constants:()=>JN,creation:()=>BN,dayjs:()=>ze(),dayjsPluginUTC:()=>iL(),dialogPolyfill:()=>Gv(),form:()=>wr,i18next:()=>zp,i18nextChainedBackend:()=>Zp,i18nextLocalStorageBackend:()=>sv,i18nextXHRBackend:()=>mv,interfaces:()=>GN,jQuery:()=>j(),keyboard:()=>qN,overlayComparison:()=>ON,printer:()=>ZN,readAloud:()=>y,renderers:()=>eL,shared:()=>jN,stateHandler:()=>HN,storage:()=>b,ui:()=>WN,vendors:()=>LN,viewMode:()=>zN,viewerui:()=>YN});var i={};n.r(i),n.d(i,{Activatable:()=>q,ActivationGroup:()=>K,ActivationManager:()=>Z});var r={};n.r(r),n.d(r,{ANNOT_APPEARANCE_TYPE:()=>Oe,AnnotFlagsName:()=>ye,BORDER_STYLE:()=>he,CREATING_DRAWING_CONTEXTMENU:()=>xe,CREATING_MEASUREMENT_CONTEXTMENU:()=>ke,CUSTOM_STAMPS_LOCALKEY:()=>Be,DB_PREFIX:()=>Ie,DEFAULT_STAMPS_LOCALKEY:()=>je,DISTANCE_TOLERANCE:()=>De,EMPTY_STR:()=>Se,FAVORITE_STAMPS_LOCALKEY:()=>Ve,HIDE_FORM_FIELD_PROPERTY_BOX:()=>Re,HIDE_FORM_FIELD_SIMPLE_PROPERTY_BOX:()=>Me,HIGHLIGHTING_MODE:()=>Pe,INTERNAL_THUMBNAIL_BITMAP_HEIGHT:()=>Le,INTERNAL_THUMBNAIL_BITMAP_WIDTH:()=>Ne,Intents:()=>pe,LINE_CAPTION_POSITION:()=>me,LineEndingName:()=>ve,LineEndingStyle:()=>ge,MARKUP_ANNOTATION_STATE:()=>Ae,MEASUREMENT_INFO:()=>Fe,MODULE_NAME_TYPE:()=>Ue,MeasureType:()=>be,PDFDocPermission:()=>_e,POINT_TOLERANCE:()=>Ee,POINT_TYPE:()=>fe,POS_TYPE:()=>de,RESOLVED_PROMISE_VOID:()=>Ce,SET_FORM_CREATION_CONTINUOUSLY:()=>Te,STORE_NAMES:()=>we});var o={};n.r(o),n.d(o,{Action_Trigger:()=>kt,Action_Type:()=>it,Additional_Permission:()=>qe,AdvEditor:()=>Ht,Alignment:()=>tt,Border_Style:()=>Ze,Box_Type:()=>Pt,Calc_Margin_Mode:()=>xt,CornerMarkStyle:()=>Ot,Ending_Style:()=>et,Error_Code:()=>Je,FileAttachment_Icon:()=>Xe,File_Type:()=>at,FillSignType:()=>Nt,Flatten_Option:()=>st,Font_CIDCharset:()=>It,Font_Charset:()=>St,Font_Descriptor_Flags:()=>_t,Font_StandardID:()=>Dt,Font_Style:()=>Ke,Font_Styles:()=>Et,Graphics_FillMode:()=>Tt,Graphics_ObjectType:()=>Rt,Highlight_Mode:()=>rt,MK_Properties:()=>Mt,NameTreeType:()=>Lt,NewWindowFlag:()=>$e.NewWindowFlag,Note_Icon:()=>Qe,PageLayout:()=>Ut,PageMode:()=>Bt,Point_Type:()=>nt,PosType:()=>Ft,Position:()=>ct,Range_Filter:()=>pt,Relationship:()=>ot,RemoveHiddenDataTypes:()=>Vt,Rendering_Content:()=>vt,Rendering_Usage:()=>gt,Rotation:()=>At,Rotation_Degree:()=>dt,STAMP_TEXT_TYPE:()=>jt,Saving_Flag:()=>ft,Search_Flag:()=>ht,Signature_Ap_Flags:()=>wt,Signature_State:()=>bt,Standard_Font:()=>lt,Text_Mode:()=>Ct,Watermark_Flag:()=>ut,date_Format:()=>mt,page_Number_Format:()=>yt});var a={};n.r(a),n.d(a,{allIsSpace:()=>sn,debounce:()=>an,getQuadPointsFromRect:()=>on,normalizeQuadPoints:()=>rn,verifyRect:()=>cn});var s={};n.r(s),n.d(s,{STATE_HANDLER_CHECK_THE_SEARCH:()=>_n,STATE_HANDLER_CREATE_AREA:()=>Fn,STATE_HANDLER_CREATE_AREA_HIGHLIGHT:()=>xn,STATE_HANDLER_CREATE_ARROW:()=>wn,STATE_HANDLER_CREATE_ARTICLE_BUTTON:()=>gi,STATE_HANDLER_CREATE_CARET:()=>bn,STATE_HANDLER_CREATE_CIRCLE:()=>Pn,STATE_HANDLER_CREATE_CIRCLE_AREA:()=>Nn,STATE_HANDLER_CREATE_CREATE_AREA_HIGHLIGHT:()=>kn,STATE_HANDLER_CREATE_CROP_PAGES:()=>oi,STATE_HANDLER_CREATE_DISTANCE:()=>Rn,STATE_HANDLER_CREATE_DOCUMENT_ATTACHMENT:()=>ai,STATE_HANDLER_CREATE_EDIT_IMAGE:()=>Sn,STATE_HANDLER_CREATE_FIELD_CHECK_BOX:()=>li,STATE_HANDLER_CREATE_FIELD_COMBO_BOX:()=>di,STATE_HANDLER_CREATE_FIELD_DATE:()=>fi,STATE_HANDLER_CREATE_FIELD_IMAGE:()=>pi,STATE_HANDLER_CREATE_FIELD_LIST_BOX:()=>hi,STATE_HANDLER_CREATE_FIELD_PUSH_BUTTON:()=>ui,STATE_HANDLER_CREATE_FIELD_RADIO_BUTTON:()=>Ai,STATE_HANDLER_CREATE_FIELD_SIGNATURE:()=>ci,STATE_HANDLER_CREATE_FIELD_TEXT:()=>si,STATE_HANDLER_CREATE_FILE_ATTACHMENT:()=>Cn,STATE_HANDLER_CREATE_FREETEXT_BOX:()=>ii,STATE_HANDLER_CREATE_FREETEXT_CALLOUT:()=>ni,STATE_HANDLER_CREATE_FREETEXT_TYPEWRITER:()=>ti,STATE_HANDLER_CREATE_HIGHLIGHT:()=>Dn,STATE_HANDLER_CREATE_IMAGE:()=>En,STATE_HANDLER_CREATE_LINE:()=>Tn,STATE_HANDLER_CREATE_LINK:()=>In,STATE_HANDLER_CREATE_PENCIL:()=>Ln,STATE_HANDLER_CREATE_PERIMETER:()=>Mn,STATE_HANDLER_CREATE_POLYGON:()=>jn,STATE_HANDLER_CREATE_POLYGON_CLOUD:()=>On,STATE_HANDLER_CREATE_POLYLINE:()=>Bn,STATE_HANDLER_CREATE_RADIO_BUTTON:()=>vi,STATE_HANDLER_CREATE_REPLACE:()=>Vn,STATE_HANDLER_CREATE_SQUARE:()=>Un,STATE_HANDLER_CREATE_SQUARE_CROP:()=>Hn,STATE_HANDLER_CREATE_SQUIGGLY:()=>zn,STATE_HANDLER_CREATE_STAMP:()=>Wn,STATE_HANDLER_CREATE_STRIKE_OUT:()=>Gn,STATE_HANDLER_CREATE_TEXT:()=>Yn,STATE_HANDLER_CREATE_UNDERLINE:()=>$n,STATE_HANDLER_ERASER:()=>qn,STATE_HANDLER_HAND:()=>yn,STATE_HANDLER_LOUPE:()=>Kn,STATE_HANDLER_MARQUEE:()=>Jn,STATE_HANDLER_SELECT_ANNOTATION:()=>ei,STATE_HANDLER_SELECT_TEXT:()=>Qn,STATE_HANDLER_SELECT_TEXT_ANNOTATION:()=>Zn,STATE_HANDLER_SELECT_TEXT_IMAGE:()=>Xn,STATE_HANDLER_SNAPSHOT_TOOL:()=>ri,StateNameAnnotTypeMap:()=>mi,StateNameFieldTypeMap:()=>yi});var c={};n.r(c),n.d(c,{CENTIMETER:()=>Bi,CUSTOM:()=>Ri,FOOT:()=>Ni,INCH:()=>Ti,KILOMETER:()=>Oi,METER:()=>ji,MILE:()=>Mi,MILLIMETER:()=>Vi,PICA:()=>Ui,PIXEL_HORIZONTAL:()=>Hi,PIXEL_VERTICAL:()=>zi,POINT:()=>Fi,YARD:()=>Li,getScaleByUnit:()=>Yi,getUnitByName:()=>Gi});var u={};n.r(u),n.d(u,{AccordionCardComponent:()=>Xa,AccordionComponent:()=>Qa,ButtonComponent:()=>ka,CheckboxComponent:()=>Pa,CollapsePanelComponent:()=>Ba,ColorPickerButtonComponent:()=>gu,ColorPickerComponent:()=>gc,ColorSpectrumComponent:()=>wc,ContentEditorComponent:()=>Mu,ContextMenuComponent:()=>Nc,ContextMenuItemComponent:()=>Lc,ContextMenuSeparatorComponent:()=>Fc,DocumentEventListener:()=>Lu,DropdownButtonComponent:()=>Za,DropdownComponent:()=>wa,DropdownItemComponent:()=>ia,FileSelectorComponent:()=>$a,FormGroupComponent:()=>cu,GTabItemComponent:()=>tu,GroupComponent:()=>Sa,GroupListComponent:()=>Ia,HTMLCommentComponent:()=>nu,InputComponent:()=>ds,IntersectionDetectorComponent:()=>vu,LayerComponent:()=>cs,LayerHeaderComponent:()=>as,LayerToolbarComponent:()=>us,LayerViewComponent:()=>ls,NativeComponent:()=>ou,NumberComponent:()=>is,OptionComponent:()=>zc,OptionGroupComponent:()=>Hc,PDFUnitNumberInputComponent:()=>mu,PaddleComponent:()=>Uc,PlaceholderTextComponent:()=>Ka,RadioComponent:()=>fs,RibbonButtonComponent:()=>va,SVGComponent:()=>au,SelOptionComponent:()=>du,SelectComponent:()=>ks,SelectListComponent:()=>hu,SidebarComponent:()=>La,SidebarPanelComponent:()=>Na,SliderComponent:()=>_s,SlotComponent:()=>Ec,TabItemComponent:()=>Ra,TabsComponent:()=>Ta,TemplateComponent:()=>As,TextAreaComponent:()=>yu,TextComponent:()=>qa,ToolbarComponent:()=>Ja,TooltipLayerComponent:()=>Oc,WindowEventListener:()=>Nu,XSelectComponent:()=>Mc});var l={};n.r(l),n.d(l,{AlertComponent:()=>HA,ConfirmComponent:()=>XA,CustomConfirmComponent:()=>td,DropdownSelectComponent:()=>dd,LoadingComponent:()=>qA,PromptComponent:()=>GA,PromptPasswordComponent:()=>JA,ScenarioOptionComponent:()=>bd,ScenarioOptionGroupComponent:()=>vd,SidebarContextmenuComponent:()=>ud,TreeComponent:()=>ad,TreeNodeComponent:()=>rd,TreeNodeListComponent:()=>od});var A={};n.r(A),n.d(A,{arrayBufferToBase64:()=>ND,base64ToArrayBuffer:()=>LD,formatFileLastModified:()=>RD,formatFileSize:()=>TD,isFDFFile:()=>SD,isJSONFile:()=>ED,isXFDFFile:()=>ID,removeWhiteBgFromBase64:()=>FD});var d={};n.r(d),n.d(d,{AdditionalFamilies:()=>oS,BaseFontFamilies:()=>iS,BaseFontFamiliesCN:()=>rS,Charset:()=>uS,FontFamilies:()=>eS,FoxitFontMap:()=>QE,extensionFontFamilies:()=>sS,getCharsets:()=>lS,getDefaultName:()=>cS,getStandardFont:()=>nS,isStandardFont:()=>tS,mapFontName2StdID:()=>ZE,mapStdID2FontName:()=>XE,standardFontFamilies:()=>aS,stdFontMap:()=>KE});var h={};n.r(h),n.d(h,{isAudioFile:()=>bM,isBMP:()=>SM,isFDF:()=>RM,isGIF:()=>EM,isImageFile:()=>PM,isJPEG:()=>CM,isPDF:()=>uM,isPDFFile:()=>cM,isPNG:()=>DM,isPlainText:()=>LM,isSVG:()=>IM,isTheoraCodec:()=>gM,isValidMP3:()=>wM,isValidMP4:()=>fM,isValidOGGAudio:()=>kM,isValidOGGVideo:()=>vM,isValidWebM:()=>pM,isVideoFile:()=>lM,isVorbisCodec:()=>xM,isWebp:()=>TM,isXDP:()=>MM,matchFileHead:()=>sM,supportsH264Video:()=>dM,supportsMP3:()=>yM,supportsOGGAudio:()=>_M,supportsOGGVideo:()=>hM});var f={};n.r(f),n.d(f,{html2Escape:()=>VM,htmlCharacter2Entity:()=>UM,jquerySelector2Escape:()=>HM});var p={};n.r(p),n.d(p,{BorderStyle:()=>OM,SelectionEventType:()=>jM,Selections:()=>WM,createAreaLimitationReducer:()=>zM});var v={};n.r(v),n.d(v,{changedPasswordAndPermission:()=>tF,convertPermissionToUIData:()=>YM,convertUIDataToPermission:()=>$M,getInputOwnerPwd:()=>XM,getPermissionDefaultUIData:()=>GM,getPwdPopupLatestUIData:()=>qM,requestOwnerPassword:()=>nF,setCertificateAndPermission:()=>eF,setInputOwnerPwd:()=>QM,setPwdPopupLatestUIData:()=>KM});var g={};n.r(g),n.d(g,{Eraser:()=>lF,Point:()=>sF,PointType:()=>oF});var m={};n.r(m),n.d(m,{addFATLAndEUTLListToCertificateList:()=>UF,addTrustedCert:()=>TF,getFATLAndEUTLList:()=>zF,getSignatureFieldFromPDFDoc:()=>mF,getTrustedCertificateList:()=>BF,getTrustedCertificateListDb:()=>IF,getTrustedCertificateListDbInfo:()=>SF,hasCertifySignatureInPDF:()=>_F,hasSignedSignatureInPDF:()=>bF,removeTrustedCert:()=>MF,removeTrustedCerts:()=>NF,verifySignatureUtil:()=>$F});var y={};n.r(y),n.d(y,{AbstractPDFTextToSpeechSynthesis:()=>mI,PDFTextToSpeechSynthesisStatus:()=>pI,ReadAloudService:()=>PI,Store:()=>gI});var _={};n.r(_),n.d(_,{FileFormat:()=>h,SecurityUtils:()=>v,file:()=>A,pageRangeTwoDimensionToOne:()=>Ah});var b={};n.r(b),n.d(b,{IndexedDBStorageDriver:()=>vT,LocalStorageDriver:()=>xN,StorageFeature:()=>er});n(3522),n(4593);var w=n(2956),k=n(9149),x=n(1540),P=n(5578),C=n(9227),D=n(7424),E=n(6905),S=n(9418),I=n(5467),T=n(5843),R=n(449),M=n(4919),F=n(9256),N=n(5376),L=n(7582),O=(n(7759),n(5044),n(9755)),j=n.n(O),B=n(5680),V=n.n(B);const U=function(){function e(t,n){(0,C._)(this,e),this.$ui=j()(t),this.pdfViewerRender=n,this.pdfViewer=n.pdfViewer}return(0,D._)(e,[{key:"rendering",value:function(){this.closeLoadingFn=this.pdfViewer.viewerUI.loading(this.$ui.get(0))}},{key:"rendered",value:function(){this.closeLoadingFn&&this.closeLoadingFn(),this.$ui.addClass("rendered")}}]),e}();const H='<div class="fv__pdf-view-mode-item"> <div class="fv__pdf-page-layout"> <div class="fv__pdf-page-rendering" style="position:absolute;width:100%;z-index:99"></div> <div class="fv__pdf-custom-page-container"></div> <div class="fv__pdf-page-container"> </div> <div class="fv__pdf-page-annots-container"></div> <div class="fv__pdf-page-customs-container"></div> <div class="fv__pdf-page-handler-container"></div> </div> </div>';var z=n(5991),W=n(7984),G=n(3601);const Y=function(){function e(t,n){(0,C._)(this,e),this.$ui=j()(t),this.pageRender=n,this.docRender=n.docRender,this.viewerRender=this.docRender.viewerRender,this.pdfViewer=this.viewerRender.pdfViewer}return(0,D._)(e,[{key:"rendering",value:function(){this.$ui.removeClass("rendered"),this.closeRenderingFn=this.pdfViewer.viewerUI.loading(this.$ui.get(0),"page")}},{key:"rendered",value:function(){this.$ui.addClass("rendered"),this.closeRenderingFn&&this.closeRenderingFn()}},{key:"destroy",value:function(){this.closeRenderingFn&&this.closeRenderingFn(),this.$ui=null}}]),e}();var J=function(){function e(t,n){(0,C._)(this,e),this.eCustom=t,this.pdfPageRender=n}return(0,D._)(e,[{key:"render",value:function(e,t){}},{key:"destroy",value:function(){this.pdfPageRender=null,this.eCustom=null}}]),e}(),q=function(){function e(){(0,C._)(this,e),(0,z._)(this,"isActive",!1)}return(0,D._)(e,[{key:"active",value:function(){this.isActive||(this.isActive=!0,this.doActive())}},{key:"unActive",value:function(){this.isActive&&(this.isActive=!1,this.doDeactive())}}]),e}(),K=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;return(0,C._)(this,n),e=t.apply(this,arguments),(0,z._)((0,x._)(e),"activations",[]),e}return(0,D._)(n,[{key:"add",value:function(e){this.contains(e)||(this.activations.push(e),this.isActive&&!e.isActive&&e.active())}},{key:"remove",value:function(e){var t=this,i=this.activations.indexOf(e);return i<0?this.activations.some((function(i,r){if((0,T._)(i,n)){var o=i.remove(e);return o&&!i.hasActivations()&&t.activations.splice(r,1),o}return!1})):(this.activations.splice(i,1),this.isActive&&e.isActive&&((0,T._)(e,n)?(e.activations||[]).forEach((function(e){return e.unActive()})):e.unActive()),!0)}},{key:"exclude",value:function(e){return this.activations.filter((function(t){return!e.contains(t)}))}},{key:"contains",value:function(e){return this.activations.indexOf(e)>-1||this.activations.some((function(t){return(0,T._)(t,n)&&t.contains(e)}))}},{key:"clear",value:function(){this.activations.forEach((function(e){e.isActive&&e.unActive()})),this.activations.length=0}},{key:"getAllActivations",value:function(){return this.activations.reduce((function(e,t){return(0,T._)(t,n)?e.push.apply(e,t.getAllActivations()):e.push(t),e}),[])}},{key:"hasActivations",value:function(){return this.activations.length>0}},{key:"doActive",value:function(){this.activations.forEach((function(e){e.isActive||e.active()}))}},{key:"doDeactive",value:function(){this.activations.forEach((function(e){e.isActive&&e.unActive()})),this.activations.length=0}}]),n}(q),Z=function(){function e(){(0,C._)(this,e),(0,z._)(this,"currentActivatable",void 0)}return(0,D._)(e,[{key:"active",value:function(e){if(this.getCurrentActivatable()!==e){if((0,T._)(this.currentActivatable,K)){if(this.currentActivatable.contains(e))return;if((0,T._)(e,K)){var t=this.currentActivatable.exclude(e);t.length>0?t.forEach((function(e){e.isActive&&e.unActive()})):this.currentActivatable.isActive&&this.currentActivatable.unActive()}else{var n,i;if(null===(n=this.currentActivatable)||void 0===n?void 0:n.isActive)null===(i=this.currentActivatable)||void 0===i||i.unActive()}}else{var r,o;if(null===(r=this.currentActivatable)||void 0===r?void 0:r.isActive)null===(o=this.currentActivatable)||void 0===o||o.unActive()}this.currentActivatable=e,e.isActive||e.active()}}},{key:"activeOnly",value:function(e){this.getCurrentActivatable()!==e&&(this.currentActivatable=e,e.isActive||e.active())}},{key:"unActive",value:function(e){var t=this.getCurrentActivatable();t&&e&&e.isActive&&((0,T._)(t,K)?t.remove(e):t===e&&(e.isActive&&e.unActive(),this.currentActivatable=void 0))}},{key:"unActiveCurrent",value:function(){var e,t;(null===(e=this.currentActivatable)||void 0===e?void 0:e.isActive)&&(null===(t=this.currentActivatable)||void 0===t||t.unActive());this.currentActivatable=void 0}},{key:"getCurrentActivatable",value:function(){var e;if(null===(e=this.currentActivatable)||void 0===e?void 0:e.isActive)return this.currentActivatable}},{key:"getAllCurrentActivatables",value:function(){var e=this.getCurrentActivatable();return e?(0,T._)(e,K)?e.getAllActivations():[e]:[]}},{key:"hasActivations",value:function(){return null!=this.currentActivatable&&(!(0,T._)(this.currentActivatable,K)||this.currentActivatable.hasActivations())}},{key:"currentActivableIs",value:function(e){var t=this.getCurrentActivatable();return t===e||(0,T._)(t,K)&&t.contains(e)}},{key:"clear",value:function(){this.currentActivatable=void 0}}]),e}(),X=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:null,pdfViewer:null};return(0,C._)(this,n),(e=t.call(this)).disposor=new W.Disposable,e._parent=i,e._parentName=i.name,e.pdfViewer=i.pdfViewer,e.isDestroyed=!1,e}return(0,D._)(n,[{key:"addDestroyHook",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i;(i=this.disposor).addDestroyHook.apply(i,(0,M._)(t))}},{key:"destroy",value:function(){this._parent=null,this.isDestroyed=!0,this.disposor.destroy()}},{key:"parent",value:function(e){var t=this._parent;return e?t?e===this._parentName?t:t.parent(e):null:t}},{key:"doActive",value:function(){}},{key:"doDeactive",value:function(){}}]),n}(q);const Q=X;var ee=function(){},te=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;return(0,C._)(this,n),(a=t.call(this,o)).name=n.getDefaultName(),a.$ui=e,a.$handler=i,a.$page=o.$ui,a.annot=r,a.component=new(a.pdfViewer.annotManager.get(r))(r,e[0],i[0],(0,x._)(a)),a.component.init(),a}return(0,D._)(n,[{key:"destroy",value:function(){this.component.destroy()}},{key:"updateSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.component.updateSize(e,t)}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=arguments.length>2?arguments[2]:void 0;if(this.isDestroyed||this.component.isDestroyed)return Promise.resolve();var i=this.scale,r=this.rotate;this.scale=e,this.rotate=t;var o=this.component;if(o.setVisibleRect(n),o.isHidden()){if(o.$ui.addClass("fv__markup-annot-invisible"),!o.isFormControl())return Promise.resolve()}else o.isUIVisible()&&o._showUI();return o.$ui.removeClass("fv__markup-annot-invisible"),o.isUIVisible()?Promise.resolve(o.render(e,t)).then((function(n){var a=i!==e||r!==t;return Promise.resolve(o.afterRender({transformed:a,prescale:i,scale:e,prerotate:r,rotate:t})).then((function(e){return n}))})).catch(ee):Promise.resolve()}},{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.scale=e,this.rotate=t,Promise.resolve(this.component.add(e,t))}},{key:"active",value:function(e){return Promise.resolve(this.component.active(e))}},{key:"unActive",value:function(){return Promise.resolve(this.component.unActive())}},{key:"focus",value:function(){return this.component.focus(this.$page)}},{key:"blur",value:function(){return this.component.blur(this.$page)}},{key:"remove",value:function(e){var t=this,n=this.parent();if(e)return n.unActiveAnnot(this.annot).then((function(){t.component.remove(),n.removeAnnotRender(t)}));for(var i=this.getRelevanceRenders(),r=[],o=i.length;o--;)r[o]=i[o].remove(!0);return Promise.all(r)}},{key:"showContextMenu",value:function(e,t){return this.component.showContextMenu(e,t)}},{key:"doubleTapAnnot",value:function(){this.component.doubleTapAnnot()}},{key:"redraw",value:function(e,t){if(e)return Promise.resolve(this.component.redraw(t));for(var n=this.getGroupRenders(),i=[],r=n.length;r--;)i[r]=n[r].redraw(!0,t);return Promise.all(i)}},{key:"getAnnot",value:function(){return this.getPDFAnnot()}},{key:"getPDFAnnot",value:function(){return this.annot}},{key:"getGroupRenders",value:function(){var e=this.annot,t=[e];if(!e.IsGrouped||!e.IsGrouped())return[this];t=[].concat(e.getGroupElements());var n=this.parent().getAnnotRenders(),i=[];for(var r in n){var o=n[r],a=t.indexOf(o.getPDFAnnot());if(a>-1&&(i.push(o),t.splice(a,1)),!t.length)break}return i}},{key:"getRelevanceRenders",value:function(){var e,t=[],n=this.annot;(e=(n=n.getGroupHeader&&n.getGroupHeader()||n).getPopup&&n.getPopup())&&t.push(e),function(e,t){ie(e,"getReplies",t)}(n,t),re(n,t),oe(n,t);var i=n.isGrouped&&n.isGrouped()?n.getGroupElements():[n];t=t.concat(i);var r=this.parent().getAnnotRenders(),o=[];try{for(var a in r){var s=r[a],c=t.indexOf(s.getPDFAnnot());if(c>-1&&(o.push(s),t.splice(c,1)),!t.length)break}}catch(e){}return o}},{key:"moved",value:function(e){this.component.moved(),this.component.movedByOther(e)}},{key:"getComponent",value:function(){return this.component}},{key:"invisibleRender",value:function(){this.component.invisibleRender()}},{key:"clearCache",value:function(){this.component.clearCache()}}],[{key:"getDefaultName",value:function(){return"annotRender"}}]),n}(Q);const ne=te;function ie(e,t,n){if(e[t]){var i=e[t](),r=i.length;if(r){n.push.apply(n,i);for(var o=r;o--;){var a=i[o];re(a,n),oe(a,n),ie(a,t,n)}}}}function re(e,t){return ie(e,"getMarkedStates",t)}function oe(e,t){return ie(e,"getReviewStates",t)}var ae=n(9475);const se=Object.assign({jrLicenseSuccess:"jr-license-success",srLicenseSuccess:"sr-license-success",beforeOpenFile:"before-open-file",openingFile:"opening-file",beforeLoadPDFDoc:"before-load-pdf-document",openFileSuccess:"open-file-success",openFileFailed:"open-file-failed",willCloseDocument:"will-close-document",documentClosed:"document-closed",renderFileSuccess:"render-file-success",renderFileFailed:"render-file-error",beforeRenderPage:"before-render-page",renderPageSuccess:"render-page-success",updateZoomMode:"update-zoom-mode",beforeZoomTo:"before-zoom-to",zoomToSuccess:"zoom-to-success",zoomToFailed:"zoom-to-failed",startChangeViewMode:"start-change-view-mode",changeViewModeSuccess:"change-view-mode-success",toggleFullScreen:"toggle-full-screen",changeViewModeFailed:"change-view-mode-failed",pagesLayoutRedrawBegin:"pages-layout-redraw-begin",pageLayoutRedraw:"page-layout-redraw",pagesLayoutRedrawEnd:"pages-layout-redraw-end",copyTextSuccess:"copy-text-success",copyTextFailed:"copy-text-failed",tapPage:"tap-page",tapAnnotation:"tap-annotation",pressPage:"press-page",pressAnnotation:"press-annotation",pressText:"press-text",rightClickPage:"right-click-page",rightClickAnnotation:"right-click-annotation",doubleTapPage:"double-tap-page",doubleTapAnnotation:"double-tap-annotation",activeAnnotationBefore:"active-annotation-before",activeAnnotation:"active-annotation",activeAnnotationAfter:"active-annotation-after",panActiveAnnotation:"pan-active-annotation",doubleTapActiveAnnotation:"double-tap-active-annotation",contextMenuActiveAnnotation:"contextmenu-action-annotation",activeMultipleAnnotations:"active-multiple-annotations",unActiveAnnotation:"unactive-annotation",updateActiveAnnotation:"update-action-annotation",updateActionAnnotation:"update-action-annotation",removeActiveAnnotationBefore:"remove-action-annotation-before",removeActionAnnotationBefore:"remove-action-annotation-before",removeActiveAnnotationSuccess:"remove-action-annotation-success",removeActionAnnotationSuccess:"remove-action-annotation-success",removeActiveAnnotationFailed:"remove-action-annotation-failed",removeActionAnnotationFailed:"remove-action-annotation-failed",beforeSwitchStateHandler:"before-switch-state-handler",switchStateHandler:"switch-state-handler",deactiveStateHandler:"deactive-state-handler",afterSwitchStateHandler:"after-switch-state-handler",redactAnnotAllApplyed:"applyed-all-redaction",redactAnnotApplyed:"applyed-redaction",pageNumberChange:"page-number-change",beforeDocumentRotation:"before-document-rotation",afterDocumentRotation:"after-document-rotation",snapModeChanged:"snap-mode-changed",createPageAreaRenderer:"create-page-area-renderer",destroyPageAreaRenderer:"destroy-page-area-renderer",startUpdatePageAreaRenderer:"start-update-page-area-renderer",createSnapshotArea:"create-snapshot-area",updateSnapshotArea:"update-snapshot-area",stabilizedSnapshotArea:"stabilized-snapshot-area",switchPageAreaRenderer:"switch-page-area-renderer",fitWidthResizeViewport:"fit-width-resize-viewport",signatureFieldMouseLButtonDown:"signature-field-Lbutton-down",signatureFieldMouseLButtonUp:"signature-field-LButton-up",signatureFieldMouseEnter:"signature-field-mouse-enter",signatureFieldMouseExit:"signature-field-mouse-exit",visiblePagesRenderCompleted:"completed-render-visible-pages",marqueeZoomIn:"marquee-zoom-in",marqueeZoomOut:"marquee-zoom-out",inkSignAdded:"inkSign-added",inkSignDeleted:"inkSign-deleted",changeReadSpeed:"changeReadSpeed",changeReadVolume:"changeReadVolume",pageMoved:"page-moved",pageRemoved:"page-removed",pageAdded:"page-added",customDataAdd:"custom-data-add",customDataImported:"custom-data-imported",customDataRemoved:"custom-data-removed",customDataUpdated:"custom-data-updated",distanceAnnotCreationStart:"distance-creation-start",perimeterAnnotCreationStart:"perimeter-creation-start",updateDistanceAnnot:"update-distance-annot",distanceAnnotCreationEnd:"distance-creation-end",distanceAnnotCreationCancel:"distance-creation-cancel",drawingAnnotCreationStart:"drawing-creation-start",drawingAnnotCreationEnd:"drawing-creation-end",drawingAnnotCreationCancel:"drawing-creation-cancel",addEditImage:"add-edit-image",InkImageSelected:"ink-image-selected",checkTheSearch:"check-the-search",activeElementChanged:"active-element-changed",cancelCreatingDistance:"cancel-creating-measurement",completeCreatingDistance:"complete-creating-measurement",eraserSuccess:"eraser-success",addAnnotSuccess:"add-annot-success",cancelAddAnnot:"cancel-add-annot",globalAnnotFlagChanged:"global-annot-flag-changed",toolbarTabsClicked:"toolbar-tabs-clicked",sideBarChanged:"sidebar-changed",showWhatsNew:"show-whats-new",disableScroll:"disable-scroll",enableScroll:"enable-scroll",updateScrollableStatus:"update-scrollable-status",selectText:"select-text",changeEnableJS:"change-enable-js",toggleEngineSr2JrSuccess:"toggle-engine-sr-to-jr-success",iconInited:"iconInited",iconAdded:"iconAdded",iconRemoved:"iconRemoved",annotationPermissionChanged:"annotation-premission-changed",startScrollingPage:"pdfui-start-scrolling-page",scrollingPage:"pdfui-scrolling-page",endScrollingPage:"pdfui-end-scrolling-page",designerAssistantStatusChanged:"form-designer-assistant-status-changed",mouseEnter:"mouse-enter",mouseLeave:"mouse-leave",setFromFieldHighlight:"set_form_field_highlight",AddFontMaps:"set_font_map",thumbnailClicked:"thumbnail-clicked",layerActionActived:"layer-action-actived",redeModeShowSidebar:"rede-mode-show-sidebar",gridToggle:"grid-toggle",snapGridToggle:"snap-grid-toggle",toggleCollaborationMode:"toggleCollaborationMode",findReplaceDialogVisibleChange:"find-replace-dialog-visible-change",showAllComments:"show-all-comments",hideAllComments:"hide-all-comments",focusOnControl:"focus-on-control",blurFromObject:"blur-from-object",documentWillPrint:"document-will-print",documentDidPrint:"document-did-print",documentWillSave:"document-will-save",documentDidSave:"document-did-save",verifyDocSignatureEvent:"verify-doc-signature",verifySignatureEvent:"verify-signature",clearSignatureEvent:"clear-signature",viewSignedVersionDocEvent:"view-signed-version",showFieldPropertiesEvent:"show-field-properties",showSignatureVerifyInfoEvent:"show-signature-tusted-info",compareSignedVersionEvent:"compare-signed-version",showCompareSignedVersionResultEvent:"show-compare-signed-version-result",eSignCnShowMultiPageStamp:"eSignCnShowMultiPageStamp",eSignCNAddDateStamp:"eSignCNAddDateStamp",eSignCNCloseStamp:"eSignCNCloseStamp",eSignCNChangePagingSeal:"eSignCNChangePagingSeal",eSignCNOpenProcessSeal:"eSignCNOpenProcessSeal",eSignCnApply:"eSignCnApply",eSignCNShowOfflineResult:"eSignCNShowOfflineResult",eSignCnExit:"eSignCnExit",tapField:"tap-field",tapGraphicsObject:"tap-graphics-object",spawnPageSuccess:" spawn-page-success",progressChanged:"progress-changed",togglePageContextMenu:"toggle-page-contextmenu",beforeRenderingVisiblePages:"before-rerendering-visible-pages",afterRenderingVisiblePages:"after-rerendering-visible-pages",localFontLoaded:"local-font-loaded",willToggleAutoScroll:"will-toggle-auto-scroll",showLoading:"show-loading",changeLanguageSuccess:"change-language-success"},ae.Z);n(7337);var ce=function(){},ue=function(){function e(){(0,C._)(this,e),this.queue=[],this.promise=Promise.resolve()}return(0,D._)(e,[{key:"push",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ce,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return this.queue.push([e,n]),new Promise((function(e,n){setTimeout((function(){return t.exec()}),i)}))}},{key:"exec",value:function(){var e=this;if(!this.execIng){var t=this.queue.pop();if(t){this.execIng=!0;for(var n=0,i=this.queue.length;n<i;n++)this.queue[n][1]();return this.queue=[],Promise.resolve(t[0]()).catch((function(){try{return Promise.resolve(t[1]()).catch(ce)}catch(e){}})).finally((function(){e.execIng=!1,setTimeout((function(){e.exec()}),30)}))}}}},{key:"end",value:function(){this.queue=[]}}]),e}(),le=function(){function e(){(0,C._)(this,e),this.executor=new W.QueuedAsyncTaskExecutor}return(0,D._)(e,[{key:"serial",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.executor.cancel(),this.executor.waitForCurrentRunningTasks().then((function(){return e.executor.resume(),e.executor.execTasks(t.map((function(e){return{task:e}})))}))}},{key:"push",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.executor.execTasks(t.map((function(e){return{task:e}})))}},{key:"unshift",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.executor.insert(t.map((function(e){return{task:e}}))),this.executor.waitForCurrentRunningTasks()}},{key:"concat",value:function(){var e=this;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){e.executor.exec(t)})),this.executor.waitForCurrentRunningTasks()}},{key:"exec",value:function(){return this.executor.waitForCurrentRunningTasks()}},{key:"end",value:function(){return this.executor.cancel(),this.executor.waitForCurrentRunningTasks()}}]),e}();!function(){function e(){(0,C._)(this,e),this.queue=[],this.continueExec=!0,this.deferred=(0,W.createDeferred)(),this.task=Promise.resolve()}(0,D._)(e,[{key:"serial",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.queue=e,this.exec(),this.deferred.promise}},{key:"push",value:function(){this.queue.push.apply(this.queue,arguments)}},{key:"unshift",value:function(){this.queue.unshift.apply(this.queue,arguments)}},{key:"concat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.queue.concat(e)}},{key:"exec",value:function(){var e=this;if(!this.execIng){this.execIng=!0;var t=this.queue.shift()||[ce],n=t[0]();return this.execIngEnd=t[1]||ce,Promise.resolve(n).finally((function(){return e.execIng=!1,e.queue.length?e.continueExec?void e.task.then((function(t){return e.exec()})):(e.queue=[],e.deferred.resolve(n)):e.deferred.resolve(n)})).catch(ce),this.deferred.promise}}},{key:"end",value:function(){if(this.execIng)try{Promise.resolve(this.execIngEnd()).catch(ce)}catch(e){}return this.continueExec=!1,this.queue=[],this.deferred.promise}}])}();const Ae={MARKED:"marked",UNMARKED:"unmarked",ACCEPTED:"accepted",REJECTED:"rejected",CANCELLED:"cancelled",COMPLETED:"completed",DEFERRED:"deferred",FUTURE:"future",NONE:"none"};var de={FIRST:0,LAST:1,AFTER:2,BEFORE:3,NEXT:2,PREV:3},he={SOLID:0,DASHED:1,UNDERLINE:2,BEVELED:3,INSET:4,CLOUDY:5,NOBORDER:6},fe={MOVE_TO:1,LINE_TO:2,LINE_TO_CLOSE_FIGURE:3,BEZIER_TO:4,BEZIER_TO_CLOSE_FIGURE:5},pe={LINE_ARROW:"LineArrow",LINE_DIMENSION:"LineDimension",POLYGON_CLOUD:"PolygonCloud",POLYGON_DIMENSION:"PolygonDimension",POLYLINE_DIMENSION:"PolyLineDimension",CIRCLE_DIMENSION:"CircleDimension",FREETEXT_TYPEWRITER:"FreeTextTypewriter",FREETEXT_CALLOUT:"FreeTextCallout",FREETEXT_TEXTBOX:"FreeTextTextbox",STRIKEOUT_TEXTEDIT:"StrikeOutTextEdit"},ve={0:"None",1:"Square",2:"Circle",3:"Diamond",4:"OpenArrow",5:"ClosedArrow",6:"Butt",7:"ROpenArrow",8:"RClosedArrow",9:"Slash"},ge=Object.keys(ve).reduce((function(e,t){return e[ve[t]]=Number(t),e}),{}),me={POS_INLINE:0,POS_TOP:1},ye={0:"invisible",1:"hidden",2:"print",3:"nozoom",4:"norotate",5:"noview",6:"readonly",7:"locked",8:"togglenoview"},_e={PrintLowQuality:4,ModifyDocument:8,Extract:16,AnnotForm:32,FillForm:256,ExtractAccess:512,Assemble:1024,PrintHighQuality:2048},be={MeasureTypeX:0,MeasureTypeY:1,MeasureTypeD:2,MeasureTypeA:3,MeasureTypeT:4,MeasureTypeS:5},we={SELECTION_INFO:"viewer--store-selection-info"},ke="creating-measurement-contextmenu",xe="creating-drawing-contextmenu",Pe={NONE:0,INVERT:1,OUTLINE:2,PUSH:3,TOGGLE:4},Ce=Promise.resolve(),De=2,Ee=.01,Se="",Ie="FoxitPDFSDKForWeb_",Te="set_form_creation_continuously",Re="hideFormFieldPropertyBox",Me="hideFormFieldSimplePropertyBox",Fe="measurementInfo",Ne=200,Le=258,Oe={ROLLOVER:"rollover",NORMAL:"normal",DOWN:"down"},je="DEFAULT-STAMPS",Be="CUSTOM-STAMPS",Ve="FAVORITE-STAMPS-LIST",Ue={ConnectedPDF:1,XFA:2,Redaction:3,RMS:4,OCR:5,Comparison:6,Compliance:7,Optimizer:8,Conversion:9,LayoutRecognition:10,AdvEdit:11,ThreeD:12},He=n(7484),ze=n.n(He);var We=function(e,t,n){if(!e)return"";var i="";if("object"==typeof e&&e.IsValid){if(!e.IsValid())return i;e=function(e){return new Date(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.milliseconds)}(e)}var r=ze()(e);if((t=t||"YYYY-MM-DD HH:mm:ss").indexOf("Z")>=0){n=Object.assign({separator:":",prefix:"",suffix:"",showSpace:!0},n);var o=r.format("Z");":"!==n.separator&&(o=o.replace(":",String(n.separator))),""!==n.prefix&&(o=String(n.prefix)+o),""!==n.suffix&&(o+=String(n.suffix)),t=t.replace(/\s+Z+|Z+/g,"");var a=n.showSpace?" ":"";i=r.format(t)+a+o}else i=r.format(t);return i},Ge=function(e){return"D:"+We(e,"YYYYMMDDHHmmssZ",{separator:"'",showSpace:!1})+"'"};const Ye=We;var $e=n(6929);const Je={success:0,file:1,format:2,password:3,handle:4,certificate:5,unknown:6,invalidLicense:7,param:8,unsupported:9,outOfMemory:10,securityHandler:11,notParsed:12,notFound:13,invalidType:14,conflict:15,unknownState:16,dataNotReady:17,invalidData:18,xFALoadError:19,notLoaded:20,invalidState:21,notCDRM:22,canNotConnectToServer:23,invalidUserToken:24,noRights:25,rightsExpired:26,deviceLimitation:27,canNotRemoveSecurityFromServer:28,canNotGetACL:29,canNotSetACL:30,isAlreadyCPDF:31,isAlreadyCDRM:32,canNotUploadDocInfo:33,canNotUploadCDRMInfo:34,invalidWrapper:35,canNotGetClientID:36,canNotGetUserToken:37,invalidACL:38,invalidClientID:39,OCREngineNotInit:40,diskFull:41,OCRTrialIsEnd:42,filePathNotExist:43,complianceEngineNotInit:44,complianceEngineInvalidUnlockCode:45,complianceEngineInitFailed:46,timeStampServerMgrNotInit:47,LTVVerifyModeNotSet:48,LTVRevocationCallbackNotSet:49,LTVCannotSwitchVersion:50,LTVCannotCheckDTS:51,LTVCannotLoadDSS:52,LTVCannotLoadDTS:53,needSigned:54,complianceResourceFile:55,timeStampServerMgrNoDefaltServer:56,defaultTimeStampServer:57,noConnectedPDFModuleRight:58,noXFAModuleRight:59,noRedactionModuleRight:60,noRMSModuleRight:61,noOCRModuleRight:62,noComparisonModuleRight:63,noComplianceModuleRight:64,noOptimizerModuleRight:65,noConversionModuleRight:66,collaborationSession:1400};var qe={download:1},Ke={normal:0,italic:1,bold:2},Ze={solid:0,dashed:1,underline:2,beveled:3,inset:4,cloudy:5,noBorder:6},Xe={graph:"Graph",pushPin:"PushPin",paperclip:"Paperclip",tag:"Tag"},Qe={Check:"Check",Circle:"Circle",Comment:"Comment",Cross:"Cross",Help:"Help",Insert:"Insert",Key:"Key",NewParagraph:"NewParagraph",Note:"Note",Paragraph:"Paragraph",RightArrow:"RightArrow",RightPointer:"RightPointer",Star:"Star",UpArrow:"UpArrow",UpLeftArrow:"UpLeftArrow"},et={None:0,Square:1,Circle:2,Diamond:3,OpenArrow:4,ClosedArrow:5,Butt:6,ReverseOpenArrow:7,ReverseClosedArrow:8,Slash:9},tt={left:0,center:1,right:2},nt={moveTo:1,lineTo:2,lineToCloseFigure:3,bezierTo:4,bezierToCloseFigure:5},it=$e.ActionType,rt={none:0,invert:1,outline:2,push:3,toggle:4},ot={firstChild:0,lastChild:1,previousSibling:2,nextSibling:3,firstSibling:4,lastSibling:5},at={fdf:0,xfdf:1,xml:2,csv:3,txt:4,json:5},st={all:0,field:1,annot:2},ct={topLeft:"TopLeft",topCenter:"TopCenter",topRight:"TopRight",centerLeft:"CenterLeft",center:"Center",centerRight:"CenterRight",bottomLeft:"BottomLeft",bottomCenter:"BottomCenter",bottomRight:"BottomRight"},ut={asContent:0,asAnnot:1,onTop:2,unprintable:4,display:8},lt={courier:0,courierBold:1,courierBoldOblique:2,courierOblique:3,helvetica:4,helveticaBold:5,helveticaBoldOblique:6,helveticaOblique:7,timesRoman:8,timesBold:9,timesBoldItalic:10,timesItalic:11,symbol:12,zapfDingbats:13},At={rotation0:0,rotation1:1,rotation2:2,rotation3:3},dt={rotation0:0,rotation90:90,rotation180:180,rotation270:270},ht={caseSensitive:1,wholeWord:2,consecutively:4},ft={normal:0,incremental:1,noOriginal:2,XRefStream:8,linearized:4096,removeRedundantObjects:16},pt={all:0,even:1,odd:2},vt={page:"page",annot:"annot"},gt={print:"print",view:"view"},mt={MSlashD:0,MSlashDSlashYY:1,MSlashDSlashYYYY:2,MMSlashDDSlashYY:3,MMSlashDDSlashYYYY:4,DSlashMSlashYY:5,DSlashMSlashYYYY:6,DDSlashMMSlashYY:7,DDSlashMMSlashYYYY:8,MMSlashYY:9,MMSlashYYYY:10,MDotDDotYY:11,MDotDDotYYYY:12,MMDotDDDotYY:13,MMDotDDDotYYYY:14,MMDotYY:15,DDotMDotYYYY:16,DDDotMMDotYY:17,DDDotMMDotYYYY:18,YYHyphenMMHyphenDD:19,YYYYHyphenMMHyphenDD:20},yt={default:0,numberOfCount:1,numberSlashCount:2,pageNumber:3,pageNumberOfCount:4},_t={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144},bt={verifyUnknown:2147483648,verifyValid:4,verifyInvalid:8,verifyErrorByteRange:64,verifyChange:128,verifyIncredible:256,verifyNoChange:1024,verifyIssueUnknown:2048,verifyIssueValid:4096,verifyIssueRevoke:16384,verifyIssueExpire:32768,verifyIssueUncheck:65536,verifyIssueCurrent:131072,verifyTimestampNone:262144,verifyTimestampDoc:524288,verifyTimestampValid:1048576,verifyTimestampInvalid:2097152,verifyTimestampExpire:4194304,verifyTimestampIssueUnknown:8388608,verifyTimestampIssueValid:16777216,verifyTimestampTimeBefore:33554432,verifyChangeLegal:134217728,verifyChangeIllegal:268435456},wt={showTagImage:1,showLabel:2,showReason:4,showDate:8,showDistinguishName:16,showLocation:32,showSigner:64,showBitmap:128,showText:256,showDrawing:512},kt={click:-1,keyStroke:7,format:8,validate:9,calculate:10,mouseEnter:11,mouseExit:12,mouseDown:13,mouseUp:14,onFocus:15,onBlur:16},xt={CalcContentsBox:0,CalcDetection:1},Pt={MediaBox:0,CropBox:1,TrimBox:2,ArtBox:3,BleedBox:4},Ct={Fill:0,Stroke:1,FillStroke:2,Invisible:3,FillClip:4,StrokeClip:5,FillStrokeClip:6,Clip:7},Dt={Courier:0,CourierB:1,CourierBI:2,CourierI:3,Helvetica:4,HelveticaB:5,HelveticaBI:6,HelveticaI:7,Times:8,TimesB:9,TimesBI:10,TimesI:11,Symbol:12,ZapfDingbats:13},Et={FixedPitch:1,Serif:2,Symbolic:4,Script:8,NonSymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,Bold:262144},St={ANSI:0,Default:1,Symbol:2,Shift_JIS:128,Hangeul:129,GB2312:134,ChineseBig5:136,Thai:222,EastEurope:238,Russian:204,Greek:161,Turkish:162,Hebrew:177,Arabic:178,Baltic:186},It={Unknown:0,GB1:1,CNS1:2,JAPAN1:3,KOREA1:4,UNICODE:5},Tt={None:0,Alternate:1,Winding:2},Rt={All:0,Text:1,Path:2,Image:3,Shading:4,FormXObject:5},Mt={borderColor:"borderColor",fillColor:"fillColor",normalCaption:"normalCaption",downCaption:"downCaption",rolloverCaption:"rolloverCaption"},Ft={first:0,last:1,after:2,before:3,next:2,prev:3},Nt={crossMark:1,checkMark:2,roundRectangle:3,line:4,dot:5},Lt={Dests:1,JavaScript:2,EmbeddedFiles:3,Templates:4,Pages:5},Ot={none:1,superscript:2,subscript:3},jt={CUSTOM_TEXT:"type here to insert text",NAME:"author name",NAME_DATE_TIME:"author name, date and time",DATE_TIME:"date and time",DATE:"date"},Bt={UseNone:"UseNone",UseOutlines:"UseOutlines",UseThumbs:"UseThumbs",FullScreen:"FullScreen",UseOC:"UseOC",UseAttachments:"UseAttachments"},Vt={Metadata:"bRemoveMetadata",Fileattachment:"bRemoveFileattachment",Bookmarks:"bRemoveBookmark",EmbeddedSearchIndexes:"bRemoveSearchIndex",CommentsAndMarkups:"bRemoveComment",FormFields:"bRemoveForm",HiddenText:"bRemoveHideText",HiddenLayers:"bRemoveHideLayer",DeletedOrCroppedContent:"bRemoveContent",LinksActionsJavascripts:"bRemoveLink",OverlappingObjects:"bRemoveOverlaping"},Ut={Default:"Default",SinglePage:"SinglePage",OneColumn:"OneColumn",TwoColumnLeft:"TwoColumnLeft",TwoColumnRight:"TwoColumnRight",TwoPageLeft:"TwoPageLeft",TwoPageRight:"TwoPageRight"},Ht={Style_Type:{editTextBox:0,editTextCaret:1,addTextBBox:2,editObjectBox:3,editShapeBox:4},Line_Type:{straightLine:0,thinDashedLine:1,normalDashedLine:2,thickDashedLine:3,thinDashedDotLine:4,normalDashedDotLine:5,thickDashedDotLine:6}};var zt="WRRRRRRRRWWRWWRRRRRRRRRRRRRRRRRRWRRRRDRRDDRNRNNDNNNNNNNNNNRRDRDRRRRRRRRRRRRRRRRRRRRRRRRRRRRDRDRRRRRRRRRRRRRRRRRRRRRRRRRRRRRDRDRRWRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRW";function Wt(e){var t,n=e.length,i=0;for(t=0;t<n;t++){var r=e.charCodeAt(t);r>=128||"W"==zt[r]||"#"==e[t]||"D"==zt[r]?i+=3:i++}if(i==n)return e;var o="";for(t=0;t<n;t++){var a=e.charCodeAt(t);if(a>=128||"W"==zt[a]||"#"==e[t]||"D"==zt[a]){if("W"==zt[a]&&0==a)continue;o+="#",o+="0123456789ABCDEF"[parseInt(a/16)],o+="0123456789ABCDEF"[a%16]}else o+=e[t]}return o}function Gt(e){var t;for(t=0;t<e.length&&!(e.charCodeAt(t)>255);t++);if(t===e.length)return"("+e.replace(/([\(|\)])/g,"\\$1")+")";var n="<FEFF";for(t=0;t<e.length;t++){for(var i=e.charCodeAt(t).toString(16);i.length<4;)i="0"+i;n+=i}return n+">"}function Yt(e){for(var t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n));return new Uint8Array(t)}var $t=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,null,[{key:"JSONToFDF",value:function(t){for(var n={next:2,annotRef:[],file:"%FDF-1.2\n1 0 obj<</FDF<</Annots[{annotsRefArray}]>>/Type/Catalog>>endobj\n"},i=[],r=0,o=t.length;r<o;r++){var a=t[r];a.type&&(a.deleted?i.push({name:a.name,page:a.page}):e.singleAnnotJSONToFDF(n,a,!1))}return new Blob([Yt(n.file.replace(/\{annotsRefArray\}/,n.annotRef.join(" "))+"trailer\n<</Root 1 0 R>>\n%%EOF")],{type:"application/fdf"})}},{key:"singleAnnotJSONToFDF",value:function(t,n){var i,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t.next;if(r?i="Popup":r="popup"==(i={unknowntype:"UnKnownType",text:"Text",link:"Link",freetext:"FreeText",line:"Line",square:"Square",circle:"Circle",polygon:"Polygon",polyline:"PolyLine",highlight:"Highlight",underline:"Underline",squiggly:"Squiggly",strikeout:"StrikeOut",stamp:"Stamp",caret:"Caret",ink:"Ink",psink:"PsInk",fileattachment:"FileAttachment",sound:"Sound",movie:"Movie",widget:"Widget",screen:"Screen",printermark:"PrinterMark",trapnet:"TrapNet",watermark:"Watermark","3d":"3D",popup:"Popup",redact:"Redact"}[(n&&n.type&&n.type.toLowerCase()||"").toString().toLowerCase()]).toLowerCase(),!i||"link"==i.toLowerCase()||"screen"==i.toLowerCase()||"sound"==i.toLowerCase())return 0;var a=n.style||"S";a=a.toUpperCase()[0];var s=n.width,c=n.color||"",u="C"==a?"C":"S",l=n.intensity,A=0===n.opacity?0:n.opacity||1,d=Gt(n.contents||""),h=n.flags||"print",f=h.split(",");for(var p in h=0,ye)-1!=f.indexOf(ye[p])&&(h|=1<<parseInt(p));var v=n.creationdate,g=n.date,m=n.name||"",y=n.page,_=(n.rect||"").replace(/,/g," "),b=Gt(n.subject||"subject"),w=Gt(n.title||"title"),k=n["interior-color"]||n.interiorColor,x="".concat(o," 0 obj\n")+"<<"+"/Rect [".concat(_,"]")+"/Subtype /".concat(i)+"/NM (".concat(m,")");if(n.customEntries&&"object"==typeof n.customEntries&&Object.keys(n.customEntries).length>0){var P=Gt(JSON.stringify(n.customEntries));x+="/customEntries ".concat(P,"/")}if(t.annotRef.push("".concat(o," 0 R ")),t.next++,!r){var C;if(g&&(x+="/M (".concat(g,")")),x+="/CA ".concat(A)+"/CreationDate (".concat(v,")")+"/F ".concat(h)+"/Page ".concat(y)+"/Subj ".concat(b)+"/T ".concat(w)+"/Type /Annot",d&&(x+="/Contents ".concat(d)),n.replyType)C="string"==typeof n.replyType&&n.replyType||"Group",x+="/RT /".concat(C[0].toUpperCase()+C.substr(1));n.inreplyto&&(x+="/IRT (".concat(n.inreplyto,")")),n.measureRatio&&(x+="/Measure<</R(".concat(n.measureRatio,")/X[<</C ").concat(n.measureConversionFactor,"/U(").concat(n.measureUnit,")>>]/Type/Measure/Subtype/RL>>"))}if((a||s)&&"Stamp"!=i){a=a||"S",s=s||"0",l=l||"0",u=u||"S";var D=(n.dashes||"").replace(/,/g," ");x+="/BS <</S /".concat(a," /W ").concat(s," /D [").concat(D,"]>>")+"/BE <</S /".concat(u," /I ").concat(l,">>")}if("FreeText"!=i?(c&&(x+="/C "+Kt(c)),k&&(x+="/IC "+Kt(k))):(k&&(x+="/C "+Kt(k)),c&&(x+="/IC "+Kt(c)),n.fontColor&&(x+="/DS (color:".concat(n.fontColor,")"))),void 0!==n.rotation&&(x+="/Rotate ".concat(n.rotation)),void 0!==n.bm&&(x+="/BM /".concat(Wt(n.bm))),void 0!==n.bm&&(x+="/ca ".concat(n.ca)),-1===["link","screen","Popup"].indexOf(i)){var E=n.intent||n.IT;E&&(x+="/IT /".concat(E.replaceAll(" ","#20")))}var S="";switch(i){case"Text":case"Note":var I;x=x.replace(/\/Subtype\s?\/Note/,"/Subtype /Text"),n.icon&&(x+="/Name/".concat(Wt(n.icon))),(I=n.state)&&(x+="/State(".concat(I,")/StateModel(").concat(n.statemodel,")"));break;case"Link":return"";case"FreeText":x=x.replace(/\/C\s?\[[\s\S]*?\]/,""),k&&(x+="/C ".concat(Kt(k)));var T=n.defaultappearance,M=n.justification,F="/DA (".concat(T,")")+"/Q ".concat(M);if(n.callout){var N=n.callout.replace(/,/g," ");F+="/CL  [".concat(N,"]"),F+="/LE/".concat(n.head)}if(n.fringe){var L=n.fringe.replace(/,/g," ");F+="/RD [".concat(L,"]")}S=F;break;case"Line":var O="yes"===n.caption,j=n.head,B=n.tail,V="[/".concat(j,"/").concat(B,"]"),U=n.leaderLength,H=n.start.replace(/,/g," ")+" "+n.end.replace(/,/g," "),z=n.leaderExtend,W=n.leaderOffset,G=n.captionOffset?n.captionOffset.x+" "+n.captionOffset.y:"",Y="/Cap ".concat(O)+"/LE ".concat(V)+"/LL ".concat(U)+"/L [".concat(H,"]")+"/LLE ".concat(z)+"/LLO ".concat(W);G&&(Y+="/CO [".concat(G,"]")),void 0!==n.captionColor&&(Y+="/CC ".concat(Kt(n.captionColor))),S=Y;break;case"Square":case"Circle":var $=n.fringe.replace(/,/g," "),J="/RD [".concat($,"]");if(n.measureRatio&&n.measureUnit&&void 0!==n.measureConversionFactor){void 0!==n.captionColor&&(J+="/CC ".concat(Kt(n.captionColor)));var q="yes"===n.caption;J+="/Cap ".concat(q),J+="/Measure<</R(".concat(n.measureRatio,")/X[<</C ").concat(n.measureConversionFactor,"/U(").concat(n.measureUnit,")>>]/Type/Measure/Subtype/RL>>")}S=J;break;case"Polygon":case"PolyLine":var K=n.vertices.replace(/[,|;]/g," "),Z=(n.intent,"yes"===n.caption),X="/Vertices [".concat(K,"]");if(n.measureRatio&&n.measureUnit&&void 0!==n.measureConversionFactor&&(void 0!==n.captionColor&&(X+="/CC ".concat(Kt(n.captionColor))),X+="/Cap ".concat(Z),X+="/Measure<</R(".concat(n.measureRatio,")/X[<</C ").concat(n.measureConversionFactor,"/U(").concat(n.measureUnit,")>>]/Type/Measure/Subtype/RL>>")),"PolyLine"==i){var Q=n.head,ee=n.tail,te="[/".concat(Q,"/").concat(ee,"]");X+="/LE ".concat(te)}if(n.path&&n.path.length>0){var ne=n.path.split(";").map((function(e){return"[".concat(e.replace(/,/g," "),"]")})).join(" ");X+="/Path [".concat(ne,"]")}S=X;break;case"Redact":if(S+="/OC "+Kt(c),S+="/Repeat "+("yes"==n.repeat?"true":"false"),"Redact"==i){S+="/OverlayText"+Gt(n["overlay-text"]||n.overlaText||"");var ie=n.defaultappearance;S+="/DA (".concat(ie,")"),S+="/Q ".concat(n.justification||0)}case"StrikeOut":case"Highlight":case"Squiggly":case"Underline":if("coords"in n){var re;if(n.coords||"Redact"===i)re=n.coords.replace(/,/g," ");else{var oe=(0,R._)(n.rect.split(","),4),ae=oe[0],se=oe[1],ce=oe[2],ue=oe[3];re=[ae,ue,ce,ue,ae,se,ce,se].join(" ")}S+="/QuadPoints [".concat(re,"]")}break;case"Caret":var le=n.fringe.replace(/,/g," ");S="/RD [".concat(le,"]");break;case"Stamp":if(n.icon&&(S="/Name/".concat(Wt(n.icon))),n.raw&&n.raw.N){var Ae=Jt(t,n.raw,n.raw.N);S+="/AP << /N ".concat(Ae," 0 R >>\n")}break;case"Ink":if("["===n.inklist[0]){var de=n.inklist.substr(1,n.inklist.length-2).split("],["),he="";de.map((function(e){he+="["+e.replace(/[,|;]/g," ")+"]"})),S="/InkList [".concat(he,"]")}else S="/InkList [[".concat(n.inklist.replace(/[,|;]/g," "),"]]");break;case"Popup":S="/Open "+("yes"==n.open?"true":"false"),n.parentObjNum&&(S+="/Parent "+n.parentObjNum+" 0 R");break;case"Sound":S+="/Sound "+Jt(t,n,{Filter:"/ASCIIHexDecode",R:n.rate,Type:"/Sound",stream:n.soundStream})+" 0 R";case"FileAttachment":if(n.icon&&(S+="/Name/".concat(Wt(n.icon))),n.raw){var fe=Jt(t,n.raw,n.raw.FS);S+="/FS ".concat(fe," 0 R ")}}n.popup&&(n.popup.parentObjNum=o,S+="/Popup "+e.singleAnnotJSONToFDF(t,n.popup,!0)+" 0 R");return t.file+=x+S+">>\nendobj\n",o}}]),e}(),Jt=function(e,t,n){var i=e.next;e.next++;var r="";if(r+="".concat(i," 0 obj\n"),"string"==typeof n)r+=n;else if((0,T._)(n,Array))r+="["+n.map((function(n){return qt(e,t,n)})).join(" ")+"]";else{r+="<<\n";for(var o in n)"stream"!=o&&(r+="/"+o+" "+qt(e,t,n[o]));if(r+=">>",n&&n.stream){for(var a="",s=0;s<n.stream.length;s+=2){var c=parseInt(n.stream[s],16),u=parseInt(n.stream[s+1],16);a+=String.fromCharCode((c<<4)+u)}r+="stream\n"+a+"\nendstream"}}return r+="\nendobj\n",e.file+=r,i},qt=function(e,t,n){if(null===n)return"null";var i,r=void 0===n?"undefined":(0,F._)(n);if("number"==r)return n;if("string"==r)return"true"===n||"false"===n?n:"/"==n[0]?"/"+Wt(n.replace("/","")):"<"==n[0]?n:(i=n.match(/^(\d*)R$/))?Jt(e,t,t[i[1]])+" 0 R":"("+n+")";if("boolean"==r)return n?"true":"false";if((0,T._)(n,Array))return"["+n.map((function(n){return qt(e,t,n)})).join(" ")+"]";var o="<<";for(var a in n)o+="/".concat(a," ")+qt(e,t,n[a]);return o+">>"},Kt=function(e){var t=e.match(/\#?(\w{2})(\w{2})(\w{2})/),n=parseInt(t[1],16)/255,i=parseInt(t[2],16)/255,r=parseInt(t[3],16)/255;return"["+n.toFixed(2)+" "+i.toFixed(2)+" "+r.toFixed(2)+"]"},Zt=function(e){for(var t in ve)if(ve[t]==e)return+t;return 0},Xt=function e(t,n,i,r){(0,C._)(this,e),this.left=t,this.bottom=n,this.right=i,this.top=r};const Qt={print:4,modify:8,extract:16,annotForm:32,fillForm:256,extractAccess:512,assemble:1024,printHigh:2048};const en={contentUpdated:"content-updated",borderInfoUpdated:"borderInfo-updated",borderStyleUpdated:"borderStyle-updated",borderWidthUpdated:"borderWidth-updated",borderColorUpdated:"borderColor-updated",captionColorUpdated:"captionColor-updated",modifiedDateTimeUpdated:"modifiedDateTime-updated",uniqueIDUpdated:"uniqueID-updated",flagsUpdated:"flags-updated",rectUpdated:"rect-updated",innerRectUpdated:"innerRect-updated",iconNameUpdated:"iconName-updated",rotationUpdated:"rotation-updated",defaultAppearanceUpdated:"defaultAppearance-updated",calloutLineEndingStyleUpdated:"calloutLineEndingStyle-updated",calloutLinePointsUpdated:"calloutLinePoints-updated",fillColorUpdated:"fillColor-updated",textColorUpdated:"textColor-updated",alignmentUpdated:"alignment-updated",inkListUpdated:"inkList-updated",PointsUpdated:"points-updated",endPointUpdated:"endPoint-updated",startPointUpdated:"startPoint-updated",endingStyleUpdated:"endingStyle-updated",enableCaptionUpdated:"enableCaption-updated",leaderCaptionOffsetUpdated:"leaderCaptionOffset-updated",styleFillColorUpdated:"styleFillColor-updated",leaderLineLengthUpdated:"leaderLineLength-updated",leaderLineExtendUpdated:"leaderLineExtend-updated",leaderLineOffsetUpdated:"leaderLineOffset-updated",measureRatioUpdated:"measureRatio-updated",measureUnitUpdated:"measureUnit-updated",measureConversionFactorUpdated:"measureConversionFactor-updated",removeAction:"remove-action",actionDataUpdated:"actionData-updated",addAction:"add-action",moveAction:"move-action",actionOrderChanged:"action-order-changed",highlightingModeUpdated:"highlightingMode-updated",subjectUpdated:"subject-updated",titleUpdated:"title-updated",createDateTimeUpdated:"createDateTime-updated",opacityUpdated:"opacity-updated",borderOpacityUpdated:"borderOpacity-updated",fillOpacityUpdated:"fillOpacity-updated",intentUpdated:"intent-updated",vertexesUpdated:"vertexes-updated",applyFillColorUpdated:"applyFillColor-updated",overlayTextUpdated:"overlayText-updated",overlayTexAlignmentUpdated:"overlayTextAlignment-updated",repeatUpdated:"repeat-updated",autoFontSizeUpdated:"autoFontSize-updated",redactDefaultAppearanceUpdated:"redactDefaultAppearance-update",redactOpacityUpdated:"redactOpacity-updated",quadPointsUpdated:"quadPoints-updated",reviewStateUpdated:"review-state-updated",markedStateUpdated:"marked-state-updated",statesCleared:"state-cleared",replyAdded:"add-replies",richTextUpdated:"rich-text-updated",richTextRemoved:"rich-text-removed",addDictionary:"add-dictionary",imageUpdated:"image-updated",formFieldValueUpdated:"form-field-value",formFieldsMaxLengthUpdated:"maxLength",formFieldItemsUpdated:"setItems",formFieldIconUpdated:"icon",formFieldInsertedItem:"insertItemAt",formFieldExportValueUpdated:"form-field-export-value",formFieldMKPropertyUpdated:"form-field-mk-property",formFieldAlternateName:"form-field-alternate-name",formFieldMappingName:"form-field-mapping-name",formFieldActionUpdated:"form-field-action",formWidgetNormalCaptionUpdated:"form-widget-normal-caption-updated",formWidgetMKFillColorUpdated:"form-widget-mk-fill-color-updated",formWidgetMKBorderColorUpdated:"form-widget-mk-border-color-updated",formWidgetAlignmentUpdated:"form-widget-alignment-updated",formWidgetDirectionRTLUpdated:"form-widget-directionRTL-updated",formWidgetRotationUpdated:"form-widget-rotation-updated",formWidgetIconCaptionRelationUpdated:"form-widget-icon-caption-relation-updated",formWidgetHighlightingModeUpdated:"form-widget-highlighting-mode-updated",formWidgetCaptionUpdated:"form-widget-caption-updated",formWidgetIconUpdated:"form-widget-icon-updated",formWidgetIconFitUpdated:"form-widget-icon-fit-updated",formWidgetExportValueUpdated:"form-widget-export-value-updated",pathUpdated:"annot-path-updated",cloudyApUpdated:"set-to-cemicircle-cloudy"};const tn={invisible:1,hidden:2,print:4,noZoom:8,noRotate:16,noView:32,readOnly:64,locked:128,toggleNoView:256,lockedContents:512};var nn=n(248);function rn(e){var t=e[0],n=e[1],i=e[2],r=e[3],o=new nn.Z;if(o.translate(t.x,t.y),o.rotate(Math.atan2(t.y-n.y,n.x-t.x)),o.transformPoint(i.x,i.y)[1]>0){var a=t;t=i,i=a,a=n,n=r,r=a}return[t,n,i,r]}function on(e,t){var n=e.left,i=e.right,r=e.top,o=e.bottom;switch(t%4){case 0:return[{x:n,y:r},{x:i,y:r},{x:n,y:o},{x:i,y:o}];case 1:return[{x:i,y:r},{x:i,y:o},{x:n,y:r},{x:n,y:o}];case 2:return[{x:i,y:o},{x:n,y:o},{x:i,y:r},{x:n,y:r}];case 3:return[{x:n,y:o},{x:n,y:r},{x:i,y:o},{x:i,y:r}]}var a=new nn.Z,s=(n+i)/2,c=(r+o)/2;a.rotateAt(s,c,-radian);var u=a.transformRect(n,r,i,o),l=a.transformPoint(u[0],u[3]);l={x:l[0],y:l[1]};var A=a.transformPoint(u[2],u[3]);A={x:A[0],y:A[1]};var d=a.transformPoint(u[0],u[1]);d={x:d[0],y:d[1]};var h=a.transformPoint(u[2],u[1]);return[l,A,d,h={x:h[0],y:h[1]}]}function an(e,t){var n;return function(){var i=this,r=arguments;clearTimeout(n),n=setTimeout((function(){t.apply(i,r)}),e)}}function sn(e){return 0===e.replace(/\s+/gi,"").length}function cn(e){var t,n;if(["left","right","top","bottom"].some((function(t){return"number"!=typeof e[t]})))throw new Error("Param error: The rect parameter includes top, bottom, left and right. And only number is available");if(e.left===e.right||e.top===e.bottom)throw new Error("Param error: The value of the rect parameter is invalid.");e.left>e.right&&(t=[e.right,e.left],e.left=t[0],e.right=t[1]);e.bottom>e.top&&(n=[e.bottom,e.top],e.top=n[0],e.bottom=n[1]);return e}var un=n(8278),ln=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r;return(0,C._)(this,n),(r=t.call(this))._isEmpty=!e,r.info=e||{},r.page=i,r.api=i.api,r.engine=i.engine,r.eventEmitter=i.engine.eventEmitter,r.id=e.id,r.objectNumber=e.objectNumber,r.annotActionAPI=i.doc.annotActionAPI,r.additionalActionAPI=i.doc.additionalActionAPI,r.annotId={get pageIndex(){return i.getIndex()},objNumber:e.objectNumber},r}return(0,D._)(n,[{key:"resQuery",get:function(){return{type:"annot",annotId:(0,w._)({},this.getAnnotId())}}},{key:"destroy",value:function(){this.isDestroyed=!0,this.info=null,this.page=null,this.api=null,this.eventEmitter=null}},{key:"checkModidyPerm",value:function(){if("widget"!=this.info.type){if(!this.page.doc.checkPermission(Qt.annotForm))throw new Error("Permission error")}else if(!this.page.doc.checkPermission(Qt.fillForm|Qt.annotForm))throw new Error("Permission error")}},{key:"hasModifyPermission",value:function(){return"widget"==this.info.type?this.page.doc.checkPermission(Qt.fillForm|Qt.annotForm):this.page.doc.checkPermission(Qt.annotForm)}},{key:"isEmpty",value:function(){return this._isEmpty}},{key:"getInfo",value:function(){return this.info}},{key:"getId",value:function(){return this.info.objectNumber}},{key:"getObjectNumber",value:function(){return this.info.objectNumber}},{key:"getUniqueID",value:function(){return this.info.name}},{key:"setUniqueID",value:function(e){var t=this,n=this.getPDFPage(),i=n.getPDFDoc(),r=this.getUniqueID();return this.page.doc.api.setUniqueId(i.getId(),n.getId(),this.getId(),e).then((function(i){return i?(t.info.name=e,t.update(en.uniqueIDUpdated).then((function(){return t.eventEmitter.emit(ae.Z.annotationIDUpdated,e,r,t,n),i}))):i}))}},{key:"getName",value:function(){return this.info.name}},{key:"getPDFPage",value:function(){return this.page}},{key:"getPage",value:function(){return this.getPDFPage()}},{key:"getType",value:function(){return this.info.type}},{key:"getTitle",value:function(){return this.info.title}},{key:"isMarkup",value:function(){return this.info.isMarkup}},{key:"isDeleted",value:function(){return this.info.isDeleted}},{key:"getRect",value:function(){var e=this.info.rect;return new Xt(e.left,e.bottom,e.right,e.top)}},{key:"_setRect",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.oldRect=this.info.rect,this.info.rect=e;var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setAnnotRect(r.getId(),i.getId(),this.getId(),e).then((function(e){return e?t.update(en.rectUpdated,n).then((function(){return t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],t.getPDFPage()),e})):(t.info.rect=t.oldRect,e)}))}},{key:"setRect",value:function(e){var t=this;this.oldRect=this.info.rect,e=cn(e),this.info.rect=e;var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotRect(i.getId(),n.getId(),this.getId(),e).then((function(e){return e?t.update(en.rectUpdated).then((function(e){return t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],t.getPDFPage()),!0})):(t.info.rect=t.oldRect,e)}))}},{key:"setRectAndInnerRect",value:function(e,t){var n=this;this.oldRect=this.info.rect,this.info.rect=e,this.info.innerRect=t;var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setAnnotRectAndInnerRect(r.getId(),i.getId(),this.getId(),e,t).then((function(e){return e?n.update(en.rectUpdated).then((function(e){return n.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[n],n.getPDFPage()),!0})):e}))}},{key:"moveTo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.left,i=t.top,r=t.action,o=t.triggerAction,a=void 0===o||o,s=Object.assign({},this.info.rect),c=s.right,u=s.bottom,l=n-s.left,A=i-s.top;this.oldRect=s,this.info.rect={left:n,top:i,right:c+l,bottom:u+A};var d=this.getPDFPage(),h=d.getPDFDoc().getId(),f=d.getId(),p=this.getId();return this.page.doc.api.moveAnnotTo(h,f,p,{left:n,top:i}).then((function(e){return d.getAnnotsByObjectNumArray(e)})).then((function(t){return Promise.all(t.map((function(e){return e._update()}))).then((function(n){a&&e.eventEmitter.emit(ae.Z.annotationUpdated,t,d,en.rectUpdated),"move"==r&&e.eventEmitter.emit(ae.Z.annotationMovedPosition,t,d,e)}))}))}},{key:"getDeviceRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.page.getDeviceRect(this.getRect(),e,t);if(16&this.info.flag){var i=this.page.getDevicePoint([this.info.rect.left,this.info.rect.top],e,t);return{left:i[0],top:i[1],right:i[0]+n.right-n.left,bottom:i[1]+n.bottom-n.top}}return n}},{key:"getDeviceInnerRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.page.getDeviceRect(this.getInnerRect(),e,t)}},{key:"getContent",value:function(){return this.info.content}},{key:"setContent",value:function(e){var t=this;return this.checkModidyPerm(),this._setContent(e).then((function(n){return t.info.content=e,t.eventEmitter.emit(ae.Z.annotationUpdated,[t],t.getPDFPage(),en.contentUpdated),t}))}},{key:"_setContent",value:function(e){var t=this.getPDFPage(),n=t.getPDFDoc();return this.page.doc.api.setAnnotContent(n.getId(),t.getId(),this.getId(),e)}},{key:"getBorderColor",value:function(){return this.info.borderColor}},{key:"setBorderColor",value:function(e){var t=this;this.checkModidyPerm(),isNaN(e)&&(e=(0,W.colorConvertor)(e,"int",1));var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotBorderColor(i.getId(),n.getId(),this.getId(),e).then((function(i){return i?(0===e&&(t.info.hasBorderColor=!1),t.update(en.borderColorUpdated).then((function(){t.isGrouped&&t.isGrouped()&&t.getGroupElements().map((function(e){e!=t&&t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[e],n)}));return t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],n),i}))):i}))}},{key:"getBorderStyle",value:function(){return this.info.borderInfo.style}},{key:"getBorderStyleWithParam",value:function(){var e,t=this.info.borderInfo,n=t.style,i=t.cloudIntensity,r=t.dashes;switch(n){case he.SOLID:e=[];break;case he.CLOUDY:e=i;break;case he.DASHED:e=r}return{style:n,param:e}}},{key:"getBorderInfo",value:function(){return Object.assign({},this.info.borderInfo)}},{key:"setBorderInfo",value:function(e){var t=this;this.checkModidyPerm();var n=this.getType();if(this.getQuadPoints||"caret"===n||"text"===n)return Promise.resolve();var i=JSON.parse(JSON.stringify(this.info.borderInfo||{}));e=this.info.borderInfo=Object.assign(i,e);var r=this.getPDFPage(),o=r.getPDFDoc();return 1===e.style&&0===e.dashes.length&&(e.dashes=[2,2]),5===e.style&&e.cloudIntensity>2&&(e.cloudIntensity=2),this.page.doc.api.setAnnotBorderInfo(o.getId(),r.getId(),this.getId(),e).then((function(e){return t._update()})).then((function(e){return t.eventEmitter.emit(ae.Z.annotationUpdated,[t],r,en.borderInfoUpdated),t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],r),!0}))}},{key:"setBorderStyle",value:function(e,t){var n=this,i=this.info.borderInfo;switch(i.style=e,e){case 1:i.dashes=t;break;case 5:i.cloudIntensity=t}var r=this.getPDFPage(),o=r.getPDFDoc();return this.page.doc.api.setAnnotBorderStyle(o.getId(),r.getId(),this.getId(),e,t).then((function(e){return r.getAnnotsByObjectNumArray(e)})).then((function(e){for(var t=[],n=e.length;n--;)t.push(e[n]._update());return Promise.all(t)})).then((function(e){return n.eventEmitter.emit(ae.Z.annotationUpdated,e,r,en.borderStyleUpdated),n.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,e,r),!0}))}},{key:"getBorderDashes",value:function(){return Object.assign([],this.info.borderInfo.dashes)}},{key:"getBorderWidth",value:function(){var e=this.info.borderInfo.width;return void 0===e?1:+e}},{key:"setBorderWidth",value:function(e){var t=this,n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotBorderWidth(i.getId(),n.getId(),this.getId(),e).then((function(e){return t._update().then((function(t){return e}))})).then((function(e){return e&&(t.eventEmitter.emit(ae.Z.annotationUpdated,[t],n,en.borderWidthUpdated),t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],n)),e}))}},{key:"getCloudIntensity",value:function(){return this.info.borderInfo.cloudIntensity||0}},{key:"reviseSummary",value:function(e){return Promise.resolve(this)}},{key:"rectIsEmpty",value:function(){return this.info.rectIsEmpty}},{key:"update",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._update().then((function(){return n&&e&&t.eventEmitter.emit(ae.Z.annotationUpdated,[t],t.getPDFPage(),e),t}))}},{key:"_update",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.getAnnot(i.getId(),n.getId(),this.getId()).then((function(n){return n.rotation&&n.rotation<0&&(n.rotation+=360),e.updateInfo(n,t),e}))}},{key:"_updateMore",value:function(){}},{key:"getRectData",value:function(){var e=this.getPDFPage(),t=e.getPDFDoc();return this.page.doc.api.getRectData({path:"jr/doc/page/annot"},t.getId(),e.getId(),this.getId())}},{key:"updateRectData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.getRectData().then((function(n){return e.oldRect=e.info.rect,e.info=Object.assign({},e.info,n),e.updateInfo(e.info,t),e}))}},{key:"getFlags",value:function(){return this.info.flag}},{key:"isReplace",value:function(){return!1}},{key:"getIndex",value:function(){return this.info.index}},{key:"setFlags",value:function(e,t){var n=this;this.checkModidyPerm(),this.info.flag=e;var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setAnnotFlag(r.getId(),i.getId(),this.getId(),e).then((function(e){return e?n.update(en.flagsUpdated,!t).then((function(t){return n.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[n],i),e})):e}))}},{key:"setFlagValue",value:function(e,t){return this.setFlags(e,t)}},{key:"getModifiedDateTime",value:function(){var e=this.info.modifiedTimestamp;return e<0?null:new Date(e)}},{key:"setModifiedDateTime",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setModifiedDateTime(i.getId(),n.getId(),this.getId(),e).then((function(e){return t.update(en.modifiedDateTimeUpdated)}))}},{key:"_setModifiedDateTime",value:function(e,t){var n=this;this.checkModidyPerm();var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setModifiedDateTime(r.getId(),i.getId(),this.getId(),e).then((function(e){return n.update(en.modifiedDateTimeUpdated,t)}))}},{key:"exportToJSON",value:function(){var e=this.info.hasBorderColor?(0,W.colorConvertor)(16777215&this.info.borderColor,"#"):0,t=this.info.flag,n=[];for(var i in ye)t&1<<parseInt(i)&&n.push(ye[i]);n=n.join(",");var r=this.info.name,o=this.page.getIndex(),a=this.info.rect,s=a.left+","+a.bottom+","+a.right+","+a.top,c=this.info.content,u=this.info.borderInfo,l=this.info.type,A=this.info.customEntries,d={type:l,color:e,flags:n,name:r,page:o,rect:s,contents:c,width:u.width,customEntries:A,objectNumber:this.info.objectNumber};switch(-1!=this.info.modifiedTimestamp&&(d.date=Ge(new Date(this.info.modifiedTimestamp))),u.style){case he.SOLID:d.style="solid";break;case he.DASHED:d.style="dashed",d.dashPhase=u.dashPhase,d.dashes=u.dashes.join(",");break;case he.UNDERLINE:d.style="underline";break;case he.BEVELED:d.style="beveled";break;case he.INSET:d.style="inset";break;case he.CLOUDY:d.style="cloudy",d.intensity=u.cloudIntensity}return d}},{key:"updateInfo",value:function(e,t){this._isEmpty=!e;var n=this.oldRect||this.info.rect;this.oldRect=null;var i=e.rect;this.info=e,t||this.eventEmitter.emit(ae.Z.invalidRect,new Xt(n.left,n.bottom,n.right,n.top),new Xt(i.left,i.bottom,i.right,i.top),e.type,e,this.page),this._updateMore(),this.action&&e.action&&(this.action=this.page.doc.engine.actionFactory.createAction(e.action,this.page.doc,this.page.doc.api,this.eventEmitter,this))}},{key:"getIntent",value:function(){return""}},{key:"setCustomEntries",value:function(e,t){this.info.customEntries=this.info.customEntries||{},this.info.customEntries[e]=t}},{key:"setDictionaryEntry",value:function(e,t){var n=this;return this._setDictionaryEntry(e,t).then((function(e){return e&&n.eventEmitter.emit(ae.Z.annotationUpdated,[n],n.getPDFPage(),en.addDictionary),e}))}},{key:"_setDictionaryEntry",value:function(e,t){var n=this,i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setDictionaryEntry(r.getId(),i.getId(),this.getId(),e,t).then((function(i){return i&&n.setCustomEntries(e,t),i}))}},{key:"getDictionaryEntry",value:function(e){return this._getDictionaryEntry(e)}},{key:"_getDictionaryEntry",value:function(e){var t=this.getPDFPage(),n=t.getPDFDoc();return this.page.doc.api.getDictionaryEntry(n.getId(),t.getId(),this.getId(),e)}},{key:"resetAppearanceStream",value:function(){var e=this.getPDFPage(),t=e.getPDFDoc();return this.page.doc.api.resetAppearanceStream(t.getId(),e.getId(),this.getId())}},{key:"getDictValue",value:function(e){var t=this.getPDFPage(),n=t.getPDFDoc();return this.page.doc.api.getDictValue({path:"jr/doc/page/annot"},n.getId(),t.getId(),this.getId(),e)}},{key:"setDictValue",value:function(e,t){var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setDictValue({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e,t)}},{key:"hasDictKey",value:function(e){var t=this.getPDFPage(),n=t.getPDFDoc();return this.page.doc.api.hasDictKey({path:"jr/doc/page/annot"},n.getId(),t.getId(),this.getId(),e)}},{key:"setCustomAPStream",value:function(e,t){var n=this,i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setCustomAPStream({path:"jr/doc/page/annot"},r.getId(),i.getId(),this.getId(),e,t).then((function(e){n.updateInfo(n.info,!1),n.eventEmitter.emit(ae.Z.annotationUpdated,[n],n.getPDFPage(),ae.Z.annotationAppearanceUpdated)}))}},{key:"supportsAction",value:function(){switch(this.getType()){case un.AnnotType.screen:case un.AnnotType.link:case un.AnnotType.sound:case un.AnnotType.widget:return!0}return!1}},{key:"setAction",value:function(e){var t=this;return this._assertsActionSupport(),this.annotActionAPI.setAction(this.getAnnotId(),e).then((function(){t.update(en.actionDataUpdated,!0)}))}},{key:"appendAction",value:function(e){var t=this;return this._assertsActionSupport(),this.annotActionAPI.appendAction(this.getAnnotId(),e).then((function(){t.update(en.actionDataUpdated,!0)}))}},{key:"updateAction",value:function(e,t){var n=this;return this._assertsActionSupport(),this.annotActionAPI.updateAction(this.getAnnotId(),e,t).then((function(){n.update(en.actionDataUpdated,!0)}))}},{key:"removeAction",value:function(e){var t=this;return this._assertsActionSupport(),this.annotActionAPI.removeAction(this.getAnnotId(),e).then((function(e){return t.update(en.actionDataUpdated,!0),e}))}},{key:"getActionData",value:function(){return this._assertsActionSupport(),this.annotActionAPI.getActionData(this.getAnnotId())}},{key:"triggerAction",value:function(e){return this._assertsActionSupport(),this.annotActionAPI.triggerAction(this.getAnnotId(),e)}},{key:"_assertsActionSupport",value:function(){if(!this.supportsAction())throw new Error("The current annotation type does not support 'Action'. You may need to handle 'AdditionalAction'")}},{key:"appendAdditionalAction",value:function(e,t){var n=this;return this._assertsAdditionalActionSupport(),this.additionalActionAPI.appendAction({type:"annot",annotId:this.getAnnotId()},e,t).then((function(){n.emitPropertyUpdateEvent(en.actionDataUpdated),n.emitPropertyUpdateEvent(en.additionalActionDataAdded)}))}},{key:"setAdditionalAction",value:function(e,t){var n=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return[4,n.additionalActionAPI.overwriteAction(n.resQuery,e,t)];case 1:return i.sent(),n.emitPropertyUpdateEvent(en.actionDataUpdated),n.emitPropertyUpdateEvent(en.additionalActionDataUpdated),[2]}}))}))()}},{key:"removeAdditionalAction",value:function(e,t){var n=this;return this._assertsAdditionalActionSupport(),this.additionalActionAPI.removeAction({type:"annot",annotId:this.getAnnotId()},e,t).then((function(e){return n.emitPropertyUpdateEvent(en.additionalActionDataRemoved),e}))}},{key:"updateAdditionalAction",value:function(e,t,n){var i=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(r){switch(r.label){case 0:return[4,i.additionalActionAPI.updateAction(i.resQuery,e,t,n)];case 1:return r.sent(),i.emitPropertyUpdateEvent(en.additionalActionDataUpdated),[2]}}))}))()}},{key:"getAdditionalActions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e.ALL_ACTION_TRIGGER_EVENTS;return this.additionalActionAPI.getActions(this.resQuery,e)}},{key:"triggerAdditionalAction",value:function(e){this.additionalActionAPI.triggerAction(this.resQuery,e)}},{key:"moveAdditionalAction",value:function(e){var t=this;return this._assertsAdditionalActionSupport(),this.additionalActionAPI.moveAction(this.resQuery,e).then((function(e){return e&&t.emitPropertyUpdateEvent(en.additionalActionDataUpdated),e}))}},{key:"getAllActionData",value:function(){return this.annotActionAPI.getFullActionData(this.getAnnotId())}},{key:"moveActionOrder",value:function(e){var t=this;return this._assertsAdditionalActionSupport(),this.annotActionAPI.moveActionAcross(this.getAnnotId(),e).then((function(e){return e&&t.emitPropertyUpdateEvent(en.actionOrderChanged),e}))}},{key:"emitPropertyUpdateEvent",value:function(e){this.eventEmitter.emit(ae.Z.annotationUpdated,[this],this.getPage(),e)}},{key:"_assertsAdditionalActionSupport",value:function(){}},{key:"getAnnotId",value:function(){return this.annotId}}]),n}(W.Disposable);const An=ln;var dn,hn={ReadOnly:1,Required:2,NoExport:4,Hidden:8,ButtonNoToggleToOff:16384,ButtonRadiosInUnison:33554432,TextMultiline:4096,TextPassword:8192,TextDoNotSpellCheck:4194304,TextDoNotScroll:8388608,TextComb:16777216,ComboEdit:262144,ChoiceMultiSelect:2097152,CommitOnSelChange:67108864,inUnison:function(e){return e&hn.ButtonRadiosInUnison},isHidden:function(e){return e&hn.Hidden},isReadOnly:function(e){return e&hn.ReadOnly},isRequired:function(e){return e&hn.Required},isNoExport:function(e){return e&hn.NoExport},isMultiline:function(e){return e&hn.TextMultiline},isPassword:function(e){return e&hn.TextPassword},isComb:function(e){return e&hn.TextComb},isNoSpellCheck:function(e){return e&hn.TextDoNotSpellCheck},isNoScroll:function(e){return e&hn.TextDoNotScroll},isComboEdit:function(e){return e&hn.ComboEdit},isChoiceMultiSelect:function(e){return e&hn.ChoiceMultiSelect}},fn={FlagExclude:1,FlagIncludeNoValueFields:2,FlagExportFormat:4,FlagGetMethod:8,FlagWithCoordinates:16,FlagAsXFDF:32,FlagIncludeAppendSaves:64,FlagIncludeAnnotations:128,FlagSubmitAsPDF:256,FlagCanonicalFormat:512,FlagExclNonUserAnnots:1024,FlagExclFKey:2048,FlagEmbedForm:8192,isExclude:function(e){return e&fn.FlagExclude},isIncludeNoValueFields:function(e){return e&fn.FlagIncludeNoValueFields},isHTML:function(e){return e&fn.FlagExportFormat},isGetMethod:function(e){return e&fn.FlagGetMethod},isXFDF:function(e){return e&fn.FlagAsXFDF},isPDF:function(e){return e&fn.FlagSubmitAsPDF},getType:function(e){var t=fn.isHTML(e);if(t)return"HTML";var n=fn.isXFDF(e);if(n)return"XFDF";var i=fn.isPDF(e);return i?"PDF":t||n||i?void 0:"FDF"}},pn={Unknown:0,PushButton:1,CheckBox:2,RadioButton:3,Text:6,ListBox:5,ComboBox:4,Sign:7,Barcode:8},vn=hn,gn={ordinary:0,pagingSeal:4};!function(e){e.STATE_HANDLER_HAND="hand",e.STATE_HANDLER_CHECK_THE_SEARCH="checkTheSearch",e.STATE_HANDLER_CREATE_CARET="createCaret",e.STATE_HANDLER_CREATE_ARROW="createArrow",e.STATE_HANDLER_CREATE_AREA_HIGHLIGHT="createAreaHighlight",e.STATE_HANDLER_CREATE_CREATE_AREA_HIGHLIGHT="createAreaHighlight",e.STATE_HANDLER_CREATE_CIRCLE="createCircle",e.STATE_HANDLER_CREATE_FILE_ATTACHMENT="createFileAttachment",e.STATE_HANDLER_CREATE_HIGHLIGHT="createHighlight",e.STATE_HANDLER_CREATE_IMAGE="createImage",e.STATE_HANDLER_CREATE_LINK="createLink",e.STATE_HANDLER_CREATE_LINE="createLine",e.STATE_HANDLER_CREATE_DISTANCE="createDistance",e.STATE_HANDLER_CREATE_PERIMETER="createPerimeter",e.STATE_HANDLER_CREATE_AREA="createArea",e.STATE_HANDLER_CREATE_CIRCLE_AREA="createCircleArea",e.STATE_HANDLER_CREATE_PENCIL="createPencil",e.STATE_HANDLER_CREATE_POLYGON_CLOUD="createPolygonCloud",e.STATE_HANDLER_CREATE_POLYGON="createPolygon",e.STATE_HANDLER_CREATE_POLYLINE="createPolyline",e.STATE_HANDLER_CREATE_REPLACE="createReplace",e.STATE_HANDLER_CREATE_SQUARE="createSquare",e.STATE_HANDLER_CREATE_SQUIGGLY="createSquiggly",e.STATE_HANDLER_CREATE_STAMP="createStamp",e.STATE_HANDLER_CREATE_STRIKE_OUT="createStrikeOut",e.STATE_HANDLER_CREATE_TEXT="createText",e.STATE_HANDLER_CREATE_UNDERLINE="createUnderline",e.STATE_HANDLER_MARQUEE="marquee",e.STATE_HANDLER_ERASER="eraser",e.STATE_HANDLER_LOUPE="loupe",e.STATE_HANDLER_SELECT_TEXT_ANNOTATION="select-text-annotation",e.STATE_HANDLER_SELECT_TEXT_IMAGE="select-text-image",e.STATE_HANDLER_SELECT_ANNOTATION="select-annotation",e.STATE_HANDLER_CREATE_FREETEXT_BOX="createFreeTextBox",e.STATE_HANDLER_CREATE_FREETEXT_CALLOUT="createFreeTextCallout",e.STATE_HANDLER_CREATE_FREETEXT_TYPEWRITER="createFreeTextTypewriter",e.STATE_HANDLER_CREATE_FIELD_TEXT="CreateTextStateHandler",e.STATE_HANDLER_CREATE_FIELD_SIGNATURE="CreateSignStateHandler",e.STATE_HANDLER_CREATE_FIELD_PUSH_BUTTON="CreatePushButtonStateHandler",e.STATE_HANDLER_CREATE_FIELD_CHECK_BOX="CreateCheckBoxStateHandler",e.STATE_HANDLER_CREATE_RADIO_BUTTON="CreateRadioButtonStateHandler",e.STATE_HANDLER_CREATE_FIELD_COMBO_BOX="CreateComboBoxStateHandler",e.STATE_HANDLER_CREATE_FIELD_LIST_BOX="CreateListBoxStateHandler",e.STATE_HANDLER_CREATE_FIELD_DATE="CreateDateStateHandler",e.STATE_HANDLER_CREATE_FIELD_IMAGE="CreateImageStateHandler",e.STATE_HANDLER_SNAPSHOT_TOOL="snapshot-tool",e.STATE_HANDLER_CREATE_DOCUMENT_ATTACHMENT="createDocumentAttachment"}(dn||(dn={}));var mn,yn=dn.STATE_HANDLER_HAND,_n=dn.STATE_HANDLER_CHECK_THE_SEARCH,bn=dn.STATE_HANDLER_CREATE_CARET,wn=dn.STATE_HANDLER_CREATE_ARROW,kn=dn.STATE_HANDLER_CREATE_AREA_HIGHLIGHT,xn=dn.STATE_HANDLER_CREATE_AREA_HIGHLIGHT,Pn=dn.STATE_HANDLER_CREATE_CIRCLE,Cn=dn.STATE_HANDLER_CREATE_FILE_ATTACHMENT,Dn=dn.STATE_HANDLER_CREATE_HIGHLIGHT,En=dn.STATE_HANDLER_CREATE_IMAGE,Sn="createEditImage",In=dn.STATE_HANDLER_CREATE_LINK,Tn=dn.STATE_HANDLER_CREATE_LINE,Rn=dn.STATE_HANDLER_CREATE_DISTANCE,Mn=dn.STATE_HANDLER_CREATE_PERIMETER,Fn=dn.STATE_HANDLER_CREATE_AREA,Nn=dn.STATE_HANDLER_CREATE_CIRCLE_AREA,Ln=dn.STATE_HANDLER_CREATE_PENCIL,On=dn.STATE_HANDLER_CREATE_POLYGON_CLOUD,jn=dn.STATE_HANDLER_CREATE_POLYGON,Bn=dn.STATE_HANDLER_CREATE_POLYLINE,Vn=dn.STATE_HANDLER_CREATE_REPLACE,Un=dn.STATE_HANDLER_CREATE_SQUARE,Hn="createSquareCrop",zn=dn.STATE_HANDLER_CREATE_SQUIGGLY,Wn=dn.STATE_HANDLER_CREATE_STAMP,Gn=dn.STATE_HANDLER_CREATE_STRIKE_OUT,Yn=dn.STATE_HANDLER_CREATE_TEXT,$n=dn.STATE_HANDLER_CREATE_UNDERLINE,Jn=dn.STATE_HANDLER_MARQUEE,qn=dn.STATE_HANDLER_ERASER,Kn=dn.STATE_HANDLER_LOUPE,Zn=dn.STATE_HANDLER_SELECT_TEXT_ANNOTATION,Xn=dn.STATE_HANDLER_SELECT_TEXT_IMAGE,Qn="select-text",ei=dn.STATE_HANDLER_SELECT_ANNOTATION,ti=dn.STATE_HANDLER_CREATE_FREETEXT_TYPEWRITER,ni=dn.STATE_HANDLER_CREATE_FREETEXT_CALLOUT,ii=dn.STATE_HANDLER_CREATE_FREETEXT_BOX,ri=dn.STATE_HANDLER_SNAPSHOT_TOOL,oi="create-crop-pages",ai=dn.STATE_HANDLER_CREATE_DOCUMENT_ATTACHMENT,si=dn.STATE_HANDLER_CREATE_FIELD_TEXT,ci=dn.STATE_HANDLER_CREATE_FIELD_SIGNATURE,ui=dn.STATE_HANDLER_CREATE_FIELD_PUSH_BUTTON,li=dn.STATE_HANDLER_CREATE_FIELD_CHECK_BOX,Ai=dn.STATE_HANDLER_CREATE_RADIO_BUTTON,di=dn.STATE_HANDLER_CREATE_FIELD_COMBO_BOX,hi=dn.STATE_HANDLER_CREATE_FIELD_LIST_BOX,fi=dn.STATE_HANDLER_CREATE_FIELD_DATE,pi=dn.STATE_HANDLER_CREATE_FIELD_IMAGE,vi=dn.STATE_HANDLER_CREATE_RADIO_BUTTON,gi="CreateArticleButtonStateHandler",mi=(mn={},(0,z._)(mn,Yn,"text"),(0,z._)(mn,Dn,"highlight"),(0,z._)(mn,Gn,"strikeout"),(0,z._)(mn,$n,"underline"),(0,z._)(mn,zn,"squiggly"),(0,z._)(mn,Vn,"strikeout"),(0,z._)(mn,bn,"caret"),(0,z._)(mn,ti,"freetext"),(0,z._)(mn,ni,"freetext"),(0,z._)(mn,ii,"freetext"),(0,z._)(mn,Un,"square"),(0,z._)(mn,Pn,"circle"),(0,z._)(mn,Tn,"line"),(0,z._)(mn,wn,"line"),(0,z._)(mn,jn,"polygon"),(0,z._)(mn,Bn,"polyline"),(0,z._)(mn,On,"polygon"),(0,z._)(mn,kn,"highlight"),(0,z._)(mn,Ln,"ink"),(0,z._)(mn,Wn,"stamp"),(0,z._)(mn,Rn,"line"),(0,z._)(mn,Mn,"polyline"),(0,z._)(mn,Fn,"polygon"),(0,z._)(mn,Nn,"circle"),(0,z._)(mn,Cn,"fileattachment"),(0,z._)(mn,En,"screen"),(0,z._)(mn,In,"link"),(0,z._)(mn,"create-multi-media-state","screen"),(0,z._)(mn,"create-redaction-text-image-state","redact"),(0,z._)(mn,"create-redaction-state","redact"),mn),yi={CreatePushButtonStateHandler:pn.PushButton,CreateCheckBoxStateHandler:pn.CheckBox,CreateRadioButtonStateHandler:pn.RadioButton,CreateComboBoxStateHandler:pn.ComboBox,CreateListBoxStateHandler:pn.ListBox,CreateTextStateHandler:pn.Text,CreateSignStateHandler:pn.Sign,CreateDateStateHandler:pn.Text,CreateImageStateHandler:pn.PushButton};const _i={annotation:"annotation"};var bi=function(){function e(t){(0,C._)(this,e),this.annot=t.isGrouped&&t.isGrouped()?t.getGroupHeader():t,this.tooltip="",this.delay=500,this.moveThreshold=2,this.positionThreshold=10,this.oldClientX=0,this.oldClientY=0,this.tipElement=document.createElement("div"),document.getElementsByClassName("fv_viewer-tooltip-container").length>0&&(this.tooltip=document.getElementsByClassName("fv_viewer-tooltip-container")[0]),this.createTooltipElement()}return(0,D._)(e,[{key:"createTooltipElement",value:function(){if(!(document.getElementsByClassName("fv_viewer-tooltip-container").length>0)){this.tipElement.classList.add("fv_viewer-tooltip-container"),this.tipElement.classList.add("tooltip-unactive");var e="";e+='<div class="fv_viewer-tooltip-title"> '+this.annot.getTitle()+"</div>",e+='<div class="fv_viewer-tooltip-content"></div>',this.tipElement.innerHTML=e,this.tipElement.querySelector(".fv_viewer-tooltip-content").innerText=" "+this.annot.getContent(),document.getElementsByTagName("body")[0].appendChild(this.tipElement),this.tooltip=document.getElementsByClassName("fv_viewer-tooltip-container")[0]}}},{key:"getPosition",value:function(e,t){var n=document.documentElement.clientHeight,i=this.tooltip.getBoundingClientRect().width,r=this.tooltip.getBoundingClientRect().height,o=e+this.positionThreshold,a=t+this.positionThreshold;return document.documentElement.clientWidth-e<i+this.positionThreshold&&(o-=i+this.positionThreshold),n-a<r&&(a=t-r),{x:o,y:a}}},{key:"setPosition",value:function(e,t){this.tooltip.style.left=e+"px",this.tooltip.style.top=t+"px"}},{key:"hide",value:function(){this.tooltip.classList.remove("tooltip-active"),this.tooltip.classList.add("tooltip-unactive")}},{key:"show",value:function(e,t){var n=this;return(0,P._)((function(){var i,r,o,a;return(0,L.Jh)(this,(function(s){switch(s.label){case 0:return"widget"!==n.annot.getType()?[3,2]:[4,n.annot.getField().getAlternateName()];case 1:return(i=s.sent())?(document.getElementsByClassName("fv_viewer-tooltip-title")[0].innerHTML="",document.getElementsByClassName("fv_viewer-tooltip-content")[0].innerText=i,[3,3]):[2];case 2:if(r=n.annot.getTitle(),o=n.annot.getContent(),!r)return[2];document.getElementsByClassName("fv_viewer-tooltip-title")[0].innerHTML=r,document.getElementsByClassName("fv_viewer-tooltip-content")[0].innerText=o,s.label=3;case 3:return a=n.getPosition(e,t),n.setPosition(a.x,a.y),n.tooltip.classList.remove("tooltip-unactive"),n.tooltip.classList.add("tooltip-active"),[2]}}))}))()}}]),e}();function wi(e,t){var n=e.x,i=e.y,r=t.left,o=t.right,a=t.top,s=t.bottom;return n>=r&&n<=o&&i>=s&&i<=a}function ki(e){return xi.apply(this,arguments)}function xi(){return(xi=(0,P._)((function(e){var t,n,i,r,o,a,s,c,u,l,A;return(0,L.Jh)(this,(function(d){switch(d.label){case 0:return t=e.getType(),[4,e.page.getViewportRect()];case 1:switch(n=d.sent(),t){case"line":return i=e.getStartPoint(),r=e.getEndPoint(),[2,wi(i,n)&&wi(r,n)];case"polyline":case"polygon":if(0===(o=e.getVertexes()).length)return[2,!1];a=!0,s=!1,c=void 0;try{for(u=o[Symbol.iterator]();!(a=(l=u.next()).done);a=!0)if(!wi(l.value,n))return[2,!1]}catch(e){s=!0,c=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw c}}return[2,!0];case"circle":return[2,wi({x:(A=e.getRect()).left,y:A.top},n)&&wi({x:A.right,y:A.top},n)&&wi({x:A.left,y:A.bottom},n)&&wi({x:A.right,y:A.bottom},n)];default:return[2,!1]}return[2]}}))}))).apply(this,arguments)}var Pi="vertical",Ci="horizontal",Di=function(){function e(t,n){(0,C._)(this,e),this.fromInchRate=t,this.name=n,Object.defineProperties(this,{fromInchRate:{value:t,enumerable:!0,writable:!1,configurable:!0},name:{value:n,enumerable:!0,writable:!1,configurable:!0}})}return(0,D._)(e,[{key:"isPixel",get:function(){return!1}},{key:"convertTo",value:function(e,t){return e/this.fromInchRate*t.fromInchRate}},{key:"convertAreaTo",value:function(e,t){return e/Math.pow(this.fromInchRate,2)*Math.pow(t.fromInchRate,2)}}]),e}(),Ei=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this,0,"px")).orientation=e,Object.defineProperty((0,x._)(i),"fromInchRate",{get:function(){var t=(0,W.getDPI)();switch(e){case Ci:return t.x;case Pi:return t.y;default:return t.x}}}),i}return(0,D._)(n,[{key:"isPixel",get:function(){return!0}}]),n}(Di);const Si={inch:"inch",custom:"custom",mi:"mi",pt:"pt",ft:"ft",yd:"yd",km:"km",m:"m",cm:"cm",mm:"mm",pica:"pica"};var Ii,Ti=new Di(1,Si.inch),Ri=new Di(1,Si.custom),Mi=new Di(1/63360,Si.mi),Fi=new Di(72,Si.pt),Ni=new Di(1/12,Si.ft),Li=new Di(1/36,Si.yd),Oi=new Di(.0254/1e3,Si.km),ji=new Di(.0254,Si.m),Bi=new Di(2.54,Si.cm),Vi=new Di(25.4,Si.mm),Ui=new Di(6,Si.pica),Hi=new Ei(Ci),zi=new Ei(Pi),Wi=(Ii={},(0,z._)(Ii,Ti.name,Ti),(0,z._)(Ii,Ri.name,Ri),(0,z._)(Ii,Mi.name,Mi),(0,z._)(Ii,Fi.name,Fi),(0,z._)(Ii,Ni.name,Ni),(0,z._)(Ii,Li.name,Li),(0,z._)(Ii,Oi.name,Oi),(0,z._)(Ii,ji.name,ji),(0,z._)(Ii,Bi.name,Bi),(0,z._)(Ii,Vi.name,Vi),(0,z._)(Ii,Ui.name,Ui),(0,z._)(Ii,Hi.name,Hi),Ii);function Gi(e){switch(e=(e=e.toLowerCase()).replace(/[^a-z]/g,"")){case"in":e="inch";break;case"p":e="pica"}return Wi[e]}function Yi(e){var t=1;switch(e){case"pt":t=72;break;case"in":case"inch":default:t=1;break;case"cm":t=2.54;break;case"p":case"pica":t=5.9;break;case"mm":t=25.4}return t}var $i,Ji="userSpaceUnit",qi="userSpaceScaleValue",Ki="realScaleValue",Zi=($i={},(0,z._)($i,dn.STATE_HANDLER_CREATE_PERIMETER,"perimeter"),(0,z._)($i,dn.STATE_HANDLER_CREATE_DISTANCE,"distance"),(0,z._)($i,dn.STATE_HANDLER_CREATE_AREA,"area"),(0,z._)($i,dn.STATE_HANDLER_CREATE_CIRCLE_AREA,"area"),function(){function e(){(0,C._)(this,e)}return(0,D._)(e,null,[{key:"convertPoint2RealUnit",value:function(e,t){if(!t)return e;var n=t[qi],i=t[Ji],r=t[Ki];return Fi.convertTo(e,i)*(r/n)}},{key:"caculateDistance",value:function(t,n,i){var r=n.x-t.x,o=n.y-t.y,a=Math.abs(r),s=Math.abs(o),c=Math.sqrt(a*a+s*s);return e.convertPoint2RealUnit(c,i)}},{key:"caculateAngle",value:function(t,n,i,r){var o=e.caculateDistance(t,n,r),a=e.caculateDistance(n,i,r),s=e.caculateDistance(t,i,r),c=(Math.pow(o,2)+Math.pow(a,2)-Math.pow(s,2))/(2*o*a);return Number.isNaN(c)||Number.isNaN(Math.acos(c))?0:Math.round(Math.abs(Math.acos(c))/Math.PI*180*100)/100}},{key:"caculateTriangleArea",value:function(e,t,n,i){var r=e.x*t.y+t.x*n.y+n.x*e.y-(e.x*n.y+t.x*e.y+n.x*t.y);if(r/=2,!i)return r;var o=i[qi],a=i[Ji],s=i[Ki];return Fi.convertAreaTo(r,a)*Math.pow(s/o,2)}},{key:"caculatePolygonArea",value:function(t,n){for(var i={x:0,y:0},r=0,o=1;o<=t.length;++o)o<t.length?r+=e.caculateTriangleArea(i,t[o-1],t[o],n):r+=e.caculateTriangleArea(i,t[o-1],t[0],n);return Math.abs(r)}},{key:"caculateCircleArea",value:function(e,t){var n=(e.right-e.left)/2*((e.top-e.bottom)/2)*Math.PI;if(!t)return n;var i=t[qi],r=t[Ji],o=t[Ki];return Fi.convertAreaTo(n,r)*Math.pow(o/i,2)}}]),e}());const Xi={unKnownType:"unknowntype",text:"text",link:"link",freeText:"freetext",line:"line",square:"square",circle:"circle",polygon:"polygon",polyLine:"polyline",polyline:"polyline",highlight:"highlight",underline:"underline",squiggly:"squiggly",strikeOut:"strikeout",stamp:"stamp",caret:"caret",ink:"ink",psInk:"psink",fileAttachment:"fileattachment",sound:"sound",movie:"movie",widget:"widget",screen:"screen",printerMark:"printermark",trapNet:"trapnet",watermark:"watermark",threeD:"3d",popup:"popup",redact:"redact"};var Qi,er;function tr(){}!function(e){e[e.throttle=0]="throttle",e[e.debounce=1]="debounce"}(Qi||(Qi={})),function(e){e.MEASUREMENT="measurement",e.COMPARISON="comparison",e.STAMP="stamp",e.SIGN_CERTIFY="sign-certify",e.SIGNATURE="signature"}(er||(er={}));var nr="measurement-info",ir={userSpaceUnit:Ti,userSpaceScaleValue:1,realUnit:Ti,realScaleValue:1,caption:"",markup:!0},rr="measurementInfo",or=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;return(0,C._)(this,n),e=t.apply(this,arguments),(0,z._)((0,x._)(e),"pdfViewer",void 0),e}return(0,D._)(n,[{key:"allInjected",value:function(){var e=this;this.pdfViewer.store.dispatch(rr,ir),this.getStorage().get(er.MEASUREMENT,nr).then((function(t){e.isDestroyed||t&&(e.pdfViewer.getStore().dispatch(rr,(0,w._)({},e.convertFromRaw(t))),e.addDestroyHook(e.pdfViewer.store.subscribe(rr,(function(t){if(!e.isDestroyed)return e.updateMeasurementInfo(t)}))))}));var t=this;this.addDestroyHook(this.getStorage().onChange((function(t){t.context.feature===er.MEASUREMENT&&e.pdfViewer.store.dispatch(rr,e.convertFromRaw(t.newValue))})),this.pdfViewer.addEventListener(se.pageNumberChange,(0,P._)((function(){var e,n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return t.isDestroyed?[2]:[4,(e=t.getStorage()).get(er.MEASUREMENT,nr)];case 1:return n=i.sent(),[4,e.set(er.MEASUREMENT,nr,n)];case 2:return i.sent(),[2]}}))}))))}},{key:"updateMeasurementInfo",value:function(e){var t=this;return(0,P._)((function(){var n,i,r;return(0,L.Jh)(this,(function(o){switch(o.label){case 0:return[4,t.getMeasurementInfo()];case 1:return n=o.sent(),i=(0,w._)({},n,e),r=t.convertToRaw(i),[4,t.getStorage().set(er.MEASUREMENT,nr,r)];case 2:return o.sent(),[2]}}))}))()}},{key:"getMeasurementInfo",value:function(){return this.pdfViewer.store.getCurrentValue(rr)}},{key:"onMeasurementInfoChange",value:function(e){return this.pdfViewer.store.subscribe(rr,e)||tr}},{key:"getStorage",value:function(){return this.pdfViewer.getStorage()}},{key:"convertFromRaw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"object"!=typeof e?Object.assign({},ir):{userSpaceUnit:e.userSpaceUnit?new Di(e.userSpaceUnit.fromInchRate,e.userSpaceUnit.name):Ti,userSpaceScaleValue:null==e.userSpaceScaleValue?1:e.userSpaceScaleValue,realUnit:e.realUnit?new Di(e.realUnit.fromInchRate,e.realUnit.name):Ti,realScaleValue:null==e.realScaleValue?1:e.realScaleValue,caption:e.caption||"",markup:!1!==e.markup}}},{key:"convertToRaw",value:function(e){return{userSpaceUnit:e.userSpaceUnit?{fromInchRate:e.userSpaceUnit.fromInchRate,name:e.userSpaceUnit.name}:ir.userSpaceUnit,userSpaceScaleValue:e.userSpaceScaleValue||ir.userSpaceScaleValue,realUnit:e.realUnit?{fromInchRate:e.realUnit.fromInchRate,name:e.realUnit.name}:ir.realUnit,realScaleValue:e.realScaleValue||ir.realScaleValue,caption:e.caption||ir.caption,markup:void 0===e.markup?ir.markup:e.markup}}},{key:"isSame",value:function(e,t){return JSON.stringify(this.convertToRaw(e))===JSON.stringify(this.convertToRaw(t))}}],[{key:"inject",value:function(){return{pdfViewer:eM}}}]),n}(W.Disposable),ar=function(){function e(t){(0,C._)(this,e),this.match=t}return(0,D._)(e,[{key:"getEndCharIndex",value:function(){return this.match.endCharIndex}},{key:"getPageIndex",value:function(){return this.match.pageIndex}},{key:"getRects",value:function(){return this.match.rectArray}},{key:"getSentence",value:function(){return this.match.sentence}},{key:"getSentenceStartIndex",value:function(){return this.match.sentenceStartIndex}},{key:"getStartCharIndex",value:function(){return this.match.startCharIndex}}]),e}(),sr=function(){function e(t,n){(0,C._)(this,e),this.id=t,this.page=n,this.api=n.api}return(0,D._)(e,[{key:"getId",value:function(){return this.id}},{key:"findNext",value:function(){return this.page.doc.api.textSearchFindNext(this.getId()).then((function(e){return e?new ar(e):null}))}},{key:"findPrev",value:function(){return this.page.doc.api.textSearchFindPrev(this.getId()).then((function(e){return e?new ar(e):null}))}},{key:"destroy",value:function(){if(!this.page.isDestroyed&&!this.page.doc.isDestroyed&&this.page.doc.api)return this.page.doc.api.textSearchDestroy(this.getId())}}]),e}(),cr=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r;return(0,C._)(this,n),(r=t.call(this,e,i)).groupElements=[],r.replies=[],r.markedStates=[],r.reviewStates=[],r}return(0,D._)(n,[{key:"getFlags",value:function(){return-2&(0,E._)((0,S._)(n.prototype),"getFlags",this).call(this)}},{key:"reviseSummary",value:function(e){var t=this,n=this.info,i=[];this.groupHeader=""._;var r=n.groupElementsSummary.map((function(t){return Promise.resolve(e(t.objectNumber))})),o=Promise.all(r).then((function(e){t.groupElements=e}));i.push(o);var a=n.groupHeaderSummary;a&&i.push(Promise.resolve(e(a.objectNumber)).then((function(e){t.groupHeader=e})));var s=n.repliesSummary.map((function(t){return Promise.resolve(e(t.objectNumber))})),c=Promise.all(s).then((function(e){t.replies=e}));i.push(c);var u=n.markedStatesSummary.map((function(t){return Promise.resolve(e(t.objectNumber))})),l=Promise.all(u).then((function(e){t.markedStates=e}));i.push(l);var A=n.reviewStatesSummary.map((function(t){return Promise.resolve(e(t.objectNumber))})),d=Promise.all(A).then((function(e){t.reviewStates=e}));i.push(d);var h=n.popupSummary;return h&&i.push(Promise.resolve(e(h.objectNumber)).then((function(e){t.popup=e}))),Promise.all(i).then((function(){return t.reviseSummaryIsOK=!0,t}))}},{key:"getBitmap",value:function(e,t,n){var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.getAnnotBitmap(r.getId(),i.getId(),this.getId(),e,t,n,!0)}},{key:"getOpacity",value:function(){return this.info.opacity}},{key:"setOpacity",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return e=+e,this.page.doc.api.setAnnotOpacity(i.getId(),n.getId(),this.getId(),e).then((function(e){return n.getAnnotsByObjectNumArray(e)})).then((function(e){return Promise.all(e.map((function(e){return e._update()})))})).then((function(e){return t.eventEmitter.emit(ae.Z.annotationUpdated,e,n,en.opacityUpdated),t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,e,n),e}))}},{key:"getSubject",value:function(){return this.info.subject}},{key:"setSubject",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setSubject(i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(en.subjectUpdated)}))}},{key:"getTitle",value:function(){return this.info.title}},{key:"setTitle",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setTitle(i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(en.titleUpdated)}))}},{key:"isGrouped",value:function(){return this.info.isGrouped}},{key:"isGroupHeader",value:function(){return this.info.isGroupHeader}},{key:"getGroupElements",value:function(){return this.groupElements}},{key:"getGroupHeader",value:function(){return this.groupHeader}},{key:"getReplyCount",value:function(){return this.replies.length}},{key:"getReply",value:function(e){return this.replies[e]}},{key:"getReplies",value:function(){return this.replies}},{key:"addReply",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc(),r=this.getGroupHeader()||this;return this.page.doc.api.annotAddReply(i.getId(),n.getId(),this.getId(),e).then((function(e){r.info.repliesSummary.push({objectNumber:e.objectNumber,id:e.objectNumber,index:e.index});var i=t.page.doc.engine.annotManager.get(e,n);return n.addReplyAnnot(i)})).then((function(e){return r.replies.push(e),t.page.doc.engine.eventEmitter.emit(ae.Z.annotationReplyAdd,e,r),t.page.doc.engine.eventEmitter.emit(ae.Z.annotationUpdated,[t],n,en.replyAdded),e}))}},{key:"removeRepliesByIdLocaly",value:function(e){if(!Array.isArray(e)||e.length<1||this.replies.length<1)return e||[];var t=e.slice(0);this.replies=this.replies.filter((function(e){var n=t.indexOf(e.getId());return n>-1&&t.splice(n,1),-1==n}));var n=e.slice(0);return this.info.repliesSummary=this.info.repliesSummary.filter((function(e){var t=n.indexOf(e.objectNumber);return t>-1&&n.splice(t,1),-1==t})),t}},{key:"getMarkedStateCount",value:function(){return this.markedStates.length}},{key:"getMarkedState",value:function(e){return this.markedStates[e]}},{key:"getMarkedStates",value:function(){return this.markedStates}},{key:"getReviewStateCount",value:function(){return this.reviewStates.length}},{key:"getReviewState",value:function(e){return this.reviewStates[e]}},{key:"getReviewStates",value:function(){return this.reviewStates}},{key:"addReviewState",value:function(e){var t=this,n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.addAnnotReviewState(i.getId(),n.getId(),this.getId(),e).then((function(e){t.info.reviewStatesSummary.push({objectNumber:e.objectNumber,id:e.objectNumber,index:e.index});var i=t.page.doc.engine.annotManager.get(e,n);return n.addAddonAnnot(i)})).then((function(e){return t.reviewStates.push(e),t.page.doc.engine.eventEmitter.emit(ae.Z.annotationReviewStateAnnotAdd,e,t),t.page.doc.engine.eventEmitter.emit(ae.Z.annotationUpdated,[t],n,en.reviewStateUpdated),e}))}},{key:"removeReviewState",value:function(){var e=this,t=this.page,n=this.getReviewStates(),i=n[n.length-1];return t.removeAnnot(i).then((function(){if(e.reviewStates.pop(),e.info.reviewStatesSummary.pop(),e.reviewStates.length>0){var i=n[e.reviewStates.length-1];i&&(i.reviewStates.pop(),i.info.reviewStatesSummary.pop())}e.page.doc.engine.eventEmitter.emit(ae.Z.removeReviewState,e),e.page.doc.engine.eventEmitter.emit(ae.Z.annotationUpdated,[e],t,en.reviewStateUpdated)}))}},{key:"addMarkedState",value:function(e){var t=this,n=arguments[1],i=this.getPDFPage(),r=i.getPDFDoc(),o=this.getGroupHeader()||this;return this.page.doc.api.addAnnotMarkedState(r.getId(),i.getId(),this.getId(),e).then((function(e){if(o.info.markedStatesSummary.length){var t=i.annotIdMap[e.objectNumber];return t.info=e,t}o.info.markedStatesSummary.push({objectNumber:e.objectNumber,id:e.objectNumber,index:e.index});var n=i.doc.engine.annotManager.get(e,i);return i.addAddonAnnot(n)})).then((function(e){return o.markedStates.push(e),t.page.doc.engine.eventEmitter.emit(ae.Z.annotationMarkedStateAnnotAdd,e,o,n),t.page.doc.engine.eventEmitter.emit(ae.Z.annotationUpdated,[t],i,en.markedStateUpdated),e}))}},{key:"removeMarkedState",value:function(){var e=this,t=this.getPDFPage(),n=t.getPDFDoc(),i=this.getGroupHeader()||this,r=i.markedStates.pop();return r?(i.info.markedStatesSummary.pop(),t.removeAnnot(r).then((function(){n.engine.eventEmitter.emit(ae.Z.removeMarkedState,e),n.engine.eventEmitter.emit(ae.Z.annotationUpdated,[e],t,en.markedStateUpdated)}))):Promise.resolve()}},{key:"removeAllStateAnnots",value:function(){var e=this;this.checkModidyPerm();var t=this.getPDFPage(),n=t.getPDFDoc(),i=this.getGroupHeader()||this;return this.page.doc.api.removeAllStateAnnots(n.getId(),t.getId(),this.getId()).then((function(n){return!!n&&(i.info.markedStatesSummary.forEach((function(e){var n=e.id;t.removeAddonAnnotById(n)})),i.info.reviewStatesSummary.forEach((function(e){var n=e.id;t.removeAddonAnnotById(n)})),i.info.markedStatesSummary=[],i.info.reviewStatesSummary=[],i.reviewStates=[],i.markedStates=[],e.page.doc.engine.eventEmitter.emit(ae.Z.annotationStatesCleared,i),e.page.doc.engine.eventEmitter.emit(ae.Z.annotationUpdated,[e],t,en.statesCleared),n)}))}},{key:"getPopup",value:function(){return this.popup}},{key:"getCreateDateTime",value:function(){var e=this.info.creationTimestamp;return e>0?new Date(e):new Date}},{key:"setCreateDateTime",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setCreateDateTime(i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(en.createDateTimeUpdated)}))}},{key:"getIntent",value:function(){return this.info.intent}},{key:"setIntent",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotIntent(i.getId(),n.getId(),this.getId(),e).then((function(e){return n.getAnnotsByObjectNumArray(e)})).then((function(t){for(var n=0;n<t.length;n++)t[n].info.intent=e;return t})).then((function(e){return t.eventEmitter.emit(ae.Z.annotationUpdated,e,n,en.intentUpdated),t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,e,n),e}))}},{key:"getFillColor",value:function(){return this.info.fillColor}},{key:"setFillColor",value:function(e){var t=this;e=0===e?0:(0,W.colorConvertor)(e,"int");var n=this.getPDFPage(),i=n.getPDFDoc();return i.api.setAnnotFillColor(i.getId(),n.getId(),this.getId(),e).then((function(e){return e?t.update(en.fillColorUpdated).then((function(){return t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],n),e})):e}))}},{key:"update",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.getGroupElements();0==i.length&&(i=[this]);for(var r=[],o=0,a=i.length;o<a;o++){var s=i[o];r[o]=s._update()}return Promise.all(r).then((function(i){return e&&n&&t.eventEmitter.emit(ae.Z.annotationUpdated,i,t.getPDFPage(),e),i}))}},{key:"exportToJSON",value:function(){var e=(0,E._)((0,S._)(n.prototype),"exportToJSON",this).call(this),t=this.info.opacity,i=Ge(new Date(this.info.creationTimestamp)),r=this.info.intent,o=this.info.subject,a=this.info.title,s=this.info.IRT,c=this.info.RT;r=r&&r.length>0?{IT:r,intent:r}:{};var u=Object.assign({},e,{opacity:t,creationdate:i,subject:o,title:a,bm:this.info.bm,ca:this.info.ca},r);if(s&&c){var l=this.page.annotIdMap[s];l&&(s=l.getName(),u.inreplyto=s),u.replyType=c.toLowerCase()}return this.popup&&(u.popup=this.popup.exportToJSON()),this.info.rotation&&(u.rotation=this.info.rotation),this.info.measureRatio&&(u.measureConversionFactor=this.info.measureConversionFactor,u.measureRatio=this.info.measureRatio,u.measureUnit=this.info.measureUnit),u}},{key:"setContent",value:function(e){var t=this;return this.checkModidyPerm(),(this.getGroupHeader()||this)._setContent(e).then((function(e){return t.getPDFPage().getAnnotsByObjectNumArray([e])})).then((function(n){var i=n[0];if(i&&(i.info.content=e,i.info.modifiedTimestamp=(new Date).getTime()),t.eventEmitter.emit(ae.Z.annotationUpdated,n,t.getPDFPage(),en.contentUpdated),i){var r=i.info.type,o=i.info.intent;("polyline"===r&&"PolyLineDimension"===o||"polygon"===r&&"PolygonDimension"===o||"circle"===r&&"CircleDimension"===o)&&(t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,n,t.getPDFPage()),t.updateInfo(i.info))}return n}))}},{key:"getRichText",value:function(){if("freetext"!=this.info.type)return Promise.resolve();var e=this.getPDFPage(),t=e.getPDFDoc();return t.api.getRichText({path:"jr/doc/page/annot"},t.getId(),e.getId(),this.getId())}},{key:"setRichText",value:function(e){var t=this;if("freetext"!=this.info.type)return Promise.resolve();var n=this.getPDFPage(),i=n.getPDFDoc();return i.api.setRichText({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then((function(e){return t.update(en.richTextUpdated).then((function(e){t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,e,t.getPDFPage())}))}))}},{key:"addRichText",value:function(e){var t=this;if("freetext"!=this.info.type)return Promise.resolve();var n=this.getPDFPage(),i=n.getPDFDoc();return i.api.addRichText({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then((function(e){return t.update(en.richTextUpdated).then((function(e){t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,e,t.getPDFPage())}))}))}},{key:"insertRichText",value:function(e){var t=this;if("freetext"!=this.info.type)return Promise.resolve();var n=this.getPDFPage(),i=n.getPDFDoc();return i.api.insertRichText({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then((function(e){return t.update(en.richTextUpdated).then((function(e){t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,e,t.getPDFPage())}))}))}},{key:"removeRichText",value:function(e){var t=this;if("freetext"!=this.info.type)return Promise.resolve();var n=this.getPDFPage(),i=n.getPDFDoc();return i.api.removeRichText({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then((function(e){return t.update(en.richTextRemoved).then((function(e){t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,e,t.getPDFPage())}))}))}},{key:"setBorderOpacity",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return e=+e,this.page.doc.api.setBorderOpacity({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(en.borderOpacityUpdated).then((function(){t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],n)}))}))}},{key:"getBorderOpacity",value:function(){return this.info.borderOpacity}},{key:"setFillOpacity",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return e=+e,this.page.doc.api.setFillOpacity({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(en.fillOpacityUpdated).then((function(){t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],n)}))}))}},{key:"getFillOpacity",value:function(){return this.info.fillOpacity}}]),n}(An);const ur=cr;var lr=function(){function e(t,n,i){(0,C._)(this,e),this.doc=t,this.id=n,this.engine=i}return(0,D._)(e,[{key:"hasKey",value:function(e){return this.doc.api.hasKey(this.doc.getId(),this.id,e)}},{key:"setAt",value:function(e,t){var n=this;return this.doc.api.setAt(this.doc.getId(),this.id,e,t).then((function(e){return n.engine.eventEmitter.emit(ae.Z.docModified,n.doc),e}))}},{key:"getAt",value:function(e){return this.doc.api.getAt(this.doc.getId(),this.id,e)}}]),e}();const Ar=lr;var dr,hr=function(){function e(t){(0,C._)(this,e),(0,z._)(this,"id",void 0),this.id=t}return(0,D._)(e,[{key:"getId",value:function(){return this.id}},{key:"findNext",value:function(){return Promise.resolve(null)}},{key:"findPrev",value:function(){return Promise.resolve(null)}},{key:"destroy",value:function(){}}]),e}(),fr=["Courier","Courier-Bold","Courier-BoldOblique, Bold italic","Courier-Oblique, Italic","Helvetica","Helvetica-Bold","Helvetica-BoldOblique, Bold italic","Helvetica-Oblique, Italic","Times-Roman","Times-Bold","Times-BoldItalic","Times-Italic","Symbol","ZapfDingbats"];function pr(e,t,n){var i,r=e.json,o=r.contentFormats,a=r.contents,s=[o.TopLeft||(a?[{type:"string",value:a.TopLeft}]:[]),o.TopCenter||(a?[{type:"string",value:a.TopCenter}]:[]),o.TopRight||(a?[{type:"string",value:a.TopRight}]:[]),o.BottomLeft||(a?[{type:"string",value:a.BottomLeft}]:[]),o.BottomCenter||(a?[{type:"string",value:a.BottomCenter}]:[]),o.BottomRight||(a?[{type:"string",value:a.BottomRight}]:[])];s=s.map((function(e){var t="";return e.forEach((function(e){switch(e.type){case"string":sn(e.value)?t="":t+=e.value;break;case"pageNumber":t+=function(e){switch(e){case yt.default:return"<<1>>";case yt.numberOfCount:return"<<1 of n>>";case yt.numberSlashCount:return"<<1/n>>";case yt.pageNumber:return"<<Page 1>>";case yt.pageNumberOfCount:return"<<Page 1 of n>>"}return"<<1>>"}(e.value);break;case"date":t+=function(e){switch(e){case mt.MSlashD:return"<<m/d>>";case mt.MSlashDSlashYY:return"<<m/d/yy>>";case mt.MSlashDSlashYYYY:return"<<m/d/yyyy>>";case mt.MMSlashDDSlashYY:return"<<mm/dd/yy>>";case mt.MMSlashDDSlashYYYY:return"<<mm/dd/yyyy>>";case mt.DSlashMSlashYY:return"<<d/m/yy>>";case mt.DSlashMSlashYYYY:return"<<d/m/yyyy>>";case mt.DDSlashMMSlashYY:return"<<dd/mm/yy>>";case mt.DDSlashMMSlashYYYY:return"<<dd/mm/yyyy>>";case mt.MMSlashYY:return"<<mm/yy>>";case mt.MMSlashYYYY:return"<<mm/yyyy>>";case mt.MDotDDotYY:return"<<m.d.yy>>";case mt.MDotDDotYYYY:return"<<m.d.yyyy>>";case mt.MMDotDDDotYY:return"<<mm.dd.yy>>";case mt.MMDotDDDotYYYY:return"<<mm.dd.yyyy>>";case mt.MMDotYY:return"<<mm.yy>>";case mt.DDotMDotYYYY:return"<<d.m.yyyy>>";case mt.DDDotMMDotYY:return"<<dd.mm.yy>>";case mt.DDDotMMDotYYYY:return"<<dd.mm.yyyy>>";case mt.YYHyphenMMHyphenDD:return"<<yy-mm-dd>>";case mt.YYYYHyphenMMHyphenDD:return"<<yyyy-mm-dd>>"}return"<<<<m/d>>"}(e.value)}})),t}));var c=(i={submitLoading:!1,showPreview:!1,fontEmbed:!1,isShrink:!1,isKeep:!1,marginLeft:72,marginRight:72,marginTop:36,marginBottom:36,pageOdd:!0,pageEven:!0,pageCount:n},(0,z._)(i,"fontEmbed",!1),(0,z._)(i,"currentPage",t),i);c.leftHeaderText=s[0],c.centerHeaderText=s[1],c.rightHeaderText=s[2],c.leftFooterText=s[3],c.centerFooterText=s[4],c.rightFooterText=s[5],c.isShrink=r.hasTextShrinked||!1,c.isKeep=r.hasFixedSized||!1,r.startPageNumber=r.startPageNumber||1,c.startPage=r.startPageNumber-1,r.range?(r.range.start=r.range.start||1,r.range.end=r.range.end||n,r.range.start<1&&(r.range.start=1),r.range.start>n&&(r.range.start=n),r.range.end<1&&(r.range.end=1),r.range.end>n&&(r.range.end=n),c.pageStart=r.range.start-1,c.pageEnd=r.range.end-1,0===r.range.filter?(c.pageOdd=!0,c.pageEven=!0):1===r.range.filter?(c.pageOdd=!1,c.pageEven=!0):2===r.range.filter&&(c.pageOdd=!0,c.pageEven=!1)):(c.pageStart=0,c.pageEnd=n-1,c.pageOdd=!0,c.pageEven=!0),r.margin&&(c.marginLeft=r.margin.left,c.marginBottom=r.margin.bottom,c.marginTop=r.margin.top,c.marginRight=r.margin.right);var u=r.font?r.font:r.fontId;return c.font=u||0,c.fontSize=r.textSize||12,c.fontColor=r.textColor||0,c.underLine=r.underline||!1,"string"==typeof c.font?c.fontName=c.font:((c.font<0||c.font>=fr.length)&&(c.font=0),c.fontName=fr[c.font]),c}function vr(e,t){var n=0;!e.pageOdd&&e.pageEven?n=1:e.pageOdd&&!e.pageEven&&(n=2);var i=-1===e.pageStart?1:e.pageStart+1,r=-1===e.pageEnd?t:e.pageEnd+1,o=(0,W.colorConvertor)(e.fontColor,"int",0);return{font:e.fontName,textSize:e.fontSize,textColor:o,hasTextShrinked:e.isShrink,hasFixedSized:e.isKeep,range:{start:i,end:r,filter:n},margin:{left:e.marginLeft,right:e.marginRight,top:e.marginTop,bottom:e.marginBottom},startPageNumber:e.startPage+1,contents:{TopLeft:e.leftHeaderText,TopCenter:e.centerHeaderText,TopRight:e.rightHeaderText,BottomLeft:e.leftFooterText,BottomCenter:e.centerFooterText,BottomRight:e.rightFooterText},contentFormats:{},underline:e.underLine}}function gr(e,t,n,i,r){var o={showAdvanceSetting:!0,showApperanceOptModal:!1,submitLoading:!1,pageCount:r,currentPage:t+1,text:"",pageNumber:t,absScale:e.absScale,filePath:"",docId:null,doc:null,file:null,scaleCkd:!0,appear:2,pageStart:n,pageEnd:i,pageOdd:!0,pageEven:!0,isPrint:!0,isScreen:!0,isKeep:!1,unit:6,isMultiline:e.isMultiline,rowSpace:e.rowSpace,columnSpace:e.columnSpace};if(o.scaleCkd=!1!==e.useRelativeScale,void 0===o.absScale&&(o.absScale=100),o.absScale<0&&(o.scale=0),o.absScale>100&&(o.scale=100),o.isMultiline&&(null==o.rowSpace&&(o.rowSpace=0),null==o.columnSpace&&(o.columnSpace=0)),"text"===e.type){o.sourceType=1,o.text=e.text;var a=Object.assign({font:0,fontSize:20,color:0,fontStyle:"normal"},e.watermarkTextProperties);o.font=a.font,o.fontSize=a.fontSize,o.fontColor=a.color,"normal"===a.fontStyle?o.underLine=!1:"underline"===a.fontStyle&&(o.underLine=!0),"string"==typeof o.font?o.fontName=o.font:((o.font<0||o.font>=fr.length)&&(o.font=0),o.fontName=fr[o.font])}else"bitmap"===e.type&&(o.sourceType=2,o.bitmap=e.bitmap);var s=Object.assign({position:"Center",offsetX:0,offsetY:0,flags:7,scale:1,rotation:45,opacity:100},e.watermarkSettings);switch(o.hDistance=s.offsetX,o.vDistance=s.offsetY,o.opacity=s.opacity,o.rotate=s.rotation,s.scale<0&&(s.scale=.01),s.scale>1&&(s.scale=1),o.scale=100*s.scale,s.flags&ut.asAnnot?o.isKeep=!0:o.isKeep=!1,s.flags&ut.onTop?o.appear=2:o.appear=1,s.flags&ut.unprintable?o.isPrint=!1:o.isPrint=!0,s.flags&ut.display?o.isScreen=!1:o.isScreen=!0,s.position){case ct.topLeft:o.vFrom=1,o.hFrom=1;break;case ct.topCenter:o.vFrom=1,o.hFrom=2;break;case ct.topRight:o.vFrom=1,o.hFrom=3;break;case ct.centerLeft:o.vFrom=2,o.hFrom=1;break;case ct.center:o.vFrom=2,o.hFrom=2;break;case ct.centerRight:o.vFrom=2,o.hFrom=3;break;case ct.bottomLeft:o.vFrom=3,o.hFrom=1;break;case ct.bottomCenter:o.vFrom=3,o.hFrom=2;break;case ct.bottomRight:o.vFrom=3,o.hFrom=3}return o}!function(e){e.EDIT_GRAPHICS_OBJECT="edit-graphics-object"}(dr||(dr={}));var mr=W.LoggerFactory.getLogger("engine-pdf-page-batch-processor"),yr=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dr.EDIT_GRAPHICS_OBJECT;(0,C._)(this,e),(0,z._)(this,"page",void 0),(0,z._)(this,"kind",void 0),(0,z._)(this,"flushOperations",void 0),(0,z._)(this,"started",void 0),this.page=t,this.kind=n,this.flushOperations=new Map,this.started=!1}return(0,D._)(e,[{key:"start",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){return e.started=!0,[2,e.callAPI("start")]}))}))()}},{key:"isStarted",value:function(){return!this.isDestroyed()&&this.started}},{key:"flush",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){return e.isStarted()?(e.flushLocally(),[2,e.callAPI("flush")]):[2]}))}))()}},{key:"end",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){return e.started=!1,e.flushLocally(),[2,e.callAPI("end")]}))}))()}},{key:"flushLocally",value:function(){var e=this.flushOperations.values();try{var t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){(0,r.value)()}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}catch(e){mr.error(e)}finally{this.flushOperations.clear()}}},{key:"isDestroyed",value:function(){return this.page.isDestroyed}},{key:"callAPI",value:function(e){if(!this.isDestroyed()){var t=this.page.doc,n=this.page.getId(),i=t.getId();return t.api.emitPageBatchProcessor({path:"jr/doc/page"},i,n,{action:e,kind:this.kind})}}},{key:"recordFlushOperation",value:function(e,t){this.flushOperations.set(e,t)}}]),e}(),_r=["highlight","strikeout","underline","squiggly","caret","text","fileattachment","freetext","ink","line","link","circle","square","polygon","polyline","stamp","screen"];function br(e,t){if(-1==_r.indexOf(e.type))throw new Error("Annot type error");if(t&&t.isTextAsContent){["highlight","strikeout","underline","squiggly"].includes(e.type)&&!e.contents&&e.coords[0]&&e.coords[0].text&&(e.contents=e.coords[0].texts||e.coords[0].text)}return e.iconCatagory&&(e.iconCategory=e.iconCatagory),e.iconInfo&&e.iconInfo.catagory&&(e.iconInfo.category=e.iconInfo.catagory),e}var wr=n(318),kr=function(){function e(t,n){(0,C._)(this,e),this.id=t,this.annot=n,this.page=n.getPDFPage(),this.api=this.page.api}return(0,D._)(e,[{key:"getId",value:function(){return this.id}},{key:"findNext",value:function(){return this.page.doc.api.textSearchFindNext(this.getId()).then((function(e){return e?new ar(e):null}))}},{key:"findPrev",value:function(){return this.page.doc.api.textSearchFindPrev(this.getId()).then((function(e){return e?new ar(e):null}))}},{key:"destroy",value:function(){return this.page.doc.api.textSearchDestroy(this.getId())}}]),e}(),xr=Symbol("field"),Pr=xr,Cr=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r;(0,C._)(this,n),r=t.call(this,e,i),(0,z._)((0,x._)(r),"info",void 0),(0,z._)((0,x._)(r),"page",void 0),(0,z._)((0,x._)(r),Pr,void 0),(0,z._)((0,x._)(r),"form",void 0),(0,z._)((0,x._)(r),"formAPI",void 0),(0,z._)((0,x._)(r),"widgetId",void 0),(0,z._)((0,x._)(r),"widgetAPI",void 0),r.info=e,r.page=i;var o=r.page.doc,a=o.form;return r.form=a,r.formAPI=o.formAPI,r.widgetId=r.annotId,r.widgetAPI=o.getFormWidgetAPI(),r}return(0,D._)(n,[{key:"field",get:function(){var e=this.info.field;if(e)return this[xr]?this[xr]:this[xr]=this.form.getOrCreateField(e.fieldName,e)}},{key:"getWidgetId",value:function(){return this.widgetId}},{key:"getField",value:function(){return this.field}},{key:"getControl",value:function(){var e;return null===(e=this.field)||void 0===e?void 0:e.getControl(this.info.controlIndex)}},{key:"update",value:function(e,t){var i=this,r=this;return(0,P._)((function(){var o;return(0,L.Jh)(this,(function(a){switch(a.label){case 0:return[4,(0,E._)((0,S._)(n.prototype),"update",i).call(r,e,t)];case 1:return a.sent(),null===(o=r.field)||void 0===o||o.updateInfo(r.info.field),[2]}}))}))()}},{key:"getPage",value:function(){return(0,E._)((0,S._)(n.prototype),"getPage",this).call(this)}},{key:"remove",value:function(){return this.getPage().removeAnnotByObjectNumber(this.getObjectNumber())}},{key:"setRotation",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(e){case wr.FormWidgetRotation.ROTATION_0:case wr.FormWidgetRotation.ROTATION_90:case wr.FormWidgetRotation.ROTATION_180:case wr.FormWidgetRotation.ROTATION_270:break;default:throw new Error("Invalid rotation value: ".concat(e,", it should be one of 0, 1, 2, 3"))}return[2,t.widgetAPI.setRotation(t.widgetId,e).then((function(){t.emitPropertyUpdateEvent(en.formWidgetRotationUpdated)}))]}))}))()}},{key:"getRotation",value:function(){return this.widgetAPI.getRotation(this.widgetId)}},{key:"setDirectionRTL",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(e){case wr.FormWidgetDirection.LEFT_TO_RIGHT:case wr.FormWidgetDirection.RIGHT_TO_LEFT:break;default:throw new Error("Invalid direction value: ".concat(e,", it should be one of ").concat(wr.FormWidgetDirection.LEFT_TO_RIGHT,", ").concat(wr.FormWidgetDirection.RIGHT_TO_LEFT))}return[2,t.widgetAPI.setDirectionRTL(t.widgetId,e).then((function(){t.emitPropertyUpdateEvent(en.formWidgetDirectionRTLUpdated)}))]}))}))()}},{key:"getDirectionRTL",value:function(){return this.widgetAPI.getDirectionRTL(this.widgetId)}},{key:"setAlignment",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(e){case wr.TextWidgetAlignment.left:case wr.TextWidgetAlignment.center:case wr.TextWidgetAlignment.right:break;default:throw new Error("Invalid alignment value: ".concat(e,", it should be one of ").concat(wr.TextWidgetAlignment.left,", ").concat(wr.TextWidgetAlignment.center,", ").concat(wr.TextWidgetAlignment.right))}return[2,t.widgetAPI.setAlignment(t.widgetId,e).then((function(){t.emitPropertyUpdateEvent(en.formWidgetAlignmentUpdated)}))]}))}))()}},{key:"getAlignment",value:function(){return this.widgetAPI.getAlignment(this.widgetId)}},{key:"getMKBorderColor",value:function(){return this.widgetAPI.getBorderColor(this.widgetId)}},{key:"setMKBorderColor",value:function(e){var t=this;return this.widgetAPI.setBorderColor(this.widgetId,e).then((function(){t.emitPropertyUpdateEvent(en.formWidgetMKBorderColorUpdated)}))}},{key:"getMKFillColor",value:function(){return this.widgetAPI.getFillColor(this.widgetId)}},{key:"setMKFillColor",value:function(e){var t=this;return this.widgetAPI.setFillColor(this.widgetId,e).then((function(){t.emitPropertyUpdateEvent(en.formWidgetMKFillColorUpdated)}))}},{key:"setNormalCaption",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.widgetAPI.setNormalCaption(this.widgetId,t).then((function(){e.emitPropertyUpdateEvent(en.formWidgetNormalCaptionUpdated)}))}},{key:"getNormalCaption",value:function(){return this.widgetAPI.getNormalCaption(this.widgetId)}},{key:"setDefaultAppearance",value:function(e){var t=this;return this.widgetAPI.setDefaultAppearance(this.widgetId,e).then((function(){t.emitPropertyUpdateEvent(en.defaultAppearanceUpdated)}))}},{key:"getDefaultAppearance",value:function(){return this.widgetAPI.getDefaultAppearance(this.widgetId)}},{key:"getTextColor",value:function(){return this.getDefaultAppearance().then((function(e){return e.textColor}))}},{key:"setTextColor",value:function(e){return this.setDefaultAppearance({textColor:e})}},{key:"getTextSize",value:function(){return this.getDefaultAppearance().then((function(e){return e.textSize}))}},{key:"setTextSize",value:function(e){return this.setDefaultAppearance({textSize:e})}},{key:"getFont",value:function(){return this.getDefaultAppearance().then((function(e){return e.font}))}},{key:"getFontName",value:function(){return this.getDefaultAppearance().then((function(e){return e.font.baseName}))}},{key:"setFontName",value:function(e){return this.setDefaultAppearance({fontName:e})}},{key:"setIconCaptionRelation",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){if(!(0,wr.isValidWidgetIconCaptionRelation)(e))throw new Error("Invalid relation of the icon and caption of the form widget: ".concat(e));return[2,t.widgetAPI.setIconCaptionRelation(t.widgetId,e).then((function(){switch(t.emitPropertyUpdateEvent(en.formWidgetIconCaptionRelationUpdated),e){case wr.WidgetIconCaptionRelation.NO_ICON:t.emitPropertyUpdateEvent(en.formWidgetIconUpdated);break;case wr.WidgetIconCaptionRelation.NO_CAPTION:t.emitPropertyUpdateEvent(en.formWidgetCaptionUpdated)}}))]}))}))()}},{key:"getIconCaptionRelation",value:function(){return this.widgetAPI.getIconCaptionRelation(this.widgetId)}},{key:"setHighlightingMode",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){if(!(0,un.isValidHighlightingMode)(e))throw new Error("Invalid highlighting mode of the form widget: ".concat(e));return[2,t.widgetAPI.setHighlightingMode(t.widgetId,e).then((function(){t.emitPropertyUpdateEvent(en.formWidgetHighlightingModeUpdated)}))]}))}))()}},{key:"getHighlightingMode",value:function(){return this.widgetAPI.getHighlightingMode(this.widgetId)}},{key:"setMKCaption",value:function(e,t){var n=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(i){if(!(0,wr.isValidWidgetGestureState)(e))throw new Error("Invalid state of the form widget: ".concat(e));return[2,n.widgetAPI.setMKCaption(n.widgetId,e,t).then((function(){n.emitPropertyUpdateEvent(en.formWidgetCaptionUpdated)}))]}))}))()}},{key:"setMKIcon",value:function(e,t){var n=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(i){if(!(0,wr.isValidWidgetGestureState)(e))throw new Error("Invalid state of the form widget: ".concat(e));return[2,n.widgetAPI.setMKIcon(n.widgetId,e,t).then((function(){n.emitPropertyUpdateEvent(en.formWidgetIconUpdated)}))]}))}))()}},{key:"removeMKIcon",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){if(!(0,wr.isValidWidgetGestureState)(e))throw new Error("Invalid state of the form widget: ".concat(e));return[2,t.widgetAPI.removeMKIcon(t.widgetId,e).then((function(){t.emitPropertyUpdateEvent(en.formWidgetIconUpdated)}))]}))}))()}},{key:"getMKIconOptions",value:function(){return this.widgetAPI.getMKIconOptions(this.widgetId)}},{key:"getMKIcon",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){if(!(0,wr.isValidWidgetGestureState)(e))throw new Error("Invalid state of the form widget: ".concat(e));return[2,t.widgetAPI.getMKIcon(t.widgetId,e)]}))}))()}},{key:"getMKCaptionOptions",value:function(){return this.widgetAPI.getMKCaptionOptions(this.widgetId)}},{key:"getIconFitOptions",value:function(){return this.widgetAPI.getIconFitOptions(this.widgetId)}},{key:"setIconFitOptions",value:function(e){var t=this;return this.widgetAPI.setIconFitOptions(this.widgetId,e).then((function(){t.emitPropertyUpdateEvent(en.formWidgetIconFitUpdated)}))}},{key:"setExportValue",value:function(e){var t=this;if(!e)throw new Error("The export value of the form widget cannot be an empty string!");return this.widgetAPI.setExportValue(this.widgetId,e).then((function(){return t.emitPropertyUpdateEvent(en.formWidgetExportValueUpdated)}))}},{key:"getExportValue",value:function(){return this.widgetAPI.getExportValue(this.widgetId)}},{key:"getAdditionalAction",value:function(){var e=this;return new $e.AdditionalAction(this.resQuery,this.additionalActionAPI,(function(t){switch(t){case"set":e.emitPropertyUpdateEvent(en.actionDataUpdated),e.emitPropertyUpdateEvent(en.additionalActionDataUpdated);break;case"remove":e.emitPropertyUpdateEvent(en.additionalActionDataRemoved);break;case"update":e.emitPropertyUpdateEvent(en.additionalActionDataUpdated);break;case"add":e.emitPropertyUpdateEvent(en.actionDataUpdated),e.emitPropertyUpdateEvent(en.additionalActionDataAdded)}}),(function(){return(0,M._)($e.AnnotActionTriggerEventsArray).concat((0,M._)($e.FieldActionTriggerEventsArray))}))}},{key:"setAdditionalAction",value:function(e,t){var i=this,r=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(o){return[2,(0,E._)((0,S._)(n.prototype),"setAdditionalAction",i).call(r,e,t)]}))}))()}},{key:"getAdditionalActions",value:function(e){var t=(0,M._)($e.AnnotActionTriggerEventsArray).concat((0,M._)($e.FieldActionTriggerEventsArray));return(0,E._)((0,S._)(n.prototype),"getAdditionalActions",this).call(this,e||t)}},{key:"removeAdditionalAction",value:function(e,t){var i=this,r=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(o){return[2,(0,E._)((0,S._)(n.prototype),"removeAdditionalAction",i).call(r,e,t)]}))}))()}},{key:"appendAdditionalAction",value:function(e,t){return(0,E._)((0,S._)(n.prototype),"appendAdditionalAction",this).call(this,e,t)}},{key:"updateAdditionalAction",value:function(e,t,i){return(0,E._)((0,S._)(n.prototype),"updateAdditionalAction",this).call(this,e,t,i)}},{key:"getTextSearch",value:function(e,t){var n=this,i=this.page,r=i.doc;return this.page.doc.api.getAnnotTextSearch(r.getId(),i.getId(),this.widgetId.objNumber,e,t).then((function(e){return new kr(e,n)}))}}]),n}(An),Dr=function(){function e(t,n){(0,C._)(this,e),this.info=t,this.isDestroyed=!1,this.doc=n,this.engine=n.engine,this.api=n.api,this._pxWdith=(0,G.F2)(this.getWidth()),this._pxHeight=(0,G.F2)(this.getHeight()),this.annots=[],this.annotIdMap={},this.graphicObjects=[],this.info.AA[0]&&(this.openAction=this.doc.engine.actionFactory.createAction(this.info.AA[0],n,this.doc.api,this.doc.engine.eventEmitter,this)),this.info.AA[1]&&(this.closeAction=this.doc.engine.actionFactory.createAction(this.info.AA[1],n,this.doc.api,this.doc.engine.eventEmitter,this)),n.pageIdMap[t.id]=this,this.batchProcessor=new yr(this),this.queuedTaskExecutor=new W.QueuedAsyncTaskExecutor}return(0,D._)(e,[{key:"getAction",value:function(e){return"open"==e?this.openAction:this.closeAction}},{key:"getActions",value:function(e){var t=this;return this.doc.api.getPageAction(this.getPDFDoc().getId(),this.getId(),e).then((function(e){if(e)return t.doc.engine.actionFactory.createAction(e,t.doc,t.doc.api,t.engine.eventEmitter,t)}))}},{key:"setAction",value:function(e,t){var n=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(i){return[2,n.doc.api.setPageAction(n.getPDFDoc().getId(),n.getId(),e,t.info).then((function(e){return n.doc.engine.eventEmitter.emit(ae.Z.docModified,n.doc),e}))]}))}))()}},{key:"setActionData",value:function(){this.doc.api.updatePageAction()}},{key:"execOpenAction",value:function(){}},{key:"execCloseAction",value:function(){return this.doc.api.executeCloseAction({path:"jr/doc/page"},this.getPDFDoc().getId(),this.getId())}},{key:"moveAction",value:function(e){var t=this;return this.doc.api.movePageAction(this.getPDFDoc().getId(),this.getId(),e).then((function(e){return t.doc.engine.eventEmitter.emit(ae.Z.docModified,t.doc),e}))}},{key:"removeAction",value:function(e,t){var n=this;return this.doc.api.removePageAction(this.getPDFDoc().getId(),this.getId(),e,t?t.info:null).then((function(e){return n.doc.engine.eventEmitter.emit(ae.Z.docModified,n.doc),e}))}},{key:"getId",value:function(){return this.info.id}},{key:"getInfo",value:function(){return this.info}},{key:"getPDFDoc",value:function(){return this.doc}},{key:"getIndex",value:function(){return this.info.index}},{key:"getWidth",value:function(){return this.info.width}},{key:"getHeight",value:function(){return this.info.height}},{key:"getUserUnit",value:function(){return this.info.userUnit}},{key:"updateInfo",value:function(){var e=this;return this.doc.api.updatePageInfo(this.getPDFDoc().getId(),this.getId()).then((function(t){e._updateInfo(t)}))}},{key:"_updateInfo",value:function(e){this.info=e,this.doc.updatePageSize(e.index,this.getWidth(),this.getHeight()),this._pxWdith=(0,G.F2)(this.getWidth()),this._pxHeight=(0,G.F2)(this.getHeight()),this.doc.engine.eventEmitter.emit(ae.Z.pageInfoChange,this)}},{key:"getRotation",value:function(){return this.info.rotation}},{key:"setRotation",value:function(e){var t=this;if(!this.doc.checkPermission(Qt.assemble|Qt.modify))throw new Error("Permission error");var n=this.getRotation();return e===n?Promise.resolve():(this.doc.engine.eventEmitter.emit(ae.Z.beforePageRotationChanged,this,e,n),this.doc.api.setPageRotation(this.getPDFDoc().getId(),this.getId(),e).then((function(e){return Promise.all([e,t.updateInfo()])})).then((function(e){var i=(0,R._)(e,1)[0];t.doc.engine.eventEmitter.emit(ae.Z.pageRotationChange,t,i,n)})))}},{key:"getRotationAngle",value:function(){var e=this.getRotation();if(4===e)throw new Error("Unknown rotation angle value: "+e);return 90*e}},{key:"getPxWidth",value:function(){return this._pxWdith}},{key:"getPxHeight",value:function(){return this._pxHeight}},{key:"getOriginX",value:function(){return this.info.cropBox.left}},{key:"getOriginY",value:function(){return this.info.cropBox.bottom}},{key:"getPDFMatrix",value:function(){return new nn.Z(this.info.matrix)}},{key:"getDeviceMatrix",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.getPDFMatrix(),n=this.getHeight(),i=this.getWidth();t.translate(0,-n);var r=(0,G.F2)(1);switch(t.scale(r,-r),e){case 90:t.rotate(e/180*Math.PI),t.translate(r*n,0);break;case 180:t.rotate(e/180*Math.PI),t.translate(r*i,r*n);break;case 270:t.rotate(e/180*Math.PI),t.translate(0,r*i)}return t}},{key:"getDeviceMatrix2",value:function(){var e=this.getPDFMatrix(),t=this.getRotation(),n=(0,G.F2)(1);switch(t%4){case 0:e.translate(0,-this.getHeight()),e.scale(n,-n);break;case 1:e.scale(-n,n),e.rotate(Math.PI/2);break;case 2:e.translate(-this.getWidth(),0),e.scale(-n,n);break;case 3:e.translate(this.getWidth(),this.getHeight()),e.rotate(Math.PI/2),e.scale(n,-n)}return e}},{key:"getDevicePoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.getDeviceMatrix(n);return i.scale(t,t),i.transformPoint(e[0],e[1])}},{key:"getDeviceRect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.getDeviceMatrix(n);i.scale(t,t);var r=i.transformRect(e.left,e.top,e.right,e.bottom);return{left:r[0],top:r[1],right:r[2],bottom:r[3]}}},{key:"getAnnotDeviceMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,r=e;(0,T._)(e,An)&&(r=e.info);var o=r.flag,a=8&o,s=16&o;"text"===r.type&&(a=s=!0);var c=this.getDeviceMatrix(n);if(c.scale(t,t),!a&&!s)return c;var u=new nn.Z,l=r.rect;i&&(l=i);var A,d,h=new Xt(l.left,l.bottom,l.right,l.top);if(a)A=W.dpr,d=-W.dpr;else{var f,p,v,g,m,y;f=p=0;var _=c.transformPoint(f,p);f=_[0],p=_[1],v=1,g=0,v=(_=c.transformPoint(v,g))[0],g=_[1],v-=f,g-=p,m=0,y=1,m=(_=c.transformPoint(m,y))[0],y=_[1],m-=f,y-=p,A=Math.sqrt(v*v+g*g),d=-Math.sqrt(m*m+y*y)}u.a=A,u.b=0,u.c=0,u.d=d,!s&&n>0&&n<4&&u.Rotate(Math.PI*n/2);var b=h.left,w=h.top,k=c.transformPoint(b,w);return b=k[0],w=k[1],u.e=b-h.left*u.a-h.top*u.c,u.f=w-h.left*u.b-h.top*u.d,u}},{key:"getAnnotDeviceRect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,r=this.getAnnotDeviceMatrix(e,t,n,i),o=e;(0,T._)(e,An)&&(o=e.info);var a=new Xt(o.rect.left,o.rect.bottom,o.rect.right,o.rect.top);i&&(a=i);var s=r.transformRect(a.left,a.top,a.right,a.bottom);return{left:s[0],top:s[1],right:s[2],bottom:s[3]}}},{key:"reverseDevicePoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.getDeviceMatrix(n);return i.scale(t,t),i.setReverse(),i.transformPoint(e[0],e[1])}},{key:"reverseDeviceOffset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.getDeviceMatrix(n);return i.e=i.f=0,i.scale(t,t),i.setReverse(),i.transformPoint(e[0],e[1])}},{key:"reverseDeviceRect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.getDeviceMatrix(n);i.scale(t,t),i.setReverse();var r=(0,R._)(i.transformRect(e.left,e.top,e.right,e.bottom),4),o=r[0],a=r[1],s=r[2],c=r[3],u=Math.min(o,s),l=Math.max(o,s);return{left:u,top:Math.max(a,c),right:l,bottom:Math.min(a,c)}}},{key:"render",value:function(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["page"],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"view";if(e*=4/3,-1==r.indexOf("page")&&r.push("page"),"view"!=o&&"print"!=o)throw new Error("Param error: usage should be one of 'view', 'print'. Got '"+o+"' instead.");return this.getPageBitmap(e,t,n,r,o).then((function(a){var s=function(a){return a.rate<100?i.doc.api.continueProgress(a.progressiveId).then(s):a.buffer||a.image?a:i.getPageBitmap(e,t,n,r,o)};return a.rate>=100?a:s(a)}))}},{key:"getPageBitmap",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["page"],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"view",o=arguments[5]||"",a=arguments[6],s=arguments[7];return this.doc.api.getPageBitmap(this.getPDFDoc().getId(),this.getId(),e,t,n,i,r,o,!1,a,s)}},{key:"getAnnotsBitmap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:["annot","form"],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"view",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{hideAnnots:[],hotAnnot:0,dpr:1},s=arguments.length>7?arguments[7]:void 0;return this.doc.api.getAnnotsBitmap(this.doc.getId(),this.getId(),e,t,n,i,r,o,a,s)}},{key:"clearDesignerAssitCache",value:function(){return this.doc.api.clearDesignerAssitCache(this.getPDFDoc().getId(),this.getId())}},{key:"getPageAndHighlightBitmap",value:function(e,t,n,i){return this.doc.api.getPageAndHighlightBitmap(this.getPDFDoc().getId(),this.getId(),e,t,n,i)}},{key:"getAnnotBitmap",value:function(e,t,n,i,r,o,a){var s=this,c=arguments[7];return!0===r?this.doc.api.getAnnotBitmap(this.getPDFDoc().getId(),this.getId(),e,t,n,i,o,a,c):this.getAnnots().then((function(r){if(e.trim().length<1)return null;var u=s.getAnnotObjectNum(e);return 0==u?null:s.doc.api.getAnnotBitmap(s.getPDFDoc().getId(),s.getId(),u,t,n,i,o,a,c)}))}},{key:"getAnnotBitmapEx",value:function(e,t,n,i,r,o,a){var s=this,c=arguments[7];return!0===r?this.doc.api.getAnnotBitmapEx({path:"jr/doc/page"},this.getPDFDoc().getId(),this.getId(),e,t,n,i,o,a,c):this.getAnnots().then((function(r){if(e.trim().length<1)return null;var u=s.getAnnotObjectNum(e);return 0==u?null:s.doc.api.getAnnotBitmapEx({path:"jr/doc/page"},s.getPDFDoc().getId(),s.getId(),u,t,n,i,o,a,c)}))}},{key:"getPageObjNum",value:function(){return this.info.objectNumber}},{key:"getAnnotObjectNum",value:function(e){var t=this;if(e.trim().length<1)return 0;var n=Object.keys(this.annotIdMap);if(!n.length)return 0;var i=n.find((function(n){return t.annotIdMap[n].getName()==e}));return parseInt(i)}},{key:"getAnnotBitmapByRange",value:function(e,t,n,i){return this.doc.api.getAnnotBitmapByRange(this.getPDFDoc().getId(),this.getId(),e,t,n,i)}},{key:"getAnnotCount",value:function(){return this.annots.length||this.info.annotCount}},{key:"resetWidgetsControl",value:function(){this.annots.forEach((function(e){"widget"==e.getType()&&e.mapFormControl()}))}},{key:"getAnnots",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.isDestroyed)return Promise.resolve([]);var i=(0,w._)({},this.annotIdMap);if(t&&(this.annots.length=0,this.annotIdMap={},this.annotsPromise=null),this.annotIdMap){var r=Object.keys(this.annotIdMap);if(this.annots.length&&r.length){var o=r.map((function(t){return e.annotIdMap[t]}));return o.sort(Er),Promise.resolve(o)}}var a=this.doc.engine;return a?this.annotsPromise=this.annotsPromise||this.doc.api.getAnnots(this.getPDFDoc().getId(),this.getId(),null,t).then((function(t){return e.isDestroyed?[]:t.map((function(t){var n=i[t.objectNumber];return n?(n.updateInfo(t,!0),n):a.annotManager.get(t,e)}))})).then((function(t){if(e.isDestroyed)return[];var i=[];e.annotIdMap=t.reduce((function(e,t,n){if(e){var r=t.getId();return r in e||i.push(t),e[r]=t,e}}),e.annotIdMap);var r=t.map((function(t){return t.reviseSummary((function(t){return e.annotIdMap[t]}))}));return Promise.all(r).then((function(){return e.annots?(e.annots.length=0,t.sort(Er),t.forEach((function(t){return e.annots.push(t)})),e.info.annotCount=t.length,e.annotsPromise=null,n&&a.eventEmitter.emit(ae.Z.annotationLoaded,e,i,t),e.annots):[]}))}),(function(t){return e.annotsPromise=null,Promise.reject(t)})):Promise.resolve()}},{key:"setAnnots",value:function(e){e.sort(Er),this.annots=e}},{key:"getMarkupAnnots",value:function(){var e=!0===arguments[0];return this.getAnnots().then((function(t){return function(t){var n=function(e){return"popup"===e},i=function(e){return"widget"===e};t=t.filter((function(e){return e.isMarkup()&&!e.isDeleted()&&!n(e.getType())&&!i(e.getType())&&e.getReplies&&(!e.isStateAnnot||!e.isStateAnnot())}));var r=[],o=[];t.forEach((function(e){var t,n,i,a=e.getReplies();(t=r).push.apply(t,(0,M._)(a)),r.forEach((function e(t){var n;if(!t&&t.getReplies){var i=t.getReplies();(n=r).push.apply(n,(0,M._)(i)),i.forEach(e)}})),(n=o).push.apply(n,(0,M._)(e.getReviewStates())),(i=o).push.apply(i,(0,M._)(e.getMarkedStates()))}));var a=t.filter((function(e){return-1===r.indexOf(e)&&-1===o.indexOf(e)}));return e?a.reduce((function(e,t){var n=t.getGroupHeader&&t.getGroupHeader()||t;return-1===e.indexOf(n)&&e.push(n),e}),[]):(a.forEach((function(e){"Replace"===e.getIntent()&&e.groupElements.forEach((function(t){if(t!==e){var n=a.indexOf(t);n>-1&&a.splice(n,1)}}))})),a)}(t)}))}},{key:"filterAnnot",value:function(e,t){for(var n=!e,i=0;i<this.annots.length;i++){var r=this.annots[i];if(n&&r.getType()==t)return r;r.info.objectNumber==e&&(n=!0)}return null}},{key:"filterPrevAnnot",value:function(e,t){for(var n=!e,i=this.annots.length-1;i>=0;i--){var r=this.annots[i];if(n&&r.getType()==t)return r;r.info.objectNumber==e&&(n=!0)}return null}},{key:"getAnnotTree",value:function(){var e=this,t=!0===arguments[0];return this.getMarkupAnnots(t).then((function(t){return e.getAnnots().then((function(e){var n=e.filter((function(e){return!e.isMarkup()&&!e.isDeleted()&&"popup"!==e.info.type}));return t.concat(n).sort((function(t,n){return e.indexOf(t)-e.indexOf(n)}))}))}))}},{key:"getAnnotIdAtDevicePoint",value:function(e,t,n){return this.doc.api.getAnnotIdAtDevicePoint(this.getPDFDoc().getId(),this.getId(),{x:e[0],y:e[1]},t,n)}},{key:"getAnnotIdAtPoint",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.doc.api.getAnnotIdAtPoint({path:"jr/doc/page"},this.getPDFDoc().getId(),this.getId(),e,t,n)}},{key:"getAnnotObjectNumAtDevicePoint",value:function(e,t,n){return this.doc.api.getAnnotObjectNumAtDevicePoint(this.getPDFDoc().getId(),this.getId(),{x:e[0],y:e[1]},t,n)}},{key:"getCharInfoAtPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!arguments[2]&&!this.doc.checkPermission(Qt.extract||Qt.extractAccess))throw new Error("Permission error");return this.doc.api.getCharInfoAtPoint(this.getPDFDoc().getId(),this.getId(),{x:e[0],y:e[1]},t)}},{key:"removeAnnot",value:function(e){return this.removeAnnotByObjectNumber(e.getId())}},{key:"removeAnnotById",value:function(e){var t=this;return this.getAnnots().then((function(n){var i=n.find((function(t){return e&&e===t.getUniqueID()}));return i&&i.getObjectNumber?t.removeAnnotByObjectNumber(i.getObjectNumber()):[]}))}},{key:"removeAnnotByObjectNumber",value:function(e){var t=this;return this.queuedTaskExecutor.exec((function(){return t._removeAnnotByObjectNumber(e)}))}},{key:"_removeAnnotByObjectNumber",value:function(e){var t=this;return(0,P._)((function(){var n,i;return(0,L.Jh)(this,(function(r){switch(r.label){case 0:if(!t.doc.checkPermission(Qt.annotForm))throw new Error("Permission error");return[4,t.getAnnotsByObjectNumArray([e])];case 1:return n=R._.apply(void 0,[r.sent(),1]),(i=n[0])?i.getType()===Xi.widget?[2,t.removeWidget(e)]:[2,t.getAnnots().then((function(n){return n.filter((function(e){return e.getType()!==Xi.widget})).map((function(e){return e.getId()})).length?t.doc.api.removeAnnot(t.getPDFDoc().getId(),t.getId(),e):[]})).then((function(e){return t.cleanupRemovedAnnots(e)}))]:[2,[]]}}))}))()}},{key:"removeWidget",value:function(e){var t=this;return(0,P._)((function(){var n,i,r;return(0,L.Jh)(this,(function(o){switch(o.label){case 0:return n=t.doc,i=t.annots.find((function(t){return t.getId()===e})),i&&i.getType()===Xi.widget?[4,n.formAPI.removeWidget({pageIndex:t.getIndex(),objNumber:e})]:[2,[]];case 1:return o.sent().fieldRemoved&&(r=i.field,t.engine.eventEmitter.emit(ae.Z.formFieldRemoved,[r.getName()],n),r.destroy()),[2,t.cleanupRemovedAnnots([e])]}}))}))()}},{key:"cleanupRemovedAnnots",value:function(e){var t=this;return(0,P._)((function(){var n,i,r;return(0,L.Jh)(this,(function(o){switch(o.label){case 0:return[4,t.clearRelatives(e)];case 1:return o.sent(),i=t.clearAnnotIds(e),r=(n=Math).min.apply(n,(0,M._)(i.map((function(e){return e.getIndex()})))),t.annots.slice(r).forEach((function(e,t){e.info.index=t+r})),t.doc.engine.eventEmitter.emit(ae.Z.annotationRemoved,i,t),[2,i]}}))}))()}},{key:"removeAllAnnot",value:function(){var e,t=this;if(!this.doc.checkPermission(Qt.annotForm))throw new Error("Permission error");return this.getAnnots().then((function(n){var i=n.filter((function(e){return e.getType()!==Xi.widget}));return(e=i.map((function(e){return e.getId()}))).length?t.doc.api.removePageAllAnnot(t.getPDFDoc().getId(),t.getId()):[]})).then((function(){return t.clearRelatives(e),t.clearAnnotIds(e)})).then((function(e){return t.doc.engine.eventEmitter.emit(ae.Z.annotationRemoved,e,t),e}))}},{key:"getThumb",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(0,W.assertThat)((0,W.isValidRotationAngle)(e),"Incorrect rotation degree: ".concat(e,", it should be 0, 90, 180, or 270"));var n=this.getPDFDoc().getId(),i=this.getId();return this.doc.api.getThumb(n,i,e,t)}},{key:"getMediaBoxBitmap",value:function(e,t){var n=this.getPDFDoc().getId(),i=this.getId();return this.doc.api.getMediaBoxBitmap(n,i,e,t)}},{key:"clearRelatives",value:function(e){if(Array.isArray(e)&&e){var t=e.slice(0);return this.getAnnots().then((function(e){e.some((function(e){return!(!(0,T._)(e,ur)||0!=(t=e.removeRepliesByIdLocaly(t)).length)}))}))}}},{key:"clearAnnotIds",value:function(e){for(var t=this,n=function(n){var a=e[n];i[n]=r[a],i[n]&&(i[n].info.isDeleted=!0,delete r[a],o.annotCount--),t.annots.forEach((function(e){e.getId()==a&&(e.info.isDeleted=!0)}))},i=[],r=this.annotIdMap,o=this.info,a=e.length;a--;)n(a);for(var s=i.length;s--;)i[s]||i.splice(s,1);return this.annots=this.annots.filter((function(t){return-1===e.map((function(e){return String(e)})).indexOf(String(t.getId()))})),i}},{key:"addReplyAnnot",value:function(e){if(!this.doc.checkPermission(Qt.annotForm))throw new Error("Permission error");return this.addAddonAnnot(e)}},{key:"addAddonAnnot",value:function(e){var t=this,n=e.getId();return this.info.annotCount++,this.annots.push(e),this.annotIdMap[n]=e,e.reviseSummary((function(e){return t.annotIdMap[e]}))}},{key:"removeAddonAnnotById",value:function(e){if(this.annotIdMap[e]){this.info.annotCount-=1;for(var t=this.annots,n=t.length;n--;){e===t[n].objectNumber&&t.splice(n,1)}return delete this.annotIdMap[e]}return!1}},{key:"addAnnot",value:function(e){var t=this;if(!this.doc.checkPermission(Qt.annotForm))throw new Error("Permission error");"number"==typeof(e=br(e,this.engine.getUserCommentConfig())).page&&(e=function(e){var t,n={type:e.type,opacity:e.opacity,name:e.name,contents:e.contents,subject:e.subject,title:e.title,icon:e.icon,intent:e.intent||e.IT,DA:e.defaultappearance,alignment:e.justification,enableCaption:"yes"==e.caption,rotation:e.rotation},i=e.fontColor;i&&(n.fontColor=parseInt(i.replace("#",""),16)),(t=e.color)&&(n.color=(0,W.colorConvertor)(t,"int")),0===e.color&&(n.color=0);var r=e["interior-color"]||e.interiorColor;r&&(n.styleFillColor=n.fillColor=parseInt(r.replace("#",""),16));var o=e.flags||"print",a=o.split(",");for(var s in o=0,ye)-1!=a.indexOf(ye[s])&&(o|=1<<parseInt(s));n.flag=o;var c=(e.rect||"").split(",");c.length&&(n.rect={left:+c[0],top:+c[3],right:+c[2],bottom:+c[1]});var u=(e.fringe||"").split(",");4===u.length&&(n.innerRect={left:n.rect.left+ +u[0],top:n.rect.top-+u[3],right:n.rect.right-+u[2],bottom:n.rect.bottom+ +u[1]});var l=e.coords;if(l){l=l.split(","),n.coords=[];for(var A=0,d=l.length;A<d;A+=8){var h=Math.min(+l[A],+l[A+2],+l[A+4],+l[A+6]),f=Math.max(+l[A],+l[A+2],+l[A+4],+l[A+6]),p=Math.max(+l[A+1],+l[A+3],+l[A+5],+l[A+7]),v=Math.min(+l[A+1],+l[A+3],+l[A+5],+l[A+7]);n.coords.push({left:h,right:f,top:p,bottom:v})}}var g=e.callout;if(g){g=g.split(","),n.calloutLinePoints=[];for(var m=0,y=g.length;m<y;m+=2)n.calloutLinePoints.push({x:+g[m],y:+g[m+1]})}var _=e.head;_&&(n.startStyle=Zt(_));var b=e.tail;b&&(n.endStyle=Zt(b)),null!=e.leaderLength&&(n.leaderLineLength=e.leaderLength),null!=e.leaderExtend&&(n.leaderLineExtend=e.leaderExtend),null!=e.leaderOffset&&(n.leaderLineOffset=e.leaderOffset);var w=e.vertices;if(w){n.vertexes=[],w=w.split(";");for(var k=0;k<w.length;k++){var x=w[k].split(",");n.vertexes.push({x:+x[0],y:+x[1]})}}var P=e.inklist;if(P){n.inkList=[],P=JSON.parse("["+P.replace(/;/g,",")+"]");for(var C=0;C<P.length;C++)for(var D=P[C],E=0;E<D.length;E+=2){var S=D[E],I=0==E?1:2;n.inkList.push({x:S,y:D[E+1],type:I})}}var T=Ze[e.style||"solid"];n.borderInfo={style:T,width:e.width||1};var R=e.dashes;R&&(n.borderInfo.dashes=JSON.parse("["+R+"]"));var M=e.intensity;M&&(n.borderInfo.cloudIntensity=M);var F=e.start;F&&(F=F.split(","),n.startPoint={x:+F[0],y:+F[1]});var N=e.end;return N&&(N=N.split(","),n.endPoint={x:+N[0],y:+N[1]}),n}(e));var n=arguments,i=this.getPDFDoc().getId(),r=this.getId(),o=this.doc.engine.getDefaultAnnotConfig()(e.type,e.intent);return e=(0,W.extendOptions)({},o,e),this.doc.api.addAnnot(i,r,e).then((function(e){return t._doAfterAddAnnots(e,"boolean"!=typeof(i=n[n.length-1])||i);var i}),(function(e){var t=(0,W.createDeferred)();return t.reject(e),t.promise}))}},{key:"markRedactAnnot",value:function(e){var t,n=this;if(arguments&&arguments[1]&&(t=arguments[1]),!this.doc.checkPermission(Qt.annotForm))throw new Error("Permission error");var i=this.getPDFDoc().getId(),r=this.getId();return this.doc.api.markRedactAnnot(i,r,e,t).then((function(e){return n._doAfterAddAnnots(e)}))}},{key:"addAnnotGroup",value:function(e,t){var n=this;if(!this.doc.checkPermission(Qt.annotForm))throw new Error("Permission error");e.forEach((function(e){if(!e.type)throw new Error("Annot type error")}));var i=this.getPDFDoc().getId(),r=this.getId();return e=e.map((function(e){var t=n.doc.engine.getDefaultAnnotConfig()(e.type,e.intent);return(0,W.extendOptions)({},t,e)})),this.doc.api.addAnnotGroup(i,r,e,t).then((function(e){return n._doAfterAddAnnots(e)}))}},{key:"_doAfterAddAnnots",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=e.map((function(e){return e&&t.doc.engine.annotManager.get(e,t)}));i.reduce((function(e,t){return e[t.getId()]=t,e}),this.annotIdMap);var r=i.map((function(e){return e.reviseSummary((function(e){return t.annotIdMap[e]}))}));return this.annots=this.annots.concat(i),this.info.annotCount=this.annots.length,Promise.all(r).then((function(){return n&&t.doc.engine.eventEmitter.emit(ae.Z.annotationAdd,i,t),i}))}},{key:"getUnloadedAnnots",value:function(){var e=this;return this.queuedTaskExecutor.exec((function(){return e._getUnloadedAnnots()}))}},{key:"_getUnloadedAnnots",value:function(){var e=this;if(this.isDestroyed)return Promise.resolve([]);var t=this.getPDFDoc().getId(),n=this.getId();return this.doc.api.getPageAnnotIDList(t,n).then((function(i){var r=i.filter((function(t){return!e.annotIdMap[t]}));return(r.length?e.doc.api.getAnnots(t,n,r):Promise.resolve([])).then((function(t){return t.map((function(t){return t?e.doc.engine.annotManager.get(t,e):null})).filter((function(e){return!!e}))})).then((function(t){var n=t.reduce((function(e,t){return e[t.getId()]=t,e}),{});return e.annotIdMap=i.reduce((function(t,i){var r=e.annotIdMap[i]||n[i];return r&&(t[i]=r),t}),{}),Promise.all(Object.keys(e.annotIdMap).map((function(t){var n=e.annotIdMap[t];return n&&n._update(!0)}))).then((function(e){return t}))})).then((function(t){e.setAnnots(e.annots.concat(t)),e.info.annotCount=e.annots.length;var n=e.annots.map((function(t){return t.reviseSummary((function(t){return e.annotIdMap[t]}))}));return Promise.all(n).then((function(){e.doc.engine.eventEmitter.emit(ae.Z.annotationLoaded,e,t,e.annots)})),t})).catch((function(t){if(!e.doc||e.doc.isDestroyed)return[];throw t}))}))}},{key:"getTextRectsAtRect",value:function(e){return this.doc.api.getTextRectsAtRect(this.getPDFDoc().getId(),this.getId(),e)}},{key:"getTextRects",value:function(e){return this.doc.api.getTextRects({path:"jr/doc/page"},this.getPDFDoc().getId(),this.getId(),e)}},{key:"getTextContinuousRectsAtRect",value:function(e){return this.doc.api.getTextContinuousRectsAtRect(this.getPDFDoc().getId(),this.getId(),e)}},{key:"getTextContinuousRectsAtPoints",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;return this.doc.api.getTextContinuousRectsAtPoints(this.getPDFDoc().getId(),this.getId(),e,t,n,i,r,arguments[5])}},{key:"getTextLinkAtPoint",value:function(e){return this.doc.api.getTextLinkAtPoint({path:"jr/doc/page"},this.getPDFDoc().getId(),this.getId(),e)}},{key:"getTextByIndex",value:function(e,t){return this.doc.api.getTextByIndex({path:"jr/doc/page"},this.getPDFDoc().getId(),this.getId(),e,t)}},{key:"getTextIndexAtPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return this.doc.api.getTextIndexAtPoint({path:"jr/doc/page"},this.getPDFDoc().getId(),this.getId(),e,t)}},{key:"getCheckBoxRectAtPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return this.doc.api.getCheckBoxRectAtPoint({path:"jr/doc/page"},this.getPDFDoc().getId(),this.getId(),e,t)}},{key:"getTextRectsByIndexes",value:function(e,t){return this.doc.api.getTextRectsByIndexes({path:"jr/doc/page"},this.getPDFDoc().getId(),this.getId(),e,t)}},{key:"getDoubleClickTextRectAtPoint",value:function(e,t){return this.doc.api.getDoubleClickTextRectAtPoint(this.getPDFDoc().getId(),this.getId(),e,t)}},{key:"getTextContinuousCharsAtRect",value:function(e,t){return this.doc.api.getTextContinuousCharsAtRect(this.getPDFDoc().getId(),this.getId(),e,t)}},{key:"getTextSearch",value:function(e,t){var n=this;return this.isVirtual()?Promise.resolve(new hr):this.doc.api.getTextSearch(this.getPDFDoc().getId(),this.getId(),e,t).then((function(e){return new sr(e,n)}))}},{key:"destroy",value:function(){return this.isDestroyed=!0,this.annots.forEach((function(e){return e.destroy()})),this.graphicObjects.forEach((function(e){return e.destroy()})),this.graphicObjects=null,this.annots=null,this.annotIdMap=null,this.doc=null,this.api=null,Promise.resolve()}},{key:"normalize",value:function(){return this.doc.api.normalizePage(this.getPDFDoc().getId(),this.getId())}},{key:"getAnnotsByIdArray",value:function(e){return this.getAnnots().then((function(t){for(var n=[],i=0,r=e.length;i<r;i++)for(var o=0;o<t.length;o++)if(e[i]===t[o].getUniqueID()){n.push(t[o]);break}return n}))}},{key:"getAnnotsByObjectNumArray",value:function(e){var t=this;return this.getAnnots().then((function(){for(var n=t.annotIdMap,i=[],r=0,o=e.length;r<o;r++){var a;(a=n[e[r]])&&i.push(a)}return i}))}},{key:"getAnnotsSync",value:function(e){for(var t=this.annotIdMap,n=[],i=0,r=e.length;i<r;i++){var o;(o=t[e[i]])&&n.push(o)}return n}},{key:"flatten",value:function(e){var t=this;if((e|3-e)<0)throw new Error("Param option error.");var n=this.doc;if(0===n.info.fileType&&!(n.checkPermission(Qt.annotForm)&&n.checkPermission(Qt.modify)&&n.checkPermission(Qt.assemble|Qt.modify)))throw new Error("Permission error");return this.doc.api.flatten(this.getPDFDoc().getId(),this.getId(),e).then((function(i){if(!i)return!1;var r=[];switch(e){case 0:case 3:r=t.annots.slice(0),t.annotIdMap={},t.annots=[],t.info.annotCount=0;break;case 2:case 1:var o=function(e){return e.getType()===un.AnnotType.widget},a=function(t){return 2===e?o(t):!o(t)};r=t.annots.filter((function(e){return!a(e)})),t.annots=t.annots.filter(a),t.info.annotCount=t.annots.length}return t.doc.engine.eventEmitter.emit(ae.Z.flattened,t.getIndex(),t,r),t.doc.engine.eventEmitter.emit(ae.Z.docModified,n),!0}))}},{key:"flattenAnnot",value:function(e){var t=this,n=this.doc;if(0===n.info.fileType&&!(n.checkPermission(Qt.annotForm)&&n.checkPermission(Qt.modify)&&n.checkPermission(Qt.assemble|Qt.modify)))throw new Error("Permission error");return n.api.flattenAnnot({path:"jr/doc/page"},n.getId(),this.getId(),e.getId()).then((function(i){if(i){var r=[e.getId()];if(e.isMarkup()){var o=e.getPopup();o&&r.push(o.getId())}t.clearRelatives(r);var a=t.clearAnnotIds(r),s=0;a.forEach((function(e){e.getIndex()<s&&(s=e.getIndex())})),t.annots.forEach((function(e){e.getIndex()>s&&(e.info.index=e.getIndex()-1)})),t.doc.engine.eventEmitter.emit(ae.Z.flattenAnnotation,t.getIndex(),a),t.doc.engine.eventEmitter.emit(ae.Z.docModified,n)}return i}))}},{key:"addImage",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!this.doc.checkPermission(8)){var r=(4294967292&this.doc.info.oriPerm)>>>0;if(!!!(256&r||32&r||8&r))throw new Error("Permission error")}var o={x:t.left,y:t.bottom},a=t.right-t.left,s=t.top-t.bottom;return this.doc.api.addPageImage(this.getPDFDoc().getId(),this.getId(),e,o,a,s,i).then((function(e){if(e){var t=n.doc.engine.graphicsObjectManager.get(e,n);return t&&n.graphicObjects.push(t),n.doc.engine.eventEmitter.emit(ae.Z.imageAdded,n),n.doc.engine.eventEmitter.emit(ae.Z.graphicsUpdated,n,t),t}return e}))}},{key:"addWatermark",value:function(e){var t=this,n=e.type,i=e.text;if("text"===n&&sn(i))return Promise.resolve(null);if(!this.doc.checkPermission(Qt.modify))throw new Error("Permission error");var r=gr(e,this.getIndex(),this.getIndex(),this.getIndex(),this.doc.getPageCount());return this.doc.getPageFormat("watermark").then((function(e){return t.doc.addPageFormat("watermark",r).then((function(e){return e>0&&t.doc.engine.eventEmitter.emit(ae.Z.watermarkAdded,t,r.isKeep),e}))}))}},{key:"getGraphicsObjectsInRect",value:function(e,t,n){var i=this;if(n<0||n>3)throw new Error("Type error, only 0~3 are available. current is: "+n);return this.doc.api.getGraphicsObjectAtPoint(this.getPDFDoc().getId(),this.getId(),null,t,n,e).then((function(e){return e.map((function(e){var t=i.doc.engine.graphicsObjectManager.get(e,i);return t&&i.graphicObjects.push(t),t}))}))}},{key:"getTextLineUnderPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=this;return(0,P._)((function(){var i,r,o;return(0,L.Jh)(this,(function(a){switch(a.label){case 0:return[4,n.getLineTextObjectsUnderPoint(e,t)];case 1:return(i=a.sent())&&i.length?(r=i.reduce((function(e,t){var n=t.getRect(),i=n.top,r=n.bottom;return e.top=Math.max(e.top,i),e.bottom=Math.min(e.bottom,r),e}),Object.assign({},i[0].getRect(),{left:0,right:n.getWidth()})),o=i.map((function(e){return e.getText()||""})).join(" "),[2,{text:o,rect:r,textGraphicsObjects:i}]):[2,{textGraphicsObjects:i}]}}))}))()}},{key:"getLineTextObjectsUnderPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=this;return(0,P._)((function(){var i,r,o;return(0,L.Jh)(this,(function(a){switch(a.label){case 0:return[4,n.getGraphicsObjectAtPoint(e,t,Rt.Text)];case 1:return(i=a.sent())?(r=i.getRect(),o={left:0,right:n.getWidth(),top:r.top,bottom:r.bottom},[4,n.getGraphicsObjectsByRect({rect:o,tolerance:0,type:Rt.Text,isInRect:!1})]):[2,Promise.resolve([])];case 2:return[2,a.sent()]}}))}))()}},{key:"getGraphicsObjectsByRect",value:function(e){var t=this;return(0,P._)((function(){var n,i,r,o;return(0,L.Jh)(this,(function(a){switch(a.label){case 0:if(!(n=e.rect))throw new Error("[PDFPage.getGraphicsObjectsByRect] Missing required parameter: options.rect");return i=isFinite(e.tolerance)?e.tolerance:0,r=void 0===e.type?Rt.ALL:e.type,o=!1!==e.isInRect,[4,t.doc.api.getGraphicsObjectsByRect(t.getPDFDoc().getId(),t.getId(),n,i,r,o)];case 1:return[2,a.sent().map((function(e){return t.doc.engine.graphicsObjectManager.get(e,t)}))]}}))}))()}},{key:"getGraphicsObjectAtPoint",value:function(e,t,n){var i=this;return this.doc.api.getGraphicsObjectAtPoint(this.getPDFDoc().getId(),this.getId(),e,t,n).then((function(e){var t=i.doc.engine.graphicsObjectManager.get(e,i);return t&&i.graphicObjects.push(t),t}))}},{key:"getGraphicsObjectByIndex",value:function(e){var t=this;return e<0?Promise.resolve(null):this.doc.api.getGraphicsObjectByIndex(this.getPDFDoc().getId(),this.getId(),e).then((function(e){var n=t.doc.engine.graphicsObjectManager.get(e,t);return n&&t.graphicObjects.push(n),n}))}},{key:"getGraphicsObjectsCount",value:function(){return this.doc.api.getGraphicsObjectsCount(this.getPDFDoc().getId(),this.getId())}},{key:"setGraphicsObjectMatrix",value:function(e){var t=this;if(!this.doc.checkPermission(Qt.modify))throw new Error("Permission error");return this.doc.api.setGraphicsObjectRect(this.getPDFDoc().getId(),e).then((function(e){t.doc.engine.eventEmitter.emit(ae.Z.graphicsUpdated,t)}))}},{key:"addGraphicsObject",value:function(e){var t=this;if(!this.doc.checkPermission(Qt.modify))throw new Error("Permission error");return this.doc.api.addGraphicsObject(this.getPDFDoc().getId(),this.getId(),e).then((function(e){var n=t.doc.engine.graphicsObjectManager.get(e,t);return n&&t.graphicObjects.push(n),t.doc.engine.eventEmitter.emit(ae.Z.graphicsUpdated,t,n),n}))}},{key:"removeGraphicsObject",value:function(e){return this.removeGraphicsObjectEx(e,!0)}},{key:"removeGraphicsObjectEx",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.doc.checkPermission(Qt.modify))throw new Error("Permission error");var i=null;return this.graphicObjects=this.graphicObjects.filter((function(e){return e.getId()!=e.getId()||(i=e,!1)})),this.doc.api.removeGraphicsObject(this.getPDFDoc().getId(),this.getId(),e.getId(),n).then((function(e){n&&t.doc.engine.eventEmitter.emit(ae.Z.graphicsUpdated,t,i)}))}},{key:"pasteAnnot",value:function(e,t){var n=this;if(!this.doc.checkPermission(Qt.annotForm))throw new Error("Permission error");if([Xi.popup,Xi.widget,Xi.strikeOut,Xi.highlight,Xi.squiggly,Xi.underline,Xi.caret].includes(e.getType()))throw new Error("Not support strikeout, highlight, squiggly, underline, caret, popup and widget annotations.");var i=this.getPDFDoc().getId(),r=this.getId();return this.doc.api.paste(i,r,e.getPage().getId(),"annot",e.getId(),t).then((function(e){return n._doAfterAddAnnots(e)}),(function(e){return Promise.reject(e)}))}},{key:"pasteGraphicObject",value:function(e,t,n){var i=this;if(!this.doc.checkPermission(Qt.modify))throw new Error("Permission error");var r=this.getPDFDoc().getId(),o=this.getId();return this.doc.api.paste(r,o,this.doc.pageCache[t].getId(),"graphicObject",e,n).then((function(e){var t=i.doc.engine.graphicsObjectManager.get(e,i);return i.doc.engine.eventEmitter.emit(ae.Z.graphicsUpdated,i,t),t}),(function(e){var t=(0,W.createDeferred)();return t.reject(e),t.promise}))}},{key:"getMediaWidth",value:function(){return this.info.mediaWidth}},{key:"getMediaHeight",value:function(){return this.info.mediaHeight}},{key:"isCropped",value:function(){return this.info.isCropped}},{key:"isVirtual",value:function(){return!!this.info.isVirtual}},{key:"calcPageContentBBox",value:function(e){return this.doc.api.calcPageContentBBox(this.getPDFDoc().getId(),this.getIndex(),e)}},{key:"getPageBox",value:function(e){return this.doc.api.getPageBox(this.getPDFDoc().getId(),this.getIndex(),e)}},{key:"getAllBoxes",value:function(){return this.doc.api.getAllBoxes(this.getPDFDoc().getId(),this.getIndex())}},{key:"setPageBox",value:function(e,t){return this.doc.api.setPageBox(this.getPDFDoc().getId(),this.getIndex(),e,t)}},{key:"setPageSize",value:function(e,t){var n=this;return(0,W.assertThat)("number"==typeof e,"width must be a number, but got "+(void 0===e?"undefined":(0,F._)(e))),(0,W.assertThat)("number"==typeof t,"height must be a number, but got "+(void 0===t?"undefined":(0,F._)(t))),(0,W.assertThat)((0,W.isValidNumber)(e)&&e>0,"width must be a valid positive number, but got "+e),(0,W.assertThat)((0,W.isValidNumber)(t)&&t>0,"height must be a valid positive number, but got "+t),this.doc.api.setPageSize(this.getPDFDoc().getId(),this.getIndex(),e,t).then((function(){n.info.width=e,n.info.height=t,n._updateInfo(n.info),n.doc.engine.eventEmitter.emit(ae.Z.pagesBoxChange,[n])}))}},{key:"getAnnotIdArrayByOrder",value:function(){return this.doc.api.getAnnotIdArrayByOrder(this.getPDFDoc().getId(),this.getId())}},{key:"getDict",value:function(){var e=this;return this.doc.api.getPageDictionary(this.getPDFDoc().getId(),this.getId()).then((function(t){return new Ar(e.doc,t.id,e.doc.engine)}))}},{key:"createWebLinks",value:function(e){var t=this,n=this.getPDFDoc().getId(),i=this.getId();return this.doc.api.createWebLinks(n,i,e).then((function(e){var n=t.doc;return n.engine.eventEmitter.emit(ae.Z.docModified,n),e}))}},{key:"removeWebLinks",value:function(e){var t=this,n=this.getPDFDoc().getId(),i=this.getId();return this.doc.api.removeWebLinks(n,i,e).then((function(e){var n=t.doc;return n.engine.eventEmitter.emit(ae.Z.docModified,n),e}))}},{key:"deleteDestination",value:function(e){var t=this.getPDFDoc().getId(),n=this.getId();return this.doc.api.deleteDestination(t,n,e)}},{key:"renameDestination",value:function(e,t){var n=this.getPDFDoc().getId(),i=this.getId();return this.doc.api.renameDestination(n,i,e,t)}},{key:"createDestination",value:function(e,t){var n=this.getPDFDoc().getId(),i=this.getId();return this.doc.api.createDestination(n,i,e,t)}},{key:"resetDestination",value:function(e,t){var n=this.getPDFDoc().getId(),i=this.getId();return this.doc.api.resetDestination(n,i,e,t)}},{key:"addAnnotObjects",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.doc.api.addAnnotObjects(this.doc.getId(),this.getId(),e).then((function(e){return e=e.map((function(e){return e?t.doc.engine.annotManager.get(e,t):null})).filter((function(e){return!!e})),e.forEach((function(e){t.annotIdMap[e.getId()]=e})),e})).then((function(e){t.annots=t.annots.concat(e);var i=t.annots.map((function(e){return e.reviseSummary((function(e){return t.annotIdMap[e]}))}));return Promise.all(i).then((function(){return n&&t.doc.engine.eventEmitter.emit(ae.Z.annotationAdded,e,t),e}))}))}},{key:"getSuggestedFormDesignerRect",value:function(e){return this.doc.api.getSuggestedFormDesignerRect(this.getPDFDoc().getId(),this.getId(),e)}},{key:"getSnappedPoint",value:function(e,t){var n=this.getPDFDoc().getId(),i=this.getId();return this.doc.api.getSnappedPoint(n,i,e,t)}},{key:"getTextRectCount",value:function(){var e=this.getPDFDoc().getId(),t=this.getId();return this.doc.api.getPageTextRectCount(e,t)}},{key:"getTextByRectIndex",value:function(e){var t=this.getPDFDoc().getId(),n=this.getId();return this.doc.api.getPageTextByRectIndex(t,n,e)}},{key:"cloneGraphicObject",value:function(e,t){return this.doc.api.cloneGraphicObject(this.getPDFDoc().getId(),this.getId(),this.doc.pageCache[e].getId(),t)}},{key:"addReviewStateAnnotObject",value:function(e,t){var n=this,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.doc.api.addAnnotObjects(this.doc.getId(),this.getId(),t).then((function(t){var i=t[0];e.info.reviewStatesSummary.push({objectNumber:i.objectNumber,id:i.objectNumber,index:i.index});var r=n.doc.engine.annotManager.get(i,n);return n.addAddonAnnot(r)})).then((function(t){return e.reviewStates.push(t),i&&n.doc.engine.eventEmitter.emit(ae.Z.annotationReviewStateAnnotAdd,t,e),i&&n.doc.engine.eventEmitter.emit(ae.Z.annotationUpdated,[e],n,en.reviewStateUpdated),t}))}},{key:"addMarkedStateAnnotObject",value:function(e,t){var n=this,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments[3],o=e.getGroupHeader()||e;return this.doc.api.addAnnotObjects(this.doc.getId(),this.getId(),t).then((function(e){var t=e[0];if(o.info.markedStatesSummary.length){var i=n.annotIdMap[t.objectNumber];return i.info=t,i}o.info.markedStatesSummary.push({objectNumber:t.objectNumber,id:t.objectNumber,index:t.index});var r=n.doc.engine.annotManager.get(t,n);return n.addAddonAnnot(r)})).then((function(t){return o.markedStates.push(t),i&&n.doc.engine.eventEmitter.emit(ae.Z.annotationMarkedStateAnnotAdd,t,o,r),i&&n.doc.engine.eventEmitter.emit(ae.Z.annotationUpdated,[e],n,en.reviewStateUpdated),t}))}},{key:"getViewportRect",value:function(){return this.doc.api.getViewportRect(this.doc.getId(),this.getId())}},{key:"getMeasureScaleRatio",value:function(){return this.doc.api.getMeasureScaleRatio(this.doc.getId(),this.getId()).then((function(e){var t=e.scale,n=e.ratio,i=e.unit,r=n&&n.trim()?n.split(" = ").map((function(e){var t=e.split(" ");return{value:t[0],unit:t[1]}})):[];return{scale:t,ratio:n,ratioMap:r,unitName:i}}))}},{key:"setMeasureScaleRatio",value:function(e,t,n,i){var r=this;if(!this.doc.checkPermission(Qt.assemble|Qt.modify))throw new Error("Permission error");if(n){var o=n.split(" = ").map((function(e){var t=e.split(" ");return{value:t[0],unit:t[1]}}));if(2!==o.length||!o.every((function(e){return/^[+-]?(0|([1-9]\d*))(\.\d+)?$/.test(e.value)}))||!o.every((function(e){return Si[e.unit]})))throw new Error("Ratio format error. Please refer to: 1 inch = 1 ft")}return this.doc.api.setMeasureScaleRatio(this.doc.getId(),this.getId(),e,{unit:t,ratio:n,scale:i}).then((function(e){return r.getAnnotsByObjectNumArray(e).then((function(e){var t=[];return e.forEach((function(e){return t.push(e._update())})),Promise.all(t).then((function(e){return r.doc.engine.eventEmitter.emit(ae.Z.pageMeasureScaleRatioChanged,r,e),e}))}))}))}},{key:"getTransition",value:function(){return this.doc.api.getPageTransition(this.doc.getId(),this.getId())}},{key:"isScannedPage",value:function(){return this.doc.api.isScannedPage(this.doc.getId(),this.getId())}},{key:"getPureTexts",value:function(e){return this.doc.api.getPureTexts(this.doc.getId(),this.getId(),e)}},{key:"getTexts",value:function(e){var t=e.settings,n=e.minWidth,i=e.eol;return this.doc.api.getPageTexts(this.doc.getId(),this.getId(),t,n,i)}},{key:"handleGroupMarkup",value:function(e,t){var n=this,i=this.doc,r=this.getId();if(!i.checkPermission(Qt.modify)&&!i.checkPermission(Qt.annotForm))throw new Error("Permission error");return i.api.handleGroupMarkup(i.getId(),r,e,t).then((function(t){var r=e.map((function(e){var i=n.annotIdMap[e];return i.info=t[e],i.reviseSummary((function(e){return n.annotIdMap[e]}))}));Promise.all(r).then((function(e){n.doc.engine.eventEmitter.emit(ae.Z.docModified,i),n.doc.engine.eventEmitter.emit(ae.Z.annotationUpdated,e,n)}))}))}},{key:"getTextInRect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.doc;if(!n.checkPermission(Qt.extract))throw new Error("Permission error");if(n.isStaticXFA())throw new Error("File type error, current is Static documents");return this.doc.api.getTextInRect(this.doc.getId(),this.getId(),e,t)}},{key:"scaleClipRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.transformClipRect(e,t,0,0)}},{key:"translateClipRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.transformClipRect(1,1,e,t)}},{key:"transformClipRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return this.doc.api.transformPage(this.doc.getId(),this.getId(),{scaleX:e,scaleY:t,translateX:n,translateY:i})}},{key:"getAnnotRects",value:function(){return this.annots.length?Promise.resolve(this.annots.map((function(e){return e.info}))):this.doc.api.getAnnotRects(this.doc.getId(),this.getId())}},{key:"getBatchProcessor",value:function(){return this.batchProcessor}},{key:"clearRenderCache",value:function(){return this.doc.api.clearPageRenderCache(this.doc.getId(),this.getId())}},{key:"clearCacheObjects",value:function(){return this.doc.engine.eventEmitter.emit("before-clear-pageCache",this.getIndex()),this.doc.api.clearCacheObejcts({path:"jr/doc/page"},this.doc.getId(),this.getId())}},{key:"getWordCount",value:function(){return this.doc.api.getWordCount({path:"jr/doc/page"},this.doc.getId(),this.getId())}},{key:"changeAnnotOrder",value:function(e,t){var n=this;if(!this.doc.checkPermission(Qt.annotForm))throw new Error("Permission error");if([Xi.popup,Xi.watermark].includes(t.getType()))throw new Error("Not support Popup and Watemark.");return this.doc.api.changeAnnotOrder({path:"jr/doc/page"},this.doc.getId(),this.getId(),t.getId(),e).then((function(i){i.forEach((function(e,t){n.annotIdMap[e]&&(n.annotIdMap[e].info.index=t)})),n.annots.sort(Er),n.doc.engine.eventEmitter.emit(ae.Z.annotationOrderChanged,[t],n,e)}))}},{key:"moveAnnotOrder",value:function(e,t){var n=this;if(!this.doc.checkPermission(Qt.annotForm))throw new Error("Permission error");return this.doc.api.moveAnnotOrder({path:"jr/doc/page"},this.doc.getId(),this.getId(),e.getId(),t).then((function(t){t.forEach((function(e,t){n.annotIdMap[e]&&(n.annotIdMap[e].info.index=t)})),n.annots.sort(Er),n.doc.engine.eventEmitter.emit(ae.Z.annotationOrderChanged,[e],n,0===e.getIndex()?Ft.first:Ft.last)}))}},{key:"getAdditionalAction",value:function(){var e=this;return new $e.AdditionalAction({type:"page",pageIndex:this.getIndex()},this.doc.additionalActionAPI,(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var o=e.doc.engine.eventEmitter;switch(t){case"set":case"update":var a;(a=o).emit.apply(a,[ae.Z.pageAdditionalActionUpdated,e].concat((0,M._)(i)));break;case"add":var s;(s=o).emit.apply(s,[ae.Z.pageAdditionalActionAdded,e].concat((0,M._)(i)));break;case"remove":var c;(c=o).emit.apply(c,[ae.Z.pageAdditionalActionRemoved,e].concat((0,M._)(i)))}}),(function(){return(0,M._)($e.PageActionTriggerEventsArray)}))}},{key:"triggerAdditionalActions",value:function(e){return this.doc.api.triggerAdditionalActions({path:"jr/doc/page"},this.doc.getId(),this.getId(),e)}},{key:"splitTextInRect",value:function(e,t){var n=this;return Promise.all([this.doc.isXFA(),this.doc.readonly()]).then((function(i){var r=(0,R._)(i,2),o=r[0],a=r[1];if(!n.doc.checkPermission(Qt.extract|Qt.modify)|o|a|!n.doc.isOwner())throw new Error("Permission error");return n.doc.api.splitTextInRect({path:"jr/doc/page"},n.doc.getId(),n.getId(),e,t).then((function(e){return n.doc.engine.eventEmitter.emit(ae.Z.textSplited,e),e}))}))}}]),e}();function Er(e,t){return e.getIndex()>t.getIndex()?1:-1}const Sr=Dr;var Ir=function(){},Tr=0,Rr=(0,W.createDOM)("canvas",{class:"highlightAP fv__ui-annots"}),Mr=(0,W.createDOM)("canvas",{class:"annotRenderers fv__ui-annots"}),Fr=(0,W.createDOM)("div",{class:"linkHighlightMode",style:"display:none;cursor:pointer;position:absolute;z-index:27;"}),Nr=(0,W.createDOM)("div",{class:"curAnnot",style:"cursor:var(--fv-doc-cursor-type, pointer);position:absolute;z-index:28;"}),Lr=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;(0,C._)(this,n),(o=t.call(this,r)).name="annotsRender",o.$ui=e,0==o.$ui.find(".curAnnot").length&&o.$ui.append(o.$ownUI=j()([Rr.cloneNode(),Mr.cloneNode(),Fr.cloneNode(),Nr.cloneNode()])),o.annotRenders={};var a=o.pdfViewer.customs||{};return o.activeAnnotBefore=a.activeAnnotBefore||Ir,o.activeAnnotAfter=a.activeAnnotAfter||Ir,o.unActiveAnnotBefore=a.unActiveAnnotBefore||Ir,o.unActiveAnnotAfter=a.unActiveAnnotAfter||Ir,o.pageRender=o._parent,o.initAnnotEvent(),o.renderParams=[r.scale,r.rotate,r.containerVisibleRect],o.hotAnnot=0,o.showAnnots=new Set,o.backAnnots=new Set,o.annotFiltered=r.docRender.hideMarkupFlag,o.rerenderAfterFilterTaskExecutor=new W.DebounceAsyncTaskExecutor,o.rerenderAnnotThrottleTaskExecutor=new W.ThrottleAsyncTaskExecutor(50,!0),o.rerenderAnnotDebounceTaskExecutor=new W.DebounceAsyncTaskExecutor(50,!1),o.mouseEventTaskExecutor=new W.ThrottleAsyncTaskExecutor(50,!0),o.rerenderMode=Qi.throttle,o.isRendered=!1,o}return(0,D._)(n,[{key:"setRerenderMode",value:function(e){this.rerenderMode=e}},{key:"getRerenderMode",value:function(){return this.rerenderMode}},{key:"getRerenderAnnotTaskExecutor",value:function(){return this.rerenderMode===Qi.throttle?this.rerenderAnnotThrottleTaskExecutor:this.rerenderAnnotDebounceTaskExecutor}},{key:"removeUI",value:function(){}},{key:"getAnnotAtPoint",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.pdfViewer.stateHandlerManager.currentStateHandler.getStateName();if(-1!=["hand","select-annotation"].indexOf(n)){var i=this._parent;if(!i)return null;var r=i.getPDFPointFromClientPoint(e.clientX,e.clientY);return i.getActiveAnnotInfo(r,t)}}},{key:"processStateData",value:function(e){var t=e.reduce((function(e,t){var n=t.getTitle(),i=e[n];return i?i.getModifiedDateTime()<=t.getModifiedDateTime()&&(e[n]=t):e[n]=t,e}),{});return Object.values(t).map((function(e){return e.getState()}))}},{key:"initEmitter",value:function(){var e,t=this,n=this.pdfViewer.getEventEmitter(),i=this._parent,r=function(){var e,t,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Array.isArray(o)||(o=[o]);var a=o.filter((function(e){return"popup"!=e.getType()})).map((function(e){Object.assign({},e.info.rect);var t=i.scale*W.dpr;return i.page.getAnnotDeviceRect(e,t,i.rotate)}));return{left:(e=Math).min.apply(e,(0,M._)(a.map((function(e){return e.left})))),bottom:(t=Math).max.apply(t,(0,M._)(a.map((function(e){return e.bottom})))),right:(n=Math).max.apply(n,(0,M._)(a.map((function(e){return e.right})))),top:(r=Math).min.apply(r,(0,M._)(a.map((function(e){return e.top})))),hasHighlight:o.some((function(e){return"highlight"==e.getType()}))}},o=function(e,n){return n=n||r(e),t.updateRender(n)};n.on("updatePageAnnot",this.updatePageAnnot=function(e,n,i,r){t.isDestroyed||t.pageRender.isDestroyed||(e==t.pageRender.page&&o(n),i==t.pageRender.page&&o(r))});var a,s=[se.annotationRemoved,se.annotationAdd,se.annotationOrderChanged,se.flattenAnnotation];s.forEach((function(e){n.on(e,t[e+"Handler"]=function(e){if(!t.isDestroyed&&!t.pageRender.isDestroyed&&e[0]&&e[0].page&&e[0].page.getIndex()==t.pageRender.index){if(e[0].isDeleted()||e.map((function(e){return t.showAnnots.add(e.id)})),a){var n=r(e);a={left:Math.min(a.left,n.left),bottom:Math.max(a.bottom,n.bottom),right:Math.max(a.right,n.right),top:Math.min(a.top,n.top),hasHighlight:a.hasHighlight||e.some((function(e){return"highlight"==e.getType()}))}}else a=r(e);t.getRerenderAnnotTaskExecutor().exec((function(e){if(e[0].page&&t.pageRender&&t.pageRender.page){var n=a&&o(e,a).then((function(e){e&&t.pdfViewer.eventEmitter.emit("renderAnnotSuccess",t.pageRender)}));return a=null,n}}),[e])}})}));var c=[se.invalidRect];c.forEach((function(e){n.on(e,t[e+"Handler"]=function(e,n,i,r,s){if(!t.isDestroyed&&!t.pageRender.isDestroyed&&s==t.pageRender.page){e=t.pageRender.page.getAnnotDeviceRect(r,t.pageRender.scale*W.dpr,t.pageRender.rotate,e),n=t.pageRender.page.getAnnotDeviceRect(r,t.pageRender.scale*W.dpr,t.pageRender.rotate,n);var c={left:Math.min(e.left,n.left),bottom:Math.max(e.bottom,n.bottom),right:Math.max(e.right,n.right),top:Math.min(e.top,n.top),hasHighlight:"highlight"==i};a=a?{left:Math.min(a.left,c.left),bottom:Math.max(a.bottom,c.bottom),right:Math.max(a.right,c.right),top:Math.min(a.top,c.top),hasHighlight:a.hasHighlight||"highlight"==i}:c,"screen"==i&&r.isAudioVideo?(t.genScreenIcon(t.pageRender,r),t.updateActiveRect(t.pageRender,r,".fv__pdf-player")):"freetext"==i?t.updateActiveRect(t.pageRender,r,".fv__pdf-page-annot-handler-rect",i):"line"==i&&(t.updateActiveRect(t.pageRender,r,".fv__pdf-page-annot-handler-rect"),t.updateLinePoint(t.pageRender,r)),t.getRerenderAnnotTaskExecutor().exec((function(e){if(t.pageRender&&t.pageRender.page){var n=a&&o(e,a);return a=null,n}}),[])}})})),n.on("annot-filter",this.applyFilter=function(e,n){switch(e){case"start":t.startFilterAnnot();break;case"end":t.endFilterAnnot();break;default:t.addShowAnnot(n)}});var u,l=this.pdfViewer.getFormFillerService();n.on(se.mouseEnter,this.mouseEnterListener=function(e,n){var i=n.annots[0];if(i.getType()===Xi.widget){if(!t.pdfViewer.config.showFormFieldTooltip)return;var r,o=t.pdfViewer.getFormFillerService().getDesignMode(),a=null===(r=i.getField())||void 0===r?void 0:r.getType();if((0,wr.isFieldTypeMatchDesignMode)(a,o))return}else if(!1===t.pdfViewer.config.showAnnotTooltip)return;(u=t.pdfViewer.customs.AnnotTooltip?new t.pdfViewer.customs.AnnotTooltip(t.pdfViewer,n.annots[0]):new bi(n.annots[0])).show(n.e.clientX,n.e.clientY)}),n.on(se.mouseLeave,this.mouseLeaveListener=function(e,t){u&&u.hide()}),n.on(se.pageMeasureScaleRatioChanged,this.updatePageMeasureScaleRatio=function(e,n){t._updatePageMeasureScaleRatio(e,n)}),(e=s).push.apply(e,(0,M._)(c)),this.addDestroyHook.apply(this,[this.pdfViewer.addEventListener(se.annotationImported,(function(){t.pdfViewer.getAllActiveElements().forEach((function(e){e.isActive&&e.annot&&e.active()}))})),l.onDesignModeChange((function(){u&&u.hide()})),function(){return n.off("updatePageAnnot",t.updatePageAnnot)},function(){return n.off("annot-filter",t.applyFilter)},function(){return n.off(se.mouseEnter,t.mouseEnterListener)},function(){return n.off(se.mouseLeave,t.mouseLeaveListener)},function(){return n.off(se.pageMeasureScaleRatioChanged,t.updatePageMeasureScaleRatio)}].concat((0,M._)(s.map((function(e){return function(){return n.off(e,t[e+"Handler"])}})))))}},{key:"isAnnotHidden",value:function(e){var t=this.pdfViewer.getAnnotManager().getAnnotFlag(e).flag;return(t&tn.invisible)===tn.invisible||(t&tn.hidden)===tn.hidden||(t&tn.noView)===tn.noView}},{key:"initAnnotEvent",value:function(){var e=this,t=this,n=this.pdfViewer,i=n.getCurrentPDFDoc();if(i&&!i.isDestroyed&&!i.isDynamicXFA()){var r=n.getEventEmitter(),o=this._parent;this.initEmitter();var a,s=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((!t.hotAnnot||t.hotAnnot.type!==Xi.widget)&&(n&&t.$ui.find(".curAnnot").hide(),t.hotAnnot&&-1!==["redact","link"].indexOf(t.hotAnnot.type)&&!t.hotAnnot.isDeleted)){if("link"==t.hotAnnot.type)return void t.$ui.find(".linkHighlightMode").css({border:"none",background:"none","mix-blend-mode":"initial"}).hide();if(t.hotAnnot.type==Xi.redact&&t.getAnnotRender(t.hotAnnot.id).component.isActive)return;var i=o.page.getDeviceRect(t.hotAnnot.rect,o.scale*W.dpr,o.rotate);t.mouseEventTaskExecutor.cancel(),t.mouseEventTaskExecutor.waitForLastTask().then((function(){var e=t.getHideAnnots();if(t.hotAnnot)return t.pageRender.page.getAnnotBitmapEx(t.hotAnnot.id,o.scale*W.dpr*4/3,o.rotate,{x:i.left-3,y:i.top-3,width:i.right-i.left+6,height:i.bottom-i.top+6},!0,"normal",void 0,{hideAnnots:e,hotAnnot:0,dpr:W.dpr}).then((function(e){return t.hotAnnot=0,a=null,t.updateCanvas(e,".annotRenderers")}))}))}},c=function(t){if(o.isDestroyed)return e.hotAnnot=null,Promise.resolve();var n,i=(0,W.getClientX)(t),r=(0,W.getClientY)(t),a=(0,R._)(o.getPDFPointFromClientPoint(i,r,!0),2),s=a[0],c=a[1];n=o.page.getAnnotCount()>1e3?new Promise((function(n){var i=e.getAnnotAtPoint(t);n(i?i.id:-1)})):o.getPDFPage().then((function(e){if(e.isVirtual())return-1;var t=o.scale,n=o.rotate,i=e.getDeviceMatrix(n);return i.scale(t,t),e.getAnnotObjectNumAtDevicePoint([s,c],5,[i.a,i.b,i.c,i.d,i.e,i.f])}));var u,l=e;return n.then((u=(0,P._)((function(e){var t,n,i;return(0,L.Jh)(this,(function(r){switch(r.label){case 0:return-1===e?[2,l.hotAnnot=null]:(l.hotAnnot=0,[4,o.getPDFPage()]);case 1:return(t=r.sent())?t.annotIdMap[e]?[3,3]:[4,t.getUnloadedAnnots()]:[2];case 2:r.sent(),r.label=3;case 3:return(n=l.getAnnotRender(e))?(i=n.component.annot,W.isTouchDevice||(l.hotAnnot=i.info),[2,i]):[2]}}))})),function(e){return u.apply(this,arguments)})).then((function(t){if(t){var n=t.info;return-1!==["widget","link","screen"].indexOf(n.type)?n:e.annotFiltered&&!e.showAnnots.has(n.id)||e.isAnnotHidden(t)?e.hotAnnot=0:n}}))};this.findAnnot=c;this.$ui.find(".curAnnot").on("mousemove",(function(e){})).on("mouseleave",s);var u=n.getFormFillerService();this.addDestroyHook(u.onMouseLeaveWidget((function(t){t&&(e.hotAnnot=null)})));var l,A=function(){if(!n)return!1;var e=n.getStateHandlerManager().getStateHandlerConfig(yn);return!e||!!e.enableAnnotationSelectionTool},d=function(t,n){var i=o.page.getDeviceRect(t.getRect(),o.scale*W.dpr,o.rotate),r=e.getHideAnnots();return e.pageRender.page.getAnnotBitmapEx(t.id,o.scale*W.dpr*4/3,o.rotate,{x:i.left-3,y:i.top-3,width:i.right-i.left+6,height:i.bottom-i.top+6},!0,n,void 0,{hideAnnots:r,hotAnnot:0,dpr:W.dpr}).then((function(n){return e.updateCanvas(n,t.getType()===Xi.highlight?".highlightAP":".annotRenderers")}))},h=void 0,f=this,p=(l=(0,P._)((function(e,t){var i,s,c,u,l,A;return(0,L.Jh)(this,(function(h){switch(h.label){case 0:if(Promise.resolve(),a&&!a.isDeleted()&&a.getType()===Xi.redact&&e.type===Xi.redact&&a.id!==e.id){if(i=a.getPDFPage().getIndex(),s=o.page.getIndex(),i!==s||!o.page.annotIdMap[a.id])return[2];d(a,"normal")}return a=o.page.annotIdMap[e.id],r.emit(se.mouseEnter,_i.annotation,{annots:[a],e:t}),c=f.getEngineAnnot(e),u=f.getAnnotRect(c),[4,n.getCurrentPDFDoc().readonly()];case 1:return l=h.sent(),e.type===Xi.widget?o.docRender.canAnswerForm()?l?[2]:[4,c.getField().isReadonly()]:[2]:[3,3];case 2:if(h.sent())return[2];h.label=3;case 3:if(f.$ui.find(".curAnnot").data("annot",e.id).css(u).show(),!W.isTouchDevice&&e.type==Xi.redact&&!e.isDeleted)return[2,d(o.page.annotIdMap[e.id],"rollover")];if("3d"==e.type){if(!(A=f.getAnnotRender(e.id)))return[2];A.component.isActive3D&&f.$ui.find(".curAnnot").hide()}return[2]}}))})),function(e,t){return l.apply(this,arguments)}),v=function(){var t=(0,P._)((function(t,i){var s,c;return(0,L.Jh)(this,(function(u){try{return s=[],c=(l=h)===(A=t)||void 0!==l&&void 0!==A&&null!==l&&null!==A&&l.objectNumber===A.objNumber,h&&!c&&s.push(function(t,i){r.emit(se.mouseLeave,_i.annotation,{annots:[t],e:i});var s=n.getAllActiveElements();if(!s.length)return e.$ui.find(".curAnnot").hide();var c=s.find((function(e){return e.annot&&e.annot.getType()===Xi.redact}));if(!c||!a||a.isDeleted())return e.$ui.find(".curAnnot").hide();if(!W.isTouchDevice){if(c.getPDFPage().getIndex()!==o.page.getIndex())return;return d(a,"normal")}}(h,i)),t&&!c&&s.push(p(t,i)),[2,Promise.all(s)]}finally{h=t}var l,A;return[2]}))}));return function(e,n){return t.apply(this,arguments)}}();if(this.moveHandler=function(t){if(!Tr){1;var i=n.stateHandlerManager.currentStateHandler.getStateName();-1!=["hand","select-annotation"].indexOf(i)&&("hand"!==i||A())&&e.mouseEventTaskExecutor.exec((function(){return c(t).then((function(e){v(e,t)}))}))}},!W.isTouchDevice){o.$ui.on("mousemove",this.moveHandler);var g=!1;o.$ui.on("mousewheel",(function(e){g=!0})),o.$ui.on("pointerleave",(function(t){e.mouseEventTaskExecutor.exec((function(){return v(void 0,t.originalEvent)}))})),this.addDestroyHook(this.pdfViewer.getScrollWrap().addScrollEventListener((function(){g&&(g=!0,W.pointerStatus.moveEvent&&e.moveHandler(W.pointerStatus.moveEvent))})))}var m=this;this.tapPage=function(){var e=(0,P._)((function(e){var t,n,i;return(0,L.Jh)(this,(function(o){switch(o.label){case 0:return m.hotAnnot=0,W.isTouchDevice?(t="hand"==m.pdfViewer.getStateHandlerManager().currentStateHandler.getStateName())&&!A()?[2,!1]:[4,c(e)]:[2,!1];case 1:if(!(n=o.sent()))return[2,!1];if(!(i=m.getAnnotRender(n.id)))return[2,!1];if(t&&-1!==["screen","link","image","sound"].indexOf(n.type))["screen","sound"].indexOf(n.type)>-1?i.component.play():["link","image"].indexOf(n.type)>-1&&i.component.doAction();else{if("3d"===n.type)return[2,!0];m.activeAnnot(n.id)}return i&&r.emit(se.tapAnnotation,i),[2,!0]}}))}));return function(t){return e.apply(this,arguments)}}();var y=this;this.doubleTapPage=function(){var e=(0,P._)((function(e){var t;return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return W.isTouchDevice?[4,c(e)]:[2,!1];case 1:return(t=n.sent())?(y.doubleTapAnnot(t.id,e),[2,!0]):[2,!1]}}))}));return function(t){return e.apply(this,arguments)}}();var _=this;this.pressPage=function(){var e=(0,P._)((function(e){var t;return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return W.isTouchDevice?[4,c(e)]:[2,!1];case 1:return(t=n.sent())?(r.emit(se.pressAnnotation,_.getAnnotRender(t.id),e),E(e,1),e.preventDefault(),e.stopPropagation(),[2,!0]):[2,!1]}}))}));return function(t){return e.apply(this,arguments)}}(),this.panStart=function(t){e.moveHandler(t),e.hotAnnot&&-1==["screen","link","image","watermark"].indexOf(e.hotAnnot.type)&&e.activeAnnot(e.hotAnnot.id,t)};var b=this.$ui.find(".curAnnot").get(0),w=new Hammer.Manager(b);w.add(new Hammer.Tap({event:"doubletap",taps:2})),w.add(new Hammer.Tap({event:"singletap"})),w.add(new Hammer.Pan),w.get("doubletap").recognizeWith("singletap"),w.get("singletap").requireFailure("doubletap"),w.add(new Hammer.Press);var k=Promise.resolve();if(w.on("panstart",(function(t){k.then((function(n){if(e.hotAnnot&&-1==["screen","link","image","watermark"].indexOf(e.hotAnnot.type)){e.getAnnotRender(e.hotAnnot.id);e.activeAnnot(e.hotAnnot.id,t.srcEvent,!0)}}))})),w.on("hammer.input",(function(t){if("pointerdown"==t.srcEvent.type)return Tr=1,void(0||(k=function(t){return W.isTouchDevice&&e.moveHandler(t),c(t).then((function(i){if(e.hotAnnot){var r=e.getAnnotRender(e.hotAnnot.id),a=n.stateHandlerManager.currentStateHandler.getStateName();if("hand"===a&&-1!==["screen","link","image","3d"].indexOf(e.hotAnnot.type)||setTimeout((function(){e.hotAnnot&&e.activeAnnot(e.hotAnnot.id)}),200),"hand"===a)if("link"===e.hotAnnot.type){var s=r.annot.getBorderWidth(),c=e.$ui.find(".linkHighlightMode").show(),u=o.page.getDeviceRect(e.hotAnnot.rect,o.scale,o.rotate);switch(u.width=u.right-u.left,u.height=u.bottom-u.top,delete u.right,delete u.bottom,r.annot.info.highlightingMode){case Pe.NONE:c.hide();break;case Pe.OUTLINE:return u.width<2*s&&(u.left-=(2*s-u.width)/2),u.height<2*s&&(u.top-=(2*s-u.height)/2),void c.css(Object.assign({"border-width":s,borderColor:"black",borderStyle:"solid",backgroundColor:"none"},u)).show();case Pe.INVERT:return void c.css(Object.assign({"background-color":"white","mix-blend-mode":"difference"},u)).show();case Pe.PUSH:return u.width<2*s&&(u.left-=(2*s-u.width)/2),u.height<2*s&&(u.top-=(2*s-u.height)/2),void c.css(Object.assign({border:"".concat(s,"px solid"),"border-color":"black #aaa #aaa black"},u)).show();case Pe.TOGGLE:return}}else if("3d"===e.hotAnnot.type){var l=e.getAnnotRender(e.hotAnnot.id);if(!l)return;if(n.getStore().getCurrentValue(W.MODULE_LICENSE_INFO).threed)e.$ui.find(".curAnnot").hide(),l.component.active3DHandle(t);else{var A,d=null===(A=n.viewerUI)||void 0===A?void 0:A.rootComponent.pdfUI;d?d.alert({id:"3d-noLicense-confirm-dialog",message:"3d.failReason.no3dLicense",level:"warning",again:!0}):n.viewerUI.alert("3d.failReason.no3dLicense")}}}}))}(t.srcEvent)));if("pointerup"==t.srcEvent.type){Tr=0;var i="hand"==e.pdfViewer.getStateHandlerManager().currentStateHandler.getStateName();e.hotAnnot&&i&&-1!==["screen","link","image","sound"].indexOf(e.hotAnnot.type)&&(-1===["screen","sound"].indexOf(e.hotAnnot.type)&&t.srcEvent.target===b&&e.getAnnotRender(e.hotAnnot.id).component.doAction(),e.$ui.find(".linkHighlightMode").css({border:"none",background:"none","mix-blend-mode":"initial"}).hide())}})),w.on("singletap",(function(t){var n="hand"==e.pdfViewer.getStateHandlerManager().currentStateHandler.getStateName();if(e.hotAnnot){var i=e.getAnnotRender(e.hotAnnot.id);n&&-1!==["screen","link","image","sound"].indexOf(e.hotAnnot.type)&&["screen","sound"].indexOf(e.hotAnnot.type)>-1&&i.component.play(),r.emit(se.tapAnnotation,i)}})),W.isTouchDevice&&(W.isSafari||W.isChrome)){var x="pointerdown";(W.isIOS&&W.isChrome||void 0===window.PointerEvent)&&(x="mousedown");var C=function(t){var n=e._findAnnotRender(t.target);n&&!e._isFormWidget(n)&&t.stopPropagation()};b.addEventListener(x,C);var D=(0,W.onTap)({target:b,stopPropagation:!1,onDoubleTap:function(t){var n=e._findAnnotRender(t.target);if(n&&!e._isFormWidget(n)){var i=n.annot.getId();r.emit(se.doubleTapAnnotation,n,t),e.doubleTapAnnot(i,t),t.stopPropagation()}}});this.addDestroyHook(D,(function(){b.removeEventListener(x,C)}))}else w.on("doubletap",(function(t){var n=e._findAnnotRender(t.target);if(n&&!e._isFormWidget(n)&&-1===["link","screen"].indexOf(n.annot.getType())){var i=n.annot.getId();r.emit(se.doubleTapAnnotation,n,t),e.doubleTapAnnot(i,t)}}));w.on("press",(function(t){if(!(0,W.isEditable)(t.target)){var n=e.getAnnotRender(+j()(t.target).data("annot"));n&&!e._isFormWidget(n)&&r.emit(se.pressAnnotation,n,t)}}));var E=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t._findAnnotRender(e.target);if(n||i){if(n){var o=t.getAnnotAtPoint(e,!0);if(!o)return;i=t.getAnnotRender(o.id)}r.emit(se.rightClickAnnotation,i,e);var a=i.annot.getType();if("select-annotation"==t.pdfViewer.getStateHandlerManager().currentStateHandler.getStateName()||-1===["link","screen","widget"].indexOf(a)||i.component.isActive||W.isTouchDevice){var s=i.annot.getId();t.showContextMenu(s,e.clientX,e.clientY,e).then((function(t){!1!==t&&(e.stopPropagation(),e.preventDefault())}))}else e.preventDefault()}};this.addDestroyHook((function(){w.destroy(),o.$ui&&o.$ui.off("mousemove",e.moveHandler),e.$ui.find(".curAnnot").off("mouseleave",s)}),(0,W.attachContextMenuEvent)(this.$ui.get(0),E,{capture:!0}))}}},{key:"getEngineAnnot",value:function(e){return this.getAnnotRender(e.id).component.annot}},{key:"getAnnotRect",value:function(e){var t=this._parent,n=e.getDeviceRect(t.scale,t.rotate),i=n.right-n.left+4,r=n.bottom-n.top+4;return 8&e.getFlags()&&(i/=t.scale,r/=t.scale),{width:i,height:r,left:n.left-2,top:n.top-2}}},{key:"_isFormWidget",value:function(e){return"widget"===e.annot.getType()}},{key:"_isFormWatermark",value:function(e){return"watermark"===e.annot.getType()}},{key:"_findAnnotRender",value:function(e){var t=this;if(e==this.$ui.find(".curAnnot").get(0))return this.getAnnotRender(+j()(e).data("annot"));var n=function(){return Object.keys(t.annotRenders).map((function(e){return t.annotRenders[e]}))},i=e.closest(".fv__pdf-page-annot-handler-container");return i?n().filter((function(e){return e.component.$handler.get(0)===i}))[0]:e.closest(".fv__shape-control.callout")?n().filter((function(e){var t=e.component;return!(e.annot.getIntent()!==pe.FREETEXT_CALLOUT||!W.Lazy.isPropertyIntialized(t,"shapeControl"))&&t.shapeControl.annot.getId()===e.annot.getId()}))[0]:void 0}},{key:"updateSize",value:function(e,t){if(Object.keys(this.annotRenders).length){for(var n in this.annotRenders){this.annotRenders[n].component.updateSize(e,t)}if(0!=this.$ui.find(".annotRenderers").width()){var i=(0,R._)(this.renderParams||[e],1)[0],r=this.renderParams[2],o=e/i,a="matrix(".concat(o,",0,0,").concat(o,",").concat(r.left*(o-1),",").concat(r.top*(o-1),")");this.$ui.find(".fv__ui-annots").css("transform",a);var s=this.$ui.find(".fv__pdf-form-control-handler-container, .fv__pdf-page-3d-annot-handler-container"),c=!0,u=!1,l=void 0;try{for(var A,d=s[Symbol.iterator]();!(c=(A=d.next()).done);c=!0){var h=A.value,f=parseFloat(j()(h).css("left")),p=parseFloat(j()(h).css("top"));j()(h).css({transform:"matrix(".concat(o,",0,0,").concat(o,",").concat(f*(o-1),",").concat(p*(o-1),")")})}}catch(e){u=!0,l=e}finally{try{c||null==d.return||d.return()}finally{if(u)throw l}}this.scaleChanged=!0}}}},{key:"constructAllWidgetRenders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return!0},t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){return t.constructAllAnnotRenders((function(t){return"widget"===t.getType()&&e(t)})),[2]}))}))()}},{key:"constructAllAnnotRenders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return!0},t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return t.isDestroyed?[2]:t.pageRender&&t.pageRender.page?[4,t.pageRender.page.getAnnots()]:[2];case 1:return n.sent().filter((function(n){return!t.annotRenders[n.objectNumber]&&e(n)})).map((function(e){return t.getAnnotRender(e.getId())})),[2]}}))}))()}},{key:"skipRender",value:function(e,t){return!!this.isDestroyed||(this._parent.pdfViewer.getScrollWrap().disabled||Math.abs(e-4*t/3)>1e-6)}},{key:"getHideAnnots",value:function(){var e=this,t=this.pdfViewer.getAnnotManager().getAnnotFlag_,n=this.pageRender.docRender.hideMarkupFlag;return this.pageRender.page.annots.map((function(i){var r=i.info.id;if(t&&i.getType()!==Xi.link&&e.isAnnotHidden(i))return r;if(e.annotFiltered){if(!e.showAnnots.has(r)&&i.isMarkup())return r}else if(n&&i.isMarkup())return r})).filter((function(e){return null!=e}))}},{key:"getBitmap",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"noHighlight",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{left:r.left/W.dpr,right:r.right/W.dpr,top:r.top/W.dpr,bottom:r.bottom/W.dpr};if(this.skipRender(4/3,1))return Promise.resolve([1]);var c=this._parent,u="noHighlight"==o,l=0;u&&"redact"==(null===(t=this.hotAnnot)||void 0===t?void 0:t.type)&&c.page.annots.find((function(e){return e.getId()===n.hotAnnot.id}))&&(l=this.hotAnnot.id);var A=["annot","form"];if(c.docRender.hideMarkupFlag&&A.push("hideMarkup"),u?A.push("noHighlight"):A.push("onlyHighlight"),!this.pageRender||!this.pageRender.page)return Promise.resolve([1]);var d=this.getHideAnnots(),h=c.page.reverseDeviceRect(r,c.scale*W.dpr,c.rotate);return h.left<0&&(h.left=0),h.bottom<0&&(h.bottom=0),c.page.getPageBitmap(4*e/3*W.dpr,i,{x:r.left,y:r.top,width:r.right-r.left,height:r.bottom-r.top},A,"view","",{hideAnnots:d,hotAnnot:l,dpr:W.dpr},h).then((function(t){var i=t.buffer,r=t.image,o=(t.progressiveId,t.x,t.y,t.width),c=t.height,l=t.scale;t.rate;if(n.skipRender(l,e*W.dpr))return[1];if(a)return t;n.$ui.find(u?".annotRenderers":".highlightAP");var A=j()("<canvas class='".concat(u?"annotRenderers":"highlightAP"," fv__ui-annots'></canvas>"))[0];j()(A).css({transform:"scale(1)",left:s.left,top:s.top,width:s.right-s.left,height:s.bottom-s.top});var d=A.getContext("2d",{willReadFrequently:!0});if(A.width=o,A.height=c,d.clearRect(0,0,A.width,A.height),r)return new Promise((function(t,n){try{var i=new Image;i.onload=function(){d.drawImage(i,0,0,o,c),URL.revokeObjectURL(i.src),t([0,e])},i.src=URL.createObjectURL(r)}catch(e){n(e)}}));var h=d.createImageData(o,c);return h.data.set(new(Uint8ClampedArray||Uint8Array)(i)),d.putImageData(h,0,0),n.skipRender(l,e*W.dpr)?[1]:[0,e,A]}))}},{key:"getImageData",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"noHighlight";if(this.skipRender(4/3,1))return Promise.resolve([1]);var a="noHighlight"==o,s=null,c=this._parent,u=0;a&&"redact"==(null===(t=this.hotAnnot)||void 0===t?void 0:t.type)&&c.page.annots.find((function(e){return e.getId()===n.hotAnnot.id}))&&(u=this.hotAnnot.id);var l=["annot","form"];if(c.docRender.hideMarkupFlag&&l.push("hideMarkup"),a?l.push("noHighlight"):l.push("onlyHighlight"),!this.pageRender||!this.pageRender.page)return Promise.resolve([1]);var A=this.getHideAnnots(),d=c.page.reverseDeviceRect(r,c.scale*W.dpr,c.rotate);return c.page.getAnnotsBitmap(s?s.data.buffer:null,4*e/3*W.dpr,i,{x:r.left,y:r.top,width:r.right-r.left,height:r.bottom-r.top},l,"view",{hideAnnots:A,hotAnnot:u,dpr:W.dpr},d).then((function(e){return e}))}},{key:"genScreenIcon",value:function(e,t){var n=e.scale,i=e.page.getDeviceRect(t.rect,n,e.rotate),r="fv__screen-decorator-".concat(t.id),o=this.$ui.find("."+r);o.length||(o=j()("<div class='fv__pdf-page-multi-media-annot-container screen-border ".concat(r,"' data-id='").concat(t.id,"'><div class='icon play'></div></div>")),this.$ui.append(o)),o.css({padding:(t.borderWidth||2)*W.dpr*n*4/3,left:i.left/e.getShowWidth()*100+"%",top:i.top/e.getShowHeight()*100+"%",width:(i.right-i.left)/e.getShowWidth()*100+"%",height:(i.bottom-i.top)/e.getShowHeight()*100+"%"});var a=this.pdfViewer.getPDFDocRender(),s=!1;this.pdfViewer.getAnnotManager().getAnnotFlag_&&this.isAnnotHidden(e.page.annotIdMap[t.id])&&(s=!0),a.noInteraction||s?o.hide():o.show()}},{key:"updateActiveRect",value:function(e,t,n,i){var r=e.annotsRender.getAnnotRender(t.name);if(r){var o=r.component;if(!(t.intent===pe.FREETEXT_CALLOUT)||!o.isActive){var a=r.$handler.find(n),s=e.scale,c=e.page.getDeviceRect("freetext"===i?t.innerRect:t.rect,s,e.rotate);if(!a)return c;var u="px";return a.css({left:c.left+u,top:c.top+u,width:c.right-c.left+u,height:c.bottom-c.top+u}),c}o.active()}}},{key:"updateLinePoint",value:function(e,t){var n=e.annotsRender.getAnnotRender(t.name);n&&"Line"===n.component.name&&n.component.updateHandlerPosition(!0)}},{key:"updateCanvas",value:function(e,t){var n=e.buffer,i=(e.image,e.progressiveId,e.x),r=e.y,o=e.width,a=e.height,s=(e.scale,e.rate,this.$ui.find(t));if(!s[0].width){var c=this.renderParams[2];s.attr({width:c.right-c.left,height:c.bottom-c.top})}var u=s[0].getContext("2d");if(0!==o&&0!==a){var l=u.createImageData(o,a);l.data.set(new(Uint8ClampedArray||Uint8Array)(n)),this.renderParams[2]&&(u.putImageData(l,i-this.renderParams[2].left*W.dpr,r-this.renderParams[2].top*W.dpr),W.isSafari&&(s.hide(),setTimeout((function(){s.show()}),0)))}}},{key:"getBitmapData",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"noHighlight",o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(s){return e?[2,a.getImageData(t,n,i,r)]:[2,a.getBitmap(t,n,i,r,o)]}))}))()}},{key:"updateRender",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;return(0,P._)((function(){var i,r,o,a,s;return(0,L.Jh)(this,(function(c){return i=n.pageRender.page.annots.some((function(e){return"highlight"==e.getType()})),[[".annotRenderers",".annotRenderers"],[".highlightAP",".highlightAP"]].map((function(t){var r=(0,R._)(t,2),o=r[0],a=r[1];if((".highlightAP"!=o||i||e.hasHighlight)&&0==n.$ui.find(o)[0].width){var s=n.renderParams[2];n.$ui.find(a).css({transform:"none",left:s.left,top:s.top,width:s.right-s.left,height:s.bottom-s.top}).attr({width:(s.right-s.left)*W.dpr,height:(s.bottom-s.top)*W.dpr})}})),r=n.pageRender,3,(o=e).left-=3,o.top-=3,o.right+=3,o.bottom+=3,o.left<0&&(o.left=0),o.top<0&&(o.top=0),t||(a=r.getCurrentVisibleRect(),o.left=Math.min(o.left,a.left*W.dpr),o.top=Math.min(o.top,a.top*W.dpr),o.right=Math.max(o.right,a.right*W.dpr),o.bottom=Math.max(o.bottom,a.bottom*W.dpr)),s=[n.getBitmapData(t,r.scale,r.rotate,o,"noHighlight",1)],e.hasHighlight&&s.push(n.getBitmapData(t,r.scale,r.rotate,o,"onlyHigh",1)),[2,Promise.all(s).then((function(e){var t=(0,R._)(e,2),i=t[0],r=t[1];return!(1==i[0]||r&&1==r[0])&&(n.updateCanvas(i,".annotRenderers"),r&&n.updateCanvas(r,".highlightAP"),!0)}))]}))}))()}},{key:"render",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;if(this.skipRender(4/3,1))return[1];if(this.pageRender.isDestroyed)return[1];this.isRendered=!0;var r=this.pageRender,o=r.page,a=r.docRender.hideMarkupFlag,s=r.docRender.forceLoadAnnot,c=this.pdfViewer.getAnnotManager().getAnnotFlag_;return(a||s||c?o.getAnnots().then((function(e){return e&&e.map((function(e){return e.info}))})):o.getAnnotRects()).then((function(e){if(!o.isDestroyed)return o.doc.hasFixedPageFields(o.getIndex()).then((function(e){e&&!o.hasFixedPageFields&&(o.hasFixedPageFields=!0)})).then((function(t){return e}))})).then((function(o){if(o){if(t.renderParams=[e,n,i],o.length){var a={left:i.left*W.dpr,right:i.right*W.dpr,top:i.top*W.dpr,bottom:i.bottom*W.dpr};return Promise.all([t.getBitmap(e,n,a,"noHighlight"),o.some((function(e){return"highlight"==e.type}))?t.getBitmap(e,n,a,"onlyHigh"):Promise.resolve([0])]).then((function(e){var n=(0,R._)(e,2),i=n[0],r=n[1];if(i[0]||r[0])return[1];var o=t.$ui.find(".annotRenderers"),a=t.$ui.find(".highlightAP");return o.replaceWith(i[2]),r.length>1?a.replaceWith(r[2]):a.attr({width:0,height:0}),t.$ownUI=t.$ui.find(".fv__ui-annots,.linkHighlightMode,.curAnnot"),[0,i[1]]})).then((function(e){var i=(0,R._)(e,2),a=i[0],s=i[1];if(!a){if(t.pdfViewer.eventEmitter.emit("renderAnnotSuccess",t.pageRender),t.scaleChanged)t.$ui.find(".fv__pdf-page-annot-handler-container").each((function(e,t){t.style.transform=null})),t.scaleChanged=!1;for(var c in o.forEach((function(e){"screen"==e.type&&e.isAudioVideo&&(t.genScreenIcon(r,e),t.updateActiveRect(r,e,".fv__pdf-player"))})),t.annotRenders){var u=t.annotRenders[c],l=u.component;if(l&&l.annot){var A=l.annot.getType();"widget"===A?u.render(s,n):"3d"===A&&l.isActive3D&&l.render3D(s,n);u.scale,u.rotate;l.scale=s,l.rotate=n,u.scale=s,u.rotate=n;u.component.isActive}}}}))}t.$ui.find(".annotRenderers,.highlightAP").css({left:i.left,top:i.top,transform:"scale(1)",width:i.right-i.left,height:i.bottom-i.top}).attr({width:0,height:0})}}))}},{key:"adjustHighlightsRender",value:function(){return Promise.resolve()}},{key:"adjustHighlightAnnots",value:function(){var e=[];for(var t in this.annotRenders){var n=this.annotRenders[t];"highlight"===n.annot.getType()&&e.push(n.redraw())}return Promise.all(e)}},{key:"destroy",value:function(){for(var e in this.annotRenders){var t=this.annotRenders[e];t&&t.destroy()}(0,E._)((0,S._)(n.prototype),"destroy",this).call(this),this.invisibleRender(),this.pageRender=null,this.annotRenders=null,this.rerenderAnnotDebounceTaskExecutor.cancel(),this.rerenderAnnotThrottleTaskExecutor.cancel(),this.rerenderAfterFilterTaskExecutor.cancel()}},{key:"clickNoteAt",value:function(e){var t=this.annotRenders[e];t&&t.focus()}},{key:"unActiveAnnot",value:function(e){var t=this,n=this.pdfViewer.getAllActiveElements();if(!n.length)return Promise.resolve();this.pdfViewer.eventEmitter;return e||this.pdfViewer.clearMultiSelectActiveFlag(),Promise.resolve(this.unActiveAnnotBefore()).then((function(i){if(!1!==i&&null!=t.pageRender){var r=n.filter((function(e){return e.annot}));(0,T._)(e,An)?r=r.filter((function(t){return t.annot===e})):"number"==typeof e&&(r=r.filter((function(t){return t.annot.objectNumber===e}))),r.forEach((function(e){t.pdfViewer.deactivateElement(e),t.unActiveAnnotAfter(e)}))}}))}},{key:"_unActiveAnnot",value:function(e){e.unActive()}},{key:"_forEachRenderer",value:function(e){for(var t in this.annotRenders)e.call(this,this.annotRenders[t],t,this.annotRenders)}},{key:"activeAnnot",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.getAnnotRender(e);if(!r)return Promise.resolve();var o=this.pdfViewer;if(o.activationManager.currentActivableIs(r.component)&&!W.keyboardStatus.isShiftDown&&!i)return Promise.resolve(r);var a=o.eventEmitter,s=this.pdfViewer.customs;return Promise.resolve((s.activeAnnotBefore||Ir)(r,e,this)).then((function(i){if(a.emit(se.activeAnnotationBefore,r,e,n),!1===i)return r;if(r.annot.isGrouped&&r.annot.isGrouped()){var o=[];return r.getGroupRenders().map((function(e){"popup"!==e.annot.getType()&&o.push(e.active())})),Promise.all(o).then((function(){return a.emit(se.activeAnnotation,r,e,n),Promise.resolve((s.activeAnnotationAfter||Ir)(r,e,n))})).then((function(){return a.emit(se.activeAnnotationAfter,r,e,n),r}))}return r.active(t).then((function(){return a.emit(se.activeAnnotation,r,e,n),Promise.resolve((s.activeAnnotationAfter||Ir)(r,e,n))})).then((function(){return a.emit(se.activeAnnotationAfter,r,e,n),t&&r.component.triggerPointerDownOnShapeControl(t),r}))}))}},{key:"_activeAnnot",value:function(e,t){var n=this.annotRenders[e];return n?n.active():Promise.resolve()}},{key:"splitAnnotIndexArr",value:function(e,t,n){for(var i=[],r=[],o=e+1,a=e-1,s=-1,c=0,u=t.length;c<u;c++){var l=t[c],A=l.length;if(1===A&&l[0]===e)return!1;for(var d=0,h=A;d<h;d++){var f=l[d];if((0,T._)(f,Array)){var p=f[0],v=f[1];if(e===p){s=c,i=l.slice(0,d),r=(r=v>o?[[o,v]]:[v]).concat(l.slice(d+1));break}if(e===v){s=c,i=l.slice(0,d),p<a?i.push([p,a]):i.push(p),r=l.slice(d+1);break}if(e>p&&e<v){s=c,i=l.slice(0,d),a===p?i.push(p):i.push([p,a]),r=(r=o===v?[v]:[[o,v]]).concat(l.slice(d+1));break}}else if(f===e){s=c,i=l.slice(0,d),r=l.slice(d+1);break}}if(-1!==s)break}if(-1===s)return!1;var g=JSON.stringify(t[s]),m=n[g],y=[s,1];return i.length&&y.push(i),y.push([e]),r.length&&y.push(r),t.splice.apply(t,y),{removeTileCanvas:m,beforeIndexArr:i,splitIndexArr:[e],afterIndexArr:r,tileCanvasMap:n,splitKey:g}}},{key:"splitTileCanvas",value:function(e,t,n,i,r,o,a,s,c,u){var l=e.beforeIndexArr,A=e.splitIndexArr,d=e.afterIndexArr,h=e.removeTileCanvas,f=e.tileCanvasMap,p=e.splitKey,v=j()(document.createDocumentFragment()),g=[];return l.length&&g.push(this.rangeAnnotTileCanvasRedraw(t,n,l,f,v,i,r,o,a,s,c,u)),g.push(this.renderSplitAnnots(A,t,n,v,i,c,u)),d.length&&g.push(this.rangeAnnotTileCanvasRedraw(t,n,d,f,v,i,r,o,a,s,c,u)),Promise.all(g).then((function(){h.$container.before(v),h.destroy(),delete f[p]}))}},{key:"createAnnotRender",value:function(e){if(this.annotRenders[e.id||e.getId()])return this.annotRenders[e.id||e.getId()];var t=j()("<div/>"),n=j()("<div/>"),i="widget"===e.getType();i?this.$ui.append(t,n):this.$ui.append(n);var r=new ne(t,n,e,this);return this.annotRenders[e.getId()]=r,i&&r.render(this.renderParams.targetScale,this.renderParams.rotate,this.renderParams.containerVisibleRect).then((function(e){return r.component.afterRender()})),r.component.rotate=this._parent.rotate,r.component.scale=this._parent.scale,r}},{key:"getAnnotRender",value:function(e){if(void 0!==e){var t=this._parent;if(!t)return null;var n=t.page;if("number"==typeof e){var i=this.annotRenders[e];if(i)return i;var r=n.getAnnotsSync([e])[0];return r?this.createAnnotRender(r):null}if(e.trim().length<1)return null;var o=n.annots.find((function(t){return t.getName()===e}));return o?this.createAnnotRender(o):null}}},{key:"getAnnotRenderSafely",value:function(e){var t=this.pageRender.page.annots.find((function(t){return t.id===e}));return t?this.createAnnotRender(t):null}},{key:"removeAnnotRender",value:function(e){var t=e.annot.getId();delete this.annotRenders[t]}},{key:"showContextMenu",value:function(e,t,n,i){return this.activeAnnot(e).then((function(e){return e&&e.showContextMenu(t,n)}))}},{key:"doubleTapAnnot",value:function(e,t){this.activeAnnot(e).then((function(e){e&&e.doubleTapAnnot();var t=e.annot.getId(),n=document.getElementById("comment-popup-".concat(t));null==n||n.dispatchEvent(new Event("mouseleave"))}))}},{key:"getOrCreateAnnotRender",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.$ui[0],n=e.getId();if(this.annotRenders[n])return this.annotRenders[n];var i=j()("<div></div>"),r=j()("<div></div>");return t.appendChild(i[0]),t.appendChild(r[0]),this.annotRenders[n]=new ne(i,r,e,this)}},{key:"addAnnots",value:function(e){var t=this,n=j()(document.createDocumentFragment());this.annots.reduce((function(e,i){var r=i.getId();return e[r]||(e[r]=t.getOrCreateAnnotRender(i,n[0])),e}),this.annotRenders),this.$ui.append(n);for(var i=!1,r=0,o=e.length;r<o;r++){if("highlight"===e[r].getType()){i=!0;break}}i&&this.parent("pdfPageRender").redrawContent(!0)}},{key:"getAnnotRenders",value:function(){return this.annotRenders}},{key:"removeAnnotRenders",value:function(e){var t=this,n=e.map((function(e){var n=e.getId(),i=t.getAnnotRender(n);return i&&i.remove(!0)}));return Promise.all(n)}},{key:"redrawAnnotRenders",value:function(e){}},{key:"movedAnnotRenders",value:function(e,t){for(var n=e.length;n--;){var i=e[n].getId(),r=this.getAnnotRender(i);r&&r.moved(t)}}},{key:"addAnnotRenders",value:function(e){}},{key:"updateAnnotRendersId",value:function(e,t){e in this.annotRenders&&(this.annotRenders[t]=this.annotRenders[e],delete this.annotRenders[e])}},{key:"endRender",value:function(){var e=this.renderSerialPromise;e&&e.end().catch(Ir)}},{key:"invisibleRender",value:function(){this.endRender();var e=this.annotRenders;for(var t in e)e[t].invisibleRender()}},{key:"showDownIcon",value:function(e){}},{key:"startFilterAnnot",value:function(){this.annotFiltered=1,this.showAnnots=new Set}},{key:"addShowAnnot",value:function(e){var t=this;"caret"===e.getType()&&e.isGrouped()?e.groupElements&&e.groupElements.length>=2&&e.groupElements.forEach((function(e){t.showAnnots.add(e.getId())})):this.showAnnots.add(e.getId())}},{key:"endFilterAnnot",value:function(){var e=this;this.annotFiltered&&this.rerenderAfterFilterTaskExecutor.exec((function(){if(!e.isDestroyed)return e.render.apply(e,(0,M._)(e.renderParams))}))}},{key:"_updatePageMeasureScaleRatio",value:function(e,t){var n=this;0!==t.length&&t.forEach((function(t){var i,r=t.getPDFPage().getIndex();if(e.getIndex()===r){var o=n;e.getMeasureScaleRatio().then((i=(0,P._)((function(e){var n,i,r,a,s,c,u,l,A,d,h,f,p,v,g,m,y,_,b,w,k,x,P,C;return(0,L.Jh)(this,(function(D){switch(D.label){case 0:return n=e.ratioMap,i=e.unitName,r=e.scale,[4,ki(t)];case 1:if(a=D.sent(),s=o.pdfViewer.getIoC().getInstanceByClass(or),u=s.getMeasurementInfo(),r&&a)n.length?(l=n[0].value,A=Gi(n[0].unit),d=n[1].value,h=Gi(n[1].unit),c={userSpaceScaleValue:l,userSpaceUnit:A,realScaleValue:d,realUnit:h}):u=null;else{if(!u)return[2];r=1,l=u.userSpaceScaleValue,A=u.userSpaceUnit,d=u.realScaleValue,h=u.realUnit}switch(f=t.getContent(),(p=f.indexOf("\n"))>=0&&(p+=1),v=f.substr(0,p),t.getType()){case"circle":return g=Zi.caculateCircleArea(t.getRect(),c?null:u),c&&(g*=Math.pow(r,2)),t.setContent("".concat(v).concat(parseFloat(g).toFixed(2)," sq ").concat(i)),[2];case"line":return m=t.getStartPoint(),y=t.getEndPoint(),_=Zi.caculateDistance(m,y,c?null:u),c&&(_*=r),t.setContent("".concat(v).concat(parseFloat(_).toFixed(2)," ").concat(i)),[2];case"polyline":for(b=0,w=t.getVertexes(),k=w[0],x=1;x<w.length;x++)b+=Zi.caculateDistance(k,w[x],c?null:u),k=w[x];return c&&(b*=r),t.setContent("".concat(v).concat(parseFloat(b).toFixed(2)," ").concat(i)),[2];case"polygon":return P=t.getVertexes(),C=Zi.caculatePolygonArea(P,c?null:u),c&&(C*=Math.pow(r,2)),t.setContent("".concat(v).concat(parseFloat(C).toFixed(2)," sq ").concat(i)),[2]}return[2]}}))})),function(e){return i.apply(this,arguments)}))}}))}},{key:"showCommentPopupOnMouseOver",value:function(e){var t=this;if(JSON.parse(localStorage.getItem("commentPreference")||'{"isAutoOpenPopup":false}').isAutoOpenPopup){var n=function(e){return document.getElementById("comment-popup-".concat(e))},i=function(){j()(".temp-rect").remove();var e=t._annotRender_;if(e){var i,r=document.querySelector(".fv__comment-popup__canvas");r&&(r.width=r.width);var o=e.annot.getId(),a=e.component;null===(i=n(o))||void 0===i||i.classList.add("hide"),a.$rect=void 0,t._annotRender_=void 0}};this.findAnnot(e).then((function(e){e?function(e){var r=e.id;if(t._annotRender_){if(t._annotRender_.annot.getId()===r)return;i()}var o=t._annotRender_=t.getAnnotRender(r),a=o.annot,s=o.component,c=a.getType(),u=t.pageRender,l=u.page.getDeviceRect(a.getRect(),u.scale*W.dpr,u.rotate);o&&!t._isFormWidget(o)&&-1===["link","screen","freetext"].indexOf(c)&&s.getAppPermission().then((function(e){if(e.isEditable()){var i=j()('<div class="temp-rect"></div>');i.css({position:"absolute",left:l.left+"px",top:l.top+"px",bottom:l.bottom+"px",right:l.right+"px"}),t.pageRender.$ui.append(i),s.$rect=i,s.showReplyDialog("comment"),document.activeElement.blur(),setTimeout((function(){n(r).clientWidth&&n(r).dispatchEvent(new Event("mouseenter"))}),600)}}))}(e):i()}))}}}]),n}(Q);const Or=Lr;var jr=n(3397);function Br(){if("undefined"!=typeof window){if(window.crypto)return e=new Uint32Array(1),window.crypto.getRandomValues(e),e[0]/4294967296;if(window.msCrypto)return function(){var e=new Uint32Array(1);return window.msCrypto.getRandomValues(e),e[0]/4294967296}()}var e;return(0,jr.vg)("random",Math)()}var Vr=function(){},Ur=(0,W.createDOM)("canvas",{width:"0",class:"fv__tiles-canvas"}),Hr=((0,W.createDOM)("div",{class:"fv__tiles-col"},[Ur.cloneNode()]),(0,W.createDOM)("div",{class:"fv__tiles-row"}),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!e||e.right-e.left<=t||e.bottom-e.top<=t}),zr=function(e,t){return e.left>=t.left&&e.right<=t.right&&e.top>=t.top&&e.bottom<=t.bottom},Wr=function(e,t,n){if(!n&&e.left==t.left&&e.right==t.right&&e.top==t.top&&e.bottom==t.bottom)return[];var i={left:Math.max(e.left,t.left),bottom:Math.min(e.bottom,t.bottom),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top)};if(i.left<i.right&&i.top<i.bottom){if(n)return i;if(zr(t,e))return[];var r,o;i.left==t.left?(r={left:i.right,right:t.right,top:t.top,bottom:t.bottom},o=i.top==t.top?{left:i.left,right:i.right,top:i.bottom,bottom:t.bottom}:{left:i.left,right:i.right,top:t.top,bottom:e.top}):i.right==t.right&&(o={left:t.left,right:i.left,top:t.top,bottom:t.bottom},r=i.top==t.top?{left:i.left,right:i.right,top:i.bottom,bottom:t.bottom}:{left:i.left,right:i.right,top:t.top,bottom:i.top});var a=[];return Hr(o,0)||a.push(o),Hr(r,0)||a.push(r),0!=a.length||Hr(t)?a:[t]}return n?null:Hr(t)?[]:[t]},Gr=function(e,t){var n=e.left>t.left?e.left:t.left,i=e.right<t.right?e.right:t.right,r=e.bottom<t.bottom?e.bottom:t.bottom,o=e.top>t.top?e.top:t.top;if(!(n>=i||r<=o))return{left:n,right:i,bottom:r,top:o}},Yr=function(e,t){return e.left<=t.left&&e.right>=t.right&&e.bottom>=t.bottom&&e.top<=t.top},$r=function(){function e(t,n,i){var r=this,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];(0,C._)(this,e),this.isDestroyed=!1,this.enableCache=o,this.cache={},this.getImageData=t,i&&(this.pageRender=i,this.api=i.page.api),this.progressDeferredMap={},this.tileTasks={},this.timer={};var a="fv__tiles-container";n=n?n.addClass(a):j()((0,W.createDOM)("div",{class:a})),this.setDom(n),this.updateCanvasMore=Vr,this.updateCanvasContainer=Vr,this.defer={},this.isRendered=!1,Object.defineProperties(this,{$canvases:{get:function(){return r.$container.find(".fv__tiles-canvas")}},rows:{get:function(){return r.$container.find(".fv__tiles-row").length}},$cols:{get:function(){return r.$container.find(".fv__tiles-col")}},cols:{get:function(){return r.$container.find(".fv__tiles-row").eq(0).find(".fv__tiles-col").length}}})}return(0,D._)(e,[{key:"setDom",value:function(e){this.$container=e}},{key:"redraw",value:function(e,t,n,i,r,o,a,s){var c,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,A=this.getCurrentCanvas();if(A&&!A.isInvalid&&(c=this.getRenderedRect(A))){var d=this.getVisibleRealRect();if(d&&c.left<=d.left&&c.right>=d.right&&c.top<=d.top&&c.bottom>=d.bottom&&this.scale==a&&this.rotate===s&&this.showWidth===n&&this.showHeight===i)return Promise.resolve()}this.showWidth=n,this.showHeight=i;var h=[e,t,n,i,r,o,a,s,u,l];this.lastRedrawParams=h;var f=this.$container,p={left:u*a+"px",top:l*a+"px"};if(f.css(p),f.css(p),this.getRectBitmap){var v=!!this.scale&&this.scale!=a;return this.scale=a,this.rotate=s,this.renderVisibleRect(o,a,v)}return this.scale=a,this.rotate=s,this.updateDom(e,t,n,i,r,o,a,s,u,l),this.updateRenderCanvasSerial(e,t,n,i,r,o,a,s,u,l)}},{key:"isRenderingDone",value:function(e,t){return e===this.scale&&t===this.$container.width()}},{key:"updateDom",value:function(e,t,n,i,r,o,a,s){var c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,l=arguments.length>10&&void 0!==arguments[10]?arguments[10]:this.$container;if(0!=n){var A={left:c*a+"px",top:u*a+"px"};this.updateCanvasContainer=function(){l.css(A)},l.css(A);var d=n/W.dpr,h=i/W.dpr,f=j()((0,W.createDOM)("canvas",{id:"pdfcanvas",style:"width:".concat(d,"px;height:").concat(h,"px;")})),p=f[0];if(p.width=n,p.height=i,this.$container){var v=this.$container.find("#pdfcanvas");if(f.css("display",v.css("display")),this.$container.append(p),v&&v.length>0){var g=v[0];g.width=g.height=0,g.remove()}this.$container.show()}this.pageRender||this.lastRedrawParams||(this.lastRedrawParams=[e,t,n,i,r,o,a,s,c,u])}}},{key:"updateRenderCanvasSerial",value:function(e,t,n,i,r,o,a,s){var c=this,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,A=this.renderContentImageSerial;if(A&&A.end().catch((function(){})),0==n)return this.updateCanvasContainer(),Promise.resolve();A=this.renderContentImageSerial=new le;var d=[],h=r*a/o,f=r,p=parseInt(n%r+.5);p=p||1;var v=parseInt(i%r+.5);v=v||1;for(var g=u*a,m=l*a,y=this.visibleRect,_=0,b=e;_<b;_++)for(var w=0,k=t;w<k;w++){if(y){var x=y.left-20,P=y.right+20,C=y.top-20,D=y.bottom+20,E=g+w*h,S=m+_*h;if(!(E+h>x&&E<P&&S+h>C&&S<D)){this.$canvases[t*_+w].width=0;continue}}var I=f,T=f;_===e-1&&(T=v),w===t-1&&(I=p),d.push(function(e,t,n,i,r,o){return function(){return c.isDestroyed?Promise.resolve():c.updateCanvas(e,t,n,i,r,o,a,s,u,l)}}(_,w,I,T,r,o))}return A.serial(d)}},{key:"updateCanvas",value:function(e,t,n,i,r,o,a,s,c,u){return this.renderImageData(e,t,n,i,r,o,a,s,c,u)}},{key:"renderImageData",value:function(e,t,n,i,r,o,a,s,c,u){var l=this;if(this.isDestroyed)return Promise.resolve();var A=[e,t,n,i,r,o,c,u,s].join("-"),d=this.cache,h=([A,"canvas"].join("-"),[A,"imageData"].join("-")),f=[A,"imageUrl"].join("-"),p=d[h];return(p?Promise.resolve(p):this.getImageData(e,t,n,i,r,o,c,u,s)).then((function(n){if(!n)return[];var i=n.width,s=n.height,A=n.buffer,p=n.image,v=n.type,g=n.url;d[h]={width:i,height:s,buffer:A,image:p,type:v,url:g};var m=l.getCurrentCanvas(),y=o/a,_=l.lastRedrawParams[2],b=l.lastRedrawParams[3],w=m.getContext("2d");if(0==i||0==s)return m.width=0,[w,e,t,i,s,r,o,c,u];if(Math.abs(m.width-_)>1&&(m.width=_,m.height=b,j()(m).css({width:l.showWidth/y,height:l.showHeight/y})),g)return new Promise((function(n,a){var A=d[f];if(A)return l.updateCanvasContainer(),w.drawImage(A,e*r,t*r),n([w,e,t,i,s,r,o,c,u]);var h=new Image;h.onload=function(){d[f]=h,l.updateCanvasContainer(),w.drawImage(h,e*r,t*r),n([w,e,t,i,s,r,o,c,u])},h.src=g}));if(p)return new Promise((function(n,a){var A=d[f];if(A)return l.updateCanvasContainer(),w.drawImage(A,0,0),n([w,e,t,i,s,r,o,c,u]);try{var h=new Image;h.onload=function(){d[f]=h,l.updateCanvasContainer(),w.drawImage(h,0,0),n([w,e,t,i,s,r,o,c,u])},h.src=URL.createObjectURL(p)}catch(e){console.log(e)}}));var k=new(Uint8ClampedArray||Uint8Array)(A),x=w.createImageData(i,s);return x.data.set(k),l.updateCanvasContainer(),l.$container.css({width:l.showWidth/y,height:l.showHeight/y}),w.putImageData(x,t*r,e*r),[m,w,e,t,i,s,r,o,c,u]})).then((function(e){var t=(0,R._)(e,7),n=(t[0],t[1]),i=t[2],r=t[3],o=t[4],a=t[5],s=t[6];l.updateCanvasMore(n,i,r,o,a,s,i,r)}))}},{key:"hideContainer",value:function(){this.$container.hide(),this.invisibleRender()}},{key:"showContainer",value:function(){var e=this.$container;if(!e.is(":visible")){e.show();var t=this.lastRedrawParams;t&&this.redraw.apply(this,t)}}},{key:"setUpdateCanvasMore",value:function(e){this.updateCanvasMore=e}},{key:"setRenderViewWatermark",value:function(e){this.isRenderViewWatermark=e}},{key:"destroy",value:function(){this.offRender&&this.offRender(),this.isDestroyed=!0,delete this.getImageData,this.updateCanvasMore=Vr,this.updateCanvasContainer=Vr,this.$canvases.each((function(e,t){t.width=0}));var e=this.getCurrentCanvas();e&&(e.width=0,e.parentNode.removeChild(e)),this.$container.remove(),delete this.$container,this.clearCache()}},{key:"setVisibleRect",value:function(e){this.visibleRect=e}},{key:"clearCache",value:function(){var e=this.cache;for(var t in e)delete e[t];this.cache={};var n=this.getCurrentCanvas();n&&(n.isInvalid=!0),this.clearProgressiveTask()}},{key:"clearProgressiveTask",value:function(){if(this.getRectBitmap){for(var e in this.timer)clearTimeout(this.timer[e]);this.timer={};var t=[];for(var n in this.tileTasks)t.push(this.api.cancleProgress(n));for(var i in this.progressDeferredMap)this.progressDeferredMap[i].resolve();return this.progressDeferredMap={},this.tileTasks={},this.offRender=null,Promise.all(t)}}},{key:"cancelInvisibleProgressiveTask",value:function(e){var t=[];for(var n in this.tileTasks){var i=this.tileTasks[n];Gr(i,e)||(this.timer[n]&&(clearTimeout(this.timer[n]),delete this.timer[n]),t.push(this.api.cancleProgress(n)),delete this.tileTasks[n],this.progressDeferredMap[n].resolve(),delete this.progressDeferredMap[n])}return Promise.all(t)}},{key:"invisibleRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.enableCache||!this.getRectBitmap||e){this.$canvases.each((function(e,t){t.width=0}));var t=this.getCurrentCanvas();t&&(t.width=0,t.parentNode.removeChild(t)),this.clearCache(),this.zoomingScale=void 0}}},{key:"invisibleCanvas",value:function(){}},{key:"getRenderedRect",value:function(e){if(e)return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}},{key:"recurToReduceRect",value:function(e,t){for(var n=[],i=0;i<e.length;i++){var r=e[i],o=Wr(r,t);if(o.length){for(var a=0;a<o.length;a++)if(i==e.length-1)n.push(o[a]);else{var s,c=e.slice(i+1),u=this.recurToReduceRect(c,o[a]);(s=n).push.apply(s,(0,M._)(u))}break}if(Yr(r,t))return[]}return n}},{key:"pushToRenderRectsQueue",value:function(e){var t=[];for(var n in this.tileTasks){var i=this.tileTasks[n];t.push(i)}if(0==t.length)return e;var r=[],o=!0,a=!1,s=void 0;try{for(var c,u=e[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var l=c.value;r=r.concat(this.recurToReduceRect(t,l))}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}return r}},{key:"getCurrentCanvas",value:function(){if(!this.$container)return null;var e=this.$container.find("#pdfcanvas");return e&&e.length?e[0]:null}},{key:"render",value:function(e,t,n){var i=this;return(0,P._)((function(){var r,o,a,s,c,u,l,A,d,h,f,p,v,g,m,y,_,b,k,x,P,C,D,E;return(0,L.Jh)(this,(function(S){return i.isRendered&&i.zoomingScale&&i.zoomingScale!=t&&(e=i.pageRender.pdfViewer.getSmartScale(i.zoomingScale)),i.isRendered=!0,r=i.getVisibleRealRect(),o=(0,w._)({},i.visibleRect),a=o.right-o.left,s=o.bottom-o.top,(u=i.getCurrentCanvas())&&u.left==r.left&&u.top==r.top&&u.right==r.right&&u.bottom==r.bottom?c=u:(l=j()((0,W.createDOM)("canvas",{id:"pdfcanvas",style:"width:".concat(a,"px;height:").concat(s,"px;left:").concat(o.left,"px;top:").concat(o.top,"px; position:absolute;")})),(c=l[0]).left=r.left,c.top=r.top,c.right=r.right,c.bottom=r.bottom,c.width=r.right-r.left,c.height=r.bottom-r.top),i.pageRender.pdfViewer.getScrollWrap().disabled?[2]:(A=c.getContext("2d"),d=[r],n||!u||u.isInvalid||(h=i.getRenderedRect(u))&&((f=Gr(h,r))&&c!=u&&(p=h,v=f.right-f.left,g=f.bottom-f.top,m=f.left-p.left,y=f.top-p.top,_=f.left-r.left,b=f.top-r.top,k={left:m,top:y,width:v,height:g},x={left:_,top:b,width:v,height:g},A.drawImage(u,k.left,k.top,v,g,x.left,x.top,v,g)),P=Wr(h,r),d=P),C=function(e){var t=i.getCurrentCanvas();t!=c&&(i.$container&&(i.$container.append(c),i.$container.show()),t&&(t.width=t.height=0,t.remove(),t=null))},d.length?(D=[],E=[],d.forEach((function(t){var n={x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top};if(0!=n.width&&0!=n.height){var r=(0,W.createDeferred)();E.push(r.promise);var o=""+Date.now()+Br();i.tileTasks[o]=t,i.progressDeferredMap[o]=r;var a=i.getRectBitmap(n,e,o,i.rotate).then((function(e){if(e){var t=c,a=i.displayImage(e,n,t),s=function(e){if(i.api){var t=i.api.continueProgress(o).then((function(e){var t=c;i.displayImage(e,n,t),100==e.rate&&r.resolve()}));t.then((function(e){i.tileTasks[o]&&(i.timer[o]&&(clearTimeout(i.timer[o]),delete i.timer[o]),i.timer[o]=setTimeout(s.bind(i),10))})).catch((function(e){r.resolve()}))}};return 100!=e.rate?s():r.resolve(),a}})).catch((function(e){r.resolve()}));D.push(a)}})),[2,Promise.all(D).then((function(e){return e.every((function(e){return 1==e}))&&C(),Promise.all(E)}))]):[2])}))}))()}},{key:"renderVisibleRect",value:function(e,t,n){var i=this;return(0,P._)((function(){var r,o;return(0,L.Jh)(this,(function(a){return 0===t?[2,Promise.resolve()]:(r=i.getVisibleRealRect(),n?i.clearProgressiveTask():i.cancelInvisibleProgressiveTask(r),i.renderID=i.renderID?i.renderID+1:1,o=i.renderID,i.renderingPromise?i.renderingPromise=i.renderingPromise.then((function(r){return i.renderID!=o?Promise.resolve():i.render(e,t,n)})):i.renderingPromise=i.render(e,t,n),[2,i.renderingPromise])}))}))()}},{key:"displayImage",value:function(e,t,n){var i=this,r=e.buffer,o=e.isFirst,a=e.image,s=e.progressiveId,c=e.x,u=e.y,l=e.width,A=e.height,d=e.isVirtual,h=(0,R._)(this.lastRedrawParams,10),f=(h[0],h[1],h[2],h[3],h[4],h[5]),p=(h[6],h[7],h[8],h[9],4*f/3),v=e.scale||p,g=function(){i.tileTasks[s]&&(i.api.cancleProgress(s),delete i.tileTasks[s]),i.timer[s]&&(clearTimeout(i.timer[s]),delete i.timer[s]),i.progressDeferredMap[s]&&(i.progressDeferredMap[s].resolve(),delete i.progressDeferredMap[s])},m=this.pageRender.pdfViewer.getScrollWrap();if(e.isEmpty||this.isDestroyed||!d&&!this.tileTasks[s])return g(),Promise.resolve(0);if(Math.abs(v-p)>1e-6||m.disabled)return g(),Promise.resolve(0);var y,_=this.$container;_.css({transform:"scale(1)"});var b=(0,W.createDeferred)();if(a){var w=new Image;w.onload=function(){y=function(e,t,n){e.drawImage(w,t,n)},b.resolve()},w.onerror=function(){b.reject()},w.src=URL.createObjectURL(a)}else{if(!r)return b.resolve();var k=new(Uint8ClampedArray||Uint8Array)(r);if(!n)return;var x=n.getContext("2d").createImageData(l,A);if(x.data.set(k),W.isChrome&&this.isRenderViewWatermark){var P=document.createElement("canvas"),C=P.getContext("2d");P.width=l,P.height=A,C.putImageData(x,0,0);var D=new Image;D.src=P.toDataURL(),y=function(e,t,n){e.drawImage(D,t,n)}}else y=function(e,t,n){e.putImageData(x,t,n)};b.resolve()}return b.promise.then((function(){var r=n.getContext("2d"),a=n.left,d=n.top;return y(r,c-a,u-d),i.updateCanvasMore(r,c,u,a,d,l,A,1e6,0,0,t),i.renderedScale=v,o&&i.setDom(_),100==e.rate&&(i.timer[s]&&(clearTimeout(i.timer[s]),delete i.timer[s]),i.tileTasks[s]&&(i.api.cancleProgress(s),delete i.tileTasks[s]),0==Object.keys(i.tileTasks).length&&(i.offRender=null)),1}))}},{key:"getVisibleRealRect",value:function(){var e=this.visibleRect;if(!e)return null;var t=parseInt((e.right-e.left)*W.dpr+.5),n=parseInt((e.bottom-e.top)*W.dpr+.5),i=parseInt(e.left*W.dpr+.5),r=i+t,o=parseInt(e.top*W.dpr+.5);return{left:i,right:r,top:o,bottom:o+n}}},{key:"clearCanvasContent",value:function(){Array.from(this.$canvases).forEach((function(e){e.getContext("2d").clearRect(0,0,e.width,e.height)}))}}]),e}();const Jr=$r;var qr=n(840),Kr=n.n(qr);const Zr=function(){function e(t,n){(0,C._)(this,e),this.$handler=t,this.render=n,this.states=[]}return(0,D._)(e,[{key:"active",value:function(){}},{key:"destroy",value:function(){}},{key:"intoState",value:function(){}},{key:"outState",value:function(){}},{key:"resetState",value:function(){}},{key:"setStates",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.states;this.states=e}},{key:"getStates",value:function(){return this.states}},{key:"clearStates",value:function(){}}]),e}();function Xr(){var e,t=this,n=t.$handler,i=n[0],r=this.render,o=r.pdfViewer.eventEmitter,a=new(Kr().Manager)(i,{recognizers:[[Kr().Pan,{direction:Kr().DIRECTION_ALL}]]});return a.add(new(Kr().Tap)({event:"doubletap",taps:2})),a.add(new(Kr().Tap)({event:"singletap"})),a.get("doubletap").recognizeWith("singletap"),a.get("singletap").requireFailure("doubletap"),a.on("singletap",(function(e){var t=r.annotsRender;t?(t.unActiveAnnot(),r.parent("pdfDocRender").getFormRender().blurControl(),o.emit(se.tapPage,e)):o.emit(se.tapPage,e)})),a.on("doubletap",(function(e){var t=r.annotsRender;t?(t.unActiveAnnot(),r.parent("pdfDocRender").getFormRender().blurControl(),o.emit(se.doubleTapPage,e)):o.emit(se.doubleTapPage,e)})),a.on("press",(function(e){var t=r.annotsRender;t?(t.unActiveAnnot(),r.parent("pdfDocRender").getFormRender().blurControl(),o.emit(se.pressPage,e)):o.emit(se.pressPage,e)})),i.oncontextmenu=function(e){e.preventDefault()},n.on("mouseup",e=function(e){if(3===e.which){var t=r.annotsRender;t?(t.unActiveAnnot(),o.emit(se.rightClickPage,e)):o.emit(se.rightClickPage,e)}}),function(){var r;a.destroy(),n.off("mouseup",e),t=r,n=r,i=r,o=r,e=r}}var Qr=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r;return(0,C._)(this,n),(r=t.call(this,e,i)).handlers={hand:Xr},r.destroyStateHandlers={},r}return(0,D._)(n,[{key:"active",value:function(){this.activated||(this.activated=!0,this.$handler.addClass("fv__active"));this.states.length||this.resetState()}},{key:"destroy",value:function(){this.$handler.removeClass("fv__active")}},{key:"intoState",value:function(e){var t=this.states;if(-1===t.indexOf(e)){t.push(e);var n=this.handlers[e];n&&(this.destroyStateHandlers[e]=n.bind(this)())}}},{key:"outState",value:function(e){var t,n;(t=this.destroyStateHandlers[e])&&(t.bind(this)(),delete this.destroyStateHandlers[e]),-1!==(n=this.states.indexOf(e))&&this.states.splice(n,1)}},{key:"resetState",value:function(){this.setStates(["hand"])}},{key:"setStates",value:function(e){for(var t=this.states,n=0,i=t.length;n<i;n++)this.outState(t[n]);for(var r=0,o=e.length;r<o;r++)this.intoState(e[r])}},{key:"getStates",value:function(){return this.states}}]),n}(Zr);const eo=Qr;var to=function(){function e(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,C._)(this,e),this.pageRender=t,this.secondaryScale=r,this.fixedPosition=o;var a=document.createElement("div");a.classList.add("fv__page-area-renderer");var s=document.createElement("canvas");a.appendChild(s),this.canvas=s,this.element=a,this.setDimension(n,i),this.offsetPageX=0,this.offsetPageY=0}return(0,D._)(e,[{key:"setDimension",value:function(e,t){this.width=e,this.height=t,this.canvas.width=e,this.canvas.height=t,this.element.style.cssText+="width: ".concat(e,"px;height:").concat(t,"px")}},{key:"setPosition",value:function(e,t){this.offsetPageX=e,this.offsetPageY=t}},{key:"setSecondaryScale",value:function(e){e=Number(e),(!isFinite(e)||e<=0)&&(e=1),this.secondaryScale=e}},{key:"update",value:function(){var e=this,t=this.pageRender;return t.getPDFPage().then((function(n){var i=n.doc.api;e.tasks&&(i.cancleProgress(e.tasks.id),e.tasks=null);var r=t.scale,o=e.canvas,a=4*r/3*e.secondaryScale,s=t.getShowWidth()*e.secondaryScale,c=t.getShowHeight()*e.secondaryScale,u=o.width,l=o.height,A=u/2,d=l/2,h=e.offsetPageX*e.secondaryScale,f=e.offsetPageY*e.secondaryScale,p=h-A,v=h+A,g=f-d,m=f+d,y=0,_=0;e.fixedPosition?(p<0&&(v=(p=0)+u),v>s&&(p=(v=s)-u),g<0&&(m=(g=0)+l),m>c&&(g=(m=c)-l)):(p<0?y=Math.min(-p,A):v>s&&(y=Math.max(s-v,-A)),g<0?_=Math.min(-g,d):m>c&&(_=Math.max(c-m,-d)),o.style.cssText+="left: ".concat(y,"px; top: ").concat(_,"px"));var b=Math.max(0,p),w=Math.min(v,s),k=Math.max(0,g),x=Math.min(m,c),P=Math.round(w-b),C=Math.round(x-k),D=Math.abs(Math.min(0,y)),E=Math.abs(Math.min(0,_)),S=""+Date.now()+Br();return e.tasks={id:S,canvasDrawingLeft:D,canvasDrawingTop:E},e.getPageBitmap(n.getPDFDoc().getId(),n.getId(),a,e.pageRender.rotate,{x:b,y:k,width:P,height:C},S,W.dpr,D,E).then(e.displayImage.bind(e))}))}},{key:"displayImage",value:function(e){var t=e.imageData,n=e.id,i=e.canvasDrawingLeft,r=e.canvasDrawingTop,o=t.buffer,a=t.image,s=t.progressiveId,c=(t.x,t.y,t.width),u=t.height,l=t.rate;if(!t.isEmpty&&this.tasks){if(n==s){var A=this.canvas,d=A.getContext("2d");if(d.clearRect(0,0,this.canvas.width,this.canvas.height),a)return new Promise((function(e,t){try{var n=new Image;n.onload=function(){d.drawImage(n,0,0,c,u),URL.revokeObjectURL(n.src),e(A)},n.src=URL.createObjectURL(a)}catch(e){console.log(e)}}));var h=d.createImageData(c,u);return h.data.set(new(Uint8ClampedArray||Uint8Array)(o)),d.putImageData(h,i,r),100==l&&(this.tasks=null),A}}else this.tasks=null}},{key:"getPageBitmap",value:function(e,t,n,i,r,o,a,s,c){var u=this.pageRender,l=u.annotsRender.getHideAnnots()||[],A=["page","annot","form"];return l.length>0&&A.push("hideMarkup"),u.getPDFPage().then((function(u){return u.doc.api.getPageBitmap(e,t,n,i,r,A,"view",o,!1,{hotAnnot:0,hideAnnots:l,dpr:a}).then((function(d){var h=function(d){return d.rate<100?u.doc.api.continueProgress(d.progressiveId).then(h):d.buffer||d.image?{imageData:d,id:o,canvasDrawingLeft:s,canvasDrawingTop:c}:u.doc.api.getPageBitmap(e,t,n,i,r,A,"view",o,!1,{hotAnnot:0,hideAnnots:l,dpr:a}).then((function(e){return{imageData:e,id:o,canvasDrawingLeft:s,canvasDrawingTop:c}}))};return d.rate>=100?{imageData:d,id:o,canvasDrawingLeft:s,canvasDrawingTop:c}:h(d)}))}))}}]),e}(),no=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Center",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-45,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100;(0,C._)(this,e),this.position=t,this.offsetX=n,this.offsetY=i,this.scaleX=r,this.scaleY=o,this.rotation=a,this.opacity=s}return(0,D._)(e,[{key:"setPosition",value:function(e){this.position=e}},{key:"getPosition",value:function(){return this.position}},{key:"setOffsetX",value:function(e){this.offsetX=e}},{key:"getOffsetX",value:function(){return this.offsetX}},{key:"setOffsetY",value:function(e){this.offsetY=e}},{key:"getOffsetY",value:function(){return this.offsetY}},{key:"setScaleX",value:function(e){this.scaleX=e}},{key:"getScaleX",value:function(){return this.scaleX}},{key:"setScaleY",value:function(e){this.scaleY=e}},{key:"getScaleY",value:function(){return this.scaleY}},{key:"setRotation",value:function(e){this.rotation=e}},{key:"getRotation",value:function(){return this.rotation}},{key:"setOpacity",value:function(e){this.opacity=e}},{key:"getOpacity",value:function(){return this.opacity}}]),e}(),io=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Microsoft Yahei",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#000000",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"normal",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"center";(0,C._)(this,e),this.font=t,this.fontSize=n,this.color=i,this.fontStyle=r,this.lineSpace=o,this.alignment=a}return(0,D._)(e,[{key:"setFont",value:function(e){this.font=e}},{key:"getFont",value:function(){return this.font}},{key:"setFontSize",value:function(e){this.fontSize=e}},{key:"getFontSize",value:function(){return this.fontSize}},{key:"setColor",value:function(e){this.color=e}},{key:"getColor",value:function(){return this.color}},{key:"setFontStyle",value:function(e){this.fontStyle=e}},{key:"getFontStyle",value:function(){return this.fontStyle}},{key:"setLineSpace",value:function(e){this.lineSpace=e}},{key:"getLineSpace",value:function(){return this.lineSpace}},{key:"setAlignment",value:function(e){this.alignment=e}},{key:"getAlignment",value:function(){return this.alignment}}]),e}(),ro=function(){function e(t,n){(0,C._)(this,e),(0,z._)(this,"watermark",void 0),(0,z._)(this,"imageURL",void 0),(0,z._)(this,"imagePromise",void 0),(0,z._)(this,"image",void 0),(0,z._)(this,"originImageWidth",void 0),(0,z._)(this,"originImageHeight",void 0),this.watermark=t,this.imageURL=n,this.originImageWidth=0,this.originImageHeight=0,this.imagePromise=this.loadImage()}return(0,D._)(e,[{key:"ready",value:function(){var e=this;return this.imagePromise.then((function(t){return e.image=t,e.originImageWidth=t.width,e.originImageHeight=t.height,e}))}},{key:"render",value:function(e,t,n,i){if(!this.image)throw new Error("Image watermark renderer has not been ready!");var r=document.createElement("canvas");r.width=n,r.height=i;var o=this.watermark.watermarkSettings,a=o.getOffsetX(),s=o.getOffsetY(),c=o.getScaleX(),u=o.getScaleY(),l=r.getContext("2d"),A=this.watermark.smartScale;l.globalAlpha=o.opacity/100;var d=this.image;return d.width=this.originImageWidth*c*A,d.height=this.originImageHeight*u*A,l.translate(-e,-t),this.performTransformation(l,d),l.drawImage(d,-d.width/2+a,-d.height/2+s,d.width,d.height),r}},{key:"performTransformation",value:function(e,t){var n=this.watermark.watermarkSettings,i=n.getRotation(),r=function(e,t,n){var i,r,o=Math.sqrt(Math.pow(e/2,2)+Math.pow(t/2,2)),a=Math.asin(t/2/o)/(Math.PI/180),s=(n+360)%360;s>=270&&s<360||s>=90&&s<180?(i=n-a,r=a+n):(i=n+a,r=n-a);var c=o*Math.abs(Math.sin(i*Math.PI/180));return{x:o*Math.abs(Math.cos(r*Math.PI/180))-e/2,y:c-t/2}}(t.width,t.height,i),o=r.x,a=r.y,s=this.watermark.showWidth,c=this.watermark.showHeight;switch(n.getPosition()){case"TopLeft":u(o+t.width/2,a+t.height/2);break;case"TopCenter":u(s/2,a+t.height/2);break;case"TopRight":u(s-o-t.width/2,a+t.height/2);break;case"CenterLeft":u(o+t.width/2,c/2);break;case"Center":u(s/2,c/2);break;case"CenterRight":u(s-o-t.width/2,c/2);break;case"BottomLeft":u(o+t.width/2,c-a-t.height/2);break;case"BottomCenter":u(s/2,c-a-t.height/2);break;case"BottomRight":u(s-o-t.width/2,c-a-t.height/2)}function u(t,n){e.translate(t,n)}i%360!=0&&e.rotate(i*Math.PI/180)}},{key:"loadImage",value:function(){var e=this,t=document.createElement("img");return new Promise((function(n,i){t.onload=function(){n(t)},t.onerror=function(t){var n=new Error("Failed to load watermark image: ".concat(e.imageURL));n.originEvent=t,i(n)},t.src=e.imageURL}))}}]),e}();var oo=function(){function e(t,n){(0,C._)(this,e),(0,z._)(this,"watermark",void 0),(0,z._)(this,"text",void 0),(0,z._)(this,"allLines",void 0),this.watermark=t,this.text=n,this.allLines=n.split(/[\r\n]/)}return(0,D._)(e,[{key:"ready",value:function(){return Promise.resolve(this)}},{key:"render",value:function(e,t,n,i){var r=document.createElement("canvas");r.width=n,r.height=i;var o=this.watermark,a=o.smartScale,s=o.watermarkTextProperties,c=o.watermarkSettings,u=s.getFontSize()*a,l=s.getLineSpace()*a,A=s.getColor(),d=s.getFont(),h=r.getContext("2d");h.font="".concat(u,"px ").concat(d),h.fillStyle=A,h.lineWidth=1,h.strokeStyle=A,h.textBaseline="top",h.globalAlpha=c.getOpacity()/100;var f=this.allLines,p=f.length*u+(f.length-1)*l,v=this.resolveMaxWidth(h);return h.translate(-e,-t),this.performTransformation(h,v,p),this.renderText(h,v,p),r}},{key:"renderText",value:function(e,t,n){var i=this.allLines,r=this.watermark,o=r.smartScale,a=r.watermarkTextProperties,s=r.watermarkSettings,c=a.getFontSize()*o,u=a.getLineSpace()*o,l=a.getFontStyle(),A=a.getAlignment(),d=s.getOffsetX(),h=s.getOffsetY();c<12&&e.scale(c/12,c/12),i.forEach((function(i,r){var o,a,s=i.replace(/(^\s*)|(\s*$)/g,""),f=s.length*c,p=0,v=0;switch(A){case"left":e.textAlign="left",o=-f/2-(t-f)/2,a=f/2-(t-f)/2,p=-t/2,v=-n/2;break;case"right":e.textAlign="right",o=-f/2+(t-f)/2,a=f/2+(t-f)/2,p=t/2,v=-n/2;break;default:e.textAlign="center",o=-f/2,a=f/2,v=-n/2}e.fillText(s,p+d,v+r*(u+c)+h),"underline"===l&&(e.moveTo(o+d,-n/2+c+r*(c+u)+h),e.lineTo(a+d,-n/2+c+r*(c+u)+h),e.stroke())}))}},{key:"performTransformation",value:function(e,t,n){var i=this.watermark,r=i.showWidth,o=i.showHeight,a=i.watermarkSettings,s=a.getRotation(),c=function(e,t,n){var i,r,o=Math.sqrt(Math.pow(e/2,2)+Math.pow(t/2,2)),a=Math.asin(t/2/o)/(Math.PI/180),s=(n+360)%360;s>=270&&s<360||s>=90&&s<180?(i=n-a,r=a+n):(i=n+a,r=n-a);var c=o*Math.abs(Math.sin(i*Math.PI/180));return{x:o*Math.abs(Math.cos(r*Math.PI/180))-e/2,y:c-t/2}}(t,n,s),u=c.x,l=c.y;switch(a.getPosition()){case"TopLeft":A(u+t/2,l+n/2);break;case"TopCenter":A(r/2,l+n/2);break;case"TopRight":A(r-u-t/2,l+n/2);break;case"CenterLeft":A(u+t/2,o/2);break;case"Center":A(r/2,o/2);break;case"CenterRight":A(r-u-t/2,o/2);break;case"BottomLeft":A(u+t/2,o-l-n/2);break;case"BottomCenter":A(r/2,o-l-n/2);break;case"BottomRight":A(r-u-t/2,o-l-n/2)}function A(t,n){e.translate(t,n)}s%360!=0&&e.rotate(s*Math.PI/180)}},{key:"resolveMaxWidth",value:function(e){var t=this.text.split(/[\r\n]+/);return Math.max.apply(Math,t.map((function(t){return e.measureText(t).width})))}}]),e}();var ao=function(){function e(t){(0,C._)(this,e),(0,z._)(this,"watermark",void 0),this.watermark=t}return(0,D._)(e,[{key:"getColumnSpace",value:function(){var e=this.watermark,t=e.columnSpace,n=e.smartScale;return(0,G.F2)(t)*n}},{key:"getRowSpace",value:function(){var e=this.watermark,t=e.rowSpace,n=e.smartScale;return(0,G.F2)(t)*n}},{key:"getColor",value:function(){return this.watermark.watermarkTextProperties.getColor()}},{key:"resolveDimensions",value:function(e,t,n){return Math.ceil(e/(t+n))}}]),e}(),so=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r;return(0,C._)(this,n),r=t.call(this,e),(0,z._)((0,x._)(r),"watermark",void 0),(0,z._)((0,x._)(r),"text",void 0),(0,z._)((0,x._)(r),"allLines",void 0),r.watermark=e,r.text=i,r.allLines=i.split(/[\r\n]/),r}return(0,D._)(n,[{key:"ready",value:function(){return Promise.resolve(this)}},{key:"setupFontInfo",value:function(e){var t=this.watermark.watermarkTextProperties,n=this.getFontSize(),i=t.getColor(),r=this.getFont();e.font="".concat(Math.max(12,n),"px ").concat(r),e.fillStyle=i,e.lineWidth=1,e.strokeStyle=i,e.textBaseline="top"}},{key:"getFontSize",value:function(){var e=this.watermark,t=e.smartScale,n=e.watermarkTextProperties;return(0,G.F2)(n.getFontSize())*t}},{key:"getFont",value:function(){return this.watermark.watermarkTextProperties.getFont()}},{key:"getLineSpacePx",value:function(){var e=this.watermark.watermarkTextProperties;return(0,G.F2)(e.getLineSpace())}},{key:"resolveTextBlockRect",value:function(e){var t=this;return this.invoke(e,(function(e){var n,i=t.getLineSpacePx();t.setupFontInfo(e);var r=t.getFontSize(),o=r<12?r/12:1,a=t.allLines.map((function(t){var n=e.measureText(t);return{width:n.width*o,height:(n.actualBoundingBoxDescent-n.actualBoundingBoxAscent)*o}})),s=a.reduce((function(e,t){return e+t.height}),0)+i*(a.length-1),c=(n=Math).max.apply(n,(0,M._)(a.map((function(e){return e.width}))));return{width:c,height:s,sizes:a,fontScale:o}}))}},{key:"invoke",value:function(e,t){var n=!1;try{e.save();var i=t(e);return"function"==typeof i.then&&"function"==typeof i.finally&&(n=!0,i.finally((function(){e.restore()}))),i}finally{n||e.restore()}}}]),n}(ao);function co(e,t,n){var i,r,o,a,s=e/2,c=t/2,u=[{x:-s,y:-c},{x:s,y:-c},{x:-s,y:c},{x:s,y:c}].map((function(e){return{x:e.x*Math.cos(n)-e.y*Math.sin(n),y:e.x*Math.sin(n)+e.y*Math.cos(n)}})),l=e/((i=Math).max.apply(i,(0,M._)(u.map((function(e){return e.x}))))-(r=Math).min.apply(r,(0,M._)(u.map((function(e){return e.x}))))),A=t/((o=Math).max.apply(o,(0,M._)(u.map((function(e){return e.y}))))-(a=Math).min.apply(a,(0,M._)(u.map((function(e){return e.y})))));return Math.min(l,A)}var uo=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"render",value:function(e,t,n,i){var r=document.createElement("canvas");r.width=n,r.height=i;var o=r.getContext("2d");if(!o)throw new Error("An unknown error has occurred and the view watermark cannot be rendered!");var a=this.resolveTextBlockRect(o),s=this.watermark,c=(s.smartScale,s.showWidth),u=s.showHeight,l=s.watermarkSettings,A=l.opacity,d=l.rotation,h=l.scaleX,f=l.scaleY;this.setupFontInfo(o);var p=(d+360)%360/180*Math.PI,v=co(c,u,p),g=.5*c-e,m=.5*u-t;o.globalAlpha=A/100,o.translate(g,m),o.scale(v,v),o.rotate(-p),o.translate(-g,-m);for(var y=this.getColumnSpace(),_=this.getRowSpace(),b=a.width*h*a.fontScale,w=a.height*f*a.fontScale,k=this.resolveDimensions(c,b,y),x=this.resolveDimensions(u,w,_),P={left:e,top:t,right:e+n,bottom:t+i},C=0;C<=k;C++)for(var D=C*b+y*C,E=0;E<=x;E++){var S=E*w+_*E;this.renderText(D,S,a,P,o,C,E)}return r}},{key:"renderText",value:function(e,t,n,i,r,o,a){var s=t,c=this.watermark,u=c.watermarkTextProperties,l=u.fontStyle,A=u.color,d=u.alignment,h=c.smartScale,f=c.watermarkSettings,p=f.scaleX,v=f.scaleY,g=n.sizes,m=n.fontScale,y=this.getLineSpacePx()*v*h,_="underline"===l,b=this.allLines.map((function(e,t){return g[t].width*p*m})),w=n.width*p*m;this.allLines.some((function(t,n){var i=g[n],o=i.width,a=i.height,c=o*p*m,u=a*v*m,l=function(e){switch(d){case"right":return w-b[e];case"center":return.5*(w-b[e])}return 0}(n);if(r.save(),r.scale(m,m),r.fillText(t,(e+l)/m,s/m),r.restore(),_){r.save(),r.imageSmoothingEnabled=!0,r.lineWidth=Math.floor(1*h),r.strokeStyle=A;var f=s+u;r.moveTo(e+l,f),r.lineTo(e+l+c,f),r.stroke(),r.restore()}return s+=u+y,!1}))}}]),n}(so),lo=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r;return(0,C._)(this,n),r=t.call(this,e),(0,z._)((0,x._)(r),"watermark",void 0),(0,z._)((0,x._)(r),"imageURL",void 0),(0,z._)((0,x._)(r),"imagePromise",void 0),(0,z._)((0,x._)(r),"image",void 0),(0,z._)((0,x._)(r),"originImageWidth",void 0),(0,z._)((0,x._)(r),"originImageHeight",void 0),r.watermark=e,r.imageURL=i,r.originImageWidth=0,r.originImageHeight=0,r.imagePromise=r.loadImage(),r}return(0,D._)(n,[{key:"ready",value:function(){var e=this;return this.imagePromise.then((function(t){return e.image=t,e.originImageWidth=t.width,e.originImageHeight=t.height,e}))}},{key:"render",value:function(e,t,n,i){if(!this.image)throw new Error("Image watermark renderer has not been ready!");var r=document.createElement("canvas");r.width=n,r.height=i;var o=r.getContext("2d");if(!o)throw new Error("An unknown error has occurred and the view watermark cannot be rendered!");var a=this.watermark,s=a.smartScale,c=a.showWidth,u=a.showHeight,l=a.watermarkSettings,A=l.opacity,d=l.rotation,h=l.scaleX,f=l.scaleY,p=(d+360)%360/180*Math.PI,v=co(c,u,p),g=.5*c-e,m=.5*u-t;o.globalAlpha=A/100,o.translate(g,m),o.scale(v,v),o.rotate(-p),o.translate(-g-e,-m-t);var y=this.getColumnSpace(),_=this.getRowSpace(),b=this.originImageWidth*h*s,w=this.originImageHeight*f*s;this.image.width=b,this.image.height=w;for(var k=this.resolveDimensions(c,b,y),x=this.resolveDimensions(u,w,_),P=0;P<=k;P++)for(var C=P*b+y*P,D=0;D<=x;D++){var E=D*w+_*D;o.drawImage(this.image,C,E,b,w)}return r}},{key:"loadImage",value:function(){var e=this,t=document.createElement("img");return new Promise((function(n,i){t.onload=function(){n(t)},t.onerror=function(t){var n=new Error("Failed to load watermark image: ".concat(e.imageURL));n.originEvent=t,i(n)},0===e.imageURL.indexOf("blob")||0===e.imageURL.indexOf("data")?t.src=e.imageURL:function(e){if(Ao.has(e))return Ao.get(e);var t=fetch(e).then((function(e){return e.blob()})).then((function(e){return URL.createObjectURL(e)}));return Ao.set(e,t),t}(e.imageURL).then((function(e){t.src=e}))}))}}]),n}(ao),Ao=new Map;var ho=function(){function e(t,n,i,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=o.isMultiline,s=void 0!==a&&a,c=o.rowSpace,u=void 0===c?0:c,l=o.columnSpace,A=void 0===l?0:l,d=o.watermarkSettings,h=void 0===d?{position:"Center",offsetX:0,offsetY:0,scaleX:1,scaleY:1,rotation:-45,opacity:100}:d,f=o.watermarkTextProperties,p=void 0===f?{font:"Microsoft Yahei",fontSize:20,color:"#000000",fontStyle:"normal",lineSpace:10,alignment:"center"}:f;(0,C._)(this,e),this.isMultiline=s,this.rowSpace=u,this.columnSpace=A,this.showWidth=t,this.showHeight=n,this.tileSize=i,this.smartScale=r;var v=h.position,g=h.offsetX,m=h.offsetY,y=h.scaleX,_=h.scaleY,b=h.rotation,w=h.opacity,k=p.font,x=p.fontSize,P=p.color,D=p.fontStyle,E=p.lineSpace,S=p.alignment;this.watermarkSettings=new no(v,g,m,y,_,b,w),this.watermarkTextProperties=new io(k,x,P,D,E,S)}return(0,D._)(e,[{key:"exportDataURL",value:function(e){var t=e.content,n=e.type,i=function(e){return e.toDataURL()};return"text"===n?this.createTextWatermark(t).then(i):"image"===n?this.createImageWatermark(t).then(i):void 0}},{key:"getWatermarkRenderer",value:function(e){var t=e.content;switch(e.type){case"text":return this.isMultiline?new uo(this,t).ready():new oo(this,t).ready();case"image":return this.isMultiline?new lo(this,t).ready():new ro(this,t).ready()}}},{key:"createImageWatermark",value:function(e){var t=this,n=(0,W.createDeferred)(),i=document.createElement("canvas");i.width=this.showWidth,i.height=this.showHeight;var r=i.getContext("2d"),o=i.getContext("2d"),a=new Image;a.src=e;var s=this.watermarkSettings,c=s.getOffsetX(),u=s.getOffsetY(),l=s.getScaleX(),A=s.getScaleY(),d=s.getRotation(),h=this.showWidth,f=this.showHeight;return a.onload=function(){a.width=a.width*l*t.smartScale,a.height=a.height*A*t.smartScale,fo(r,s.getOpacity()),r.save();var e=po(a.width,a.height,d),p=e.x,v=e.y;switch(s.getPosition()){case"TopLeft":o.translate(p+a.width/2,v+a.height/2);break;case"TopCenter":o.translate(h/2,v+a.height/2);break;case"TopRight":o.translate(h-p-a.width/2,v+a.height/2);break;case"CenterLeft":o.translate(p+a.width/2,f/2);break;case"Center":o.translate(h/2,f/2);break;case"CenterRight":o.translate(h-p-a.width/2,f/2);break;case"BottomLeft":o.translate(p+a.width/2,f-v-a.height/2);break;case"BottomCenter":o.translate(h/2,f-v-a.height/2);break;case"BottomRight":o.translate(h-p-a.width/2,f-v-a.height/2)}d%360!=0&&o.rotate(d*Math.PI/180),o.drawImage(a,-a.width/2+c,-a.height/2+u,a.width,a.height),r.restore(),n.resolve(i)},a.onerror=function(e){var t=new Error("Failed to load image");t.originEvent=e,n.reject(t)},a.oncancel=function(e){var t=new Error("Load image has been cancelled");t.originEvent=e,n.reject(t)},n.promise}},{key:"createTextWatermark",value:function(e){var t=(0,W.createDeferred)(),n=document.createElement("canvas");n.width=this.showWidth,n.height=this.showHeight;var i=e.split("\n"),r=n.getContext("2d"),o=n.getContext("2d"),a=this.showWidth,s=this.showHeight,c=this.watermarkTextProperties,u=c.getFontSize()*this.smartScale,l=c.getLineSpace()*this.smartScale,A=c.getFontStyle(),d=c.getColor(),h=c.getAlignment(),f=c.getFont();o.font=u+"px "+f,o.fillStyle=d;var p=this.watermarkSettings,v=p.getOffsetX(),g=p.getOffsetY(),m=(p.getScaleX(),p.getScaleY(),p.getRotation()),y=0,_=i.length,b=_*u+(_-1)*l;i.map((function(e){var t=e.replace(/\s+/g,"");y=Math.max(t.length*u,y)})),o.lineWidth=1,o.strokeStyle=d,r.textBaseline="top",fo(r,p.getOpacity());var w=po(y,b,m),k=w.x,x=w.y;switch(p.getPosition()){case"TopLeft":o.translate(k+y/2,x+b/2);break;case"TopCenter":o.translate(a/2,x+b/2);break;case"TopRight":o.translate(a-k-y/2,x+b/2);break;case"CenterLeft":o.translate(k+y/2,s/2);break;case"Center":o.translate(a/2,s/2);break;case"CenterRight":o.translate(a-k-y/2,s/2);break;case"BottomLeft":o.translate(k+y/2,s-x-b/2);break;case"BottomCenter":o.translate(a/2,s-x-b/2);break;case"BottomRight":o.translate(a-k-y/2,s-x-b/2)}return o.rotate(m*Math.PI/180),u<12&&o.scale(u/12,u/12),i.map((function(e,t){var n,i,a=e.replace(/(^\s*)|(\s*$)/g,""),s=a.length*u,c=0,d=0;switch(h){case"left":r.textAlign="left",n=-s/2-(y-s)/2,i=s/2-(y-s)/2,c=-y/2,d=-b/2;break;case"right":r.textAlign="right",n=-s/2+(y-s)/2,i=s/2+(y-s)/2,c=y/2,d=-b/2;break;default:r.textAlign="center",n=-s/2,i=s/2,d=-b/2}o.fillText(a,c+v,d+t*(l+u)+g),"underline"===A&&(o.moveTo(n,-b/2+u+t*(u+l)),o.lineTo(i,-b/2+u+t*(u+l)),o.stroke())})),t.resolve(n),t.promise}},{key:"getWatermarkSettings",value:function(){return this.watermarkSettings}},{key:"getWatermarkTextProperties",value:function(){return this.watermarkTextProperties}},{key:"getHeight",value:function(){return this.showHeight}},{key:"getWidth",value:function(){return this.showWidth}}]),e}();function fo(e,t){e.globalAlpha=t/100}function po(e,t,n){var i,r,o=Math.sqrt(Math.pow(e/2,2)+Math.pow(t/2,2)),a=Math.asin(t/2/o)/(Math.PI/180),s=(n+360)%360;s>=270&&s<360||s>=90&&s<180?(i=n-a,r=a+n):(i=n+a,r=n-a);var c=o*Math.abs(Math.sin(i*Math.PI/180));return{x:o*Math.abs(Math.cos(r*Math.PI/180))-e/2,y:c-t/2}}var vo=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),(o=t.call(this,r)).name="customsRender",o.$ui=e,o.customs=i,o.customRenders={},o}return(0,D._)(n,[{key:"render",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.scale=e,this.rotate=t;var n=this.customs;this.adjustCustomsRenderInit(n);var i=this.pdfViewer.customRenderManager,r=this.customRenders;return Promise.all(n.map((function(n){return r[i.getCustomDataId(n)].render(e,t)})))}},{key:"activeCustom",value:function(e){var t=this.customRenders[this.customManager.getCustomDataId(e)];return t?(this.currentActiveCustomRender=t,t.render(this.scale,this.rotate)):Promise.reject(new Error("Custom render not found!"))}},{key:"unActiveCustoms",value:function(){var e=this.currentActiveCustomRender;if(e)return e.unActive()}},{key:"adjustCustomsRenderInit",value:function(e){var t=this,n=this.pdfViewer.customRenderManager,i=this.customRenders,r=document.createDocumentFragment();e.filter((function(e){return!i[n.getCustomDataId(e)]})).map((function(e){var o=document.createElement("div"),a=document.createElement("div");r.appendChild(o),r.appendChild(a),i[n.getCustomDataId(e)]=new(n.get(e))(o,a,e,t)})).length&&this.$ui.append(r)}},{key:"addCustomRenders",value:function(e){this.adjustCustomsRenderInit(e);var t=this.pdfViewer.customRenderManager,n=this.customRenders,i=this.scale,r=this.rotate;return Promise.all(e.map((function(e){return n[t.getCustomDataId(e)].render(i,r)})))}},{key:"removeCustomRenders",value:function(e){var t={},n=this.pdfViewer.customRenderManager,i=this.customRenders;e.map((function(e){var r=n.getCustomDataId(e);t[r]=1,delete i[r]}));for(var r=this.customs,o=r.length;o--;)t[n.getCustomDataId(r[o])]&&r.splice(o,1)}},{key:"destroy",value:function(){(0,E._)((0,S._)(n.prototype),"destroy",this).call(this);var e=this.customRenders;for(var t in e){var i=e[t];i&&i.destroy()}this.customRenders=null}},{key:"updateCustomRenders",value:function(e){for(var t=this,n={},i=this.pdfViewer.customRenderManager,r=this.customRenders,o=e.map((function(e){var t=i.getCustomDataId(e);return n[t]=e,r[t]})),a=this.customs,s=a.length;s--;){var c=i.getCustomDataId(a[s]);n[c]&&(a[s]=n[c])}return Promise.all(o.map((function(e){return e&&e.render(t.scale,t.rotate)})))}}]),n}(Q),go=function(){function e(t,n,i){(0,C._)(this,e),this.pageRender=t,this.pdfDoc=t.getPDFDoc(),this.pdfArticle=this.pdfDoc.pdfArticle,this.pdfPage=t.page,this.pdfViewer=t.pdfViewer,this.$container=t.$customsContainer,this.articleInfo=n,this.articleBeadInfo=i,this.$dom=null,this.render()}return(0,D._)(e,[{key:"render",value:function(){this.createDom()}},{key:"updateRender",value:function(e,t){e&&(this.articleInfo=e),t&&(this.articleBeadInfo=t);var n=this.getDeviceRect(),i=n.left,r=n.top,o=n.right-i,a=n.bottom-r;this.$dom.css({width:o+"px",height:a+"px",top:r+"px",left:i+"px"})}},{key:"read",value:function(){var e=this,t="fv__article-read";this.$dom.addClass(t),setTimeout((function(){e.$dom.removeClass(t)}),500);var n=this.articleBeadInfo,i=n.rect,r=n.pageIndex,o=this.pdfViewer;return o.zoomTo(2).then((function(){return o.goToPage(r,i.top,i.left)}))}},{key:"getDeviceRect",value:function(){var e=this.articleBeadInfo.rect,t=this.pageRender,n=t.getScale(),i=t.getRotation();return this.pdfPage.getDeviceRect(e,n,i)}},{key:"createDom",value:function(){var e=this.getDeviceRect(),t=e.left,n=e.top,i=e.right,r=e.bottom;this.$dom=j()('<div style="position:absolute;width:'+(i-t)+"px;height:"+(r-n)+"px;left:"+t+"px;top:"+n+'px;z-index:26;"></div>'),this.$container.append(this.$dom)}},{key:"destroy",value:function(){this.articleBeadInfo=null,this.$dom.remove(),this.$dom=null,this.pdfDoc=null,this.pdfArticle=null}}]),e}();const mo=go;const yo={PageOpened:0,PageClosed:1,DocWillClose:2,DocWillSave:3,DocSaved:4,DocWillPrint:5,DocPrinted:6,FieldKeyStroke:7,FieldWillFormat:8,FieldValueChanged:9,FieldRecalculateValue:10,AnnotCursorEnter:11,AnnotCursorExit:12,AnnotMouseButtonPressed:13,AnnotMouseButtonReleased:14,AnnotReceiveInputFocus:15,AnnotLoseInputFocus:16,AnnotPageOpened:17,AnnotPageClosed:18,AnnotPageVisible:19,AnnotPageInvisible:20};var _o=n(6729),bo=n.n(_o),wo=n(6557),ko=(n(2868),function(){function e(t){if((0,C._)(this,e),(0,T._)(t,Node))this.node=t;else switch(t){case e.TEXT_NODE:this.node=document.createTextNode();break;case e.FRAGMENT_NODE:this.node=document.createDocumentFragment();break;case e.COMMENT_NODE:this.node=document.createComment();break;default:this.node=document.createElement(t)}}return(0,D._)(e,[{key:"append",value:function(e){if(!(0,T._)(this.node,HTMLElement))throw new TypeError("Unsupported operation: "+this.node);this.node.appendChild(e.node)}},{key:"prepend",value:function(e){this.insertAt(0,e)}},{key:"insertAt",value:function(e,t){if(!(0,T._)(this.node,HTMLElement))throw new TypeError("Unsupported operation: "+this.node);var n=this.node.children,i=n.length;switch(e=Math.max(0,Math.min(i,e))){case 0:0===i?this.node.appendChild(t.node):this.node.insertBefore(t.node,this.node.firstElementChild);break;case i:this.node.appendChild(t.node);break;default:this.node.insertBefore(t.node,n.item(e))}}},{key:"insertBefore",value:function(e){if(!e.node.parentElement)throw new Error('The "next" element has not been inserted into other element');var t=e.index();e.parent().insertAt(t,this)}},{key:"insertAfter",value:function(e){if(!e.node.parentElement)throw new Error('The "previous" element has not been inserted into other element');var t=e.index();e.parent().insertAt(t+1,this)}},{key:"index",value:function(){var e=-1;if(this.node.parentElement)for(var t=this.node.parentElement.firstElementChild;t;){if(e++,t===this.node)return e;t=t.nextSibling}return e}},{key:"parent",value:function(){var t=this.node.parentElement;if(t)return new e(t)}},{key:"remove",value:function(){this.node.parentElement&&this.node.parentElement.removeChild(this.node)}}],[{key:"TEXT_NODE",get:function(){return"$text"}},{key:"FRAGMENT_NODE",get:function(){return"$fragment"}},{key:"COMMENT_NODE",get:function(){return"$fragment"}}]),e}()),xo=function(){function e(t,n){(0,C._)(this,e),this.parentElement=new ko(t),this.elements=n.map((function(e){return new ko(e)})),this.mounted=this.elements.map((function(e){return!1}))}return(0,D._)(e,[{key:"replaceElement",value:function(e,t){var n=this.indexOf(e),i=this.mounted[n];i&&this.unmount(n),this.elements[n]=new ko(t),i&&this.mount(n)}},{key:"indexOf",value:function(e){for(var t=0,n=this.elements.length;t<n;t++)if(this.elements[t].node===e)return t;return-1}},{key:"mount",value:function(e){if("number"!=typeof e&&-1===(e=this.indexOf(e)))throw new TypeError("Cannot mount this element: "+e);if(!(e<0||e>=this.elements.length||this.mounted[e])){for(var t=this.elements[e],n=e-1;n>=0;n--){if(this.mounted[n])return t.insertAfter(this.elements[n]),void(this.mounted[e]=!0)}for(var i=this.elements.length,r=e+1;r<i;r++){if(this.mounted[r])return t.insertBefore(this.elements[r]),void(this.mounted[e]=!0)}this.parentElement.append(t),this.mounted[e]=!0}}},{key:"unmount",value:function(e){if("number"==typeof e){if(e<0||e>=this.elements.length)return}else e=this.elements.findIndex((function(t){return t.node===e}));var t=this.elements[e];this.mounted[e]=!1,t&&t.remove()}}]),e}(),Po=n(8902),Co=function(){function e(){(0,C._)(this,e),(0,z._)(this,"listeners",[])}return(0,D._)(e,[{key:"serviceInjected",value:function(){var e=this;document.addEventListener("mousemove",(function(t){var n=t.clientX,i=t.clientY,r=document.elementFromPoint(n,i);r&&e.listeners.slice(0).forEach((function(e){(function(e,t){var n=t;for(;n;){if(n===e)return!0;n=n.parentElement}return!1})(e.anchor,r)||(e.callback(),e.remove())}))}))}},{key:"onMouseleave",value:function(e,t){var n=this.listeners,i={anchor:e,callback:t,remove:r};return n.push(i),r.bind(i);function r(){var e=n.indexOf(this);e>-1&&n.splice(e,1)}}}],[{key:"scope",value:function(){return Po.U.SHARED_SINGLETON}}]),e}();var Do,Eo=n(510),So=((Do=document.createElement("div")).className="fv__ui-tooltip-arrow",Do.innerHTML='<span class="fv__ui-tooltip-arrow-content"></span>',Do),Io=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"init",value:function(e){(0,E._)((0,S._)(n.prototype),"init",this).call(this,e);var t=this.node,i=this.directiveOption;this.delay=i.delay||parseInt(t.getAttribute("tooltip-delay"))||500,this.duration=i.duration||parseInt(t.getAttribute("tooltip-duration"))||1/0,this.anchorSelector=i.enchor||t.getAttribute("tooltip-anchor"),this.placement=i.placement||t.getAttribute("tooltip-placement")||"bottom",this.containerClass=i.containerClass||t.getAttribute("tooltip-class")||""}},{key:"getTitle",value:function(){return this.directiveOption.title||this.component.getAttribute("tooltip-title")}},{key:"getDescription",value:function(){return this.directiveOption.desc||this.component.getAttribute("tooltip-description")}},{key:"getCustomHtml",value:function(){return this.directiveOption.customHtml||this.component.getAttribute("tooltip-customHtml")}},{key:"getParkState",value:function(){return this.directiveOption.parkState}},{key:"renderTitle",value:function(){var e=this.getTitle(),t=this.titleElement;e?(t.setAttribute("data-i18n",e),this.orderedElement.mount(0)):(t.setAttribute("data-i18n",""),this.orderedElement.unmount(0))}},{key:"renderDescription",value:function(){var e=this.getDescription(),t=this.descElement;e?(t.setAttribute("data-i18n",e),this.orderedElement.mount(1)):(t.setAttribute("data-i18n",""),this.orderedElement.unmount(1))}},{key:"renderCustomHtml",value:function(){var e=this.getCustomHtml(),t=this.customHtmlElement;e?(t.innerHTML=e,this.directiveOption.customHtmlClick&&t.addEventListener("click",this.directiveOption.customHtmlClick),this.orderedElement.mount(2)):(t.innerHTML="",this.directiveOption.customHtmlClick&&t.removeEventListener("click",this.directiveOption.customHtmlClick),this.orderedElement.unmount(2))}},{key:"afterComponentRender",value:function(){var e=this.component,t=document.createElement("dl");this.tipElement=t;var n=So.cloneNode(!0),i=this.titleElement=document.createElement("dt");i.className="fv__ui-directive-tooltip-title";var r=this.descElement=document.createElement("dd");r.className="fv__ui-directive-tooltip-desc";var o,a=this.customHtmlElement=document.createElement("dd");(a.className="fv__ui-directive-tooltip-custom-html",this.orderedElement=new xo(t,[i,r,a,n]),this.orderedElement.mount(3),t.classList.add("fv__ui-directive-tooltip-tip","fv__ui-tooltip-placement-"+this.placement),this.containerClass)&&(o=t.classList).add.apply(o,(0,M._)(this.containerClass.split(" ")));if(this.renderTitle(),this.renderDescription(),this.renderCustomHtml(),this.anchorSelector)try{var s=this.controller.compileCode(this.anchorSelector)({component:e});s&&(Array.isArray(s)?this.anchors=s:(0,T._)(s,Element)&&(this.anchors=[s]))}catch(t){this.anchors=e.element.querySelectorAll(this.anchorSelector)}this.anchors&&0!==this.anchors.length||(this.anchors=[e.getTooltipAnchor()]),this.localizer.localizeRecursive(t)}},{key:"showTip",value:function(e){var t=this,n=this.tipElement;this.renderTitle(),this.renderDescription(),this.renderCustomHtml(),this.localizer.localizeRecursive(n).then((function(){t.hideTipIfAnchorIsHidden(e),document.body.appendChild(n),t.tipElement.style.cssText="";var i=e.getBoundingClientRect(),r=n.getBoundingClientRect();switch(t.placement){case"top":n.style="\n                        top: ".concat(i.top-r.height-8,"px;\n                        left: ").concat(Math.min(i.left,Math.max(0,i.left-r.width/2+i.width/2)),"px;\n                    ");break;case"bottom":n.style.cssText="\n                        top: ".concat(i.bottom+8,"px;\n                        left: ").concat(Math.min(i.left,Math.max(0,i.left-r.width/2+i.width/2)),"px;\n                    ");break;case"right":n.style.cssText="\n                        left: ".concat(i.right+8,"px;\n                        top: ").concat(i.top+i.height/2-r.height/2,"px;\n                    ");break;case"left":n.style.cssText="\n                        left: ".concat(i.left-r.width-8,"px;\n                        top: ").concat(i.top+i.height/2-r.height/2,"px;\n                    ")}}))}},{key:"hideTip",value:function(){this.tipElement.remove(),this.stopCheckAnchor()}},{key:"hideTipIfAnchorIsHidden",value:function(e){var t=this;this.stopCheckAnchor(),this.anchorVisibilityCheckingTimmerId=setInterval((function(){0===e.getClientRects().length&&t.hideTip()}),100)}},{key:"stopCheckAnchor",value:function(){void 0!==this.anchorVisibilityCheckingTimmerId&&(clearInterval(this.anchorVisibilityCheckingTimmerId),this.anchorVisibilityCheckingTimmerId=void 0)}},{key:"componentMounted",value:function(){var e=this;if(!W.isMobile&&!W.isTablet){var t,n,i=null,r=0,o=function(){clearTimeout(i),i=setTimeout((function(){0===r&&e.hideTip()}),312)},a=function(){t&&clearTimeout(t),t=void 0,n&&clearTimeout(n),n=void 0,e.getParkState()&&(e.tipElement.addEventListener("mouseover",(function(){r=1})),e.tipElement.addEventListener("mouseout",(function(){r=0,o()}))),o()};if(this.anchors.forEach((function(i){var r=function(r){if(window.onlineGlobals&&window.onlineGlobals.showAllTooltip||!e.component.disabled){var o=r.clientX,s=r.clientY,c=i.getBoundingClientRect();if(!(o<c.left||o>c.right||s<c.top||s>c.bottom)){clearTimeout(t),t=setTimeout((function(){0!==i.getClientRects().length&&(e.showTip(i),isFinite(e.duration)&&(n=setTimeout((function(){e.hideTip()}),e.duration)))}),e.delay);var u=e.addDestroyHook(e.service.onMouseleave(i,(function(){a(),u()})))}}};i.addEventListener("mouseover",r),i.addEventListener("mouseout",a),e.addDestroyHook((function(){i.removeEventListener("mouseover",r),i.removeEventListener("mouseout",a)}))})),this.addDestroyHook((function(){a(),e.stopCheckAnchor()}),this.component.on(Eo.qo.HIDDEN,(function(){a()})),this.component.on(Eo.qo.DISABLE,(function(){a()}))),"ribbon-button"===this.component.nodeName&&"function"==typeof this.component.getDropdown){var s=this.component.getDropdown();s&&this.addDestroyHook(s.on(Eo.qo.ACTIVE,(function(){a(),e.hideTip()})))}}}}],[{key:"getName",value:function(){return"tooltip"}},{key:"services",value:function(){return{service:Co}}}]),n}(wo.X),To=n(1727),Ro=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"receive",value:function(e,t,n){(0,W.notImplemented)()}},{key:"lost",value:function(e){}}]),e}(),Mo=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r;return(0,C._)(this,n),(r=t.call(this)).component=e,r.attrName=i,r}return(0,D._)(n,[{key:"receive",value:function(e,t){this.component.setAttribute(this.attrName,e)}}]),n}(Ro),Fo=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this)).component=e,i}return(0,D._)(n,[{key:"receive",value:function(e){this.component.setText(e)}}]),n}(Ro),No=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this)).component=e,i.supported="function"==typeof e.setValue,i}return(0,D._)(n,[{key:"receive",value:function(e){this.supported&&this.component.setValue(e)}}]),n}(Ro),Lo=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r;return(0,C._)(this,n),(r=t.call(this)).target=e,r.propName=i,r.setterMethodName="set"+i.replace(/(^\-?.)|(\-.)/g,(function(e){return(e=2===e.length?e[1]:e).toUpperCase()})),r}return(0,D._)(n,[{key:"receive",value:function(e){var t=this.target[this.setterMethodName];"function"==typeof t?t.call(this.target,e):this.target[this.propName]=e}}]),n}(Ro),Oo=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r;return(0,C._)(this,n),(r=t.call(this)).component=e,r.type=i,r}return(0,D._)(n,[{key:"receive",value:function(e){switch(this.type){case"disable":e?this.component.disable():this.component.enable();break;case"visible":e?this.component.show():this.component.hide();break;case"active":e?this.component.active():this.component.deactive()}}}]),n}(Ro),jo=W.LoggerFactory.getLogger("directive/bind"),Bo=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"componentPrelink",value:function(){var e;if(this.subName.match(/^attr\..+/)){var t=this.subName.replace("attr.","");e=new Mo(this.component,t)}else switch(this.subName){case"text":e=new Fo(this.component);break;case"value":e=new No(this.component);break;case"html":jo.error("unsurpported bind type: ".concat(this.subName));break;case"disable":case"visible":case"active":e=new Oo(this.component,this.subName);break;default:e=new Lo(this.component,this.subName)}this.controller.getDataSource(this.attrValue).connect(e)}}],[{key:"getName",value:function(){return"bind"}}]),n}(wo.X),Vo=function e(t,n,i,r){(0,C._)(this,e),(0,z._)(this,"type",void 0),(0,z._)(this,"target",void 0),(0,z._)(this,"listener",void 0),(0,z._)(this,"options",void 0),this.type=t,this.target=n,this.listener=i,this.options=r},Uo=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;return(0,C._)(this,n),e=t.apply(this,arguments),(0,z._)((0,x._)(e),"entries",{}),e}return(0,D._)(n,[{key:"allInjected",value:function(){var e=this;this.addDestroyHook((function(){e.entries={}}))}},{key:"delegate",value:function(e,t,n,i){var r=this,o=new Vo(t,e,n,i),a=this.entries[t];return a||(a=this.attachEvent(t),this.entries[t]=a),a.push(o),function(){r.remove(o)}}},{key:"attachEvent",value:function(e){var t=[],n=this,i=function(e){var i=this;(0,T._)(e.target,Node)&&t.filter((function(t){return t.target.contains(e.target)})).forEach((function(t){var r;(null===(r=t.options)||void 0===r?void 0:r.once)&&n.remove(t),t.listener.call(i,e)}))};return document.body.addEventListener(e,i,!0),this.addDestroyHook((function(){document.body.removeEventListener(e,i,!0)})),t}},{key:"remove",value:function(e){var t=this.entries[e.type];if(t){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}}]),n}(W.Disposable),Ho=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"init",value:function(e){(0,E._)((0,S._)(n.prototype),"init",this).call(this,e);var t,i=e.controller,r=this.modifiers.native,o=this.modifiers.delegate,a=this.modifiers.indigestion,s=this.modifiers.once,c=Object.keys(this.modifiers).filter((function(e){return"native"!==e&&"once"!==e&&"delegate"!==e}))[0];if(!c)throw new Error("Missing event type of directive: ".concat(this.toString()));if(this.eventName=c,/^\s*\w+(\.\w+)*\s*$/.test(this.attrValue)){this.attrValue=this.attrValue.trim();var u=function(e,t){for(var n=t.split("."),i=0;i<n.length;i++)if(null==(e=e[n[i]]))return e;return e},l=u(i,this.attrValue)||u(i.data,this.attrValue)||u(i.methods,this.attrValue);if(!l)throw new Error("event handler not found: ".concat(this.attrValue," ,component: <").concat(e.nodeName,">"));t=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.apply(i,t)}}else{var A=i.compileCode(this.attrValue);t=r?function(e){A.call(null,{$event:e})}:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];A.call(null,{$args:t})}}if(a||(t=W.Aspect.on(t).after((function(){i.digest()})).extract()),r)if("contextmenu"===c)this.addDestroyHook((0,W.attachContextMenuEvent)(e.element,t));else o?this.addDestroyHook(this.delegateEventService.delegate(e.element,c,t,{once:s})):(e.element.addEventListener(c,t),this.addDestroyHook((function(){return e.element.removeEventListener(c,t)})));else this.addDestroyHook(e.on(c,t))}}],[{key:"getName",value:function(){return"on"}},{key:"inject",value:function(){return{delegateEventService:Uo}}}]),n}(wo.X),zo=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this,e)).order=1/0,i}return(0,D._)(n,[{key:"init",value:function(e){(0,E._)((0,S._)(n.prototype),"init",this).call(this,e),this.order=1/0;var t=e.controller;Object.hasOwnProperty.call(t,"$$watches")||(t.$$watches=[]),this.modifiers.strict&&(Wo(t.data,Object.prototype),Wo(t.methods,Object.prototype),t.data.$parent=null)}}],[{key:"getName",value:function(){return"isolate"}}]),n}(wo.X);function Wo(e,t){return null==t&&(t=Object.prototype),Object.setPrototypeOf?(Object.setPrototypeOf(e,t),e):Object.create(t,Object.getOwnPropertyDescriptors(e))}n(8600);var Go=n(325),Yo=n(5923),$o=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i,r=e.text;return(0,C._)(this,n),(i=t.call(this,{namespace:Eo.Fc,type:Go.C.NODE_TYPE_TEXT,text:r})).$$options.text=r,i}return(0,D._)(n,[{key:"clone",value:function(){var e=new n(this.$$options);return e.setComponentOptions(this.componentOptions),e}}]),n}(Go.C),Jo=W.LoggerFactory.getLogger("senior-node");function qo(e){var t={};return Array.isArray(e.config)?t.config=[]:e.config&&(t.config={}),(0,W.extendOptions)(!0,t,e)}var Ko=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.namespace,o=void 0===r?Eo.Fc:r,a=i.nodeName,s=i.attrs,c=i.text,u=i.template,l=i.fragment;return(0,C._)(this,n),(e=t.call(this,{namespace:o,type:Go.C.NODE_TYPE_FRAGMENT,nodeName:a,attrs:Object.assign(s,(0,z._)({},n.NEST_NAME_ATTR,l.nestName)),template:u,text:c})).$$options.fragment=l,e.fragmentModule=l.module,e.nestName=l.nestName,e.fragmentType=l.nestType,e.isSenior=!0,e.fragment=qo(l),e}return(0,D._)(n,[{key:"clone",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=new n(Object.assign({},this.$$options,{fragment:qo(this.fragment)}));return t.children=this.children.map((function(n){var i=e?n.clone(e):n;return i.parent=t,i})),t.setComponentOptions(this.componentOptions),t.parent=this.parent,t}},{key:"getFragment",value:function(){return qo(this.fragment)}},{key:"prelink",value:function(){var e=this,t=this.fragment.fragments||this.fragment.config;t&&(Array.isArray(t)||(t=[t]),t.forEach((function(t){t.target==e.nestName&&(e.componentOptions||Jo.info("duplicate config found",e.componentOptions,"will be covered by ",t),e.setComponentOptions(t))})))}},{key:"postlink",value:function(){var e=this,t=this.fragment.config;t&&(Array.isArray(t)||(t=[t]),t.forEach((function(t){var n=e.querySelectorAll(t.target);n&&n.forEach((function(e){e.setComponentOptions(t)}))})))}}],[{key:"NEST_NAME_ATTR",get:function(){return"fv__nest-name_576218"}}]),n}(Yo.Z),Zo=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this,e)).fragmentContent=e.fragmentContent,i}return n}(Yo.Z),Xo=n(2473);n(6613);var Qo=function(){function e(){(0,C._)(this,e),this.$children=[]}return(0,D._)(e,[{key:"size",value:function(){return this.$children.length}},{key:"append",value:function(e){return this.insert(e,this.size())}},{key:"prepend",value:function(e){return this.insert(e,0)}},{key:"insert",value:function(e,t){this.$children.splice(t,0,e)}},{key:"insertAll",value:function(e,t){var n;(n=this.$children).splice.apply(n,[t,0].concat((0,M._)(e)));for(var i=t,r=t+e.length,o=i-1;o>=0;o--){e.indexOf(this.$children[o])>-1&&(this.$children.splice(o,1),i--,r--)}for(var a=r;a<this.$children.length;a++){e.indexOf(this.$children[a])>-1&&this.$children.splice(a,1)}}},{key:"indexOf",value:function(e){return this.$children.indexOf(e)}},{key:"children",value:function(){return this.$children.slice(0)}},{key:"removeChild",value:function(e){var t=this.$children.indexOf(e);return t>-1&&(this.$children.splice(t,1),!0)}},{key:"find",value:function(e){return this.$children.filter(e)}},{key:"findFirst",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.$children[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(e(a))return a}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"childAt",value:function(e){return this.$children[e]}},{key:"each",value:function(e){for(var t=this.$children.slice(0),n=0,i=t.length;n<i;)e(t[n],n,t),n++}},{key:"map",value:function(e){return this.$children.map(e)}},{key:"eachUntil",value:function(e){for(var t=0;t<this.$children.length;t++){var n=e(this.$children[t],t);if(n)return n}}},{key:"empty",value:function(){this.$children=[]}}]),e}(),ea=n(909);const ta=W.diffRender;var na=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),(o=t.call(this,e,i,r)).$container=new Qo,o.$temporaries=new Qo,o.init(),o}return(0,D._)(n,[{key:"callInit",value:function(){}},{key:"isContainer",value:function(){return!0}},{key:"mounted",value:function(){(0,E._)((0,S._)(n.prototype),"mounted",this).call(this),this.$container.each((function(e){return!e.isMounted&&e.mounted()}))}},{key:"broadcast",value:function(e,t,n){this.$container.each((function(i){i.receiveBroadcast(e,t,n)}))}},{key:"receiveBroadcast",value:function(e,t,i){(0,E._)((0,S._)(n.prototype),"receiveBroadcast",this).call(this,e,t),this.broadcast(e,t,i)}},{key:"createDOMElement",value:function(){return document.createElement("div")}},{key:"append",value:function(e,t){return this.insert(e,this.size(),t)}},{key:"appendTemporaryComponent",value:function(e){var t=this;return this.$temporaries.append(e),this.rerenderChildren(),function(){return t.$temporaries.removeChild(e)}}},{key:"prepend",value:function(e,t){return this.insert(e,0,t)}},{key:"insert",value:function(e,t,n){return"string"==typeof e?this.insertTemplate(e,t,n):(0,T._)(e,Node)?this.insertTemplate("<native-dom></native-dom>",t,[{target:"!root",config:{nativeDOM:e}}].concat(n||[])):this.insertComponent(e,t)}},{key:"insertComponent",value:function(e,t){if(e.parent&&e.parent!==this)throw new Error("Component must be removed from its parent to be inserted into other component!");if(-1===this.$container.indexOf(e))return this.$container.insert(e,t),e.parent=this,e.controller.freeze(!1),e.resetDataScope(),this.doInsert(e,t),this.context.triggerModifyTree(this,e,"insert"),this.trigger(Eo.qo.CHILD_INSERTED,e,t),e.trigger(Eo.qo.INSERTED),e}},{key:"insertTemplate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=this.getPDFUI().parseTemplate(e,n);return this.insertComponent(i,t),this.isMounted&&i.mounted(),i.localize(),i}},{key:"insertAll",value:function(e,t){var n=this;e.forEach((function(e){if(e.parent!==n&&e.parent)throw new Error("Component must be removed from its parent to be inserted into other component!")})),this.$container.insertAll(e,t),e.forEach((function(e){e.parent=n,e.controller.freeze(!1),e.resetDataScope()})),this.doInsertAll(e,t),e.forEach((function(e,i){n.context.triggerModifyTree(n,e,"insert"),n.trigger(Eo.qo.CHILD_INSERTED,e,t+i),e.trigger(Eo.qo.INSERTED)}))}},{key:"empty",value:function(){this.$container.each((function(e){return e.destroy()})),this.$container.empty(),this.rerenderChildren()}},{key:"indexOf",value:function(e){return this.$container.indexOf(e)}},{key:"children",value:function(){return this.$container.children().filter((function(e){return!e.isIgnorable()}))}},{key:"size",value:function(){return this.$container.size()}},{key:"childrenCount",value:function(){return this.children().length}},{key:"first",value:function(){return this.childAt(0)}},{key:"last",value:function(){return this.childAt(this.size()-1)}},{key:"removeChild",value:function(e){this.$container.removeChild(e)&&(this._removeChild(e),this.rerenderChildren())}},{key:"_removeChild",value:function(e){e.parent=null,e.isDestroyed||e.controller.data!==this.controller.data&&e.controller.setParentScope(void 0),e.removeElement(),this.context.triggerModifyTree(this,e,"remove"),e.trigger(Eo.qo.REMOVED,this,e),e.controller.freeze()}},{key:"removeChildren",value:function(e){var t=this,n=[];return e.filter((function(e){var i=t.$container.removeChild(e);return i||n.push(e),i})).forEach((function(e){t._removeChild(e)})),this.rerenderChildren(),n}},{key:"replaceChild",value:function(e,t){var n=this.childAt(e);if(!n)throw new Error("Failed to execute 'replaceChild' on ".concat(this.nodeName,": The child index to be replaced is out of bounds. childIndex: ").concat(e,", children size: ").concat(this.size()));n.destroy(),this.insertComponent(t,e)}},{key:"setLayout",value:function(e){}},{key:"doInsert",value:function(e,t){this.rerenderChildren()}},{key:"doInsertAll",value:function(e,t){this.rerenderChildren()}},{key:"rerenderChildren",value:function(){if(!this.isDestroyed){var e=this.getContainerElement(),t=this.getAllRenderableElements();this.diffRenderer(e,t)}}},{key:"getAllRenderableElements",value:function(){var e=this.getRenderableChildren().reduce((function(e,t){return e.concat(t.getRenderingElements())}),[]),t=this.$temporaries.children().reduce((function(e,t){return e.concat(t.getRenderingElements())}),[]);return this.getBeforeExtensionElements().concat(e).concat(t).concat(this.getAfterExtensionElements())}},{key:"getBeforeExtensionElements",value:function(){return[]}},{key:"getAfterExtensionElements",value:function(){return[]}},{key:"getRenderableChildren",value:function(){return this.$container.children()}},{key:"diffRenderer",value:function(e,t){this.isDestroyed||ta(e,t)}},{key:"localize",value:function(){var e=this;return(0,E._)((0,S._)(n.prototype),"localize",this).call(this).then((function(){e.broadcast(Eo.u7,null,e)}))}},{key:"getContainerElement",value:function(){return this.element}},{key:"getComponentByName",value:function(e){if(!e)return null;var t=this._getComponentByName(e);if(!t&&this.node){var n=this.node.findByName(e);if(n.length>0)return this.context.triggerObtainsComponentOf(n),this._getComponentByName(e)}return t?t.lazyLoad():t}},{key:"_getComponentByName",value:function(e){if(this.name===e)return this;var t=this.getComponentsPool().getComponentByName(e,this);return t?t?t.lazyLoad():t:this.findChildren((function(t){return t.name===e}))[0]}},{key:"findChildren",value:function(e){var t=[];(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&e(this)&&t.push(this);for(var n=this.$container.children(),i=0,r=n.length;i<r;){var o=n[i];if(!o.isIgnorable()){var a,s=o.findChildren(e,!0);if(s.length>0)(a=t).push.apply(a,(0,M._)(s))}i++}return t.map((function(e){return e.lazyLoad()}))}},{key:"getAllComponentsByName",value:function(e){var t=this.getComponentsPool().getComponentsByName(e,this);return this.name===e&&t.unshift(this),t}},{key:"getAllComponentsByType",value:function(e){return this.findChildren((function(t){return t.constructor.getName()===e}))}},{key:"childAt",value:function(e){var t=this.$container.childAt(e);return t?t.lazyLoad():t}},{key:"update",value:function(){(0,E._)((0,S._)(n.prototype),"update",this).call(this),this.$container.each((function(e){return e.update()}))}},{key:"destroy",value:function(){(0,E._)((0,S._)(n.prototype),"destroy",this).call(this),this.$container.each((function(e){return e.destroy()})),this.$temporaries=[]}},{key:"doActive",value:function(){this.broadcast(Eo.KJ,!0,this)}},{key:"doDeactive",value:function(){this.broadcast(Eo.KJ,!1,this)}},{key:"doDisable",value:function(){this.$container.each((function(e){return e.disable()}))}},{key:"doEnable",value:function(){this.$container.each((function(e){return e.enable()}))}},{key:"updateDisableStatus",value:function(){}},{key:"appendText",value:function(e){this.append(e)}},{key:"hasFocus",value:function(){return(0,E._)((0,S._)(n.prototype),"hasFocus",this).call(this)||this.$container.$children.some((function(e){return e.hasFocus()}))}},{key:"waitForComponentLifecycle",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xo.Ah.mounted,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!(n in Xo.Ah))throw new Error("Invalid lifecycle: ".concat(n,", it should be one of ").concat(Object.keys(Xo.Ah)));var r=this._getLifecycleDispatchKey(n,e),o=[];return new Promise((function(a){var s=function(){a(o),c()},c=t.context.store.subscribe(r,(function(r){if(r.isDestroyed){if(n!=Xo.Ah.destroyed)return}else if(r.ignoreable||r.node.name!==e)return;(o.push(r),i)?s():t.node.findByName(e).length===o.length&&s()}))}))}},{key:"onArriveComponentLifecycle",value:function(e,t,n){var i=this,r=this.node.querySelectorAll(e),o=Array.from(new Set(r.map((function(e){return e.name})))),a=o.map((function(e){var r=i._getLifecycleDispatchKey(t,e);return i.context.store.subscribe(r,(function(e){e.ignoreable||i.isAncestorOf(e)&&n(e,t)}))}));return function(){a.forEach((function(e){return e()}))}}},{key:"getComponentByNameAsync",value:function(e){return this.waitForComponentLifecycle(e,"postlink",!0).then((function(e){return(0,R._)(e,1)[0]}))}},{key:"getAllComponentsByNameAsync",value:function(e){return this.waitForComponentLifecycle(e,"postlink",!1)}},{key:"getMountedComponentByName",value:function(e){return this.waitForComponentLifecycle(e,"mounted",!0).then((function(e){return(0,R._)(e,1)[0]}))}},{key:"getAllMountedComponentsByName",value:function(e){return this.waitForComponentLifecycle(e,"mounted",!1)}}]),n}(Xo.wA),ia=(n(8015),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),(o=t.call(this,e,i,r)).selectable=!0===e.selectable,o}return(0,D._)(n,[{key:"createDOMElement",value:function(){return document.createElement("li")}},{key:"doDisable",value:function(){this.element.classList.add("disabled")}},{key:"doEnable",value:function(){this.element.classList.remove("disabled")}},{key:"render",value:function(){(0,E._)((0,S._)(n.prototype),"render",this).call(this),this.element.classList.add("fv__ui-dropdown-item")}},{key:"acceptText",value:function(){return!0}},{key:"sync",value:function(e,t){if("text"===e)this.element.setAttribute("data-i18n","[text]"+t),this.localize();else(0,E._)((0,S._)(n.prototype),"sync",this).call(this,e,t)}}],[{key:"getName",value:function(){return"dropdown-item"}}]),n}(na)),ra=n(2778),oa=n.n(ra),aa=function(e,t){return e=parseFloat(e),isFinite(e)?e:t},sa=function(){function e(t,n,i){(0,C._)(this,e),this.min=aa(t,-1/0),this.max=aa(n,1/0),this.step=aa(i,1),this.normalize()}return(0,D._)(e,[{key:"setMin",value:function(e){this.min=aa(e,-1/0),this.normalize()}},{key:"setMax",value:function(e){this.max=aa(e,1/0),this.normalize()}},{key:"setStep",value:function(e){this.step=aa(e,1),this.normalize()}},{key:"normalize",value:function(){var e=Math.min(this.min,this.max),t=Math.max(this.min,this.max);this.step<0?(this.max=e,this.min=t):(this.max=t,this.min=e),(this.min>this.max&&this.step>0||this.min<this.max&&this.step<0)&&(this.step=-this.step)}},{key:"increment",value:function(e){return Math.min(this.max,e+this.step)}},{key:"decrement",value:function(e){return Math.max(this.min,e-this.step)}},{key:"normalizeValue",value:function(e){return"number"!=typeof e&&(e=parseFloat(e)),isNaN(e)?this.min:(e=Math.min(this.max,Math.max(e,this.min)),0===this.step?e:isFinite(this.min)?t(this.min+Math.round((e-this.min)/this.step)*this.step,this.step):isFinite(this.max)?t(this.max-Math.round((this.max-e)/this.step)*this.step,this.step):t(Math.round(e/this.step)*this.step,this.step));function t(e,t){var n=t.toString(),i=n.indexOf(".");if(-1!==i){var r=Math.pow(10,n.length-i-1);return Math.floor(e*r)/r}return e}}}]),e}(),ca=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o,a,s){var c;return(0,C._)(this,n),(c=t.call(this)).input=e,c.template=a,c.range=new sa(i,r,o),c.value=c.range.min,c.prepare(),c.eventEmitter=new(oa()),c.localizer=s,c}return(0,D._)(n,[{key:"disable",value:function(){this.input.setAttribute("editable","editable")}},{key:"enable",value:function(){this.input.removeAttribute("editable")}},{key:"setValue",value:function(e){var t=this.range;this.value=t.normalizeValue(e);var n={value:this.value,min:t.min,max:t.max,step:t.step};if("function"==typeof this.template)this.input.setAttribute("data-i18n","[value]".concat(this.template.call(this,e)));else{var i=(this.template+"").replace(/\$\{(.*?)\}/g,(function(e,t){return n[t]||""}));this.input.setAttribute("data-i18n","[value]".concat(i))}this.localizer.localizeElement(this.input)}},{key:"setTemplate",value:function(e){this.template=e,this.setValue(this.value)}},{key:"getValue",value:function(){return this.value}},{key:"prepare",value:function(){var e=this,t=this.input,n=function(){var n=e.range.normalizeValue(t.value.trim()||e.value),i=e.value;e.setValue(n),i!==e.value&&e.eventEmitter.emit("change",e.value,i)};t.addEventListener("change",n);var i,r=function(e){e.target.value=e.target.value.replace(/[^\d.%]/g,"")};t.addEventListener("keyup",r),W.isIE&&(i=function(e){if(13===e.keyCode)return e.preventDefault(),n()},t.addEventListener("keydown",i)),this.addDestroyHook((function(){t.removeEventListener("change",n),t.removeEventListener("keydown",i),t.removeEventListener("keyup",r),e.eventEmitter.removeAllListeners()}))}}]),n}(W.Disposable),ua=n(636),la=n.n(ua);function Aa(e){if((0,T._)(e,HTMLElement)){if(e.tabIndex<0)return!1;var t=e.getBoundingClientRect(),n=t.width,i=t.height;if(!n||!i)return!1;switch(e.nodeName){case"A":case"BUTTON":case"INPUT":case"TEXTAREA":case"SELECT":case"DETAULS":return!e.tabIndex||e.tabIndex>=0}return e.tabIndex>=0}}function da(){var e,t,n=(e=['\n<div class="fx-ribbon-item">\n    <div class="fx-ribbon-item-icon">\n        <span class="fx-icon"></span>\n    </div>\n    <div class="fx-ribbon-item-text">\n        <div class="fx-ribbon-item-text-1"></div>\n        <div class="fx-ribbon-item-text-2"></div>\n    </div>\n    <div class="fx-ribbon-dropdown"></div>\n</div>\n'],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return da=function(){return n},n}var ha,fa,pa=(0,W.dom)(da()),va=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),o=t.call(this,e,i,r),e.iconCls&&(o.iconCls=e.iconCls),o}return(0,D._)(n,[{key:"createDOMElement",value:function(){var e=pa.cloneNode(!0);return this.eRibbonIcon=e.firstElementChild,this.eIcon=this.eRibbonIcon.firstElementChild,this.eRibbonText=this.eRibbonIcon.nextElementSibling,this.eRibbonText1=this.eRibbonText.firstElementChild,this.eRibbonText2=this.eRibbonText1.nextElementSibling,this.eDropdownContainer=this.eRibbonText.nextElementSibling,e}},{key:"getContainerElement",value:function(){return this.eDropdownContainer}},{key:"render",value:function(){(0,E._)((0,S._)(n.prototype),"render",this).call(this),this.element.classList.add("fx-ribbon-item"),this.localize()}},{key:"postlink",value:function(){if((0,E._)((0,S._)(n.prototype),"postlink",this).call(this),this.iconCls)this.eIcon.classList.add(this.iconCls.split(/\s/));else{var e=this.childAt(0);e&&"svg"===e.nodeName&&this.eIcon.appendChild(e.element)}this.size()&&!this.notDropdown&&this.eRibbonText2.classList.add("fx-ribbon-item-more"),this.small&&(this.eIcon.classList.add("fx-icon-sm"),this.element.classList.add("fx-ribbon-item-sm"),this.element.removeChild(this.eRibbonText)),this.more&&this.eRibbonIcon.classList.add("fx-ribbon-item-more"),this.localize()}},{key:"receiveBroadcast",value:function(e,t){return"localize"!==e?(0,E._)((0,S._)(n.prototype),"receiveBroadcast",this).call(this,e,t):this.small?void 0:(this.translate(),(0,E._)((0,S._)(n.prototype),"receiveBroadcast",this).call(this,e,t))}},{key:"localize",value:function(){for(var e,t=this,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=(0,E._)((0,S._)(n.prototype),"localize",this)).call.apply(e,[this].concat((0,M._)(r))).then((function(){return t.translate()}))}},{key:"translate",value:function(){var e=this.text||this.tooltipTitle;e&&(e=this.localizer.i18next.t(e),this._setText(e))}},{key:"setText",value:function(e){e=this.specialEscape(e),this.text=e,this._setText(e)}},{key:"_setText",value:function(e){var t=" ",n=1,i=!1;switch(this.getPDFUI().currentLanguage){case"zh-CN":case"zh-TW":case"ja-JP":t="",n=2,i=!0}var r=e.split(t);if(i)for(var o=r.length;o--&&o;){var a=r[o];if(/^\w+$/.test(a)){var s=r[o-1];/\w/.test(s)&&(r.splice(o,1),r[o-1]+=a)}}var c="",u="";if(e.length>n&&r.length>1){c=r[0]+t;for(var l=1,A=r.length-1,d=e.length/2;l<A;l++){var h=r[l]+t;if(c.length+h.length>d)break;c+=h}u=r.slice(l).join(t)}else c=e;this.eRibbonText1.innerText=c,this.eRibbonText2.innerText=u,this.eRibbonText2.classList.contains("fx-ribbon-item-more"),this.translatedText=e}},{key:"getDropdown",value:function(){return this.children().find((function(e){return(0,T._)(e,wa)}))}},{key:"selectFirstDropdown",value:function(){var e;try{e=this.getDropdown().childAt(0)}catch(e){return}this.select(e)}},{key:"setIconCls",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=this.eIcon;this.iconCls&&(e=i.classList).remove.apply(e,(0,M._)(this.iconCls.split(/\s/))),n&&(t=i.classList).add.apply(t,(0,M._)(n.split(/\s/))),this.iconCls=n}},{key:"select",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e){this.selectedItem=e;var n=this.getDropdown();if(n&&(n.selectedItem=e,n.selected=n.children().indexOf(e)),t||!this.iconCls){var i,r,o=e.attrs,a=this.eIcon,s=o["ribbon-icon"]||o["icon-class"];if(s)if(s.startsWith("<svg"))a.removeAttribute("ribbon-icon"),a.innerHTML=s;else this.iconCls&&(i=a.classList).remove.apply(i,(0,M._)(this.iconCls.split(/\s/))),this.iconCls=s,(r=a.classList).add.apply(r,(0,M._)(s.split(/\s/)));this.text=o["ribbon-text"]||o.text||o["tooltip-title"]||this.attrs.text;var c=e.attrs["tooltip-title"];c&&this.setAttribute("tooltip-title",c),this.localize()}}}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this);var t=function(t){e.disabled||(e.selectedItem?(e.selectedItem.triggerHandler(t),t.stopPropagation()):(e.trigger("click"),e.controller.handle(t)))},i=function(t){e.disabled||(e.getDropdown().toggle(),t.stopPropagation())};this.notImmediately&&(t=i,this.attachEventToElement(this.eRibbonIcon,"mouseup",(function(e){e.stopPropagation()}))),this.notDropdown&&(i=t);var r=this.getDropdown();if(!this.notDropdown&&r){var o=r.separate?this.eRibbonText:this.element;this.attachEventToElement(o,"keydown",(function(e){(0,W.isMatch)(e,W.matchers.or(W.matchers.Enter,W.matchers.Space))&&e.preventDefault()})),r.separate&&this.addDestroyHook((0,W.attachKeypressEvent)(this.eRibbonIcon,(function(e){t((0,W.createClickEvent)(e)),e.stopPropagation(),e.preventDefault()}),W.matchers.or(W.matchers.Enter,W.matchers.Space))),this.addDestroyHook((0,W.attachKeypressEvent)(o,(function(e){i((0,W.createClickEvent)(e)),e.stopPropagation()}),W.matchers.Enter),(0,W.attachKeypressEvent)(o,(function(e){r.isActive&&(o.focus(),r.deactive(),e.stopPropagation())}),W.matchers.Escape))}else this.addDestroyHook((0,W.attachKeypressEvent)(this.element,(function(e){t((0,W.createClickEvent)(e)),e.stopPropagation(),e.preventDefault()}),W.matchers.or(W.matchers.Enter,W.matchers.Space)));var a=this.size();a>0&&("svg"===this.$container.$children[0].nodeName&&(a-=1));!this.small&&a&&(this.attachEventToElement(this.eRibbonText,"click",i),this.attachEventToElement(this.eRibbonText,"mouseup",(function(e){e.stopPropagation()}))),this.attachEventToElement(this.element,"click",t),this.attachEventToElement(this.eDropdownContainer,"click",(function(e){e.stopPropagation()}))}},{key:"focus",value:function(){var e=this.getDropdown();e&&e.separate?this.eRibbonText.focus():this.element.focus()}},{key:"doDisable",value:function(){(0,E._)((0,S._)(n.prototype),"doDisable",this).call(this),this.element.classList.add("fx-ribbon-item-disabled")}},{key:"doEnable",value:function(){(0,E._)((0,S._)(n.prototype),"doEnable",this).call(this),this.element.classList.remove("fx-ribbon-item-disabled")}},{key:"doActive",value:function(){this.element.classList.add("fx-ribbon-item-active")}},{key:"doDeactive",value:function(){this.element.classList.remove("fx-ribbon-item-active")}},{key:"updateDisableStatus",value:function(){Xo.wA.prototype.updateDisableStatus.call(this)}}],[{key:"getName",value:function(){return"ribbon-button"}},{key:"getMetadata",value:function(){return{options:{"not-immediately":{type:"boolean",field:"notImmediately"},"not-dropdown":{type:"boolean",field:"notDropdown"},text:{type:"string"},"tooltip-title":{type:"string",field:"tooltipTitle"},small:{type:"boolean"},more:{type:"boolean"},"icon-class":{type:"string",field:"iconCls"},action:{type:"string"}}}}}]),n}(na);!function(e){e.CLOSE_LAYER="builtin-command-close-closable-layer"}(ha||(ha={})),function(e){e.CLOSABLE_LAYER="builtin-shortcut-context-closable-layer",e.LOADING_LAYER="builtin-shortcut-context-loading-layer"}(fa||(fa={}));var ga,ma,ya=function(){function e(){(0,C._)(this,e),(0,z._)(this,"layerStack",[]),(0,z._)(this,"keyboard",void 0)}return(0,D._)(e,[{key:"serviceInjected",value:function(){var e=this;this.keyboard.withContext(fa.CLOSABLE_LAYER,(function(t){t.on(ha.CLOSE_LAYER,(function(){var t=e.layerStack.pop();if(t){if(t.isDestroyed)return;t.trigger("beforeClose"),t.hide()}}))}))}},{key:"showLayer",value:function(e){this.hideLayer(e),this.layerStack.push(e)}},{key:"hideLayer",value:function(e){var t=this.layerStack.indexOf(e);t>-1&&this.layerStack.splice(t,1)}},{key:"getVisibleLayers",value:function(){return this.layerStack}},{key:"getKeyboard",value:function(){return this.keyboard}}],[{key:"isLazy",value:function(){return!1}},{key:"inject",value:function(){return{keyboard:W.KeyboardImpl}}}]),e}(),_a=function(){function e(){(0,C._)(this,e),(0,z._)(this,"colorSpectrumStack",[])}return(0,D._)(e,[{key:"serviceInjected",value:function(){}},{key:"showSpectrum",value:function(e){this.hideSpectrum(e),this.colorSpectrumStack.push(e)}},{key:"hideSpectrum",value:function(e){var t=this.colorSpectrumStack.indexOf(e);t>-1&&this.colorSpectrumStack.splice(t,1)}},{key:"canDeactive",value:function(){return!this.colorSpectrumStack.some((function(e){return e.hasFocus()}))}}],[{key:"isLazy",value:function(){return!1}}]),e}(),ba=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;return(0,C._)(this,n),e=t.apply(this,arguments),(0,z._)((0,x._)(e),"layerService",void 0),(0,z._)((0,x._)(e),"colorSpectrumService",void 0),(0,z._)((0,x._)(e),"activates",[]),e}return(0,D._)(n,[{key:"serviceInjected",value:function(){var e=this,t=document.activeElement,n=function(){if(!e.isDestroyed&&(!document.activeElement||document.activeElement.closest(".fv__ui-webpdf"))){if(t!==document.activeElement)e.activates.slice(0).forEach((function(t){var n=t.parent;if((0,T._)(n,va)){if(n.hasFocus())return}else if(t.hasFocus())return;e.canDeactive(t)&&t.deactive()}));t=document.activeElement}};window.addEventListener("focus",n,!0),this.addDestroyHook((function(){window.removeEventListener("focus",n,!0)}))}},{key:"canDeactive",value:function(e){var t=this.layerService.getVisibleLayers(),n=t[t.length-1];return!(!n||!n.isAncestorOf(e))||!t.filter((function(t){return!t.isAncestorOf(e)})).some((function(e){return e.hasFocus()}))&&this.colorSpectrumService.canDeactive()}},{key:"active",value:function(e){var t=this.activates;t.forEach((function(t){e.isDescendantOf(t)||t.deactive()})),-1===t.indexOf(e)&&t.push(e)}},{key:"deactive",value:function(e){var t=this.activates.indexOf(e);-1!==t&&this.activates.splice(t,1)}}],[{key:"services",value:function(){return{layerService:ya,colorSpectrumService:_a}}}]),n}(W.Disposable),wa=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),(o=t.call(this,e,i,r)).iconCls=o.iconCls||o.attrs["icon-class"],o.isFreezed=!1,o.editOptions=o.editOptions||{},o.editType=o.editOptions.type||"text",o.editTemplate=o.editOptions.template||"${value}",o.editMin=o.editOptions.min,o.editMax=o.editOptions.max,o.editStep=o.editOptions.step,o.initEditValue=o.editOptions.value||("number"===o.editType?o.editMin:""),o.enterKeyPressedOnList=!1,W.Lazy.property((0,x._)(o),"$service",(function(){return o.pdfUI&&o.pdfUI.getServiceInstance(ba,(0,x._)(o))})),o}return(0,D._)(n,[{key:"init",value:function(){(0,E._)((0,S._)(n.prototype),"init",this).call(this);var e=this.element,t=document.createElement(W.isMobile||this.separate?"a":"button");t.setAttribute("type","button"),t.classList.add("fv__ui-dropdown-toggler");var i=document.createElement(this.separate?"button":"i"),r=document.createElement("span"),o=document.createElement("input"),a=document.createElement(this.separate?"button":"i");i.classList.add("fv__ui-dropdown-icon"),a.classList.add("fv__ui-dropdown-caret","fv__icon-toolbar-caret"),o.classList.add("fv__ui-dropdown-editor"),r.classList.add("fv__ui-dropdown-toggler-text"),this.orderedElements=new xo(t,[i,o,r,a]),this.iconElement=i,this.textElement=r,this.editElement=o,this.caretElement=a,e.appendChild(t),this.togglerElement=t}},{key:"freeze",value:function(){this.isFreezed=!0}},{key:"unfreeze",value:function(){this.isFreezed=!1}},{key:"active",value:function(){if(!this.isFreezed)return(0,E._)((0,S._)(n.prototype),"active",this).call(this)}},{key:"deactive",value:function(){if(!this.isFreezed)return(0,E._)((0,S._)(n.prototype),"deactive",this).call(this)}},{key:"toggle",value:function(){this.isActive?this.deactive():this.active()}},{key:"setText",value:function(e){this.editable||(this.text=e,this.textElement.setAttribute("data-i18n","[text]"+e),this.localizer.localizeElement(this.textElement),this.orderedElements.mount(this.textElement))}},{key:"setIconCls",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";(this.iconCls&&(e=this.iconElement.classList).remove.apply(e,(0,M._)(this.iconCls.split(/\s/))),n)?((t=this.iconElement.classList).add.apply(t,(0,M._)(n.split(/\s/))),this.orderedElements.mount(this.iconElement)):this.orderedElements.unmount(this.iconElement);this.iconCls=n}},{key:"setEditable",value:function(e){var t=this;this.editable=e,e?("number"===this.editType?(this.numberInput=new ca(this.editElement,this.editMin,this.editMax,this.editStep,this.editTemplate,this.localizer),this.numberInput.eventEmitter.on("change",(function(e,n){t.trigger("change",e,n)}))):this.numberInput&&this.numberInput.destroy(),this.orderedElements.unmount(this.textElement),this.orderedElements.mount(this.editElement)):(this.setText(this.text),this.numberInput&&this.numberInput.destroy())}},{key:"setEditValue",value:function(e){this.numberInput?this.numberInput.setValue(e):this.editElement.value=e}},{key:"getEditValue",value:function(){return this.numberInput?this.numberInput.getValue():this.editElement.value}},{key:"setMaxValue",value:function(e){this.numberInput&&(this.numberInput.range.max=e,this.setEditValue(this.numberInput.value))}},{key:"setMinValue",value:function(e){this.numberInput&&(this.numberInput.range.min=e,this.setEditValue(this.numberInput.value))}},{key:"setEditTemplate",value:function(e){this.numberInput&&this.numberInput.setTemplate(e)}},{key:"insertDropdownItem",value:function(e,t){var n=new ia({selectable:!0,viewConfig:{nodeName:"dropdown-item",attrs:{}}},this.module,this.localizer);if(n.prerender(),n.render(),n.prelink(),"function"==typeof e&&(e=e()),"string"==typeof e)n.element.innerHTML=e;else{if(!(0,T._)(e,Xo.wA))throw new TypeError("Unexpected type of child, it should be a String or Component instance");n.append(e)}n.postlink(),this.insert(n,t),n.mounted()}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this);var t=function(){if(e.isActive){var t=function(e){e.wrappedElement?e.wrappedElement.focus():e.separate?e.caretElement.focus():e.togglerElement.focus(),e.deactive()},n=e.element.querySelectorAll("[component-type=dropdown]");1!==(0,M._)(n).filter((function(n){var i=n.getAttribute("name"),r=e.getComponentByName(i);return!!r.isActive&&(t(r),!0)})).length&&t(e)}};if(this.addDestroyHook((0,W.attachKeypressEvent)(this.element,(function(n){e.isActive&&(t(),n.stopPropagation())}),W.matchers.Escape,!0),(0,W.attachKeypressEvent)(this.listElement,(function(n){n.target.querySelectorAll("ul > li").length>0?n.target.querySelector(".fv__ui-dropdown-toggler").click():e.$service.canDeactive(e)&&t()}),W.matchers.Enter),this.attachEventToElement(this.listElement,"keyup",(function(e){e.stopPropagation()}))),this.attachEventToElement(this.listElement,"keydown",(function(t){var n=function(t){var n=e.children().map((function(e){if(Aa(e.element))return e;if(e.isContainer()){var t=e.childAt(0);if(t&&Aa(t.element))return t}})).filter(Boolean),i=n.findIndex((function(e){return e.hasFocus()}));if(-1!==i){var r=n[(i+t+n.length)%n.length];r&&r.focus()}},i=W.matchers.ArrowUp,r=W.matchers.ArrowDown,o=W.matchers.Home,a=W.matchers.End,s=W.matchers.Enter,c=W.matchers.or,u=W.matchers.ArrowRight,l=W.matchers.ArrowLeft,A=W.matchers.Escape;(0,W.match)(t).switchers(!1).when(c(i,l),(function(){n(-1),t.stopPropagation(),t.preventDefault()})).when(c(r,u),(function(){n(1),t.stopPropagation(),t.preventDefault()})).when(o,(function(){var n=e.children().filter((function(e){return Aa(e.element)})),i=n[0];i&&i.focus(),t.stopPropagation(),t.preventDefault()})).when(a,(function(){var n=e.children().filter((function(e){return Aa(e.element)})),i=e.childAt(n.length-1);i&&i.focus(),t.stopPropagation(),t.preventDefault()})).when(s,(function(){t.stopPropagation()})).when(A,(function(e){e.stopPropagation()}))})),this.attachEventToElement(document,"mouseup",(function(n){e.$service.canDeactive(e)&&e.isActive&&!e.isLocked&&n.target!==e.togglerElement&&la()(n.target).closest(".fv__ui-dropdown-toggler").get(0)!==e.togglerElement&&n.target!==e.listElement&&t()})),void 0!==this.selected){(function(){if(isNaN(e.selected)){var t=function(n){var i=n.findFirst((function(t){return t.name===e.selected}));if(!i&&n.$children){var r=null;return n.$children.every((function(e){return!(r=t(e.$container))})),r}return i},n=t(e.$container);n&&e.select(n)}else{var i=parseInt(e.selected),r=e.childAt(i);r&&e.select(r)}})()}var i=function(e){return e.stopPropagation()},r=function(t){e.disabled||(e.toggle(),e.selectedItem&&e.selectedItem.element&&(e.selectedItem.element.focus(),e.selectedItem.element.scrollIntoView()),t.stopPropagation())},o=function(t){if(!e.disabled){if(e.separate){if(W.isIE){var n=document.elementFromPoint(t.clientX,t.clientY);if(n===e.caretElement)return void n.click()}e.selectedItem?e.selectedItem.triggerHandler():(e.trigger("click"),e.controller.handle())}else e.toggle(),e.selectedItem&&e.selectedItem.element&&e.selectedItem.element.focus();t.stopPropagation(),t.preventDefault()}},a=function(e){return e.classList.contains("fv__ui-dropdown-toggler")},s=function(t){if(e.isInsideOtherDropdown()){var n=t.target;(a(n)||a(n.parentNode))&&t.stopPropagation()}},c=function(t){e.isActive&&t.stopPropagation()};if(this.caretElement.addEventListener("click",r),this.caretElement.addEventListener("mouseup",c),this.togglerElement.addEventListener("click",o),this.element.addEventListener("mouseup",s),this.editElement.addEventListener("click",i),this.attachEventToElement(this.togglerElement,"keydown",(function(t){e.isInsideOtherDropdown()&&(0,W.match)(t).when(W.matchers.Enter,(function(){t.stopPropagation()}))})),this.editable){var u=this.editElement.value;this.placeholder&&this.editElement.setAttribute("data-i18n","[placeholder]"+this.placeholder);var l=function(t){if(!e.numberInput){var n=e.editElement.value;e.trigger("change",n,u),u=n}};this.editElement.addEventListener("change",l),this.addDestroyHook((function(){e.editElement.removeEventListener("change",l)}))}this.addDestroyHook((function(){e.caretElement.removeEventListener("click",r),e.caretElement.removeEventListener("mouseup",c),e.element.removeEventListener("click",o),e.element.removeEventListener("mouseup",s),e.editElement.removeEventListener("click",i)}))}},{key:"isInsideOtherDropdown",value:function(){var e=this;return!!this.findClosestComponent((function(t){return t!==e&&(0,T._)(t,n)}))}},{key:"doActive",value:function(){this.$service.active(this),this.element.classList.add("active"),this.updateListPosition(),this.startUpdateListPosition(),(0,E._)((0,S._)(n.prototype),"doActive",this).call(this)}},{key:"startUpdateListPosition",value:function(){var e=this,t=!1,n=function(){!t&&e.isActive&&e.updateListPosition()};window.addEventListener("resize",n),window.addEventListener("orientationchange",n),this.stopUpdateListPosition=function(){window.removeEventListener("resize",n),window.removeEventListener("orientationchange",n),t=!0}}},{key:"stopUpdateListPosition",value:function(){}},{key:"calculateOffset",value:function(e){(0,W.cssText)(this.listElement,{left:e.left+"px",top:e.top+"px"});var t=this.listElement.getBoundingClientRect(),n=t.left,i=t.top;return{offsetX:e.left-n,offsetY:e.top-i}}},{key:"updateListPosition",value:function(){var e,t,n=this.element.getBoundingClientRect(),i=this.listElement.getBoundingClientRect(),r=this.calculateOffset(n),o=r.offsetX,a=r.offsetY;switch(this.valign){case"top":e=n.top;break;case"bottom":e=n.bottom;break;case"center":e=n.top+.5*n.height;break;case"client-center":e=.5*(window.innerHeight-i.height);break;case"up":e=n.top-i.height}var s=window.innerHeight;switch(e<0?e=0:e+i.height>s&&(e=s-i.height),this.align){case"out-right":t=n.left+n.width;break;case"out-left":t=n.left-i.width;break;case"left":t=n.left;break;case"right":t=n.right-i.width;break;case"center":t=n.left+.5*(n.width-i.width);break;case"client-center":t=.5*(window.innerWidth-i.width)}var c=document.body.offsetWidth;if(t<0?t=0:t+i.width>c&&(t=c-i.width),W.isMobile&&e<0)return(0,W.cssText)(this.listElement,{left:t+"px",top:"0px",height:"100%","overflow-y":"scroll"});(0,W.cssText)(this.listElement,{left:t+o+"px",top:e+a+"px","min-width":n.width+"px"}),"true"===this.attrs.syncwidth&&(0,W.cssText)(this.listElement,{width:n.width+"px"})}},{key:"doDeactive",value:function(){this.isActive&&(this.isActive=!1),this.enterKeyPressedOnList=!1,this.$service.deactive(this),this.element.classList.remove("active"),this.stopUpdateListPosition(),(0,E._)((0,S._)(n.prototype),"doDeactive",this).call(this)}},{key:"render",value:function(){(0,E._)((0,S._)(n.prototype),"render",this).call(this),this.element.classList.add("fv__ui-dropdown"),this.editable&&this.element.classList.add("fv__ui-editable-dropdown"),this.orderedElements.mount(this.caretElement);var e=document.createElement("ul");e.classList.add("fv__ui-dropdown-list"),this.popupClass&&e.classList.add(this.popupClass),this.element.appendChild(e),this.listElement=e,this.iconCls&&this.setIconCls(this.iconCls),this.editable?(this.editable=!1,this.setEditable(!0),this.setEditValue(this.initEditValue)):this.text&&(this.originText=this.text,this.setText(this.text)),this._resetTabIndex(),e.setAttribute("tabindex","-1")}},{key:"select",value:function(e){if(!e||!e.isIgnorable()){var t;if(this.selectedItem&&this.selectedItem.iconCls)(t=this.iconElement.classList).remove.apply(t,(0,M._)(this.selectedItem.iconCls.split(/\s/)));if(this.selectedItem&&this.selectedItem.removeCSSClass(this.selectedCls),e&&this.isAncestorOf(e)){var n=this.selectedItem;if(this.selectedItem=e,e.addCSSClass(this.selectedCls),this.changeIconCls){this.setIconCls(e.iconCls);var i=e.attrs,r=i["ribbon-icon"]||i["icon-class"];r&&r.startsWith("<svg")&&(this.iconElement.innerHTML=r,this.iconElement.style.backgroundImage="none")}this.changeText&&e.text&&this.setText(e.text);var o=e.getAttribute("tooltip-title");o&&(this.originalTooltipTitle=this.getAttribute("tooltip-title"),this.setAttribute("tooltip-title",o)),this.trigger("selected",e),this.trigger("select",e,n)}else this.unselect()}}},{key:"unselect",value:function(){var e=this.selectedItem;e&&e.removeCSSClass(this.selectedCls),this.setIconCls(this.iconCls),this.setText(this.originText||""),this.setAttribute("tooltip-title",this.originalTooltipTitle||this.attrs["tooltip-title"]||""),this.selectedItem=void 0,this.trigger("selected",void 0),this.trigger("unselect",e)}},{key:"getContainerElement",value:function(){return this.listElement}},{key:"update",value:function(){(0,E._)((0,S._)(n.prototype),"update",this).call(this)}},{key:"createDOMElement",value:function(){return document.createElement("a")}},{key:"doDisable",value:function(){(0,E._)((0,S._)(n.prototype),"doDisable",this).call(this),this.isActive||(this.isActive=!0),this.deactive(),this.element.classList.add("disabled"),this.togglerElement.setAttribute("disabled",""),this.togglerElement.classList.add("disabled"),this.element.classList.add("disabled"),this.editElement.setAttribute("disabled",""),this.numberInput&&this.numberInput.disable(),this._resetTabIndex()}},{key:"doEnable",value:function(){(0,E._)((0,S._)(n.prototype),"doEnable",this).call(this),this.element.classList.remove("disabled"),this.togglerElement.classList.remove("disabled"),this.editElement.removeAttribute("disabled"),this.togglerElement.removeAttribute("disabled"),this.numberInput&&this.numberInput.enable(),this._resetTabIndex()}},{key:"doDestroy",value:function(){(0,E._)((0,S._)(n.prototype),"doDestroy",this).call(this),this.numberInput&&this.numberInput.destroy(),W.Lazy.isPropertyIntialized(this,"$service")&&this.$service.deactive(this),this.stopUpdateListPosition()}},{key:"_resetTabIndex",value:function(){var e=this.disabled?"-1":"0";this.separate?(this.iconElement.setAttribute("tabindex",e),this.caretElement.setAttribute("tabindex",e)):(this.iconElement.removeAttribute("tabindex"),this.caretElement.removeAttribute("tabindex"))}},{key:"focus",value:function(){this.wrappedElement?this.wrappedElement.focus():this.separate?this.caretElement.focus():this.togglerElement.focus()}}],[{key:"getName",value:function(){return"dropdown"}},{key:"getMetadata",value:function(){return{options:{text:{type:"string"},iconCls:{type:"string"},"selected-class":{type:"string",field:"selectedCls"},editable:{type:"boolean",defaultValue:!1},placeholder:{type:"string",defaultValue:""},editOptions:{type:"any"},align:{type:"string",enums:["out-right","out-left","left","right","center","client-center"],defaultValue:"left"},valign:{type:"string",enums:["top","bottom","center","client-center","up"],defaultValue:"bottom"},separate:{type:"boolean",defaultValue:!0},selected:{type:"string",required:!1},"popup-class":{type:"string",field:"popupClass"},selectable:{type:"boolean",defaultValue:!0},changeIconCls:{type:"boolean",defaultValue:!0},changeText:{type:"boolean",defaultValue:!0}}}}}]),n}(na),ka=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),o=t.call(this,e,i,r),e.iconCls&&(o.iconCls=e.iconCls),o}return(0,D._)(n,[{key:"setText",value:function(e){this.text=e||this.text,this.texts.slice(0).forEach((function(e){return e.destroy()})),this.renderText(),this.localize()}},{key:"setIconCls",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.iconCls&&(e=this.iconElement.classList).remove.apply(e,(0,M._)(this.iconCls.split(/\s/))),this.iconCls=t||this.iconCls,this.renderIcon()}},{key:"createDOMElement",value:function(){var e;return this.textElement=document.createElement("span"),this.textElement.classList.add("fv__ui-button-text"),this.iconElement=document.createElement("i"),this.iconElement.classList.add("fv__ui-button-icon"),(0,T._)(this.parent,wa)?(e=document.createElement("li")).classList.add("fv__ui-dropdown-button"):e=document.createElement("button"),this.orderedElementsManager=new xo(e,[this.iconElement,this.textElement]),e}},{key:"render",value:function(){(0,E._)((0,S._)(n.prototype),"render",this).call(this),this.element.classList.add("fv__ui-button");var e,t,i=this.$options.viewConfig.vnode.childAt(0);if(i&&"svg"===i.nodeName)return this.iconElement.innerHTML=i.template,i.remove(),this.iconCls&&(e=this.iconElement.classList).add.apply(e,(0,M._)(this.iconCls.split(/\s/))),void this.orderedElementsManager.mount(this.iconElement);this.iconCls&&((t=this.iconElement.classList).add.apply(t,(0,M._)(this.iconCls.split(/\s/))),this.orderedElementsManager.mount(this.iconElement))}},{key:"renderText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textElement;return"string"==typeof this.text&&this.text.length>0?e.setAttribute("data-i18n","[text]"+this.text):(e.removeAttribute("data-i18n"),this.texts.length>0&&ta(e,this.texts.map((function(e){return e.element})))),(0,T._)(this.parent,wa)?e.classList.add("fv__ui-dropdown-item-text"):e.classList.remove("fv__ui-dropdown-item-text"),this.orderedElementsManager.mount(this.textElement),e}},{key:"renderIcon",value:function(){var e;this.iconCls?(this.iconElement.className="",(e=this.iconElement.classList).add.apply(e,["fv__ui-button-icon"].concat((0,M._)(this.iconCls.split(/\s/)))),this.orderedElementsManager.mount(this.iconElement)):this.orderedElementsManager.unmount(this.iconElement)}},{key:"acceptText",value:function(){return!0}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this);if(this.addDestroyHook((0,W.preventFastClickByKeydown)(this.element)),this.attachEventToElement(this.element,"click",(function(t){e.disabled||(e.trigger("click"),e.controller.handle(t),t.preventDefault(),t.stopPropagation())})),"BUTTON"!==this.element.nodeName){this.attachEventToElement(this.element,"keydown",(function(e){(0,W.isMatch)(e,t(i,r))&&(e.preventDefault(),e.stopPropagation())}));var t=W.matchers.or,i=W.matchers.Enter,r=W.matchers.Space;this.addDestroyHook((0,W.attachKeypressEvent)(this.element,(function(t){var n=(0,W.createClickEvent)(t);e.element.dispatchEvent(n),t.stopPropagation()}),t(i,r)))}}},{key:"triggerHandler",value:function(){this.element.click()}},{key:"update",value:function(){(0,E._)((0,S._)(n.prototype),"update",this).call(this),this.renderText()}},{key:"removeText",value:function(e){return!!(0,E._)((0,S._)(n.prototype),"removeText",this).call(this,e)&&(this.renderText(),!0)}},{key:"sync",value:function(e,t){var i=(0,E._)((0,S._)(n.prototype),"sync",this).call(this,e,t);if(i)return i;switch(e){case"icon-class":case"iconCls":return this.setIconCls(t),!0}return!1}},{key:"doDisable",value:function(){(0,E._)((0,S._)(n.prototype),"doDisable",this).call(this),this.element.setAttribute("disabled","")}},{key:"doEnable",value:function(){(0,E._)((0,S._)(n.prototype),"doEnable",this).call(this),this.element.removeAttribute("disabled")}}],[{key:"getName",value:function(){return"xbutton"}},{key:"getMetadata",value:function(){return{options:{text:{type:"string"},action:{type:"string"},"icon-class":{type:"string",field:"iconCls"}}}}}]),n}(Xo.wA),xa=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),(o=t.call(this,e,i,r)).value=null,o.fieldName=o.fieldName||e.fieldName||o.name,o}return(0,D._)(n,[{key:"isValueValid",value:function(e){if("number"!=this.element.type)return!0;if(""==e)return!0;if(isNaN(this.getFormFieldElement().valueAsNumber)||"-"==e)return!1;var t=this.viewConfig.attrs,n=t.min,i=t.max;return!(!isNaN(n)&&e<+n)&&!(!isNaN(i)&&e>+i)}},{key:"getFieldName",value:function(){return this.fieldName}},{key:"setFieldName",value:function(e){this.fieldName=e,this.getFormFieldElement().setAttribute("name",this.fieldName||this.name)}},{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(e){this.value=e}},{key:"focus",value:function(){this.getFormFieldElement().focus()}},{key:"hasFocus",value:function(){return this.getFormFieldElement()===document.activeElement}},{key:"addInputElementListener",value:function(e,t){var n=this.getFormFieldElement();n.addEventListener(e,t),this.addDestroyHook((function(){n.removeEventListener(e,t)}))}},{key:"render",value:function(){(0,E._)((0,S._)(n.prototype),"render",this).call(this),this.getFormFieldElement().setAttribute("name",this.fieldName||this.name)}},{key:"getForwardedEvents",value:function(){return["blur","change","focus","compositionstart","compositionupdate","compositionend","keyup","keydown","keypress"]}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this),this.getForwardedEvents().forEach((function(t){return e.addInputElementListener(t,e.createEventListener(t))}))}},{key:"createEventListener",value:function(e){var t=this;return function(n){t.trigger(e,t.getDOMValue(),t.value,n)}}},{key:"triggerChangeEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getDOMValue(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value;this.isValueValid(e)?"number"==this.element.type&&""==e||(this.setValue(e),this.controller.handle(e,t),this.trigger("change",e,t)):this.element.value=t}},{key:"getDOMValue",value:function(){return this.getFormFieldElement().value}},{key:"setDOMValue",value:function(e){this.getFormFieldElement().value=e}},{key:"resolveCompositionEvent",value:function(){var e=this,t=!1,n=this.getDOMValue();this.addInputElementListener("compositionstart",(function(e){return t=!0})),this.addInputElementListener("compositionend",(function(i){t=!1;var r=e.getDOMValue();e.isValueValid(r)&&("number"==e.element.type&&""==r||(e.trigger("input",r,n,event.data,event),n=r,e.value=r))})),this.addInputElementListener("input",(function(i){if(!t){var r=e.getDOMValue();e.isValueValid(r)&&("number"==e.element.type&&""==r||(e.trigger("input",r,n,i.data,i),n=r,e.value=r))}})),this.on("resetValue",(function(e){n=e}))}},{key:"sync",value:function(e,t){return"value"!==e?(0,E._)((0,S._)(n.prototype),"sync",this).call(this,e,t):(this.setValue(t),!0)}},{key:"getFormFieldElement",value:function(){return this.element}}],[{key:"getMetadata",value:function(){return{options:{"field-name":{type:"string",field:"fieldName"}}}}}]),n}(Xo.wA),Pa=(n(62),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),(o=t.call(this,e,i,r)).checkedValue=!0,o.uncheckedValue=!1,o.indeterminateValue=void 0,o}return(0,D._)(n,[{key:"setCheckedvalue",value:function(e){this.checkedValue=e}},{key:"setUncheckedvalue",value:function(e){this.uncheckedValue=e}},{key:"setIndeterminatevalue",value:function(e){this.indeterminateValue=e}},{key:"acceptText",value:function(){return!0}},{key:"doDisable",value:function(){(0,E._)((0,S._)(n.prototype),"doDisable",this).call(this),this.inputElement.setAttribute("disabled",!0)}},{key:"doEnable",value:function(){(0,E._)((0,S._)(n.prototype),"doEnable",this).call(this),this.inputElement.removeAttribute("disabled")}},{key:"createDOMElement",value:function(){var e=document.createElement("label"),t=document.createElement("input"),n=document.createElement("span"),i=document.createElement("span"),r=document.createElement("span");return r.appendChild(t),r.appendChild(i),e.appendChild(r),e.appendChild(n),t.type="checkbox",r.classList.add("fv__ui-checkbox-wrapper"),i.classList.add("fv__ui-checkbox-inner"),n.classList.add("fv__ui-checkbox-text"),t.classList.add("fv__ui-checkbox-input"),e.classList.add("fv__ui-checkbox"),this.inputElement=t,this.textElement=n,this.previewerElement=i,e}},{key:"init",value:function(){(0,E._)((0,S._)(n.prototype),"init",this).call(this),this.inputElement.checked=this.checked,this.inputElement.indeterminate=this.indeterminate}},{key:"setFieldName",value:function(e){(0,E._)((0,S._)(n.prototype),"setFieldName",this).call(this,e),this.inputElement.setAttribute("name",this.fieldName)}},{key:"getValue",value:function(){var e=this.inputElement,t=e.indeterminate,n=e.checked;return t?this.indeterminateValue:n?this.checkedValue:this.uncheckedValue}},{key:"mounted",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r;(r=(0,E._)((0,S._)(n.prototype),"mounted",this)).call.apply(r,[this].concat((0,M._)(t))),this.attachEventToElement(this.element,"mousedown",(function(e){e.preventDefault()}))}},{key:"renderText",value:function(){var e=this.textElement;return e.innerText="","string"==typeof this.text&&this.text.length>0?(this.element.appendChild(e),e.setAttribute("data-i18n",this.text)):this.texts.length>0&&this.texts.forEach((function(t){e.appendChild(t.element)})),e}},{key:"removeText",value:function(e){return!!(0,E._)((0,S._)(n.prototype),"removeText",this).call(this,e)&&(this.renderText(),!0)}},{key:"setValue",value:function(e){switch(e){case this.checkedValue:this.setStatus({checked:!0});break;case this.uncheckedValue:this.setStatus({checked:!1});break;case this.indeterminateValue:this.setStatus({indeterminate:!0});break;default:throw new Error("Value should be one of the checkedValue, uncheckedValue or indeterminateValue")}}},{key:"isIndeterminate",value:function(){return this.inputElement.indeterminate}},{key:"getStatus",value:function(){var e=this.inputElement;return{checked:e.checked,indeterminate:e.indeterminate}}},{key:"setStatus",value:function(e){if(e){var t=this.inputElement,n="boolean"==typeof e.checked?e.checked:t.checked,i="boolean"==typeof e.indeterminate?e.indeterminate:t.indeterminate;t.checked=n,t.indeterminate=i}}},{key:"getDOMValue",value:function(){return this.inputElement.checked}},{key:"setDOMValue",value:function(e){this.inputElement.checked=e}},{key:"hasFocus",value:function(){return this.inputElement===document.activeElement}}],[{key:"getName",value:function(){return"checkbox"}},{key:"getMetadata",value:function(){return{options:{checked:{type:"boolean",defaultValue:!1},indeterminate:{type:"boolean",defaultValue:!1},text:{type:"string"}}}}}]),n}(xa)),Ca=function(){var e=document.createElement("a");e.classList.add("fv__ui-grp-more"),e.setAttribute("tabindex","0");var t=document.createElement("i");return t.classList.add("fv__icon-toolbar-more"),e.appendChild(t),e}(),Da=((ga=document.createElement("span")).classList.add("fv__ui-grp-btn-list-title"),ga),Ea=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),(o=t.call(this,e.$options,i,r)).parent=e,o.title=e.shrinkTitle,o.layout=new ea.Z,o}return(0,D._)(n,[{key:"createDOMElement",value:function(){return document.createElement("div")}},{key:"render",value:function(){(0,E._)((0,S._)(n.prototype),"render",this).call(this),this.element.classList.add("fv__ui-grp-btn-list"),this.moreElement=Ca.cloneNode(!0),this.titleElement=Da.cloneNode(!1),this.titleElement.setAttribute("data-i18n",this.title),this.element.tabIndex=-1}},{key:"setShrinkTitle",value:function(e){"string"==typeof e&&(this.title=e,this.titleElement.innerText=e,this.titleElement.setAttribute("data-i18n",this.title),this.localizer.localizeElement(this.titleElement,{}),this.titleElement.parentElement||this.element.prepend(this.titleElement))}},{key:"insert",value:function(e,t){this.$container.insert(e,t),e.parent=this.parent,(0,E._)((0,S._)(n.prototype),"resetDataScope",this).call(this),this.doInsert(e,t)}},{key:"rerenderChildren",value:function(){if(!this.isDestroyed){var e=this.$container.children().reduce((function(e,t){return e.concat(t.getRenderingElements())}),this.title?[this.titleElement]:[]),t=this.$temporaries.children().reduce((function(e,t){return e.concat(t.getRenderingElements())}),[]);this.diffRenderer(this.element,e.concat(t))}}},{key:"updateShrinkComponents",value:function(e){this.$container.$children=e,this.rerenderChildren()}},{key:"mounted",value:function(){var e=this;this.attachEventToElement(this.moreElement,"click",(function(n){if(e.toggle(),e.isActive){var i=t(e.children())[0];i&&i.focus(),n.stopPropagation()}})),this.attachEventToElement(this.element,"click",(function(t){e.isActive&&e.toggle(),e.moreElement.focus(),t.stopPropagation()})),this.attachEventToElement(document,"mouseup,focus",(function(){e.isActive&&(e.hasFocus()||e.deactive())}),{capture:!0});var t=function(e){var t=[],n=function(e){e.forEach((function(e){"div"==e.nodeName||"dropdown-item"===e.nodeName?n(e.children()):(0,T._)(e,Pa)?Aa(e.inputElement)&&t.push(e):Aa(e.element)&&t.push(e)}))};return n(e),t};this.addDestroyHook((0,W.attachKeypressEvent)(this.moreElement,(function(t){t.currentTarget===e.moreElement&&e.moreElement.click()}),W.matchers.Enter),(0,W.attachKeypressEvent)(this.moreElement,(function(t){t.currentTarget===e.moreElement&&(e.deactive(),e.moreElement.focus())}),W.matchers.Escape));var n=W.matchers.or,i=W.matchers.Enter,r=W.matchers.Space;this.attachEventToElement(this.element,"keyup",(function(t){(0,W.match)(t).when(W.matchers.Escape,(function(){e.deactive(),e.moreElement.focus(),t.stopPropagation()})).when(n(r,i),(function(){t.target.querySelector("[component-type=dropdown]")||t.target.getAttribute("aria-haspopup")||(e.deactive(),t.stopPropagation())}))}));var o=function(n){var i=t(e.children());if(0!==i.length){var r=0,o=i.findIndex((function(e){return e.hasFocus()}));o>-1&&(r=(o+n+i.length)%i.length);var a=i[r];a&&a.focus()}};this.attachEventToElement(this.element,"mouseup",(function(t){e.parent.isShrinked&&(t.target.classList.contains("fv__icon-toolbar-caret")||(0,T._)(t.target,HTMLInputElement)||(0,T._)(t.target,HTMLTextAreaElement))&&t.stopPropagation()})),this.attachEventToElement(this.element,"keydown",(function(n){if(e.isActive&&e.parent&&e.parent.isShrinked){var i=W.matchers.ArrowUp,r=W.matchers.ArrowDown,a=W.matchers.Home,s=W.matchers.End;W.matchers.Escape;(0,W.match)(n).when(i,(function(){o(-1)})).when(r,(function(){o(1)})).when(a,(function(){var n=t(e.children())[0];n&&n.focus()})).when(s,(function(){var n=t(e.children()),i=n[n.length-1];i&&i.focus()}))}}))}},{key:"doActive",value:function(){this.element.classList.add("active"),this.moreElement.classList.add("active");var e=this.moreElement.getBoundingClientRect(),t=this.element.getBoundingClientRect(),n=Math.max(0,e.right-(t.right-t.left));this.element.style.cssText+="\n            left: ".concat(n,"px;\n            top: ").concat(e.bottom,"px;\n        ")}},{key:"doDeactive",value:function(){this.element.classList.remove("active"),this.moreElement.classList.remove("active")}},{key:"toggle",value:function(){this.isActive?this.deactive():this.active()}},{key:"focus",value:function(){this.moreElement.focus()}},{key:"hasFocus",value:function(){return this.moreElement===document.activeElement||(0,E._)((0,S._)(n.prototype),"hasFocus",this).call(this)}}]),n}(na),Sa=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;(0,C._)(this,n),o=t.call(this,e,i,r);var a=e.shrinkSize||parseInt(o.viewConfig.attrs["shrink-size"]);return o.shrinkSize=a||(o.parent?o.parent.shrinkSize:1024),o.shrinkTitle=e.shrinkTitle||o.viewConfig.attrs["shrink-title"]||"",o.according=e.according||o.viewConfig.attrs.according||"root",o.isShrinked=!1,o.retainCount=e.retainCount||parseInt(o.viewConfig.attrs["retain-count"])||1,o.btnList=new Ea((0,x._)(o),i,r),o.setRetainCount(o.retainCount),o}return(0,D._)(n,[{key:"setPDFUIInstance",value:function(e){(0,E._)((0,S._)(n.prototype),"setPDFUIInstance",this).call(this,e),this.btnList.setPDFUIInstance(e)}},{key:"render",value:function(){(0,E._)((0,S._)(n.prototype),"render",this).call(this),this.btnList.render()}},{key:"createDOMElement",value:function(){var e=document.createElement("div");return e.classList.add("fv__ui-grouplist-item"),e}},{key:"setRetainCount",value:function(e){if(e<0)throw new Error("Illegal argument: retainCount must large then -1 but actual ".concat(e));this.retainCount=e,this.rerenderChildren()}},{key:"setShrinkTitle",value:function(e){this.btnList.setShrinkTitle(e),this.shrinkTitle=this.btnList.title}},{key:"rerenderChildren",value:function(){var e=this;if(!this.isDestroyed){var t=this.children();0===t.length?(this.element.clear(),this.element.classList.add("fv__ui-is-empty")):this.element.classList.remove("fv__ui-is-empty");var n=t.slice(0,this.retainCount).reduce((function(e,t){return e.concat(t.getRenderingElements())}),[]);t.slice(this.retainCount).forEach((function(t){e.btnList.append(t)})),t.length>this.retainCount&&n.push(this.btnList.moreElement),n.push(this.btnList.element);var i=this.$temporaries.children().reduce((function(e,t){return e.concat(t.getRenderingElements())}),[]);this.diffRenderer(this.element,n.concat(i)),this.btnList.updateShrinkComponents(t.slice(this.retainCount))}}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this),this.btnList.mounted();var t=function(){e.isDestroyed||e.updateShrinkStatus()};"screen"===this.according?(window.addEventListener("resize",t),this.addDestroyHook((function(){window.removeEventListener("resize",t)}))):this.addDestroyHook((0,W.observeResize)(this.getRoot().element,t)),this.updateShrinkStatus()}},{key:"updateShrinkStatus",value:function(){if(!(this.shrinkSize<=0)){var e;if("screen"===this.according)e=window.innerWidth;else{var t=this.getRoot();if(t.isDestroyed)return;e=t.element.offsetWidth}if(e<=this.shrinkSize){var n=!this.isShrinked;this.element.classList.add("shrink"),this.isShrinked=!0,n&&(this.parent.trigger("shrink",this,!0),this.trigger("shrink",!0))}else{var i=this.isShrinked;this.element.classList.remove("shrink"),this.isShrinked=!1,i&&(this.parent.trigger("shrink",this,!1),this.trigger("shrink",!1))}}}},{key:"doDestroy",value:function(){(0,E._)((0,S._)(n.prototype),"doDestroy",this).call(this),this.btnList.destroy()}}],[{key:"getName",value:function(){return"group"}}]),n}(na),Ia=(n(6845),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){return(0,C._)(this,n),t.call(this,e,i,r)}return(0,D._)(n,[{key:"getContainerElement",value:function(){return this.element}},{key:"render",value:function(){(0,E._)((0,S._)(n.prototype),"render",this).call(this),this.element.classList.add("fv__ui-grouplist",Eo.gC)}},{key:"createDOMElement",value:function(){return document.createElement("div")}},{key:"insert",value:function(e,t,i){if((0,T._)(e,Sa)||(0,T._)(e,Xo.wA)&&e.isIgnorable())return(0,E._)((0,S._)(n.prototype),"insert",this).call(this,e,t);if("string"!=typeof e){if((0,T._)(e,Sa)||e.isIgnorable())return(0,E._)((0,S._)(n.prototype),"insert",this).call(this,e,t);throw new Error("child of <group-list> component must be <group> but actual <".concat(e.viewConfig.nodeName,">"))}var r=this.context.parser.parse(e,i);try{return this.insert(r,t)}finally{this.isMounted&&r.mounted()}}}],[{key:"getName",value:function(){return"group-list"}},{key:"getMetadata",value:function(){return{options:{"shrink-size":{type:"number",field:"shrinkSize",defaultValue:1024}}}}}]),n}(na)),Ta=(n(3731),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),(o=t.call(this,e,i,r)).lastActiveTab=null,o}return(0,D._)(n,[{key:"rerenderChildren",value:function(){if(!this.isDestroyed){var e=this.children(),t=e.map((function(e){return e.tabElement})),n=e.map((function(e){return e.getContainerElement()}));this.diffRenderer(this.tabContainer,t),this.diffRenderer(this.tabBodyContainer,n)}}},{key:"active",value:function(){this.isVisible&&(0,E._)((0,S._)(n.prototype),"active",this).call(this)}},{key:"render",value:function(){(0,E._)((0,S._)(n.prototype),"render",this).call(this),this.element.classList.add("fv__ui-tab"),this.tabContainer=document.createElement("ul"),this.tabBodyContainer=document.createElement("div"),this.tabContainer.classList.add("fv__ui-tab-nav"),this.tabBodyContainer.classList.add("fv__ui-tab-body"),this.element.appendChild(this.tabContainer),this.element.appendChild(this.tabBodyContainer)}},{key:"postlink",value:function(){var e=this.$container.findFirst((function(e){return e.getConfig("active")}));e||(e=this.$container.findFirst((function(e){return e.isVisible}))),e&&e.active()}},{key:"getVisibleTabs",value:function(){return this.children().filter((function(e){return!!e.tabElement&&e.isDOMVisible()}))}},{key:"getFirstTab",value:function(){return this.getVisibleTabs()[0]}},{key:"getLastTab",value:function(){var e=this.getVisibleTabs();return e[e.length-1]}},{key:"getPreviousOf",value:function(e){var t=this.getVisibleTabs(),n=t.indexOf(e);return 0===n?this.getLastTab():n>-1?t[n-1]:e}},{key:"getNextOf",value:function(e){var t=this.getVisibleTabs(),n=t.indexOf(e);return n===t.length-1?this.getFirstTab():n>-1?t[n+1]:e}}],[{key:"getName",value:function(){return"tabs"}}]),n}(na)),Ra=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),(o=t.call(this,e,i,r)).title=e.title||o.attrs.title,o.iconCls=e.iconCls||o.attrs["icon-cls"]||o.attrs["icon-class"],delete o.attrs.title,o}return(0,D._)(n,[{key:"render",value:function(){(0,E._)((0,S._)(n.prototype),"render",this).call(this);var e=this.tabElement||document.createElement("li");e.innerHTML="\n            ".concat(this.iconCls?'<i class="fv__ui-tab-icon '.concat(this.iconCls||"",'"></i>'):"",'\n            <span data-i18n="').concat(this.title||"",'"></span>\n        '),this.tabElement=e}},{key:"doActive",value:function(){this.tabElement.classList.add("active"),this.element.classList.add("active");var e=this.parent;e&&(e.lastActiveTab&&e.lastActiveTab!==this&&e.lastActiveTab.deactive(),e.lastActiveTab=this),this.broadcast("active",this)}},{key:"doDeactive",value:function(){this.tabElement.classList.remove("active"),this.element.classList.remove("active")}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this),this.tabElement.addEventListener("click",(function(t){e.disabled||e.active(),t.stopPropagation(),t.preventDefault()}))}},{key:"remove",value:function(){this.parent&&(this.isActive&&this._activeSibling(),(0,E._)((0,S._)(n.prototype),"remove",this).call(this))}},{key:"_activeSibling",value:function(){for(var e=this.nextSiblings();e&&!e.isVisible;)if((e=e.nextSiblings())||(e=this.parent.first()),e===this)return void(this.parent.first()&&this.parent.first().active());e&&e.active()}},{key:"removeElement",value:function(){(0,E._)((0,S._)(n.prototype),"removeElement",this).call(this),this.tabElement.remove()}},{key:"doHidden",value:function(){(0,E._)((0,S._)(n.prototype),"doHidden",this).call(this),this.tabElement.classList.add("fv__ui-hide"),this.isActive&&this._activeSibling()}},{key:"doShown",value:function(){(0,E._)((0,S._)(n.prototype),"doShown",this).call(this),this.tabElement.classList.remove("fv__ui-hide")}},{key:"updateActiveStatus",value:function(){var e=this.active,t=this.$options.active;"function"==typeof t&&(e=t.call(this)),!1===e||this.active()}},{key:"addCSSClass",value:function(e){e&&((0,E._)((0,S._)(n.prototype),"addCSSClass",this).call(this,e),this.tabElement.classList.add(e))}},{key:"removeCSSClass",value:function(e){e&&((0,E._)((0,S._)(n.prototype),"removeCSSClass",this).call(this,e),this.tabElement.classList.remove(e))}},{key:"isDOMVisible",value:function(){return this.tabElement.getClientRects().length>0}},{key:"focus",value:function(){this.tabElement.focus()}}],[{key:"getName",value:function(){return"tab"}}]),n}(na),Ma=n(1660),Fa=n.n(Ma),Na=(n(3985),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;(0,C._)(this,n),(o=t.call(this,e,i,r)).ctrlElement=document.createElement("a"),o.headerElement=document.createElement("div"),o.titleElement=document.createElement("span"),o.bodyElement=document.createElement("div");var a=o.viewConfig.attrs;return o.iconCls=e.iconCls||a["icon-cls"]||a["icon-class"],o.title=e.title||a.title,delete a.title,o}return(0,D._)(n,[{key:"doInsert",value:function(e,t){var n=this.bodyElement.children;if(t<0||t>n.length)throw new Error("index out of bounds: ".concat(t));this.rerenderChildren()}},{key:"getContainerElement",value:function(){return this.bodyElement}},{key:"getSlotContainer",value:function(e){return"header"===e?this.headerElement:(0,E._)((0,S._)(n.prototype),"getSlotContainer",this).call(this,e)}},{key:"render",value:function(){(0,E._)((0,S._)(n.prototype),"render",this).call(this),this.ctrlElement.classList.add("fv__ui-sidebar-nav-ctrl"),this.ctrlElement.innerHTML='<i class="fv__ui-sidebar-nav-icon '.concat(this.iconCls,'"></i>'),this.headerElement.classList.add("fv__ui-sidebar-panel-header"),this.titleElement.classList.add("fv__ui-sidebar-panel-title"),this.bodyElement.classList.add("fv__ui-sidebar-panel-body"),this.headerElement.appendChild(this.titleElement),this.element.appendChild(this.headerElement),this.element.appendChild(this.bodyElement),this.titleElement.setAttribute("data-i18n",this.title)}},{key:"active",value:function(){this.isVisible&&(0,E._)((0,S._)(n.prototype),"active",this).call(this)}},{key:"doActive",value:function(){if(this.element.classList.add("active"),this.ctrlElement.classList.add("active"),this.parent){var e=this.parent.lastActivePanel;e&&e!==this&&e.deactive(),this.parent.lastActivePanel=this,this.fullwidth&&this.parent.enableFullWidth(),this.parent.expand()}this.broadcast("active",this)}},{key:"doDeactive",value:function(){this.element.classList.remove("active"),this.ctrlElement.classList.remove("active"),this.fullwidth&&this.parent.disableFullWidth(),this.broadcast("deactive",this)}},{key:"doDisable",value:function(){this.ctrlElement.classList.add("disabled"),(0,E._)((0,S._)(n.prototype),"doDisable",this).call(this)}},{key:"doEnable",value:function(){this.ctrlElement.classList.remove("disabled"),(0,E._)((0,S._)(n.prototype),"doEnable",this).call(this)}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this),this.ctrlElement.addEventListener("click",(function(t){e.disabled||(e.isActive?e.parent.collapse():e.active())}))}},{key:"doHidden",value:function(){this.parent&&this.isActive&&this._activeSibling(),(0,E._)((0,S._)(n.prototype),"doHidden",this).call(this),(0,W.addClass)(this.ctrlElement,"fv__ui-hide")}},{key:"doShown",value:function(){(0,E._)((0,S._)(n.prototype),"doShown",this).call(this),(0,W.removeClass)(this.ctrlElement,"fv__ui-hide")}},{key:"removeElement",value:function(){this.ctrlElement.remove(),this.element.remove()}},{key:"remove",value:function(){if(this.parent)return this.parent.isDestroyed||this.isActive&&this._activeSibling(),(0,E._)((0,S._)(n.prototype),"remove",this).call(this)}},{key:"_activeSibling",value:function(){var e=this.nextSiblings();e||(e=this.parent.first()),e&&e.active()}},{key:"updateDisableStatus",value:function(){this.disabled?this.ctrlElement.classList.add("disabled"):this.ctrlElement.classList.remove("disabled")}},{key:"updateActiveStatus",value:function(){var e=this.isActive,t=this.$options.active;"function"==typeof t&&(e=t.call(this)),!1===e||this.active()}},{key:"addCSSClass",value:function(e){e&&((0,E._)((0,S._)(n.prototype),"addCSSClass",this).call(this,e),this.ctrlElement.classList.add(e))}},{key:"removeCSSClass",value:function(e){e&&((0,E._)((0,S._)(n.prototype),"removeCSSClass",this).call(this,e),this.ctrlElement.classList.remove(e))}},{key:"getTooltipAnchor",value:function(){return this.ctrlElement}},{key:"focus",value:function(){this.ctrlElement.focus()}},{key:"hasFocus",value:function(){return this.ctrlElement===document.activeElement}}],[{key:"getName",value:function(){return"sidebar-panel"}},{key:"getMetadata",value:function(){return{options:{fullwidth:{type:"boolean",default:!1}}}}}]),n}(na));var La=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),(o=t.call(this,e,i,r)).width<1&&(o.width*=window.innerWidth),o.maxWidth=o.normalizeMaxWidthIntoPx(),o.expandWidth=o.width,o.adjustingWidth=o.element.width,o.status=n.STATUS_COLLAPSED,o.lastActivePanel=null,o.autoVisible=!o.attrs.autovisible||"false"!=o.attrs.autovisible,o.isCollaborationMode=!1,o.addDestroyHook((function(){clearTimeout(o.redrawViewerTimer)})),o}return(0,D._)(n,[{key:"collapsedWidth",get:function(){return function(e){if(0!==ma)return ma;var t=e.navElement.offsetWidth,n=e.draggerElement.offsetWidth;if(W.isSafari&&window.innerWidth-t<40){var i=function(e){var t=function(e){return parseFloat(e)||0},n=getComputedStyle(e),i=n.boxSizing,r=t(n.borderLeftWidth)+t(n.borderRightWidth);return Math.max(Math.min(t(n.width),t(n.maxWidth)),t(n.minWidth))+r+("border-box"===i?0:t(n.paddingLeft)+t(n.paddingRight))};t=i(e.navElement),n=i(e.draggerElement)}return ma=t+n}()||0}},{key:"collapseThresholdWidth",get:function(){return 2.3*(this.collapsedWidth||47)}},{key:"totallyCollapsedWidth",get:function(){return this.draggerElement.offsetWidth||12}},{key:"render",value:function(){(0,E._)((0,S._)(n.prototype),"render",this).call(this),this.element.classList.add("fv__ui-sidebar"),this.element.innerHTML=Fa()({}),this.togglerElement=this.element.querySelector(".fv__ui-sidebar-toggler"),this.draggerElement=this.element.querySelector(".fv__ui-sidebar-dragger"),this.draggerTogglerElement=this.draggerElement.querySelector(".toggler"),this.navElement=this.element.querySelector(".fv__ui-sidebar-nav"),this.bodyElement=this.element.querySelector(".fv__ui-sidebar-body")}},{key:"doInsert",value:function(e){if(!e.isIgnorable()&&!(0,T._)(e,Na))throw new Error("the type of the sidebar children must be <sidebar-panel>");this.rerenderChildren()}},{key:"rerenderChildren",value:function(){if(!this.isDestroyed){var e=this.children(),t=e.map((function(e){return e.ctrlElement})),n=e.reduce((function(e,t){return e.concat(t.getRenderingElements())}),[]);this.diffRenderer(this.navElement,t),this.diffRenderer(this.bodyElement,n)}}},{key:"postlink",value:function(){(0,E._)((0,S._)(n.prototype),"postlink",this).call(this)}},{key:"isCollapsed",value:function(){return this.status!==n.STATUS_EXPANDED}},{key:"_initStatus",value:function(){var e=this.$container.findFirst((function(e){return e.isVisible&&e.isActive}));e&&e.isActive?(e.isActive=!1,e.active()):this.collapse(!1)}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this),this.width=this.element.offsetWidth,this._initStatus();var t,i=new Hammer.Manager(this.draggerElement);i.add(new Hammer.Pan({direction:Hammer.DIRECTION_HORIZONTAL})),i.on("panstart",(function(n){e.startresize(),t=n.deltaX,e.resize(t,n.direction),e.trigger(Eo.qo.RESIZESTART),e.trigger(Eo.qo.RESIZE)})),i.on("panmove",(function(n){var i=n.deltaX-t,r=n.center,o=e.draggerElement.offsetLeft;(r.x<o&&n.direction&Hammer.DIRECTION_RIGHT||r.x>o&&n.direction&Hammer.DIRECTION_LEFT)&&(i=0),e.resize(i,n.direction)&&e.trigger(Eo.qo.RESIZE),t=n.deltaX})),i.on("panend",(function(t){e.endresize()})),i.on("pancancel",(function(t){e.cancelresize()})),this.addDestroyHook((function(){i.destroy()})),this.togglerElement.addEventListener("click",(function(t){e.status!==n.STATUS_EXPANDED?e.expand():e.collapse()})),this.draggerTogglerElement.addEventListener("click",(function(t){e.toggle()})),this.attachEventToElement(this.draggerElement,"mousedown touchstart",(function(t){e.draggerElement.classList.add("active")})),this.attachEventToElement(this.draggerElement,"mouseup touchend",(function(t){e.draggerElement.classList.remove("active")})),this.autoVisible||this.hide()}},{key:"startresize",value:function(){this.adjustingWidth=this.width}},{key:"normalizeMaxWidthIntoPx",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.maxWidth,n=function(){if(isFinite(t))return t;if((0,W.isString)(t)){var n=(0,R._)(/^(\d+(\.\d+)?)(\w*|%)$/.exec(t)||[],4),i=n[1];if(!n[3])return parseFloat(i);var r=e.element.style.maxWidth;e.element.style.maxWidth=t;try{return parseFloat(getComputedStyle(e.element).maxWidth)}finally{e.element.style.maxWidth=r}}return 480}();return n<1||!isFinite(n)?480:n}},{key:"setMaxWidth",value:function(e){this.maxWidth=this.normalizeMaxWidthIntoPx(e)}},{key:"resize",value:function(e,t){var n=this.adjustingWidth+e,i=t&Hammer.DIRECTION_LEFT,r=t&Hammer.DIRECTION_RIGHT,o=this.maxWidth;if(n<=this.collapseThresholdWidth&&i)return!this.isCollapsed()&&(this.collapse(),this.adjustingWidth=this.element.offsetWidth,!0);if(n>=o&&r)return!1;if(r&&this.isCollapsed()){if(this.expand(),!this.lastActivePanel){var a=this.findChildren((function(e){return e.isVisible&&e.isActive}),!1)[0];if(a)a.active();else{var s=this.findChildren((function(e){return e.isVisible}),!1)[0];s&&s.active()}}this.setWidth(this.collapseThresholdWidth),this.redrawViewer(),this.adjustingWidth=this.collapseThresholdWidth}else this.adjustingWidth=n,this.element.style.width=n+"px";return!0}},{key:"endresize",value:function(){this.width=this.adjustingWidth,this.isCollapsed()||(this.expandWidth=this.adjustingWidth),this.setWidth(this.width),this.redrawViewer()}},{key:"cancelresize",value:function(){this.adjustingWidth=this.width,this.setWidth(this.width),this.redrawViewer()}},{key:"enableFullWidth",value:function(){this.isFullWidth=!0,this.element.classList.add("fv__ui-sidebar-full-width")}},{key:"disableFullWidth",value:function(){this.isFullWidth=!1,this.element.classList.remove("fv__ui-sidebar-full-width")}},{key:"expand",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.expandWidth;if(this.trigger(Eo.qo.BEFORE_EXPAND),this.setWidth(e),this.redrawViewer(),this.isFullWidth&&(this.element.style.width=""),this.element.classList.remove("collapse","collapse-totally"),this.element.classList.add("expand"),this.lastActivePanel)this.lastActivePanel.active();else for(var t=this.$container.size(),i=0;i<t;i++){var r=this.childAt(i);if((0,T._)(r,Na)){r.active();break}}this.$lastStatus=this.status,this.status=n.STATUS_EXPANDED,this.trigger(Eo.qo.EXPAND)}},{key:"collapse",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._collapse(this.collapsedWidth),e&&this.redrawViewer(),this.element.classList.add("collapse"),this.$lastStatus=this.status,this.status=n.STATUS_COLLAPSED}},{key:"collapseTotally",value:function(){this._collapse(this.totallyCollapsedWidth),this.redrawViewer(),this.element.classList.add("collapse-totally"),this.$lastStatus=this.status,this.status=n.STATUS_COLLAPSED_TOTALLY}},{key:"toggle",value:function(){this.status!==n.STATUS_COLLAPSED_TOTALLY?(this.$lastStatus=this.status,this.collapseTotally()):this.$lastStatus===n.STATUS_COLLAPSED?this.collapse():this.expand()}},{key:"_collapse",value:function(e){this.status===n.STATUS_EXPANDED&&(this.expandWidth=this.width),this.element.classList.remove("collapse","expand","collapse-totally"),this.setWidth(e),this.lastActivePanel&&this.lastActivePanel.deactive(),this.trigger(Eo.qo.COLLAPSE)}},{key:"setWidth",value:function(e){if(!e)return this.element.style.width="auto",void(this.width=this.element.offsetWidth);this.element.style.width=e+"px",this.width=e}},{key:"redrawViewer",value:function(){}},{key:"isPortfolioDoc",value:function(){var e=this.getPDFUI().pdfViewer.currentPDFDoc;return e&&!!e.pdfPortfolio}},{key:"activePanel",value:function(e){var t=this.children().find((function(t){return t.name===e}));t&&(t.isVisible||t.show(),t.active(),this.trigger("activePanel",e))}},{key:"switchToSidebarPanelByComponentName",value:function(e){"collapsed"===this.status||"collapsed-totally"===this.status?(this.show(),this.expand(),this.activePanel(e)):this.lastActivePanel.name===e?this.collapse():this.activePanel(e)}}],[{key:"STATUS_COLLAPSED",get:function(){return"collapsed"}},{key:"STATUS_COLLAPSED_TOTALLY",get:function(){return"collapsed-totally"}},{key:"STATUS_EXPANDED",get:function(){return"expanded"}},{key:"getName",value:function(){return"sidebar"}},{key:"getMetadata",value:function(){return{options:{width:{type:"number",defaultValue:310},open:{type:"boolean",field:"isOpenAtStart",defaultValue:!1},"max-width":{type:"string",defaultValue:"480",field:"maxWidth"}}}}}]),n}(na),Oa=n(7085),ja=n.n(Oa),Ba=(n(7978),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"getContainerElement",value:function(){return this.$body.get(0)}},{key:"render",value:function(){(0,E._)((0,S._)(n.prototype),"render",this).call(this),this.element.innerHTML=ja()(),this.$element=la()(this.element),this.$header=la()("[name=header]",this.$element),this.$icon=la()("[name=icon]",this.$element),this.$text=la()("[name=text]",this.$element),this.$body=la()("[name=body]",this.$element),this.$text.attr("data-i18n",this.headerText),this.defaultOpen?this.open():this.close()}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this),this.$header.on("click",(function(t){e.$body.is(":visible")?e.close():e.open()}))}},{key:"open",value:function(){this.$body.show(),this.$icon.removeClass("right right-bottom").addClass("right-bottom")}},{key:"close",value:function(){this.$body.hide(),this.$icon.removeClass("right right-bottom").addClass("right")}}],[{key:"getName",value:function(){return"collapse-panel"}},{key:"getMetadata",value:function(){return{options:{headerText:{type:"string",required:!0},defaultOpen:{type:"boolean",defaultValue:!0}}}}}]),n}(na)),Va=n(9185),Ua="data-i18n",Ha="data-i18n-title",za=W.LoggerFactory.getLogger("Localizer"),Wa=Promise.resolve(),Ga=new DOMParser,Ya=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,C._)(this,e),this.i18next=t,this.options=i,this.languageChangeCallbacks=[],this.flatdatas={},this.i18next.on("languageChanged",(function(e){W.dayjs.locale(e),n.languageChangeCallbacks=n.languageChangeCallbacks.filter((function(e){return!e.cancelled})),n.languageChangeCallbacks.forEach((function(e){return e()}))})),this.i18next.store.on("added",(function(e,t){n.flatLanguageData(e,t)})),t.options.ns.indexOf("viewer_")>-1)this.i18nPromise=Wa;else{var r=(0,W.createDeferred)();if(t.isInitialized)t.loadNamespaces("viewer_",(function(){r.resolve()}));else{var o=function(){t.loadNamespaces("viewer_",(function(){r.resolve()})),n.i18next.off("loaded",o)},a=function(e,t,i){r.reject(i),n.i18next.off("failLoading",a)};this.i18next.on("loaded",o),this.i18next.on("failLoading",a)}this.i18nPromise=r.promise}this.isI18nPrepared=!1,this.i18nPromise.then((function(){n.isI18nPrepared=!0}))}return(0,D._)(e,[{key:"flatLanguageData",value:function(e,t){var n=this.i18next,i=e||this.getLanguage(),r=n.getDataByLanguage(i)[t],o={},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("string"==typeof e)o[t]=e;else for(var n in e)a(e[n],(""===t?t:t+".")+n)};a(r);var s=i+":"+t;this.flatdatas[s]=o}},{key:"waitForInitialized",value:function(){return this.i18nPromise}},{key:"getLanguage",value:function(){return this.i18next.language}},{key:"watch",value:function(e,t,n,i){var r=this,o=!1,a=function(){if(!o){var a="function"==typeof e?e():e;n||(n=a),r.translate(a,t,n).then((function(e){o||i(e)}))}};return this.languageChangeCallbacks.push(a),a(),function(){o=!0,a.cancelled=!0}}},{key:"watcher",value:function(e,t){var n=this,i=new W.Watcher,r=function(e){return"function"==typeof e?e():e};i.onUpdate((0,W.debounce)((function(){var o=r(e),a=r(t);if(n.isI18nPrepared){var s=n.translateSync(o,a,o);i.handle(s)}else n.translate(o,a,o).then((function(e){i.isDestroyed||i.handle(e)}))}),30));var o=this.i18next;return this.waitForInitialized().then((function(){if(!i.isDestroyed){var e=function(){return i.update()};i.addDestroyHook((function(){o.off("languageChanged",e)})),o.on("languageChanged",e)}})),i}},{key:"translate",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return this.isI18nPrepared?Promise.resolve(this.translateSync(e,t,i)):this.i18nPromise.then((function(){return n.translateSync(e,t,i)}))}},{key:"translateSync",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;if("string"!=typeof e)return n;var i=e.trim(),r=this.i18next.options.defaultNS||"ui_",o=e,a=i.indexOf(":");a>-1&&(r=i.substring(0,a),o=i.substring(a+1));var s=this.getLanguage()+":"+r,c=this.flatdatas[s],u=c?c[o]:void 0;if(u&&-1===u.indexOf("{{"))return u;t=Object.assign({},t,{defaultValue:n});var l=this.i18next.t(e,t);return void 0===l?n:l}},{key:"localizeRecursive",value:function(e,t){var n=this;t=Object.assign({},this.options,t||{});var i=function(){n.localizeElementSync(e,t);var i=e.querySelectorAll("[data-i18n]"),r=e.querySelectorAll("[".concat(Ha,"]"));i.forEach((function(e){return n.localizeElementSync(e,t)})),n.localizeElementTitleSync(e,t),r.forEach((function(e){return n.localizeElementTitleSync(e,t)}))};return this.isI18nPrepared?(i(),Wa):this.i18nPromise.then(i)}},{key:"localizeElementTitle",value:function(e,t){var n=this;return this.isI18nPrepared?(this.localizeElementTitleSync(e,t),Wa):this.i18nPromise.then((function(){n.localizeElementTitleSync(e,t)}))}},{key:"localizeElementTitleSync",value:function(e,t){var n=e.getAttribute(Ha);if("string"==typeof n&&0!==(n=n.trim()).length){var i=this.translateSync(n,t,n);e.title!==i&&(e.title=i)}}},{key:"localizeElement",value:function(e,t){var n=this;return this.isI18nPrepared?(this.localizeElementSync(e,t),Wa):this.i18nPromise.then((function(){n.localizeElementSync(e,t)}))}},{key:"localizeElementSync",value:function(e,t){if(e&&e.hasAttribute(Ua)){var n=(e.getAttribute(Ua)||"").trim(),i=e.getAttribute("i18n-target");if(!i||e.querySelector(i)){var r=e.getAttribute("i18n-options");if(r){var o=JSON.parse(r);t=t?Object.assign({},o,t):o}this._parseElement(e,n,t)}else za.warn("No target found of selector: ".concat(i))}}},{key:"_parseElement",value:function(e,t,n){var i=this,r="text",o=t.replace("[origin]",""),a=t.indexOf("[origin]")>-1;if("["===o[0]){var s=o.indexOf("]");-1!==s&&(r=o.substring(1,s),o=o.substring(s+1))}var c=function(t){var r=t,o=""===t||a?t:i.translateSync(t,n,r),s=e.childNodes;if(1===s.length&&(0,T._)(s.item(0),Text)){var c=s.item(0);if(c.textContent!==o)return void(c.textContent=o)}e.textContent!=o&&(e.textContent=o)};switch(r){case"html":!function(t){var r=e.innerHTML.trim().length>0?e.innerHTML:t,o=a?t:i.translateSync(t,n,r),s=Ga.parseFromString("\n                <div>\n                ".concat(o,"\n                </div>\n            "),"text/html");e.innerHTML="";var c=s.body.firstElementChild;c.querySelectorAll("script,style, link").forEach((function(e){var t=document.createTextNode(e.textContent);e.replaceWith(t)})),c.childNodes.length,c.childNodes.forEach((function(t,n){e.appendChild(t.cloneNode(!0))}))}(o);break;case"value":var u=o,l=a?u:this.translateSync(o,n,u);e.value!==l&&(e.value=l);break;case"text":c(o);break;default:if(0===r.indexOf("data-")){var A=r.substring(5),d=a?o:this.translateSync(o,n,e.dataset[A]);e.dataset[A]=d}else{if(this.i18next.t(o)!==o){var h=a?o:this.translateSync(o,n,o);e.getAttribute(r)!==h&&e.setAttribute(r,h)}else c(t)}}}}]),e}(),$a=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),o=t.call(this,e,i,r),e.iconCls&&(o.iconCls=e.iconCls),o}return(0,D._)(n,[{key:"createDOMElement",value:function(){var e=document.createElement("label");e.classList.add("fv__ui-fileselector-label"),this.labelElement=e;var t,n=this.createInputElement();return this.inputElement=n,this.textElement=document.createElement("span"),this.textElement.classList.add("fv__ui-button-text"),this.iconElement=document.createElement("i"),this.iconElement.classList.add("fv__ui-button-icon"),(0,T._)(this.parent,wa)?((t=document.createElement("li")).classList.add("fv__ui-dropdown-button"),e.classList.add("fv__ui-dropdown-item-label")):t=document.createElement("a"),this.orderedElementsManager=new xo(e,[this.iconElement,this.inputElement,this.textElement]),this.orderedElementsManager.mount(this.inputElement),t}},{key:"render",value:function(){(0,E._)((0,S._)(n.prototype),"render",this).call(this),this.element.classList.add("fv__ui-fileselector"),this.renderInputElement(this.inputElement),this.element.appendChild(this.labelElement),this.element.setAttribute("tabindex","0")}},{key:"setAccept",value:function(e){this.accept=e,this.renderInputElement(this.inputElement)}},{key:"createInputElement",value:function(){var e=document.createElement("input");return e.classList.add("fv__ui-fileselector-input"),e.setAttribute("type","file"),this.renderInputElement(e),e}},{key:"renderInputElement",value:function(e){if(e.setAttribute("accept","*.*"),this.accept){var t=this.accept;if(W.isMiuiBrowser||W.isQQ||W.isWeChat){var n=t.split(/[;,]/).filter((function(e){return"*.*"!==e})).map((function(e){return e.replace(/^\*?\.(.+)/,(function(e,t){return(0,W.extToMimeType)(t,"."+t)}))}));t=n.join(";")}t&&e.setAttribute("accept",t)}this.multiple?e.setAttribute("multiple",""):e.removeAttribute("multiple")}},{key:"mounted",value:function(){var e=this;Xo.wA.prototype.mounted.call(this);var t=function(n){if(!e.disabled)try{var i=function(e){var t=e.target.files?e.target.files:null;!t&&e.dataTransfer&&e.dataTransfer.files.length>0&&(t=e.dataTransfer.files);if(t)return Array.prototype.slice.call(t,0);return[]}(n)||[];e.multiple?(e.controller.handle(i,n),e.trigger("change",i)):(e.controller.handle(i[0],n),e.trigger("change",i[0]))}finally{var r=e.createInputElement();r.addEventListener("change",t),e.orderedElementsManager.replaceElement(e.inputElement,r),e.inputElement=r}},n=function(t){var n=W.matchers.Enter,i=W.matchers.Space,r=W.matchers.or;if((0,W.isMatch)(t,r(n,i))){var o=(0,W.createClickEvent)(t);o.stopPropagation(),e.inputElement.dispatchEvent(o),t.stopPropagation(),t.preventDefault()}};this.inputElement.addEventListener("change",t),this.element.addEventListener("keydown",n),this.addDestroyHook((function(){e.inputElement.removeEventListener("change",t),e.element.removeEventListener("keydown",n)}))}},{key:"doDisable",value:function(){(0,E._)((0,S._)(n.prototype),"doDisable",this).call(this),this.inputElement.setAttribute("disabled","disabled")}},{key:"doEnable",value:function(){(0,E._)((0,S._)(n.prototype),"doEnable",this).call(this),this.inputElement.removeAttribute("disabled")}},{key:"triggerHandler",value:function(){this.inputElement.click()}}],[{key:"getName",value:function(){return"file-selector"}},{key:"getMetadata",value:function(){return{options:{text:{type:"string"},action:{type:"string"},multiple:{type:"boolean",defaultValue:!1},accept:{resolve:function(e){var t=e.$options,n=e.attrs,i=t.accept||n.accept;return"string"==typeof i?i.split(/[\s;]/):Array.isArray(i)?i.join(";"):"*.*"}},"icon-class":{type:"string",field:"iconCls"}}}}}]),n}(ka);n(7348);var Ja=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"render",value:function(){(0,E._)((0,S._)(n.prototype),"render",this).call(this),this.element.classList.add("fv__ui-toolbar")}}],[{key:"getName",value:function(){return"toolbar"}}]),n}(na),qa=(W.LoggerFactory.getLogger("TextComponent"),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),(o=t.call(this,e,i,r)).textContent=o.viewConfig.textContent,o}return(0,D._)(n,[{key:"createDOMElement",value:function(){return document.createTextNode("")}},{key:"render",value:function(){this.localize()}},{key:"renderElementId",value:function(){}},{key:"remove",value:function(){var e=this.parent;e?e.removeText(this)||e.isContainer()&&e.removeChild(this):this.removeElement()}},{key:"setText",value:function(e){this.textContent=e+"",this.localize()}},{key:"doActive",value:function(){}},{key:"doDeactive",value:function(){}},{key:"doHidden",value:function(){}},{key:"doShown",value:function(){}},{key:"doDisable",value:function(){}},{key:"doEnable",value:function(){}},{key:"doLocalize",value:function(){var e=this;return this.localizer.translate(this.textContent,{},this.textContent).then((function(t){e.isDestroyed||e.element.parentNode&&e.element.textContent!==t&&(e.element.textContent=t)}))}},{key:"sync",value:function(e,t){return"text"===e?(this.setText(t),!0):(0,E._)((0,S._)(n.prototype),"sync",this).call(this,e,t)}},{key:"doDestroy",value:function(){if(this.parent){var e=this.parent.texts.indexOf(this);e>-1&&this.parent.texts.splice(e,1)}(0,E._)((0,S._)(n.prototype),"doDestroy",this).call(this)}},{key:"focus",value:function(){}},{key:"hasFocus",value:function(){return!1}}],[{key:"getName",value:function(){return"text"}}]),n}(Xo.wA)),Ka=(n(9378),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;(0,C._)(this,n);var a=(o=t.call(this,e,i,r)).controller._sandbox;return o.controller._sandbox=function(){var e=Object.create(a.call(o.controller));return Object.defineProperty(e,"$component",{get:function(){return o.parent}}),e},o.setText(o.text),o}return(0,D._)(n,[{key:"setText",value:function(e){var t=this;this.unwatch&&this.unwatch(),this.unwatch=this.controller.watchImm(e,(function(e){t.textContent=void 0===e?"":e+"",t.localize()})),this.text=e}},{key:"renderElementId",value:function(){}},{key:"sync",value:function(e,t){return Component.prototype.sync.call(this,e,t)}},{key:"doDestroy",value:function(){this.unwatch(),(0,E._)((0,S._)(n.prototype),"doDestroy",this).call(this)}},{key:"focus",value:function(){}},{key:"hasFocus",value:function(){return!1}}],[{key:"getName",value:function(){return"placeholder-text"}},{key:"getMetadata",value:function(){return{options:{text:{type:"string",required:!0}}}}}]),n}(qa)),Za=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;(0,C._)(this,n),(o=t.call(this,e,i,r)).text=e.text||o.viewConfig.textContent||"",o.iconCls=e.iconCls||o.viewConfig.attrs["icon-class"],o.isFileSelector=e.isFileSelector||"file-selector"in o.attrs&&"false"!==o.attrs["file-selector"],o.action=e.action||o.attrs.action;var a=e.accept||o.viewConfig.attrs.accept;return"string"==typeof a?o.accept=a:Array.isArray(a)?o.accept=a.join(";"):o.accept="*.*",o}return(0,D._)(n,[{key:"createDOMElement",value:function(){return document.createElement("li")}},{key:"doDisable",value:function(){(0,W.addClass)(this.element,"disabled"),this.isFileSelector&&this.inputElement.setAttribute("disabled","disabled")}},{key:"doEnable",value:function(){(0,W.removeClass)(this.element,"disabled"),this.isFileSelector&&this.inputElement.removeAttribute("disabled")}},{key:"doActive",value:function(){(0,W.addClass)(this.element,"active")}},{key:"doDeactive",value:function(){(0,W.removeClass)(this.element,"active")}},{key:"render",value:function(){this.textElement=document.createElement("span");var e=this.iconElement=document.createElement("i");if(this.element.classList.add("fv__ui-dropdown-button"),this.isFileSelector){var t=document.createElement("label"),i=document.createElement("input");if(this.inputElement=i,this.labelElement=t,this.element.classList.add("fv__ui-dropdown-button-file"),t.classList.add("fv__ui-dropdown-item-label"),i.classList.add("fv__ui-dropdown-item-input"),i.setAttribute("type","file"),this.accept){var r=this.accept;W.isMiuiBrowser&&(r=r.split(/[;]/).filter((function(e){return"*.*"!==e})).map((function(e){return e.replace(/^\*?\./,"application/")})).join(";")),r&&i.setAttribute("accept",r)}this.elementManager=new xo(t,[i,e,this.textElement]),this.elementManager.mount(i),this.element.appendChild(t)}else this.elementManager=new xo(this.element,[e,this.textElement]);this.setIconCls(this.iconCls),(0,E._)((0,S._)(n.prototype),"render",this).call(this)}},{key:"setIconCls",value:function(e){if(e){var t=this.iconElement;this.iconCls=e,t.addClass("fv__ui-dropdown-button-icon"),t.addClass(this.iconCls),this.elementManager.mount(this.iconElement)}}},{key:"renderText",value:function(){var e=this,t=this.textElement;return t.classList.add("fv__ui-dropdown-item-text"),this.textElement.innerText="",this.text&&this.text.length>0?(this.textElement.setAttribute("data-i18n","[text]"+this.text),this.elementManager.mount(t)):this.texts.length>0&&(this.texts.forEach((function(t){e.textElement.appendChild(t.element)})),this.elementManager.mount(t)),t}},{key:"mounted",value:function(){var e=this;if((0,E._)((0,S._)(n.prototype),"mounted",this).call(this),this.isFileSelector){var t=function(n){if(!e.disabled)try{var i=function(e){var t=e.target.files?e.target.files[0]:null;!t&&e.dataTransfer&&e.dataTransfer.files.length>0&&(t=e.dataTransfer.files[0]);return t}(n);e.controller.handle(i,n),e.trigger("change",i)}finally{var r=document.createElement("input");r.classList.add("fv__ui-dropdown-item-input"),r.setAttribute("type","file"),r.setAttribute("accept",e.accept),r.addEventListener("change",t),e.inputElement.after(r),e.inputElement.remove(),e.inputElement=r}},i=function(t){e.trigger("click"),t.stopPropagation()};this.inputElement.addEventListener("click",i),this.inputElement.addEventListener("change",t),this.addDestroyHook((function(){e.inputElement.removeEventListener("click",i),e.inputElement.removeEventListener("change",t)}))}else{this.addEventListener("click",(function(t){e.disabled||(e.trigger("click"),e.controller.handle(t),t.stopPropagation())}))}var r=W.matchers.or,o=W.matchers.Enter,a=W.matchers.Space;this.attachEventToElement(this.element,"keydown",(function(e){(0,W.isMatch)(e,r(o,a))&&(e.preventDefault(),e.stopPropagation())})),this.addDestroyHook((0,W.attachKeypressEvent)(this.element,(function(t){var n=(0,W.createClickEvent)(t);e.element.dispatchEvent(n),t.stopPropagation()}),r(o,a)))}},{key:"addEventListener",value:function(e,t){var n=this;this.element.addEventListener(e,t),this.addDestroyHook((function(){n.element.removeEventListener(e,t)}))}},{key:"triggerHandler",value:function(){this.isFileSelector?this.inputElement.click():this.element.click()}},{key:"localize",value:function(){return this.localizer.localizeElement(this.textElement)}},{key:"acceptText",value:function(){return!0}},{key:"sync",value:function(e,t){return!!(0,E._)((0,S._)(n.prototype),"sync",this).call(this,e,t)||"text"===e&&(t&&(this.textElement.parentElement?this.textElement.setAttribute("data-i18n",t):this.setText(t),this.localizer.localizeElement(this.textElement)),!0)}}],[{key:"getName",value:function(){return"dropdown-button"}}]),n}(Xo.wA);var Xa=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),(o=t.call(this,e,i,r)).title=e.title||o.attrs.title,o}return(0,D._)(n,[{key:"doInsert",value:function(e,t){var n=this.bodyElement.children;if(t<0||t>n.length)throw new Error("index out of bounds: ".concat(t));this.rerenderChildren()}},{key:"render",value:function(){(0,E._)((0,S._)(n.prototype),"render",this).call(this),this.titleElement=document.createElement("span"),this.caretElement=document.createElement("i"),this.headerElement=document.createElement("div"),this.headerButtonElement=document.createElement("button"),this.bodyElement=document.createElement("div"),this.element.classList.add("fv__ui-accordion-card"),this.headerElement.classList.add("fv__ui-accordion-card-header"),this.headerButtonElement.classList.add("fv__ui-accordion-card-header-button"),this.bodyElement.classList.add("fv__ui-accordion-card-body"),this.caretElement.classList.add("fv__icon-toolbar-caret"),this.titleElement.setAttribute("data-i18n",this.title),this.headerElement.appendChild(this.headerButtonElement),this.headerButtonElement.appendChild(this.titleElement),this.headerButtonElement.appendChild(this.caretElement),this.element.appendChild(this.headerElement),this.element.appendChild(this.bodyElement)}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this);var t=function(){e.isActive?e.deactive():e.active()};this.headerButtonElement.addEventListener("click",t),this.addDestroyHook((function(n){return e.headerButtonElement.removeEventListener("click",t)}))}},{key:"setTitle",value:function(e){this.title=e,this.titleElement.setAttribute("data-i18n",this.title),this.localizer.localizeElement(this.titleElement)}},{key:"getContainerElement",value:function(){return this.bodyElement}},{key:"active",value:function(){this.isVisible&&(0,E._)((0,S._)(n.prototype),"active",this).call(this)}},{key:"doActive",value:function(){if((0,E._)((0,S._)(n.prototype),"rerenderChildren",this).call(this),this.element.classList.add("active"),this.parent&&this.parent.singleton){var e=this.parent.lastActiveCard;e&&e!==this&&e.deactive(),this.parent.lastActiveCard=this}}},{key:"doDeactive",value:function(){this.$container.children().forEach((function(e){return e.removeElement()})),this.element.classList.remove("active")}},{key:"rerenderChildren",value:function(){this.isActive&&(0,E._)((0,S._)(n.prototype),"rerenderChildren",this).call(this)}},{key:"acceptText",value:function(){return!0}},{key:"appendText",value:function(e){(0,E._)((0,S._)(n.prototype),"appendText",this).call(this,e)}}],[{key:"getName",value:function(){return"accordion-card"}}]),n}(na),Qa=(n(2547),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),(o=t.call(this,e,i,r)).singleton=!!e.singleton||"true"===o.attrs.singleton,o}return(0,D._)(n,[{key:"doInsert",value:function(e,t){if(!(0,T._)(e,Xa)&&!e.isIgnorable())throw new Error("the typeof the accordion children must be <accordion-card>");var n=this.element.children;if(t<0||t>n.length)throw new Error("index out of bounds: ".concat(t));this.rerenderChildren()}},{key:"activeAll",value:function(){this.$container.each((function(e){return e.active()}))}},{key:"deactiveAll",value:function(){this.$container.each((function(e){return e.deactive()}))}},{key:"render",value:function(){(0,E._)((0,S._)(n.prototype),"render",this).call(this)}}],[{key:"getName",value:function(){return"accordion"}}]),n}(na)),es=n(1182),ts=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t=parseFloat(t),"number"==typeof e&&isFinite(e)?e:isFinite(t)?t:n},ns=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this)).component=e,i}return(0,D._)(n,[{key:"receive",value:function(e){var t=this.component,n=t.prefix,i=t.suffix;this.component.element.value="".concat(n).concat(e).concat(i)}}]),n}(Ro),is=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;(0,C._)(this,n),o=t.call(this,e,i,r);var a=ts(e.min,o.attrs.min,-1/0),s=ts(e.max,o.attrs.max,1/0),c=ts(e.step,o.attrs.step,1);return o.range=new sa(a,s,c),o.min=o.range.min,o.max=o.range.max,o.step=o.range.step,o.setValue(o.min),o}return(0,D._)(n,[{key:"createDOMElement",value:function(){return document.createElement("input")}},{key:"render",value:function(){(0,E._)((0,S._)(n.prototype),"render",this).call(this),this.element.classList.add("fv__ui-number"),this.element.setAttribute("autocomplete","nope"),this.element.setAttribute("type","text"),this.fieldName&&this.setFieldName(this.fieldName)}},{key:"getForwardedEvents",value:function(){var e=(0,E._)((0,S._)(n.prototype),"getForwardedEvents",this).call(this),t=e.indexOf("change");return e.splice(t,1),e}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this);var t=new es.Z(this,"value");this.addDestroyHook(t.connect(new ns(this)));var i=function(){e.triggerChangeEvent()};this.element.addEventListener("change",i),this.addDestroyHook((function(){e.element.removeEventListener("change",i)})),this.setValue(this.value)}},{key:"createEventListener",value:function(e){var t=this;return"change"===e?function(){t.triggerChangeEvent()}:(0,E._)((0,S._)(n.prototype),"createEventListener",this).call(this,e)}},{key:"triggerChangeEvent",value:function(){var e=this.element.value;e.indexOf(this.suffix)>-1&&(e=e.substring(0,e.length-this.suffix.length)),e.indexOf(this.prefix)>-1&&(e=e.substring(this.prefix.length));var t=this.value;this.setValue(e),this.trigger("change",this.value,t)}},{key:"setAttribute",value:function(e,t){switch(e){case"min":case"max":case"step":this.range[e]=parseFloat(t),this[e]=this.range[e];break;case"prefix":case"suffix":this[e]=t;break;default:(0,E._)((0,S._)(n.prototype),"setAttribute",this).call(this,e,t)}}},{key:"setValue",value:function(e){this.allowEmpty&&""===e?(this.value="",this.element.value="".concat(this.prefix).concat(this.suffix)):(this.value=this.range.normalizeValue(e),this.element.value="".concat(this.prefix).concat((0,W.number2String)(this.value)).concat(this.suffix))}},{key:"getValue",value:function(){return this.value}},{key:"increment",value:function(){this.value=this.range.increment(this.value)}},{key:"decrement",value:function(){this.value=this.range.decrement(this.value)}},{key:"setMax",value:function(e){this.max=e,this.setValue(this.value)}},{key:"setMin",value:function(e){this.min=e,this.setValue(this.value)}},{key:"sync",value:function(e,t){switch(e){case"min":this.setMin(t);break;case"max":this.setMax(t);break;default:return(0,E._)((0,S._)(n.prototype),"sync",this).call(this,e,t)}return!0}},{key:"select",value:function(){this.element.focus(),this.element.setSelectionRange?this.element.setSelectionRange(0,99999):this.element.select()}},{key:"doDisable",value:function(){(0,E._)((0,S._)(n.prototype),"doDisable",this).call(this),this.element.setAttribute("disabled","")}},{key:"doEnable",value:function(){(0,E._)((0,S._)(n.prototype),"doEnable",this).call(this),this.element.removeAttribute("disabled")}}],[{key:"getName",value:function(){return"number"}},{key:"getMetadata",value:function(){return{options:{prefix:{type:"string",defaultValue:""},suffix:{type:"string",defaultValue:""},"allow-empty":{type:"boolean",defaultValue:!1,field:"allowEmpty"}}}}}]),n}(xa),rs=(n(8859),n(7482)),os=n.n(rs),as=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),(o=t.call(this,e,i,r)).iconCls=e.iconCls||o.iconCls,delete o.attrs.title,o}return(0,D._)(n,[{key:"setTitle",value:function(e){this.title=e,this.titleElement.setAttribute("data-i18n",e),this.localizer.localizeElement(this.titleElement)}},{key:"setIconCls",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.iconCls&&(e=this.iconElement.classList).remove.apply(e,(0,M._)(this.iconCls.split(/\s/))),(t=this.iconElement.classList).add.apply(t,(0,M._)(n.split(/\s/))),this.iconCls=n,this.iconElement.classList.remove("fv__ui-hide"),this.localizer.localizeElement(this.iconElement)}},{key:"setClosable",value:function(e){this.buttonsElement.classList.toggle("fv__ui-layer-header-unclosable",!e)}},{key:"createDOMElement",value:function(){var e=document.createElement("div");return e.classList.add("fv__ui-layer-header"),e.innerHTML=os()(),this.iconElement=e.querySelector(".fv__ui-layer-header-icon"),this.titleElement=e.querySelector(".fv__ui-layer-header-title"),this.buttonsElement=e.querySelector(".fv__ui-layer-header-buttons"),this.buttonElementList=this.buttonsElement.querySelectorAll(".fv__ui-layer-header-button"),e}},{key:"render",value:function(){var e;((0,E._)((0,S._)(n.prototype),"render",this).call(this),this.titleElement.setAttribute("data-i18n",this.title),this.iconCls)?(e=this.iconElement.classList).add.apply(e,(0,M._)(this.iconCls.split(/\s/))):this.iconElement.classList.add("fv__ui-hide");this.setClosable(!!this.closable)}},{key:"rerenderChildren",value:function(){}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this);var t={close:function(){var t=e.findClosestComponent((function(e){return(0,T._)(e,cs)}));(t||e.parent).hide(),e.trigger("close")}};this.buttonElementList.forEach((function(n){var i=n.getAttribute("action"),r=t[i];if(!r)throw new Error("handler of layer header button not found: ".concat(i));n.addEventListener("click",r),e.addDestroyHook((function(){return n.removeEventListener("click",r)}))}))}},{key:"getSlotContainer",value:function(e){if("buttons"===e)return this.buttonsElement}},{key:"sync",value:function(e,t){switch(e){case"title":return this.setTitle(t),!0;case"icon":return this.setIconCls(t),!0;case"closable":return this.setClosable(t),!0}return(0,E._)((0,S._)(n.prototype),"sync",this).call(this,e,t)}}],[{key:"getName",value:function(){return"layer-header"}},{key:"getMetadata",value:function(){return{options:{title:{type:"string"},"icon-class":{type:"string",field:"iconCls"},closable:{type:"boolean",defaultValue:!0}}}}}]),n}(na),ss=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),i=t.call(this),(0,z._)((0,x._)(i),"component",void 0),(0,z._)((0,x._)(i),"sharedLayerComponentService",void 0),i.component=e,i.component.on(Eo.qo.SHOWN,(function(){i.sharedLayerComponentService.showLayer(i.component)})),i.component.on(Eo.qo.HIDDEN,(function(){i.sharedLayerComponentService.hideLayer(i.component)})),i}return(0,D._)(n,[{key:"serviceInjected",value:function(){}}],[{key:"scope",value:function(){return Po.U.MULTI_CASE}},{key:"isLazy",value:function(){return!1}},{key:"services",value:function(){return{sharedLayerComponentService:ya}}}]),n}(W.Disposable),cs=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),(o=t.call(this,e,i,r)).modal=o.backdrop||o.modal,o.appendTo&&(o.appendTo=document.querySelector(o.appendTo)),o.$hasBeenLocalized=o.isVisible,o.removeTemporary=W.noop,o}return(0,D._)(n,[{key:"createDOMElement",value:function(){return document.createElement("div")}},{key:"render",value:function(){(0,E._)((0,S._)(n.prototype),"render",this).call(this);var e=this.element.classList;e.add("fv__ui-layer"),e.contains("center")||(e.contains("right")||e.contains("centerh")||e.add("left"),e.contains("bottom")||e.contains("centerv")||e.add("top")),this.containerElement=document.createElement("div"),this.containerElement.classList.add("fv__ui-layer-inner"),this.element.appendChild(this.containerElement),this.modal&&(this.backdropElement=document.createElement("div"),this.backdropElement.classList.add("fv__ui-layer-modal")),this.backdrop&&this.backdropElement.classList.add("fv__ui-layer-backdrop")}},{key:"getRenderingElements",value:function(){return this.backdropElement&&this.backdrop&&this.isVisible?[this.backdropElement,this.element]:[this.element]}},{key:"mounted",value:function(){if((0,E._)((0,S._)(n.prototype),"mounted",this).call(this),this.backdrop){var e=this.element.parentElement;if(e){var t=getComputedStyle(e).position;""!==t&&"static"!==t||(e.style.cssText+="position: relative")}}this.isVisible&&(this.isVisible=!1,this.show())}},{key:"hideOnEscape",value:function(){this.hide()}},{key:"getContainerElement",value:function(){return this.containerElement}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.appendTo,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||e,!this.isVisible&&!this.isDestroyed){if(this.$hasBeenLocalized||(this.localize(),this.$hasBeenLocalized=!0),e||(e=this.getRoot()),(0,T._)(e,na))"function"==typeof this.removeTemporary&&this.removeTemporary(),this.removeTemporary=e.appendTemporaryComponent(this);else{if(!(0,T._)(e,Element))throw new TypeError("Invalid type: 'appendTo' parameter should be a HTMLElement or ContainerComponent, but actual: ".concat(e));this.element.parentElement!=e&&e.appendChild(this.element)}(0,E._)((0,S._)(n.prototype),"show",this).call(this,t)}}},{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.appendTo,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.show(e,t)}},{key:"close",value:function(){this.isDestroyed||(this.trigger("beforeClose"),this.hide(),this.trigger(Eo.qo.CLOSED),(0,E._)((0,S._)(n.prototype),"destroy",this).call(this))}},{key:"doShown",value:function(){this.showBackdrop(),(0,E._)((0,S._)(n.prototype),"doShown",this).call(this),this.adjustOffset()}},{key:"adjustOffset",value:function(){var e=this.element.classList,t=e.contains("center")||e.contains("centerh"),n=e.contains("center")||e.contains("centerv"),i=0,r=0;if(t){var o=this.element.offsetWidth/2;i=o-Math.floor(o)}if(n){var a=this.element.offsetHeight/2;r=a-Math.floor(a)}this.element.style.setProperty("--fv-adjust-layer-offset-x",i+"px"),this.element.style.setProperty("--fv-adjust-layer-offset-y",r+"px")}},{key:"showBackdrop",value:function(){this.backdropElement&&this.element.parentElement&&this.element.parentElement.insertBefore(this.backdropElement,this.element)}},{key:"doDestroy",value:function(){var e=this.element.querySelectorAll("[id]");(0,E._)((0,S._)(n.prototype),"doDestroy",this).call(this),this.element.remove(),this.backdropElement&&this.backdropElement.remove(),e.forEach((function(e){window[e.id]===e&&delete window[e.id]}))}},{key:"doHidden",value:function(){(0,E._)((0,S._)(n.prototype),"doHidden",this).call(this),this.removeTemporary(),this.removeTemporary=W.noop,this.element.remove(),this.backdropElement&&this.backdropElement.remove()}},{key:"rerenderChildren",value:function(){if(!this.isDestroyed){var e=this.$container.children(),t=e.filter((function(e){return(0,T._)(e,as)})),n=e.filter((function(e){return!(0,T._)(e,as)})),i=function(e,t){return e.concat(t.getRenderingElements())},r=this.$temporaries.children().reduce(i,[]),o=t.reduce(i,[]),a=n.reduce(i,[]);this.diffRenderer(this.getContainerElement(),a.concat(r)),this.diffRenderer(this.element,o.concat(this.getContainerElement()))}}},{key:"_getFocusableElements",value:function(e){return(0,M._)(e).filter((function(e){if("-1"===e.getAttribute("tabindex"))return!1;var t=e.offsetHeight,n=e.offsetLeft,i=e.offsetTop,r=e.offsetWidth;return 0!==t||0!==n||0!==i||0!==r}))}}],[{key:"getName",value:function(){return"layer"}},{key:"getMetadata",value:function(){return{options:{visible:{type:"boolean",field:"isVisible",defaultValue:!1},backdrop:{type:"boolean",defaultValue:!1},modal:{type:"boolean",defaultValue:!1},"append-to":{type:"string",field:"appendTo"},focus:{type:"boolean",defaultValue:!0,field:"focusOnShown"}}}}},{key:"preprocess",value:function(e){var t=e.vnode.getAttribute("disable-shortcuts"),n=""===t||void 0!==t&&"false"!==t,i=!!e.vnode.directives.find((function(e){return"shortcut-context"===e.directiveName}));i||n||e.vnode.setAttribute("@shortcut-context",fa.CLOSABLE_LAYER),n&&e.vnode.removeAttribute("@shortcut-context")}},{key:"services",value:function(){return{layerComponentService:ss}}}]),n}(na),us=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"render",value:function(){(0,E._)((0,S._)(n.prototype),"render",this).call(this),this.element.classList.add("fv__ui-layer-toolbar")}}],[{key:"getName",value:function(){return"layer-toolbar"}}]),n}(na),ls=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"render",value:function(){(0,E._)((0,S._)(n.prototype),"render",this).call(this),this.element.classList.add("fv__ui-layer-panel")}}],[{key:"getName",value:function(){return"layer-view"}}]),n}(na),As=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"createDOMElement",value:function(){var e=document.createElement("template");return window.HTMLTemplateElement||(e.style.cssText="display: none!important;"),e}},{key:"render",value:function(){}},{key:"renderElementId",value:function(){}},{key:"rerenderChildren",value:function(){}},{key:"localize",value:function(){return Promise.all(this.$container.map((function(e){return e.localize()})))}},{key:"receiveBroadcast",value:function(e,t){(0,E._)((0,S._)(n.prototype),"receiveBroadcast",this).call(this,e,t),e===Eo.u7&&this.$container.each((function(e){return e.localize()}))}},{key:"mounted",value:function(){this.localize(),(0,E._)((0,S._)(n.prototype),"mounted",this).call(this)}},{key:"focus",value:function(){}},{key:"hasFocus",value:function(){return!1}}],[{key:"getName",value:function(){return"template"}}]),n}(na),ds=(n(9173),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"createDOMElement",value:function(){var e=document.createElement("input");return e.classList.add("fv__ui-input"),e}},{key:"setValue",value:function(e){var t=this.element;"checkbox"==t.type?t.checked=e:"radio"===t.type&&t.value===e&&(t.checked=!0),t.value=e,this.trigger("resetValue",e)}},{key:"getValue",value:function(){return this.getDOMValue()}},{key:"prerender",value:function(){this.element.spellcheck=this.spellcheck,this.element.autocapitalize=this.autocapitalize,this.element.autocomplete=this.autocomplete,this.element.autocorrect=this.autocorrect,(0,E._)((0,S._)(n.prototype),"prerender",this).call(this)}},{key:"getDOMValue",value:function(){var e=this.element;return"checkbox"===e.type?e.checked:(0,E._)((0,S._)(n.prototype),"getDOMValue",this).call(this)}},{key:"setDOMValue",value:function(e){var t=this.element;"checkbox"===t.type?t.checked=e:t.value=e}},{key:"mounted",value:function(){(0,E._)((0,S._)(n.prototype),"mounted",this).call(this),(0,E._)((0,S._)(n.prototype),"resolveCompositionEvent",this).call(this)}},{key:"doDisable",value:function(){(0,E._)((0,S._)(n.prototype),"doDisable",this).call(this),this.element.setAttribute("disabled","")}},{key:"doEnable",value:function(){(0,E._)((0,S._)(n.prototype),"doEnable",this).call(this),this.element.removeAttribute("disabled")}}],[{key:"getName",value:function(){return"input"}},{key:"getMetadata",value:function(){return{options:{spellcheck:{defaultValue:!1},autocapitalize:{defaultValue:"off",type:"string"},autocomplete:{defaultValue:"off",type:"string"},autocorrect:{defaultValue:"off",type:"string"}}}}}]),n}(xa)),hs=function(){function e(){(0,C._)(this,e),(0,z._)(this,"groups",{})}return(0,D._)(e,[{key:"serviceInjected",value:function(){}},{key:"addRadioComponent",value:function(e){var t=e.name,n=this.groups[t]||[];return this.groups[t]=n,n.push(e),function(){var t=n.indexOf(e);t>-1&&n.splice(t,1)}}},{key:"getValueOfComponent",value:function(e){var t=e.group||e.name,n=this.groups[t];if(n&&!(n.length<1)){var i=n.find((function(e){return e.isChecked()}));return i?i.getDataValue():void 0}}}],[{key:"scope",value:function(){return Po.U.COMPONENT_TREE}}]),e}(),fs=(n(6828),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"acceptText",value:function(){return!0}},{key:"doDisable",value:function(){(0,E._)((0,S._)(n.prototype),"doDisable",this).call(this),this.inputElement.setAttribute("disabled",!0)}},{key:"doEnable",value:function(){(0,E._)((0,S._)(n.prototype),"doEnable",this).call(this),this.inputElement.removeAttribute("disabled")}},{key:"createDOMElement",value:function(){var e=document.createElement("input"),t=document.createElement("label"),n=document.createElement("radio");t.classList.add("fv__ui-radio-label"),n.classList.add("fv__ui-radio"),e.type="radio";var i=(0,W.getUniqueId)("radio-input-");return e.id=i,t.setAttribute("for",i),n.appendChild(e),n.appendChild(t),this.inputElement=e,this.textElement=t,n}},{key:"getFormFieldElement",value:function(){return this.inputElement}},{key:"getValue",value:function(){return this.radioGroupService.getValueOfComponent(this)}},{key:"render",value:function(){(0,E._)((0,S._)(n.prototype),"render",this).call(this),this.$options.inputClass&&this.inputElement.classList.add(this.$options.inputClass),this.$options.lableClass&&this.textElement.classList.add(this.$options.lableClass),this.setDataValue(this.dataValue),this.check(this.checked),this.inputElement.name=this.fieldName}},{key:"prelink",value:function(){(0,E._)((0,S._)(n.prototype),"prelink",this).call(this),this.addDestroyHook(this.radioGroupService.addRadioComponent(this))}},{key:"renderText",value:function(){var e=this.textElement;return e.innerText="","string"==typeof this.text&&this.text.length>0?(this.element.appendChild(e),e.setAttribute("data-i18n",this.text)):this.texts.length>0&&this.texts.forEach((function(t){e.appendChild(t.element)})),e}},{key:"removeText",value:function(e){return!!(0,E._)((0,S._)(n.prototype),"removeText",this).call(this,e)&&(this.renderText(),!0)}},{key:"setValue",value:function(e){this.check(e===this.dataValue)}},{key:"check",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.inputElement.checked=e}},{key:"isChecked",value:function(){return this.inputElement.checked}},{key:"createEventListener",value:function(e){var t=this;return function(n){t.trigger(e,t.getDOMValue(),t.getValue(),n)}}},{key:"getDOMValue",value:function(){return this.getDataValue()}},{key:"getDataValue",value:function(){return this.dataValue}},{key:"setDOMValue",value:function(e){this.setDataValue(e)}},{key:"setDataValue",value:function(e){this.dataValue=e,this.inputElement.value=e;var t=this.getValue();this.check(t===e)}}],[{key:"getName",value:function(){return"radio"}},{key:"services",value:function(){return{radioGroupService:hs}}},{key:"getMetadata",value:function(){return{options:{checked:{type:"boolean",defaultValue:!1},text:{type:"string"},value:{type:"string",field:"dataValue"}}}}}]),n}(xa)),ps=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;(0,C._)(this,n);var a=(o=t.call(this,e,i,r))._getNumberOption("min"),s=o._getNumberOption("max"),c=o._getNumberOption("step"),u=o._getNumberOption("value");return o.range=new sa(a,s,c),o.value=o.range.normalizeValue(u),o}return(0,D._)(n,[{key:"setValue",value:function(e){e=this.normalizeValue(e),isNaN(e)||(this.value=e)}},{key:"getValue",value:function(){return this.value}},{key:"setMin",value:function(e){this.range.setMin(e),this.setValue(this.normalizeValue(this.value))}},{key:"setMax",value:function(e){this.range.setMax(e),this.setValue(this.normalizeValue(this.value))}},{key:"setStep",value:function(e){this.range.setStep(e),this.setValue(this.normalizeValue(this.value))}},{key:"getRatio",value:function(){var e=this.range.max-this.range.min;return 0===e?0:(this.value-this.range.min)/e}},{key:"_getNumberOption",value:function(e){return e in this.$options?this.$options[e]:parseFloat(this.attrs[e])}},{key:"normalizeValue",value:function(e){return this.range.normalizeValue(e)}},{key:"incrementValue",value:function(){return this.setValue(this.range.increment(this.value)),this.getValue()}},{key:"decrementValue",value:function(){return this.setValue(this.range.decrement(this.value)),this.getValue()}}]),n}(xa),vs=n(247),gs=n.n(vs),ms=(n(1637),[]),ys={HORIZONTAL:"horizontal",VERTICAL:"vertical"},_s=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),(o=t.call(this,e,i,r)).notifyTimeout=null,o.iconCls=e.iconCls||o.attrs["icon-class"]||o.attrs.iconclass,o.iconText=e.iconText||o.attrs["icon-text"]||o.attrs.icontext,o.unit=e.unit||o.attrs.unit,o.hideInput=e.hideInput||o.attrs.hideinput,o.step=+(e.step||o.attrs.step||1),o.direction=e.direction||o.attrs.direction||ys.HORIZONTAL,o.cancelUpdateTask=W.noop,o}return(0,D._)(n,[{key:"createDOMElement",value:function(){return document.createElement("div")}},{key:"render",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"render",this).call(this),this.element.classList.add("fv__ui-slider-container"),this.element.innerHTML=gs()(this),this.contrast&&this.element.querySelector(".fv__ui-slider").addClass("contrast");var t=(0,R._)([".fv__ui-slider-input",".fv__ui-slider-cursor",".fv__ui-slider-line",".fv__ui-slider-bar",".fv__ui-slider-center-point",".fv__ui-slider-unit"].map((function(t){return e.element.querySelector(t)})),6),i=t[0],r=t[1],o=t[2],a=t[3],s=t[4],c=t[5];this.inputElement=i,this.cursorElement=r,this.lineElement=o,this.unitElement=c,this.barElement=a,this.centerPointElement=s,this.setValue(this.value),this.centerPoint||this.centerPointElement.classList.add("fv__ui-hide")}},{key:"getForwardedEvents",value:function(){return["focus","compositionstart","compositionupdate","compositionend","keyup","keydown","keypress"]}},{key:"setValue",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.inputElement){e=this.normalizeValue(e);var i=this.value;return this.value=e,n?this.oldValue=this.value:this.valueChanged=!0,this.inputElement.setAttribute("value",this.value),this.inputElement.value=this.value,this.barElement.style.width=100*this.getRatio()+"%",0==this.lineElement.offsetWidth?(this.cancelUpdateTask(),ms.push(this),this.cancelUpdateTask=(0,W.observeResize)(this.lineElement,(function(){t._updateHandlePosition()}))):this._updateHandlePosition(),i!=this.value}this.initValue=e}},{key:"receiveBroadcast",value:function(e,t,i){e!==Eo.KJ?(0,E._)((0,S._)(n.prototype),"receiveBroadcast",this).call(this,e,t,i):this._updateHandlePosition()}},{key:"_updateHandlePosition",value:function(){var e=this.getRatio(),t=this.lineElement.offsetWidth;0!=t&&this.cancelUpdateTask();(0,W.cssText)(this.cursorElement,{left:"calc(".concat(100*e,"% - ").concat(5,"px)")})}},{key:"_elementStopEventPropagation",value:function(e,t){var n=function(e){return e.stopPropagation()};e.addEventListener(t,n),this.addDestroyHook((function(i){return e.removeEventListener(t,n)}))}},{key:"mounted",value:function(){var e=this;if(void 0!==this.value){(0,E._)((0,S._)(n.prototype),"mounted",this).call(this),this._elementStopEventPropagation(this.cursorElement,"pointerdown"),this._elementStopEventPropagation(this.cursorElement,"mousedown"),this._elementStopEventPropagation(this.cursorElement,"touchstart");var t,i,r=new Hammer.Manager(this.cursorElement);r.add(new Hammer.Pan({direction:Hammer.DIRECTION_ALL})),r.on("panstart",(function(n){if(e.disabled)return!1;e.oldValue=e.value;var r=e.getRatio(),o=e.lineElement.offsetWidth;return t=parseFloat(o*r)||-5,i=o,e.cursorElement.classList.add("fv__ui-select-dragging"),e.trigger("compositionstart",n),e.active(),n.srcEvent.stopPropagation(),!1})).on("panmove",(function(n){if(e.disabled)return!1;var r=t+(e.isHorizontal()?n.deltaX:-1*n.deltaY);r<-5?r=-5:r>i-5&&(r=i-5);var o=e.range,a=o.max,s=o.min,c=(r+5)/i*(a-s)+s;c=e.normalizeValue(c);var u=e.value;return e.setValue(c,!1),e._triggerChange(!1,n,u,c),e.isMoving=!0,n.srcEvent.stopPropagation(),!1})).on("panend",(function(t){return e.disabled||(e.isMoving=!1,e.cursorElement.classList.remove("fv__ui-select-dragging"),e._triggerChange(!0,t,e.value,e.value),e.commit(),t.srcEvent.stopPropagation()),!1})),this.addDestroyHook((function(){r.destroy()}));var o=function(t,n,i){t.addEventListener(n,i),e.addDestroyHook((function(){t.removeEventListener(n,i)}))};o(this.inputElement,"blur",(function(t){!function(t){if(!e.disabled&&e.inputElement.value!=e.value){var n=e.value;e.setValue(e.inputElement.value,!1);var i=e.value;e._triggerChange(!0,t,n,i)}}(),a(t),e.trigger("blur",t)})),o(this.inputElement,"focus",(function(t){e.trigger("focus",t),e.active()})),o(this.centerPointElement,"click",(function(t){var n=.5*(e.range.max-e.range.min),i=e.getValue(),r=e.normalizeValue(n);return e.setValue(r,!0),e._triggerChange(!0,t,i,e.getValue()),t.stopPropagation(),!1}));var a=function(t){if(e.valueChanged){var n=t.target.parentNode;t.target!==e.inputElement&&(t.target.classList&&"fv__ui-slider"==t.target.classList[0]||n.classList&&"fv__ui-slider"==n.classList[0]||n.parentNode.classList&&"fv__ui-slider"==n.parentNode.classList[0])||e.valueChanged&&(e.trigger("willCommit",{oldValue:e.oldValue,commitValue:e.value}),e.valueChanged=!1)}};o(document,"click",a),this.addDestroyHook((function(){for(e.cancelUpdateTask();;){var t=ms.indexOf(e);if(!(t>-1))break;ms.splice(t,1)}}));var s,c={PageUp:33,PageDown:34,Home:35,End:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40};o(this.cursorElement,"keydown",(function(e){var t=c[e.key];t>=33&&t<=40&&(e.stopPropagation(),e.preventDefault())})),o(this.cursorElement,"keyup",(s=null,function(t){if(!e.disabled&&c[t.key]){var n=c[t.key];s||(s=setTimeout((function(){s=null;var i=e.getValue();37===n||40===n?e.setValue(e.value-e.step):39===n||38===n?e.setValue(e.value+e.step):33===n?e.setValue(e.value+5*e.step):34===n?e.setValue(e.value-5*e.step):35===n?e.setValue(e.range.min):36===n&&e.setValue(e.range.max),e._triggerChange(!0,t,i,e.getValue())}),50)),t.preventDefault(),t.stopPropagation()}}));o(this.lineElement,"mousedown",(function(t){e.disabled||(0,W.eventPath)(t).every((function(n){if(n.classList.contains("fv__ui-slider-line")){var i=n.getClientRects();if(i){var r=i.item("DOMRect");if(r){var o=r.left,a=r.width,s=t.x;if(o<s&&o>0){var c=e.getValue(),u=(s-o)/a,l=e.range,A=l.min,d=l.max,h=String(u*d),f=h.indexOf("."),p=String(e.step).split(".");p=2===p.length?p[1].length+1:0,-1!==f&&(h=h.substr(0,f+p)),e.setValue(A+ +h,!1),e._triggerChange(!0,t,c,e.getValue()),e.commit(),e.cursorElement.focus()}}}return!1}return!0}))}))}else this.element.style.display="none"}},{key:"commit",value:function(){this.valueChanged&&(this.trigger("willCommit",{oldValue:this.oldValue,commitValue:this.value}),this.valueChanged=!1)}},{key:"disable",value:function(){(0,E._)((0,S._)(n.prototype),"disable",this).call(this),this.inputElement.setAttribute("disabled",1)}},{key:"enable",value:function(){(0,E._)((0,S._)(n.prototype),"enable",this).call(this),this.inputElement.removeAttribute("disabled")}},{key:"_triggerChange",value:function(e,t,n,i){var r=this;this.notifyTimeout&&clearTimeout(this.notifyTimeout);var o=function(){r.trigger("change",t,n,i,r)};e?o():this.notifyTimeout=setTimeout(o,200)}},{key:"focus",value:function(){this.cursorElement.focus()}},{key:"hasFocus",value:function(){return this.cursorElement===document.activeElement}},{key:"isHorizontal",value:function(){return!Object.values(ys).includes(this.direction)||this.direction===ys.HORIZONTAL}}],[{key:"getName",value:function(){return"slider"}},{key:"getMetadata",value:function(){return{options:{"center-point":{type:"boolean",field:"centerPoint",defaultValue:!1,required:!1},contrast:{type:"boolean",defaultValue:!1}}}}}]),n}(ps),bs=n(5883),ws=n.n(bs),ks=(n(6754),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){return(0,C._)(this,n),t.call(this,e,i,r)}return(0,D._)(n,[{key:"createDOMElement",value:function(){return document.createElement("div")}},{key:"render",value:function(){(0,E._)((0,S._)(n.prototype),"render",this).call(this);var e=(0,w._)({},this.viewConfig.attrs,this.$options);this.options=e.options,this.element.innerHTML=ws()(e),this.initDoms(),this.lableClass=""}},{key:"initDoms",value:function(){var e=this,t=(0,R._)([".fv__ui-select-icon",".fv__ui-select-lable",".fv__ui-select-selector",".fv__ui-select-dropdown"].map((function(t){return e.element.querySelector(t)})),4),n=t[0],i=t[1],r=t[2],o=t[3];this.$icon=n,this.$lable=i,this.$selector=r,this.$dropdown=o}},{key:"sync",value:function(e,t){var i=(0,E._)((0,S._)(n.prototype),"sync",this).call(this,e,t);return i||"options"===e&&(this.setData(t),!0)}},{key:"setData",value:function(e){var t=this;if(!this.$options.options&&!this.options){this.options=e;var n=(0,k._)((0,w._)({},this.viewConfig.attrs,this.$options),{options:e});this.element.innerHTML=ws()(n),this.initDoms(),this.liEles.length||Promise.resolve().then((function(e){(t.liEles=t.$selector.querySelectorAll("li")).forEach((function(e){t._addEvent(e,"click",t.selectChange.bind(t))}))})),this.setValue(this.value)}}},{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(Array.isArray(this.options)){-1==e&&(t=0,e=this.options[0].value);var n=this.value;this.value=e,-1==t&&this.options.map((function(n,i){if(n.value===e)return t=i,!1}));var i=this.options[t]||{};if(1!=this.$options.layout){this.lableClass&&this.$lable.classList.remove(this.lableClass),this.$lable.classList.add(i.class),this.lableClass=i.class,this.$lable.textContent="",!i.lable||this.$options.noOptionLable&&i.class||(this.$lable.setAttribute("data-i18n",i.lable),this.localize());var r=this.$selector.querySelector(".selected");r&&r.classList.remove("selected"),(r=this.$selector.querySelector('[data-value="'.concat(this.value,'"]')))&&r.classList.add("selected")}else this.lableClass&&this.$icon.classList.remove(this.lableClass),this.lableClass=i.class,this.$icon.classList.add(this.lableClass);return n!=this.value}this.value=e}},{key:"selectChange",value:function(e){if(!this.disabled){this.$selector.style.display="none";var t=e.target.dataset?e.target.dataset.value:e.target.getAttribute("data-value");return t="number"!=typeof+t||isNaN(+t)?t:+t,this.setValue(t)&&this.trigger("change",this.value),e.stopPropagation(),!1}}},{key:"_addEvent",value:function(e,t,n){e.addEventListener(t,n),this.addDestroyHook((function(){e.removeEventListener(t,n)}))}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this);var t=this._addEvent.bind(this);(this.liEles=this.$selector.querySelectorAll("li")).forEach((function(n){t(n,"click",e.selectChange.bind(e))}));var i=function(t,n){if(!e.disabled)return t&&(la()(e.$selector).is(":visible")?e.$selector.style.display="none":(e.$selector.style.display="block",function(e){e.style.display="block",e.style["margin-top"]="";var t=e.getBoundingClientRect();t.top+t.height+e.ownerDocument.defaultView.pageYOffset>e.ownerDocument.defaultView.innerHeight?(e.style["margin-top"]="-88%",la()(e).addClass("popup-top").removeClass("popup-bottom")):la()(e).addClass("popup-bottom").removeClass("popup-top")}(e.$selector),e.active())),!1};t(this.element,"click",(function(e){return i(!0)}));t(document,"click",(function(t){e.element.contains(t.target)||(e.$selector.style.display="none")}))}},{key:"disable",value:function(){(0,E._)((0,S._)(n.prototype),"disable",this).call(this),this.$selector.parentElement.classList.add("disabled"),this.$selector.style.display="none"}},{key:"enable",value:function(){(0,E._)((0,S._)(n.prototype),"enable",this).call(this),this.$selector.parentElement.classList.remove("disabled")}},{key:"deactive",value:function(){return this.$selector.style.display="none",(0,E._)((0,S._)(n.prototype),"deactive",this).call(this)}}],[{key:"getName",value:function(){return"choice"}}]),n}(xa));var xs=n(5027),Ps=n.n(xs);n(3858);const Cs={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class Ds{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Cs,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,i){return i&&!this.debug?null:("string"==typeof e[0]&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Ds(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new Ds(this.logger,e)}}var Es=new Ds;class Ss{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach((e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)})),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach((e=>{let[t,i]=e;for(let e=0;e<i;e++)t(...n)}))}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach((t=>{let[i,r]=t;for(let t=0;t<r;t++)i.apply(i,[e,...n])}))}}}function Is(){let e,t;const n=new Promise(((n,i)=>{e=n,t=i}));return n.resolve=e,n.reject=t,n}function Ts(e){return null==e?"":""+e}const Rs=/###/g;function Ms(e,t,n){function i(e){return e&&e.indexOf("###")>-1?e.replace(Rs,"."):e}function r(){return!e||"string"==typeof e}const o="string"!=typeof t?t:t.split(".");let a=0;for(;a<o.length-1;){if(r())return{};const t=i(o[a]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++a}return r()?{}:{obj:e,k:i(o[a])}}function Fs(e,t,n){const{obj:i,k:r}=Ms(e,t,Object);if(void 0!==i||1===t.length)return void(i[r]=n);let o=t[t.length-1],a=t.slice(0,t.length-1),s=Ms(e,a,Object);for(;void 0===s.obj&&a.length;)o=`${a[a.length-1]}.${o}`,a=a.slice(0,a.length-1),s=Ms(e,a,Object),s&&s.obj&&void 0!==s.obj[`${s.k}.${o}`]&&(s.obj=void 0);s.obj[`${s.k}.${o}`]=n}function Ns(e,t){const{obj:n,k:i}=Ms(e,t);if(n)return n[i]}function Ls(e,t,n){for(const i in t)"__proto__"!==i&&"constructor"!==i&&(i in e?"string"==typeof e[i]||e[i]instanceof String||"string"==typeof t[i]||t[i]instanceof String?n&&(e[i]=t[i]):Ls(e[i],t[i],n):e[i]=t[i]);return e}function Os(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var js={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Bs(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(e=>js[e])):e}const Vs=[" ",",","?","!",";"],Us=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20);function Hs(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];const i=t.split(n);let r=e;for(let e=0;e<i.length;){if(!r||"object"!=typeof r)return;let t,o="";for(let a=e;a<i.length;++a)if(a!==e&&(o+=n),o+=i[a],t=r[o],void 0!==t){if(["string","number","boolean"].indexOf(typeof t)>-1&&a<i.length-1)continue;e+=a-e+1;break}r=t}return r}function zs(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}class Ws extends Ss{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,o=void 0!==i.ignoreJSONStructure?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],n&&(Array.isArray(n)?a.push(...n):"string"==typeof n&&r?a.push(...n.split(r)):a.push(n)));const s=Ns(this.data,a);return!s&&!t&&!n&&e.indexOf(".")>-1&&(e=a[0],t=a[1],n=a.slice(2).join(".")),s||!o||"string"!=typeof n?s:Hs(this.data&&this.data[e]&&this.data[e][t],n,r)}addResource(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const o=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator;let a=[e,t];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(a=e.split("."),i=t,t=a[1]),this.addNamespaces(t),Fs(this.data,a,i),r.silent||this.emit("added",e,t,n,i)}addResources(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const i in n)("string"==typeof n[i]||Array.isArray(n[i]))&&this.addResource(e,t,i,n[i],{silent:!0});i.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),i=n,n=t,t=a[1]),this.addNamespaces(t);let s=Ns(this.data,a)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?Ls(s,n,r):s={...s,...n},Fs(this.data,a,s),o.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((e=>t[e]&&Object.keys(t[e]).length>0))}toJSON(){return this.data}}var Gs={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,i,r){return e.forEach((e=>{this.processors[e]&&(t=this.processors[e].process(t,n,i,r))})),t}};const Ys={};class $s extends Ss{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),function(e,t,n){e.forEach((e=>{t[e]&&(n[e]=t[e])}))}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=Es.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;const n=this.resolve(e,t);return n&&void 0!==n.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let r=t.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";const i=Vs.filter((e=>t.indexOf(e)<0&&n.indexOf(e)<0));if(0===i.length)return!0;const r=Us.getRegExp(`(${i.map((e=>"?"===e?"\\?":e)).join("|")})`);let o=!r.test(e);if(!o){const t=e.indexOf(n);t>0&&!r.test(e.substring(0,t))&&(o=!0)}return o}(e,n,i));if(o&&!a){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:r};const o=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(o[0])>-1)&&(r=o.shift()),e=o.join(i)}return"string"==typeof r&&(r=[r]),{key:e,namespaces:r}}translate(e,t,n){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const i=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],t),s=a[a.length-1],c=t.lng||this.language,u=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&"cimode"===c.toLowerCase()){if(u){const e=t.nsSeparator||this.options.nsSeparator;return i?{res:`${s}${e}${o}`,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:`${s}${e}${o}`}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:o}const l=this.resolve(e,t);let A=l&&l.res;const d=l&&l.usedKey||o,h=l&&l.exactUsedKey||o,f=Object.prototype.toString.apply(A),p=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject;if(v&&A&&("string"!=typeof A&&"boolean"!=typeof A&&"number"!=typeof A)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(f)<0&&("string"!=typeof p||!Array.isArray(A))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,A,{...t,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(l.res=e,l.usedParams=this.getUsedParamsDetails(t),l):e}if(r){const e=Array.isArray(A),n=e?[]:{},i=e?h:d;for(const e in A)if(Object.prototype.hasOwnProperty.call(A,e)){const o=`${i}${r}${e}`;n[e]=this.translate(o,{...t,joinArrays:!1,ns:a}),n[e]===o&&(n[e]=A[e])}A=n}}else if(v&&"string"==typeof p&&Array.isArray(A))A=A.join(p),A&&(A=this.extendTranslation(A,e,t,n));else{let i=!1,a=!1;const u=void 0!==t.count&&"string"!=typeof t.count,d=$s.hasDefaultValue(t),h=u?this.pluralResolver.getSuffix(c,t.count,t):"",f=t.ordinal&&u?this.pluralResolver.getSuffix(c,t.count,{ordinal:!1}):"",p=u&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),v=p&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${h}`]||t[`defaultValue${f}`]||t.defaultValue;!this.isValidLookup(A)&&d&&(i=!0,A=v),this.isValidLookup(A)||(a=!0,A=o);const g=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&a?void 0:A,m=d&&v!==A&&this.options.updateMissing;if(a||i||m){if(this.logger.log(m?"updateKey":"missingKey",c,s,o,m?v:A),r){const e=this.resolve(o,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let t=0;t<n.length;t++)e.push(n[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const i=(e,n,i)=>{const r=d&&i!==A?i:g;this.options.missingKeyHandler?this.options.missingKeyHandler(e,s,n,r,m,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,s,n,r,m,t),this.emit("missingKey",e,s,n,A)};this.options.saveMissing&&(this.options.saveMissingPlurals&&u?e.forEach((e=>{const n=this.pluralResolver.getSuffixes(e,t);p&&t[`defaultValue${this.options.pluralSeparator}zero`]&&n.indexOf(`${this.options.pluralSeparator}zero`)<0&&n.push(`${this.options.pluralSeparator}zero`),n.forEach((n=>{i([e],o+n,t[`defaultValue${n}`]||v)}))})):i(e,o,v))}A=this.extendTranslation(A,e,t,l,n),a&&A===o&&this.options.appendNamespaceToMissingKey&&(A=`${s}:${o}`),(a||i)&&this.options.parseMissingKeyHandler&&(A="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${s}:${o}`:o,i?A:void 0):this.options.parseMissingKeyHandler(A))}return i?(l.res=A,l.usedParams=this.getUsedParamsDetails(t),l):A}extendTranslation(e,t,n,i,r){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const a="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let s;if(a){const t=e.match(this.interpolator.nestingRegexp);s=t&&t.length}let c=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),e=this.interpolator.interpolate(e,c,n.lng||this.language,n),a){const t=e.match(this.interpolator.nestingRegexp);s<(t&&t.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&i&&i.res&&(n.lng=i.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return r&&r[0]===i[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${i[0]} in key: ${t[0]}`),null):o.translate(...i,t)}),n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,s="string"==typeof a?[a]:a;return null!=e&&s&&s.length&&!1!==n.applyPostProcessor&&(e=Gs.handle(s,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t,n,i,r,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((e=>{if(this.isValidLookup(t))return;const s=this.extractFromKey(e,a),c=s.key;n=c;let u=s.namespaces;this.options.fallbackNS&&(u=u.concat(this.options.fallbackNS));const l=void 0!==a.count&&"string"!=typeof a.count,A=l&&!a.ordinal&&0===a.count&&this.pluralResolver.shouldUseIntlApi(),d=void 0!==a.context&&("string"==typeof a.context||"number"==typeof a.context)&&""!==a.context,h=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);u.forEach((e=>{this.isValidLookup(t)||(o=e,!Ys[`${h[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(Ys[`${h[0]}-${e}`]=!0,this.logger.warn(`key "${n}" for languages "${h.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach((n=>{if(this.isValidLookup(t))return;r=n;const o=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(o,c,n,e,a);else{let e;l&&(e=this.pluralResolver.getSuffix(n,a.count,a));const t=`${this.options.pluralSeparator}zero`,i=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(l&&(o.push(c+e),a.ordinal&&0===e.indexOf(i)&&o.push(c+e.replace(i,this.options.pluralSeparator)),A&&o.push(c+t)),d){const n=`${c}${this.options.contextSeparator}${a.context}`;o.push(n),l&&(o.push(n+e),a.ordinal&&0===e.indexOf(i)&&o.push(n+e.replace(i,this.options.pluralSeparator)),A&&o.push(n+t))}}let s;for(;s=o.pop();)this.isValidLookup(t)||(i=s,t=this.getResource(n,e,s,a))})))}))})),{res:t,usedKey:n,exactUsedKey:i,usedLng:r,usedNS:o}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,i):this.resourceStore.getResource(e,t,n,i)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&"string"!=typeof e.replace;let i=n?e.replace:e;if(n&&void 0!==e.count&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const e of t)delete i[e]}return i}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}function Js(e){return e.charAt(0).toUpperCase()+e.slice(1)}class qs{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Es.create("languageUtils")}getScriptPartFromCode(e){if(!(e=zs(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=zs(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if("string"==typeof e&&e.indexOf("-")>-1){const t=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map((e=>e.toLowerCase())):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Js(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Js(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=Js(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach((e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)})),!t&&this.options.supportedLngs&&e.forEach((e=>{if(t)return;const n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find((e=>e===n?e:e.indexOf("-")<0&&n.indexOf("-")<0?void 0:e.indexOf("-")>0&&n.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===n||0===e.indexOf(n)&&n.length>1?e:void 0))})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],r=e=>{e&&(this.isSupportedCode(e)?i.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return"string"==typeof e&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(e))):"string"==typeof e&&r(this.formatLanguageCode(e)),n.forEach((e=>{i.indexOf(e)<0&&r(this.formatLanguageCode(e))})),i}}let Ks=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Zs={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}};const Xs=["v1","v2","v3"],Qs=["v4"],ec={zero:0,one:1,two:2,few:3,many:4,other:5};class tc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=Es.create("pluralResolver"),this.options.compatibilityJSON&&!Qs.includes(this.options.compatibilityJSON)||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=function(){const e={};return Ks.forEach((t=>{t.lngs.forEach((n=>{e[n]={numbers:t.nr,plurals:Zs[t.fc]}}))})),e}()}addRule(e,t){this.rules[e]=t}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(zs("dev"===e?"en":e),{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((e=>`${t}${e}`))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort(((e,t)=>ec[e]-ec[t])).map((e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`)):n.numbers.map((n=>this.getSuffix(e,n,t))):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:this.getSuffixRetroCompatible(i,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let i=e.numbers[n];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));const r=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?`_plural_${i.toString()}`:r():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?r():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!Xs.includes(this.options.compatibilityJSON)}}function nc(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=function(e,t,n){const i=Ns(e,n);return void 0!==i?i:Ns(t,n)}(e,t,n);return!o&&r&&"string"==typeof n&&(o=Hs(e,n,i),void 0===o&&(o=Hs(t,n,i))),o}class ic{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Es.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:i,prefix:r,prefixEscaped:o,suffix:a,suffixEscaped:s,formatSeparator:c,unescapeSuffix:u,unescapePrefix:l,nestingPrefix:A,nestingPrefixEscaped:d,nestingSuffix:h,nestingSuffixEscaped:f,nestingOptionsSeparator:p,maxReplaces:v,alwaysFormat:g}=e.interpolation;this.escape=void 0!==t?t:Bs,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==i&&i,this.prefix=r?Os(r):o||"{{",this.suffix=a?Os(a):s||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":l||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=A?Os(A):d||Os("$t("),this.nestingSuffix=h?Os(h):f||Os(")"),this.nestingOptionsSeparator=p||",",this.maxReplaces=v||1e3,this.alwaysFormat=void 0!==g&&g,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,i){let r,o,a;const s=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}const u=e=>{if(e.indexOf(this.formatSeparator)<0){const r=nc(t,s,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(r,void 0,n,{...i,...t,interpolationkey:e}):r}const r=e.split(this.formatSeparator),o=r.shift().trim(),a=r.join(this.formatSeparator).trim();return this.format(nc(t,s,o,this.options.keySeparator,this.options.ignoreJSONStructure),a,n,{...i,...t,interpolationkey:o})};this.resetRegExp();const l=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,A=i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>c(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?c(this.escape(e)):c(e)}].forEach((t=>{for(a=0;r=t.regex.exec(e);){const n=r[1].trim();if(o=u(n),void 0===o)if("function"==typeof l){const t=l(e,r,i);o="string"==typeof t?t:""}else if(i&&Object.prototype.hasOwnProperty.call(i,n))o="";else{if(A){o=r[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),o=""}else"string"==typeof o||this.useRawValueToEscape||(o=Ts(o));const s=t.safeValue(o);if(e=e.replace(r[0],s),A?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=r[0].length):t.regex.lastIndex=0,a++,a>=this.maxReplaces)break}})),e}nest(e,t){let n,i,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function a(e,t){const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const i=e.split(new RegExp(`${n}[ ]*{`));let o=`{${i[1]}`;e=i[0],o=this.interpolate(o,r);const a=o.match(/'/g),s=o.match(/"/g);(a&&a.length%2==0&&!s||s.length%2!=0)&&(o=o.replace(/'/g,'"'));try{r=JSON.parse(o),t&&(r={...t,...r})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${n}${o}`}return r.defaultValue&&r.defaultValue.indexOf(this.prefix)>-1&&delete r.defaultValue,e}for(;n=this.nestingRegexp.exec(e);){let s=[];r={...o},r=r.replace&&"string"!=typeof r.replace?r.replace:r,r.applyPostProcessor=!1,delete r.defaultValue;let c=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){const e=n[1].split(this.formatSeparator).map((e=>e.trim()));n[1]=e.shift(),s=e,c=!0}if(i=t(a.call(this,n[1].trim(),r),r),i&&n[0]===e&&"string"!=typeof i)return i;"string"!=typeof i&&(i=Ts(i)),i||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),i=""),c&&(i=s.reduce(((e,t)=>this.format(e,t,o.lng,{...o,interpolationkey:n[1].trim()})),i.trim())),e=e.replace(n[0],i),this.regexp.lastIndex=0}return e}}function rc(e){const t={};return function(n,i,r){const o=i+JSON.stringify(r);let a=t[o];return a||(a=e(zs(i),r),t[o]=a),a(n)}}class oc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Es.create("formatter"),this.options=e,this.formats={number:rc(((e,t)=>{const n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)})),currency:rc(((e,t)=>{const n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)})),datetime:rc(((e,t)=>{const n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)})),relativetime:rc(((e,t)=>{const n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")})),list:rc(((e,t)=>{const n=new Intl.ListFormat(e,{...t});return e=>n.format(e)}))},this.init(e)}init(e){const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=rc(t)}format(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=t.split(this.formatSeparator).reduce(((e,t)=>{const{formatName:r,formatOptions:o}=function(e){let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const i=e.split("(");t=i[0].toLowerCase().trim();const r=i[1].substring(0,i[1].length-1);"currency"===t&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):"relativetime"===t&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach((e=>{if(e){const[t,...i]=e.split(":"),r=i.join(":").trim().replace(/^'+|'+$/g,""),o=t.trim();n[o]||(n[o]=r),"false"===r&&(n[o]=!1),"true"===r&&(n[o]=!0),isNaN(r)||(n[o]=parseInt(r,10))}}))}return{formatName:t,formatOptions:n}}(t);if(this.formats[r]){let t=e;try{const a=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},s=a.locale||a.lng||i.locale||i.lng||n;t=this.formats[r](e,s,{...o,...i,...a})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${r}`),e}),e);return r}}class ac extends Ss{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=Es.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(e,t,n,i){const r={},o={},a={},s={};return e.forEach((e=>{let i=!0;t.forEach((t=>{const a=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[a]=2:this.state[a]<0||(1===this.state[a]?void 0===o[a]&&(o[a]=!0):(this.state[a]=1,i=!1,void 0===o[a]&&(o[a]=!0),void 0===r[a]&&(r[a]=!0),void 0===s[t]&&(s[t]=!0)))})),i||(a[e]=!0)})),(Object.keys(r).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(r),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(s)}}loaded(e,t,n){const i=e.split("|"),r=i[0],o=i[1];t&&this.emit("failedLoading",r,o,t),n&&this.store.addResourceBundle(r,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2;const a={};this.queue.forEach((n=>{!function(e,t,n,i){const{obj:r,k:o}=Ms(e,t,Object);r[o]=r[o]||[],i&&(r[o]=r[o].concat(n)),i||r[o].push(n)}(n.loaded,[r],o),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((e=>{a[e]||(a[e]={});const t=n.loaded[e];t.length&&t.forEach((t=>{void 0===a[e][t]&&(a[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((e=>!e.done))}read(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:r,callback:o});this.readingCalls++;const a=(a,s)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}a&&s&&i<this.maxRetries?setTimeout((()=>{this.read.call(this,e,t,n,i+1,2*r,o)}),r):o(a,s)},s=this.backend[n].bind(this.backend);if(2!==s.length)return s(e,t,a);try{const n=s(e,t);n&&"function"==typeof n.then?n.then((e=>a(null,e))).catch(a):a(null,n)}catch(e){a(e)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);const r=this.queueLoad(e,t,n,i);if(!r.toLoad.length)return r.pending.length||i(),null;r.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),i=n[0],r=n[1];this.read(i,r,"read",void 0,void 0,((n,o)=>{n&&this.logger.warn(`${t}loading namespace ${r} for language ${i} failed`,n),!n&&o&&this.logger.log(`${t}loaded namespace ${r} for language ${i}`,o),this.loaded(e,n,o)}))}saveMissing(e,t,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=n&&""!==n){if(this.backend&&this.backend.create){const s={...o,isUpdate:r},c=this.backend.create.bind(this.backend);if(c.length<6)try{let r;r=5===c.length?c(e,t,n,i,s):c(e,t,n,i),r&&"function"==typeof r.then?r.then((e=>a(null,e))).catch(a):a(null,r)}catch(e){a(e)}else c(e,t,n,i,a,s)}e&&e[0]&&this.store.addResource(e[0],t,n,i)}}}function sc(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let t={};if("object"==typeof e[1]&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach((e=>{t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function cc(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function uc(){}class lc extends Ss{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=cc(e),this.services={},this.logger=Es,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach((e=>{"function"==typeof n[e]&&(n[e]=n[e].bind(n))})),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout((()=>{this.init(e,t)}),0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const i=sc();function r(e){return e?"function"==typeof e?new e:e:null}if(this.options={...i,...this.options,...cc(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){let t;this.modules.logger?Es.init(r(this.modules.logger),this.options):Es.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=oc);const n=new qs(this.options);this.store=new Ws(this.options.resources,this.options);const o=this.services;o.logger=Es,o.resourceStore=this.store,o.languageUtils=n,o.pluralResolver=new tc(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format||(o.formatter=r(t),o.formatter.init(o,this.options),this.options.interpolation.format=o.formatter.format.bind(o.formatter)),o.interpolator=new ic(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new ac(r(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit(t,...i)})),this.modules.languageDetector&&(o.languageDetector=r(this.modules.languageDetector),o.languageDetector.init&&o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=r(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new $s(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit(t,...i)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,n||(n=uc),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((t=>{this[t]=function(){return e.store[t](...arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((t=>{this[t]=function(){return e.store[t](...arguments),e}}));const o=Is(),a=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(t),n(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),o}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uc;const n="string"==typeof e?e:this.language;if("function"==typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],i=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach((t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)}))};if(n)i(n);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>i(e)))}this.options.preload&&this.options.preload.forEach((e=>i(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)}))}else t(null)}reloadResources(e,t,n){const i=Is();return e||(e=this.languages),t||(t=this.options.ns),n||(n=uc),this.services.backendConnector.reload(e,t,(e=>{i.resolve(),n(e)})),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&Gs.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const i=Is();this.emit("languageChanging",e);const r=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},o=(e,o)=>{o?(r(o),this.translator.changeLanguage(o),this.isLanguageChangingTo=void 0,this.emit("languageChanged",o),this.logger.log("languageChanged",o)):this.isLanguageChangingTo=void 0,i.resolve((function(){return n.t(...arguments)})),t&&t(e,(function(){return n.t(...arguments)}))},a=t=>{e||t||!this.services.languageDetector||(t=[]);const n="string"==typeof t?t:this.services.languageUtils.getBestMatchFromCodes(t);n&&(this.language||r(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(n)),this.loadResources(n,(e=>{o(e,n)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),i}getFixedT(e,t,n){var i=this;const r=function(e,t){let o;if("object"!=typeof t){for(var a=arguments.length,s=new Array(a>2?a-2:0),c=2;c<a;c++)s[c-2]=arguments[c];o=i.options.overloadTranslationOptionHandler([e,t].concat(s))}else o={...t};o.lng=o.lng||r.lng,o.lngs=o.lngs||r.lngs,o.ns=o.ns||r.ns,o.keyPrefix=o.keyPrefix||n||r.keyPrefix;const u=i.options.keySeparator||".";let l;return l=o.keyPrefix&&Array.isArray(e)?e.map((e=>`${o.keyPrefix}${u}${e}`)):o.keyPrefix?`${o.keyPrefix}${u}${e}`:e,i.t(l,o)};return"string"==typeof e?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=n,r}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,r=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const o=(e,t)=>{const n=this.services.backendConnector.state[`${e}|${t}`];return-1===n||2===n};if(t.precheck){const e=t.precheck(this,o);if(void 0!==e)return e}return!!this.hasResourceBundle(n,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!o(n,e)||i&&!o(r,e)))}loadNamespaces(e,t){const n=Is();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=Is();"string"==typeof e&&(e=[e]);const i=this.options.preload||[],r=e.filter((e=>i.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e)));return r.length?(this.options.preload=i.concat(r),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services&&this.services.languageUtils||new qs(sc());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new lc(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uc;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},r=new lc(i);void 0===e.debug&&void 0===e.prefix||(r.logger=r.logger.clone(e));return["store","services","language"].forEach((e=>{r[e]=this[e]})),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},n&&(r.store=new Ws(this.store.data,i),r.services.resourceStore=r.store),r.translator=new $s(r.services,i),r.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r.emit(e,...n)})),r.init(i,t),r.translator.options=i,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ac=lc.createInstance();Ac.createInstance=lc.createInstance;Ac.createInstance,Ac.dir,Ac.init,Ac.loadResources,Ac.reloadResources,Ac.use,Ac.changeLanguage,Ac.getFixedT,Ac.t,Ac.exists,Ac.setDefaultNamespace,Ac.hasLoadedNamespace,Ac.loadNamespaces,Ac.loadLanguages;var dc,hc,fc,pc,vc="fv__ui-selected",gc=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),(o=t.call(this,e,i,r)).colors=[].concat(o.$options.colors),dc=o.$options.selectedclass+o.$options.lightpostname,hc=o.$options.selectedclass+o.$options.darkpostname,fc=o.$options.deleteclass+o.$options.lightpostname,pc=o.$options.deleteclass+o.$options.darkpostname,o.transparent=!1,o}return(0,D._)(n,[{key:"postlink",value:function(){(0,E._)((0,S._)(n.prototype),"postlink",this).call(this)}},{key:"createDOMElement",value:function(){return document.createElement("div")}},{key:"setValue",value:function(e){0!=e&&-1==this.colors.indexOf(e)&&this.colors.push(e),this.disabled&&this.value||(this.value=e),this.isEditing=!1,this.render()}},{key:"getValue",value:function(){return this.value}},{key:"render",value:function(){(0,E._)((0,S._)(n.prototype),"render",this).call(this),this.element.setAttribute("tabindex","-1"),this.element.innerHTML=Ps()(Object.assign({},this.$options,{colors:this.colors})),this._activeDom(),this._bindSpectrum(),this.showTransparentColor(this.transparent),this.trigger("postrender")}},{key:"mounted",value:function(){var e=this;this.element.addEventListener("click",(function(t){if(!e.disabled)if(t.preventDefault(),t.stopPropagation(),t.target.classList.contains("fv__ui-picker-color")){if(e.isEditing){var n,i=t.target.dataset;return n=i?i.index:t.target.getAttribute("data-index"),e.colors[n]="delected",t.target.classList.add("fv__ui-hide"),e.element.focus(),void setTimeout((function(){e.element.querySelector(".fv__ui-picker-removecolor").focus()}),100)}var r=e.value||"transparent";e.value=(0,W.colorConvertor)(t.target.style.backgroundColor,"#"),e._activeDom(t.target),e.trigger("change",t,e.value,r)}else if((0,W.eventPath)(t).some((function(e){return e.classList&&e.classList.contains("fv__ui-property-icon-nocolor")}))){if(e.isEditing)return;var o=e.value||"transparent";e.value=0,e._activeDom((0,W.eventPath)(t).filter((function(e){return e.classList&&e.classList.contains("fv__ui-property-icon-nocolor")}))[0]),e.trigger("change",t,o,"transparent")}else t.target.classList.contains("fv__ui-picker-addcolor")||t.target.classList.contains("fv__ui-picker-removecolor")&&e._toggleEditingMode(t)})),this.element.addEventListener("keydown",(function(t){var n=W.matchers.ArrowUp,i=W.matchers.ArrowDown,r=W.matchers.ArrowLeft,o=W.matchers.ArrowRight,a=W.matchers.Home,s=W.matchers.End,c=W.matchers.Enter;(0,W.match)(t).when(n,(function(){e._moveTo("up"),t.stopPropagation(),t.preventDefault()})).when(i,(function(){e._moveTo("down"),t.stopPropagation(),t.preventDefault()})).when(r,(function(){e._moveTo("left"),t.stopPropagation(),t.preventDefault()})).when(o,(function(){e._moveTo("right"),t.stopPropagation(),t.preventDefault()})).when(a,(function(){e._moveTo("first"),t.stopPropagation(),t.preventDefault()})).when(s,(function(){e._moveTo("last"),t.stopPropagation(),t.preventDefault()})).when(c,(function(){(0,W.eventPath)(t).some((function(e){return e.classList&&e.classList.contains("fv__ui-dropdown-list")}))&&t.stopPropagation();var e=document.activeElement;"LI"===e.tagName&&(e.click(),t.stopPropagation(),t.preventDefault())}))}))}},{key:"_moveTo",value:function(e){var t=document.activeElement;if("LI"===t.tagName||"BUTTON"===t.tagName){var n=this.element.querySelectorAll("ul.fv__ui-colors-picker > li:not(.fv__ui-hide),button:not(:disabled)");if(!(n.length<=0)){var i,r=(0,M._)(n).indexOf(t);if(-1!==r)"up"===e||"left"===e?i=n[--r]?n[r]:(0,M._)(n).slice(-1)[0]:"down"===e||"right"===e?i=n[++r]?n[r]:n[0]:"first"===e?i=n[0]:"last"===e&&(i=(0,M._)(n).slice(-1)[0]),i.focus()}}}},{key:"_activeDom",value:function(e){var t=this;if(!e){var n=this.element.children[0].children;n&&(0,M._)(n).every((function(n){return(n.style.backgroundColor?(0,W.colorConvertor)(n.style.backgroundColor,"#"):"")!==t.value||(e=n,!1)}))}var i=this.element.querySelector("."+vc);i&&(i.setAttribute("tabindex","-1"),i.classList.remove(vc,dc,hc));var r=this.element.querySelector(".fv__ui-property-icon-nocolor");r&&0===this.value&&r.classList.add(dc,vc),e&&(e.classList.add(vc),mc(e.style.backgroundColor)?e.classList.add(dc):e.classList.add(hc),e.setAttribute("tabindex",0),e.focus())}},{key:"_toggleEditingMode",value:function(e){if(this.isEditing){this.pdfUI.colorSpectrum.enable(),e.target.classList.remove(dc),this.isEditing=!1;var t=!0,n=!1,i=void 0;try{for(var r,o=this.element.querySelector(".fv__ui-colors-picker").children[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;a.classList.contains("fv__ui-picker-color")&&a.classList.remove(pc,fc)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}this._activeDom()}else{this.pdfUI.colorSpectrum.disable(),e.target.classList.add(dc),this.isEditing=!0;var s=!0,c=!1,u=void 0;try{for(var l,A=this.element.querySelector(".fv__ui-colors-picker").children[Symbol.iterator]();!(s=(l=A.next()).done);s=!0){var d=l.value;d.classList.contains("fv__ui-picker-color")&&(d.classList.remove(dc,hc),mc(d.style.backgroundColor)?d.classList.add(fc):d.classList.add(pc))}}catch(e){c=!0,u=e}finally{try{s||null==A.return||A.return()}finally{if(c)throw u}}var h=this.element.querySelector(".fv__ui-picker-nocolor");h&&h.classList.remove(dc)}}},{key:"_bindSpectrum",value:function(){var e=this,t=this.$colorInput=la()(this.element).find(".fv__ui-picker-addcolor");this.colorSpectrumIsVisible=!1;var n=function(){n=function(){},e.addDestroyHook((function(){e.pdfUI.colorSpectrum.on("hidden",(function(){e.colorSpectrumIsVisible=!1}))}))};t.on("click",(function(t){e.pdfUI.colorSpectrum.show(t.target,(function(t){var n=e.value||"transparent";e.setValue(t),e.disabled||e.trigger("change",t,e.getValue(),n)})),e.colorSpectrumIsVisible=!0,e.pdfUI.colorSpectrum.setDefaultColor(e.value),n(),t.stopPropagation()}))}},{key:"showTransparentColor",value:function(e){e?la()(this.element).find("."+this.$options.transparentclass)[0].classList.remove("fv__ui-hide"):la()(this.element).find("."+this.$options.transparentclass)[0].classList.add("fv__ui-hide"),this.transparent=e}},{key:"doDestroy",value:function(){(0,E._)((0,S._)(n.prototype),"doDestroy",this).call(this)}},{key:"doHidden",value:function(){(0,E._)((0,S._)(n.prototype),"doHidden",this).call(this),this.pdfUI.colorSpectrum.hide()}},{key:"focus",value:function(){var e=this.element.querySelector(".fv__ui-selected");e?e.focus():(this.element.querySelector(".fv__ui-picker-color"),this.element.focus())}},{key:"hasFocus",value:function(){return(0,E._)((0,S._)(n.prototype),"hasFocus",this).call(this)||this.colorSpectrumIsVisible&&this.pdfUI.colorSpectrum.hasFocus()}}],[{key:"getName",value:function(){return"color"}}]),n}(xa);function mc(e){if(!e||0==e.length)return!0;var t=e.match(/rgba?\((\d*), (\d*), (\d*),? ?([\.0-9]*)?\)/);return t&&.299*t[1]+.578*t[2]+.114*t[3]>=192}var yc=n(6936),_c=n.n(yc),bc=(n(2877),function(){}),wc=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),(o=t.call(this,e,i,r)).currentHue=0,o.currentSaturation=0,o.currentValue=0,o.disabled=!1,o}return(0,D._)(n,[{key:"createDOMElement",value:function(){var e=document.createElement("div");e.innerHTML=_c()();var t=la()(e.firstElementChild);return this.$dragger=t.find(".foxit-spectrum-color"),this.$draggerHelper=t.find("#foxit-spectrum-color-dragger"),this.$slider=t.find(".foxit-spectrum-hue"),this.$sliderHelper=t.find("#foxit-spectrum-hue-slider"),this.$current=t.find("#foxit-spectrum-current"),this.$active=t.find("#foxit-spectrum-active"),this.$choose=t.find("#foxit-spectrum-choose"),this.$cancel=t.find("#foxit-spectrum-cancel"),this.$trans=t.find(".foxit-spectrum-transparent"),e}},{key:"mounted",value:function(){return this.bindEvent(),(0,E._)((0,S._)(n.prototype),"mounted",this).call(this)}},{key:"bindEvent",value:function(){var e=this;this.$cancel.on("click touchend",(function(t){e.hide(),e.$options.cancelCallback&&e.$options.cancelCallback(),t.preventDefault()})),this.$choose.on("click touchstart",(function(t){e.hide(),(e.$options.chooseCallback||bc)(e.getValue()),t.preventDefault()})),this.sliderOffDrag=kc(this.$slider[0],(function(t,n){e.currentHue=parseFloat(n/e.$slider.height()),e.updateHueLocation(),e.active()})),this.draggerOffDrag=kc(this.$dragger[0],(function(t,n){var i=e.$dragger.height(),r=e.$dragger.width();e.currentSaturation=parseFloat(t/r),e.currentValue=parseFloat((i-n)/i),e.updateColorLocation(),e.active()})),this.$trans.on("click touchstart",(function(t){e.currentSaturation=-1,e.currentValue=-1,e.updateColorLocation(),e.active(),e.$draggerHelper.css({top:0,left:0}),t.preventDefault()})),this.attachEventToElement(window,"click",(function(t){var n;n=e.element.getElementsByTagName("layer")[0],(t.clientX<parseInt(n.style.left)||t.clientX>parseInt(n.style.left)+n.clientWidth||t.clientY<parseInt(n.style.top)||t.clientY>parseInt(n.style.top)+n.clientHeight)&&e.$options.hideOnFocus&&e.isVisible&&e.hide()}),!0)}},{key:"getValue",value:function(){return xc(this.currentHue,this.currentSaturation,this.currentValue)}},{key:"showTransparent",value:function(e){return this.$trans.toggleClass("show").toggle(e),this}},{key:"setDefaultColor",value:function(e){var t=function(e){e=0===e||"transparent"===e?"ffffff":e.replace(/^[\s,#]+/,"").replace(/\s+$/,"").toLowerCase();var t,n,i=/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/.exec(e),r=Cc(A(i[1]),255),o=Cc(A(i[2]),255),a=Cc(A(i[3]),255),s=Math.max(r,o,a),c=Math.min(r,o,a),u=s,l=s-c;if(n=0===s?0:l/s,s==c)t=0;else{switch(s){case r:t=(o-a)/l+(o<a?6:0);break;case o:t=(a-r)/l+2;break;case a:t=(r-o)/l+4}t/=6}return{h:t,s:n,v:u};function A(e){return parseInt(e,16)}}(e);this.currentHue=t.h,this.currentSaturation=t.s,this.currentValue=t.v,this.$current.css({backgroundColor:0===e?"#ffffff":e}),this.$active.css({backgroundColor:0===e?"#ffffff":e}),this.updateHueLocation(),this.updateColorLocation()}},{key:"show",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bc,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bc,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.disabled||(this.showAtElement=e,this.$options.chooseCallback=t,this.$options.cancelCallback=i,this.$options.hideOnFocus=r,(0,E._)((0,S._)(n.prototype),"show",this).call(this))}},{key:"doShown",value:function(){this.spectrumService.showSpectrum(this),(0,E._)((0,S._)(n.prototype),"doShown",this).call(this);var e=la()(this.showAtElement),t=la()(this.element).children(".foxit-spectrum-wrapper");t.css({display:"block"});window.devicePixelRatio;var i=function(){var n=e.offset(),i=e.outerWidth(),r=e.outerHeight(),o=(t.offset(),t.outerWidth()),a=t.outerHeight(),s=n.top+r,c=0;c=n.left+o>window.innerWidth?n.left-(n.left+o-window.innerWidth):n.left,s+a>window.innerHeight&&(s=s-a-r)<0&&(c=i+n.left,s=0),t.css({left:c,top:s+2})};t.outerHeight()?i():setTimeout((function(){i()}),3)}},{key:"doHidden",value:function(){this.spectrumService.hideSpectrum(this),(0,E._)((0,S._)(n.prototype),"doHidden",this).call(this),this.$trans.toggle(!1),la()(this.element.firstElementChild).css({display:"none"}),this.$slider.css("height","156px")}},{key:"active",value:function(){var e=xc(this.currentHue,this.currentSaturation,this.currentValue);this.$active.css({backgroundColor:0===e?"transparent":e})}},{key:"updateHueLocation",value:function(){var e=this.$slider.height(),t=this.$sliderHelper.height();this.$sliderHelper.css({top:e*this.currentHue-t});var n=Pc(this.currentHue,1,1);this.$dragger.css({backgroundColor:n})}},{key:"updateColorLocation",value:function(){var e=this.$draggerHelper.outerHeight(),t=this.$draggerHelper.outerWidth(),n=this.$dragger.height(),i=this.$dragger.width();this.$draggerHelper.css({top:n-this.currentValue*n-e/2,left:this.currentSaturation*i-t/2})}},{key:"destroy",value:function(){return this.sliderOffDrag(),this.draggerOffDrag(),this.$cancel.off("click touchstart"),this.$choose.off("click touchstart"),(0,E._)((0,S._)(n.prototype),"destroy",this).call(this)}}],[{key:"getName",value:function(){return"color-spectrum"}},{key:"getMetadata",value:function(){return{options:{visible:{type:"boolean",defaultValue:!1,field:"isVisible"}}}}},{key:"services",value:function(){return{spectrumService:_a}}}]),n}(Xo.wA);function kc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bc,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bc,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:bc,r=e.ownerDocument||document,o=!1,a={},s=0,c="ontouchstart"in window;function u(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function l(t){o||!1!==n.apply(e,arguments)&&(o=!0,s=la()(e).width(),a=la()(e).offset(),la()(r).on("touchmove mousemove",A),la()(r).on("touchend mouseup",d),c||A(t),u(t))}function A(n){if(o){var i=n.originalEvent&&n.originalEvent.touches,r=i?i[0].pageX:n.pageX,l=i?i[0].pageY:n.pageY,A=Math.max(0,Math.min(r-a.left,s)),d=Math.max(0,Math.min(l-a.top,la()(e).height()));c&&u(n),t.apply(e,[A,d,n])}}function d(){o&&(la()(r).off("touchmove mousemove",A),la()(r).off("touchend mouseup",d),i.apply(e,arguments)),o=!1}return la()(e).on("touchstart mousedown",l),function(){la()(e).off("touchstart mousedown",l)}}function xc(e,t,n){return-1===t&&-1===n?0:Pc(e,t,n)}function Pc(e,t,n){e=6*Cc(Dc(e),360),t=Cc(Dc(t),100),n=Cc(Dc(n),100);var i=Math.floor(e),r=e-i,o=n*(1-t),a=n*(1-r*t),s=n*(1-(1-r)*t),c=i%6;return"#"+function(e,t,n){var i=Math.round,r=[o(i(e).toString(16)),o(i(t).toString(16)),o(i(n).toString(16))];return r.join("");function o(e){return 1==e.length?"0"+e:""+e}}(255*[n,a,o,o,s,n][c],255*[s,n,n,a,o,o][c],255*[o,o,s,n,n,a][c])}function Cc(e,t){var n=Math.min,i=Math.max;(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var r=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=n(t,i(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Dc(e){return e<=1&&(e=100*e+"%"),e}var Ec=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),(o=t.call(this,e,i,r)).targetName=o.attrs.component,o}return(0,D._)(n,[{key:"createDOMElement",value:function(){var e=document.createElement("template");return window.HTMLTemplateElement||(e.style.cssText="display: none!important;"),e}},{key:"rerenderChildren",value:function(){}},{key:"mounted",value:function(){var e;if(!(e=this.targetName?this.getRoot().getComponentByName(this.targetName):this.parent))throw new Error("slot target not found: ".concat(this.targetName));e.appendSlot(this.slotName,this),(0,E._)((0,S._)(n.prototype),"mounted",this).call(this)}},{key:"acceptText",value:function(){return!1}},{key:"appendText",value:function(e){this.$container.append(e)}},{key:"localize",value:function(){return Promise.all(this.$container.map((function(e){return e.localize()})))}},{key:"receiveBroadcast",value:function(e,t){(0,E._)((0,S._)(n.prototype),"receiveBroadcast",this).call(this,e,t),e===Eo.u7&&this.$container.each((function(e){return e.localize()}))}},{key:"focus",value:function(){}},{key:"hasFocus",value:function(){return!1}}],[{key:"getName",value:function(){return"slot"}},{key:"getMetadata",value:function(){return{options:{for:{type:"string",field:"slotName"},component:{type:"string",field:"targetName"}}}}}]),n}(na),Sc=(n(4881),n(2939)),Ic=n.n(Sc),Tc=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"createDOMElement",value:function(){return document.createElement("li")}},{key:"doActive",value:function(){this.parent.setValue(this.value)}}],[{key:"getName",value:function(){return"xoption"}},{key:"getMetadata",value:function(){return{options:{text:{type:"string"},value:{}}}}}]),n}(Xo.wA),Rc=Ic()(),Mc=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"createDOMElement",value:function(){return document.createElement("div")}},{key:"render",value:function(){(0,E._)((0,S._)(n.prototype),"render",this).call(this),this.element.classList.add("fv__ui-xselect"),this.element.innerHTML=Rc,this.optionsListElement=this.element.querySelector(".fv__ui-xselect-options-list"),this.textElement=this.element.querySelector("fv__ui-xselect-button-text"),this.btnElement=this.element.querySelector("fv__ui-xselect-button"),this.editElement=this.element.querySelector("fv__ui-xselect-edit")}},{key:"edit",value:function(){this.btnElement.classList.add("editable"),this.isInEditState=!0}},{key:"view",value:function(){this.btnElement.classList.remove("editable"),this.isInEditState=!1}},{key:"append",value:function(e){if(!(0,T._)(e,Tc))throw new TypeError("Illegal argument: unexpected child component type: <".concat(e.nodeName,"> for <xselect>"));return(0,E._)((0,S._)(n.prototype),"append",this).call(this,e)}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this),this.addDestroyHook(this.controller.watch(this.options,(function(e,t){this.data=e,this.updateData(e,t)}),!0));var t=null,i=function(n){var i=n.target.closest("li"),r=i.getAttribute("index"),o=e.data[r],a=e.getValue();e.setValue(o),e.trigger("changed",o,a),i.classList.add("selected"),t&&t.classList.remove("selected"),t=i,n.stopPropagation()};this.optionsListElement.addEventListener("click",i),this.addDestroyHook((function(){return e.optionsListElement.removeEventListener("click",i)}))}},{key:"setValue",value:function(e){this.value=e,this.textElement.innerText=this.textRender(e,this)}},{key:"updateData",value:function(e){var t=this;if(this.optionsListElement.clear(),0!==e.length){var n=document.createDocumentFragment();e.forEach((function(e,i){var r=document.createElement("li");r.classList.add("fv__ui-xselect-option"),r.setAttribute("index",i);var o=t.optionRender(e,t);r.setAttribute("data-i18n",o),n.appendChild(r)})),this.optionsListElement.appendChild(n),-1==e.indexOf(this.value)&&this.setValue(e[0])}else this.setValue(null)}}],[{key:"getName",value:function(){return"xselect"}},{key:"getMetadata",value:function(){return{options:{editable:{type:"boolean",field:"isInEditState",defaultValue:!1},onInput:{type:"function",defaultValue:function(e){return e},args:["$inputValue"]},options:{type:"string"},textField:{type:"string",defaultValue:"value"},optionRender:{type:"function",defaultValue:function(e,t){return e[t.textField]}},textRender:{type:"function",defaultValue:function(e,t){return t.optionRender(e,t)}}}}}}]),n}(xa),Fc=(n(4162),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"createDOMElement",value:function(){return document.createElement("div")}},{key:"render",value:function(){(0,E._)((0,S._)(n.prototype),"render",this).call(this),this.element.classList.add("fv__ui-cotextmenu-separator")}}],[{key:"getName",value:function(){return"contextmenu-separator"}}]),n}(Xo.wA)),Nc=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),(o=t.call(this,e,i,r)).backdrop=!1,o.modal=!1,o.focusOnShown=!1,o.appendTo=document.body,o.currentTarget=void 0,o.isFullscreen=!1,o.isCustomExists=!1,o.timer=null,o}return(0,D._)(n,[{key:"render",value:function(){(0,E._)((0,S._)(n.prototype),"render",this).call(this),this.element.classList.add("fv__ui-contextmenu"),this.element.setAttribute("tabindex","-1")}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this);var t=function(t){for(var n=t.target;n;){if(n===e.element)return;n=n.parentElement}e.hide()},i=W.isWindows?"mouseup":"mousedown",r={capture:!0};document.addEventListener(i,t,r),W.isTouchDevice&&document.addEventListener("touchstart",t,r);var o=function(t){27===t.keyCode&&e.isVisible&&"hide"===e.escape&&(e.hide(),t.preventDefault()),t.stopPropagation()};this.element.addEventListener("keyup",o),this.addDestroyHook((function(){document.removeEventListener(i,t,r),document.removeEventListener("touchstart",t,r),e.element.removeEventListener("keyup",o)}))}},{key:"attachToAnchor",value:function(e){this.anchor=e}},{key:"showAt",value:function(e,t){var n=this;if(!this.isActive)return!1;var i=function(){var i,r;n.isDestroyed||(null!==(r=null===(i=n.pdfUI)||void 0===i?void 0:i.getRootComponent())&&void 0!==r?r:Promise.resolve(n.getRoot())).then((function(i){n.rootComponent=i,n.show(),n.updatePosition(e,t,i)}))};return W.isIPAD||W.isIOS?setTimeout(i,100):i(),!0}},{key:"updatePosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rootComponent;if(this.isVisible&&n){var i=this._limitPosition(e,t,n),r=i.left,o=i.top;this.element.style.left="".concat(r,"px"),this.element.clientHeight>window.innerHeight?(this.element.style.top="0",this.element.style.height=W.isIOS?"100dvh":"100vh",this.element.style.overflowY="auto"):(this.element.style.top="".concat(o,"px"),this.element.style.height="",this.element.style.overflowY="")}}},{key:"doShown",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"doShown",this).call(this),this.element.focus(),"function"==typeof navigator.vibrate&&navigator.vibrate(20),this.timer=setTimeout((function(){if(!e.isDestroyed){var t=0;e.children().forEach((function(e){(0,T._)(e,Fc)?(0===t?e.hide():"fv--contextmenu-separator-reset"!==e.name||e.isVisible?e.show():e.hide(),t=0):"option-group"===e.nodeName?e.children().forEach((function(e){e.isDOMVisible()&&t++})):e.isDOMVisible()&&t++}))}}))}},{key:"destroy",value:function(){(0,E._)((0,S._)(n.prototype),"destroy",this).call(this),this.timer&&clearTimeout(this.timer)}},{key:"_limitPosition",value:function(e,t,n){var i=n.element.offsetParent,r=(i.offsetLeft,i.offsetTop,window.innerHeight),o=window.innerWidth,a=document.documentElement,s=a.scrollLeft,c=a.scrollTop,u=this.element.getBoundingClientRect();e+=s;var l=(t+=c)+u.height,A=e+u.width;return l>r&&(l=r,t=r-u.height),A>o&&(A=o,e=o-u.width),{left:e,top:t}}},{key:"setCurrentTarget",value:function(e){this.currentTarget=e}},{key:"getCurrentTarget",value:function(){return this.currentTarget}},{key:"show",value:function(){var e=this,t=this;return(0,P._)((function(){var i,r;return(0,L.Jh)(this,(function(o){return t.isDestroyed||(i=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement,r=i||document.body,(0,E._)((0,S._)(n.prototype),"show",e).call(t,r)),[2]}))}))()}}],[{key:"getName",value:function(){return"contextmenu"}},{key:"getMetadata",value:function(){return{options:{escape:{type:"string",defaultValue:"hide"},active:{type:"boolean",field:"isActive",defaultValue:!0}}}}}]),n}(cs),Lc=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"createDOMElement",value:function(){this.textElement=document.createElement("span"),this.textElement.classList.add("fv__ui-button-text"),this.iconElement=document.createElement("i"),this.iconElement.classList.add("fv__ui-button-icon");var e=document.createElement("span");e.classList.add("fv__ui-contextmenu-item-shortcut"),this.shortcutElement=e;var t=document.createElement("a");return this.orderedElementsManager=new xo(t,[this.iconElement,this.textElement,this.shortcutElement]),t}},{key:"render",value:function(){(0,E._)((0,S._)(n.prototype),"render",this).call(this),this.shortcutElement.innerText=this.shortcut||"",this.orderedElementsManager.mount(this.shortcutElement),this.addCSSClass("fv__ui-contextmenu-item")}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this),this.addDestroyHook(this.on("click",(function(){for(var t=e.parent;t;){if((0,T._)(t,Nc)){t.hide();break}t=t.parent}})))}}],[{key:"getName",value:function(){return"contextmenu-item"}},{key:"getMetadata",value:function(){return{options:{shortcut:{type:"string"}}}}}]),n}(ka),Oc=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){return(0,C._)(this,n),t.call(this,e,i,r)}return(0,D._)(n,[{key:"setCurrentSelectionTool",value:function(e){this.selectionTool=e}},{key:"getCurrentSelectionTool",value:function(){return this.selectionTool}},{key:"setAlignment",value:function(e){if("bottom"===e)this.element.classList.add("align-bottom");else this.element.classList.remove("align-bottom")}},{key:"render",value:function(){(0,E._)((0,S._)(n.prototype),"render",this).call(this),this.element.tabIndex="-1"}},{key:"showAt",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.appendTo,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:W.noop,o=!this.isVisible;this.element.style.cssText+="\n            left: ".concat(e,"px;\n            top: ").concat(t,"px;\n        "),(0,E._)((0,S._)(n.prototype),"show",this).call(this,i);var a=r(this.element);if(a){var s="";"number"==typeof a.left&&(s+="left: ".concat(a.left,"px;")),"number"==typeof a.top&&(s+="top: ".concat(a.top,"px;")),s.length&&(this.element.style.cssText+=s)}o||this.trigger(Eo.qo.SHOWN),this.element.focus({preventDefault:!0})}}],[{key:"getName",value:function(){return"tooltip-layer"}}]),n}(cs),jc=(n(7814),n(1558)),Bc=n.n(jc),Vc={};W.Lazy.property(Vc,"dom",(function(){var e=document.createElement("div");e.innerHTML=Bc()();var t=e.firstElementChild;return e.removeChild(t),t}));var Uc=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),(o=t.call(this,e,i,r)).taskExecutor=new W.DebounceAsyncTaskExecutor(10),"string"==typeof o.excludeDevicesString?o.excludeDevices=o.excludeDevicesString.split(/[,;\s]+/):o.excludeDevices=[],"string"==typeof o.includeDevicesString?o.includeDevices=o.includeDevicesString.split(/[,;\s]+/):o.includeDevices=[],o.addDestroyHook((function(){o.taskExecutor.destroy()})),o}return(0,D._)(n,[{key:"createDOMElement",value:function(){return Vc.dom.cloneNode(!0)}},{key:"prerender",value:function(){(0,E._)((0,S._)(n.prototype),"prerender",this).call(this),this.element.classList.add("fv__ui-paddle-"+this.orientation),this.leftButton=this.element.querySelector(".fv__ui-paddle-button-prev"),this.rightButton=this.element.querySelector(".fv__ui-paddle-button-next"),this.contentElement=this.element.querySelector(".fv__ui-paddle-content"),this.containerElement=this.contentElement.parentElement}},{key:"getContainerElement",value:function(){return this.contentElement}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this),this.shouldWorking()?(this.attachEventToElement(this.leftButton,"click",(function(t){e.backward()})),this.attachEventToElement(this.rightButton,"click",(function(t){e.forward()})),this.attachEventToElement(window,"resize",(function(){e.taskExecutor.exec((function(){return e.updatePaddleState(),Promise.resolve()}))})),this.updatePaddleState(),this.addDestroyHook((0,W.observeResize)(this.element,(function(){e.isVisible&&e.updatePaddleState()})))):this.element.classList.add("fv__ui-paddle-unavailable")}},{key:"paddle",value:function(e){e>0?this.forward(e):e<0&&this.backward(-e)}},{key:"backward",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.step;this.disabled||(this.containerElement.scrollLeft=e>0?Math.max(0,this.containerElement.scrollLeft-e):0,this.updatePaddleState())}},{key:"forward",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.step;if(!this.disabled){var t=this.containerElement,n=this.contentElement,i=n.offsetWidth-t.offsetWidth,r=0;r=e>0?Math.min(i,t.scrollLeft+e):i,t.scrollLeft=r,this.updatePaddleState(),t.scrollLeft!==r&&(t.scrollLeft=r,(r===i||r+t.offsetWidth>=n.offsetWidth)&&this.element.classList.remove("fv__ui-paddle-overflow-forward"))}}},{key:"receiveBroadcast",value:function(e,t){(0,E._)((0,S._)(n.prototype),"receiveBroadcast",this).call(this,e,t),"active"===e&&this.updatePaddleState()}},{key:"updatePaddleState",value:function(){var e=this;if(!this.isDestroyed){var t=this.containerElement,n=this.contentElement.offsetWidth,i=t.offsetWidth;this.element.classList.remove("fv__ui-paddle-overflow-backward","fv__ui-paddle-overflow-forward","fv__ui-paddle-overflow-none");var r=function(t){e.element.classList.add("fv__ui-paddle-overflow-"+t)};n>i?(t.scrollLeft+i<n&&r("forward"),t.scrollLeft>0&&r("backward")):r("none")}}},{key:"doShown",value:function(){(0,E._)((0,S._)(n.prototype),"doShown",this).call(this),this.updatePaddleState()}},{key:"shouldWorking",value:function(){var e=this.devices||[],t=this.excludeDevices||[],n=!1;if((e.length>0&&(n=e.some((function(e){return!!W.DEVICE_DETACTION[e]}))),!n)&&t.some((function(e){return!!W.DEVICE_DETACTION[e]})))return!1;return!0}}],[{key:"getName",value:function(){return"paddle"}},{key:"getMetadata",value:function(){return{options:{orientation:{type:"enum",enums:["horizontal","vertical"],defaultValue:"horizontal"},"exclude-devices":{type:"string",field:"excludeDevicesString",required:!1},devices:{type:"string",field:"includeDevicesString",required:!1},canBeDisabled:{type:"boolean",defaultValue:!1},step:{type:"number"}}}}}]),n}(na),Hc=(n(2387),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){return(0,C._)(this,n),t.call(this,e,i,r)}return(0,D._)(n,[{key:"createDOMElement",value:function(){var e=document.createElement("div");return e.classList.add("fv__ui-option-group"),e}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this);var t=W.matchers.ArrowUp,i=W.matchers.ArrowDown,r=W.matchers.Home,o=W.matchers.End,a=function(n){var a=function(t){var n=(0,M._)(e.element.querySelectorAll(".fv__ui-option-group-item")).filter((function(e){return Aa(e)})),i=(0,M._)(n).indexOf(document.activeElement);if(-1!==i){var r=n[(i+t+n.length)%n.length];r&&r.focus()}};(0,W.match)(n).switchers(!1).when(t,(function(){a(-1)})).when(i,(function(){a(1)})).when(r,(function(){var t=(0,M._)(e.element.querySelectorAll(".fv__ui-option-group-item")).filter((function(e){return Aa(e)})),n=t[0];n&&n.focus()})).when(o,(function(){var t=(0,M._)(e.element.querySelectorAll(".fv__ui-option-group-item")).filter((function(e){return Aa(e)})),n=t[t.length-1];n&&n.focus()}))};this.element.addEventListener("keydown",a),this.addDestroyHook((function(){return e.element.removeEventListener("keydown",a)}))}},{key:"__getElement",value:function(e){this.element.querySelectorAll("fv__ui-option-group-item")}}],[{key:"getName",value:function(){return"option-group"}}]),n}(na)),zc=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),(o=t.call(this,e,i,r)).activeClass="selected",o.iconCls="fv__icon-tick",o}return(0,D._)(n,[{key:"createDOMElement",value:function(){(0,E._)((0,S._)(n.prototype),"createDOMElement",this).call(this);var e=document.createElement("li");return e.classList.add("fv__ui-option-group-item"),this.orderedElementsManager=new xo(e,[this.iconElement,this.textElement]),e}},{key:"trigger",value:function(e){for(var t,i=this,r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];"click"!==e?(t=(0,E._)((0,S._)(n.prototype),"trigger",this)).call.apply(t,[this,e].concat((0,M._)(o))):this.isMultiple?(this.element.classList.toggle(this.activeClass),this.isSelected=Wc(this.element,this.activeClass),(0,E._)((0,S._)(n.prototype),"trigger",this).call(this,e,{selected:this.isSelected})):Wc(this.element,this.activeClass)||(Array.from(this.element.parentNode.children).forEach((function(e){e.classList.remove(i.activeClass)})),this.element.classList.add(this.activeClass),(0,E._)((0,S._)(n.prototype),"trigger",this).call(this,e,{selected:!0}))}},{key:"unSelected",value:function(e){var t=this;this.isMultiple?(this.element.classList.remove(this.activeClass),e&&(0,E._)((0,S._)(n.prototype),"trigger",this).call(this,e,{selected:!1})):this.element.parentNode.querySelectorAll("."+this.activeClass).forEach((function(e){e.classList.remove(t.activeClass)}))}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this);var t=this.parent.element,i=this.element.getAttribute("selected");this.isMultiple=null!==t.getAttribute("multiple"),this.pdfUI.eventEmitter.once("open-file-success",(function(){null!==i&&e.trigger("click","mounted")}))}}],[{key:"getName",value:function(){return"option-group-item"}}]),n}(ka);function Wc(e,t){return!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}n(706);var Gc,Yc,$c=W.matchers.Space,Jc=W.matchers.Enter,qc=W.matchers.ArrowLeft,Kc=W.matchers.ArrowRight,Zc=W.matchers.Tab,Xc=W.matchers.Home,Qc=W.matchers.End,eu=W.matchers.or,tu=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"init",value:function(){this.tabGroups=this.context.tabGroups,this.isClosed=!1,this.bodyComponentDefer=(0,W.createDeferred)(),this.bodyComponentPromise=this.bodyComponentDefer.promise,this.bodyComponentIsLoaded=!1}},{key:"createDOMElement",value:function(){var e=document.createElement("div"),t=document.createElement("span"),n=document.createElement("i"),i=document.createElement("i");return this.orderedElementManager=new xo(e,[i,t,n]),this.closeElement=n,this.iconElement=i,this.textElement=t,e}},{key:"render",value:function(){var e;((0,E._)((0,S._)(n.prototype),"render",this).call(this),this.element.classList.add("fv__ui-gtab-item"),this.textElement.classList.add("fv__ui-gtab-item-text"),this.iconElement.classList.add("fv__ui-gtab-item-icon"),this.closeElement.classList.add("fv__ui-gtab-item-close"),this.iconCls)&&((e=this.iconElement.classList).add.apply(e,(0,M._)(this.iconCls.split(/\s/))),this.orderedElementManager.mount(this.iconElement));this.orderedElementManager.mount(this.textElement),this.closable&&this.orderedElementManager.mount(this.closeElement)}},{key:"setClosable",value:function(e){this.closable="boolean"==typeof e?e:this.closable,this.closable?this.orderedElementManager.mount(this.closeElement):this.orderedElementManager.unmount(this.closeElement)}},{key:"setText",value:function(e){this.text=e||this.text,this.texts.slice(0).forEach((function(e){return e.destroy()})),this.renderText(),this.localize()}},{key:"acceptText",value:function(){return!0}},{key:"renderText",value:function(){var e=this.textElement;return"string"==typeof this.text&&this.text.length>0?e.setAttribute("data-i18n",this.text):(e.removeAttribute("data-i18n"),this.texts.length>0&&ta(e,this.texts.map((function(e){return e.element})))),this.orderedElementManager.mount(e),e}},{key:"postlink",value:function(){(0,E._)((0,S._)(n.prototype),"postlink",this).call(this),this.renderText()}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this),this.tabGroups.addTab(this),this.addDestroyHook((function(){e.tabGroups.removeTab(e)})),this.getRoot().waitForComponentLifecycle(this.body,Xo.Ah.mounted).then((function(t){var n=(0,R._)(t,1)[0];e.bodyComponentDefer.resolve(n),e.bodyComponentIsLoaded=!0})),this.attachEventToElement(this.element,"click",(function(){e.disabled||e.active()})),this.attachEventToElement(this.closeElement,"click",(function(t){t.stopPropagation(),e.disabled||e.close()})),this.isActive?(this.isActive=!1,this.active()):(this.isActive=!0,this.deactive()),this.attachEventToElement(this.element,"keydown",(function(t){e.disabled||(0,W.match)(t).when(eu($c,Jc),(function(){e.active()})).when(Xc,(function(){e.activeFirstTab(),t.stopPropagation(),t.preventDefault()})).when(Qc,(function(){e.activeLastTab(),t.stopPropagation(),t.preventDefault()})).when(qc,(function(){e.activePreviousTab(),t.stopPropagation(),t.preventDefault()})).when(Kc,(function(){e.activeNextTab(),t.stopPropagation(),t.preventDefault()})).shift(!1).when(Zc,(function(){if(e.isActive){var n=e.element.getAttribute("body"),i=e.getRoot().getComponentByName(n),r=i.element.querySelectorAll(".fx-ribbon-item-active");if(r.length>0)r=r[0];else if(!(r=i.element.querySelector(".fv__ui-grouplist-item>div:nth-child(1)")))return;var o=function(e){e.stopPropagation(),e.preventDefault(),e.target.removeEventListener("keyup",o)};r.addEventListener("keyup",o),r.focus(),t.preventDefault(),t.stopPropagation()}}))})),this.bodyComponentPromise.then((function(t){t.attachEventToElement(t.element,"keydown",(function(t){(0,W.isEditableElement)(t.target)||(0,W.match)(t).when(qc,(function(){e.activePreviousTab(),t.stopPropagation()})).when(Kc,(function(){e.activeNextTab(),t.stopPropagation()}))}))}))}},{key:"doActive",value:function(){var e=this;this.element.classList.add("active"),this.tabGroups.getGroupTabs(this.groupName).forEach((function(t){t!==e&&t.isActive&&t.deactive()})),this.bodyComponentIsLoaded||this.getRoot().querySelector(this.body),this.bodyComponentPromise.then((function(e){e.show()}))}},{key:"doDeactive",value:function(){this.element.classList.remove("active"),this.bodyComponentPromise.then((function(e){e.hide()}))}},{key:"doHidden",value:function(){if((0,E._)((0,S._)(n.prototype),"doHidden",this).call(this),this.isActive){var e=this.getGroup().getVisibleTabs().find((function(e){return e.isDefaultActive}));e&&e.active()}}},{key:"doShown",value:function(){(0,E._)((0,S._)(n.prototype),"doShown",this).call(this);var e=this.getGroup();if(e&&this===e.getLast()){var t=e.tabItems.find((function(e){return e.isActive}));if(!t){var i=e.getVisibleTabs().find((function(e){return e.isDefaultActive}));i&&i.active()}}}},{key:"doDestroy",value:function(){(0,E._)((0,S._)(n.prototype),"doDestroy",this).call(this),this.destroyWithBody&&this.bodyComponentPromise.then((function(e){e.destroy()}))}},{key:"getTabBodyComponent",value:function(){return this.bodyComponentPromise}},{key:"close",value:function(){this.isClosed||this.isDestroyed||(this.isClosed=!0,this.activeNext(),this.hide(),this.trigger("close"),this.destroyOnClose&&(this.destroy(),this.destroyWithBody||this.bodyComponentPromise.then((function(e){return e.destroy()}))))}},{key:"activeNext",value:function(){var e,t=this.tabGroups.getGroupTabs(this.groupName).filter((function(e){return e.isVisible&&e.isDOMVisible()})),n=t.indexOf(this);(e=n===t.length-1?t[n-1]:t[n+1])&&e.active()}},{key:"open",value:function(){this.isClosed&&!this.isDestroyed&&(this.show(),1===this.tabGroups.getGroupTabs(this.groupName).length&&this.active(),this.isClosed=!1,this.trigger("open"))}},{key:"activeNextTab",value:function(){var e=this.getGroup().getNextOf(this);this._switchTabTo(e)}},{key:"activePreviousTab",value:function(){var e=this.getGroup().getPreviousOf(this);this._switchTabTo(e)}},{key:"activeFirstTab",value:function(){var e=this.getGroup().getFirst();this._switchTabTo(e)}},{key:"activeLastTab",value:function(){var e=this.getGroup().getLast();this._switchTabTo(e)}},{key:"_switchTabTo",value:function(e){e&&e!==this&&(e.active(),e.element.focus())}},{key:"getGroup",value:function(){return this.tabGroups.getGroup(this.groupName)}}],[{key:"getName",value:function(){return"gtab"}},{key:"getMetadata",value:function(){return{options:{"icon-class":{type:"string",field:"iconCls"},group:{type:"string",required:!0,field:"groupName"},body:{type:"string",required:!0},closable:{type:"boolean",defaultValue:!1},"destroy-on-close":{type:"boolean",defaultValue:!1,field:"destroyOnClose"},"destrory-with-body":{type:"boolean",defaultValue:!0,field:"destroyWithBody"},text:{type:"string"},"default-active":{type:"boolean",defaultValue:!1,field:"isDefaultActive"}}}}}]),n}(Xo.wA),nu=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"doEnable",value:function(){}},{key:"doDisable",value:function(){}},{key:"doActive",value:function(){}},{key:"doDeactive",value:function(){}},{key:"doShown",value:function(){}},{key:"doHidden",value:function(){}},{key:"addCSSClass",value:function(){}},{key:"removeCSSClass",value:function(){}},{key:"prerender",value:function(){}},{key:"isIgnorable",value:function(){return this.ignoreable}},{key:"createDOMElement",value:function(){return document.createComment(this.text||"")}},{key:"acceptText",value:function(){return!0}},{key:"renderText",value:function(){this.localize()}},{key:"doLocalize",value:function(){return this.element.textContent=this.text,Promise.resolve()}},{key:"focus",value:function(){}},{key:"hasFocus",value:function(){return!1}}],[{key:"getName",value:function(){return"html-comment"}},{key:"getMetadata",value:function(){return{options:{text:{type:"string"},ignoreable:{type:"boolean",defaultValue:!1}}}}}]),n}(Xo.wA),iu=n(8448),ru={input:"change",select:"change",button:"click",a:"click"},ou=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){return(0,C._)(this,n),t.call(this,e,i,r)}return(0,D._)(n,[{key:"is",value:function(e){return"{native}"===e||(0,E._)((0,S._)(n.prototype),"is",this).call(this,e)}},{key:"init",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"init",this).call(this),Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.element),"value")&&this.attachEventToElement(this.element,"change",(function(t){e.trigger("change",t)}))}},{key:"setValue",value:function(e){this.element.value=e}},{key:"getValue",value:function(){return this.element.value}},{key:"isNative",value:function(){return!0}},{key:"createDOMElement",value:function(){return document.createElement(this.viewConfig.nodeName)}},{key:"acceptText",value:function(){return!0}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this);var t=this.handleon||ru[this.element.nodeName]||"click",i=function(n){e.disabled||((0,T._)(e.controller,iu.Z)||e.controller.handle(n),e.trigger(t,n))};this.element.addEventListener(t,i),this.addDestroyHook((function(){e.element.removeEventListener(t,i)}))}},{key:"doDisable",value:function(){this.isNativeFormElement()?this.element.setAttribute("disabled","disabled"):(0,E._)((0,S._)(n.prototype),"doDisable",this).call(this)}},{key:"doEnable",value:function(){this.isNativeFormElement()?this.element.removeAttribute("disabled"):(0,E._)((0,S._)(n.prototype),"doEnable",this).call(this)}},{key:"isNativeFormElement",value:function(){switch(this.element.nodeName){case"SELECT":case"BUTTON":case"TEXTAREA":return!0}return!1}}],[{key:"getName",value:function(){return"{native}"}},{key:"getMetadata",value:function(){return{options:{handleon:{type:"string",required:!1}}}}}]),n}(na),au=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"createDOMElement",value:function(){var e=document.createElement("div");e.innerHTML=this.node.template;var t=e.firstElementChild;return e.removeChild(t),t}},{key:"mounted",value:function(){return na.prototype.mounted.call(this)}}],[{key:"getName",value:function(){return"svg"}},{key:"preprocess",value:function(e){e.vnode.children=[]}}]),n}(ou),su=(n(9674),["ltr","rtl","ttb"]),cu=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"init",value:function(){(0,E._)((0,S._)(n.prototype),"init",this).call(this),this.direction=this.direction||"ltr",this.delimiter=void 0===this.delimiter?":":this.delimiter,this.label=this.label||"",this.tag=this.tag||"label",this.description=this.description||""}},{key:"setDirection",value:function(e){if("string"!=typeof e||-1===su.indexOf(e.toLowerCase()))throw new Error("Invalid direction value: ".concat(e,", it must be one of these: ").concat(su.join(",")));e=e.toLowerCase(),this.direction=e,this.rerenderDomStructure()}},{key:"setDelimiter",value:function(e){this.delimiter="string"!=typeof e?"":e,this.delimeterElement.innerText=e}},{key:"getDelimiter",value:function(){return this.delimiter}},{key:"setLabel",value:function(e){this.label=e||"",this.labelContentElement.setAttribute("data-i18n",this.label),this.localizer.localizeElement(this.labelContentElement)}},{key:"setDescription",value:function(e){this.description=e||"",this.descriptionElement.setAttribute("data-i18n",this.description),this.localizer.localizeElement(this.descriptionElement),this.rerenderChildren()}},{key:"getDescription",value:function(){return this.description}},{key:"getLabel",value:function(){return this.label}},{key:"getDirection",value:function(){return this.direction}},{key:"rerenderLabel",value:function(){var e=[this.labelContentElement];switch(this.direction){case"ltr":case"ttb":e.push(this.delimeterElement)}this.diffRenderer(this.labelElement,e)}},{key:"createDOMElement",value:function(){return this.labelElement=document.createElement("span"),this.labelContentElement=(0,W.createDOM)("span",{class:"fv__ui-form-group-label-content"}),this.delimeterElement=(0,W.createDOM)("span",{class:"fv__ui-form-group-delimiter"}),this.descriptionElement=(0,W.createDOM)("div",{class:"fv__ui-form-group-description"}),this.containerElement=document.createElement("div"),document.createElement(this.attrs.tag||"label")}},{key:"prerender",value:function(){(0,E._)((0,S._)(n.prototype),"prerender",this).call(this),this.element.classList.add("fv__ui-form-group"),this.labelElement.classList.add("fv__ui-form-group-label"),this.containerElement.classList.add("fv__ui-form-group-container"),this.setLabel(this.label),this.setDelimiter(this.delimiter),this.setDirection(this.direction),this.setDescription(this.description)}},{key:"getContainerElement",value:function(){return this.containerElement}},{key:"rerenderDomStructure",value:function(){var e,t=[];"ltr"===this.direction||"ttb"===this.direction?t.push(this.labelElement,this.containerElement):t.push(this.containerElement,this.labelElement),this.rerenderLabel(),(e=this.element.classList).remove.apply(e,(0,M._)(["ltr","rtl","ttb"].map((function(e){return"fv__ui-form-group-"+e})))),this.element.classList.add("fv__ui-form-group-"+this.direction),this.diffRenderer(this.element,t)}},{key:"getAfterExtensionElements",value:function(){return this.description?[this.descriptionElement]:[]}},{key:"doDisable",value:function(){(0,E._)((0,S._)(n.prototype),"doDisable",this).call(this),this.addCSSClass("disabled")}},{key:"doEnable",value:function(){(0,E._)((0,S._)(n.prototype),"doEnable",this).call(this),this.removeCSSClass("disabled")}}],[{key:"getName",value:function(){return"form-group"}},{key:"getMetadata",value:function(){return{options:{direction:{type:"enum",enums:su,defaultValue:"ltr"},delimiter:{type:"string",defaultValue:":"},label:{type:"string",defaultValue:""},description:{type:"string",required:!1,defaultValue:""},tag:{type:"string",defaultValue:"label"}}}}}]),n}(na),uu=(n(2765),"SELECTED-VALUES"),lu="USER-SELECT-VALUES",Au=function(){function e(){(0,C._)(this,e),(0,z._)(this,"selectedValues",new Set),(0,z._)(this,"emitter",new(oa())),(0,z._)(this,"multipleLimit",-1)}return(0,D._)(e,[{key:"setMultipleLimit",value:function(e){if(this.multipleLimit=e,this.selectedValues.size>this.multipleLimit){var t=this.getSelectedValues();this.overrideValues(t.slice(0,this.multipleLimit))}}},{key:"selectValue",value:function(e){var t=Array.from(this.selectedValues);if(this.selectedValues.size===this.multipleLimit){var n=this.getSelectedValues();this.selectedValues=new Set(n.slice(1))}var i=this.selectedValues.size;this.selectedValues.add(e),this.selectedValues.size>i&&this.emitChange(Array.from(this.selectedValues),t)}},{key:"unselectValue",value:function(e){var t=this;this.handleChange((function(){t.selectedValues.delete(e)}))}},{key:"replaceValue",value:function(e,t){var n=this;this.handleChange((function(){n.selectedValues.delete(e),n.selectedValues.add(t)}))}},{key:"getSelectedValues",value:function(){return Array.from(this.selectedValues)}},{key:"isValueSelected",value:function(e){return this.selectedValues.has(e)}},{key:"overrideValues",value:function(e){var t=this;this.handleChange((function(){t.selectedValues=new Set(e)}))}},{key:"onValuesChanged",value:function(e){return this.registerEvent(uu,e)}},{key:"onUserChanged",value:function(e){return this.registerEvent(lu,e)}},{key:"registerEvent",value:function(e,t){var n=this;return this.emitter.on(e,t),function(){n.emitter.off(e,t)}}},{key:"emitChange",value:function(e,t){this.emitter.emit(uu,e,t)}},{key:"emitUserChange",value:function(e,t){this.emitter.emit(lu,e,t)}},{key:"handleChange",value:function(e){var t=Array.from(this.selectedValues);e(),this.emitChange(Array.from(this.selectedValues),t)}}],[{key:"scope",value:function(){return Po.U.COMPONENT_TREE}}]),e}(),du=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;return(0,C._)(this,n),e=t.apply(this,arguments),(0,z._)((0,x._)(e),"service",void 0),e}return(0,D._)(n,[{key:"createDOMElement",value:function(){var e=document.createElement("li");return e.className="fv__ui-widget-sel-option",e}},{key:"setValue",value:function(e){this.isSelected()&&this.service.replaceValue(this.value,e),this.value=e}},{key:"getValue",value:function(){return this.value}},{key:"setSelected",value:function(e){e?this.service.selectValue(this.value):this.service.unselectValue(this.value),this.applyNewState()}},{key:"isSelected",value:function(){return this.service.isValueSelected(this.value)}},{key:"acceptText",value:function(){return!0}},{key:"prelink",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"prelink",this).call(this),this.attachEventToElement(this.element,"click",(function(){e.trigger("click"),e.handleUserChange((function(){e.service.selectValue(e.getValue())}))}),{}),this.addDestroyHook(this.service.onValuesChanged((function(){e.applyNewState()})))}},{key:"select",value:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.handleUserChange((function(){e.service.selectValue(e.getValue())})):this.service.selectValue(this.getValue())}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this),this.handleUserChange((function(){e.setValue(e.value)}))}},{key:"handleUserChange",value:function(e){var t=this.service.getSelectedValues();e();var n=this.service.getSelectedValues(),i=n.some((function(e){return-1==t.indexOf(e)}));i&&this.service.emitUserChange(n,t)}},{key:"applyNewState",value:function(){if(this.element){var e=this.isSelected();this.element.classList.toggle("fv__ui-widget-sel-option-selected",e),e&&this.element.scrollIntoViewIfNeeded()}}}],[{key:"getName",value:function(){return"sel-option"}},{key:"inject",value:function(){return{service:Au}}},{key:"getMetadata",value:function(){var e=na.getMetadata();return e.options.selected={type:"boolean",defaultValue:!1,required:!1},e}}]),n}((0,W.mix)(na)),hu=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"allInjected",value:function(){var e=this;this.setMultipleLimit(this.multipleLimit),this.addDestroyHook(this.service.onUserChanged((function(t,n){e.trigger("change",t,n)})))}},{key:"setMultipleLimit",value:function(e){this.service.setMultipleLimit(e)}},{key:"createDOMElement",value:function(){var e=document.createElement("ul");return e.className="fv__ui-widget-select-list",e.tabIndex=0,e}},{key:"getValue",value:function(){return this.service.getSelectedValues()}},{key:"setValue",value:function(e){e||(e=[]),this.service.overrideValues(e)}},{key:"getOptionChildren",value:function(){return this.children().filter((function(e){return(0,T._)(e,du)}))}},{key:"getSelectedOptionChildren",value:function(){return this.getOptionChildren().filter((function(e){return e.isSelected()}))}}],[{key:"getName",value:function(){return"select-list"}},{key:"inject",value:function(){return{service:Au}}},{key:"getMetadata",value:function(){var e=na.getMetadata();return e.options.singleton={required:!1,defaultValue:!0},e.options.limit={field:"multipleLimit",required:!1,defaultValue:1/0,min:-1,max:1/0,type:"range"},e}}]),n}((0,W.mix)(na)),fu=function(){function e(){(0,C._)(this,e),(0,z._)(this,"observersMap",new WeakMap)}return(0,D._)(e,[{key:"observe",value:function(e,t){return this.observeWithinRoot(document.body,e,t)}},{key:"observeWithinRoot",value:function(e,t,n){return this.getObserver(e).observe(t,(function(e,t){return n(t)}))}},{key:"getObserver",value:function(e){return this.observersMap.has(e)||this.observersMap.set(e,new W.BuiltinIntersectionObserver(e)),this.observersMap.get(e)}}]),e}(),pu=function(){function e(){(0,C._)(this,e),(0,z._)(this,"store",new W.Store)}return(0,D._)(e,[{key:"onDetect",value:function(e,t){return this.store.subscribe(e,t)}},{key:"dispatch",value:function(e,t){return this.store.dispatch(e,t)}},{key:"remove",value:function(e){this.store.remove(e)}}]),e}(),vu=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;return(0,C._)(this,n),e=t.apply(this,arguments),(0,z._)((0,x._)(e),"intersectionService",void 0),(0,z._)((0,x._)(e),"detectorService",void 0),(0,z._)((0,x._)(e),"intersectionObserverRoot",document),(0,z._)((0,x._)(e),"unobserve",W.noop),e}return(0,D._)(n,[{key:"createDOMElement",value:function(){return document.createElement("div")}},{key:"render",value:function(){(0,E._)((0,S._)(n.prototype),"render",this).call(this),this.element.style.cssText+="height: ".concat(this.height,"px; width: 10px;")}},{key:"mounted",value:function(){(0,E._)((0,S._)(n.prototype),"mounted",this).call(this),this.observe()}},{key:"observe",value:function(){var e=this;this.unobserve();var t=this.intersectionService.observeWithinRoot(this.intersectionObserverRoot,this.element,(function(t){e.isDestroyed||e.detectorService.dispatch(e.ownerId,{isVisible:t,range:e.range.split("-").map((function(e){return parseInt(e)}))})})),n=this.addDestroyHook(t);this.unobserve=function(){n(),t()}}},{key:"setRoot",value:function(e){this.intersectionObserverRoot=e,this.isMounted&&this.observe()}},{key:"isIgnorable",value:function(){return!0}}],[{key:"getName",value:function(){return"intersection-detector"}},{key:"getMetadata",value:function(){return{options:{height:{type:"number",min:1,required:!0},"owner-id":{type:"string",required:!0,field:"ownerId"},range:{type:"string",match:/^\d+\-\d+$/}}}}},{key:"inject",value:function(){return{intersectionService:fu,detectorService:pu}}}]),n}(Xo.wA),gu=(n(6607),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"createDOMElement",value:function(){var e=document.createElement("button");return e.classList.add("fv__ui-color-picker-button"),e.type="button",e}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this),this.setValue(this.value),this.addDestroyHook(this.delegateEventService.delegate(this.element,"click",(function(){e.onClick()})))}},{key:"onClick",value:function(){var e=this;this.spectrum||(this.spectrum=this.getRoot().append("<color-spectrum @aria:circular-focus></color-spectrum>"),this.addDestroyHook((function(){var t;null===(t=e.spectrum)||void 0===t||t.destroy()}))),void 0!==this.value&&null!==this.value&&this.spectrum.setDefaultColor(this.value),this.spectrum.showTransparent(this.showTransparent).show(this.element,(function(){var t,n=e.getValue(),i=null===(t=e.spectrum)||void 0===t?void 0:t.getValue();e.setValue(i),e.triggerChangeEvent(i,n)}))}},{key:"setValue",value:function(e){(0,E._)((0,S._)(n.prototype),"setValue",this).call(this,e),this.setDOMValue(e)}},{key:"setDOMValue",value:function(e){var t="0"!==e&&!!e;this.element.classList.toggle("fv__ui-color-picker-button-empty",!t),t?this.element.style.setProperty("--value",e):(this.element.style.setProperty("--value","transparent"),this.element.removeAttribute("value"))}},{key:"getDOMValue",value:function(){return this.element.style.getPropertyValue("--value")}}],[{key:"getName",value:function(){return"color-picker-button"}},{key:"getMetadata",value:function(){return{options:{"show-transparent":{required:!1,defaultValue:!0,field:"showTransparent",type:"boolean"}}}}},{key:"inject",value:function(){return{delegateEventService:Uo}}}]),n}(xa)),mu=(n(9302),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;return(0,C._)(this,n),e=t.apply(this,arguments),(0,z._)((0,x._)(e),"value",W.PDFUnitNumber.NaN()),e}return(0,D._)(n,[{key:"createDOMElement",value:function(){return(0,W.createDOM)("div",{class:"fv__ui-pdf-unit-number-input"},[this.editorElement=(0,W.createDOM)("input",{class:"fv__ui-pdf-unit-input-number-editor"}),(0,W.createDOM)("div",{class:"fv__ui-pdf-unit-number-input-buttons"},[this.incrementElement=(0,W.createDOM)("button",{class:"fv__ui-pdf-unit-number-input-increment"},[]),this.decrementElement=(0,W.createDOM)("button",{class:"fv__ui-pdf-unit-number-input-decrement"},[])])])}},{key:"getFormFieldElement",value:function(){return this.editorElement}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this),this.addDestroyHook(this.delegateEventService.delegate(this.incrementElement,"click",(function(){var t=e.value,n=t.add(W.PDFUnitNumber.one(t.unit));e.setValue(n),e.triggerChangeEvent(n,t)})),this.delegateEventService.delegate(this.decrementElement,"click",(function(){var t=e.value,n=t.minus(W.PDFUnitNumber.one(t.unit));e.setValue(n),e.triggerChangeEvent(n,t)})),this.delegateEventService.delegate(this.editorElement,"beforeinput",(function(t){switch(t.inputType){case"insertText":var n;if("p"===t.data&&e.value.unit===W.PDFUnit.Picas&&-1===e.getDOMValue().indexOf("p"))break;(null===(n=t.data)||void 0===n?void 0:n.match(/\d+/))||t.preventDefault()}})),this.delegateEventService.delegate(this.editorElement,"change",(function(t){var n=e.getDOMValue();try{var i=e.value,r=W.PDFUnitNumber.parse(n,i.unit);e.triggerChangeEvent(r,i)}catch(t){e.setDOMValue(e.value.format())}})))}},{key:"getForwardedEvents",value:function(){return[]}},{key:"setValue",value:function(e){"number"==typeof e?e=new W.PDFUnitNumber(e,this.value.unit):e||(e=W.PDFUnitNumber.NaN(this.value.unit)),(0,E._)((0,S._)(n.prototype),"setValue",this).call(this,e),this.setDOMValue((null==e?void 0:e.format())||"")}},{key:"setUnit",value:function(e){var t=this.value.convert(e);this.setValue(t)}},{key:"getPointValue",value:function(){return this.value.convert(W.PDFUnit.Point).value}},{key:"doDisable",value:function(e){return this.editorElement.setAttribute("disabled",""),(0,E._)((0,S._)(n.prototype),"doDisable",this).call(this,e)}},{key:"doEnable",value:function(e){return this.editorElement.removeAttribute("disabled"),(0,E._)((0,S._)(n.prototype),"doEnable",this).call(this,e)}}],[{key:"getName",value:function(){return"pdf-unit-number-input"}},{key:"inject",value:function(){return{delegateEventService:Uo}}}]),n}(xa)),yu=(n(4827),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"createDOMElement",value:function(){var e=document.createElement("textarea");return e.classList.add("fv__ui-textarea"),e}},{key:"mounted",value:function(){(0,E._)((0,S._)(n.prototype),"mounted",this).call(this),(0,E._)((0,S._)(n.prototype),"resolveCompositionEvent",this).call(this)}},{key:"setValue",value:function(e){(0,E._)((0,S._)(n.prototype),"setValue",this).call(this,e),this.setDOMValue(e)}},{key:"getValue",value:function(){return this.value}},{key:"getDOMValue",value:function(){return this.element.value}},{key:"setDOMValue",value:function(e){this.element.value=e}},{key:"doDisable",value:function(e){(0,E._)((0,S._)(n.prototype),"doDisable",this).call(this,e),this.element.setAttribute("disabled","")}},{key:"doEnable",value:function(e){(0,E._)((0,S._)(n.prototype),"doEnable",this).call(this,e),this.element.removeAttribute("disabled")}}],[{key:"getName",value:function(){return"textarea"}}]),n}(xa)),_u=(n(5111),n(3667)),bu=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"parseComponent",value:function(e,t){var n=this,i=this.getPlaceholder(e,t);return Promise.resolve(this.getNewNode(e,t)).then((function(r){r&&(e.context.isDestroyed||n.parseNewNode(i,r,e,t))})),i}},{key:"parseNewNode",value:function(e,t,n,i){var r=this,o=e.index(),a=t.asyncFragments;a&&a.length>0&&(a.forEach((function(e){e.ignoreAsync=!0})),n.parseFragments(a,t));var s=t.parent;t.removeAttribute(this.attrName),t.directives=t.directives.filter((function(e){return e.attrName!==r.attrName}));var c=s.children.indexOf(this.node);t.parent=s;var u=this.parentComponent,l=n.parseNode(t,u,i);return u.insert(l,o),e.destroy(),s.children[c]=t,l.localize(),u.isMounted&&(l.isMounted||l.mounted()),l}},{key:"getPlaceholder",value:function(e,t){var n="@".concat(this.attrName,'="').concat(this.attrValue,'"'),i=new Yo.Z({namespace:"",nodeName:"html-comment",attrs:{name:this.node.name,ignoreable:"true"},text:n,template:'<html-comment name="'.concat(this.node.name,'" ignoreable>').concat(n,"</html-comment>")});return e.parseNode(i)}},{key:"getNewNode",value:function(){(0,W.notImplemented)()}}],[{key:"isParser",value:function(){return!0}}]),n}(wo.X);n(3292);!function(e){e.shown="shown",e.hidden="hidden",e.active="active",e.deactive="deactive",e.enable="enable",e.disable="disable"}(Gc||(Gc={}));var wu=(Yc={},(0,z._)(Yc,"active","deactive"),(0,z._)(Yc,"deactive","active"),(0,z._)(Yc,"shown","hidden"),(0,z._)(Yc,"hidden","shown"),(0,z._)(Yc,"enable","disable"),(0,z._)(Yc,"disable","enable"),Yc),ku=(function(){function e(t){(0,C._)(this,e),(0,z._)(this,"componant",void 0),(0,z._)(this,"componentEventListeners",void 0),this.componant=t,this.componentEventListeners={}}(0,D._)(e,[{key:"serviceInjected",value:function(){var e=this,t=function(t){var i=Gc[t];e.componant.on(i,(function(){var e=n.componentEventListeners[i];e&&e()}))},n=this;for(var i in Gc)t(i)}},{key:"acceptType",value:function(e){return void 0!==Gc[e]}},{key:"opposite",value:function(e){return wu[e]}},{key:"setListener",value:function(e,t,n){e in this.componentEventListeners&&!n||(this.componentEventListeners[e]=t)}}],[{key:"scope",value:function(){return Po.U.MULTI_CASE}}])}(),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),o=t.call(this),(0,z._)((0,x._)(o),"pdfUI",void 0),(0,z._)((0,x._)(o),"$options",void 0),(0,z._)((0,x._)(o),"depends",void 0),o.pdfUI=e,o.$options=i,o.depends=r,o}(0,D._)(n,[{key:"construct",value:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r]}},{key:"link",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]}}],[{key:"depends",value:function(){return[]}},{key:"load",value:function(e){(0,W.noop)()}}])}(W.Disposable),function(){function e(){(0,C._)(this,e),(0,z._)(this,"level",1)}return(0,D._)(e,[{key:"getComponentInstance",value:function(e,t){var n;if((0,T._)(t,_u.Q))n=t.component;else if((0,T._)(t,wo.X))n=t.component;else{if(!(0,T._)(t,Xo.wA))throw new Error("A MULTI-CASE service cannot be injected into ".concat(t,", only Controller, Directive and Component can!"));n=t}if(t.isDestroyed)throw new Error("Unable to get service instances from the destroyed components!");var i=n.$services,r=i.find((function(t){return(0,T._)(t,e)}));if(r)return r;var o=new e(n);return i.push(o),o}},{key:"onInject",value:function(e){var t=e.targetStrategy,n=e.injectInto,i=e.component,r=e.propertyName;t.level>this.level&&(0,W.invokeAddDestroyHook)(i,(function(){(0,W.invokePullout)(n,r)}))}},{key:"destroyComponents",value:function(){}},{key:"define",value:function(){}}]),e}()),xu=function(){function e(){(0,C._)(this,e),(0,z._)(this,"level",0)}return(0,D._)(e,[{key:"destroyComponents",value:function(){}},{key:"getComponentInstance",value:function(e,t){var n=void 0;if((0,T._)(t,_u.Q)||(0,T._)(t,wo.X)?n=t.component:(0,T._)(t,Xo.wA)&&(n=t),!(0,T._)(n,Xo.wA))throw new TypeError("'component-tree' scoped service must be depends by Controller, Directive and Component");n.$child_services||(n.$child_services=[]);var i=n.$child_services.find((function(t){return(0,T._)(t,e)}));return i||(i=new e(n),n.$child_services.push(i)),i}},{key:"onInject",value:function(e){var t=e.targetStrategy,n=e.injectInto,i=e.component,r=e.propertyName;t.level>this.level&&(0,W.invokeAddDestroyHook)(i,(function(){(0,W.invokePullout)(n,r)}))}},{key:"define",value:function(){}}]),e}(),Pu=function(){function e(){(0,C._)(this,e),(0,z._)(this,"level",0)}return(0,D._)(e,[{key:"destroyComponents",value:function(){}},{key:"getComponentInstance",value:function(e,t){var n=void 0;if((0,T._)(t,_u.Q)||(0,T._)(t,wo.X)?n=t.component:(0,T._)(t,Xo.wA)&&(n=t),!(0,T._)(n,Xo.wA))throw new TypeError("'component-tree' scoped service must be depends by Controller, Directive and Component");var i=function(e,t){if(!e)return;var n,i=[],r=e;for(;r;)i.push(r),r=r.parent;return i.some((function(e){return n=e.$services.find((function(e){return(0,T._)(e,t)})),!!n})),n}(n,e);return i||(i=new e(n),n.$services.push(i)),i}},{key:"onInject",value:function(e){var t=e.targetStrategy,n=e.injectInto,i=e.component,r=e.propertyName;t.level>this.level&&(0,W.invokeAddDestroyHook)(i,(function(){(0,W.invokePullout)(n,r)}))}},{key:"define",value:function(){}}]),e}();var Cu=function(){function e(t){(0,C._)(this,e),this.partialClass=t,this.partialInstance=null,this.depends=[],this.isLoaded=!1,this.isLinked=!1,this.isConstructed=!1,this.linkResult=void 0,this.constructResult=void 0}return(0,D._)(e,[{key:"load",value:function(e){this.isLoaded||(this.depends.forEach((function(t){t.load(e)})),this.partialClass.load(e),this.isLoaded=!0)}},{key:"construct",value:function(e,t){var n;if(this.isConstructed)return this.constructResult;var i=this.depends.map((function(n){return n.construct(e,t)})),r=this.depends.map((function(e){return e.partialInstance}));return this.partialInstance=new this.partialClass(e,t,r),this.constructResult=(n=this.partialInstance).construct.apply(n,[e,t].concat((0,M._)(i))),this.isConstructed=!0,this.constructResult}},{key:"link",value:function(){var e=this;return this.isLinked?this.linkResult:(this.isLinked=!0,this.linkResult=Promise.all(this.depends.map((function(e){return e.link(),e.linkResult}))).then((function(t){var n;return(n=e.partialInstance).link.apply(n,(0,M._)(t))})))}},{key:"findDependent",value:function(e){return this.depends.find((function(t){return t.origin===e}))}},{key:"destroy",value:function(){this.partialInstance&&this.partialInstance.destroy(),this.partialInstance=null}}]),e}(),Du=(function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,C._)(this,e),this.partialDelegators=[],n.forEach((function(e){t.addPartialClass(e)}))}(0,D._)(e,[{key:"addPartialClass",value:function(e){var t,n=this,i=this.getDelegatorOfPartialClass(e);return i||(i=new Cu(e),this.partialDelegators.push(i),(t=i.depends).push.apply(t,(0,M._)(e.depends().map((function(e){return n.addPartialClass(e)})))),i)}},{key:"load",value:function(e){this.partialDelegators.forEach((function(t){return t.load(e)}))}},{key:"construct",value:function(e,t){this.partialDelegators.forEach((function(n){n.construct(e,t)}))}},{key:"linkAll",value:function(){return Promise.all(this.partialDelegators.map((function(e){return e.link()})))}},{key:"link",value:function(e){var t=this.getDelegatorOfPartialClass(e);return t?t.link():Promise.reject(new Error("".concat(e," not found in this manager.")))}},{key:"destroy",value:function(){this.partialDelegators.forEach((function(e){e.destroy()})),this.partialDelegators=[]}},{key:"getDelegatorOfPartialClass",value:function(e){return this.partialDelegators.find((function(t){return t.partialClass===e}))}}])}(),n(1406),function(){function e(t){(0,C._)(this,e),(0,z._)(this,"observer",void 0);var n=t.isContainer()?t.getContainerElement():t.getDomElement();this.observer=new W.BuiltinIntersectionObserver(n)}(0,D._)(e,[{key:"observe",value:function(e,t){return this.observer.observe(e,(function(e,n){return t(n)}))}}],[{key:"scope",value:function(){return Po.U.COMPONENT_TREE}}])}(),function(){function e(t){(0,C._)(this,e),this.name=t,this.tabItems=[]}return(0,D._)(e,[{key:"addTab",value:function(e){this.tabItems.push(e)}},{key:"removeTab",value:function(e){var t=this.tabItems.indexOf(e);if(-1!=t){if(e.isActive)this.tabItems[t].active();return this.tabItems.splice(t,1),this.tabItems.length>0}}},{key:"getFirst",value:function(){return this.getVisibleTabs()[0]}},{key:"getLast",value:function(){var e=this.getVisibleTabs();return e[e.length-1]}},{key:"getPreviousOf",value:function(e){var t=this.getVisibleTabs(),n=t.indexOf(e);return 0===n?this.getLast():n>0?t[n-1]:e}},{key:"getNextOf",value:function(e){var t=this.getVisibleTabs(),n=t.indexOf(e);return n===t.length-1?this.getFirst():n>-1?t[n+1]:e}},{key:"getVisibleTabs",value:function(){return this.tabItems.filter((function(e){return e.isVisible}))}}]),e}()),Eu=function(){function e(){(0,C._)(this,e),this.groups={}}return(0,D._)(e,[{key:"addTab",value:function(e){var t=e.groupName,n=this.groups[t]||new Du(t);this.groups[t]=n,n.addTab(e)}},{key:"removeTab",value:function(e){var t=e.groupName,n=this.groups[t];n&&(n.removeTab(e)||(this.groups[t]=void 0,delete this.groups[t]))}},{key:"getGroupTabs",value:function(e){var t=this.groups[e];return t?t.tabItems:[]}},{key:"getGroup",value:function(e){return this.groups[e]}}]),e}(),Su=function(){function e(){(0,C._)(this,e),this.components={}}return(0,D._)(e,[{key:"_addComponent",value:function(e,t){var n=this.components[t]||[];return this.components[t]=n,n.push(e),function(){for(var t=-1;-1!==(t=n.indexOf(e,t+1));)n.splice(t,1)}}},{key:"addComponent",value:function(e){var t=this,n=[arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.name].concat(e.aliasNames).filter(Boolean).map((function(n){return t._addComponent(e,n)}));return function(){n.forEach((function(e){return e()}))}}},{key:"getComponentByName",value:function(e,t){var n=this.components[e];if(!n)return null;var i=n.find((function(e){return e.isDescendantOf(t)}));return i?i.lazyLoad():null}},{key:"getComponentsByName",value:function(e,t){var n=this.components[e];return n?n.filter((function(e){return e.isDescendantOf(t)})).map((function(e){return e.lazyLoad()})):[]}}]),e}(),Iu="fv-ui-component-tree-modified",Tu="new-component-instance",Ru=function(){function e(t){(0,C._)(this,e),this.parser=t.parser,this.templateParser=t.templateParser,this.localizer=t.localizer,this.ioc=t.ioc,this.store=new W.Store,this.tabGroups=new Eu,this.pool=new Su,this.eventEmitter=new ra.EventEmitter,this.postHandle=t.postHandle||function(){},this.isDestroyed=!1}return(0,D._)(e,[{key:"destroy",value:function(){this.isDestroyed=!0,this.store.destroy()}},{key:"triggerModifyTree",value:function(e,t,n){this.store.dispatch(Iu,{container:e,child:t,type:n})}},{key:"onModifyTree",value:function(e){return this.store.subscribe(Iu,(function(t){e(t.container,t.child,t.type)}))}},{key:"triggerStatusChange",value:function(e,t){this.eventEmitter.emit("status-change",{component:e,type:t})}},{key:"onStatusChange",value:function(e){return this.addEventListener("status-change",e)}},{key:"triggerObtainsComponentOf",value:function(e){this.eventEmitter.emit("obtains-components",e)}},{key:"onObtainsComponentOf",value:function(e){return this.addEventListener("obtains-components",e)}},{key:"dispatchNewComponent",value:function(e){this.eventEmitter.emit(Tu,e)}},{key:"onNewComponentInstance",value:function(e){return this.addEventListener(Tu,e)}},{key:"addEventListener",value:function(e,t){var n=this;return this.eventEmitter.on(e,t),function(){n.eventEmitter.off(e,t)}}}]),e}(),Mu=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"createDOMElement",value:function(){var e=document.createElement(this.domName);return e.classList.add("fv__ui-content-editor"),e.setAttribute("contenteditable",W.isFirefox?"":"plaintext-only"),e}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this),(0,E._)((0,S._)(n.prototype),"resolveCompositionEvent",this).call(this);var t=!1;this.addDestroyHook(this.delegateEventService.delegate(this.element,"input",(function(){t=!0})),this.attachEventToElement(this.element,"blur",(function(){t&&e.triggerChangeEvent(),t=!1}),{}),this.delegateEventService.delegate(this.element,"paste",(function(n){var i,r=(null===(i=n.clipboardData)||void 0===i?void 0:i.getData("text/plain"))||"",o=window.getSelection(),a=e.getDOMValue();if(o&&o.rangeCount>0){var s=o.getRangeAt(0);s.deleteContents(),s.insertNode(document.createTextNode(r)),s.collapse(),t=!0;var c=e.getDOMValue();e.trigger("input",c,a,null,n)}n.preventDefault()})))}},{key:"getForwardedEvents",value:function(){return["blur","focus","keyup","keydown","keypress"]}},{key:"setValue",value:function(e){(0,E._)((0,S._)(n.prototype),"setValue",this).call(this,e),this.setDOMValue(e)}},{key:"getValue",value:function(){return this.value}},{key:"getDOMValue",value:function(){return this.element.innerText}},{key:"setDOMValue",value:function(e){this.element.innerText=e}},{key:"doDisable",value:function(e){(0,E._)((0,S._)(n.prototype),"doDisable",this).call(this,e),this.element.classList.add("fv__ui-content-editor-disabled")}},{key:"doEnable",value:function(e){(0,E._)((0,S._)(n.prototype),"doEnable",this).call(this,e),this.element.classList.remove("fv__ui-content-editor-disabled")}}],[{key:"getName",value:function(){return"content-editor"}},{key:"getMetadata",value:function(){return{options:{is:{type:"string",defaultValue:"div",field:"domName"}}}}},{key:"inject",value:function(){return{delegateEventService:Uo}}}]),n}(xa),Fu=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"getEventTarget",value:function(){throw new Error("getEventTarget() not implemented")}},{key:"createDOMElement",value:function(){return document.createComment(this.type)}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this);var t=this.getEventTarget();this.directive.directives.filter((function(e){return(0,T._)(e,Ho)})).forEach((function(n){var i=n.eventName,r=function(t){e.trigger(i,t)},o=n.modifiers,a={};o.delegate&&(a.capture=!0),o.once&&(a.once=!0),o.passive&&(a.passive=!0),t.addEventListener(i,r,a),e.addDestroyHook((function(){t.removeEventListener(i,r,a)}))}))}},{key:"focus",value:function(){}},{key:"hasFocus",value:function(){return!1}},{key:"render",value:function(){}},{key:"renderElementId",value:function(){}},{key:"rerenderChildren",value:function(){}},{key:"localize",value:function(){}},{key:"doLocalize",value:function(){}},{key:"update",value:function(){}},{key:"updateVisiblityStatus",value:function(){}},{key:"updateDisableStatus",value:function(){}},{key:"updateActiveStatus",value:function(){}},{key:"doShown",value:function(){}},{key:"doHidden",value:function(){}},{key:"doActive",value:function(){}},{key:"doDeactive",value:function(){}},{key:"doEnable",value:function(){}},{key:"doDisable",value:function(){}}]),n}(Xo.wA),Nu=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"getEventTarget",value:function(){return window}}],[{key:"getName",value:function(){return"window-event-listener"}}]),n}(Fu),Lu=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"getEventTarget",value:function(){return document}}],[{key:"getName",value:function(){return"document-event-listener"}}]),n}(Fu),Ou=/^(?:(\w+)\s+in\s+?)(?:(.+?)(\s+track\s+by\s+(\S+?))?)\s*$/,ju=W.LoggerFactory.getLogger("@foreach"),Bu=0,Vu=Symbol("@foreach-intersection-lazy-value"),Uu="@foreach-intersection-data-"+Date.now().toString(16)+"-",Hu=function(){function e(t,n,i){(0,C._)(this,e),this.id=Uu+t+n,this.ownerId=t,this.range=n,this.totalHeight=i}return(0,D._)(e,[{key:"toNode",value:function(){return new Yo.v({nodeName:vu.getName(),attrs:{"owner-id":this.ownerId,height:this.totalHeight+"",range:this.range.join("-")}})}}]),e}(),zu=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;return(0,C._)(this,n),(a=t.call(this)).directive=e,a.parser=i,a.initData=r,a.placeholderComponent=o,a.componentMap=new Map,a.componentCache=new Map,a.components=[],a.mappedValue=[],a.newValue=[],a.parentController=e.parentComponent.controller,a.itemHeight=-1,a}return(0,D._)(n,[{key:"receive",value:function(e){if(Array.isArray(e)){this.newValue=e;var t=e.length,n=this.directive.getLazyMode();this.directive.trackby?"none"!==n&&t>this.directive.getlazyThreshold()?this.insertWithDelayAndTracking(e):this.insertWithTracking(e):"none"!==n&&t>this.directive.getlazyThreshold()?this.insertWithDelayAndReplaceAll(e):this.replaceAll(e)}else ju.warn("data is not an array: ",e)}},{key:"insertWithDelayAndTracking",value:function(e){var t=this,n=this.directive.getlazyThreshold(),i=this.directive.parentComponent;if(this.itemHeight=this.directive.getItemHeight(),this.itemHeight<0){var r=this.insertWithTracking(e.slice(0,2)),o=r[0],a=r[1],s=o.element.getBoundingClientRect(),c=a.element.getBoundingClientRect();this.itemHeight=c.bottom-s.bottom}var u=this.itemHeight,l=this.directive.getLazyMode(),A="intersection"===l?Array(e.length).fill(Vu):e.map((function(e,t){return t<n?e:Vu}));this.mappedValue=A;var d=function(i,r){for(var o=i;o<e.length;){var a=Math.min(n,e.length-o);A[o]=new Hu(t.directive.id,[o,Math.min(e.length,o+n)],a*r),o+=n}};d("intersection"===l?0:n,u),this.insertWithTracking(A),this.unobserve&&this.unobserve();var h=i.context.ioc.getInstanceByClass(pu),f=new Map;this.directive.intersectionExecutor.cancel(),this.unobserve=h.onDetect(this.directive.id,(function(n){var i=n.isVisible,r=n.range;f.set(r.join(","),i),t.directive.isDestroyed||t.directive.intersectionExecutor.exec((function(){if(!t.directive.isDestroyed){var n="intersection"===l;n&&(A.forEach((function(e,t){return A[t]=Vu})),d(0,u)),f.forEach((function(t,n){if(t){var i=n.split(",").map((function(e){return parseInt(e)}));if(!(i[0]>=e.length))for(var r=i[0],o=Math.min(e.length,i[1]),a=r;a<o;a++)a<e.length&&(A[a]=e[a])}})),n||f.clear(),t.insertWithTracking(A)}}))}))}},{key:"insertWithDelayAndReplaceAll",value:function(e){this.replaceAll(e)}},{key:"replaceAll",value:function(e){var t=this,n=e.map((function(e,n){var i,r=Object.assign((i={},(0,z._)(i,t.directive.itemName,e),(0,z._)(i,"$index",n),i),t.initData||{});return t.parser.parseNode(t.directive.cloneNode(),t.directive.parentComponent,r,!0)})),i=this.directive.parentComponent;this.components.forEach((function(e){e.destroy()})),this.components=n;var r=i.indexOf(this.placeholderComponent);i.insertAll(this.components,r),n.length>0&&i.localize(),n.forEach((function(e){e.isMounted||e.mounted()}))}},{key:"insertWithTracking",value:function(e){var t=this,n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=new Map;return t.forEach((function(e){e.forEach((function(e,t){i.set(t,e)}))})),i}(this.componentMap,this.componentCache),i=this.directive.useCache,r=new Map,o=[],a=[],s=e.map((function(e,i){if(e!==Vu){if((0,T._)(e,Yo.v)){var s=t.parser.parseNode(e,t.directive.parentComponent,void 0,!0);return o.push(s),r.set(s.id,s),s}var c,u,l=(0,T._)(e,Hu);if(l)c=e.id;else if("$self"!==t.directive.trackby||Object.prototype.hasOwnProperty.call(e,"$self"))try{c=t.parentController.eval(t.directive.trackby,e)}catch(n){var A=e&&"object"==typeof e?Object.keys(e):[];ju.error("Incorrect trackby expression: ".concat(t.directive.trackby).concat(A.length>0?", it should be one of "+A.join(" or "):""))}else c=e;if(r.has(c))return!1;var d=Object.assign((u={},(0,z._)(u,t.directive.itemName,e),(0,z._)(u,"$index",i),u),t.initData||{}),h=n.get(c);if(h)Object.assign(h.controller.data,d),a.push(h),n.delete(c);else{var f=l?e.toNode():t.directive.cloneNode();if(h=t.parser.parseNode(f,t.directive.parentComponent,d,!0),l){if(h.setRoot){var p=t.directive.getIntersectionRoot();h.setRoot(p)}var v;h.lazyLoad=function(){h.lazyLoad=function(){throw new Error("[@foreach] Cyclic load detected!")};var e=h.index();t.mappedValue[e]=t.newValue[e];var n=t.insertWithTracking(t.mappedValue);return v=n[0],h.lazyLoad=function(){return v},v}}o.push(h)}return r.set(c,h),h}})).filter(Boolean),c=a.map((function(e){return e.controller})).filter((function(e,t,n){return-1===n.findIndex((function(t){return t.$$watches===e.$$watches}))}));c.forEach((function(e){return e.digest()})),n.forEach((function(e,n){r.has(n)||(i?(e.remove(),t.componentCache.set(n,e)):e.destroy())})),this.componentMap=r;var u=this.directive.parentComponent,l=u.indexOf(this.placeholderComponent);return u.insertAll(s,l),this.components=s,o.length>0&&u.localize(),o.forEach((function(e){e.isMounted||e.mounted()})),s}}]),n}(Ro),Wu=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;if((0,C._)(this,n),!(i=t.call(this,e)).node.parent)throw new Error("Unsupported operation: @foreach directive is not supported for root node.");var r=(0,R._)(i.parseForeachExpression(i.attrValue),3),o=r[0],a=r[1],s=r[2];if(i.itemName=o||"$item",i.dataName=a,i.trackby=s,i.id="directive-".concat(Bu++),i.parentComponent.once(Eo.qo.DESTROYED,(function(){i.destroy()})),i.useCache=i.modifiers.cached,i.immediatly=i.modifiers.immediate,"none"!==i.getLazyMode()){var c=i.parentComponent.context.ioc.getInstanceByClass(pu);i.intersectionExecutor=new W.DebounceAsyncTaskExecutor(50),i.addDestroyHook((function(){c&&c.remove(i.id),i.intersectionExecutor.cancel()}))}return i}return(0,D._)(n,[{key:"getlazyThreshold",value:function(){return this.dynamics.threshold()||150}},{key:"getLazyMode",value:function(){return this.dynamics.lazyMode()||"none"}},{key:"getItemHeight",value:function(){return this.dynamics.itemHeight()||-1}},{key:"getIntersectionRoot",value:function(){return this.dynamics.intersectionRoot()||document}},{key:"parseForeachExpression",value:function(e){var t=e.match(Ou);if(!t)throw new Error("incorrect foreach expression: ".concat(e));var n=(0,R._)(t,5);return[n[1],n[2],n[4]]}},{key:"parseComponent",value:function(e,t){this.placeholderComponent=e.parse('<html-comment ignoreable>@foreach="'.concat(this.attrValue,'"</html-comment>'));var n=new zu(this,e,t,this.placeholderComponent),i=this.parentComponent.controller.watch(this.dataName,(function(e,t){n.receive(e,t)}));return this.immediatly&&i.invoke(),this.addDestroyHook(i),this.placeholderComponent}},{key:"componentMounted",value:function(){this.parentComponent.controller.digest()}},{key:"cloneNode",value:function(){return this.node.clone()}}],[{key:"getName",value:function(){return"foreach"}},{key:"isParser",value:function(){return!0}}]),n}(wo.X);var Gu=/^((?:.+?:)?\w+)(?:\s+as\s+(\w+))?$/,Yu="controller",$u="set.property",Ju=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;if((0,C._)(this,n),(i=t.call(this,e)).type=Yu,"alias"===i.subName)i.aliasName=i.attrValue,i.type="alias";else if(i.subName&&0===i.subName.indexOf("set."))i.type=$u,i.setPropertyName=i.subName.substring(4);else{var r=i.attrValue.trim().match(Gu);if(!r)throw new Error("Incorrect @controller format: ".concat(i.attrValue));i.controllerName=r[1],i.aliasName=r[2]}return i}return(0,D._)(n,[{key:"processComponentOptions",value:function(e){if(this.type===Yu){if("function"==typeof e.callback)return;var t=this.controllerName,n=t.split(Eo.oB),i=this.node.module;n.length>1&&(i=To.Z.module(n[0]));var r=i.getControllerClass(n.pop())||e.callback;if(!r)throw new Error("controller not found: ".concat(t));e.callback=r}}},{key:"init",value:function(e){if((0,E._)((0,S._)(n.prototype),"init",this).call(this,e),e.controller.data[this.aliasName]=e.controller,this.type===$u){var t=e.controller;t[this.setPropertyName]=t.eval(this.attrValue)}}}],[{key:"getName",value:function(){return"controller"}}]),n}(wo.X),qu=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"parseComponent",value:function(e,t){var n,i=this,r=e.parse('<html-comment ignoreable>@if="'.concat(this.attrValue,'"</html-comment>')),o=this.parentComponent,a=o.controller.watch(this.attrValue,(function(a){if(a){if(n)return;var s=i.cloneNode(),c=e.parseNode(s,o,t,!0),u=o.indexOf(r);o.insert(c,u),n=c,o.isMounted&&(c.localize(),c.mounted())}else{var l=n;n=null,l&&l.destroy()}}));return this.addDestroyHook(a),o.isMounted?a.invoke():o.once(Eo.qo.MOUNTED,(function(){a.invoke()})),r}},{key:"cloneNode",value:function(){var e=this.node.clone();return e}}],[{key:"getName",value:function(){return"if"}},{key:"isParser",value:function(){return!0}}]),n}(wo.X),Ku=(n(3883),W.LoggerFactory.getLogger("@draggable")),Zu=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){return(0,C._)(this,n),t.call(this,e)}return(0,D._)(n,[{key:"init",value:function(e){(0,E._)((0,S._)(n.prototype),"init",this).call(this,e),this.dragOptions=this.attrValue?e.controller.eval(this.attrValue):{}}},{key:"componentMounted",value:function(){var e=this,t=this.component.element,n=this._resolveMoveTarget();if(n){if(n.classList.add("fv__ui-draggable-target"),t.classList.add("fv__ui-draggable-action"),n.parentElement){var i=n.parentElement,r=getComputedStyle(i);r.position&&"static"!==r.position||(i.style.cssText+="position: relative")}var o,a,s,c=new Hammer.Manager(t);c.add(new Hammer.Pan);var u,l=!0,A=this.dragOptions.overflow||"stop",d=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.offsetWidth,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.offsetHeight;s&&"ignore"!==A&&(e=Math.max(0,Math.min(e,s.right-i)),t=Math.max(0,Math.min(t,s.height-r))),n.style.cssText+="left: ".concat(e,"px; top: ").concat(t,"px; right: auto; bottom: auto;")},h=function(e){if(!t.$isResizing){var n=o+e.deltaX,i=a+e.deltaY;d(n,i)}},f=(u=!1,function(){if(!u){u=!0;var t=!1,i=function(){s=n.parentElement.getBoundingClientRect();var e=n.getBoundingClientRect(),i=e.left-s.left,r=e.top-s.top;d(i,r),t=!1},r=(0,W.observeResize)(n.parentElement,(function(){n.parentElement?i():t=!0})),o=new MutationObserver((function(e){if(t){var r=e.find((function(e){return Array.from(e.addedNodes).includes(n)}));r&&i()}}));o.observe(n.parentElement,{childList:!0}),e.addDestroyHook((function(){return o.disconnect()})),e.addDestroyHook(r)}});c.on("panstart",(function(e){if(l=function(e){if((0,W.isEditableElement)(e))return!1;for(;e;){if(e.$$DRAG_STOPPED$$)return!1;e=e.parentElement}return!0}(e.target)){f(),s=n.parentElement.getBoundingClientRect();var t=n.getBoundingClientRect();o=t.left-s.left,a=t.top-s.top,n.style.cssText+="\n                left: ".concat(o,"px;\n                top: ").concat(a,"px;\n                right: auto;\n                bottom: auto;\n                transform: none;\n            "),n.classList.add("fv__ui-draggable-moved"),h(e)}})),c.on("panmove",(function(e){l&&h(e)})),c.on("panend",(function(e){l&&(t.$isResizing||(h(e),o+=e.deltaX,a+=e.deltaY))})),this.addDestroyHook((function(){return c.destroy()}))}else Ku.warn("cannot found the move target of @draggable directive! options: ",this.dragOptions)}},{key:"_resolveMoveTarget",value:function(){var e=this.dragOptions,t=e.type,n=e.target,i=this.component.element;switch(t){case"selector":var r=this.component.getRoot().querySelector(n);return r?r.element:void 0;case"css-selector":return i.querySelector(n);case"closest":var o=this.component.getClosestComponentByName(n);return o?o.element:void 0;case"parent":var a=n?this.component.getClosestComponentByType(n):this.component.parent;return a?a.element:void 0;case"child":var s=this.component.getComponentByName(n);return s?s.element:void 0;default:return i}}}],[{key:"getName",value:function(){return"draggable"}}]),n}(wo.X),Xu=(n(5609),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"init",value:function(e){(0,E._)((0,S._)(n.prototype),"init",this).call(this,e),this.attrValue.length>0&&(this.resizeOptions=e.controller.eval(this.attrValue),"body"===this.resizeOptions.maxSize&&(this.resizeOptions.maxWidth=document.body.offsetWidth-60,this.resizeOptions.maxHeight=document.body.offsetHeight-60)),this.resizeOptions||(this.resizeOptions={})}},{key:"componentMounted",value:function(){var e=this.resizeOptions,t=e.minWidth,n=e.maxWidth,i=e.minHeight,r=e.maxHeight;isFinite(t)||(t=10),isFinite(i)||(i=10),n||(n=1/0),r||(r=1/0),n<t&&(n=t),r<i&&(r=i);var o=this.component,a=this.component.element,s=getComputedStyle(a);a.classList.add("fv__ui-resizable");var c=document.createElement("div");c.classList.add("fv__ui-resizable-action");var u=new Hammer.Manager(c);u.add(new Hammer.Pan);var l=parseFloat(s.width),A=parseFloat(s.height),d=function(e){a.$isResizing=!0;var s=Math.min(n,Math.max(t,l+e.deltaX)),c=Math.min(r,Math.max(i,A+e.deltaY));a.style.cssText+="width: ".concat(s,"px; height: ").concat(c,"px"),o.trigger("resize",s,c)},h=function(e){d(e),l=Math.min(n,Math.max(t,l+e.deltaX)),A=Math.min(r,Math.max(i,A+e.deltaY)),setTimeout((function(){a.$isResizing=!1}),0)};u.on("panstart",(function(e){var t=getComputedStyle(a);l=parseFloat(t.width),A=parseFloat(t.height),d(e)})),u.on("panmove",d),u.on("panend",h),u.on("cancel",h),a.appendChild(c);var f=function(){u.stop()};document.addEventListener("mouseup",f,{capture:!0}),this.addDestroyHook((function(){return u.destroy()})),this.addDestroyHook((function(){document.removeEventListener("mouseup",f,{capture:!0})})),this.addDestroyHook((function(){return a.removeChild(c)}))}}],[{key:"getName",value:function(){return"resizable"}}]),n}(wo.X)),Qu=n(6663),el=function(){function e(){(0,C._)(this,e),(0,z._)(this,"options",{updateOn:"change"}),(0,z._)(this,"callback",(function(){}))}return(0,D._)(e,[{key:"onOptionsChange",value:function(e){this.callback=e}},{key:"setOptions",value:function(e){this.options=e,this.callback(e)}}],[{key:"scope",value:function(){return W.IoCScope.PROTOTYPE}}]),e}(),tl=n(7173),nl=W.LoggerFactory.getLogger("@model"),il=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this,e)).modelOptions={updateOn:"change"},i.offComponentUpdateEvents=function(){},i}return(0,D._)(n,[{key:"updateModelValue",value:function(){}},{key:"init",value:function(e){var t=this;if("function"==typeof e.getValue&&"function"==typeof e.setValue){(0,T._)(e,ds)&&(this.modelOptions={updateOn:"input"}),(0,E._)((0,S._)(n.prototype),"init",this).call(this,e),this.updateModelValue=function(){var e=(0,Qu._)((0,tl.a)(t.attrValue)),n=e[0],i=e.slice(1),r=i.length>0?"|"+i.join("|"):"";return function(){try{var e="$component.getValue()"+r,i=t.controller.eval(e),o="".concat(n," = _temp_value");t.controller.eval(o,{_temp_value:i}),t.controller.digest()}catch(e){nl.warn("An error occurred on update model value, event: ".concat(event),e)}}}();var i=e.setValue;i&&(e.setValue=function(n){i.call(e,n),t.updateModelValue()});var r=function(t){i&&i.call(e,t),e.trigger("model-change",t)};r(this.controller.eval(this.attrValue)),this.addDestroyHook(this.controller.watch(this.attrValue,r)),this.watchComponentChange(),this.modelService.onOptionsChange((function(e){t.updateOptions(e)}))}else nl.warn(e,"is not a form field type component!")}},{key:"watchComponentChange",value:function(){var e=this,t=this.modelOptions.updateOn;if("string"==typeof t||Array.isArray(t)){var n=(Array.isArray(t)?t:t.split(/[\s\t,]+/)).map((function(t){t=t.trim();var n=function(){e.updateModelValue()},i="native.";if(0===t.indexOf(i)){var r=e.component.getDomElement(),o=t.substring(7);return r.addEventListener(o,n),function(){r.removeEventListener(o,n)}}return e.component.on(t,n)}));this.offComponentUpdateEvents=function(){n.forEach((function(e){return e()}))}}else nl.warn('Invalid model options: "'.concat(JSON.stringify(this.modelOptions),'"'))}},{key:"updateOptions",value:function(e){var t=this.modelOptions.updateOn;e&&Object.assign(this.modelOptions,e),t!==this.modelOptions.updateOn&&(this.offComponentUpdateEvents(),this.watchComponentChange())}}],[{key:"getName",value:function(){return"model"}},{key:"inject",value:function(){return{modelService:el}}}]),n}(wo.X),rl=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){return(0,C._)(this,n),t.call(this,e)}return(0,D._)(n,[{key:"init",value:function(e){var t=this;(0,E._)((0,S._)(n.prototype),"init",this).call(this,e);var i=e.controller.watchImm(this.attrValue,(function(e){t.modelService.setOptions(e)}));this.addDestroyHook(i)}}],[{key:"getName",value:function(){return"model-options"}},{key:"inject",value:function(){return{modelService:el}}}]),n}(wo.X),ol=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"init",value:function(e){if((0,E._)((0,S._)(n.prototype),"init",this).call(this,e),e.enable(),e.isContainer()){e.disable=function(){this.children().forEach((function(e){return e.disable()}))};var t=e.enable;e.enable=function(){if(e.disabled)return t.call(this);this.children().forEach((function(e){return e.enable()}))}}else e.disable=W.noop}}],[{key:"isParser",value:function(){return!1}},{key:"getName",value:function(){return"cannotBeDisabled"}}]),n}(wo.X),al={},sl=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){return(0,C._)(this,n),t.call(this,e)}return(0,D._)(n,[{key:"componentMounted",value:function(){var e=this;this.addDestroyHook(this.component.on(Eo.qo.ACTIVE,(function(t){var n=al[e.attrValue];n&&n!==e.component&&n.deactive(),al[e.attrValue]=e.component})))}},{key:"componentDestroyed",value:function(){var e=al[this.attrValue];this.component===e&&delete al[this.attrValue]}}],[{key:"getName",value:function(){return"single-active"}}]),n}(wo.X),cl=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"init",value:function(e){(0,E._)((0,S._)(n.prototype),"init",this).call(this,e),e.controller.eval(this.attrValue,{})}}],[{key:"getName",value:function(){return"init"}}]),n}(wo.X),ul=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"init",value:function(e){var t=this;(0,E._)((0,S._)(n.prototype),"init",this).call(this,e),this.hammer=e.$hammer||(e.$hammer=new Hammer(e.element));var i=this.transformEventNameToHammerRecogonizeName(this.subName);this.hammer.get(i).set({enable:!0}),this.addDestroyHook((function(){t.hammer.destroy()}))}},{key:"componentMounted",value:function(){var e,t=this.component,n=this.controller;if(/^\s*\w+(\.\w+)*\s*$/.test(this.attrValue)){this.attrValue=this.attrValue.trim();var i=function(e,t){for(var n=t.split("."),i=0;i<n.length;i++)if(null==(e=e[n[i]]))return e;return e},r=i(n,this.attrValue)||i(n.data,this.attrValue)||i(n.methods,this.attrValue);if(!r)throw new Error("event handler not found: ".concat(this.attrValue," ,component: <").concat(t.nodeName,">"));e=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r.apply(n,t)}}else{var o=this;e=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n.eval(o.attrValue,{originArguments:t,$event:t[0]})}}this.hammer.on(this.subName,e)}},{key:"componentDestroyed",value:function(){(0,E._)((0,S._)(n.prototype),"componentDestroyed",this).call(this),this.hammer.destroy()}},{key:"transformEventNameToHammerRecogonizeName",value:function(e){switch(e){case"panstart":case"pan":case"panmove":case"panend":case"pancancel":case"panleft":case"panright":case"panup":case"pandown":return"pan";case"pinch":case"pinchstart":case"pinchmove":case"pinchend":case"pinchcancel":case"pinchin":case"pinchout":return"pinch";case"press":case"pressup":return"press";case"rotate":case"rotatestart":case"rotatemove":case"rotateend":case"rotatecancel":return"rotate";case"swipe":case"swipeleft":case"swiperight":case"swipeup":case"swipedown":return"swipe";case"tap":return"tap";default:throw new Error("incorrect event name: ".concat(this.subName))}}}],[{key:"getName",value:function(){return"hammer"}}]),n}(wo.X),ll=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"componentMounted",value:function(){var e=this,t=function(t,n){var i=function(e){return e.stopPropagation()};t.addEventListener(n,i),e.addDestroyHook((function(){return t.removeEventListener(n,i)}))};this.component.element.$$DRAG_STOPPED$$=!0,this.component.element.closest(".fv__ui-draggable-target")&&(t(this.component.element,"pointerdown"),t(this.component.element,"mousedown"),t(this.component.element,"touchstart")),this.addDestroyHook((function(){delete e.component.element.$$DRAG_STOPPED$$}))}}],[{key:"getName",value:function(){return"stop-drag"}}]),n}(wo.X),Al=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"componentMounted",value:function(){var e=this,t=function(e){return e.stopPropagation()};this.component.element.addEventListener(this.subName,t),this.addDestroyHook((function(){return e.component.element.removeEventListener(e.subName,t)}))}}],[{key:"getName",value:function(){return"stop"}}]),n}(wo.X),dl=W.LoggerFactory.getLogger("@sync"),hl=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"componentPrelink",value:function(){var e=this,t=this.controller.watchImm(this.attrValue,(function(t){var n=e.subName;e.component.sync(n,t)||dl.warn("this property(".concat(n,") is not supported by this component <").concat(e.component.nodeName,"> and data synchronization was failed. the component instance: "),e.component)}));this.addDestroyHook(t)}}],[{key:"getName",value:function(){return"sync"}}]),n}(wo.X),fl=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,null,[{key:"getName",value:function(){return"set"}}]),n}(hl),pl=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this,e)).order=-1/0,i}return(0,D._)(n,[{key:"processComponentOptions",value:function(e){e.callback||(e.callback=iu.Z)}}],[{key:"getName",value:function(){return"process-scope"}}]),n}(wo.X),vl=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;if((0,C._)(this,n),!(i=t.call(this,e)).node.parent)throw new Error("Unsupported operation: @device directive is not supported for root node");return i.supportedDevices=i.attrValue.split(/\W+/).map((function(e){return e.toLowerCase()})),i}return(0,D._)(n,[{key:"parseComponent",value:function(e,t){var n="invert"===this.subName,i=this.supportedDevices;if(n||!(i.length<1||i.indexOf("all")>-1)){var r=i.some((function(e){return W.DEVICE_DETACTION[e]}));if(!(!r&&!n||n&&r)){var o=e.parseNode(this.cloneNode(),this.parentComponent,t);this.parentComponent.append(o)}}}},{key:"cloneNode",value:function(){var e=this.node.clone(!1);return e.directives=this.node.directives.filter((function(e){return"device"!==e.directiveName})),e}}],[{key:"getName",value:function(){return"device"}},{key:"isParser",value:function(){return!0}}]),n}(wo.X),gl=(n(5533),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this,e)).supportedDevices=i.attrValue.split(/\W+/).map((function(e){return e.toLowerCase()})),i}return(0,D._)(n,[{key:"afterComponentRender",value:function(){var e=this.component,t=this.supportedDevices,n=t.some((function(e){return W.DEVICE_DETACTION[e]}));if(t.length<1||t.indexOf("all")>-1||n){var i="fv__ui-directive-hide-on-device";e.addCSSClass(i),e.addCSSClass("devices-match"),this.addDestroyHook((function(){e.removeCSSClass(i),e.removeCSSClass("devices-match")}))}}}],[{key:"getName",value:function(){return"hide-on-device"}}]),n}(wo.X)),ml=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this,e)).supportedDevices=i.attrValue.split(/\W+/).map((function(e){return e.toLowerCase()})),i}return(0,D._)(n,[{key:"afterComponentRender",value:function(){var e=this.component,t=this.supportedDevices;if(!(t.length<1||t.indexOf("all")>-1)){var n=t.some((function(e){return W.DEVICE_DETACTION[e]}));if(!n){var i="fv__ui-directive-display-on-device";e.addCSSClass(i),e.addCSSClass("none-devices-match"),this.addDestroyHook((function(){e.removeCSSClass(i),e.removeCSSClass("none-devices-match")}))}}}}],[{key:"getName",value:function(){return"display-on-device"}}]),n}(wo.X),yl=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){return(0,C._)(this,n),t.call(this,e)}return(0,D._)(n,[{key:"getOptions",value:function(){var e=this.controller.eval(this.attrValue),t={};return t.uixSelector=e["uix-selector"]||e.uixSelector,t.cssSelector=e["css-selector"]||e.cssSelector,t.before=e.before||function(e){return!0},t}}],[{key:"getName",value:function(){return"contextmenu-options"}}]),n}(wo.X),_l=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this,e)).id=i.subName,i}return(0,D._)(n,[{key:"getMenuOptions",value:function(){var e,t=this,n=this.dynamics.options()||{},i=this.component.directive.getDirectives(yl.getName());this.id&&(e=i.find((function(e){return e.subName===t.id}))),e||(e=i.find((function(e){return!e.subName})));var r=e?e.getOptions():{};return(0,w._)({},r,n)}},{key:"componentPostlink",value:function(){var e=this,t=this.component.element;this.component.isContainer()&&(t=this.component.getContainerElement());var n=(0,W.attachContextMenuEvent)(t,(function(t){var n=e.dynamics.before,i=n&&n!==W.noop?n:function(e){return Promise.resolve(!0)},r=e.component,o=e.getMenuOptions();if(("function"==typeof o.before&&(i=o.before),!o.uixSelector&&!o.cssSelector||(r=e.findTarget(o,t.target)))&&i({$event:t,$target:r,$contextmenu:e.targetContextmenu})){var a=function(){e.targetContextmenu.setCurrentTarget(r),e.targetContextmenu.trigger("beforeshow",r),e.targetContextmenu.showAt(t.clientX,t.clientY),e.targetContextmenu.trigger("aftershow",r)};e.targetContextmenu?a():e.component.pdfUI.openDialog(e.attrValue).then((function(t){e.targetContextmenu=t,a()})),t.stopPropagation(),t.preventDefault()}}));this.addDestroyHook(n)}},{key:"componentMounted",value:function(){var e=this;if("delay"!=this.component.attrs.contextcontent){if(this.targetContextmenu=this.component.getRoot().querySelector(this.attrValue),!(0,T._)(this.targetContextmenu,Nc))throw new Error("Unexpected target contextmenu! It must be <contextmenu> component, but actual: <".concat(this.targetContextmenu?this.targetContextmenu.nodeName:"not found",">"));this.dynamics.onShown!==W.noop&&this.addDestroyHook(this.targetContextmenu.on("shown",(function(){e.dynamics.onShown({$target:e.targetContextmenu.getCurrentTarget(),$contextmenu:e.targetContextmenu})})))}}},{key:"findTarget",value:function(e,t){var n=e.uixSelector,i=e.cssSelector;if("string"==typeof n){for(var r=this.component.querySelectorAll(n),o=function(){var e,n=t;for(;!e&&n;)e=n.getComponent?n.getComponent():void 0,n=n.parentElement;return e}(),a=o;a&&-1===r.indexOf(a);)a=a.parent;return a}if("string"!=typeof i)return this.component.element;for(var s=t;s;){if(s.matches(i))return s;s=s.parentElement}}}],[{key:"getName",value:function(){return"contextmenu"}}]),n}(wo.X),bl=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;if((0,C._)(this,n),!(i=t.call(this,e)).node.parent)throw new Error("Unsupported operation: @require-modules directive is not supported for root node");return i.requiredModules=i.attrValue.split(/[\s,;]+/).map((function(e){return e.toLowerCase()})),i}return(0,D._)(n,[{key:"getNewNode",value:function(e){var t=this,n=this.requiredModules;if(!(n.length<1)){if(this.subName&&"oneof"===this.subName.toLowerCase()){var i=!1;return new Promise((function(e){var r=n.map((function(n){return To.Z.modules.subscribeOnce(n,(function(){r.forEach((function(e){return e()})),i||(e(t.node),i=!0)}))}));t.addDestroyHook((function(){r.forEach((function(e){return e()}))}))}))}return Promise.all(n.map((function(e){return new Promise((function(t){To.Z.modules.subscribeOnce(e,(function(e){t(e)}))}))}))).then((function(){return t.node}))}}}],[{key:"getName",value:function(){return"require-modules"}}]),n}(bu),wl=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){return(0,C._)(this,n),t.call(this,e)}return(0,D._)(n,[{key:"componentPrelink",value:function(){var e=this;this.addDestroyHook(this.controller.watchImm(this.attrValue,(function(t,n){var i=e.component.element.classList;if(n)switch(void 0===n?"undefined":(0,F._)(n)){case"string":n.trim().split(/\s+/).forEach((function(e){return i.remove(e)}));break;case"object":for(var r in n)n[r]&&r&&i.remove(r)}if(t)switch(void 0===t?"undefined":(0,F._)(t)){case"string":t.trim().split(/\s+/).forEach((function(e){return i.add(e)}));break;case"object":for(var o in t)t[o]&&o&&i.add(o)}})))}}],[{key:"getName",value:function(){return"class"}}]),n}(wo.X),kl=(n(8778),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this,e)).orientation="vertical"===i.attrValue?"vertical":"horizontal",i}return(0,D._)(n,[{key:"componentPrelink",value:function(){var e="fv__ui-directive-scrollable-"+this.orientation,t=this.component.element.classList;t.add(e),this.addDestroyHook((function(){t.remove(e)}))}},{key:"componentMounted",value:function(){var e=this,t=this.component.element,n=new(Kr())(t);n.add(new(Kr().Pan)({direction:"vertical"===this.orientation?Kr().DIRECTION_VERTICAL:Kr().DIRECTION_HORIZONTAL}));var i=0,r=0,o=!1,a=function(e){var t=e.target;switch(t.nodeName){case"INPUT":case"TEXTAREA":o=!0;break;default:o="true"===t.contentEditable}};t.addEventListener("mousedown",a,{capture:!0}),n.on("panstart",(function(){i=t.scrollLeft,r=t.scrollTop,t.classList.add("fv__ui-scrollable-scrolling")})),n.on("panend",(function(){t.classList.remove("fv__ui-scrollable-scrolling"),o=!1})),n.on("panmove",(function(n){if(!o)if("vertical"===e.orientation)t.scrollTop=r-n.deltaY;else t.scrollLeft=i-n.deltaX})),this.addDestroyHook((function(){n.destroy(),t.removeEventListener("mousedown",a)}))}}],[{key:"getName",value:function(){return"scrollable"}}]),n}(wo.X)),xl=(W.LoggerFactory.getLogger("@async"),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"getNewNode",value:function(e,t){var n=this,i=this.node.namespace,r=function(){return n.module.getComponentDefAsync(n.node.nodeName).then((function(){if(!n.isDestroyed){var t=e.cloneNode(n.node);return n.node.replaceWith(t),t}}))};if(this.module.name!==i)return new Promise((function(e){To.Z.modules.subscribeOnce(i,(function(t){n.module=t,e(r())}))}));if(this.node.isSenior){var o=this.node.clone(!1);return this.node.replaceWith(o),o}return r()}}],[{key:"getName",value:function(){return"async"}}]),n}(bu)),Pl=n(240),Cl=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"init",value:function(e){var t=this;(0,E._)((0,S._)(n.prototype),"init",this).call(this,e);var i=this.subName,r=this.attrValue;if(Array.isArray(r)){var o=new W.Store,a=r.map((function(e){return e.type===Pl.i.placeholder?t.controller.eval(e.content):e.content}));o.dispatch("update",a),r.forEach((function(e,n){"placeholder"===e.type&&t.addDestroyHook(t.controller.watchImm(e.content,(function(e){a[n]=e,o.dispatch("update",a)})))})),o.subscribe("update",(function(t){e.setAttribute(i,t.join(""))}))}else this.addDestroyHook(this.controller.watchImm(this.attrValue,(function(t){e.setAttribute(i,t)})))}}],[{key:"getName",value:function(){return"attr"}}]),n}(wo.X),Dl=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"init",value:function(e){(0,E._)((0,S._)(n.prototype),"init",this).call(this,e);var t=e.ioc.getInstanceByClass(this.attrValue,e);this.subName&&(e[this.subName]=t,e.controller[this.subName]=t),e.trigger("service",this.subName,t)}}],[{key:"getName",value:function(){return"service"}}]),n}(wo.X),El=W.LoggerFactory.getLogger("@var"),Sl=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this,e)).order=1/0,i}return(0,D._)(n,[{key:"init",value:function(e){var t=this;(0,E._)((0,S._)(n.prototype),"init",this).call(this,e);var i=this.subName;if(i)try{this.controller.data[i]=this.controller.eval(this.attrValue)}finally{this.addDestroyHook(this.controller.watchImm(this.attrValue,(function(e){t.controller.data[t.subName]=e})))}else El.warn("Variable is missing for @var directive",e.node.template)}}],[{key:"getName",value:function(){return"var"}}]),n}(wo.X),Il=(n(2730),"fv__ui-directive-show-hidden"),Tl=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"init",value:function(e){(0,E._)((0,S._)(n.prototype),"init",this).call(this,e),this.addDestroyHook(this.controller.watchImm(this.attrValue,(function(t){!1===t?e.addCSSClass(Il):e.removeCSSClass(Il)})))}}],[{key:"getName",value:function(){return"show"}}]),n}(wo.X),Rl="fv__ui-directive-hide-hidden",Ml=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"init",value:function(e){(0,E._)((0,S._)(n.prototype),"init",this).call(this,e),this.addDestroyHook(this.controller.watchImm(this.attrValue,(function(t){!0===t?e.addCSSClass(Rl):e.removeCSSClass(Rl)})))}}],[{key:"getName",value:function(){return"hide"}}]),n}(wo.X),Fl=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"init",value:function(e){if((0,E._)((0,S._)(n.prototype),"init",this).call(this,e),window.gtag){var t=this.subName||"click",i=(0,R._)(this.attrValue.split(","),2),r=i[0],o=i[1];e.element.on(t,(function(){window.gtag("event",t,{event_category:r,event_label:o})}))}}}],[{key:"getName",value:function(){return"ga"}}]),n}(wo.X),Nl=function(e){e.stopPropagation()},Ll=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"init",value:function(e){(0,E._)((0,S._)(n.prototype),"init",this).call(this,e);var t=(this.attrValue||this.subName).split(/[.,\s]+/);this.addDestroyHook.apply(this,(0,M._)(t.map((function(t){return e.element.addEventListener(t,Nl),function(){e.element.removeEventListener(t,Nl)}}))))}}],[{key:"getName",value:function(){return"stop-propagation"}}]),n}(wo.X);function Ol(e){return e.split("-").filter((function(e){return!!e})).map((function(e){return e[0].toUpperCase()+e.substring(1)})).join("")}var jl=W.LoggerFactory.getLogger("@setter"),Bl=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"init",value:function(e){(0,E._)((0,S._)(n.prototype),"init",this).call(this,e);var t=this.subName;if(t){var i="set"+Ol(t),r=e[i];if(!(0,W.isFunction)(r)){var o=Array.from(W.Reflect.getAllMethodNames(e.constructor)),a=o.map((function(e){return e.toLocaleLowerCase()})),s=a.indexOf(i.toLocaleLowerCase());s>-1&&(i=o[s],r=e[i])}(0,W.isFunction)(r)||(r=void 0);var c=function(n){r?r.call(e,n):e.sync(t,n)};c.$setterComponent=e,this.addDestroyHook(e.controller.watchImm(this.attrValue,c))}else jl.warn("Incorrect directive: ".concat(this))}}],[{key:"getName",value:function(){return"setter"}}]),n}(wo.X),Vl=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"init",value:function(e){var t=this;(0,E._)((0,S._)(n.prototype),"init",this).call(this,e);var i=(this.subName||"value").trim();if(!i.match(/^[\w\.]+$/))throw new Error("Incorrect directive expression: ".concat(this.toString()));var r="get"+Ol(i),o="is"+i[0].toUpperCase()+i.substring(1),a=e[r]||e[o]?"$component.".concat(r,"()"):"$component.".concat(i," || ").concat(i),s=function(n){e.controller.eval(t.attrValue,{$value:n})};this.addDestroyHook(e.watchImm(a,(function(e){s(e)}))),(0,W.isFunction)(e.getFieldName)&&this.addDestroyHook(e.on("change",(function(){s(e.controller.eval(a))})),e.on("input",(function(){s(e.controller.eval(a))})))}}],[{key:"getName",value:function(){return"getter"}}]),n}(wo.X),Ul=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"init",value:function(e){(0,E._)((0,S._)(n.prototype),"init",this).call(this,e),this.modifiers.late||this._doWatch()}},{key:"componentMounted",value:function(){this.modifiers.late&&this._doWatch()}},{key:"_doWatch",value:function(){var e=this.component;this.addDestroyHook(this.controller.watchImm(this.attrValue,(function(t){t?"function"==typeof e.disable&&e.disable():"function"==typeof e.enable&&e.enable()})))}}],[{key:"getName",value:function(){return"disable"}}]),n}(wo.X),Hl=(W.LoggerFactory.getLogger("@lazy"),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"parseComponent",value:function(e,t){var n=this;if(!this.node.parent)return this.node;var i=this.getPlaceholder(e,t);i.originNode=this.node;var r="idle"===this.subName,o=i.context.onObtainsComponentOf((function(e){var t=e.some((function(e){return n.node.contains(e)}));t&&(o(),i.lazyLoad())}));if(this.addDestroyHook(o),r&&window.requestIdleCallback){var a=(0,W.createDeferred)(),s=window.requestIdleCallback((function(){o(),i.isDestroyed||e.context.isDestroyed||a.resolve()}));a.promise.then((function(){i.lazyLoad()})),this.addDestroyHook((function(){window.cancelIdleCallback(s)}))}return i.lazyLoad=function(){var r=e.context;i.lazyLoad=function(){throw new Error("[@lazy] cyclic load detected")};var o=r.onNewComponentInstance((function(e){o(),n.$lazyLoadComponent=e,i.lazyLoad=function(){return n.$lazyLoadComponent}}));return n.parseNewNode(i,n.node,e,t)},i.isLazyComponent=!0,i}}],[{key:"getName",value:function(){return"lazy"}}]),n}(bu)),zl=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"init",value:function(e){(0,E._)((0,S._)(n.prototype),"init",this).call(this,e),this.radioGroupService}}],[{key:"getName",value:function(){return"radio-group"}},{key:"services",value:function(){return{radioGroupService:hs}}}]),n}(wo.X),Wl=(0,W.getUniqueId)("senior_slot_name"),Gl=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;(0,C._)(this,n);var a=i.attrs,s=e.attrs,c=(a.class||"")+" "+(s.class||""),u=Object.assign({},s,a);u.class=c,(o=t.call(this,{namespace:i.namespace,nodeName:i.nodeName,attrs:u,text:i.text,template:i.template})).originalNode=e,o.extNode=i,e.children.forEach((function(t){t.originalParent=e,o.append(t)})),i.children.length>0&&i.children.forEach((function(e){o.append(e)})),i.parent&&i.replaceWith((0,x._)(o));var l=e.querySelectorAll(r||"[body]")[0];return o.bodyNode=l,o}return(0,D._)(n,[{key:"extChildren",get:function(){return this.extNode.children}},{key:"appendExtChild",value:function(e){this.extNode.append(e),this.append(e)}},{key:"clone",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,i=new Yo.Z({nodeName:this.nodeName,text:this.text,attrs:this.attrs});t.set(this,i);var r=new n(this.originalNode,this.extNode.clone(e,t));return r.children=this.children.map((function(n){var i=e?n.clone(e,t):n;return i.parent=r,i})),i.replaceWith(r),r.parent=null,r}}],[{key:"getSeniorSlotName",value:function(){return Wl}}]),n}(Yo.Z),Yl=function(){function e(){(0,C._)(this,e),(0,z._)(this,"isLoaded",!1)}return(0,D._)(e,null,[{key:"scope",value:function(){return Po.U.MULTI_CASE}}]),e}(),$l=W.LoggerFactory.getLogger("@lazy-content"),Jl=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;return(0,C._)(this,n),e=t.apply(this,arguments),(0,z._)((0,x._)(e),"observerService",void 0),(0,z._)((0,x._)(e),"lazyContentService",void 0),(0,z._)((0,x._)(e),"undelegate",void 0),(0,z._)((0,x._)(e),"lazyLoadChildrenNodes",[]),e}return(0,D._)(n,[{key:"init",value:function(e){if((0,E._)((0,S._)(n.prototype),"init",this).call(this,e),e.isContainer()){var t=this.node,i=t.children.slice(0);if((0,T._)(t,Gl)){var r=i.filter((function(e){return!!e.originalParent}));this.lazyLoadChildrenNodes=t.extChildren,t.children=r}else this.lazyLoadChildrenNodes=i,t.children=[]}else $l.warn("@lazy-content directive is only valid for container components: ".concat(e.node.template))}},{key:"buildChildren",value:function(){}},{key:"componentPostlink",value:function(){var e=this,t=this.node.children.concat(this.lazyLoadChildrenNodes);this.node.children=Array.from(new Set(t));var n=this.component;if(n.isContainer()){var i=function(){e.lazyContentService.isLoaded||(e.lazyContentService.isLoaded=!0,e.lazyLoadChildren())},r=n.node,o=n.context.onObtainsComponentOf((function(e){var t=e.some((function(e){return r.contains(e)}));t&&(o(),i())}));if(this.addDestroyHook(o),this.undelegate=function(e,t){var n=e.insert,i=e.insertAll;return e.insert=function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t(),n.apply(e,r)},e.insertAll=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t(),i.apply(e,r)},function(){e.insert=n,e.insertAll=i}}(n,(function(){i()})),"intersection"===this.subName){var a=this.observerService.observe(n.element,(function(t){t&&(e.component.context.isDestroyed||e.isDestroyed||(a(),i()))}));this.addDestroyHook(a)}else if("idle"===this.subName)window.requestIdleCallback?window.requestIdleCallback((function(){e.lazyContentService.isLoaded||e.component.context.isDestroyed||e.isDestroyed||(e.lazyContentService.isLoaded=!0,e.lazyLoadChildren())})):setTimeout((function(){i()}),100);else var s=this.attrValue.split(/[,;\s]/).map((function(e){return n.once(e,(function(){i(),s.forEach((function(e){return e()}))}))}))}}},{key:"lazyLoadChildren",value:function(){var e=this;this.undelegate();var t=this.component;this.buildChildren();var n=t.context.parser,i=this.lazyLoadChildrenNodes.map((function(i){var r=n.parseNode(i,e.component);return(0,T._)(i,$o)?t.appendText(r):t.append(r),r}));t.localize(),t.isMounted&&i.forEach((function(e){return e.mounted()})),t.digest(!1),t.getRoot().trigger("lazy-content",t,i)}}],[{key:"getName",value:function(){return"lazy-content"}},{key:"inject",value:function(){return{observerService:fu,lazyContentService:Yl}}}]),n}(wo.X);var ql=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"init",value:function(e){(0,E._)((0,S._)(n.prototype),"init",this).call(this,e),this.addDestroyHook(e.context.pool.addComponent(e,this.attrValue))}}],[{key:"getName",value:function(){return"alias-name"}}]),n}(wo.X),Kl=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;(0,C._)(this,n),i=t.call(this,e),(0,z._)((0,x._)(i),"metadata",void 0);var r=i.constructor;return i.metadata=r.metadata(),i}return(0,D._)(n,[{key:"init",value:function(e){(0,E._)((0,S._)(n.prototype),"init",this).call(this,e),this.start("init")}},{key:"start",value:function(e){var t=this;if(this.metadata.lifecycle===e){var n=this.controller.watch(this.attrValue,(function(e){t.evaluate(e)}));this.metadata.immediately&&n.invoke(),this.addDestroyHook(n)}}},{key:"componentPrelink",value:function(){this.start("prelink")}},{key:"componentPostlink",value:function(){this.start("postlink")}},{key:"componentMounted",value:function(){this.start("mounted")}}],[{key:"metadata",value:function(){return{immediately:!0,lifecycle:"init"}}}]),n}(wo.X),Zl=new DOMParser,Xl=["strong","em","b","i","p","code","pre","samp","kbd","var","sub","sup","dfn","cite","small","address","hr","br","id","div","span","h1","h2","h3","h4","h5","h6","ul","ol","li","dl","dt","dd","abbr","a","img","blockquote","del","ins","table","thead","tbody","tfoot","tr","th","td","colgroup","body","head"],Ql=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"evaluate",value:function(e){var t,n=this.component;t=n.isContainer()?n.getContainerElement():n.getDomElement();var i=Zl.parseFromString(e,"text/html");if(i.body){var r=this.getSafeTags(),o=":not(".concat(r.join(","),")");i.querySelectorAll(o).forEach((function(e){i.body.contains(e)&&e.remove()})),i.body.querySelectorAll("*").forEach((function(e){e.getAttributeNames().forEach((function(t){"on"===t.slice(0,2)&&e.removeAttribute(t)}))}));var a=i.body.childNodes,s=document.createDocumentFragment();a.forEach((function(e){i.body.removeChild(e),s.appendChild(e)})),t.innerHTML="",t.appendChild(s)}else t.innerHTML=""}},{key:"getSafeTags",value:function(){return Xl}}],[{key:"getName",value:function(){return"safe-html"}}]),n}(Kl),eA=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;return(0,C._)(this,n),e=t.apply(this,arguments),(0,z._)((0,x._)(e),"checkboxes",[]),(0,z._)((0,x._)(e),"unobserveChangeEvents",(function(){})),(0,z._)((0,x._)(e),"component",void 0),e}return(0,D._)(n,[{key:"mode",get:function(){return this.component.getAttribute("mode")||"checked"}},{key:"init",value:function(e){var t=this;if((0,E._)((0,S._)(n.prototype),"init",this).call(this,e),"function"==typeof e.setValue||"function"==typeof e.getValue)throw new Error("The @checkbox-group cannot be used in a form field component: ".concat(e.nodeName));if(!e.isContainer())throw new Error("The @checkbox-group directive can only be used in container components");e.setValue=function(e){t.setValue(e)},e.getValue=function(){return t.getValue()}}},{key:"componentMounted",value:function(){var e=this;this.addDestroyHook(this.component.context.onModifyTree((function(t){t===e&&e.reloadCheckboxes()}))),this.reloadCheckboxes()}},{key:"reloadCheckboxes",value:function(){var e=this;this.unobserveChangeEvents(),this.checkboxes=this.findCheckboxes(),this.triggerChangeEvent();var t=this.checkboxes.map((function(t){return t.on("change",(function(){e.triggerChangeEvent()}))}));this.unobserveChangeEvents=function(){t.forEach((function(e){return e()}))}}},{key:"triggerChangeEvent",value:function(){this.component.trigger("change",this.getValue())}},{key:"findCheckboxes",value:function(){var e=this.component.querySelectorAll("@checkbox-group");return this.component.querySelectorAll("@checkbox,@input[type=checkbox]").filter((function(t){return 0===e.length||!e.some((function(e){return e.contains(t)}))}))}},{key:"getCheckboxes",value:function(){return this.checkboxes}},{key:"getValue",value:function(){switch(this.mode){case"map":return this.getCheckboxes().reduce((function(e,t){return e[t.getFieldName()]=t.getValue(),e}),{});case"checked":return this.getCheckboxes().filter((function(e){return e.getDOMValue()})).map((function(e){return e.getValue()}));case"all":return this.getCheckboxes().map((function(e){return e.getValue()}))}}},{key:"setValue",value:function(e){switch(this.mode){case"map":return this.getCheckboxes().filter((function(t){return t.getFieldName()in e})).forEach((function(t){t.setValue(e[t.getFieldName()])}));case"checked":if(!Array.isArray(e))return;var t=0;return this.getCheckboxes().forEach((function(n){var i=n.getValue();e.slice(t).some((function(e){if(e===i)return n.setDOMValue(!0),t++,!0}))||n.setDOMValue(!1)}));case"all":return this.getCheckboxes().map((function(t,n){t.setValue(e[n])}))}}},{key:"getDOMValue",value:function(){return this.getCheckboxes().reduce((function(e,t){return e[t.getFieldName()]=t.getDOMValue(),e}),{})}}],[{key:"getName",value:function(){return"checkbox-group"}}]),n}(wo.X),tA=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"componentMounted",value:function(){var e=this.modifiers,t=e.before,n=e.after,i=e.thrown,r=e.around,o=this.controller,a=o.handle,s=function(e){if("function"==typeof e){var s=W.Aspect.on(a);t&&s.before(e),n&&s.after(e),i&&s.thrown(e),r&&s.around(e),o.handle=s.extract()}};if("function"==typeof this.attrValue)s(this.attrValue);else{var c=this.controller.watchImm(this.attrValue,s);this.addDestroyHook(c)}this.addDestroyHook((function(){o.handle=a}))}}],[{key:"getName",value:function(){return"decorate-controller"}}]),n}(wo.X),nA=function(e){e.preventDefault()},iA=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"init",value:function(e){var t=this;(0,E._)((0,S._)(n.prototype),"init",this).call(this,e),this.subName.split(/[,;\s]+/,(function(n){e.element.addEventListener(n,nA),t.addDestroyHook((function(){e.element.removeEventListener(n,nA)}))}))}}],[{key:"getName",value:function(){return"prevent-default"}}]),n}(wo.X),rA=(n(987),document.createElement("div"));rA.classList.add("fv__ui-visible-only-element");var oA=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"init",value:function(e){var t=this;if((0,E._)((0,S._)(n.prototype),"init",this).call(this,e),e.isContainer()){var i=[];this.addDestroyHook((function(){i.forEach((function(e){return e()})),i.length=0})),e.rerenderChildren=function(){var n;if(i.forEach((function(e){return e()})),i.length=0,!e.isDestroyed){var r=e.getAllRenderableElements(),o=e.getContainerElement();o.classList.add("fv__ui-visible-only-container");var a=r.findIndex((function(e){return(0,W.isHTMLElement)(e)}));if(-1===a)return e.diffRenderer(o,r);var s=r[a];e.diffRenderer(o,r.slice(0,a+1));var c=s.getBoundingClientRect(),u=rA.cloneNode();u.style.cssText="\n                height: ".concat(c.height,"px;\n            ");var l=r.slice(a+1).map((function(e){var n=u.cloneNode(),r=t.intersectionContentObserverService.observe(n,(function(t){t&&(o.replaceChild(e,n),r())}));return i.push(r),n}));(n=o).append.apply(n,(0,M._)(l))}}}}}],[{key:"getName",value:function(){return"render-visibles-only"}},{key:"inject",value:function(){return{intersectionContentObserverService:fu}}}]),n}(wo.X),aA=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"init",value:function(e){(0,E._)((0,S._)(n.prototype),"init",this).call(this,e),this.addDestroyHook(e.controller.watchImm(this.attrValue,(function(t){t?e.active():e.deactive()})))}}],[{key:"getName",value:function(){return"active"}}]),n}(wo.X),sA=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"init",value:function(e){(0,E._)((0,S._)(n.prototype),"init",this).call(this,e),this.addDestroyHook(e.controller.watchImm(this.attrValue,(function(t){t?e.enable():e.disable()})))}}],[{key:"getName",value:function(){return"enable"}}]),n}(wo.X),cA=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"init",value:function(e){(0,E._)((0,S._)(n.prototype),"init",this).call(this,e);var t=this.modifiers.visibility,i=(this.modifiers.available,t?Xo.Gn.visibility:Xo.Gn.available);this.addDestroyHook(e.controller.watchImm(this.attrValue,(function(t){t?e.lock(i):e.unlock(i)})))}}],[{key:"getName",value:function(){return"lock"}}]),n}(wo.X),uA=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"init",value:function(e){(0,E._)((0,S._)(n.prototype),"init",this).call(this,e);var t=this.subName;this.addDestroyHook(this.controller.watchImm(this.attrValue,(function(n){e.element[t]=n})))}}],[{key:"getName",value:function(){return"prop"}}]),n}(wo.X),lA=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"init",value:function(e){(0,E._)((0,S._)(n.prototype),"init",this).call(this,e),this.addDestroyHook(this.controller.watchImm(this.attrValue,(function(t){e.element.src=t||""})))}}],[{key:"getName",value:function(){return"imagesrc"}}]),n}(wo.X),AA=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"init",value:function(e){(0,E._)((0,S._)(n.prototype),"init",this).call(this,e);var t=this.modifiers.overwrite;this.addDestroyHook(this.controller.watchImm(this.attrValue,(function(n){"string"==typeof n?t?e.element.style.cssText=n:e.element.style.cssText+=n:la().isPlainObject(n)&&la()(e.element).css(n)})))}}],[{key:"getName",value:function(){return"style"}}]),n}(wo.X),dA=function(){function e(){(0,C._)(this,e),(0,z._)(this,"prefixMap",new Map)}return(0,D._)(e,null,[{key:"scope",value:function(){return Po.U.COMPONENT_TREE}}]),e}(),hA=Symbol("bem-scope"),fA=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"init",value:function(e){if((0,E._)((0,S._)(n.prototype),"init",this).call(this,e),this.modifiers.root){var t=e[hA]=(0,W.getUniqueId)("bem-scope");this.service.prefixMap.set(t,this.attrValue),e.addCSSClass(this.attrValue)}else{var i=this.getScope(),r=this.service.prefixMap.get(i);if(r){var o=r+"-"+this.attrValue;e.addCSSClass(o)}}}},{key:"getScope",value:function(){for(var e=this.component;e;){if(e[hA])return e[hA];e=e.parent}}}],[{key:"getName",value:function(){return"bem-class"}},{key:"inject",value:function(){return{service:dA}}}]),n}(wo.X),pA=(n(2320),To.Z.root().getRegistry());pA.registerDirective(Io),pA.registerDirective(Bo),pA.registerDirective(hl),pA.registerDirective(Ho),pA.registerDirective(ul),pA.registerDirective(Al),pA.registerDirective(zo),pA.registerDirective(Wu),pA.registerDirective(pl),pA.registerDirective(Ju),pA.registerDirective(qu),pA.registerDirective(Zu),pA.registerDirective(Xu),pA.registerDirective(il),pA.registerDirective(rl),pA.registerDirective(ol),pA.registerDirective(sl),pA.registerDirective(cl),pA.registerDirective(ll),pA.registerDirective(vl),pA.registerDirective(gl),pA.registerDirective(ml),pA.registerDirective(_l),pA.registerDirective(yl),pA.registerDirective(fl),pA.registerDirective(bl),pA.registerDirective(wl),pA.registerDirective(kl),pA.registerDirective(xl),pA.registerDirective(Cl),pA.registerDirective(Dl),pA.registerDirective(Sl),pA.registerDirective(Tl),pA.registerDirective(Ml),pA.registerDirective(Fl),pA.registerDirective(Ll),pA.registerDirective(Bl),pA.registerDirective(Vl),pA.registerDirective(Ul),pA.registerDirective(Hl),pA.registerDirective(zl),pA.registerDirective(Jl),pA.registerDirective(ql),pA.registerDirective(Ql),pA.registerDirective(eA),pA.registerDirective(tA),pA.registerDirective(iA),pA.registerDirective(oA),pA.registerDirective(aA),pA.registerDirective(sA),pA.registerDirective(cA),pA.registerDirective(uA),pA.registerDirective(lA),pA.registerDirective(AA),pA.registerDirective(fA);n(552),n(1291);var vA=To.Z.root().getRegistry();for(var gA in u)vA.registerComponent(u[gA]);vA.registerComponent(ou);var mA=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this,e)).isConfirmed=!1,i}return(0,D._)(n,[{key:"ok",value:function(){this.isConfirmed=!0,this.dialog.trigger("confirm",this.dialog.inputComponent.getValue()),this.dialog.hide()}},{key:"cancel",value:function(){this.dialog.hide()}},{key:"switchPassword",value:function(){this.dialog.switchPassword&&this.dialog.switchPassword()}},{key:"mounted",value:function(){var e=this;this.dialog=this.component.parent,this.dialog.on(Eo.qo.HIDDEN,(function(){e.isConfirmed?e.isConfirmed=!1:e.dialog.trigger("cancel")}));var t=function(n){(0,W.match)(n).when(W.matchers.Enter,(function(){n.stopPropagation(),e.ok(),e.dialog.element.removeEventListener("keyup",t)}))},n=function(n){(0,W.match)(n).when(W.matchers.Enter,(function(){e.dialog.element.addEventListener("keyup",t)}))};this.dialog.element.addEventListener("keydown",n),this.component.addDestroyHook((function(){e.dialog.isDestroyed||e.dialog.element.removeEventListener("keydown",n)}))}}],[{key:"getName",value:function(){return"PromptDialogController"}}]),n}(_u.Q);n(8305);To.Z.module("dialogs",[]).registerController(mA);var yA=function(){function e(){(0,C._)(this,e),this.flags=1}return(0,D._)(e,[{key:"parseRoot",value:function(e){(0,W.notImplemented)()}},{key:"forceParseChildren",value:function(e){0}},{key:"parse",value:function(e){(0,W.notImplemented)()}}]),e}(),_A=n(6315),bA=new Map;function wA(e){if(e=e.trim(),bA.has(e))return bA.get(e);var t=document.createElement("div");t.innerHTML=e;var n=t.children;return bA.set(e,n),n}var kA=W.LoggerFactory.getLogger("FRAGMENT-ONSELECT");function xA(e,t,n){var i=e.onselect;if(i||(i=Eo.W4.THROW_ERROR_IF_NOT_FOUND),"function"!=typeof i)switch(i){case Eo.W4.THROW_ERROR_IF_NOT_FOUND:if(t.length<1)throw new Error('target component not found: "'.concat(n,'"'));break;case Eo.W4.LOG_MESSAGE_IF_NOT_FOUND:t.length<1&&kA.warn("target component not found: ".concat(n));case Eo.W4.IGNORE_IF_NOT_FOUND:}else i(t,n,e)}var PA,CA=W.LoggerFactory.getLogger("parser.actions.insert");function DA(e,t,n,i){if(!t.target)throw new Error("target name is missing!");Array.isArray(t.target)||(t.target=[t.target]);var r=t.config;r||(CA.debug("config is required for fragment components",t),r=[]),Array.isArray(r)||(r=[r]);var o={};r.forEach((function(e,t){if(!e.target)throw new Error("target name is required for fragment components (".concat(t,")"));if(o[e.target])throw new Error("Duplicated target name: ".concat(e.target));o[e.target]=e})),t.target.forEach((function(r){var a=e.querySelectorAll(r);xA(t,a,r),a.forEach((function(e){var r=function(e){var t=a.querySelectorAll(e),n=o[e];t.forEach((function(e){return e.appendComponentOptions(n)}))},a=t.template?i.parse(t.template):null;if(!a)throw new Error('invalid fragment template: "'.concat(t.template,'"'));for(var s in o)r(s);var c=e.children.filter((function(e){return(0,T._)(e,Yo.Z)})),u=c[n];!u||n>=c.length?e.append(a):u.before(a)}))}))}const EA=(PA={},(0,z._)(PA,Eo.M4.PREPEND,(function(e,t,n){DA(e,t,0,n)})),(0,z._)(PA,Eo.M4.APPEND,(function(e,t,n){DA(e,t,1/0,n)})),(0,z._)(PA,Eo.M4.BEFORE,(function(e,t,n){if(!t.target)throw new Error("target name is missing!");Array.isArray(t.target)||(t.target=[t.target]);var i=t.config||[];Array.isArray(i)||(i=[i]);var r={};i.forEach((function(e,t){if(!e.target)throw new Error("target name is required for fragment components (".concat(t,")"));if(r[e.target])throw new Error("Duplicated target name: ".concat(e.target));r[e.target]=e})),t.target.forEach((function(i){var o=e.querySelectorAll(i);xA(t,o,i),o.forEach((function(e){var i=function(e){var t=o.querySelectorAll(e),n=r[e];t.forEach((function(e){return e.appendComponentOptions(n)}))},o=t.template?n.parse(t.template):null;if(!o)throw new Error('invalid fragment template: "'.concat(t.template,'"'));for(var a in r)i(a);e.before(o)}))}))})),(0,z._)(PA,Eo.M4.AFTER,(function(e,t,n){if(!t.target)throw new Error("target name is missing!");Array.isArray(t.target)||(t.target=[t.target]);var i=t.config||[];Array.isArray(i)||(i=[i]);var r={};i.forEach((function(e,t){if(!e.target)throw new Error("target name is required for fragment components (".concat(t,")"));if(r[e.target])throw new Error("Duplicated target name: ".concat(e.target));r[e.target]=e})),t.target.forEach((function(i){var o=e.querySelectorAll(i);xA(t,o,i),o.forEach((function(e){var i=function(e){var t=o.querySelectorAll(e),n=r[e];t.forEach((function(e){return e.appendComponentOptions(n)}))},o=t.template?n.parse(t.template):null;if(!o)throw new Error('invalid fragment template: "'.concat(t.template,'"'));for(var a in r)i(a);e.after(o)}))}))})),(0,z._)(PA,Eo.M4.REPLACE,(function(e,t,n){if(!t.target)throw new Error("target name is missing!");Array.isArray(t.target)||(t.target=[t.target]);var i=t.config||[];Array.isArray(i)||(i=[i]);var r={};i.forEach((function(e,t){if(!e.target)throw new Error("target name is required for fragment components (".concat(t,")"));if(r[e.target])throw new Error("Duplicated target name: ".concat(e.target));r[e.target]=e})),t.target.forEach((function(i){var o=e.querySelectorAll(i);xA(t,o,i),o.forEach((function(e){var i=function(e){var t=o.querySelectorAll(e),n=r[e];t.forEach((function(e){return e.appendComponentOptions(n)}))},o=t.template?n.parse(t.template):null;if(!o)throw new Error('invalid fragment template: "'.concat(t.template,'"'));for(var a in r)i(a);o&&(e.after(o),e.remove())}))}))})),(0,z._)(PA,Eo.M4.FILL,(function(e,t,n){if(!t.target)throw new Error("target name is missing!");Array.isArray(t.target)||(t.target=[t.target]);var i=t.config,r={};Array.isArray(i)?i.forEach((function(e){r[e.target]=e})):i&&(r[i.target]=i),t.target.forEach((function(i){var o=e.querySelectorAll(i);xA(t,o,i),o.forEach((function(e){if(!t.ignoreAsync){var i=e.asyncAncestor();if(i)return void i.appendFragment(Object.assign({},t,{target:i===e?"::self()":e.name}))}var o=n.parse(t.template,!1);e.clear(),o.forEach((function(t){t.appendComponentOptions(r[t.name]),e.append(t)}))}))}))})),(0,z._)(PA,Eo.M4.EXT,(function(e,t){if(!t.target)throw new Error("target name is missing!");Array.isArray(t.target)||(t.target=[t.target]),t.target.forEach((function(n){var i=e.querySelectorAll(n);xA(t,i,n),i.forEach((function(e,n){if(!t.ignoreAsync){var i=e.asyncAncestor();if(i)return void i.appendFragment(Object.assign({},t,{target:i===e?"::self()":e.name}))}!function(e,t){var n=t.config;if(!n)return;Array.isArray(n)||(n=[n]);n.forEach((function(t){t=Object.assign({},t);var n=e.componentOptions||{},i=t.callback,r=n.callback;switch(void 0===i?"undefined":(0,F._)(i)){case"object":t.callback=r,t.proxyControllers=n.proxyControllers.concat(i);break;case"function":n.proxyControllers=[]}e.appendComponentOptions(t)}))}(e,t)}))}))})),(0,z._)(PA,Eo.M4.REMOVE,(function(e,t){if(!t.target)throw new Error("target name is missing!");Array.isArray(t.target)||(t.target=[t.target]),t.target.forEach((function(n){var i=e.querySelectorAll(n);xA(t,i,n),i.forEach((function(e){e.remove()}))}))})),(0,z._)(PA,Eo.M4.INSERT,(function(e,t,n){DA(e,t,t.insertIndex||0,n)})),PA);function SA(e,t,n){t&&t.forEach((function(t){var i=EA[t.action||Eo.M4.EXT];if(!i)throw new Error("Invalid action type: ".concat(t.action));i(n,t,e)}))}var IA=W.LoggerFactory.getLogger("FragmentNode"),TA=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;(0,C._)(this,n);var a,s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){for(var n in t)"class"===n?e.class+=" "+t[n]:e[n]=t[n];return e}),{})}(e.$$options.attrs,i.$$options.attrs);return o=t.call(this,{namespace:e.namespace,nodeName:e.nodeName,text:e.text||i.text,attrs:s,template:e.template}),(0,z._)((0,x._)(o),"implementNode",void 0),(0,z._)((0,x._)(o),"usageNode",void 0),(0,z._)((0,x._)(o),"fragment",void 0),(0,z._)((0,x._)(o),"extChildren",void 0),(0,z._)((0,x._)(o),"fragmentConfigs",void 0),(0,z._)((0,x._)(o),"fragmentModule",void 0),(0,z._)((0,x._)(o),"fragmentType",void 0),o.implementNode=e,o.usageNode=i,o.fragment=r,o.extChildren=[],o.fragmentConfigs=[],o.fragmentModule=i.module,o.fragmentType=i.nodeName,o.usageNode.children.forEach((function(e){o.append(e)})),o.implementNode.children.forEach((function(e){o.append(e)})),o.extChildren=o.implementNode.children,o.fragmentConfigs=(a=o.fragment.fragments||o.fragment.config)?(Array.isArray(a)||(a=[a]),a):[],o}return(0,D._)(n,[{key:"prelink",value:function(){var e=this;this.fragmentConfigs.forEach((function(t){t.target==e.implementNode.name&&(e.componentOptions||IA.info("duplicate config found",e.componentOptions,"will be covered by ",t),e.setComponentOptions(t))}))}},{key:"postlink",value:function(){var e=this;this.fragmentConfigs.forEach((function(t){var n=e.querySelectorAll(t.target);n&&n.forEach((function(e){e.setComponentOptions(t)}))}))}},{key:"clone",value:function(e,t){var i=new n(this.implementNode.clone(e,t),this.usageNode.clone(e,t),this.fragment);return i.children=this.children.map((function(t){var n=e?t.clone(e):t;return n.parent=i,n})),i.setComponentOptions(this.componentOptions),i.parent=this.parent,i}}]),n}(Yo.Z);var RA=W.LoggerFactory.getLogger("XMLTemplateParser"),MA=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;return(0,C._)(this,n),(e=t.call(this)).domParser=new DOMParser,e}return(0,D._)(n,[{key:"parseRoot",value:function(e){if((0,T._)(e,Yo.Z))return{namespace:e.namespace,nodeName:e.nodeName,attributes:e.attrs};var t=this._parseTemplateChildrenElements(e);if(t.length>1)throw new Error("Multiple root element found in template: ".concat(t.length));this.resolvePlaceholders(t);for(var n=t.item(0),i=n.getUIXNamespace(),r=n.getUIXNodeName(),o={},a=n.attributes.length,s=0;s<a;s++){var c=n.attributes.item(s);o[c.name]=c.value}return{namespace:i,nodeName:r,attributes:o}}},{key:"parse",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((0,T._)(e,Yo.Z))return this.$processSeniorNodeIfNeeded(e);if(Array.isArray(e)){if(t&&1!=e.length)throw new Error("Invalid template: quantity of root element out of bounds: ".concat(e.length));return t?e[0]:e}var n=this._parseTemplateChildrenElements(e);if(t){var i=n.length;if(1!==i)throw new Error("Invalid template: quantity of root element out of bounds: ".concat(i))}var r=[],o=!0,a=!1,s=void 0;try{for(var c,u=n[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var l=c.value,A=this.$parseToUIXNode(l);A&&r.push(A)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}return t?r[0]:r}},{key:"_parseTemplateChildrenElements",value:function(e){var t;if("string"==typeof e)t=wA(e);else if("undefined"!=typeof HTMLTemplateElement&&(0,T._)(e,HTMLTemplateElement))t=e.content.children;else if((0,T._)(e,DocumentFragment))if(e.children)t=e.children;else{var n=e.childNodes[0];for(t=[];n;)n.nodeType==Node.ELEMENT_NODE&&t.push(n),n=n.nextSibling}else{if(!(0,T._)(e,Element))throw new TypeError("Illegal argument, template must be a html text or instance of window.Element");t=[e]}return this.resolvePlaceholders(t),t}},{key:"resolvePlaceholders",value:function(e){for(var t=this,n=function(n){var i=e[n];if(i.nodeType==Node.TEXT_NODE){var r=i.textContent,o=(0,Pl.w)(r),a=i.ownerDocument;a["placeholder-text"]||(a["placeholder-text"]=document.createElement("placeholder-text")),o.forEach((function(e){switch(e.type){case Pl.i.text:i.parentNode.insertBefore(a.createTextNode(e.content),i);break;case Pl.i.placeholder:var t=a["placeholder-text"].cloneNode(!1);t.setAttribute("text",e.content),i.parentNode.insertBefore(t,i)}})),i.parentNode.removeChild(i)}else t.resolvePlaceholders(i.childNodes)},i=e.length,r=0;r<i;r++)n(r)}},{key:"$parseToUIXNode",value:function(e,t,n){var i=this.$convertToUIXNode(e,t,n);if(i){i.prelink();var r="undefined"!=typeof HTMLTemplateElement&&(0,T._)(e,HTMLTemplateElement)?e.content.firstChild:e.firstChild;if(!i.directives||this.flags||!i.directives.some((function(e){return"@lazy-content"==e.attrName})))for(;r;){var o=this.$parseToUIXNode(r);o&&i.append(o),r=r.nextSibling}return i.postlink(),this.$processSeniorNodeIfNeeded(i)}}},{key:"$convertToUIXNode",value:function(e,t,n){if((0,T._)(e,Text)){var i=e.textContent.trim();if(i.length>0)return new $o({text:i})}else{if((0,T._)(e,HTMLElement)||(0,T._)(e,SVGElement)){var r=(0,_A.NI)(e),o=(0,_A.q4)(e),a={},s=!0,c=!1,u=void 0;try{for(var l,A=e.attributes[Symbol.iterator]();!(s=(l=A.next()).done);s=!0){var d=l.value,h=d.name;if("@"===h[0])a[h]=d.value;else a[h.toLowerCase()]=d.value}}catch(e){c=!0,u=e}finally{try{s||null==A.return||A.return()}finally{if(c)throw u}}a=Object.assign(a,n);var f=To.Z._nostrictModule(r);if(!f)return;if("undefined"!=typeof HTMLTemplateElement&&(0,T._)(e,HTMLTemplateElement))return new Zo({namespace:r,nodeName:o,attrs:a,template:e.outerHTML,fragmentContent:e.content});var p=e.textContent,v=f.getFragment(o),g=new Yo.Z({namespace:r,nodeName:o,text:p,attrs:a,template:e.outerHTML});if(v){var m=this.parse(v.template,!0);return new TA(m,g,v)}return g}RA.debug("useless node: ",e)}}},{key:"$processSeniorNodeIfNeeded",value:function(e){if(!e.nodeName)return e;var t=To.Z._nostrictModule(e.namespace);if(!t)return e;var n=t.getComponentClass(e.nodeName);return n&&n.isSeniorComponent&&n.$seniorComponentOptions&&!(0,T._)(e,TA)?this.$processSeniorNode(e,n):e}},{key:"$processSeniorNode",value:function(e,t){if((0,T._)(e,Gl))return e;if("true"===e.attrs.shadow)return e;if(t[FA])return t[NA]=t[NA]||[],t[NA].push(e),e;var n=t.$seniorComponentOptions,i=n.template,r=n.body,o=n.fragments;t[FA]=!0;var a=this.parse(i,!0);delete t[FA];var s=To.Z.module(a.namespace).getComponentClass(a.nodeName);s&&s!==t&&s.isSeniorComponent&&(a=this.$processSeniorNode(a,s)),SA(this,o,a);var c=new Gl(a,e,r);return t[NA]&&(t[NA].forEach((function(e){var t=new Gl(c.originalNode,e);e.replaceWith(t)})),delete t[NA]),c}}]),n}(yA),FA=Symbol("senior-component-is-processing"),NA=Symbol("senior-component-delayed-node");function LA(e){return BA.createSuperClass(e)}function OA(e){if((0,T._)(e,Gl))return!0;for(var t=e;;){var n=void 0;if((0,T._)(t,TA)&&(n=t.implementNode),(0,T._)(n,Gl))return!0;if(void 0===n)return!1;t=n}}Va.Z.prototype.component=function(e,t){var n=function(n){(0,I._)(r,n);var i=(0,N._)(r);function r(){return(0,C._)(this,r),i.apply(this,arguments)}return(0,D._)(r,[{key:"mounted",value:function(){(0,E._)((0,S._)(r.prototype),"mounted",this).call(this),"function"==typeof t.mounted&&t.mounted.call(this)}}],[{key:"getName",value:function(){return e}}]),r}(BA.createSuperClass({template:t.template})),i=Object.assign({},t);delete i.template,delete i.mounted,Object.assign(n.prototype,i),this.registerComponent(n)};var jA,BA=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,null,[{key:"createSuperClass",value:function(e){var t,n=e.templateParser,i=void 0===n?new MA:n,r=e.template,o=e.fragments,a=void 0===o?[]:o,s=e.body,c=void 0===s?void 0:s,u=e.ComponentClass,l=void 0===u?void 0:u,A=e.preprocess,d=void 0===A?W.noop:A;if(!l){var h=wA(r);if(!h[0])throw new Error("Incorrect senior component template: ".concat(r));var f=h[0].nodeName.toLowerCase(),p=f.indexOf(":"),v=p>-1?f.substring(0,p):"",g=p>-1?f.substring(p+1):f,m=To.Z.module(v||"");l=m.getComponentClass(g)||ou}return t=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;return(0,C._)(this,n),e=t.apply(this,arguments),(0,z._)((0,x._)(e),"bodyComponent",void 0),e}return(0,D._)(n,[{key:"createDOMElement",value:function(){return(0,E._)((0,S._)(n.prototype),"createDOMElement",this)===ou.prototype.createDOMElement?document.createElement(this.node.originalNode.nodeName):(0,E._)((0,S._)(n.prototype),"createDOMElement",this).call(this)}},{key:"rerenderChildren",value:function(){(0,E._)((0,S._)(n.prototype),"rerenderChildren",this).call(this),this.bodyComponent&&this.bodyComponent!==this&&"rerenderChildren"in this.bodyComponent&&this.bodyComponent.rerenderChildren()}},{key:"getRenderableChildren",value:function(){var e=this;return this.hasBody()&&this.bodyComponent!==this?this.$container.children().filter((function(t){return e.isOriginalChild(t)})):this.$container.children()}},{key:"append",value:function(e){var t=(0,E._)((0,S._)(n.prototype),"append",this).call(this,e);return this.hasBody()?(this.isOriginalChild(e)?e.node===this.node.bodyNode?this.bodyComponent=e:c&&!this.bodyComponent&&(this.bodyComponent=this.querySelector(c)):this.bodyComponent&&"appendTemporaryComponent"in this.bodyComponent&&(this.bodyComponent.appendTemporaryComponent(e),this.rerenderChildren()),t):t}},{key:"isOriginalChild",value:function(e){var t=this.node.originalNode;return e.node.originalParent===t}},{key:"hasBody",value:function(){return!!this.node.bodyNode}}],[{key:"preprocessNode",value:function(e,t,n){if(!OA(e)){var o=i.parse(r,!0),s=To.Z.module(o.namespace).getComponentClass(o.nodeName);return s&&s!==this&&s.isSeniorComponent&&(o=s.preprocessNode(o,t,n)),n.parseFragments(a,o),new Gl(o,e,c)}}},{key:"preprocess",value:function(e,t){var n=e.vnode;if(OA(n))d(e),"preprocess"in l&&"function"==typeof l.preprocess&&l.preprocess(e);else{var i=this.preprocessNode(n,e,t);e.appendVNode(i)}}}]),n}(l),(0,z._)(t,"$seniorComponentOptions",{templateParser:i,template:r,body:c,fragments:a}),(0,z._)(t,"isSeniorComponent",!0),t}}]),e}(),VA=n(5335),UA=n.n(VA),HA=(n(1286),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"postlink",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"postlink",this).call(this),this.alertController=this.querySelector(">@div").controller,this.wrapper=this.querySelector(">@div"),this.header=this.querySelector(">@div>@layer-header"),this.body=this.querySelector(">@div>@layer-view"),this.bodyIcon=this.querySelector(">@div>@layer-view>@i"),this.again=this.getComponentByName("notAgain"),this.again.on("change",(function(t){e.notShowAgain=t})),Object.assign(this.alertController,{title:this.title,message:this.message,notAgain:this.notAgain,ok:function(){e.isOKBtn=!0,e.hide()},cancel:function(){e.cancel()}}),this.alertController.digest()}},{key:"append",value:function(e){this.body?(this.$container.append(e),this.body.append(e)):(0,E._)((0,S._)(n.prototype),"append",this).call(this,e)}},{key:"removeChild",value:function(e){this.body?(this.$container.removeChild(e),this.body.removeChild(e)):(0,E._)((0,S._)(n.prototype),"removeChild",this).call(this,e)}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this);var t=function(n){(0,W.eventPath)(n).some((function(t){return t===e.element}))&&((0,W.match)(n).when(W.matchers.Escape,(function(){e.alertController.cancel()})).when(W.matchers.Enter,(function(){e.alertController.ok()})),document.removeEventListener("keyup",t))},i=function(n){(0,W.eventPath)(n).some((function(t){return t===e.element}))&&(0,W.match)(n).when(W.matchers.Escape,(function(){n.stopPropagation(),document.addEventListener("keyup",t)})).when(W.matchers.Enter,(function(){n.stopPropagation(),document.addEventListener("keyup",t)}))};document.addEventListener("keydown",i),this.addDestroyHook((function(){document.removeEventListener("keydown",i)}))}},{key:"setTitle",value:function(e){"string"==typeof e&&(this.alertController.title=e,this.alertController.digest(!0))}},{key:"setIconType",value:function(e){"string"==typeof e||e?(this.bodyIcon.removeCSSClass("fv__hidden"),this.bodyIcon.removeCSSClass(this.alertController.iconType),this.alertController.iconType="fv__icon-dialog-level-"+e,this.bodyIcon.addCSSClass(this.alertController.iconType),this.alertController.digest(!0)):this.bodyIcon.addCSSClass("fv__hidden")}},{key:"setMessage",value:function(e,t){if("string"==typeof e){this.alertController.message=e,this.alertController.digest(!0);var n=this.querySelector(">@div>@layer-view>@span").element;t?(n.innerHTML=e,n.parentElement.style.alignItems="flex-start"):n.parentElement.style.alignItems=""}}},{key:"setId",value:function(e){this.alertId=void 0,this.wrapper.removeAttribute("id"),e&&(this.alertId=e,this.wrapper.setAttribute("id",e))}},{key:"showAgain",value:function(e){this.again.hide(),e&&(this.notShowAgain=!1,this.again.setValue(!1),this.again.show(),this.alertController.notAgain="string"==typeof e?e:this.notAgain,this.alertController.digest(!0))}},{key:"show",value:function(e){this.isOKBtn=!1,this.alertId&&this.notShowAgainList&&this.notShowAgainList.indexOf(this.alertId)>-1?this.isDestroyed||this.trigger(Eo.qo.HIDDEN):(0,E._)((0,S._)(n.prototype),"show",this).call(this,e)}},{key:"doHidden",value:function(){if((0,E._)((0,S._)(n.prototype),"doHidden",this).call(this),this.notShowAgainList||(this.notShowAgainList=[]),this.alertId&&this.notShowAgain&&-1===this.notShowAgainList.indexOf(this.alertId))this.notShowAgainList.push(this.alertId);else if(this.alertId&&!this.notShowAgain){var e=this.notShowAgainList.indexOf(this.alertId);e>-1&&this.notShowAgainList.splice(e,1)}}},{key:"setOkBtnText",value:function(e){var t=e||this.pdfUI.i18n.t("common-dialogs.ok");this.alertController.okBtnText=t,this.alertController.digest()}}],[{key:"getName",value:function(){return"alert"}},{key:"getMetadata",value:function(){return{options:{title:{type:"string",defaultValue:"common-dialogs.alert-title"},message:{type:"string",defaultValue:"common-dialogs.alert-message"},level:{type:"enum",enums:["info","warn","error"],defaultValue:"info"},notAgain:{type:"string",defaultValue:"common-dialogs.notAgain"}}}}}]),n}(BA.createSuperClass({template:UA()()}))),zA=n(166),WA=n.n(zA),GA=(n(6578),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"postlink",value:function(){(0,E._)((0,S._)(n.prototype),"postlink",this).call(this),this.promptController=this.querySelector(">@div").controller,this.inputComponent=this.querySelector("fv__ui-prompt-value-editor"),this.okButtonComponent=this.querySelector("fv__ui-prompt-ok-button"),this.promptController.title=this.title,this.promptController.message=this.message,this.promptController.digest()}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this),this.on(Eo.qo.SHOWN,(function(){setTimeout((function(){e.inputComponent.focus(),e.inputComponent.element.select()}))}))}},{key:"setTitle",value:function(e){this.promptController.title=e,this.promptController.digest(!0)}},{key:"setIconType",value:function(e){("string"==typeof e||e)&&(this.promptController.iconType="fv__icon-dialog-level-"+e,this.promptController.digest(!0))}},{key:"setMessage",value:function(e){this.promptController.message=e,this.promptController.digest(!0)}},{key:"getValue",value:function(){return this.inputComponent.getValue()}},{key:"setValue",value:function(e){void 0!==e&&this.inputComponent.setValue(e)}},{key:"disableOk",value:function(e){var t=this;if(e){this.okButtonComponent.lock();var n=function(){t.inputComponent.getValue()?t.okButtonComponent.unlock():t.okButtonComponent.lock()};this.inputComponent.element.addEventListener("input",n);var i=function(){W.isTouchDevice&&W.isSafari&&window.scrollTo(0,0)};this.inputComponent.element.addEventListener("blur",i),this.once(Eo.qo.HIDDEN,(function(){t.inputComponent.element.removeEventListener("input",n),t.inputComponent.element.removeEventListener("blur",i)}))}}}],[{key:"getName",value:function(){return"prompt"}},{key:"getMetadata",value:function(){return{options:{title:{type:"string",defaultValue:"common-dialogs.prompt-title"},message:{type:"string",defaultValue:"common-dialogs.prompt-title"}}}}}]),n}(BA.createSuperClass({template:WA()()}))),YA=n(3146),$A=n.n(YA),JA=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"postlink",value:function(){(0,E._)((0,S._)(n.prototype),"postlink",this).call(this),this.promptController=this.querySelector(">@div").controller,this.inputComponent=this.querySelector("fv__ui-prompt-pwd-value-editor"),this.notifyComponent=this.querySelector("fv__ui-prompt-pwd-notify"),this.passwordSwicherIcon=this.querySelector("fv__ui-prompt-pwd-value-editor-toggler"),this.promptNotifyController=this.notifyComponent.controller,this.promptController.title=this.title,this.promptController.message=this.message,this.promptController.digest()}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this),this.on(Eo.qo.SHOWN,(function(){var t=function(n){if((0,W.eventPath)(n).some((function(t){return t===e.inputComponent.element}))&&n&&13===n.keyCode)return n.stopPropagation(),e.promptController.ok(),document.removeEventListener("keyup",t),!1};document.addEventListener("keydown",(function(n){(0,W.eventPath)(n).some((function(t){return t===e.inputComponent.element}))&&n&&13===n.keyCode&&document.addEventListener("keyup",t)})),setTimeout((function(){e.inputComponent.focus(),e.inputComponent.element.select()}))}))}},{key:"switchPassword",value:function(){var e=this.inputComponent.element;"password"===e.type?(e.type="text",this.passwordSwicherIcon.addCSSClass("fv__ui-prompt-hide-password"),this.passwordSwicherIcon.removeCSSClass("fv__ui-prompt-show-password")):(e.type="password",this.passwordSwicherIcon.addCSSClass("fv__ui-prompt-show-password"),this.passwordSwicherIcon.removeCSSClass("fv__ui-prompt-hide-password"))}},{key:"setNotifyType",value:function(e){e?this.notifyComponent.addCSSClass(e):this.notifyComponent.element.className="notify"}},{key:"setNotifyContent",value:function(e){this.promptController.notifyMessage=e,this.promptController.digest()}},{key:"setTitle",value:function(e){this.promptController.title=e,this.promptController.digest(!0)}},{key:"setMessage",value:function(e){this.promptController.message=e,this.promptController.digest(!0)}},{key:"getValue",value:function(){return this.inputComponent.getValue()}},{key:"setValue",value:function(e){void 0!==e&&this.inputComponent.setValue(e)}},{key:"show",value:function(e){(0,E._)((0,S._)(n.prototype),"show",this).call(this,e);var t=la()(this.element).prev();t.length&&t.hasClass("fv__ui-layer-modal")&&t.css("zIndex",la()(this.element).css("zIndex"))}}],[{key:"getName",value:function(){return"prompt-password"}},{key:"getMetadata",value:function(){return{options:{title:{type:"string",defaultValue:"common-dialogs.prompt-title"},message:{type:"string",defaultValue:"common-dialogs.prompt-title"}}}}}]),n}(BA.createSuperClass({template:$A()()})),qA=(n(666),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"hideOnEscape",value:function(){}},{key:"show",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.pdfUI.customs.isShowingGlobalLoadAnimation||!this.pdfUI.customs.isShowingGlobalLoadAnimation()){var i=getComputedStyle(e).position;t&&"static"===i&&(e.style.position="relative",this.addDestroyHook((function(){e.style.position=i}))),(0,E._)((0,S._)(n.prototype),"show",this).call(this,e)}}},{key:"postlink",value:function(){this.textElement=this.element.querySelector(".fv__ui-loading-text"),this.animElement=this.element.querySelector(".fv__loading-animation"),this.setAnimation(this.animation),this.setText(this.text),(0,E._)((0,S._)(n.prototype),"postlink",this).call(this)}},{key:"setText",value:function(e){this.text=e||"",this.textElement.setAttribute("data-i18n",e),this.localize()}},{key:"setAnimation",value:function(e){"string"==typeof e?(this.animElement.classList.remove(this.animation),this.animElement.classList.add(e)):e?this.animElement.classList.remove("fv__ui-loading-hidden"):this.animElement.classList.add("fv__ui-loading-hidden"),this.animation=e}},{key:"localize",value:function(){return this.localizer.localizeElement(this.textElement)}},{key:"sync",value:function(e,t){var i=(0,E._)((0,S._)(n.prototype),"sync",this).call(this,e,t);if(i)return i;switch(e){case"text":return this.setText(t),!0;case"animation":return this.setAnimation(t),!0}return!1}}],[{key:"getName",value:function(){return"loading"}},{key:"getMetadata",value:function(){return{options:{text:"string",animation:function(e,t){var n,i=e.$options,r=e.attrs;return t in i?n=i[t]:""===(n=(n=r[t])&&n.trim().toLowerCase())||"true"===n?n=!0:"false"===n&&(n=!1),void 0===n?"fv__ui-loading-svg":n}}}}}]),n}(BA.createSuperClass({template:'\n        <layer class="fv__ui-loading-layer" backdrop @shortcut-context="'.concat(fa.LOADING_LAYER,'">\n            <ul class="fv__loading-animation">\n                <li></li>\n                <li></li>\n                <li></li>\n                <li></li>\n                <li></li>\n            </ul>\n            <span class="fv__ui-loading-text"></span>\n        </layer>\n    ')}))),KA=n(4756),ZA=n.n(KA),XA=(n(2891),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"postlink",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"postlink",this).call(this),this.wrapper=this.querySelector(">@div"),this.confirmController=this.querySelector(">@div").controller,this.bodyIcon=this.querySelector(">@div>@layer-view>@div>@i"),this.again=this.getComponentByName("notAgain"),this.again.on("change",(function(t){e.notShowAgain=t}));var t=!1;Object.assign(this.confirmController,{notAgain:this.notAgain,ok:function(){t=!0,e.trigger("confirm",e),e.hideOnConfirm&&e.hide()},cancel:function(){e.hide()}}),this.on(Eo.qo.HIDDEN,(function(){t?t=!1:e.trigger("cancel")})),this.confirmController.title=this.title,this.confirmController.message=this.message,this.confirmController.okText="common-dialogs.ok",this.confirmController.cancelText="common-dialogs.cancel",this.confirmController.digest()}},{key:"setTitle",value:function(e){this.confirmController.title=e,this.confirmController.digest(!0)}},{key:"setIconType",value:function(e){"string"==typeof e||e?(this.bodyIcon.removeCSSClass("fv__hidden"),this.bodyIcon.removeCSSClass(this.confirmController.iconType),this.confirmController.iconType="fv__icon-dialog-level-"+e,this.bodyIcon.addCSSClass(this.confirmController.iconType),this.confirmController.digest()):this.bodyIcon.addCSSClass("fv__hidden")}},{key:"setMessage",value:function(e,t){var n=this.querySelector(">@div>@layer-view>@div>@span>@span").element;t?(this.confirmController.message="",n.innerHTML=e,n.style.display="",n.parentElement.parentElement.style.alignItems="flex-start"):(this.confirmController.message=e,n.style.display="none",n.parentElement.parentElement.style.alignItems=""),this.confirmController.digest()}},{key:"setOkButton",value:function(e){this.confirmController.okText=e||"common-dialogs.ok",this.confirmController.digest(!0)}},{key:"setCancelButton",value:function(e){this.confirmController.cancelText=e||"common-dialogs.cancel",this.confirmController.digest(!0)}},{key:"setId",value:function(e){this.confirmId=void 0,this.wrapper.removeAttribute("id"),e&&(this.confirmId=e,this.wrapper.setAttribute("id",e))}},{key:"showAgain",value:function(e){this.again.hide(),e&&(this.notShowAgain=!1,this.again.setValue(!1),this.again.show(),this.confirmController.notAgain="string"==typeof e?e:this.notAgain,this.confirmController.digest(!0))}},{key:"show",value:function(e){var t=this,i=this.getNotShowAgainList();this.confirmId&&i&&i.indexOf(this.confirmId)>-1?this.isDestroyed||setTimeout((function(){t.trigger("confirm",t),t.trigger(Eo.qo.HIDDEN)}),100):(0,E._)((0,S._)(n.prototype),"show",this).call(this,e)}},{key:"doHidden",value:function(){(0,E._)((0,S._)(n.prototype),"doHidden",this).call(this);var e=this.getNotShowAgainList();if(this.confirmId&&this.notShowAgain&&-1===e.indexOf(this.confirmId))e.push(this.confirmId);else if(this.confirmId&&!this.notShowAgain){var t=e.indexOf(this.confirmId);t>-1&&e.splice(t,1)}this.setNotShowAgainList(e)}},{key:"getNotShowAgainList",value:function(){var e=localStorage.getItem("CONFIRM-NOT-SHOA-AGAIN");return e&&(e=JSON.parse(e)),e||[]}},{key:"setNotShowAgainList",value:function(e){void 0!==e&&localStorage.setItem("CONFIRM-NOT-SHOA-AGAIN",JSON.stringify(e))}}],[{key:"getName",value:function(){return"confirm"}},{key:"getMetadata",value:function(){return{options:{title:{type:"string",defaultValue:"common-dialogs.confirm-title"},message:{type:"string",defaultValue:"common-dialogs.confirm-title"},"hide-on-confirm":{type:"boolean",field:"hideOnConfirm",defaultValue:!1},notAgain:{type:"string",defaultValue:"common-dialogs.notAgain"}}}}}]),n}(BA.createSuperClass({template:ZA()()}))),QA=n(1449),ed=n.n(QA),td=(n(7319),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"postlink",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"postlink",this).call(this);var t=this.querySelector(">@div>@layer-header"),i=la()(t.element).find(".fv__icon-layer-close"),r=this.confirmController=this.querySelector(">@div").controller;this.bodyIcon=this.querySelector(">@div>@layer-view>@div>@i"),Object.assign(this.confirmController,{ok:function(t){e.trigger("confirm",t),(void 0===e.autoHide||!0===e.autoHide)&&e.hide(),e.storageAgainData("confirm",t)},cancel:function(){e.hide(),e.storageAgainData("cancel")}}),i.on("click",(function(){e.storageAgainData("cancel")})),this.againComp=this.getComponentByName("notAgain"),this.againComp.on("change",(function(e){var t=r.againCallback;t&&t(e)})),this.confirmController.title=this.title,this.confirmController.message=this.message,this.confirmController.digest()}},{key:"setTitle",value:function(e){this.confirmController.title=e,this.confirmController.digest()}},{key:"setIconType",value:function(e){"string"==typeof e||e?(this.bodyIcon.removeCSSClass("fv__hidden"),this.bodyIcon.removeCSSClass(this.confirmController.iconType),this.confirmController.iconType="fv__icon-dialog-level-"+e,this.bodyIcon.addCSSClass(this.confirmController.iconType),this.confirmController.digest()):this.bodyIcon.addCSSClass("fv__hidden")}},{key:"setId",value:function(e){this.id=e}},{key:"setAutoHide",value:function(e){this.autoHide=e}},{key:"setMessage",value:function(e,t){this.confirmController.message=e,this.confirmController.digest(),t&&(this.querySelector(">@div>@layer-view>").element.innerHTML=e)}},{key:"setAgain",value:function(e){var t=e.visible,n=void 0!==t&&t,i=e.text,r=void 0===i?"common-dialogs.notAgain":i,o=e.checkout,a=void 0!==o&&o,s=e.againCallback;this.againComp||(this.againComp=this.getComponentByName("notAgain")),this.againComp[n?"show":"hide"](),this.againComp.setValue(a),this.againComp.setText(this.pdfUI.i18n.t(r)),this.againComp.textElement.innerText=this.pdfUI.i18n.t(r),Object.assign(this.confirmController,{againCallback:function(e){s&&s(e)}}),this.confirmController.digest()}},{key:"setCustomButtons",value:function(e){var t=this;void 0===e&&(e=[{id:"yes",text:"common-dialogs.ok"},{id:"no",text:"common-dialogs.cancel"}]),this.$footerButtons||(this.$footerButtons=la()(this.element.querySelector(".fv__ui-dialog-footer-buttons")));var n=this.$footerButtons;n.empty(),e.forEach((function(e){var i=e.id,r=e.text,o="no"===i?"fv__ui-dialog-cancel-button":"fv__ui-dialog-ok-button",a=document.createElement("button");a.setAttribute("class","".concat(o," fv__ui-button")),a.setAttribute("component-type","xbutton"),a.innerHTML='<span class="fv__ui-button-text">'.concat(t.pdfUI.i18n.t(r),"</span>"),a.addEventListener("click",(function(e){"no"===i?t.confirmController.cancel():t.confirmController.ok(i)})),n.append(a)})),this.confirmController.digest()}},{key:"storageAgainData",value:function(e,t){var n=this.id;if(void 0!==n){var i=this.getAgainData(),r=this.againComp.getValue();r?i[n]={action:e,data:t,again:r}:delete i[n],localStorage.setItem("CONFIRM-AGAIN-DATA",JSON.stringify(i))}}},{key:"getAgainData",value:function(){var e=localStorage.getItem("CONFIRM-AGAIN-DATA");return e=e?JSON.parse(e):{}}},{key:"show",value:function(e){var t=this.getAgainData();if((0,E._)((0,S._)(n.prototype),"show",this).call(this,e),t.hasOwnProperty(this.id)){var i=t[this.id],r=i.action,o=void 0===r?"cancel":r,a=i.data;this.trigger(o,a),this.hide()}}}],[{key:"getName",value:function(){return"custom-confirm"}},{key:"getMetadata",value:function(){return{options:{title:{type:"string",defaultValue:"common-dialogs.confirm-title"},message:{type:"string",defaultValue:"common-dialogs.confirm-title"}}}}}]),n}(BA.createSuperClass({template:ed()()})));!function(e){e.parent="parent",e.bro="bro"}(jA||(jA={}));var nd=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;(0,C._)(this,n),e=t.call(this),(0,z._)((0,x._)(e),"tree",void 0),(0,z._)((0,x._)(e),"currentDragNode",void 0),(0,z._)((0,x._)(e),"currentDragOverNode",void 0),(0,z._)((0,x._)(e),"currentDragOverType",void 0),(0,z._)((0,x._)(e),"dragIndocatorElement",void 0),(0,z._)((0,x._)(e),"draggable",!1),(0,z._)((0,x._)(e),"editable",!0),(0,z._)((0,x._)(e),"selectable",!1),(0,z._)((0,x._)(e),"checkable",!1),(0,z._)((0,x._)(e),"dragInterceptor",(function(){return!0})),(0,z._)((0,x._)(e),"startedDragging",!1),(0,z._)((0,x._)(e),"lazyMode","none"),(0,z._)((0,x._)(e),"moveOverStore",new W.ValueStore),(0,z._)((0,x._)(e),"treeNodeMountedListeners",new Set),e.dragIndocatorElement=document.createElement("div"),e.dragIndocatorElement.className="fv__ui-tree-node-drag-indicator";var i=function(t){var n;if(e.draggable&&e.startedDragging){var i=(0,W.getClientX)(t),r=(0,W.getClientY)(t),o=document.elementFromPoint(i,r);if(o){var a=o.closest(".fv__ui-tree-node");if(a){var s=a.getAttribute("id");if(s){var c=null===(n=e.tree)||void 0===n?void 0:n.getNodeById(s);c&&e.moveOverStore.dispatch({event:t,node:c})}}}}},r=W.isTouchDevice?"touchmove":"pointermove";return document.addEventListener(r,i,!0),e.addDestroyHook((function(){document.removeEventListener(r,i,!0)})),e}return(0,D._)(n,[{key:"setDraggable",value:function(e){this.draggable=e}},{key:"setEditable",value:function(e){this.editable=e}},{key:"setSelectable",value:function(e){this.selectable=e}},{key:"setCheckable",value:function(e){this.checkable=e}},{key:"setLazyMode",value:function(e){this.lazyMode=e}},{key:"setTree",value:function(e){this.tree=e}},{key:"getTree",value:function(){return this.tree}},{key:"setDragInterceptor",value:function(e){this.dragInterceptor=e}},{key:"setStartedDragging",value:function(e){this.startedDragging=e}},{key:"startDragNode",value:function(e){this.draggable&&(this.setStartedDragging(!0),this.currentDragNode&&this.currentDragNode.removeCSSClass("fv__ui-tree-dragging-node"),e.addCSSClass("fv__ui-tree-dragging-node"),this.currentDragNode=e,this.tree.addCSSClass("fv__ui-tree-dragging"),this.triggerEvent("dragstart",e.getNodeId()))}},{key:"dragAboveNode",value:function(e,t){return!!this.draggable&&(this.currentDragOverNode=void 0,this.currentDragOverType=void 0,!!this.currentDragNode&&(e===this.currentDragNode||e.isDescendantOf(this.currentDragNode)?(this.hideDragIndicator(),!1):this.dragInterceptor(this.currentDragNode,e,t)?(this.currentDragOverNode=e,this.currentDragOverType=t,this.showDragIndicator(e,t),this.triggerEvent("dragover",this.currentDragNode.getData(),e.getNodeId(),t),!0):(this.hideDragIndicator(),!1)))}},{key:"abortDragNode",value:function(){this.resetDraggingStatus(),this.triggerEvent("dragabort")}},{key:"resetDraggingStatus",value:function(){this.currentDragNode&&this.currentDragNode.removeCSSClass("fv__ui-tree-dragging-node"),this.currentDragNode=void 0,this.currentDragOverNode=void 0,this.currentDragOverType=void 0,this.hideDragIndicator(),this.tree.removeCSSClass("fv__ui-tree-dragging")}},{key:"dragEnd",value:function(){if(this.currentDragNode&&this.currentDragNode.removeCSSClass("fv__ui-tree-dragging-node"),this.currentDragNode&&this.currentDragOverNode&&this.currentDragOverType){var e=this.currentDragOverNode.nodeData.id,t=this.currentDragNode.getData();this.triggerEvent("dragend",{draggedNodeData:t,targetNodeId:e,dragOverType:this.currentDragOverType}),this.resetDraggingStatus()}}},{key:"showDragIndicator",value:function(e,t){switch(t){case"parent":var n=e.titleElement.getBoundingClientRect();this.dragIndocatorElement.style.cssText="\n                    left: ".concat(n.left,"px;\n                    top: ").concat(n.bottom+1,"px;\n                    width: ").concat(n.width,"px;\n                ");break;case"bro":var i=e.contentWrapperElement.getBoundingClientRect();this.dragIndocatorElement.style.cssText="\n                    left: ".concat(i.left,"px;\n                    top: ").concat(i.bottom+1,"px;\n                    width: ").concat(i.width,"px;\n                ");break;default:return}document.body.appendChild(this.dragIndocatorElement)}},{key:"hideDragIndicator",value:function(){var e=this.dragIndocatorElement.parentElement;e&&e.removeChild(this.dragIndocatorElement)}},{key:"onDragOverNode",value:function(e){return this.moveOverStore.subscribe(e)}},{key:"getTreeData",value:function(){return this.tree.data}},{key:"removeNodeById",value:function(e){var t=this.getTreeData(),n=t.some((function t(n,i,r){return n.id===e?(r.splice(i,1),!0):n.children?n.children.some(t):void 0}));if(n){var i,r=this.getNodeDataStructureById(e);if(r.parent)this.tree.getNodeById(r.parent).setData(r.parent);else this.tree.setData(t);this.triggerEvent("remove",e,null===(i=r.parent)||void 0===i?void 0:i.id)}return n}},{key:"insertNodeChildAt",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.getTreeData();n<0&&(n=0);var r=this.getNodeDataStructureById(e.id);if(r){var o=r.parent?r.parent.children||[]:i,a=o.findIndex((function(t){return t.id===e.id}));if(o.splice(a,1),r.parent)this.tree.getNodeById(r.parent.id).setData(r.parent);else this.tree.setData(i)}if(t){var s,c=this.getNodeDataStructureById(t);if(!c)return!1;var u=c.node.children||[];n=Math.min(n,u.length),u.splice(n,0,e),c.node.children=u,this.tree.getNodeById(t).setData(c.node),this.triggerEvent("insert",e.id,t,null==r||null===(s=r.parent)||void 0===s?void 0:s.id)}else n=Math.min(n,i.length),i.splice(n,0,e),this.tree.setData(i),this.triggerEvent("insert",e.id);return!0}},{key:"appendNode",value:function(e,t){return this.insertNodeChildAt(e,t,1/0)}},{key:"prependNode",value:function(e,t){return this.insertNodeChildAt(e,t,0)}},{key:"insertAfter",value:function(e,t){return this.insertWithOffset(e,t,1)}},{key:"insertBefore",value:function(e,t){return this.insertWithOffset(e,t,0)}},{key:"insertWithOffset",value:function(e,t,n){var i=this.getNodeDataStructureById(t);if(!i)return!1;var r=this.getTreeData();if(i.parent){var o=(i.parent.children||[]).findIndex((function(e){return e.id===t}));return this.insertNodeChildAt(e,i.parent.id,o+n)}var a=r.findIndex((function(e){return e.id===t}));return this.insertNodeChildAt(e,void 0,a+n)}},{key:"getNodeDataStructureById",value:function(e){var t=this.getTreeData(),n=function(t,i){var r=t.findIndex((function(t){return t.id===e}));if(-1!==r)return{node:t[r],parent:i};for(var o=0;o<t.length;o++){var a=t[o].children;if(a){var s=n(a,t[o]);if(s)return s}}};return n(t)}},{key:"triggerEvent",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r;(r=this.tree).trigger.apply(r,[e].concat((0,M._)(n)))}},{key:"treeNodeMounted",value:function(e){this.treeNodeMountedListeners.forEach((function(t){t(e)}))}},{key:"onTreeNodeMounted",value:function(e){var t=this,n=function(t){e(t)};return this.treeNodeMountedListeners.add(n),function(){t.treeNodeMountedListeners.delete(n)}}}],[{key:"scope",value:function(){return Po.U.COMPONENT_TREE}}]),n}(W.Disposable),id={treeNode:null};W.Lazy.property(id,"treeNode",(function(){var e=document.createElement("li");return e.innerHTML='\n        <div class="fv__ui-tree-node-wrapper">\n            <span class="fv__ui-tree-node-intent"></span>\n            <i class="fv__ui-tree-node-switcher">\n                <i class="fv__ui-tree-node-switcher-icon"></i>\n            </i>\n            <span class="fv__ui-tree-node-checkbox">\n                <input class="fv__ui-tree-node-checkbox-native" type="checkbox">\n                <span class="fv__ui-tree-node-checkbox-inner"></span>\n            </span>\n            <span class="fv__ui-tree-node-content-wrapper">\n                <span class="fv__ui-tree-node-title"></span>\n            </span>\n        </div>\n        <div class="fv__ui-tree-node-children-wrapper"></div>\n    ',e}));var rd=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"createDOMElement",value:function(){var e=id.treeNode.cloneNode(!0);return this.containerElement=e.querySelector(".fv__ui-tree-node-children-wrapper"),this.nodeWrapperElement=e.querySelector(".fv__ui-tree-node-wrapper"),this.checkboxElement=e.querySelector(".fv__ui-tree-node-checkbox"),this.checkboxNativeElement=this.checkboxElement.querySelector("input"),this.titleElement=e.querySelector(".fv__ui-tree-node-title"),this.indentElement=e.querySelector(".fv__ui-tree-node-intent"),this.switcherElement=e.querySelector(".fv__ui-tree-node-switcher"),this.contentWrapperElement=e.querySelector(".fv__ui-tree-node-content-wrapper"),e}},{key:"toggleLoading",value:function(e){this.element.classList.toggle("fv__ui-tree-node-loading",e)}},{key:"getContainerElement",value:function(){return this.containerElement}},{key:"allInjected",value:function(){var e=this,t=this,n=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;Object.defineProperty(t,e,{get:function(){return t.nodeData[n]},set:function(e){t.nodeData[n]=e}})},i=function(t){Object.defineProperty(e,t,{get:function(){return t in e.nodeData?e.nodeData[t]:e.service[t]},set:function(n){e.nodeData[t]=n}})};n("iconCls","icon"),n("title"),n("checked"),n("selected"),n("editting"),n("color"),n("style"),i("draggable"),i("selectable"),i("editable"),i("checkable");var r=this.getTree();r&&r.trigger("create-tree-node",this),this.setData({isLeaf:!0,disabled:!1,activated:!1})}},{key:"render",value:function(){(0,E._)((0,S._)(n.prototype),"render",this).call(this),this.element.classList.add("fv__ui-tree-node")}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this);var t=this.previousSiblings();t&&t.isMounted&&t.updateIntentsRecursion();var i=this.getTree();this.attachEventToElement(this.switcherElement,"mousedown",(function(e){e.stopPropagation()})),this.attachEventToElement(this.checkboxElement,"mousedown",(function(e){e.stopPropagation()})),this.attachEventToElement(this.switcherElement,"click",(function(){e.isActive?e.deactive():e.active()})),this.attachEventToElement(this.checkboxElement,"click",(function(){if(!e.disabled){var t=!e.checked;e.toggleCheck(t),i.trigger("check",e.getNodeId(),t),e.broadcast("check",{checked:t,node:e})}})),this.attachEventToElement(this.contentWrapperElement,"click",(function(){e.onUserClickContent()})),this.addDestroyHook((0,W.onTap)({target:this.contentWrapperElement,onDoubleTap:function(){e.disabled||e.editable&&(e.toggleEdit(!0),i.trigger("edit",e.getNodeId()))}}),(function(){i&&i.trigger("destroy-tree-node",e)})),this.contentWrapperElement.style.touchAction=null,this.attachEventToElement(this.titleElement,"blur,keydown",(function(t){if(!e.disabled&&e.editting){if((0,T._)(t,KeyboardEvent)){if(!W.KeyboardUtils.isEnter(t))return;t.preventDefault()}var n=e.titleElement.innerText;if(e.toggleEdit(!1),e.nodeData.title!==n){var r=e.nodeData.title;if(n){var o=e.getNodeId();i.trigger("confirm-edit",{nodeId:o,newTitle:n,oldTitle:r})}else e.setTitle(e.nodeData.title)}}})),this.attachEventToElement(this.nodeWrapperElement,"dragstart",(function(t){e.disabled||e.service.draggable}));var r,o=this;this.attachEventToElement(this.nodeWrapperElement,"pointerdown",(r=(0,P._)((function(e){var t,n,i;return(0,L.Jh)(this,(function(r){return o.disabled||"mouse"===e.pointerType&&0!==e.button||o.editting?[2]:o.draggable?("touch"===e.pointerType?(t=setTimeout((function(){o.service.startDragNode(o)}),300),n=o.attachEventToElement(document,"pointerup,pointermove,touchmove,touchend",(function(e){clearTimeout(t),n()}))):(i=o.attachEventToElement(document,"pointermove",(function(e){i(),o.disabled||o.draggable&&!o.editting&&(o.service.setStartedDragging(!0),o.service.startDragNode(o))}),!0),o.attachEventToElement(document,"pointerup,mouseup",(function(){i()}),!0)),[2]):[2]}))})),function(e){return r.apply(this,arguments)})),this.addDestroyHook(this.service.onDragOverNode((function(t){var n=t.node,i=t.event;if(n===e){var r=e.titleElement.getBoundingClientRect();(0,W.getClientX)(i)>=r.left?e.service.dragAboveNode(e,jA.parent):e.service.dragAboveNode(e,jA.bro)}})),this.watch("$component.nodeData.isLeaf",(function(t){e.setLeafNode(t)}))),this.service.treeNodeMounted(this)}},{key:"onUserClickContent",value:function(){if(!this.disabled&&this.selectable&&!this.selected){var e=this.getTree();e.select(this),e.trigger("click-node",this.getNodeId())}}},{key:"select",value:function(){if(this.selectable){this.selected=!0,this.addCSSClass("fv__ui-tree-node-selected");var e=this.getNodeId(),t=this.getTree();t&&t.trigger("select",e)}}},{key:"unselect",value:function(){this.selected=!1,this.removeCSSClass("fv__ui-tree-node-selected");var e=this.getNodeId(),t=this.getTree();t&&t.trigger("unselect",e)}},{key:"toggleEdit",value:function(e){var t=this;if(e=!0===e,this.editting=e,W.isFirefox&&this.__removePasteEventListener&&this.__removePasteEventListener(),this.__removeKeydownEventListener&&this.__removeKeydownEventListener(),e){this.addCSSClass("fv__ui-tree-node-editting"),this.titleElement.setAttribute("contenteditable",W.isFirefox?"true":"plaintext-only"),this.titleElement.focus();var n=document.createRange();n.selectNodeContents(this.titleElement);var i=window.getSelection();if(null==i||i.removeAllRanges(),null==i||i.addRange(n),W.isFirefox){var r=function(e){Promise.resolve().then((function(){t.titleElement.innerText=t.titleElement.innerText.replace(/\n/g," ")}))};this.titleElement.addEventListener("paste",r),this.__removePasteEventListener=function(){t.titleElement.removeEventListener("paste",r)}}var o=function(e){(0,W.isMatch)(e,W.matchers.or(W.matchers.ArrowLeft,W.matchers.ArrowRight,W.matchers.ArrowDown,W.matchers.ArrowUp))&&e.stopPropagation()};this.titleElement.addEventListener("keydown",o),this.__removeKeydownEventListener=function(){t.titleElement.removeEventListener("keydown",o)}}else this.removeCSSClass("fv__ui-tree-node-editting"),this.titleElement.removeAttribute("contenteditable")}},{key:"updateCheckStatus",value:function(){if(this.checkable){var e=this.querySelectorAll("@tree-node").filter((function(e){return e.checkable})),t=e.some((function(e){return e.isChecked})),n=e.some((function(e){return!e.isChecked}));t&&n?(this.uncheck(),this.checkboxNativeElement.indeterminate=!0):t?this.check():this.uncheck(),this.trigger("check",this.checked,this.getNodeId())}}},{key:"receiveBroadcast",value:function(e,t){return"check"===e&&(this.toggleCheck(t.checked),this.trigger("check",this.checked,this.getNodeId())),(0,E._)((0,S._)(n.prototype),"receiveBroadcast",this).call(this,e,t)}},{key:"check",value:function(){var e=this.checkboxNativeElement;e.indeterminate=!1,e.checked=!0,this.checked=!0}},{key:"uncheck",value:function(){var e=this.checkboxNativeElement;e.indeterminate=!1,e.checked=!1,this.checked=!1}},{key:"toggleCheck",value:function(e){e?this.check():this.uncheck()}},{key:"active",value:function(){if(!this.isActive&&!this.isDestroyed){(0,E._)((0,S._)(n.prototype),"active",this).call(this);var e=this.getTree();e&&e.trigger("expand",{isExpand:!0,targetNodeId:this.getNodeId()})}}},{key:"doActive",value:function(){this.addCSSClass("fv__ui-tree-node-open"),this.removeCSSClass("fv__ui-tree-node-close"),this.nodeData.activated=!0}},{key:"deactive",value:function(){if(this.isActive&&!this.isDestroyed){(0,E._)((0,S._)(n.prototype),"deactive",this).call(this);var e=this.getTree();e&&e.trigger("expand",{isExpand:!1,targetNodeId:this.getNodeId()})}}},{key:"doDeactive",value:function(){this.removeCSSClass("fv__ui-tree-node-open"),this.addCSSClass("fv__ui-tree-node-close"),this.nodeData.activated=!1}},{key:"doDisable",value:function(){Xo.wA.prototype.doDisable.call(this),this.nodeData.disabled=!0,this.service.startedDragging&&(this.service.setStartedDragging(!1),this.service.dragEnd())}},{key:"doEnable",value:function(){Xo.wA.prototype.doEnable.call(this),this.nodeData.disabled=!1}},{key:"setLevel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(isFinite(e)&&!(e<0)){for(var n=Array.from(this.indentElement.children);n.length<e;)n.push(this._createIntent());n.length>e&&(n.length=e),n.forEach((function(e,n){e.classList.toggle("fv__ui-tree-node-intent-unit-has-line",!0===t[n])})),n.length>0&&n[n.length-1].classList.add("fv__ui-tree-node-intent-unit-end"),ta(this.indentElement,n)}}},{key:"_createIntent",value:function(){var e=document.createElement("span");return e.className="fv__ui-tree-node-intent-unit",e}},{key:"setCheckable",value:function(e){e=!0===e,this.checkable!==e&&(this.checkable=e,this.element.classList.toggle("fv__ui-tree-node-checkable",e),e&&this.toggleCheck(this.nodeData.checked))}},{key:"setIconCls",value:function(e){if(!this.iconElement||this.iconCls!==e){var t=this.iconElement=this.iconElement||document.createElement("i");if(t.className="fv__ui-tree-node-icon",e){var n=this.contentWrapperElement;t.classList.add(e),n.prepend(t)}else t.remove();this.iconCls=e}}},{key:"setLeafNode",value:function(e){var t=this.nodeData.children;!!Array.isArray(t)&&t.length>0&&(e=!1),e=!1!==e,this.element.classList.toggle("fv__ui-tree-node-leaf",e),this.element.classList.toggle("fv__ui-tree-node-subtree",!e),this.isLeaf=e}},{key:"setTitle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.titleElement;n.setAttribute("data-i18n",e),n.setAttribute("i18n-options",JSON.stringify(t)),this.title=e,this.nodeData.title=e,this.localizer.localizeElement(n,t)}},{key:"setTitleColor",value:function(e){this.titleElement.style.color=void 0===e?null:e}},{key:"setTitleFontStyle",value:function(e){this.titleElement.classList.toggle("fv__ui-tree-node-title-bold",(null==e?void 0:e.bold)||!1),this.titleElement.classList.toggle("fv__ui-tree-node-title-italic",(null==e?void 0:e.italic)||!1)}},{key:"setData",value:function(e){if("object"==typeof e){if(this.nodeData?this.nodeData=Object.assign(e,Object.assign(this.nodeData||{},e)):this.nodeData=e,this.id=e.id,"disabled"in e&&(e.disabled?this.disable():this.enable()),"activated"in e&&(e.activated?this.active():this.isActive?this.deactive():this.doDeactive()),("iconCls"in e||"icon"in e)&&this.setIconCls(e.icon||e.iconCls),"title"in e&&this.setTitle(e.title,e.i18nOptions),this.setTitleColor(e.color),("isBold"in e||"isItalic"in e)&&this.setTitleFontStyle({bold:e.isBold,italic:e.isItalic}),"selectable"in e&&(this.selectable=!0===e.selectable),this.selectable?"selected"in e&&(e.selected?this.select():this.unselect()):this.unselect(),"draggable"in e&&(this.draggable=!1!==e.draggable),"editable"in e&&(this.editable=!0===e.editable),this.editable&&this.toggleEdit(e.editting),"children"in e&&this.setChildren(e.children),"editting"in e&&this.toggleEdit(!!e.editting),"checkable"in e&&(this.setCheckable(e.checkable),!this.checkable&&this.checked&&this.uncheck()),this.checkable)if("checked"in e)!!e.checked?this.check():this.uncheck();this.digest(!1)}}},{key:"setChildren",value:function(e){e=e||[],this.nodeData.children=e;var t=this.childAt(0);t&&t.setNodes(e),this.setLeafNode(this.nodeData.isLeaf)}},{key:"getData",value:function(){return this.nodeData}},{key:"getNodeId",value:function(){return this.nodeData.id}},{key:"getParentNodeData",value:function(){var e=this.getParentNode();return e?e.getData():null}},{key:"postlink",value:function(){(0,E._)((0,S._)(n.prototype),"postlink",this).call(this),this.updateIntents()}},{key:"updateIntentsRecursion",value:function(){var e=this.findChildren((function(e){return(0,T._)(e,n)}),!1);e.length>0&&e.forEach((function(e){return e.updateIntents()}))}},{key:"updateIntents",value:function(){for(var e=this.getTree(),t=0,n=this.parent,i=[],r=[],o=[],a=[];n!==e;){if("tree-node"===n.nodeName){var s=n.parent.children().length;s>1&&n.parent.indexOf(n)!==s-1?a.push(!0):a.push(!1),i.push(n.parent.indexOf(n)),r.push(n.children().length),o.push(n.parent.children().length),t++}n=n.parent}this.setLevel(t,a.reverse())}},{key:"getTree",value:function(){return this.service.getTree()}},{key:"getParentNode",value:function(){var e=this.parent;if(e){var t=e.parent;if((0,T._)(t,n))return t}}},{key:"getNodePath",value:function(){for(var e=[],t=this.parent;"tree"!==t.nodeName;)"tree-node"===t.nodeName&&e.push(t),t=t.parent;return e}},{key:"getNodeIndex",value:function(){var e,t=this.parent.parent;"tree"===t.nodeName?e=t.data:e=t.nodeData.children;var n=this.getNodeId();return e.findIndex((function(e){return e.id===n}))}},{key:"getBrotherNodeData",value:function(e){var t,n=this.parent.parent;"tree"===n.nodeName?t=n.data:t=n.nodeData.children;var i=null,r=null,o=this.getNodeId(),a=!0,s=!1,c=void 0;try{for(var u,l=t[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var A=u.value;if(A.id==o){if(r=A,e)break}else if(r){if(i=A,!e)break}else i=A}}catch(e){s=!0,c=e}finally{try{a||null==l.return||l.return()}finally{if(s)throw c}}return i}},{key:"getRootNode",value:function(){for(var e=this.getParentNode();e;){var t=e.getParentNode();if(!t)break;e=t}return e}},{key:"remove",value:function(){var e=this.getRootNode(),t=this.previousSiblings();(0,E._)((0,S._)(n.prototype),"remove",this).call(this),e?e.updateIntentsRecursion():t&&t.updateIntentsRecursion()}},{key:"getChildrenNodes",value:function(){return this.childAt(0).children()}},{key:"getDescendantsNodes",value:function(){return this.querySelectorAll("@tree-node")}}],[{key:"getName",value:function(){return"tree-node"}},{key:"services",value:function(){return{service:nd}}}]),n}(na);To.Z.root().registerComponent(rd);var od=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"createDOMElement",value:function(){return document.createElement("ul")}},{key:"init",value:function(){this.nodeDatas=[],this.itemHeight=15,(0,E._)((0,S._)(n.prototype),"init",this).call(this)}},{key:"setNodes",value:function(e){Array.isArray(e)&&(this.nodeDatas=e,this.digest(!1))}},{key:"updateCheckStatus",value:function(e){this.parent&&this.parent.updateCheckStatus&&this.parent.updateCheckStatus(e)}},{key:"mounted",value:function(){(0,E._)((0,S._)(n.prototype),"mounted",this).call(this),this.tree=this.getTree()}},{key:"getTree",value:function(){return this.service.getTree()}}],[{key:"getName",value:function(){return"tree-node-list"}},{key:"services",value:function(){return{service:nd}}}]),n}(LA({template:'\n        <ul class="fv__ui-tree-node-list" @var.nlist="$component" @aria:role="group">\n            <tree-node \n                @foreach="nodeItemData in nlist.nodeDatas track by id"\n                foreach@lazy-mode="nlist.service.lazyMode"\n                foreach@threshold="150"\n                @setter.data="nodeItemData"\n                @on.check="nlist.updateCheckStatus($args[1])"\n                @aria:role="treeitem"\n            >\n                <tree-node-list @setter.nodes="nodeItemData.children" @aria:role="group"></tree-node-list>\n            </tree-node>\n        </ul>\n    '}));To.Z.root().registerComponent(od);n(54);var ad=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"init",value:function(){(0,E._)((0,S._)(n.prototype),"init",this).call(this),this.data=[]}},{key:"serviceInjected",value:function(){var e=this,t=function(t){var r=i[t];Object.defineProperty(e,t,{get:function(){return n.service[t]},set:function(e){n[r].call(n,e)}})},n=this;this.service.setTree(this),this.setDraggable(this.draggable),this.setEditable(this.editable),this.setLazyMode(this.lazyMode),this.setSelectable(this.selectable),this.setCheckable(this.checkable);var i={draggable:"setDraggable",editable:"setEditable",selectable:"setSelectable",checkable:"setCheckable",lazyMode:"setLazyMode"};for(var r in i)t(r)}},{key:"setData",value:function(e){Array.isArray(e)&&(this.data=e),this.digest()}},{key:"setDraggable",value:function(e){this.service.setDraggable(e)}},{key:"setEditable",value:function(e){this.service.setEditable(e)}},{key:"setSelectable",value:function(e){this.service.setSelectable(e)}},{key:"setCheckable",value:function(e){this.service.setCheckable(e)}},{key:"setLazyMode",value:function(e){this.service.setLazyMode(e)}},{key:"setDragInterceptor",value:function(e){this.service.setDragInterceptor(e)}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this),this.attachEventToElement(document,"pointerup,touchend",(function(t){"mouse"===t.pointerType&&0!==t.button||e.service.startedDragging&&(e.service.setStartedDragging(!1),e.service.draggable&&e.service.dragEnd())}),{capture:!0}),this.attachEventToElement(this.element,"dragstart",(function(t){e.disabled||e.service.draggable&&(t.preventDefault(),t.stopPropagation())}))}},{key:"select",value:function(e){this.selectedNode!==e&&(this.selectedNode&&!this.selectedNode.isDestroyed&&this.selectedNode.unselect(),e?(e.select(),e.selected&&(this.selectedNode=e)):this.selectedNode=void 0)}},{key:"unselect",value:function(e){this.selectedNode===e&&e&&!e.isDestroyed&&(e.unselect(),this.selectedNode=void 0)}},{key:"getSelectedNode",value:function(){return this.selectedNode}},{key:"getRootNodeList",value:function(){return this.querySelector("@tree-node-list")}},{key:"getNodeById",value:function(e){return this.querySelector("@tree-node[id=".concat(e,"]"))}},{key:"getNodeByIdAsync",value:function(e){var t=(0,W.createDeferred)(),n=this.getNodeById(e);if(n)return t.resolve(n),t.promise;var i=this.service.onTreeNodeMounted((function(n){n.getNodeId()+""==e+""&&(t.resolve(n),i())}));return t.promise}},{key:"removeNodeById",value:function(e){return this.service.removeNodeById(e)}},{key:"insertNodeChildAt",value:function(e,t,n){return this.service.insertNodeChildAt(e,t,n)}},{key:"appendNode",value:function(e,t){return this.service.appendNode(e,t)}},{key:"prependNode",value:function(e,t){return this.service.prependNode(e,t)}},{key:"insertNodeAfter",value:function(e,t){return this.service.insertAfter(e,t)}},{key:"insertNodeBefore",value:function(e,t){return this.service.insertBefore(e,t)}},{key:"isDragging",value:function(){return this.service.startedDragging}}],[{key:"getName",value:function(){return"tree"}},{key:"services",value:function(){return{service:nd}}},{key:"getMetadata",value:function(){return{options:{draggable:{type:"boolean",defaultValue:!1},editable:{type:"boolean",defaultValue:!1},selectable:{type:"boolean",defaultValue:!1},checkable:{type:"boolean",defaultValue:!1},"lazy-mode":{type:"enum",enums:["none","intersection","passive"],case:"lower",defaultValue:"none",field:"lazyMode"}}}}}]),n}(LA({template:'\n        <div class="fv__ui-tree" @var.tree="$component" @controller="NoopController" @aria:role="tree">\n            <tree-node-list @setter.nodes="tree.data"></tree-node-list>\n        </div>\n    '})),sd=n(5322),cd=n.n(sd),ud=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"showContextmenu",value:function(e){this.getComponentByName("fv--sidebar-contextmenu").showAt(e.clientX,e.clientY)}}],[{key:"getName",value:function(){return"sidebar-contextmenu"}}]),n}(BA.createSuperClass({template:cd()()})),ld=(n(3402),n(9262)),Ad=n.n(ld),dd=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;return(0,C._)(this,n),e=t.apply(this,arguments),(0,z._)((0,x._)(e),"options",[]),(0,z._)((0,x._)(e),"value",void 0),e}return(0,D._)(n,[{key:"userSelect",value:function(e,t){(0,E._)((0,S._)(n.prototype),"select",this).call(this,e);var i=this.value;this.value=t.id,this.trigger("change",this.value,i)}},{key:"setValue",value:function(e){var t=e;null!==e&&"object"==typeof e&&"id"in e&&"text"in e&&(t=e.id);var n=this.options.findIndex((function(e){return e.id===t}));-1===n?(this.value=void 0,this.unselect()):(this.value=this.options[n].id,this.select(this.childAt(n)))}},{key:"getValue",value:function(){return this.value}},{key:"setOptions",value:function(e){var t=this;return e.reduce((function(e,t){if(e.has(t.id))throw new Error("Invalid options data, duplicate id found: ".concat(t.id));return e.add(t.id),e}),new Set),this.options=e||[],Promise.resolve(this.digest()).finally((function(){var e,n,i=null!==(n=null===(e=t.options.find((function(e){return e.id===t.value})))||void 0===e?void 0:e.id)&&void 0!==n?n:t.value;i===t.value&&t.selectedItem||t.setValue(i)}))}}],[{key:"getName",value:function(){return"dropdown-select"}},{key:"getMetadata",value:function(){return{options:{"lazy-mode":{type:"enum",enums:["none","intersection","passive"],case:"lower",defaultValue:"none",field:"lazyMode"},"item-height":{type:"number",field:"itemHeight",defaultValue:28,min:1},"lazy-load-threshold":{type:"number",field:"lazyLoadThreshold",defaultValue:20,min:1}}}}}]),n}(BA.createSuperClass({template:Ad()()})),hd=n(7644),fd=n.n(hd),pd=(n(133),function(){function e(){(0,C._)(this,e),(0,z._)(this,"groupName",""),(0,z._)(this,"currentValue",new W.ValueStore)}return(0,D._)(e,[{key:"setValue",value:function(e){this.currentValue.dispatch(e)}},{key:"onChange",value:function(e){return this.currentValue.subscribe(e)}},{key:"getValue",value:function(){return this.currentValue.getCurrentValue()}}],[{key:"scope",value:function(){return Po.U.COMPONENT_TREE}}]),e}()),vd=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"allInjected",value:function(){this.service.groupName=this.groupName}},{key:"getValue",value:function(){return this.service.getValue()}},{key:"setValue",value:function(e){this.service.setValue(e)}}],[{key:"getName",value:function(){return"scenario-option-group"}},{key:"inject",value:function(){return{service:pd}}},{key:"getMetadata",value:function(){return{options:{group:{type:"string",required:!0,field:"groupName"}}}}}]),n}(BA.createSuperClass({template:fd()()})),gd=n(757),md=n.n(gd),yd=(n(5174),BA.createSuperClass({template:md()()})),_d=Symbol("no-value"),bd=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;return(0,C._)(this,n),e=t.apply(this,arguments),(0,z._)((0,x._)(e),"radioInput",void 0),(0,z._)((0,x._)(e),"isChecked",!1),e}return(0,D._)(n,[{key:"groupName",get:function(){var e;return(null===(e=this.service)||void 0===e?void 0:e.groupName)||""}},{key:"postlink",value:function(){(0,E._)((0,S._)(n.prototype),"postlink",this).call(this),this.radioInput&&this.radioInput.setAttribute("name",this.groupName)}},{key:"mounted",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"mounted",this).call(this),this.addDestroyHook(this.service.onChange((function(t){var n=e.children().slice(1),i=t===e.getValue();e.isChecked=i,e.digest(),n.forEach((function(e){i?e.enable():e.disable()}))})))}},{key:"setValue",value:function(e){this.value=e}},{key:"getValue",value:function(){return this.value===_d?this.index():this.value}},{key:"setText",value:function(e){this.text=e+"",this.digest()}},{key:"acceptText",value:function(){return!0}},{key:"onUserCheckThis",value:function(){var e=this.service.getValue(),t=this.getValue();this.service.setValue(t),this.parent.trigger("change",t,e),this.trigger("select",t,e)}},{key:"doDisable",value:function(){(0,E._)((0,S._)(n.prototype),"doDisable",this).call(this),this.addCSSClass("fv__ui-scenario-option-disabled")}},{key:"doEnable",value:function(){(0,E._)((0,S._)(n.prototype),"doEnable",this).call(this),this.removeCSSClass("fv__ui-scenario-option-disabled")}}],[{key:"getName",value:function(){return"scenario-option"}},{key:"getMetadata",value:function(){return{options:{text:{type:"string",required:!0},value:{type:"string",defaultValue:_d}}}}},{key:"inject",value:function(){return{service:pd}}}]),n}(yd),wd=To.Z.root().getRegistry();for(var kd in l)wd.registerComponent(l[kd]);To.Z.root().pipe("max",(function(){return function(){return Array.isArray(value)&&value.length>=2?Math.max.apply(Math,value):value}})),To.Z.root().pipe("json",(function(e){return function(t){return JSON.stringify(t,null,e)}})),To.Z.root().pipe("min",(function(){return function(e){return Array.isArray(e)&&e.length>=2?Math.min.apply(Math,e):e}})),To.Z.root().pipe("async",(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(n){var i=this;return(0,T._)(n,Promise)?(n.then((function(t){e=t,i.digest()})),e||t):n}}));var xd={};To.Z.root().pipe("debounce",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=xd,n=new W.DebounceTaskExecutor(e);return function(e){var i=this;return t===xd?t=e:(e!==t&&n.exec((function(){t=e,i.digest()})),t)}})),To.Z.root().pipe("default",(function(e){return function(t){return null==t||""===t?e:"number"!=typeof t||!isNaN(t)&&isFinite(t)?t:e}})),To.Z.root().pipe("lower",(function(){return function(e){return"string"==typeof e?e.toLowerCase():e}})),To.Z.root().pipe("percent",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.01,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=1/e;return function(i){return"number"==typeof i?isFinite(i)?function(t,i){var r=Math.round(t*n)*e;return Math.floor(r*n)/n+i}(i,"%"):t:i}})),To.Z.root().pipe("upper",(function(){return function(e){return"string"==typeof e?e.toUpperCase():e}})),To.Z.root().pipe("timeformat",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"YYYY-MM-DD HH:mm:ss",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e=e.replace("yyyy","YYYY"),function(n){return"number"==typeof n&&(n=new Date(n)),(0,T._)(n,Date)?(0,W.dayjs)(n).format(e):t}}));var Pd=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];To.Z.root().pipe("bytes",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.01,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=1/e;return function(i){if("number"==typeof i){if(isFinite(i)){for(var r=0,o=i;o>=1024&&r<Pd.length;)o/=1024,r++;return function(t,i){var r=Math.round(t*n)*e;return Math.floor(r*n)/n+i}(o,Pd[r])}return t}return t}})),To.Z.root().pipe("i18n",(function(e){var t=this,n=this.component.localizer;return this.component.on("localize",(function(){t.digest()})),function(t){return n.translateSync(t,e)}}));var Cd={distinct:function(){return function(e){return Array.isArray(e)?Array.from(new Set(e)):e}},pluck:function(e){var t="string"==typeof e?[]:e.split("."),n=function(e,t){if(e&&"object"==typeof e)return e[t]},i=function(e){return t.reduce(n,e)};return function(e){return Array.isArray(e)&&0!==t.length?e.map(i):[]}}};for(var Dd in Cd)To.Z.root().pipe(Dd,Cd[Dd]);function Ed(e,t){return e.filter((function(e){if("function"==typeof t)return t(e);for(var n in t){var i=t[n];return"function"==typeof i?i(e):e===i}}))}To.Z.root().pipe("filter",(function(e){return function(t){return(0,T._)(t,Set)?new Set(Ed(Array.from(t),e)):Array.isArray(t)?Ed(t,e):t}})),To.Z.root().pipe("number",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t){return"number"==typeof t?isNaN(t)?e:t:"string"==typeof t&&t.length>0&&Number(t)||e}})),To.Z.root().pipe("fixed",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return"number"==typeof n?isFinite(n)?n.toFixed(e):t.toFixed(e):n}}));n(4929);var Sd=n(6871),Id=(W.LoggerFactory.getLogger("UIXNodeParser"),function(){function e(t){(0,C._)(this,e);var n=t.localizer,i=t.templateParser,r=t.ioc,o=t.postHandle;this.localizer=n,this.templateParser=i,this.context=new Ru({parser:this,templateParser:i,localizer:n,postHandle:o,ioc:r})}return(0,D._)(e,[{key:"cloneNode",value:function(e){if((0,T._)(e,$o)||(0,T._)(e,Ko))return e.clone(!0);e.asyncFragments.forEach((function(e){e.ignoreAsync=!0}));var t=e.clone(!0);return this.parseFragments(e.asyncFragments,t),t}},{key:"forceParseChildren",value:function(e){this.templateParser.forceParseChildren(e)}},{key:"createPlainTextNode",value:function(e){return new $o({text:e})}},{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.parseTemplateToNode(e,t);return this.parseNode(n)}},{key:"parseTemplateToNode",value:function(e,t){var n=this.templateParser.parse(e);return this.parseFragments(t,n),n}},{key:"parseFragments",value:function(e,t){SA(this.templateParser,e,t)}},{key:"isUnresolvedFragmentNode",value:function(e){return!!e.module.getFragment(e.nodeName)}},{key:"resolveFragmentNode",value:function(e){var t=this.templateParser.parse(e.template);return e.replaceWith(t),t}},{key:"parseNode",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if((0,T._)(e,$o))return this.parseTextNode(e,n);this.isUnresolvedFragmentNode(e)&&(e=this.resolveFragmentNode(e));var o=new Sd.Z(this,this.context);o.appendOptions(e.componentOptions).appendInitData(i).appendVNode(e).appendParentComponent(n);var a=e.getComponentClass();if(a.isFake())a.handleParseError(e);else{a.preprocess(o,this),e=o.vnode;var s,c=r?void 0:e.getParserDirectiveInstance(n,this.localizer);if(c)return c.parseComponent(this,i);if(s=o.build()){var u=s.directive;u.componentPrelink(),s.prelink();var l=e.children.filter((function(e){return(0,T._)(e,Yo.Z)})),A=(0,T._)(s,na);if(!s.isIgnorable()&&l.length>0&&!A){var d=l.some((function(e){return"text"!==e.nodeName&&"placeholder-text"!==e.nodeName}));if(d)throw new Error("<".concat(e.name,"> cannot contains any subcomponents, because it is not a container, but actual: ").concat(e.template))}if(A&&!s.isIgnorable())(s.acceptText()?e.children:l).forEach((function(e){var n=t.parseNode(e,s);n&&((0,T._)(e,$o)?s.appendText(n):s.append(n))}));else s.acceptText()&&e.children.forEach((function(e){var n=t.parseNode(e,s);s.appendText(n)}));return u.componentPostlink(),s.postlink(),s}}}},{key:"parseTextNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=new qa({viewConfig:{textContent:e.text,attrs:{},vnode:e},context:this.context,callback:t?t.controller:null,proxyControllers:e.componentOptions.proxyControllers},To.Z.root(),this.localizer);return n.render(),n.prelink(),n.postlink(),n}}]),e}()),Td=(n(9019),"fv-high-contrast-mode");!function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;(0,C._)(this,n),e=t.call(this),(0,z._)((0,x._)(e),"isHighContrast",!1),(0,z._)((0,x._)(e),"store",new W.Store);var i=function(){e.detectAndTriggerHighContrast()};return window.addEventListener("focus",i),e.addDestroyHook((function(){e.store.destroy(),window.removeEventListener("focus",i)})),e.detectAndTriggerHighContrast(),e}(0,D._)(n,[{key:"detectAndTriggerHighContrast",value:function(){var e=(0,W.checkHighContrast)();this.isHighContrast!==e&&(this.store.dispatch(Td,e),this.isHighContrast=e)}},{key:"onHighContrastChange",value:function(e){return this.store.subscribe(Td,e)}}],[{key:"scope",value:function(){return Po.U.SHARED_SINGLETON}}])}(W.Disposable);var Rd=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),i=t.call(this),(0,z._)((0,x._)(i),"localizer",void 0),(0,z._)((0,x._)(i),"ioc",void 0),(0,z._)((0,x._)(i),"keyboard",void 0),i.localizer=new Ya(e.i18n,e.i18nOptions),i.ioc=e.ioc,i.keyboard=e.keyboard,i}return(0,D._)(n,[{key:"renderTemplate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=new Id({templateParser:new MA,localizer:this.localizer,ioc:this.ioc}),r=this.ioc,o=this.keyboard||new W.KeyboardImpl({anchor:t});r.getStrategy(Po.U.SINGLETON).registerComponentInstance(o);var a=i.parse(e,n);return a.localize(),t.appendChild(a.element),a.mounted(),a}},{key:"render",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e.childElementCount>1)throw new Error("Multiple root element found in the container: ".concat(e.innerHTML));if(0===e.childElementCount)throw new Error("No children found in the container element");var n=e.firstElementChild;return n.remove(),this.renderTemplate(n,e,t)}}]),n}(W.Disposable);(0,z._)(Rd,"Builder",function(){function e(){(0,C._)(this,e),(0,z._)(this,"i18n",void 0),(0,z._)(this,"i18nOptions",{}),(0,z._)(this,"ioc",void 0),(0,z._)(this,"keyboard",void 0)}return(0,D._)(e,[{key:"appendI18Next",value:function(e){return this.i18n=e,this}},{key:"appendI18NOptions",value:function(e){return(0,W.extendOptions)(this.i18nOptions,e),this}},{key:"appendIoC",value:function(e){return this.ioc=e,this}},{key:"appendKeyboard",value:function(e){return this.keyboard=e,this}},{key:"build",value:function(){var e=this.ioc||new W.ApplicationContextImpl,t=e;t.hasStrategy(Po.U.COMPONENT_TREE)||t.setStrategy(Po.U.COMPONENT_TREE,new Pu),t.hasStrategy(Po.U.COMPONENT_CHILDREN)||t.setStrategy(Po.U.COMPONENT_CHILDREN,new xu),t.hasStrategy(Po.U.MULTI_CASE)||t.setStrategy(Po.U.MULTI_CASE,new ku);var n,i,r=this.i18n||(n=this.i18nOptions,(i=Ac.createInstance()).init(n),i);return new Rd({ioc:e,i18n:r,i18nOptions:this.i18nOptions})}}]),e}());var Md="zIndexContextMenu";const Fd=function(){function e(t){(0,C._)(this,e),this.flag=t}return(0,D._)(e,[{key:"getValue",value:function(){return this.flag}},{key:"checkInvisible",value:function(){return(this.flag&tn.invisible)===tn.invisible}},{key:"checkHidden",value:function(){return(this.flag&tn.hidden)===tn.hidden}},{key:"checkPrint",value:function(){return(this.flag&tn.print)===tn.print}},{key:"checkNoZoom",value:function(){return(this.flag&tn.noZoom)===tn.noZoom}},{key:"checkNoRotate",value:function(){return(this.flag&tn.noRotate)===tn.noRotate}},{key:"checkNoView",value:function(){return(this.flag&tn.noView)===tn.noView}},{key:"checkReadOnly",value:function(){return(this.flag&tn.readOnly)===tn.readOnly}},{key:"checkLocked",value:function(){return(this.flag&tn.locked)===tn.locked}},{key:"checkToggleNoView",value:function(){return(this.flag&tn.toggleNoView)===tn.toggleNoView}},{key:"checkLockedContents",value:function(){return(this.flag&tn.lockedContents)===tn.lockedContents}},{key:"check",value:function(e){return(this.flag&e)===e}},{key:"or",value:function(e){return this.flag=this.flag|e,this}}]),e}();var Nd,Ld,Od,jd,Bd,Vd,Ud;!function(e){e.CREATE_ANNOT="create-annots",e.REMOVE_ANNOT="remove-annots",e.UPDATE_ANNOT="update-annots",e.ADD_REPLY="add-reply",e.REMOVE_REPLY="remove-reply",e.ADD_REVIEW_STATE="add-review-state",e.ADD_MARKED_STATE="add-marked-state",e.UPDATE_ANNOT_CONTENT="update-comment-content",e.PPO_REMOVE_PAGE="ppo-remove-page",e.PPO_REMOVE_PAGES="ppo-remove-pages",e.PPO_INSERT_PAGE="ppo-insert-page",e.PPO_ROTATE_PAGE="ppo-rotate-page",e.PPO_MOVE_PAGE="ppo-move-page",e.MOVE_ANNOTS_BETWEEN_PAGES="move-annotations-between-pages",e.IMPORT_ANNOTATIONS_FILE="import-annotations-file"}(Nd||(Nd={})),function(e){e.SELECT_ALL="builtin-command-select-all-annotations",e.CREATION_UNDO_LAST="builtin-command-creation-undo-last",e.DELETE_SELECTED_OBJECT="builtin-command-delete-selected-object",e.DELETE_SELECTED_ANNOT_MAC="builtin-command-delete-selected-annot-mac",e.UNSELECT_OBJECT="builtin-command-unselect-object",e.UNDO_OPERATION="builtin-command-undo",e.REDO_OPERATION="builtin-command-redo",e.CANCEL_CREATING_ANNOTATION_OPERATION="builtin-command-cancel-creating-annotation",e.CLOSE_LAYER="builtin-command-close-closable-layer",e.ARROW_UP="builtin-command-arrow-up",e.ARROW_DOWN="builtin-command-arrow-down",e.ARROW_LEFT="builtin-command-arrow-left",e.ARROW_RIGHT="builtin-command-arrow-right",e.SWITCH_TO_HAND_STATE="builtin-command-switch-hand-state",e.COPY_ACTIVATE_ELEMENT="builtin-command-copy-activate-element",e.CUT_ACTIVATE_ELEMENT="builtin-command-cut-activate-element",e.ADD_BOOKMARK="builtin-command-add-bookmark",e.COPY_TEXT_IMAGE="builtin-command-copy-text-image",e.BLUR_EDITTING_TEXT_OBJECT="builtin-command-blur-editting-text-object",e.ALIGNMENT_REDUCE_WIDTH="builtin-command-alignment-reduce-width",e.ALIGNMENT_RAISE_WIDTH="builtin-command-alignment-raise-width",e.ALIGNMENT_REDUCE_HEIGHT="builtin-command-alignment-reduce-height",e.ALIGNMENT_RAISE_HEIGHT="builtin-command-alignment-raise-height",e.ALIGNMENT_REDUCE_STEP_WIDTH="builtin-command-alignment-reduce-step-width",e.ALIGNMENT_RAISE_STEP_WIDTH="builtin-command-alignment-raise-step-width",e.ALIGNMENT_REDUCE_STEP_HEIGHT="builtin-command-alignment-reduce-step-height",e.ALIGNMENT_RAISE_STEP_HEIGHT="builtin-command-alignment-raise-step-height",e.TAB_NEXT_OPERATION="builtin-command-tab-next",e.TAB_PREVIOUS_OPERATION="builtin-command-tab-previous",e.DELETE_ATTACHMENT="builtin-command-delete-attachment",e.JUMP_TO_NEXT_PAGE="builtin-command-jump-to-next-page",e.JUMP_TO_PREVIOUS_PAGE="builtin-command-jump-to-previsous-page",e.JUMP_TO_FIRST_PAGE="builtin-command-jump-to-first-page",e.JUMP_TO_LAST_PAGE="builtin-command-jump-to-last-page",e.SCROLL_TO_NEXT_VISIBLE_AREA="builtin-command-scroll-to-next-visible-area",e.SCROLL_TO_PREVIOUS_VISIBLE_AREA="builtin-command-scroll-to-previous-visible-area",e.SCROLL_VIEWER_SCROLLBAR_LEFT="builtin-command-scroll-viewer-scrollbar-left",e.SCROLL_VIEWER_SCROLLBAR_RIGHT="builtin-command-scroll-viewer-scrollbar-right",e.SCROLL_VIEWER_SCROLLBAR_UP="builtin-command-scroll-viewer-scrollbar-up",e.SCROLL_VIEWER_SCROLLBAR_DOWN="builtin-command-scroll-viewer-scrollbar-down"}(Ld||(Ld={})),function(e){e.GLOBAL="builtin-shortcut-context-global",e.SELECTION="builtin-shortcut-context-selection",e.BASIC_STATE_HANDLER="builtin-shortcut-context-state-hander",e.ANNOTATION_PROPERTIES="builtin-shortcut-context-annot-properties",e.ACTIVATION_ANY="builtin-shortcut-context-activation-any",e.ACTIVATION_ANNOTATION="builtin-shortcut-context-activation-annot",e.ACTIVATION_WIDGET="builtin-shortcut-context-activation-widget",e.ACTIVATION_GRAPH_OBJ="builtin-shortcut-context-activation-graph_obj",e.VIEWER="builtin-shortcut-context-viewer",e.CREATING_ANNOTATION="builtin-shortcut-context-creating-annotation",e.CLOSABLE_LAYER="builtin-shortcut-context-closable-layer",e.EDIT_TEXT_OBJECT="builtin-shortcut-context-edit-text-object"}(Od||(Od={}));const Hd=[{context:"builtin-shortcut-context-global",topLayers:[],extends:[],shortcuts:{}},{context:"builtin-shortcut-context-closable-layer",topLayers:["builtin-shortcut-context-global"],extends:[],shortcuts:(0,z._)({},"builtin-command-close-closable-layer","Escape")},{context:"builtin-shortcut-context-viewer",topLayers:["builtin-shortcut-context-global"],extends:[],shortcuts:(jd={},(0,z._)(jd,"builtin-command-undo","Mod+Z"),(0,z._)(jd,"builtin-command-redo","Mod+Y"),(0,z._)(jd,"builtin-command-add-bookmark","Mod+B"),(0,z._)(jd,"builtin-command-delete-attachment","Delete"),(0,z._)(jd,"builtin-command-jump-to-previsous-page","LeftArrow"),(0,z._)(jd,"builtin-command-jump-to-next-page","RightArrow"),(0,z._)(jd,"builtin-command-arrow-up","UpArrow"),(0,z._)(jd,"builtin-command-arrow-down","DownArrow"),(0,z._)(jd,"builtin-command-jump-to-first-page","Home"),(0,z._)(jd,"builtin-command-jump-to-last-page","End"),(0,z._)(jd,"builtin-command-scroll-to-next-visible-area","PageDown"),(0,z._)(jd,"builtin-command-scroll-to-previous-visible-area","PageUp"),(0,z._)(jd,"builtin-command-scroll-viewer-scrollbar-left","Shift+LeftArrow"),(0,z._)(jd,"builtin-command-scroll-viewer-scrollbar-right","Shift+RightArrow"),(0,z._)(jd,"builtin-command-scroll-viewer-scrollbar-up","Shift+UpArrow"),(0,z._)(jd,"builtin-command-scroll-viewer-scrollbar-down","Shift+DownArrow"),jd)},{context:"builtin-shortcut-context-edit-text-object",topLayers:["builtin-shortcut-context-global"],extends:[],shortcuts:(0,z._)({},"builtin-command-blur-editting-text-object","Escape")},{context:"builtin-shortcut-context-creating-annotation",topLayers:["builtin-shortcut-context-viewer"],extends:[],shortcuts:(0,z._)({},"builtin-command-cancel-creating-annotation","Escape")},{context:"builtin-shortcut-context-selection",topLayers:[],extends:[],shortcuts:(0,z._)({},"builtin-command-select-all-annotations","Mod+A")},{context:"builtin-shortcut-context-activation-any",topLayers:["builtin-shortcut-context-viewer"],extends:["builtin-shortcut-context-selection"],shortcuts:(Bd={},(0,z._)(Bd,"builtin-command-delete-selected-object","Delete"),(0,z._)(Bd,"builtin-command-delete-selected-annot-mac","Mod+Backspace"),(0,z._)(Bd,"builtin-command-unselect-object","Escape"),(0,z._)(Bd,"builtin-command-copy-activate-element","Mod+C"),(0,z._)(Bd,"builtin-command-cut-activate-element","Mod+X"),Bd)},{context:"builtin-shortcut-context-activation-annot",topLayers:["builtin-shortcut-context-viewer"],extends:["builtin-shortcut-context-activation-any"],shortcuts:{}},{context:"builtin-shortcut-context-activation-widget",topLayers:["builtin-shortcut-context-viewer"],extends:["builtin-shortcut-context-activation-any"],shortcuts:(Vd={},(0,z._)(Vd,"builtin-command-alignment-reduce-width","Mod+LeftArrow"),(0,z._)(Vd,"builtin-command-alignment-raise-width","Mod+RightArrow"),(0,z._)(Vd,"builtin-command-alignment-reduce-height","Mod+UpArrow"),(0,z._)(Vd,"builtin-command-alignment-raise-height","Mod+DownArrow"),(0,z._)(Vd,"builtin-command-alignment-reduce-step-width","Mod+Shift+LeftArrow"),(0,z._)(Vd,"builtin-command-alignment-raise-step-width","Mod+Shift+RightArrow"),(0,z._)(Vd,"builtin-command-alignment-reduce-step-height","Mod+Shift+UpArrow"),(0,z._)(Vd,"builtin-command-alignment-raise-step-height","Mod+Shift+DownArrow"),Vd)},{context:"builtin-shortcut-context-activation-graph_obj",topLayers:["builtin-shortcut-context-viewer"],extends:["builtin-shortcut-context-activation-any"],shortcuts:{}},{context:"builtin-shortcut-context-state-hander",topLayers:["builtin-shortcut-context-viewer"],extends:[],shortcuts:(0,z._)({},"builtin-command-switch-hand-state","Escape")},{context:Yn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:yn,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}},{context:Dn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Gn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:$n,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:zn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Vn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:bn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:ti,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:ni,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:ii,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Un,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Pn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Tn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:wn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:jn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Bn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:On,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:kn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Ln,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Wn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Rn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Mn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Fn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Nn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Cn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:En,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:In,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"create-multi-media-state",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"create-redaction-text-state",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"create-redaction-state",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"CreatePushButtonStateHandler",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"CreateCheckBoxStateHandler",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"CreateRadioButtonStateHandler",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"CreateComboBoxStateHandler",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"CreateListBoxStateHandler",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"CreateTextStateHandler",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"CreateSignStateHandler",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"CreateDateStateHandler",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"CreateImageStateHandler",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:_n,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}},{context:Sn,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}},{context:Jn,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}},{context:qn,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}},{context:Kn,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}},{context:Zn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Xn,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:(Ud={},(0,z._)(Ud,"builtin-command-copy-text-image","Mod+C"),(0,z._)(Ud,"builtin-command-add-bookmark","Mod+B"),(0,z._)(Ud,"builtin-command-select-all-annotations","Mod+A"),Ud)},{context:ei,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:ri,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}},{context:si,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}},{context:ci,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}},{context:ui,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}},{context:vi,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}}];var zd="undefined"!=typeof PointerEvent,Wd=W.isIE10?"MSPointerDown":zd?"pointerdown":"mousedown",Gd=W.isIE10?"MSPointerDown":"pointerdown",Yd="add",$d="minus",Jd=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;(0,C._)(this,n),(a=t.call(this,o)).hasFocus=!1,a.docRender=a.parent("pdfDocRender"),a.name="annot",a.eUi=i,a.element=i;var s=a.$ui=j()(i);if(s.addClass("fv__pdf-page-annot-container").data(Md,(0,x._)(a)),s.attr("objectNumber",e.objectNumber),a.eHandler=r,(a.$handler=j()(r)).addClass("fv__pdf-page-annot-handler-container"),a.$page=o.$page,a.annot=e,a.$$isUIVisible=!0,s.data("component",(0,x._)(a)),a.deleteStatus=0,a.annotsRender=o.parent("annotsRender"),a.statusService=a.pdfViewer.getIoC().getInstanceByClass(nh),a.eventHandlers=[],a.mouseEnterAnnots=[],!a.pdfViewer.getCurrentPDFDoc().isDynamicXFA()&&(a.bindDoubleTab(),W.isIOS)){var c=function(e){return e.preventDefault()};i.addEventListener("touchstart",c),a.addDestroyHook((function(){i.removeEventListener("touchstart",c)}))}var u=function(){a.isDestroyed||a.annot.isDestroyed||a.getAppPermission().then((function(e){a.updateOnPermissionChange(e)}))},l=function(){a.isDestroyed||a.annot.isDestroyed||a.removed||a.isActive&&a.mouseLeave()},A=function(){a.removed=!0},d=a.pdfViewer.eventEmitter;return d.on(se.permissionChanged,u),d.on(se.globalAnnotFlagChanged,u),d.on(se.activeElementChanged,l),d.on(se.annotationRemoved,A),d.on(se.flattenAnnotation,A),a.addDestroyHook((function(){d.off(se.permissionChanged,u),d.off(se.globalAnnotFlagChanged,u),d.off(se.activeElementChanged,l),d.off(se.annotationRemoved,A)})),a}return(0,D._)(n,[{key:"id",get:function(){return this.annot?this.annot.getId():void 0}},{key:"initializeShapeControl",value:function(e){var t=this;e.ui.addEventListener("click",(function(e){t.isActive&&e.isTrusted&&0===e.button&&!e.shiftKey&&e.ctrlKey&&t.pdfViewer.unActiveElement(t)})),e.ownsTo&&e.ownsTo(this.disposor)}},{key:"init",value:function(){}},{key:"getAppPermission",value:function(){return this.pdfViewer.getAnnotAuthorityManager().getPermission(this.annot)}},{key:"initMouseEvent",value:function(){var e=this,t=this.pdfViewer.eventEmitter,n=this.getContainerElement();n.addEventListener("mouseenter",a),n.addEventListener("mousemove",(function(e){if(!o)return;var t=c(e);if(t.length===r.length)return;var n=[],a=Yd;t.length>r.length?n=t.filter((function(e){return!r.some((function(t){return t.getId()===e.getId()}))})):(n=r.filter((function(e){return!t.some((function(t){return t.getId()===e.getId()}))})),a=$d);n.length&&(i.mouseMove&&i.mouseMove(n,a),r=t)})),n.addEventListener("mouseleave",s),this.addDestroyHook((function(){n.removeEventListener("mouseenter",a),n.removeEventListener("mouseleave",s)}));var i=this,r=[],o=!1;function a(e){r=i.mouseEnterAnnots=c(e),t.emit(se.mouseEnter,_i.annotation,{annots:i.mouseEnterAnnots,e}),i.mouseEnter&&i.mouseEnter(_i.annotation,{annots:i.mouseEnterAnnots,e}),o=i.needToggleView()}function s(e){r=[],t.emit(se.mouseLeave,_i.annotation,{annots:i.mouseEnterAnnots,e}),i.mouseLeave&&i.mouseLeave(_i.annotation,{annots:i.mouseEnterAnnots,e})}var c=function(t){var n=e.annotsRender.getAnnotRenders(),i=Object.keys(n).map((function(e){return n[e]})),r=t.clientX,o=t.clientY,a=[];return i.forEach((function(t){if(!e.annotsRender._isFormWidget(t)&&!e.annotsRender._isFormWatermark(t)){var n=t.component.$ui.get(0).getBoundingClientRect();r>=n.left&&r<=n.right&&o>=n.top&&o<=n.bottom&&a.push(t.annot)}})),a}}},{key:"initPointerDownEvent",value:function(){var e=this,t=this.pdfViewer.getEventEmitter(),n=function(n){var i=function(e){var i=e.component,r=i.shapeControl,o=!!r&&r.isActive;return t.emit(se.tapAnnotation,e,n),Promise.resolve(i.tapAnnot(n)).then((function(){o||i.triggerPointerDownOnShapeControl(n)}))};if(1===n.which&&!n.isManual&&!["fv__shape-control-text-area","fv__shape-control-move-area","fv__shape-controller","fv-shape-rotate-handle"].some((function(e){return j()(n.target).hasClass(e)}))){var r=e.parent("pdfPageRender"),o=(0,R._)(r.getPDFPointFromClientPoint(n.clientX,n.clientY,!0),2),a=o[0],s=o[1],c=e.parent();return r.getPDFPage().then((function(e){var t=r.scale,n=r.rotate,i=e.getDeviceMatrix();return i.scale(t,t),i.rotate(n),e.getAnnotObjectNumAtDevicePoint([a,s],1,[i.a,i.b,i.c,i.d,i.e,i.f])})).then((function(t){var n=e.annotsRender.getAnnotRender(t);if(n&&n!==c)if("watermark"===n.annot.getType())i(c);else i(n);else i(c)})),!1}};this.eUi.addEventListener(Wd,n),this.eHandler.addEventListener(Wd,n),this.addDestroyHook((function(){e.eHandler.removeEventListener(Wd,n),e.eUi.removeEventListener(Wd,n)}))}},{key:"triggerPointerDownOnShapeControl",value:function(e){var t,n=this.eHandler.querySelector(".fv__shape-control-move-area");n&&("function"!=typeof PointerEvent||(0,T._)(e,MouseEvent)?((t=document.createEvent("MouseEvent")).initMouseEvent(Gd,e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,null),t.pointerId=e.pointerId):t=new PointerEvent("pointerdown",e),t.isManual=!0,n.dispatchEvent(t),n.dispatchEvent(t))}},{key:"getContainerElement",value:function(){return this.$ui.get(0)}},{key:"getHandlerElement",value:function(){return this.$handler.get(0)}},{key:"getModel",value:function(){return this.annot}},{key:"tapAnnot",value:function(){var e=this,t=this.getModel().getId();return this.pdfViewer.isMultiSelectActive()&&this.pdfViewer.getAllActivatedElements().find((function(t){return t===e}))&&!W.keyboardStatus.isShiftDown?this.annotsRender.unActiveAnnot(t):this.annotsRender.activeAnnot(t)}},{key:"getId",value:function(){return this.id}},{key:"getIndex",value:function(){return this.annot.getIndex()}},{key:"setId",value:function(e){var t=this;return this.annot.setUniqueID(e).then((function(){t.id=e}))}},{key:"isHidden",value:function(){var e=this.getAnnotFlag();return!!(e.checkHidden()||e.checkNoView()&&!e.checkToggleNoView())}},{key:"_hideUI",value:function(){this.$ui[0].classList.add("fv__ui-hide"),this.$handler[0].classList.add("fv__ui-hide")}},{key:"_showUI",value:function(){this.$ui[0].classList.remove("fv__ui-hide"),this.$handler[0].classList.remove("fv__ui-hide")}},{key:"hideUI",value:function(){return this.isUIVisible()?(this.isActive&&this.annotsRender.unActiveAnnot(this.annot),this.$$isUIVisible=!1,this._hideUI(),Promise.resolve()):Promise.resolve()}},{key:"updateSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;this.scale=e,this.rotate=t}},{key:"showUI",value:function(){var e=this;return this.isUIVisible()?Promise.resolve():(this.$$isUIVisible=!0,this._showUI(),Promise.resolve(this.redraw()).then((function(){e.pdfViewer.getAnnotAuthorityManager().update(e.annot)})))}},{key:"isUIVisible",value:function(){return this.$$isUIVisible}},{key:"render",value:function(e,t){return this.scale=e,this.rotate=t,Promise.resolve()}},{key:"afterRender",value:function(){if(!this.isDestroyed){var e=this.annot.getType();W.isDesktop&&this.pdfViewer.config.showFormFieldTooltip&&"widget"===e&&this.bindAnnotMouseEvents()}}},{key:"add",value:function(e,t){return this.render(e,t)}},{key:"redraw",value:function(){}},{key:"willRedraw",value:function(){}},{key:"afterRedraw",value:function(){}},{key:"doActive",value:function(){var e=this;if(this.bindEvent(),!this.pdfViewer.activationManager.currentActivableIs(this)){var t=this.annot;if(t.isGrouped&&t.isGrouped()){var n=new K;t.groupElements.forEach((function(t){var i=e.pdfViewer.getAnnotRender(t.getPDFPage().getIndex(),t.getId()).component;n.add(i)})),this.pdfViewer.activeElement(n)}else this.pdfViewer.activeElement(this)}}},{key:"doDeactive",value:function(){this.unBindEvent()}},{key:"unActive",value:function(){(0,E._)((0,S._)(n.prototype),"unActive",this).call(this)}},{key:"destroy",value:function(){this.isActive=!1,this.$ui&&this.$ui.remove(),this.$handler&&this.$handler.remove(),this.unBindEvent(),this.eventHandlers=[],(0,E._)((0,S._)(n.prototype),"destroy",this).call(this),this.annot=null,this.component=null,this.docRender=null,this.$ui=null,this.eHandler=null,this.$handler=null,this.$page=null,this.annotsRender=null}},{key:"remove",value:function(){this.destroy()}},{key:"showContextMenu",value:function(e,t){return!1}},{key:"enableContextMenu",value:function(e){this._disabledContextMenu=!e}},{key:"contextMenuIsEnable",value:function(){return!this._disabledContextMenu}},{key:"zIndexDown",value:function(){this.$ui.addClass("fv__zindex-down"),this.zIndexDownFlag=!0}},{key:"checkZIndexDown",value:function(){return!this.zIndexDownFlag}},{key:"zIndexRecover",value:function(){this.$ui.removeClass("fv__zindex-down"),this.zIndexDownFlag=!1}},{key:"moveTo",value:function(e,t,n){var i,r=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!(!(arguments.length>3&&void 0!==arguments[3])||arguments[3]))return this.$ui.css({left:e,top:t}),Promise.resolve(!0);if(o)i={left:e,top:t,action:n,triggerAction:a};else{var s=this.scale,c=this.rotate,u=this.getPDFPage(),l=this.annot.getDeviceRect(s,c),A=e-l.left,d=t-l.top;if("freetext"!==this.annot.getType()&&Math.abs(A)<1&&Math.abs(d)<1)return Promise.resolve();var h=(0,R._)(u.reverseDeviceOffset([A,d],s,c),2),f=h[0],p=h[1],v=this.annot.getRect();i={left:v.left+f,top:v.top+p,action:n,triggerAction:a}}return this.annot.moveTo(i).then((function(e){return r.updateRender&&r.updateRender().then((function(){r.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,r)}))}))}},{key:"move",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.annot.getDeviceRect(this.scale,this.rotate);return this.moveTo(i.left+e,i.top+t,n)}},{key:"moved",value:function(){var e=this.annot.getDeviceRect(this.scale,this.rotate);this.$ui.css({left:e.left+"px",top:e.top+"px"}),this.activeRect()}},{key:"movedByOther",value:function(e){}},{key:"setRectInPDF",value:function(e,t){var n=this;return this.annot._setRect(e,t).then((function(e){return e?n.updateRender().then((function(){return t&&n.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,n),e})):e}))}},{key:"_setRect",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.left,i=t.top,r=t.width,o=t.height,a=arguments.length>1?arguments[1]:void 0;r=Math.max(.001,r),o=Math.max(.001,o);var s=this.scale,c=this.rotate,u=this.getPDFPage().reverseDeviceRect({left:n,top:i,right:n+r,bottom:i+o},s,c);return this.annot._setRect(u,a).then((function(t){return t?e.updateRender().then((function(){return e.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,e),t})):t}))}},{key:"setRect",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.left,i=t.top,r=t.width,o=t.height;r=Math.max(.001,r),o=Math.max(.001,o);var a=this.scale,s=this.rotate,c=this.getPDFPage().reverseDeviceRect({left:n,top:i,right:n+r,bottom:i+o},a,s);return this.annot.setRect(c).then((function(t){return t&&e.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,e),t}))}},{key:"getRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.getPDFPage(),i=this.annot.getRect();return n.getDeviceRect(i,e,t)}},{key:"getBoundary",value:function(){var e=this.annot.getDeviceRect(this.scale,this.rotate),t=this.annot.getRect(),n=e.right-e.left,i=e.bottom-e.top;return 8&this.annot.getFlags()&&(n=t.right-t.left,i=t.top-t.bottom),{left:e.left,top:e.top,width:n,height:i}}},{key:"getPosition",value:function(){var e=this.getPDFPage(),t=this.annot.getRect(),n=(0,R._)(e.getDevicePoint([t.left,t.top],this.scale,this.rotate),2);return{left:n[0],top:n[1]}}},{key:"getDimension",value:function(){var e=this.getPDFPage(),t=this.annot.getRect(),n=e.getDeviceRect(t,this.scale,this.rotate);return{width:n.right-n.left,height:n.bottom-n.top}}},{key:"removeAnnot",value:function(){var e=this;return this.getAppPermission().then((function(t){if(t.ignorable()&&e.getAnnotFlag().checkLocked())throw new Error("The remove operation was rejected because it is locked!");if(t.isDeletable())return e.doRemoveAnnot()}))}},{key:"doRemoveAnnot",value:function(){}},{key:"deleteDisabled",value:function(){if(!(32&this.docRender.getUserPermission().getValue()))return!0;var e=this.getAnnotFlag();return e.checkLocked()||e.checkReadOnly()}},{key:"replyDisabled",value:function(){return!(32&this.docRender.getUserPermission().getValue())||(!this.annot.getContent()||"sound"===this.annot.getType())}},{key:"propertyDisabled",value:function(){if(!(32&this.docRender.getUserPermission().getValue()))return!0;var e=this.getAnnotFlag();return e.checkLocked()||e.checkReadOnly()}},{key:"moveDisabled",value:function(){if(!(32&this.docRender.getUserPermission().getValue()))return!0;var e=this.getAnnotFlag();return e.checkLocked()||e.checkReadOnly()}},{key:"readOnlyDisabled",value:function(){return!(32&this.docRender.getUserPermission().getValue())||this.getAnnotFlag().checkReadOnly()}},{key:"isLocked",value:function(){return this.getAnnotFlag().checkLocked()}},{key:"bindEvent",value:function(){var e=this;this.pdfViewer&&this.pdfViewer.getKeyboard().withContext(Od.ACTIVATION_ANY,(function(t){if(!e.isDestroyed){e.__off__delete__event__&&e.__off__delete__event__();var n=Ld.DELETE_SELECTED_OBJECT;0,e.__off__delete__event__=t.keyup(n,(function(t){!1!==e.isActive&&(e.removeAnnot(),t.stopPropagation())}),{interceptors:[(0,W.excludeEditableElementInterceptor)(),function(t,n){var i=e.pdfViewer.getStore().getCurrentValue(W.MODULE_LICENSE_INFO);if(e.annot){var r=e.annot.getType(),o=!0;"redact"==r&&(o=Object.keys(i).find((function(e){return e.startsWith(r)?i[e]:""._}))),o?n(t):e.pdfViewer.viewerUI.alert("dialog.error.noRedactionLicense")}}]})}}))}},{key:"unBindEvent",value:function(){this.__off__delete__event__&&this.__off__delete__event__(),this.__off__delete__event__=tr}},{key:"updateDeleteStatus",value:function(e){e?++this.deleteStatus:--this.deleteStatus,this.deleteStatus>0?this.unBindEvent():this.bindEvent()}},{key:"getPDFAnnot",value:function(){return this.annot}},{key:"getPDFPage",value:function(){return this.getPDFAnnot().getPDFPage()}},{key:"getAnnotFlag",value:function(){return this.pdfViewer.annotManager.getAnnotFlag(this.annot)}},{key:"groupMoveDisabled",value:function(){var e=!1;return this.annot&&this.annot.isGrouped&&this.annot.isGrouped()&&this.annot.groupElements.map((function(t){var n=t.getType();"strikeout"!==n&&"highlight"!==n&&"squiggly"!==n&&"underline"!==n||(e=!0)})),e}},{key:"setVisibleRect",value:function(e){this.visibleRect=e}},{key:"invisibleRender",value:function(){}},{key:"clearCache",value:function(){}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;if(!this.annot)return null;var n=this.annot.getDeviceRect(e,this.rotate),i=this.getRect(),r=this.annot.page,o=this.pdfViewer.getSmartScale(e);return{annotInfo:this.annot.info,annotFlag:this.getAnnotFlag(),smartScale:o,rect:i,outerDeviceRect:n,innerDeviceRect:this.annot.getInnerRect?this.annot.getDeviceInnerRect(e,t):n,engineRenderingRect:r.getDeviceRect(i,o,t),scale:e,rotate:t,page:this.annot.page}}},{key:"toImageURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}},t=this.annot.page,n=this.pdfViewer.getSmartScale(this.scale),i=this.annot.getDeviceRect(1,this.rotate);return t.getAnnotBitmap(this.annot.objectNumber,(0,G.F2)(n),this.rotate,e(i,this,this.scale,this.rotate),!0).then((function(e){var t=e.width,n=e.height,i=e.buffer,r=(e.image,e.type,e.url),o=document.createElement("canvas");o.width=t,o.height=n;var a=o.getContext("2d");if(r)return new Promise((function(e){var t=new Image;t.onload=function(){a.drawImage(t,0,0),e(o.toDataURL())},t.src=r}));var s=new(Uint8ClampedArray||Uint8Array)(i),c=a.createImageData(t,n);return c.data.set(s),a.putImageData(c,0,0),o.toDataURL()}))}},{key:"activeTooltip",value:function(e){var t=this;if(-1===["link","screen"].indexOf(this.annot.getType())){var n=this.annot.isGrouped&&this.annot.isGrouped()?this.annot.getGroupHeader():this.annot,i="widget"===this.annot.getType()?this.eHandler:this.eUi,r="",o=0,a=0,s=document.createElement("div");document.getElementsByClassName("fv_viewer-tooltip-container").length>0&&(r=document.getElementsByClassName("fv_viewer-tooltip-container")[0]);var c=function(e){var t=document.documentElement.clientHeight,n=r.getBoundingClientRect().width,i=r.getBoundingClientRect().height,o=e.clientX+10,a=e.clientY+10;return document.documentElement.clientWidth-e.clientX<n+10&&(o-=n+10),t-a<i&&(a=e.clientY-e.layerY-i),{x:o,y:a}},u=function(e){clearTimeout(t.tooltipTimer),r.classList.remove("tooltip-active"),r.classList.add("tooltip-unactive")},l=function(e){if("widget"===t.annot.getType()){var i=n.getField();if(!i.getAlternateName())return;document.getElementsByClassName("fv_viewer-tooltip-title")[0].innerHTML="",document.getElementsByClassName("fv_viewer-tooltip-content")[0].innerText=i.getAlternateName()}else{var o=t.annot.getTitle(),a=t.annot.getContent();if(!o)return;document.getElementsByClassName("fv_viewer-tooltip-title")[0].innerHTML=o,document.getElementsByClassName("fv_viewer-tooltip-content")[0].innerText=a}var s,u;s=c(e).x,u=c(e).y,r.style.left=s+"px",r.style.top=u+"px",r.classList.remove("tooltip-unactive"),r.classList.add("tooltip-active")};this.lastPos=this.lastPos||{x:0,y:0};var A=function(e){var n=e.clientX,i=e.clientY;if(o=t.lastPos.x,a=t.lastPos.y,o&&Math.abs(n-o)>2&&Math.abs(i-a)>2)return t.lastPos.x=n,t.lastPos.y=i,void u();clearTimeout(t.tooltipTimer),t.tooltipTimer=setTimeout((function(){t.lastPos.x=n,t.lastPos.y=i,l(e)}),500)};if(function(){if(!(document.getElementsByClassName("fv_viewer-tooltip-container").length>0)){s.classList.add("fv_viewer-tooltip-container"),s.classList.add("tooltip-unactive");var e="";e+='<div class="fv_viewer-tooltip-title"> '+n.getTitle()+"</div>",e+='<div class="fv_viewer-tooltip-content"></div>',s.innerHTML=e,s.querySelector(".fv_viewer-tooltip-content").innerText=" "+n.getContent(),document.getElementsByTagName("body")[0].appendChild(s),r=document.getElementsByClassName("fv_viewer-tooltip-container")[0]}}(),"widget"==this.annot.getType())return i.addEventListener("mousemove",A),i.addEventListener("mouseout",u),void this.addDestroyHook((function(){i.removeEventListener("mousemove",A),i.removeEventListener("mouseout",u)}));if(e)return A(e),u;u()}}},{key:"bindAnnotMouseEvents",value:function(){var e=this;if("widget"==this.annot.getType()){var t,n=this.annot.isGrouped&&this.annot.isGrouped()?this.annot.getGroupHeader():this.annot,i=this.eHandler;i.addEventListener("mousemove",this.mouseEnterListener=function(i){e.pdfViewer.config.showFormFieldTooltip&&"widget"===n.getType()&&(t=e.pdfViewer.customs.AnnotTooltip?new e.pdfViewer.customs.AnnotTooltip(e.pdfViewer,n):new bi(n)).show(i.clientX,i.clientY)}),i.addEventListener("mouseout",this.mouseLeaveListener=function(e){t&&t.hide()}),this.addDestroyHook((function(){i.removeEventListener("mousemove",e.mouseEnterListener),i.removeEventListener("mouseout",e.mouseLeaveListener)}))}}},{key:"collaborate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nd.UPDATE_ANNOT;if(this.pdfViewer.customs.isCollaborationMode&&this.pdfViewer.customs.isCollaborationMode())return e===Nd.UPDATE_ANNOT?this.pdfViewer.collaborate(e,{annots:[this.annot.exportToJSON()]}):void 0}},{key:"getPropertyOptions",value:function(){return{}}},{key:"isFormControl",value:function(){return!1}},{key:"updateOnPermissionChange",value:function(e){var t=this;return(0,P._)((function(){var n,i;return(0,L.Jh)(this,(function(r){switch(r.label){case 0:return t.isDestroyed?[2]:W.Lazy.isPropertyIntialized(t,"shapeControl")?(n=!1,[4,t.groupMoveDisabled()]):[2];case 1:return r.sent()?(n=!0,[3,8]):[3,2];case 2:return e.ignorable()?[4,t.moveDisabled()]:[3,4];case 3:return n=r.sent(),[3,8];case 4:return[4,t.moveDisabled()];case 5:return(i=r.sent())?[3,7]:[4,e.isAdjustable()];case 6:i=!r.sent(),r.label=7;case 7:n=i,r.label=8;case 8:return t.pdfViewer.currentPDFDoc.readonly().then((function(e){e&&(n=!0);var i=t.shapeControl;n?i.disable():i.enable()})),[2]}}))}))()}},{key:"bindDoubleTab",value:function(){var e=this,t=function(t){e.pdfViewer.eventEmitter.emit(se.doubleTapAnnotation,e.parent(),t),e.annotsRender.doubleTapAnnot(e.annot.id)};if(W.isTouchDevice&&(W.isSafari||W.isChrome)){var n=(0,W.onTap)({target:this.$handler[0],onDoubleTap:function(e){t(e)}});this.addDestroyHook(n)}else{var i=new Hammer.Manager(this.$handler[0]);i.add(new Hammer.Tap({event:"doubletap",taps:2})),i.add(new Hammer.Tap({event:"singletap"})),i.get("doubletap").recognizeWith("singletap"),i.get("singletap").requireFailure("doubletap"),i.on("doubletap",(function(e){t(e)})),this.addDestroyHook((function(e){return i.destroy()}))}}},{key:"needToggleView",value:function(){if(this.isDestroyed||!this.annot)return!1;var e=this.getAnnotFlag();return!(!e.checkToggleNoView()||e.checkHidden())}},{key:"shouldRenderByMouseEvent",value:function(){var e=this.getAnnotFlag();return this.renderAppearanceType===Oe.ROLLOVER?e.checkNoView():!e.checkNoView()}},{key:"mouseEnter",value:function(){this.needToggleView()&&(this.renderAppearanceType=Oe.ROLLOVER,this.redraw(!0))}},{key:"mouseLeave",value:function(){this.needToggleView()&&this.pdfViewer.currentPDFDoc&&(this.renderAppearanceType=Oe.NORMAL,this.redraw(!0))}},{key:"mouseMove",value:function(e,t){var n=this;e.forEach((function(e){var i=n.annotsRender._finAnnotRenderById(e.getId());if(i){var r=i.component;r.renderAppearanceType=t===Yd?Oe.ROLLOVER:Oe.NORMAL,r.redraw(!0)}}))}},{key:"hasFocus",value:function(){return this.$handler[0]===document.activeElement}},{key:"requestFocus",value:function(){this.$handler.focus(),this.statusService.focusOn(this)}},{key:"isVisible",value:function(){return this.$handler.is(":visible")}},{key:"onBlur",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function i(){n&&this.$handler.off("blur",i),e()}return this.$handler.on("blur",i),function(){t.$handler.off("blur",i)}}}]),n}(Q);const qd=Jd;var Kd,Zd="annotComponent",Xd={properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(e,t,n,i){this.data(Zd).showPropertiesDialog(e,t,n,i)}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(Zd).removeAnnot()},disabled:function(){return this.data(Zd).deleteDisabled()}}};!function(e){e.viewport="viewport",e.page="offset-page",e.scroll="scroll",e.pdf="pdf"}(Kd||(Kd={}));n(6608);var Qd,eh=function(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:Xd,events:{show:function(){return this.data(Zd).updateDeleteStatus(!0),!0},hide:function(){return this.data(Zd).updateDeleteStatus(!1),!0}}}}(),th=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;(0,C._)(this,n),a=t.call(this,e,i,r,o),(0,z._)((0,x._)(a),"formFillerService",void 0),(0,z._)((0,x._)(a),"isDesignMode",!1),(0,z._)((0,x._)(a),"initDefer",new W.Defer),a.annotRender=o,a.formFillerService=a.pdfViewer.getFormFillerService();var s,c=(0,x._)(a),u=(0,x._)(a);return a.addDestroyHook(a.formFillerService.onClickWidget((s=(0,P._)((function(e){var t;return(0,L.Jh)(this,(function(n){return(0,un.isSameAnnotId)(c.annot.getWidgetId(),e)&&(t=c.annot.getField())&&(t.getType()===wr.FieldType.Sign||c.canAnswer())?(c.handleOnClick(),[2]):[2]}))})),function(e){return s.apply(this,arguments)})),a.formFillerService.onRightClickWidget(function(){var e=(0,P._)((function(e,t){var n,i,r,o,a,s,c;return(0,L.Jh)(this,(function(l){switch(l.label){case 0:return(0,un.isSameAnnotId)(u.annot.getWidgetId(),e)&&(n=u.annot.getField())?(i=!1,n.getType()!==wr.FieldType.Sign?[3,5]:[4,n.isSigned()]):[2];case 1:return l.sent()?(r=!1,[3,4]):[3,2];case 2:return[4,n.isReadonly()];case 3:r=l.sent(),l.label=4;case 4:return i=r,[3,7];case 5:return u.canAnswer()?[4,n.isReadonly()]:[2];case 6:i=l.sent(),l.label=7;case 7:return i?[2]:[4,(o=u.annotRender.parent("pdfPageRender")).transformPDFPointToDestType({point:{x:t.left,y:t.top},type:Kd.viewport,scale:o.scale,rotate:o.rotate})];case 8:return a=l.sent(),s=a.x,c=a.y,u.showContextMenu(s,c),[2]}}))}));return function(t,n){return e.apply(this,arguments)}}()),a.pdfViewer.addEventListener(se.permissionChanged,(function(){}))),a.pdfViewer.getFormFillerService().needToResolveFocusIssue()&&a.resolveFocusIssue(e),a}return(0,D._)(n,[{key:"resolveFocusIssue",value:function(e){var t=this,n=e.getField();switch(null==n?void 0:n.getType()){case wr.FieldType.ComboBox:case wr.FieldType.Text:break;default:return}if(!(null==n?void 0:n.getExtType().isDateOrTime)){var i=this.pdfViewer.getIoC().getInstanceByClass(Uo);this.addDestroyHook(i.delegate(document.body,"pointerdown",(function(i){if(!!!(n.getFlags()&wr.FieldFlag.ReadOnly)){if(n.getType()===wr.FieldType.ComboBox)if(!!!(n.getFlags()&wr.FieldFlag.ComboEdit))return;var r=(0,W.getClientX)(i),o=(0,W.getClientY)(i),a=t.annotsRender.pageRender.transformPointIntoPDFPointSync(e.page,{point:{x:r,y:o},type:Kd.viewport}),s=a.x,c=a.y,u=e.getRect();if(s>=u.left&&s<=u.right&&c<=u.top&&c>=u.bottom){var l=document.createElement("input");l.style.cssText="\n                        position: 'fixed';\n                        left: 0;\n                        top: 0;\n                        width: 1px;\n                        height: 1px;\n                        opacity: 0.01;\n                    ",document.body.appendChild(l),l.focus(),l.addEventListener("blur",(function(){document.body.removeChild(l)}))}}})))}}},{key:"canAnswer",value:function(){var e=this.pdfViewer.getCurrentPDFDoc();return!!e&&!!(e.checkPermission(Qt.annotForm)&&e.checkPermission(Qt.fillForm)&&e.checkPermission(Qt.modify))}},{key:"init",value:function(){var e=this;return(0,P._)((function(){var t;return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[4,e.createFillerModeContextMenu()];case 1:return e.normalContextmenu=n.sent(),[4,e.createDesignModeContextMenu()];case 2:return e.designerContextmenu=n.sent(),null===(t=e.designerContextmenu)||void 0===t||t.retire(),e.addDestroyHook((function(){var t,n;null===(t=e.normalContextmenu)||void 0===t||t.destroy(),null===(n=e.designerContextmenu)||void 0===n||n.destroy()})),e.initDefer.resolve(),[2]}}))}))()}},{key:"toggleDesignMode",value:function(e){var t=this;return(0,P._)((function(){var n,i,r,o;return(0,L.Jh)(this,(function(a){switch(a.label){case 0:return t.isDesignMode=e,t.initDefer.isSettled?[3,2]:[4,t.initDefer.promise];case 1:a.sent(),a.label=2;case 2:return e?(null===(n=t.normalContextmenu)||void 0===n||n.retire(),null===(i=t.designerContextmenu)||void 0===i||i.restore()):(null===(r=t.normalContextmenu)||void 0===r||r.restore(),null===(o=t.designerContextmenu)||void 0===o||o.retire()),[2]}}))}))()}},{key:"createFillerModeContextMenu",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){return[2,e.pdfViewer.viewerUI.createContextMenu(e,e.eHandler,e.getContextMenuConfig())]}))}))()}},{key:"createDesignModeContextMenu",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){return[2,e.createFillerModeContextMenu()]}))}))()}},{key:"showContextMenu",value:function(e,t){var n=this.isDesignMode?this.designerContextmenu:this.normalContextmenu;return!!n&&(n.setCurrentTarget(this),n.showAt(e,t))}},{key:"getContextMenuConfig",value:function(){var e=this.constructor.getDefaultContextMenuConfig();for(var t in e)if("items"===t){var n=e[t],i=this.pdfViewer.i18n;for(var r in n){var o=n[r];o.nameI18nKey&&(o.name=i.t(o.nameI18nKey))}}return e}},{key:"isFormControl",value:function(){return!0}},{key:"hasFocus",value:function(){var e=this.formFillerService.focusOnControl;if(!e)return!1;var t=this.annot;return e.objNumber==t.getObjectNumber()&&e.pageIndex==t.getPage().getIndex()}},{key:"requestFocus",value:function(){var e=this.annot.getAnnotId();return this.formFillerService.setFocus(e)}},{key:"onBlur",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.formFillerService.onFocusChange((function(r,o){t.isDestroyed?i():o&&o.objNumber===t.annot.getObjectNumber()&&o.pageIndex===t.annot.getPage().getIndex()&&(e(),n&&i())}));return i}},{key:"isVisible",value:function(){return!0}},{key:"handleOnMouseUp",value:function(e){}},{key:"handleOnMouseDown",value:function(e){}},{key:"handleOnKeyDown",value:function(e){return Promise.resolve()}},{key:"handleOnKeyUp",value:function(e){return Promise.resolve()}},{key:"handleOnClick",value:function(){}},{key:"handleOnMouseOver",value:function(){}},{key:"handleOnMouseLeave",value:function(){}},{key:"handleOnGotFocus",value:function(){return(0,P._)((function(){return(0,L.Jh)(this,(function(e){return[2]}))}))()}},{key:"handleOnLostFocus",value:function(){}},{key:"unActive",value:function(){(0,E._)((0,S._)(n.prototype),"unActive",this).call(this);var e=this.annotRender,t=this.annotsRender;this.pdfViewer.eventEmitter.emit(se.unActiveAnnotation,e,this.annot.getObjectNumber(),t)}},{key:"isXFADoc",value:function(){var e=this.annot.getPage().doc;return!(e.isStaticXFA()&&!e.isXFARemoved())}},{key:"active",value:function(){this.isDesignMode&&this.isXFADoc()&&(0,E._)((0,S._)(n.prototype),"active",this).call(this)}},{key:"doRemoveAnnot",value:function(){var e=this;return(0,P._)((function(){var t;return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return e.isActive&&(t=e.pdfViewer.getCurrentActivatable(),(0,T._)(t,K)&&t.remove(e)),[4,e.annot.remove()];case 1:return n.sent(),e.destroy(),[2]}}))}))()}},{key:"moveDisabled",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){return 32&e.docRender.getUserPermission().getValue()?e.getAnnotFlag().checkLocked()?[2,!0]:e.isDesignMode&&e.annot.getField()?[2,!1]:[2,!0]:[2,!0]}))}))()}},{key:"canRemoveFocus",value:function(e){return!!this.isDesignMode||(!this.normalContextmenu||!(this.normalContextmenu.currentTarget===this&&this.normalContextmenu.isVisible))}}],[{key:"getDefaultContextMenuConfig",value:function(){return eh}}]),n}(qd),nh=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;return(0,C._)(this,n),e=t.apply(this,arguments),(0,z._)((0,x._)(e),"eventEmitter",new _o.EventEmitter),(0,z._)((0,x._)(e),"focusAnnot",void 0),(0,z._)((0,x._)(e),"cleanupLastFocusAnnot",void 0),e}return(0,D._)(n,[{key:"formFillerService",get:function(){return this.pdfViewer.getFormFillerService()}},{key:"allInjected",value:function(){var e=this;this.addDestroyHook(this.pdfViewer.addEventListener(se.willCloseDocument,(function(){e.focusOn(void 0)})),this.formFillerService.onFocusChange((function(t){if(t){var n=e.pdfViewer.getPDFDocRender().getPDFPageRender(t.pageIndex).getAnnotRender(t.objNumber).component;e.focusOn(n)}})))}},{key:"focusOn",value:function(e){var t,n=this;null===(t=this.cleanupLastFocusAnnot)||void 0===t||t.call(this),this.eventEmitter.emit("changed",e,this.focusAnnot),this.focusAnnot=e,(0,T._)(e,th)&&e.isDesignMode||(this.cleanupLastFocusAnnot=null==e?void 0:e.onBlur((function(){n.focusAnnot===e&&n.focusOn(void 0)}),!0))}},{key:"onFocusChange",value:function(e){var t=this;return this.eventEmitter.on("changed",e),function(){t.eventEmitter.off("changed",e)}}}],[{key:"inject",value:function(){return{pdfViewer:eM}}}]),n}(W.Disposable);!function(e){e[e.FROM_NEXT=0]="FROM_NEXT",e[e.FROM_PREV=1]="FROM_PREV"}(Qd||(Qd={}));var ih={"aria-hidden":"true",style:"position: fixed;top: 50%;left:50%;width:0;height:0;opacity: 0;pointer-events:none",tabindex:0},rh=(W.LoggerFactory.getLogger("AnnotTabManager"),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;(0,C._)(this,n),i=t.call(this),(0,z._)((0,x._)(i),"pageRender",void 0),(0,z._)((0,x._)(i),"currentOrderedAnnotComponents",void 0),(0,z._)((0,x._)(i),"jumpPrevElement",void 0),(0,z._)((0,x._)(i),"jumpNextElement",void 0),(0,z._)((0,x._)(i),"taskExecutor",void 0),(0,z._)((0,x._)(i),"annotStatusServie",void 0),i.pageRender=e,i.jumpPrevElement=document.createElement("div"),i.jumpNextElement=document.createElement("div"),i.taskExecutor=new W.QueuedAsyncTaskExecutor;var r=i.pageRender.pdfViewer;i.annotStatusServie=i.pageRender.pdfViewer.getIoC().getInstanceByClass(nh);var o=(0,x._)(i);for(var a in W.Lazy.property((0,x._)(i),"currentOrderedAnnotComponents",(0,P._)((function(){return(0,L.Jh)(this,(function(e){switch(e.label){case 0:return[4,o.updateAnnots()];case 1:return[2,e.sent()]}}))}))),ih)i.jumpNextElement.setAttribute(a,ih[a]),i.jumpPrevElement.setAttribute(a,ih[a]);var s,c=(0,x._)(i),u=(s=(0,P._)((function(e){return(0,L.Jh)(this,(function(t){switch(t.label){case 0:if(!e.relatedTarget)return[2];t.label=1;case 1:return t.trys.push([1,,6,7]),r.toggleMuiltiSelection(!1),c.currentFocusOnAnnotComponent?[3,3]:[4,c.jumpToNext()];case 2:return t.sent(),[3,5];case 3:return[4,c.jumpToPrev()];case 4:t.sent(),t.label=5;case 5:return[3,7];case 6:return r.toggleMuiltiSelection(!0),[7];case 7:return[2]}}))})),function(e){return s.apply(this,arguments)}),l=(0,x._)(i),A=function(){var e=(0,P._)((function(e){return(0,L.Jh)(this,(function(t){switch(t.label){case 0:if(!e.relatedTarget)return[2];t.label=1;case 1:return t.trys.push([1,,3,4]),r.toggleMuiltiSelection(!1),[4,l.jumpToNext()];case 2:return t.sent(),[3,4];case 3:return r.toggleMuiltiSelection(!0),[7];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),d=function(e){i.currentFocusOnAnnotComponent&&e.preventDefault()},h=(0,x._)(i);return i.addDOMEvent(i.pageRender.$element.get(0),"keydown",function(){var e=(0,P._)((function(e){var t,n,i,r,o,a,s,c,u,l,A,d,f;return(0,L.Jh)(this,(function(p){switch(p.label){case 0:if(t=h.pageRender.pdfViewer.getFormFillerService(),e.target!==t.virtualWidgetElement&&(0,W.isEditableElement)(e.target))return[2];if(n=W.matchers.ArrowLeft,i=W.matchers.ArrowRight,r=W.matchers.ArrowDown,o=W.matchers.ArrowUp,a=W.matchers.or,(0,W.isMatch)(e,a(n,o)))s=0;else{if(!(0,W.isMatch)(e,a(i,r)))return[2];s=1}return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?[2]:(0,T._)(h.currentFocusOnAnnotComponent,th)?(c=h.currentFocusOnAnnotComponent,u=c.getPDFAnnot(),(l=u.getField())?[4,l.getWidgetsCount()]:[2]):[2];case 1:return A=p.sent(),[4,Promise.all(Array.from({length:A},(function(e,t){return l.getControl(t)})))];case 2:return(d=p.sent()).length<2?[2]:[4,Promise.all(d.map((function(e){return e.getWidgetAnnot()})))];case 3:return f=p.sent(),h.taskExecutor.exec((0,P._)((function(){var e,t,n,i,r,o,a,c;return(0,L.Jh)(this,(function(l){switch(l.label){case 0:if(e=f.indexOf(u),(t=0===s?e-1:e+1)>=f.length&&(t=0),t<0&&(t=f.length-1),n=f[t],i=h.pageRender.pagesRender,n)return[3,5];r=h.pageRender.index,o=h.pageRender.pagesRender.pageRenders.length,l.label=1;case 1:return n?[3,5]:((a=0===s?r-1:r+1)>=o&&(a=0),a<0&&(a=o-1),[4,i.getPDFPageRender(a).getPDFPage()]);case 2:return[4,l.sent().getAnnots()];case 3:return l.sent(),[4,d[t].getWidgetAnnot()];case 4:return n=l.sent(),(r=a)===h.pageRender.index?(n=f[0],[3,5]):[3,1];case 5:return(c=i.getPDFPageRender(n.page.getIndex())).isRendered?[3,7]:[4,h.pageRender.pdfViewer.goToPage(c.index)];case 6:l.sent(),l.label=7;case 7:return c.isRendered?[3,9]:[4,new Promise((function(e){return setTimeout(e,10)}))];case 8:return l.sent(),[3,7];case 9:return c.getAnnotRender(n.getObjectNumber()).component.requestFocus(),[2]}}))}))),e.stopPropagation(),e.preventDefault(),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),!0),i.addDOMEvent(i.jumpPrevElement,"focus",u),i.addDOMEvent(i.jumpPrevElement,"keydown",d),i.addDOMEvent(i.jumpNextElement,"focus",A),i.addDOMEvent(i.jumpNextElement,"keydown",d),i.addViewerEvent(se.activeAnnotation,(function(e){var t=e.component;t!==i.currentFocusOnAnnotComponent&&t.getPDFPage().getIndex()===i.pageRender.index&&i.taskExecutor.exec((function(){return i.currentOrderedAnnotComponents.then((function(e){-1!==e.indexOf(t)&&i.annotStatusServie.focusOn(t)}))}))})),i.addViewerEvent(ae.Z.docModified,(function(){W.Lazy.reset((0,x._)(i),"currentOrderedAnnotComponents")})),i.addViewerEvent(se.switchStateHandler,(function(){W.Lazy.reset((0,x._)(i),"currentOrderedAnnotComponents")})),i.addDestroyHook((function(){i.taskExecutor.cancel()})),i}return(0,D._)(n,[{key:"currentFocusOnAnnotComponent",get:function(){return this.annotStatusServie.focusAnnot}},{key:"addDOMEvent",value:function(e,t,n,i){e.addEventListener(t,n,i),this.addDestroyHook((function(){e.removeEventListener(t,n,i)}))}},{key:"addViewerEvent",value:function(e,t){var n=this.pageRender.pdfViewer.eventEmitter;n.on(e,t),this.addDestroyHook((function(){n.off(e,t)}))}},{key:"updateAnnots",value:function(){var e=this,t=this.pageRender;t.docRender,t.pdfViewer.getFormFillerService().getDesignMode();return(t.annotsRender?t.getPDFPage():t.render(t.pagesRender.getPageScaleSync(t.index,t.docRender.getScale())).then((function(){return t.getPDFPage()}))).then((function(t){return t.getAnnotIdArrayByOrder().then((function(e){return t.getAnnotsByObjectNumArray(e)})).then((function(t){return t.filter((function(e){return!(!(0,T._)(e,Cr)||!e.getField())})).map((function(t){var n=e.pageRender.getAnnotRender(t.getObjectNumber());return n&&n.component})).filter((function(e){return e.isVisible()})).filter((function(e){return!(0,T._)(e,th)||(!!e.isDesignMode||!((e.annot.getField().getFlags()&vn.ReadOnly)===vn.ReadOnly))}))}))}))}},{key:"getFocusOnAnnotComponent",value:function(){return this.currentOrderedAnnotComponents.then((function(e){return e.find((function(e){return e.hasFocus()}))}))}},{key:"jumpToNext",value:function(){var e=this;return this.taskExecutor.exec((function(){return e.currentOrderedAnnotComponents.then((function(t){if(!(t.length<1)){var n,i=e.pageRender.index,r=e.pageRender.docRender;if(e.currentFocusOnAnnotComponent){var o=t.indexOf(e.currentFocusOnAnnotComponent);if(!(n=t[o+1])){var a=r.getPDFPageRender(i+1);if(a)return e.jumpToPage(a.index,1);var s=0;return 0!==i&&i!==r.doc.getPageCount()-1||(s=1),e.jumpToPage(0,s)}}else n=t[0];return n?n.requestFocus():void 0}}))}))}},{key:"jumpToPrev",value:function(){var e=this;return this.taskExecutor.exec((function(){return e.currentOrderedAnnotComponents.then((function(t){var n=t.length;if(!(n<1)){var i,r=e.pageRender.index,o=e.pageRender.docRender;if(e.currentFocusOnAnnotComponent){var a=t.indexOf(e.currentFocusOnAnnotComponent);if(!(i=t[a-1])){var s=r-1;if(-1===s){var c=o.getPDFDoc().getPageCount()-1;return e.jumpToPage(c,0)}return e.jumpToPage(s,0)}}else i=t[n-1];return i?i.requestFocus():void 0}}))}))}},{key:"jumpFromPrevPage",value:function(){return this.currentOrderedAnnotComponents.then((function(e){return!!e[0]&&(e[0].requestFocus(),!0)}))}},{key:"jumpFromNextPage",value:function(){return this.currentOrderedAnnotComponents.then((function(e){var t=e[e.length-1];return!!t&&(t.requestFocus(),!0)}))}},{key:"jumpToPage",value:function(e,t){var n=this;return(0,P._)((function(){var i,r,o,a,s,c,u;return(0,L.Jh)(this,(function(l){switch(l.label){case 0:i=n.pageRender.pdfViewer,r=n.pageRender.docRender,o=r.doc.getPageCount(),s=(a=0===t)?-1:1,c=e,l.label=1;case 1:return[4,(u=r.getPDFPageRender(c)).tabManager.currentOrderedAnnotComponents];case 2:return 0!==l.sent().length?[3,3]:(c=(c+s+o)%o)===e?(u=r.getPDFPageRender(c),[3,3]):[3,1];case 3:return c===r.getCurrentPageIndex()?[3,5]:[4,i.goToPage(c)];case 4:l.sent(),l.label=5;case 5:return a?[4,u.tabManager.jumpFromNextPage()]:[3,7];case 6:return l.sent(),[3,9];case 7:return[4,u.tabManager.jumpFromPrevPage()];case 8:l.sent(),l.label=9;case 9:return[2]}}))}))()}},{key:"render",value:function(){this.pageRender.$ui.prepend(this.jumpPrevElement),this.pageRender.$element.append(this.jumpNextElement)}}]),n}(W.Disposable));const oh=new(function(){function e(){(0,C._)(this,e),this._oom=!1}return(0,D._)(e,[{key:"set",value:function(){this._oom=!0}},{key:"reset",value:function(){this._oom=!1}},{key:"isOutOfMemory",value:function(){return this._oom}},{key:"rescue",value:function(e){}}]),e}());var ah=function(){},sh=Math.min,ch=Math.max,uh=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;(0,C._)(this,n),(a=t.call(this,o)).isRendered=!1,a.renderedDefered=(0,W.createDeferred)(),a.name=n.getDefaultName(),a.$ui=e,a.$element=e.parent(),a.index=i,a.renderCount=0,e.attr("data-index",i),a.pagesRender=o,a.docRender=o.docRender,a.viewerRender=a.docRender.viewerRender,a.intersectionState=new W.ValueStore,a.unObserveIntersectionObserver=a.docRender.intersectionObserver.observe(a.$element.get(0),(function(e,t,n){a.isDestroyed||a.docRender.isDestroyed||(a.intersectionState.dispatch(n),a.docRender._updateVisiblePageRenders((0,x._)(a),t),e.classList.toggle("fv__pdf-invisible-page-item",!t))})),a.unObservePageLayoutIntersectionObserver=a.docRender.intersectionObserver.observe(a.$ui.get(0),(function(e,t){a.pageAreaIsVisible=t}));var s=e[0];a.$rendering=j()(s.querySelector(".fv__pdf-page-rendering")),a.$container=j()(s.querySelector(".fv__pdf-page-container")),a.$container[0].setAttribute("data-index",i),a.$annotsContainer=j()(s.querySelector(".fv__pdf-page-annots-container")),a.$customsContainer=j()(s.querySelector(".fv__pdf-page-customs-container"));var c=a.$handler=j()(s.querySelector(".fv__pdf-page-handler-container"));a.$invisible=j()(s.querySelector(".fv__pdf-invisible-page-container")),a.pageHandler=new eo(c,(0,x._)(a)),a.doc=r,a.scale=1,a.rotate=o.rotate;var u,l=a.pdfViewer.customs||{};return a.pdfPageRendering=new(l.PDFPageRendering||Y)(a.$rendering[0],(0,x._)(a)),a.pageCustomRender=new(l.PageCustomRender||J)(s.querySelector(".fv__pdf-custom-page-container"),(0,x._)(a)),a.renderFlags=7,a.renderingDeferreds=[],a.followRenderDeferreds=[],a.watermarkConfig=null,a.excluedHighlights=[],a.annotsRenderDeferred=(0,W.createDeferred)(),a.pageActionExecutedState=(u={},(0,z._)(u,wr.ActionTriggerEvents.ANNOT_PAGE_VISIBLE,!1),(0,z._)(u,wr.ActionTriggerEvents.ANNOT_PAGE_INVISIBLE,!1),(0,z._)(u,wr.ActionTriggerEvents.ANNOT_PAGE_OPENED,!1),(0,z._)(u,wr.ActionTriggerEvents.ANNOT_PAGE_CLOSED,!1),u),a.$element.attr({tabindex:"-1","aria-busy":!0,role:"region","aria-label":a.pdfViewer.i18n.t("viewer_:aria.pdf.page",{number:a.index+1})}),a.$ui.addClass("fv__pdf-page-not-rendered"),W.Lazy.property((0,x._)(a),"tabManager",(function(){var e=new rh((0,x._)(a));return a.addDestroyHook(e),e})),a.$annotsContainer.on("pointerdown",a.pointerdownFn=function(e){var t=e.target.classList;(t.contains("fv__pdf-annot-line-point-item")||t.contains("fv__shape-control-move-area")||t.contains("fv__shape-controller"))&&(a.pdfViewer.setEnableScale(!1),document.addEventListener("pointerup",a.pointerupFn=function(e){a.pdfViewer.setEnableScale(!0)},{once:!0}))}),a}return(0,D._)(n,[{key:"getHandlerDOM",value:function(){return this.$handler.get(0)}},{key:"clearCanvasCache",value:function(e){this.pageContentTiles&&this.pageContentTiles.invisibleRender(e),this.showWidth=this.showHeight=void 0,this.scale=this.zoomingScale=void 0}},{key:"updateRenderFlags",value:function(e){this.renderFlags=this.renderFlags|e}},{key:"updateRenderFlagsByScaleAndRotate",value:function(e,t){Math.abs(e-this.scale)>1e-6||t!==this.rotate?this.updateRenderFlags(7):this.updateRenderFlags(0)}},{key:"checkRenderLayoutFlags",value:function(){return 4==(4&this.renderFlags)}},{key:"resetRenderLayoutFlags",value:function(){this.renderFlags&=-5}},{key:"checkRenderContainerFlags",value:function(){return this.checkRenderContentFlags()||this.checkRenderAnnotFlags()||this.checkRebuildAnnotFlags()}},{key:"checkRenderContentFlags",value:function(){return 2==(2&this.renderFlags)}},{key:"resetRenderContentFlags",value:function(){this.renderFlags&=-3}},{key:"checkRenderAnnotFlags",value:function(){return 1==(1&this.renderFlags)}},{key:"resetRenderAnnotFlags",value:function(){this.renderFlags&=-2,this.resetRebuildAnnotFlags()}},{key:"checkRenderCustomFlags",value:function(){return 16==(16&this.renderFlags)}},{key:"resetRenderCustomFlags",value:function(){this.renderFlags&=-17,this.resetRebuildCustomFlags()}},{key:"checkRebuildAnnotFlags",value:function(){return 8==(8&this.renderFlags)}},{key:"resetRebuildAnnotFlags",value:function(){this.renderFlags&=-9}},{key:"checkRebuildCustomFlags",value:function(){return 32==(32&this.renderFlags)}},{key:"resetRebuildCustomFlags",value:function(){this.renderFlags&=-33}},{key:"setStateHandler",value:function(e){if(this.stateHandler){if(this.stateHandler.constructor.getStateName()===e.getStateName())return;this.stateHandler.destroyPageHandler()}(this.stateHandler=new e(this.pdfViewer)).pageHandler(this)}},{key:"updateIndex",value:function(e){this.index!==e&&(this.index=e,this.$ui.attr("data-index",e),this.$container.attr("data-index",e),this.$element.attr("aria-label",this.pdfViewer.i18n.t("aria.pdf.page",{number:this.index+1})))}},{key:"getPDFPage",value:function(){var e=this;return this.page?Promise.resolve(this.page):this.doc?this.doc.getPageByIndex(this.index).then((function(t){return e.page=t,t.isVirtual()&&e.handleVirtualPage(),t})):Promise.resolve(null)}},{key:"handleVirtualPage",value:function(){this.$ui.addClass("fv__virtual-pdf-page")}},{key:"getPDFDoc",value:function(){return this.doc}},{key:"getAnnotRender",value:function(e){try{return this.annotsRender&&this.annotsRender.getAnnotRender(e)}catch(e){return console.error(e),null}}},{key:"getAnnotRenderSafely",value:function(e){var t=this;return this.annotsRender?Promise.resolve(this.annotsRender.getAnnotRenderSafely(e)):this.getPDFPage().then((function(e){return e.getAnnots()})).then((function(e){return new Or(t.$annotsContainer,e,t)})).then((function(t){return t.getAnnotRenderSafely(e)}))}},{key:"getAnnotsRenderSafely",value:function(){var e=this;return this.getPDFPage().then((function(e){return e.getAnnots()})).then((function(t){return Promise.resolve(new Or(e.$annotsContainer,t,e))}))}},{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;if(this.endRender(),this.isDestroyed)return this.renderSerialPromise?this.renderSerialPromise.end():Promise.resolve();var i=this.renderSerialPromise;0===this.renderCount&&this.rendering(t),this.updateRenderFlagsByScaleAndRotate(t,n);this.scale;this.scale=t,this.rotate=n;var r=!this.renderCount;return this.renderCount++,this.pdfViewer.eventEmitter.emit(se.beforeRenderPage,this,r),Promise.resolve(this.pageCustomRender.render(this.scale,n)).then((function(t){if(!1!==t)return(i=e.renderSerialPromise=new le(0)).push((function(){var t;if(e.checkRenderLayoutFlags()){e.resetRenderLayoutFlags();var i=e.pageTileConfigPromise=e.getPageTileConfig(e.scale,n);e.pageTileConfig=null;var r=null;if(e.pageContentTiles)"continuous-view-mode"===e.pagesRender.viewMode.constructor.getName()||e.doc.isPageSameSize()||(r=e.computePageSize(e.scale,n).then((function(t){var i=(0,R._)(t,2),r=i[0],o=i[1];return e.pagesRender.viewMode.renderViewMode(e,e.scale,n,r,o)})));else"0px"==e.$ui.css("width")&&(r=e.renderLayout(e.scale,n));t=Promise.all([i,r]).then((function(t){var n=(0,R._)(t,1)[0];return e.pageTileConfigPromise=null,e.pageTileConfig=n,n}))}else t=e.getPageTileConfig(e.scale,n);return t.then((function(t){var n=(0,R._)(t,8),i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],c=n[5],u=n[6],l=n[7],A=e.pageContentTiles;if(!A){e.pageContentTiles=A=new Jr((function(t,n,i,r,o,a){return e.getContentImageDataByTile(t,n,i,r,o,a)}),null,e,e.pdfViewer.tileCache),e.pdfViewer.webPDFSRPromise||(A.getRectBitmap=function(t,n,i,r){return e.getRectBitmap((0,G.F2)(n),t,i,r)});var d=A.$container;d.addClass("fv__pdf-page-content-container"),e.$container.append(d)}A.setRenderViewWatermark(!1);var h=e.containerVisibleRect=e.getContainerVisibleRect();A.setVisibleRect(h),A.zoomingScale=e.zoomingScale,e.checkRenderContentFlags()&&(A.clearCache(),e.resetRenderContentFlags());var f,p,v,g=(f=[],p=e.getWatermarkConfig(),v=e.docRender.getWatermarkConfig(),Array.isArray(p)&&p.length>0?f=p:p&&p.content&&p.type?f=[p]:Array.isArray(v)&&v.length>0?f=v:v&&v.content&&v.type&&((0,W.isInCloseRange)(e.index,v.pageStart,v.pageEnd),f=[v]),f.filter((function(t){var n=t.pageStart,i=t.pageEnd,r="number"==typeof n&&n>0,o="number"==typeof i&&i>0;return r&&o?(0,W.isInCloseRange)(e.index,n,i):r?e.index>=n:!o||e.index<i}))),m=[];return g.length>0?(g.forEach((function(t){if(t.content&&t.type){var n=e.watermark=new ho(o,a,s,c,t);m.push(n.getWatermarkRenderer(t))}})),Promise.all(m).then((function(t){return A.setRenderViewWatermark(t.length>0),A.setUpdateCanvasMore((function(n,i,r,o,a,s,c,u,l,A,d){t.forEach((function(e){var t=o<0?A*u:i,d=a<0?l*u:r,h=Math.min(u,s),f=Math.min(u,c),p=e.render(t,d,h,f);n.drawImage(p,i-o,r-a)})),e.renderLayoutGrid(n,i,r,o,a,s,c)})),A.redraw(i,r,o,a,s,c,u,l)}))):(e.pdfViewer.getLayoutGrid()&&A.setUpdateCanvasMore((function(t,n,i,r,o,a,s,c){e.renderLayoutGrid(t,n,i,r,o,a,s)})),A.redraw(i,r,o,a,s,c,u,l))}))})),i.push((function(){return e.checkRebuildAnnotFlags()?(e.resetRebuildAnnotFlags(),e.rebuildAnnots(e.scale,n,e.containerVisibleRect)):e.renderAnnots(e.scale,n,e.containerVisibleRect)})),i.push((function(){e.rendered(),e.renderSerialPromise=null,e.pdfViewer.eventEmitter.emit(se.renderPageSuccess,e),e.tabManager.render()})),i.push((function(){if(!e.stateHandler){var t=e.pdfViewer;(e.stateHandler=new(t.stateHandlerManager.getCurrentStates())(t)).pageHandler(e)}return Promise.resolve()})),i.exec();e.rendered()}))}},{key:"setShowWidth",value:function(e){this.showWidth=Math.max(e,.01)}},{key:"getShowWidth",value:function(){return this.showWidth}},{key:"setShowHeight",value:function(e){this.showHeight=Math.max(e,.01)}},{key:"getShowHeight",value:function(){return this.showHeight}},{key:"computePageSize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.getPDFPage().then((function(i){var r,o=function(t){var r=(0,G.ke)(i.getPxWidth(),i.getPxHeight(),t,n);return e.showWidth=null!=e.showWidth&&e.isRendered?e.showWidth:r[0],e.showHeight=null!=e.showHeight&&e.isRendered?e.showHeight:r[1],r};return"fitVisible"!==t?(r=e.pagesRender.getPageScaleSync(e.index,t,n),o(r)):e.pagesRender.getPageScale(e.index,t,n).then((function(e){return o(e)}))}))}},{key:"renderLayout",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.docRender.getScale(),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=function(i){return e.updateRenderFlagsByScaleAndRotate(i,n),e.scale=null==e.scale?i:e.scale,e.zoomingScale=null==e.zoomingScale?i:e.zoomingScale,e.rotate=n,e.computePageSize(e.scale,e.rotate).then((function(t){var n=(0,R._)(t,2),i=n[0],r=n[1];return e.pagesRender.viewMode.renderViewMode(e,e.scale,e.rotate,i,r)})).then((function(){var n=e.$ui;if(n.css({width:e.showWidth,height:e.showHeight}),e.annotsRender&&e.annotsRender.updateSize(e.scale,e.rotate),e.pageContentTiles){var i=n.find(".fv__pdf-page-content-container"),r=e.scale/e.pageContentTiles.scale;i.css("transform","scale("+r+")")}e.pdfViewer.eventEmitter.emit(se.pageLayoutRedraw,e,t,e.rotate)}))};if("fitVisible"!==t){var r=this.pagesRender.getPageScaleSync(this.index,t,n);return i(r)}return this.pagesRender.getPageScale(this.index,t,n).then((function(e){return i(e)}))}},{key:"getPageTileConfig",value:function(e,t){var n=this;return this.getPDFPage().then((function(i){var r=n.getSmartScale(e),o=n.pdfViewer.config,a=o.tileSize;o.getTileSize&&(a=o.getTileSize(n.doc,n.page));var s=i.getPxWidth(),c=i.getPxHeight(),u=(0,R._)((0,G.ke)(s,c,r,t),2),l=u[0],A=u[1];return[Math.ceil(A/a),Math.ceil(l/a),l,A,a,r,e,t]}))}},{key:"updateSize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.getPageTileConfig(t,n).then((function(t){var n=(0,R._)(t,8),i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],c=n[5],u=n[6],l=n[7],A=e.pageContentTiles;A&&A.updateDom(i,r,o,a,s,c,u,l)}))}},{key:"renderContentImage",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.getPageTileConfig(t,n).then((function(t){var n=(0,R._)(t,8),i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],c=n[5],u=n[6],l=n[7],A=e.pageContentTiles;return A?A.redraw(i,r,o,a,s,c,u,l):Promise.resolve()}))}},{key:"adjustHighlightInContentImage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if([].concat(this.excluedHighlights).sort().join()!==[].concat(e).sort().join())return this.excluedHighlights=e,this.redrawContent(!0)}},{key:"adjustHighlightAnnots",value:function(){return Promise.resolve()}},{key:"getRotatedRowAndCols",value:function(e,t,n,i,r){switch(r){case 0:return[e,t];case 90:return[t,i-e];case 180:return[n-e,i-t];case 270:return[t,e]}}},{key:"renderContentImageByTileCanvas",value:function(e,t,n,i,r,o,a,s){var c=this,u=this.pageContentTiles;if(!u){this.pageContentTiles=u=new Jr((function(e,t,n,i,r,o,a,s,u,l){return c.getContentImageDataByTile(e,t,n,i,r,o)}),null,!0);var l=u.$container;l.addClass("fv__pdf-page-content-container"),this.$container.append(l)}var A=this.getWatermarkConfig()||this.docRender.getWatermarkConfig();A&&A.content&&A.type&&(this.watermark=new ho(n,i,r,o,A.watermarkSettings,A.watermarkTextProperties)).exportDataURL({content:A.content,type:A.type}).then((function(e){var t=new Image;t.src=e,u.setUpdateCanvasMore((function(e,n,i,r,o,a){e.drawImage(t,i*a,n*a,r,o,0,0,r,o)}))}));return u.redraw(e,t,n,i,r,o,a)}},{key:"getActiveAnnotInfo",value:function(e,t){var n=this.page.annots.map((function(e){return e.info})).filter((function(t){if(-1===["popup","unknown","watermark"].indexOf(t.type))return e[0]>=t.rect.left&&e[0]<=t.rect.right&&e[1]>=t.rect.bottom&&e[1]<=t.rect.top?t:void 0}));if(t){for(var i=n[n.length-1],r=n.length-1;r>=0;r--)if("link"===n[r].type){i=n[r];break}return i}return n}},{key:"renderAnnots",value:function(e,t,n){var i=this;return Promise.resolve(i.annotsRender?i.annotsRender.render(e,t,n):Promise.resolve().then((function(e){return i.annotsRender||(i.annotsRender=new Or(i.$annotsContainer,e,i),i.annotsRenderDeferred.resolve(i.annotsRender)),i.annotsRender})).then((function(i){return i.render(e,t,n)})))}},{key:"rebuildAnnots",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.containerVisibleRect;return function(){var r;r=n.page.getAnnots(1),n.docRender.setRebuildAnnotsFlag(!0);var o=n.annotsRender;return o&&o.removeUI(),r.then((function(e){return n.annotsRenderDeferred=(0,W.createDeferred)(),n.annotsRender=new Or(n.$annotsContainer,e,n),o&&e.forEach((function(e){if(e.getType()===Xi.threeD||e.getType()===Xi.widget){var t=o.annotRenders[e.getObjectNumber()];t&&(t._parent=n.annotsRender,t.annotsRender=n.annotsRender,t.component.annotsRender=n.annotsRender,n.annotsRender.annotRenders[e.getObjectNumber()]=t,delete o.annotRenders[e.getObjectNumber()])}})),n.annotsRenderDeferred&&n.annotsRenderDeferred.resolve(),n.annotsRender})).then((function(r){return i||(i=n.containerVisibleRect=n.getContainerVisibleRect()),r.render(e,t,i)})).then((function(e){return o&&o.destroy(),e}))}()}},{key:"renderCustoms",value:function(e,t){var n=this;return this.customsRender?this.customsRender.render(e,t):this.getPDFPage().then((function(e){return n.pdfViewer.customRenderManager.getPageCustomData(e)})).then((function(e){return n.customsRender&&(n.customsRender.destroy(),n.customsRender=null),n.customsRender=n.customsRender||new vo(n.$customsContainer,e,n)})).then((function(n){return n.render(e,t)}))}},{key:"rebuildCustoms",value:function(e,t){var n=this;return this.getPDFPage().then((function(e){return n.pdfViewer.customRenderManager.getPageCustomData(e)})).then((function(e){return n.customsRender=n.customsRender||new vo(n.$customsContainer,e,n)})).then((function(n){return n.render(e,t)}))}},{key:"renderAnnot",value:function(e,t,n){return new(this.pdfViewer.annotManager.get(e.getType()))(e,this).render(t,n)}},{key:"updatePageDOMRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.doc.getPageSize(this.index);if((n||(-1===e&&(e=this.pagesRender.getEstimatedPageScaleSync(this.index,this.scale,this.rotate)),(n=this.doc.getEstimatedPageSize(this.index))&&-1!==e))&&e!=this.scale&&n){switch((t%360+360)%360){case 90:case 270:var i=n.width;n.width=n.height,n.height=i}n.width*=(0,G.F2)(1)*e,n.height*=(0,G.F2)(1)*e;var r=n;this.$ui.height()!=n.width&&(r.minHeight=40);var o=this.$ui.get(0),a=o.classList,s="fv__pdf-page-not-rendered";a.contains(s)&&a.remove(s),this.showWidth=r.width,this.showHeight=r.height,(0,W.cssText)(o,{width:Math.ceil(r.width)+"px",height:Math.ceil(r.height)+"px","min-height":r.minHeight+"px"})}}},{key:"rendering",value:function(){arguments.length>0&&void 0!==arguments[0]||this.scale,arguments.length>1&&void 0!==arguments[1]||this.rotate;this.$ui.addClass("fv__rendering"),this.pdfPageRendering.rendering()}},{key:"rendered",value:function(){var e=this;this.isDestroyed||(this.isRendered=!0,this.$ui.removeClass("fv__rendering"),this.pdfPageRendering.rendered(),this.pdfViewer.isWisWebPDFSR||this.openActionTrigged||!this.pdfViewer.enableOpenAction||this.getPDFPage().then((function(t){return e.openActionTrigged=!0,t.execOpenAction()})),this.renderedDefered.resolve())}},{key:"isRendering",value:function(){return this.$ui.hasClass("fv__rendering")}},{key:"waitRendered",value:function(){return this.isRendered?Promise.resolve():this.renderedDefered.promise}},{key:"destroy",value:function(){this.isDestroyed||(this.unObserveIntersectionObserver(),this.unObservePageLayoutIntersectionObserver(),this.pointerdownFn&&(this.$annotsContainer.off("pointerdown",this.pointerdownFn),this.pointerdownFn=null),this.pointerupFn&&(document.removeEventListener("pointerup",this.pointerupFn),this.pointerupFn=null),(0,E._)((0,S._)(n.prototype),"destroy",this).call(this),this.invisibleRender(),this.pageContentTiles&&this.pageContentTiles.destroy(),this.stateHandler&&this.stateHandler.destroyPageHandler(),this.annotsRender&&this.annotsRender.destroy(),this.annotsRenderDeferred=null,this.pageHandler.destroy(),this.$ui.parent().remove().next(".fv__pdf-view-mode-item-split").remove(),this.eLayoutContainerTransitionStyle&&document.body.removeChild(this.eLayoutContainerTransitionStyle),this.pdfPageRendering.destroy(),this.pageCustomRender&&this.pageCustomRender.destroy(),this.pageCustomRender=null,this.pdfPageRendering=null,this.pageHammer=null,this.pageHandler=null,this.$ui=null,this.eLayoutContainerTransitionStyle=null,this.doc=null,this.page=null,this.pageContentTiles=null,this.stateHandler=null)}},{key:"getSmartScale",value:function(e){return this.pdfViewer.getSmartScale(e)}},{key:"getScale",value:function(){return this.scale}},{key:"getRotation",value:function(){return this.rotate}},{key:"getRectBitmap",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.rotate,r=this.page,o=this.docRender.getUserPermission();o.checkAnnotForm()||o.checkFillForm();return r.getPageBitmap(e,i,t,["page"],"view",n)}},{key:"previewRectBitmap",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.rotate;return this.getRectBitmap(e,t,n,i).then((function(r){var o=document.createElement("canvas"),a=o.getContext("2d"),s=r.buffer,c=r.width,u=r.height,l=r.x,A=r.y,d=new(Uint8ClampedArray||Uint8Array)(s),h=a.createImageData(c,u);h.data.set(d),o.width=c+l,o.height=u+A,a.putImageData(h,0,0);var f={scale:e,rect:t,id:n,rotate:i,url:o.toDataURL()};return console.log(f),f}))}},{key:"getContentImageDataByTile",value:function(e,t,n,i,r,o){return this.getRectBitmap((0,G.F2)(o),{x:t*r,y:e*r,width:n,height:i})}},{key:"getTextContinueRectAtDeviceRect",value:function(e){var t,n=this;return this.getPDFPage().then((function(i){return(t=i).reverseDeviceRect(e,n.scale,n.rotate)})).then((function(e){return t.getTextContinuousRectsAtRect(e)}))}},{key:"getTextContinueRectAtDevicePoints",value:function(e,t,n,i){return Promise.all([this.getPDFPage(),this.reverseDevicePoint(e),this.reverseDevicePoint(t)]).then((function(e){var t=(0,R._)(e,3),r=t[0],o=t[1],a=t[2];return r&&r.getTextContinuousRectsAtPoints(o,a,8,n,i)}))}},{key:"getTextLinkAtPoint",value:function(e){return Promise.all([this.getPDFPage(),this.reverseDevicePoint(e)]).then((function(e){var t=(0,R._)(e,2),n=t[0],i=t[1];return n&&n.getTextLinkAtPoint(i)}))}},{key:"getDoubleClickTextRectAtPoint",value:function(e){return Promise.all([this.getPDFPage(),this.reverseDevicePoint(e)]).then((function(e){var t=(0,R._)(e,2),n=t[0],i=t[1];return n.getDoubleClickTextRectAtPoint(i,8)}))}},{key:"getTextContinuousCharAtDeviceRect",value:function(e){var t,n=this;return this.getPDFPage().then((function(i){return(t=i).reverseDeviceRect(e,n.scale,n.rotate)})).then((function(e){return t.getTextContinuousCharsAtRect(e)}))}},{key:"getAllTextRect",value:function(){return this.getPDFPage().then((function(e){return e.getTextContinuousRectsAtRect(e.info.cropBox)}))}},{key:"getAllTextChar",value:function(){return this.getPDFPage().then((function(e){return e.getTextContinuousCharsAtRect(e.info.cropBox,!0)}))}},{key:"transformPoint",value:function(e){var t=this;return(0,P._)((function(){var n,i,r,o,a,s;return(0,L.Jh)(this,(function(c){switch(c.label){case 0:if(n=e.point,i=e.srcType,r=e.destType,o=t.scale,a=t.rotate,!n)throw new Error("[transformPoint] options.point is not a valid point object: ".concat(JSON.stringify(n),"."));if(!(0,W.isValidNumber)(n.x))throw new TypeError("[transformPoint] options.point.x: ".concat(n.x," is not a valid number"));if(!(0,W.isValidNumber)(n.y))throw new TypeError("[transformPoint] options.point.y: ".concat(n.y," is not a valid number"));if(i===r)return[2,Object.assign({},n)];if(!i)throw new Error("[transformPoint] options.srcType is not type of ViewerConstants.PagePointType");if(!r)throw new Error("[transformPoint] options.destType is not type of ViewerConstants.PagePointType");return[4,t.transformPointIntoPDFPoint({point:n,type:i,scale:o,rotate:a})];case 1:return s=c.sent(),[2,t.transformPDFPointToDestType({point:s,type:r,scale:o,rotate:a})]}}))}))()}},{key:"transformPDFPointToDestTypeSync",value:function(e,t){var n=t.point,i=t.type,r=t.scale,o=t.rotate;switch(isFinite(r)||(r=this.scale),isFinite(o)||(o=this.rotate),i){case Kd.scroll:var a=this.getPagePositionOffsetViewerContainer(),s=(0,R._)(e.getDevicePoint([n.x,n.y],r,o),2),c=s[0],u=s[1];return{x:a.x+c,y:a.y+u};case Kd.page:var l=(0,R._)(e.getDevicePoint([n.x,n.y],r,o),2);return{x:l[0],y:l[1]};case Kd.viewport:var A=(0,R._)(e.getDevicePoint([n.x,n.y],r,o),2),d=A[0],h=A[1],f=this.$ui[0].getBoundingClientRect();return{x:f.left+d,y:f.top+h};case"PDFViewerPort":var p=(0,R._)(e.getDevicePoint([n.x,n.y],r,o),2),v=p[0],g=p[1],m=this.viewerRender.scrollWrap.getScrollHost();((0,W.isWindowObject)(m)||(0,W.isDocument)(m))&&(m=document.body);var y=this.$ui[0].getBoundingClientRect(),_=m.getBoundingClientRect();return{x:v+y.left-_.left,y:g+y.top-_.top};case Kd.pdf:return n;default:throw new Error("[transformPDFPointToDestType] options.type is not type of ViewerConstants.PagePointType")}}},{key:"transformPDFPointToDestType",value:function(e){var t=this;return(0,P._)((function(){var n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return[4,t.getPDFPage()];case 1:return n=i.sent(),[2,t.transformPDFPointToDestTypeSync(n,e)]}}))}))()}},{key:"transformPointIntoPDFPointSync",value:function(e,t){var n=t.point,i=t.type,r=t.scale,o=t.rotate;switch(isFinite(r)||(r=this.scale),isFinite(o)||(o=this.rotate),i){case Kd.scroll:var a=this.getPagePositionOffsetViewerContainer(),s=[n.x-a.x,n.y-a.y],c=(0,R._)(e.reverseDevicePoint(s,r,o),2);return{x:c[0],y:c[1]};case Kd.viewport:var u=this.$ui[0].getBoundingClientRect(),l=u.left,A=u.top;n={x:n.x-l,y:n.y-A};case Kd.page:var d=(0,R._)(e.reverseDevicePoint([n.x,n.y],r,o),2);return{x:d[0],y:d[1]};case Kd.pdf:return n;default:throw new Error("[transformPointIntoPDFPoint] options.type is not type of ViewerConstants.PagePointType")}}},{key:"transformPointIntoPDFPoint",value:function(e){var t=this;return(0,P._)((function(){var n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return[4,t.getPDFPage()];case 1:return n=i.sent(),[2,t.transformPointIntoPDFPointSync(n,e)]}}))}))()}},{key:"getPagePositionOffsetViewerContainer",value:function(){var e=this.pdfViewer.getPDFViewerRender().$ui[0],t=e.parentElement,n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),r=this.$ui[0].getBoundingClientRect(),o=i.top-n.top,a=i.left-n.left;return{x:r.left+t.scrollLeft-i.left+a,y:r.top+t.scrollTop-i.top+o}}},{key:"reverseDeviceRect",value:function(e){var t=this;return this.getPDFPage().then((function(n){return n.reverseDeviceRect(e,t.scale,t.rotate)}))}},{key:"reverseDevicePoint",value:function(e){var t=(0,R._)(e,2),n=t[0],i=t[1],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotate;return this.getPDFPage().then((function(e){return null==e?void 0:e.reverseDevicePoint([n,i],r,o)}))}},{key:"getDeviceRect",value:function(e){var t=this;return this.getPDFPage().then((function(n){return n.getDeviceRect(e,t.scale,t.rotate)}))}},{key:"transformRectArray",value:function(e,t){for(var n=[],i=this.scale,r=t.length;r--;){var o=t[r];n[r]=e.getDeviceRect(o,i,this.rotate)}return n}},{key:"getClientPoint",value:function(e,t){var n=this.$ui[0].getBoundingClientRect();return[e+n.left,t+n.top]}},{key:"redraw",value:function(e){return e&&(this.updateRenderFlags(7),this.annotsRender&&this.annotsRender.adjustHighlightsRender()),this.render()}},{key:"redrawContent",value:function(e){var t,n=this;return(e?((t=n.pageContentTiles)&&t.clearCache(),Promise.resolve()):Promise.resolve()).then((function(){return n.renderContentImage(n.scale,n.rotate)})).then((function(){return n.adjustHighlightAnnots()}))}},{key:"getDevicePointFromEvent",value:function(e){var t=this.$ui.offset();return[e.pageX-t.left,e.pageY-t.top]}},{key:"removeAnnotRenders",value:function(e){return this.annotsRender&&this.annotsRender.removeAnnotRenders(e)}},{key:"redrawAnnotRenders",value:function(e){if("canvas"===this.pdfViewer.config.annotRenderingMode.highlight)return this.annotsRender.redrawAnnotRenders(e);for(var t=[],n=[],i=0,r=e.length;i<r;i++){var o=e[i];"highlight"===o.getType()?t.push(o):n.push(o)}return t.length&&this.renderContentImage(),this.annotsRender.redrawAnnotRenders(n)}},{key:"movedAnnotRenders",value:function(e,t){return this.annotsRender.movedAnnotRenders(e,t)}},{key:"addAnnotRenders",value:function(e){var t=this;if(!this.annotsRender)return this.annotsRenderDeferred.promise.then((function(){return t.addAnnotRenders(e)}));return this.annotsRender.addAnnotRenders(e)}},{key:"getPageAreaRenderer",value:function(e,t){return new to(this,e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,arguments.length>3&&void 0!==arguments[3]&&arguments[3])}},{key:"getSnapshot",value:function(e,t,n,i){var r=W.dpr,o=window.localStorage.getItem("PREFERENCES-GENNERAL");if(o){var a=JSON.parse(o),s=a.resolution;a.fixedResolution&&(r=s/96)}var c=this.getPageAreaRenderer(n*r,i*r,r,!0);return c.setPosition(e+n/2,t+i/2),c.update().then((function(e){var t=(0,W.createDeferred)();return e.toBlob((function(e){return t.resolve(e)}),"image/png"),t.promise}))}},{key:"unActiveAnnotRender",value:function(){try{if(!this.annotsRender)return;this.annotsRender.unActiveAnnot()}catch(e){}}},{key:"activeGraphicsObject",value:function(e){}},{key:"addCustomRenders",value:function(e){this.customsRender.addCustomRenders(e)}},{key:"removeCustomRenders",value:function(e){this.customsRender.removeCustomRenders(e)}},{key:"updateCustomRenders",value:function(e){this.customsRender.updateCustomRenders(e)}},{key:"setWatermarkConfig",value:function(e){this.watermarkConfig=e}},{key:"getWatermarkConfig",value:function(){return this.page&&this.page.isVirtual()?{content:"VIRTUAL PAGE",type:"text",watermarkSettings:void 0,watermarkTextProperties:{font:"Microsoft Yahei",fontSize:40,color:"#000000",fontStyle:"normal",lineSpace:10,alignment:"center"}}:this.watermarkConfig}},{key:"endRender",value:function(){var e=this.renderSerialPromise;e&&e.end().catch(ah);var t=this.annotsRender;t&&t.endRender()}},{key:"invisibleRender",value:function(e){var t=this;return(0,P._)((function(){var n,i,r;return(0,L.Jh)(this,(function(o){switch(o.label){case 0:return t.endRender(),n=t.pageContentTiles,i=t.annotsRender,e?(n&&(n.destroy(),delete t.pageContentTiles),(r=t.stateHandler)&&(r.destroyPageHandler(),delete t.stateHandler),t.page?(t.page.clearRenderCache(),[4,t.page.clearCacheObjects()]):[3,2]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,4];case 3:n&&n.invisibleRender(),i&&i.invisibleRender(),o.label=4;case 4:return[2]}}))}))()}},{key:"move",value:function(){}},{key:"renderingFollowPromise",value:function(){}},{key:"triggerAction",value:function(e){this.page&&!this.page.isDestroyed&&this.annotsRender&&(this.pageActionExecutedState[e]||(this.pageActionExecutedState[e]=!0,this.page.triggerAdditionalActions(e)))}},{key:"getContainerVisibleRect",value:function(){var e=this.docRender,t=this.$ui[0].getBoundingClientRect(),n=e.getContainerVisibleRect(),i=(n.right-n.left)/2|0,r=(n.bottom-n.top)/2|0;oh.isOutOfMemory()&&(i=0,r=0);var o=Math.max(t.left,n.left)-t.left-i,a=Math.min(t.right,n.right)-t.left+i,s=Math.max(t.top,n.top)-t.top-r,c=Math.min(t.bottom,n.bottom)-t.top+r;return o<0&&(o=0),s<0&&(s=0),a>this.getShowWidth()&&(a=this.getShowWidth()),c>this.getShowHeight()&&(c=this.getShowHeight()),{left:o,right:Math.max(o,a),top:s,bottom:Math.max(s,c)}}},{key:"getCurrentVisibleRect",value:function(){var e=this.docRender,t=this.$ui[0].getBoundingClientRect(),n=e.getContainerVisibleRect(),i=n.right-n.left,r=n.bottom-n.top,o=ch(0,n.left-t.left),a=ch(0,n.top-t.top),s=sh(ch(0,t.width-o),i),c=sh(ch(0,t.height-a-ch(0,t.bottom-n.bottom)),r);return{left:o,top:a,width:s,height:c,right:o+s,bottom:a+c}}},{key:"getContainerFullRect",value:function(){var e=this.docRender,t=this.$ui[0].getBoundingClientRect(),n=e.getContainerVisibleRect();return{left:n.left-t.left,right:n.right-t.right,top:n.top-t.top,bottom:n.bottom-t.bottom}}},{key:"getPDFRectFromClientRect",value:function(e){var t=this.$ui[0].getBoundingClientRect(),n=e.left-t.left,i=e.top-t.top,r={left:n,top:i,right:n+e.width,bottom:i+e.height};return this.page.reverseDeviceRect(r,this.scale,this.rotate)}},{key:"getPDFPointFromClientPoint",value:function(e,t,n){var i=this.$ui[0].getBoundingClientRect();return n?[e-i.left,t-i.top]:this.page.reverseDevicePoint([e-i.left,t-i.top],this.scale,this.rotate)}},{key:"formatGridOptions",value:function(e){if(e){var t=Gi(e.unit);if(t){var n=this.getScale(),i=t.convertTo(e.width*n,Hi),r=t.convertTo(e.height*n,zi),o=t.convertTo(e.offsetLeft*n,Hi),a=t.convertTo(e.offsetTop*n,zi),s=e.subdivisions;return{lineWidth:i,lineHeight:r,offsetLeft:o,offsetTop:a,subLineWidth:i/s,subLineHeight:r/s,maxWidth:this.getShowWidth(),maxHeight:this.getShowHeight()}}}}},{key:"renderLayoutGrid",value:function(e,t,n,i,r,o,a){var s=this.pdfViewer.getLayoutGrid();if(s&&Gi(s.unit)){var c=e.canvas.width,u=e.canvas.height;e.getImageData(0,0,1,1);var l=s.color,A=l.match(/rgba?\((\d*),\s*(\d*),\s*(\d*),?\s*([\.0-9]*)?\)/)||[l,127,127,255],d=+A[1],h=+A[2],f=+A[3],p=.67,v="rgba("+(d+(255-d)*p)+","+(h+(255-h)*p)+","+(f+(255-f)*p)+","+(+A[4]||1)+")",g=this.formatGridOptions(s),m=g.lineWidth,y=g.lineHeight,_=g.offsetLeft,b=g.offsetTop,w=g.subLineWidth,k=g.subLineHeight,x=Math.abs((i-_)%m-m)%m,P=Math.abs((r-b)%y-y)%y,C=Math.abs((i-_)%w-w)%w,D=Math.abs((r-b)%k-k)%k,E=c,S=u;for(i=Math.max(0,i),r=Math.max(0,r),e.beginPath(),e.strokeStyle=v,e.lineWidth=1;C<E;)e.moveTo(C,0),e.lineTo(C,S),C+=w;for(;D<S;)e.moveTo(0,D),e.lineTo(E,D),D+=k;for(e.stroke(),e.beginPath(),e.strokeStyle=l;x<E;)e.moveTo(x,0),e.lineTo(x,S),x+=m;for(;P<S;)e.moveTo(0,P),e.lineTo(E,P),P+=y;e.stroke()}}},{key:"getTextRectsAtRect",value:function(e){var t,n=this;return this.getPDFPage().then((function(i){return(t=i).reverseDeviceRect(e,n.scale,n.rotate)})).then((function(e){return t.getTextRectsAtRect(e)}))}},{key:"renderArticles",value:function(e){var t=this;this.doc&&this.doc.hasArticle()&&(e&&e.length>0?Promise.resolve(e):this.doc.getPdfArticle().getArticleList()).then((function(e){e.forEach((function(e){(e.children||[]).forEach((function(n){t.renderArticle(e,n)}))}))}))}},{key:"renderArticle",value:function(e,t){var n=this,i=this.articleBeads.hasOwnProperty(t.objNum);t.pageIndex===this.index&&(i?this.articleBeads[t.objNum].updateRender(e,t):this.getPDFPage().then((function(){n.articleBeads[t.objNum]=new mo(n,e,t)})))}},{key:"getSignaturePDFRect",value:function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRotation(),o=this.getScale(),a={},s=this.$handler.find("#".concat(e));if(!s.length)return Promise.resolve();var c=s.find("canvas")[0].width+2,u=s.find("canvas")[0].height+2;90===r||270===r?(n=c,t=u):(t=c,n=u),a.top=parseFloat(s.css("top")),a.left=parseFloat(s.css("left")),a.right=a.left+t,a.bottom=a.top+n;var l="".concat(a.top,"_").concat(a.left,"_").concat(a.right,"_").concat(a.bottom),A=JSON.parse(localStorage.getItem("device_rect_map")||"{}"),d=(0,w._)({},A,i);return Object.keys(d).length&&l in d?Promise.resolve(d[l]):this.getPDFPage().then((function(e){var t=e.reverseDeviceRect(a,o,r);i[l]=t;var n=(0,w._)({},A,i);return localStorage.setItem("device_rect_map",JSON.stringify(n)),t}),(function(){return Promise.resolve()}))}}],[{key:"getDefaultName",value:function(){return"pdfPageRender"}}]),n}(Q);const lh=uh;function Ah(e){return JSON.parse(JSON.stringify(e)).reduce((function(e,t){if(2===t.length){for(var n=[],i=t[0];i<t[1];i++)n.push(i);t=n}return e.concat(t)}),[])}var dh=function(){function e(t){(0,C._)(this,e),(0,z._)(this,"viewMode",void 0),(0,z._)(this,"executor",void 0),this.viewMode=t,W.Lazy.property(this,"executor",(function(){return new W.ThrottleAsyncTaskExecutor(80)}))}return(0,D._)(e,[{key:"getPageCount",value:function(){var e=this.getPDFDocRender();if(!e)return 0;var t=e.getPDFDoc();return t?t.getPageCount():0}},{key:"getPDFDocRender",value:function(){return this.viewMode.docRender}},{key:"onKeyReleased",value:function(e){return!1}}]),e}(),hh=function(){function e(t){(0,C._)(this,e),this.docRender=t,t.$ui.addClass("fv__view-mode"),this.pageDOMs=[],this.shortcutEventHandler=this.generateShortcutEventHandler()}return(0,D._)(e,[{key:"getItems",value:function(){return this.pageDOMs}},{key:"into",value:function(e,t){this.pageDOMs=t;var n=document.createDocumentFragment();"function"==typeof n.append?n.append.apply(n,t):t.forEach((function(e){n.appendChild(e)})),e.innerHTML="",e.appendChild(n)}},{key:"updatePageDOMs",value:function(e){this.pageDOMs=e}},{key:"renderViewMode",value:function(e,t,n,i,r){}},{key:"afterRenderVisiblePages",value:function(){}},{key:"jumpToPage",value:function(e,t){t.x,t.y}},{key:"getFitHeight",value:function(e){}},{key:"getFitWidth",value:function(e){}},{key:"getVisibleIndexes",value:function(){return this.docRender.getVisiblePageIndexes()}},{key:"getCurrentPageIndex",value:function(){return 0}},{key:"getPrevPageIndex",value:function(){return Math.max(0,this.getCurrentPageIndex()-1)}},{key:"getNextPageIndex",value:function(){var e=this.docRender.getPDFDoc().getPageCount();return Math.min(e-1,this.getCurrentPageIndex()+1)}},{key:"out",value:function(){this.docRender=null,this.pageDOMs=[]}},{key:"generateShortcutEventHandler",value:function(){}},{key:"getShortcutEventHandler",value:function(){return this.shortcutEventHandler}}],[{key:"getName",value:function(){}}]),e}();const fh=hh;n(8023);var ph=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"onKeyPressed",value:function(e){var t=this,n=this.viewMode,i=n.fixedVerticalPosition;switch(e.command){case Ld.JUMP_TO_FIRST_PAGE:return this.executor.exec((function(){return t.jumpToFirstPage()})),!0;case Ld.JUMP_TO_LAST_PAGE:return this.executor.exec((function(){return t.jumpToLastPage()})),!0;case Ld.JUMP_TO_PREVIOUS_PAGE:return this.executor.exec((function(){return n.jumpToPrevPage()})),!0;case Ld.JUMP_TO_NEXT_PAGE:return this.executor.exec((function(){return n.jumpToNextPage()})),!0}if(i)switch(e.command){case Ld.SCROLL_TO_PREVIOUS_VISIBLE_AREA:case Ld.ARROW_UP:return this.executor.exec((function(){return n.jumpToPrevPage()})),!0;case Ld.SCROLL_TO_NEXT_VISIBLE_AREA:case Ld.ARROW_DOWN:return this.executor.exec((function(){return n.jumpToNextPage()})),!0}else{var r=n.computePageMetadata(n.currentPageIndex);if(!r)return!1;var o=n.scrollWrap,a=r.pageHeight,s=r.visibleBoxHeight,c=r.visibleBoxWidth,u=r.scrollTop,l=n.scrollWrap.getScrollTop(),A=80;switch(e.command){case Ld.SCROLL_TO_PREVIOUS_VISIBLE_AREA:case Ld.SCROLL_VIEWER_SCROLLBAR_UP:A=s;case Ld.ARROW_UP:return this.executor.exec((function(){if(l>u){var e=l-u;return e=Math.min(A,e),o.scrollBy(0,-e,"smooth"),Promise.resolve()}return n.jumpToPrevPage()})),!0;case Ld.SCROLL_TO_NEXT_VISIBLE_AREA:case Ld.SCROLL_VIEWER_SCROLLBAR_DOWN:A=s;case Ld.ARROW_DOWN:return this.executor.exec((function(){if(l>=u+(a-s))return n.jumpToNextPage();if(l>=u){var e=a-(l-u)-s;e=Math.min(e,A),o.scrollBy(0,e,"smooth")}return Promise.resolve()})),!0;case Ld.SCROLL_VIEWER_SCROLLBAR_LEFT:return o.scrollBy(-c,0,"smooth"),!0;case Ld.SCROLL_VIEWER_SCROLLBAR_RIGHT:return o.scrollBy(c,0,"smooth"),!0}}return!1}},{key:"jumpToFirstPage",value:function(){return this.viewMode.jumpToPage(0,{x:0,y:0})}},{key:"jumpToLastPage",value:function(){var e=this.getPageCount();return this.viewMode.jumpToPage(e-1,{x:0,y:0})}}]),n}(dh),vh="up",gh="down",mh="left-top",yh="left-bottom",_h=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;(0,C._)(this,n),(i=t.call(this,e)).currentPageIndex=0,i.scrollWrap=i.docRender.viewerRender.scrollWrap,i.lastScale=null,i.isZoomin=!1,i.fixedVerticalPosition=!1,i.currentPageOffset=0,i.rerenderViewExecutor=new W.DebounceAsyncTaskExecutor(100),i.rerenderPageExecutor=new W.DebounceAsyncTaskExecutor(10),i.scrollEventExecutor=new W.DebounceAsyncTaskExecutor(100),i.dragScrollbarEventExecutor=new W.ThrottleAsyncTaskExecutor(50,!0),i.queuedDragScrollbarEventExecutor=new W.QueuedAsyncTaskExecutor,i.mouseWheelExecutor=new W.ThrottleAsyncTaskExecutor(200),i.jumpPageExecutor=new W.DebounceAsyncTaskExecutor,i.unbindScrollEvent=tr,i.unbindMouseEvent=tr,i.unbindWheelEvent=tr,i.allowHandleScrollOnWheel=!1,i.isMouseDownOnScrollbar=!1,i.handledWheel=!1,i.instanceId=Br(),i.diffJumpPage=i.diffJumpPage.bind((0,x._)(i)),i.forceUpdatePageContainer=i.forceUpdatePageContainer.bind((0,x._)(i)),i.currentScrollDirection;var r=i.scrollWrap.getScrollHost();r===window&&(r=document.documentElement);var o=function(e){var t=e.clientX,n=i.getCurrentVisibleBoxRect(),o=getComputedStyle(r),a=(parseInt(o.borderLeftWidth)||0)+(parseInt(o.borderRightWidth)||0),s=r.offsetWidth,c=s-r.clientWidth-a;i.isMouseDownOnScrollbar=t>=s-c+n.left},a=function(e){i.isMouseDownOnScrollbar=!1};return r.addEventListener("mousedown",o,{capture:!0}),window.addEventListener("mouseup",a,{capture:!0}),i.unbindMouseEvent=function(){r.removeEventListener("mousedown",o,{capture:!0}),window.removeEventListener("mouseup",a,{capture:!0})},i}return(0,D._)(n,[{key:"diffJumpPage",value:function(){var e=(new Date).getTime(),t=e;return isNaN(this.countNum)?(this.countNum=0,this.lastCountDateTime=e):(this.countNum++,t=e-this.lastCountDateTime,this.lastCountDateTime=e),t}},{key:"getPDFPageRender",value:function(e){return this.docRender.pagesRender.pageRenders[e]}},{key:"into",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentPageIndex;this.docContainer=e,this.pageDOMs=t,e.classList.add("fv__viewer-single-view-mode");var i=this.pageDOMs[n],r=e.childNodes;if(r.length>1){if(W.isIE)for(var o=r.length-1;o>=0;o--)e.removeChild(r[o]);else e.innerHTML="";e.appendChild(i)}else 1===r.length?e.contains(i)||e.replaceChild(i,r[0]):e.contains(i)||e.appendChild(i);this.renderPageContainer(),this.scrolledToPage(n),this.bindScrollEvent(),this.bindWheelEvent(),this.docRender.pdfViewer.eventEmitter.on(se.pageAdded,this.forceUpdatePageContainer),this.docRender.pdfViewer.eventEmitter.on(se.pageRemoved,this.forceUpdatePageContainer),this.docRender.pdfViewer.eventEmitter.on(se.pagesInserted,this.forceUpdatePageContainer)}},{key:"out",value:function(){this.pageDOMs.forEach((function(e){e.style.top&&(e.style.top="")})),this.docRender.pdfViewer.eventEmitter.off(se.pageAdded,this.forceUpdatePageContainer),this.docRender.pdfViewer.eventEmitter.off(se.pageRemoved,this.forceUpdatePageContainer),this.docRender.pdfViewer.eventEmitter.off(se.pagesInserted,this.forceUpdatePageContainer),this.unbindScrollEvent(),this.unbindWheelEvent(),this.unbindMouseEvent(),this.rerenderViewExecutor.cancel(),this.rerenderPageExecutor.cancel(),this.jumpPageExecutor.cancel(),this.scrollEventExecutor.cancel(),this.mouseWheelExecutor.cancel(),this.dragScrollbarEventExecutor.cancel(),this.queuedDragScrollbarEventExecutor.cancel(),this.resetCurrentPageDom(),this.enableScroll(),this.isMouseDownOnScrollbar=!1,this.docContainer&&(this.docContainer.classList.remove("fv__viewer-single-view-mode"),this.docContainer.style.height="")}},{key:"rebindScrollEvent",value:function(){this.bindScrollEvent()}},{key:"forceUpdatePageContainer",value:function(){this.renderPageContainer(!0)}},{key:"updateScrollPosition",value:function(){var e=this,t=this.currentPageIndex,n=this.pageDOMs[t],i=function(t){var i=e.scrollWrap.getScrollTop();n.style.cssText+="top: ".concat(t.pageOffset+i,"px")};if(!this.isPageRendered(t))return this.computePageMetadataAsync(t).then(i);i(this.computePageMetadata(t))}},{key:"keepPagePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.fixedVerticalPosition||e)return this.updateScrollPosition()}},{key:"isValidCurrentPageIndex",value:function(){var e=this.docRender;if(!e)return!1;var t=e.pagesRender;if(!t)return!1;var n=t.pageRenders;if(!n)return!1;var i=this.currentPageIndex;return i>=0&&i<n.length}},{key:"bindScrollEvent",value:function(){var e=this;this.unbindScrollEvent();var t=this.scrollWrap.getScrollTop();this.unbindScrollEvent=this.scrollWrap.addScrollEventListener((function(n){if((e.allowHandleScrollOnWheel||(e.allowHandleScrollOnWheel=!0,e.isMouseDownOnScrollbar||!W.isChrome&&!W.isChromiumEdge))&&e.isValidCurrentPageIndex()){var i=e.keepPagePosition(),r=function(){var n=e.scrollWrap.getScrollTop(),i=t;if(n>i?e.currentScrollDirection=gh:n<i&&(e.currentScrollDirection=vh),e.isMouseDownOnScrollbar)e.queuedDragScrollbarEventExecutor.exec((function(){return t=n,e.handleDragScrollbar(e.scrollWrap.getScrollTop(),e.currentScrollDirection)}));else{var r=!1;switch(e.currentScrollDirection){case gh:r=e.isBottomOutOfBoundsOnWheel();break;case vh:r=e.isTopOutOfBoundsOnWheel()}if(!r)return t=n,e.handleWheel(e.scrollWrap.getScrollTop(),e.currentScrollDirection);var o=e.handleWheel(n,e.currentScrollDirection);e.scrollEventExecutor.exec((function(){return o}))}};(0,T._)(i,Promise)?i.then(r):r()}}))}},{key:"bindWheelEvent",value:function(){var e=this;this.unbindWheelEvent();var t=function(t){if(!W.keyboardStatus.isCtrlDown){e.allowHandleScrollOnWheel=!1;var n,i=t.deltaY;if(i<0)n=vh;else{if(!(i>0))return;n=gh}e.currentScrollDirection=n,e.fixedVerticalPosition?(t.preventDefault(),e.keepPagePosition(),e.mouseWheelExecutor.exec((function(){switch(n){case gh:return e.jumpToNextPage();case vh:return e.jumpToPrevPage()}return Ce}))):W.keyboardStatus.isShiftDown||!W.isChrome&&!W.isChromiumEdge||(e.allowHandleScrollOnWheel=!0)}},n=this.scrollWrap.getScrollHost();n.addEventListener("wheel",t,{passive:!1}),this.unbindWheelEvent=function(){n.removeEventListener("wheel",t,{passive:!1})}}},{key:"handleDragScrollbar",value:function(e,t){if(this.fixedVerticalPosition){var n=this.computePageIndex(e);if(n!==this.currentPageIndex)return this.scrolledToPage(n,t)}else{if(t===vh)return this.handleDragUp(e);if(t===gh)return this.handleDragDown(e)}return Ce}},{key:"handleWheel",value:function(e,t){if(this.fixedVerticalPosition){var n=this.computePageIndex(e);if(n!==this.currentPageIndex)return this.scrolledToPage(n,t)}else{if(t===vh)return this.handleWheelUp(e);if(t===gh)return this.handleWheelDown(e)}return Ce}},{key:"handleWheelUp",value:function(e){this.handledWheel=!0;var t=this.getPDFPageRender(this.currentPageIndex),n=this.getCurrentVisibleBoxRect();if(t.$element[0].getBoundingClientRect().top>=n.top)return this.jumpToPrevPage()}},{key:"handleWheelDown",value:function(e){this.handledWheel=!0;var t=this.getPDFPageRender(this.currentPageIndex),n=this.getCurrentVisibleBoxRect();if(t.$element[0].getBoundingClientRect().bottom<n.bottom)return this.jumpToNextPage()}},{key:"isBottomOutOfBoundsOnWheel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentPageIndex,t=this.getPDFPageRender(e),n=this.getCurrentVisibleBoxRect();return t.$element[0].getBoundingClientRect().bottom<n.bottom}},{key:"isTopOutOfBoundsOnWheel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentPageIndex,t=this.getPDFPageRender(e),n=this.getCurrentVisibleBoxRect();return t.$element[0].getBoundingClientRect().top>n.top}},{key:"handleDragUp",value:function(e){var t=this.computePageMetadata(this.currentPageIndex);if(t){var n=t.pageTop,i=t.visibleBoxHeight,r=this.pageDOMs[this.currentPageIndex],o=n-i;if(e>o&&e<n)r.style.cssText+="top: ".concat(e,"px");else if(e<o){var a=this.computePageIndex(e);return this.jumpToPage(a,vh)}return Ce}}},{key:"handleDragDown",value:function(e){var t=this.computePageIndex(e);if(t!==this.currentPageIndex)return this.jumpToPage(t,gh);var n=this.currentPageIndex,i=this.scrollWrap.getScrollTop(),r=this.computePageMetadata(n);if(r){var o=r.scrollTop,a=r.pageHeight,s=r.visibleBoxHeight;if(i>o+a-s&&this.pageDOMs.length>1){var c=i+s-a;this.pageDOMs[n].style.cssText+="top: ".concat(c,"px")}return Ce}}},{key:"doJumpOnScroll",value:function(e){var t=this,n=function(n){var i=n.pageHeight-n.visibleBoxHeight;return t.jumpToPage(e,{y:i},!1).then((function(){t.docRender.getPDFPageRender(n.pageIndex).renderLayout()}))};return this.isPageRendered(e)?n(this.computePageMetadata(e)):this.computePageMetadataAsync(e).then(n)}},{key:"jumpToPage",value:function(e,t){var n=this,i=this.docRender.getPDFDoc().getPageCount();if(e<0||e>=i)throw new Error("Illegal page index value: "+e);var r=function(){return n.unbindScrollEvent(),n.computePageMetadataAsync(e).then((function(i){n.currentPageIndex=e;var r=n.waitForScrollEnd();try{n.rerenderPage(i),n.scrollToPage(i,t),n.docRender.setCurrentPageIndex(e)}finally{return r.finally((function(){n.currentPageIndex=e,n.rebindScrollEvent()}))}}))};return e===this.currentPageIndex?r():this.jumpPageExecutor.exec(r)}},{key:"waitForScrollEnd",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=(0,W.createDeferred)(),r=this.scrollWrap.addScrollEventListener((function(n){n.isMock||(clearTimeout(e),e=setTimeout((function(){r(),i.resolve(),clearTimeout(e)}),t))}));return n&&(e=setTimeout((function(){r(),i.resolve(),clearTimeout(e)}),t)),i.promise}},{key:"jumpPageByWheelOnFixedPosition",value:function(e){var t=this;if(this.fixedVerticalPosition)return this.mouseWheelExecutor.exec((function(){var n,i;switch(e){case gh:n=t.getNextPageIndex(),i=mh;break;case vh:n=t.getPreviousPageIndex(),i=yh;break;default:return}if(n!==t.currentPageIndex)return t.unbindScrollEvent(),t.computePageMetadataAsync(index).then((function(e){t.currentPageIndex=index;var n=t.waitForScrollEnd(0,!1);try{t.rerenderPage(e),t.scrollToPage(e,i),t.docRender.setCurrentPageIndex(index)}finally{return n.finally((function(){t.currentPageIndex=index,t.rebindScrollEvent()}))}}))}))}},{key:"jumpToNextPage",value:function(){var e=this.getNextPageIndex();return e===this.currentPageIndex?Ce:this.jumpToPage(e)}},{key:"jumpToPrevPage",value:function(){var e=this.getPrevPageIndex();return e===this.currentPageIndex?Ce:this.jumpToPage(e,yh,!1)}},{key:"formatPosition",value:function(e,t){var n=Math.max(0,e.pageHeight-e.visibleBoxHeight),i=Math.max(0,e.pageWidth-e.visibleBoxWidth);switch(t){case yh:return{y:n};case mh:return{};case"right-top":return{x:i};case"right-bottom":return{x:i,y:n}}return t}},{key:"scrolledToPage",value:function(e,t){var n=this;this.currentPageIndex=e;var i=function(i){i&&(n.rerenderPage(i),n.renderPagePosition(i,t),n.docRender.setCurrentPageIndex(e))};return this.isPageRendered(e)?(i(this.computePageMetadata(e)),Ce):this.computePageMetadataAsync(e).then(i)}},{key:"resetCurrentPageDom",value:function(){this.currentPageOffset=0;var e=this.pageDOMs[this.currentPageIndex];e&&(e.style.top="")}},{key:"rerenderPage",value:function(e){var t=this;if(e){var n=e.pageIndex,i=e.pageWidth,r=e.pageHeight,o=e.pageTop,a=e.visibleBoxHeight,s=e.visibleBoxWidth,c=e.refresh,u=this.pageDOMs[n],l=this.docContainer;if(n!==this.currentPageIndex||c||!u.parentElement){var A=l.childNodes;if(A.length>1){if(W.isIE)for(var d=A.length-1;d>=0;d--)l.removeChild(A[d]);else l.innerHTML="";l.appendChild(u)}else 1===A.length?l.contains(u)||l.replaceChild(u,A[0]):l.contains(u)||l.appendChild(u);this.resetCurrentPageDom(),this.currentPageIndex=n}var h=i<=s,f=r<=a;this.fixedVerticalPosition=r<=a,u.style.cssText+="top: ".concat(o,"px;"),u.children[0].style.cssText+="width:".concat(i,"px;height:").concat(r,"px");var p=this.docRender,v=this.docRender.getPDFPageRender(n).pagesRender,g=p.rotation;return v.getPageScale(n,p.scale,g).then((function(e){t.docRender.pdfViewer.eventEmitter.emit(se.updateScrollableStatus,{disableHorizontal:h,disableVertical:f})}))}}},{key:"renderPagePosition",value:function(e,t){if(e){var n=e.pageHeight,i=e.pageTop,r=e.scrollTop,o=e.visibleBoxHeight,a=this.pageDOMs[e.pageIndex];if(this.fixedVerticalPosition)this.keepPagePosition();else{a.style.cssText+="top: ".concat(i,"px;");var s=this.scrollWrap.getScrollTop();if(t===gh){if(s>r+n-o){var c=s+o-n;a.style.cssText+="top: ".concat(c,"px")}}else if(t===vh){s>i-o&&s<i&&(a.style.cssText+="top: ".concat(s,"px"))}else{var u=a.offsetTop;u>s?a.style.cssText+="top: ".concat(s,"px"):u+n<s+o&&(a.style.cssText+="top: ".concat(s+o-n,"px"))}}}}},{key:"scrollToPage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.visibleBoxHeight,r=e.visibleBoxWidth,o=e.pageHeight,a=e.pageWidth,s=e.scrollTop,c=e.pageTop,u=this.formatPosition(e,t),l=u.x,A=void 0===l?this.scrollWrap.getScrollLeft():l,d=u.y,h=void 0===d?0:d;o<=i&&(h=0),a<r&&(A=0);var f,p,v=A;p=o>=i?c+(o-i):s,f=Math.min(s+Math.max(0,h),p),this.scrollWrap.scrollTo(v,f,n?"smooth":"auto")}},{key:"computePageMetadataAsync",value:function(e){var t=this,n=this.docRender,i=n.pagesRender.pageRenders[e],r=n.scale,o=n.rotation;return this.isPageRendered(e)?i.computePageSize(r,o).then((function(n){return t.computePageMetadata(e)})):i?i.computePageSize(r,o).then((function(){var n=t.computePageMetadata(e);return t.docContainer.style.cssText+="height: ".concat(n.containerHeight,"px"),n})):Promise.resolve()}},{key:"isPageRendered",value:function(e){var t=this.docRender.pagesRender.pageRenders[e];if(!t)return!1;var n=t.getShowHeight();return"number"==typeof n&&!isNaN(n)&&isFinite(n)}},{key:"computePageMetadata",value:function(e){var t,n,i=null===(n=this.docRender)||void 0===n||null===(t=n.pagesRender)||void 0===t?void 0:t.pageRenders[e];if(i){var r=this.scrollWrap.getHeight(),o=this.scrollWrap.getWidth(),a=i.getShowHeight(),s=i.getShowWidth(),c=this.computeScrollTop(e),u=this.computeContainerHeight(e,c),l=.5*Math.max(0,r-a);return{visibleBoxHeight:r,visibleBoxWidth:o,pageIndex:e,pageHeight:a,pageWidth:s,containerHeight:u,pageTop:c+l,scrollTop:c,pageOffset:l,occupiedHeight:Math.max(r,a)}}}},{key:"computeScrollTop",value:function(e){for(var t=this.scrollWrap.getHeight(),n=this.docRender.pagesRender.pageRenders,i=0,r=0,o=0;o<e;o++){var a=n[o].getShowHeight();("number"!=typeof a||isNaN(a))&&(a=o>0?r/o:t),r+=a,i+=Math.max(t,a)}return i}},{key:"computePageIndex",value:function(e){for(var t=this.docRender.pagesRender.pageRenders,n=this.scrollWrap.getHeight(),i=0,r=0,o=0;o<t.length;o++){var a=t[o].getShowHeight();this.isPageRendered(o)||(a=o>0?r/o:n);var s=Math.max(a,n);if(e>=i&&e<i+s)return o;r+=a,i+=s}return-1}},{key:"computeContainerHeight",value:function(e,t){var n=this.scrollWrap.getHeight(),i=this.docRender.pagesRender&&this.docRender.pagesRender.pageRenders,r=t;if(i)for(var o=e;o<i.length;o++){var a=i[o].getShowHeight();("number"!=typeof a||isNaN(a))&&(a=o>0?r/o:r),r+=Math.max(n,a)}return W.isMobile&&(r+=10),r}},{key:"renderViewMode",value:function(e){var t=this;if(e.index===this.currentPageIndex){var n=this.computePageMetadata(e.index),i=e.getScale();null==this.lastScale?this.isZoomin=!1:this.isZoomin=this.lastScale<i,this.lastScale=i,n.refresh=!0,this.rerenderPage(n),this.renderPagePosition(n)}this.rerenderViewExecutor.exec((function(){t.renderPageContainer()}))}},{key:"renderPageContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.computeContainerHeight(0,0);this.docContainer.style.cssText+="height: ".concat(t,"px"),this.keepPagePosition(e)}},{key:"disableScroll",value:function(e){this.docRender.pdfViewer.eventEmitter.emit(se.disableScroll,e)}},{key:"enableScroll",value:function(e){this.docRender.pdfViewer.eventEmitter.emit(se.enableScroll,e)}},{key:"getFitWidth",value:function(e){return this.scrollWrap.getWidth()-0-0}},{key:"getFitHeight",value:function(e){return this.scrollWrap.getHeight()}},{key:"getVisibleIndexes",value:function(){return[this.currentPageIndex]}},{key:"getCurrentPageIndex",value:function(){return this.currentPageIndex}},{key:"getScrollHostElement",value:function(){var e=this.scrollWrap.getScrollHost();return e===window?document.body:e}},{key:"getCurrentVisibleBoxRect",value:function(){var e=this.scrollWrap.getScrollHost();if(e===window||e===document.body||e===document.documentElement){var t=document.documentElement.clientWidth,n=document.documentElement.clientHeight;return{x:0,y:0,width:t,height:n,left:0,right:t,top:0,bottom:n}}return e.getBoundingClientRect()}},{key:"generateShortcutEventHandler",value:function(){return new ph(this)}}],[{key:"getName",value:function(){return"single-page-view-mode"}}]),n}(fh),bh=(W.LoggerFactory.getLogger("PDFPagesRender"),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;(0,C._)(this,n),(o=t.call(this,r)).name=n.getDefaultName(),o.$element=e.parent(),o.$ui=e,o.pageDOMs=[],o.doc=i,o.docRender=r;var a=r.viewerRender.ViewMode;return o.viewMode=new a(r),o.viewerRender=r.viewerRender,o.pdfViewer=o.viewerRender.pdfViewer,o.pageRenders=[],o.scale=1,o.rotate=0,o.neverRendered=!0,o.minScale=+o.pdfViewer.config.minScale,o.maxScale=+o.pdfViewer.config.maxScale,o.isPageDOMsLoaded=!1,o.loadPageRendersDefer=new W.Defer,o.pdfViewer.eventEmitter.on(se.layerVisibleChange,o.layerVisibleChange=function(e){o.doc===e&&(o.setRenderFlags(2),o.renderVisiblePages().catch((function(e){0})),o.pageRenders.forEach((function(e){e.page&&e.rebuildAnnots(e.scale,e.rotate)})))}),o.pdfViewer.eventEmitter.on(se.imageAdded,o.imageAdded=function(e){var t=o.viewMode.getVisibleIndexes(),n=e.getIndex();if(-1!==t.indexOf(n)){var i=o.pageRenders[n];i&&i.redrawContent(!0).then((function(e){o.setRenderFlags(2),o.renderVisiblePages()}))}}),o.pdfViewer.eventEmitter.on(se.watermarkAdded,o.watermarkAdded=o.imageAdded),o.pdfViewer.eventEmitter.on(se.watermarkRemoved,o.watermarkRemoved=function(e){o.viewMode.getVisibleIndexes().forEach((function(e){var t=o.pageRenders[e];t&&t.redrawContent(!0).then((function(e){o.setRenderFlags(2),o.renderVisiblePages()}))}))}),o.pdfViewer.eventEmitter.on(se.watermarksAdded,o.watermarksAdded=function(e,t,n){for(var i=o.viewMode.getVisibleIndexes(),r=e;r<=t;r++)if(-1!==i.indexOf(r)){var a=o.pageRenders[r];a&&a.redrawContent(!0).then((function(e){o.setRenderFlags(2),o.renderVisiblePages()}))}}),o.pdfViewer.eventEmitter.on(se.graphicsUpdated,o.graphicsUpdated=function(e){var t=o.viewMode.getVisibleIndexes(),n=e.getIndex();-1!==t.indexOf(n)&&(o.setRenderFlags(2),o.renderVisiblePages())}),o.pdfViewer.eventEmitter.on(se.pageAdded,o.pageAdded=function(e){var t=e.getIndex();o.addNewPageByIndex(t)}),o.pdfViewer.eventEmitter.on(se.pageMoved,o.pageMoved=function(e,t){o.movePageRender(e,t)}),o.pdfViewer.eventEmitter.on(se.pagesMoved,o.pagesMoved=function(e,t,n){o.movePagesRender(e,t,n)}),o.pdfViewer.eventEmitter.on(se.pagesReversed,o.pagesReversed=function(e,t){o.reversePagesRender(e,t)}),o.pdfViewer.eventEmitter.on(se.pageRemoved,o.pageRemoved=function(e){o.removePageByIndex(e);var t=o.pageRenders.length,n=o.viewMode.getCurrentPageIndex();if(n===e){var i=Math.min(n,t-1);o.docRender.goToPage(i),o.viewMode.currentPageIndex=i}}),o.pdfViewer.eventEmitter.on(se.pagesRemoved,o.pagesRemoved=function(e){var t=Ah(e).sort((function(e,t){return t-e})),n=o.viewMode.getCurrentPageIndex();t.forEach((function(e){var t=o.pageRenders[e];t&&(t.destroy(),o.pageRenders.splice(e,1),e<n&&n--)})),o.pageRenders.forEach((function(e,t){e.updateIndex(t)})),o.updatePageDOMs();var i=o.doc.getPageCount();n=Math.max(0,Math.min(n,i-1)),o.docRender.goToPage(n),o.viewMode.currentPageIndex=n}),o.pdfViewer.eventEmitter.on(se.importPages,o.importPages=function(e){o.importPagesByArray(e)}),o.pdfViewer.eventEmitter.on(se.pagesReplace,o.pagesReplace=function(e){var t=e.delPageRange,n=e.pages;t.sort((function(e,t){return t-e})).forEach((function(e){o.removePageByIndex(e)})),o.importPagesByArray(n)}),o.pdfViewer.eventEmitter.on(se.applyRedaction,o.applyRedaction=function(e){var t=o.pdfViewer;if(!1!==e){var n=t.getPDFDocRender(),i=n.pagesRender;if(!i)return;e.forEach((function(e){var t=e.pageIndex,i=e.removedAnnots;if(0!==i.length){var r=n.pagesRender.pageRenders[t];if(r&&r.annotsRender)for(var o=r.page.annots,a=o.length-1;a>=0;a--){var s=o[a];-1!==i.indexOf(s.objectNumber)&&(s.info.isDeleted=!0,o.splice(a,1))}}})),i.setRenderFlags(10),i.renderVisiblePages(),t.eventEmitter.emit(se.redactAnnotApplyed,(0,x._)(o))}}),o.pdfViewer.eventEmitter.on(se.flattened,o.flattened=function(e){o.setRenderFlags(10),o.renderVisiblePages()}),o.pdfViewer.eventEmitter.on(se.flattenAnnotation,o.flattenAnnotation=function(e,t){o.setRenderFlags(7),o.renderVisiblePages()}),o.pdfViewer.eventEmitter.on(se.headerFooterUpdated,o.headerFooterUpdated=o.flattened),o.pdfViewer.eventEmitter.on(se.headerFooterAdded,o.headerFooterAdded=o.flattened),o}return(0,D._)(n,[{key:"setViewMode",value:function(e){var t=this;return(0,P._)((function(){var n,i,r,o,a,s,c,u;return(0,L.Jh)(this,(function(l){switch(l.label){case 0:return n=t.viewMode,i=n.getCurrentPageIndex(),r=t.scale,[4,t.docRender.getViewBoxCenter(!0,"topLeft")];case 1:if(o=R._.apply(void 0,[l.sent(),2]),a=o[0],s=o[1],n.out(),"fitVisible"==r&&-1!==["facing-page-view-mode"].indexOf(e.getName())&&(t.scale=r=1),t.docRender.isDestroyed)return[2];t.viewMode=new e(t.docRender),t.viewMode.into(t.$ui.get(0),t.pageDOMs,i),t.setRenderFlags(4),c=Object.keys(t.doc.getPageSizesSync()),l.label=2;case 2:return l.trys.push([2,5,,6]),u={pageIndex:a?a.getIndex():i,x:s[0],y:s[1]},[4,Promise.all([t.docRender.zoomTo(t.scale,u),t.loadPageSize(c,0)])];case 3:return l.sent(),[4,t.docRender.goToPage(i,{x:0,y:0})];case 4:return l.sent(),[3,6];case 5:return l.sent(),[3,6];case 6:return[2]}}))}))()}},{key:"getViewMode",value:function(){return this.viewMode}},{key:"preRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(this.isDestroyed)return Promise.resolve();this.scale=e,this.rotate=t,this.createPagesStructure(e,t),this.viewMode.pageDOMs.length||this.viewMode.into(this.$ui.get(0),this.pageDOMs,void 0!==n?n:this.viewMode.currentPageIndex)}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(a){switch(a.label){case 0:return o.isDestroyed?[2,Promise.resolve()]:(o.preRender(e,t,n),"facing-page-view-mode"!==o.viewMode.constructor.getName()?[3,2]:[4,o.updatePagesDomSize(e,!1,o.viewMode.pageDOMs,!1)]);case 1:a.sent(),a.label=2;case 2:return null!=n&&(o.viewMode.jumpToPage(n,{x:i,y:r}),o.docRender.visiblePageRendersStore.dispatch([n])),o.docRender.rendered(),[2,Promise.resolve().then((function(e){return o.docRender.move()}))]}}))}))()}},{key:"getScaleSyncOrNot",value:function(e,t,n,i){"fitVisible"!==n?e(this.getPageScaleSync(t,n,i)):this.getPageScale(t,n,i).then((function(t){e(t)}))}},{key:"movePageRender",value:function(e,t){var n=this,i=this.pageRenders[e];if(i){var r=i.$ui.parent(),o=this.pageRenders[t];if(o){var a=o.$ui.parent();e<t?r.insertAfter(a):r.insertBefore(a),this.pageRenders.splice(e,1),this.pageRenders.splice(t,0,i);for(var s=Math.min(e,t),c=Math.max(e,t),u=s;u<=c;u++)this.pageRenders[u].updateIndex(u);this.updatePageDOMs(),this.getScaleRatio().then((function(e){return n.renderVisiblePages(e).catch((function(e){0}))}))}}}},{key:"movePagesRenderBAK",value:function(e,t){var n=this,i=e.filter((function(e){return e<t})),r=e.filter((function(e){return e>=t})),o=this.pageRenders.length,a=t===o,s=function(e,t){var i=n.pageRenders[e];if(i){var r=i.$ui.parent(),o=n.pageRenders[t];if(o){var a=o.$ui.parent();r.insertBefore(a)}}};i.reverse().forEach((function(e,i){var r=n.pageRenders[e];s(e,t-i),n.pageRenders.splice(e,1),n.pageRenders.splice(t-i-1,0,r)})),r.forEach((function(e,i){var r=n.pageRenders[e];s(e,t+i),n.pageRenders.splice(e,1),n.pageRenders.splice(t+i,0,r)}));for(var c=a?t-1:t,u=Math.min(Math.min.apply(null,e),c),l=Math.max(Math.max.apply(null,e),c),A=u;A<=l;A++)this.pageRenders[A].updateIndex(A);this.updatePageDOMs(),this.getScaleRatio().then((function(e){return n.renderVisiblePages(e).catch((function(e){0}))}))}},{key:"movePagesRender",value:function(e,t,n){var i=this,r=this.pageRenders.length;e.reduce((function(e,n){var o=i.pageRenders[n].$ui.parent();return e?o.insertAfter(e):""===e&&(t===r?o.insertAfter(i.pageRenders[r-1].$ui.parent()):o.insertBefore(i.pageRenders[t].$ui.parent())),o}),"");var o,a=this.pageRenders;e.map((function(e){return a[e]})).forEach((function(e,n){var i=a.indexOf(e);if(a.splice(i,1),0===n)i<t?a.splice(t-1,0,e):a.splice(t,0,e);else{var r=a.indexOf(o);a.splice(r+1,0,e)}o=e})),a.forEach((function(e,t){e.updateIndex(t)})),this.updatePageDOMs(),this.getScaleRatio().then((function(e){return i.renderVisiblePages(e).catch((function(e){0}))}))}},{key:"reversePagesRender",value:function(e,t){var n=this;if(Array.isArray(e)&&!(e.length<=1)){for(var i=this.pageRenders,r=e[0],o=e[e.length-1],a=Array.from({length:o-r+1},(function(e,t){return t+r})),s=a.map((function(e){return i[e].$ui.parent()})),c=s[0].parent(),u=e.length,l=0;l<Math.ceil(u/2);l++){var A=e[l],d=e[u-1-l];if(A!==d){var h,f,p,v=A-r,g=d-r;h=[s[g],s[v]],s[v]=h[0],s[g]=h[1],f=[i[d],[i[A]]],i[A]=f[0],p=(0,R._)(f[1],1),i[d]=p[0]}}this.doc.getPageCount()===s.length?c.empty():s.forEach((function(e){return e.remove()})),0===r?c.prepend(s):c.children().eq(r).before(s),i.forEach((function(e,t){e.updateIndex(t)})),this.updatePageDOMs(),this.getScaleRatio().then((function(e){return n.renderVisiblePages(e).catch((function(e){0}))}))}}},{key:"_updatePageRenders",value:function(e,t){var n=j()(H),i=n.get(0);if(this.pageRenders[e]){if(!t){var r=this.pageRenders[e].$ui.parent();n.insertBefore(r)}this.pageDOMs.splice(e,0,i)}else t||this.$ui.append(n),this.pageDOMs.push(i);var o=n.find(".fv__pdf-page-layout"),a=new lh(o,e,this.doc,this);this.pageRenders.splice(e,0,a);for(var s=e+1;s<this.pageRenders.length;s++)this.pageRenders[s].updateIndex(s)}},{key:"addNewPageByIndex",value:function(e){var t=this,n=(0,T._)(this.viewMode,_h);return this._updatePageRenders(e,n),this.updatePageDOMs(),this.getScaleRatio().then((function(n){var i=t.pageRenders[e];if(i)return t.getScaleSyncOrNot((function(e){return i.updatePageDOMRect(e,t.rotate)}),e,n,t.rotate),t.renderVisiblePages(n).catch((function(e){0}))}))}},{key:"importPagesByArray",value:function(e){var t=this,n=(0,W.createDeferred)(),i=this.importPagesByArrayPromises=this.importPagesByArrayPromises||Promise.resolve();return this.importPagesByArrayPromises=i.finally((function(){var i=(0,T._)(t.viewMode,_h);return e.forEach((function(e){var n=e.getIndex();t._updatePageRenders(n,i);var r=t.pageRenders[n];r&&t.getScaleSyncOrNot((function(e){return r.updatePageDOMRect(e,t.rotate)}),n,t.scale,t.rotate)})),t.updatePageDOMs(),t.setRenderFlags(8),t.renderVisiblePages(t.scale).then((function(){return n.resolve()})).catch((function(e){return n.reject()}))})),n.promise}},{key:"removePageByIndex",value:function(e){if(this.pageRenders[e]){var t=this.pageRenders.splice(e,1)[0];t.$ui.parent().remove().next(".fv__pdf-view-mode-item-split").remove(),t.destroy();for(var n=e;n<this.pageRenders.length;n++)this.pageRenders[n].updateIndex(n);this.pageDOMs.splice(e,1)}this.updatePageDOMs(),this.renderVisiblePages(this.scale).catch((function(e){0}))}},{key:"updatePageDOMs",value:function(){this.pageDOMs=this.pageRenders.map((function(e){return e.$element.get(0)})),this.viewMode.updatePageDOMs(this.pageDOMs)}},{key:"setRenderFlags",value:function(e){for(var t=this.pageRenders,n=0,i=t.length;n<i;n++)t[n].updateRenderFlags(e)}},{key:"loadPageSize",value:function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=0;this.doc.getPageSize(e[i]);)i++;if(i==e.length)t=Promise.resolve();else{var r=e[i];t=this.doc.getPageSizes(r+n,7)}return t}},{key:"renderVisiblePages",value:function(){var e=this;arguments.length>0&&void 0!==arguments[0]||this.docRender.getScale(),arguments.length>1&&void 0!==arguments[1]||this.rotate;if(this.isDestroyed)return Promise.resolve();var t;return this.renderingTask=(t=e.viewMode.getVisibleIndexes(),e.loadPageSize(t,-3).then((function(){return e.adjustRenderVisiblePages(e.scale,e.rotate)})).then((function(){e.viewMode&&(e.viewMode.afterRenderVisiblePages(),e.pdfViewer.eventEmitter.emit(se.visiblePagesRenderCompleted),e.renderingTask=null)})))}},{key:"adjustRenderVisiblePages",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.docRender.getScale(),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=this.viewMode,r=i.getVisibleIndexes();return this.renderPages(r,t,n).then((function(){if(i.docRender&&0!==i.pageDOMs.length)return i.getVisibleIndexes().filter((function(e){return-1===r.indexOf(e)})).length>0?e.adjustRenderVisiblePages(t,n):void 0}))}},{key:"renderPages",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.docRender.getScale(),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotate;if(this.isDestroyed)return Promise.resolve();var r=this.docRender.doc,o=this.renderPagesSerial;o&&o.end().catch((function(e){0})),o=this.renderPagesSerial=new le;for(var a=0;t[a]>=0&&r.getPageSize(t[a]);)a++;var s=[];a<t.length&&s.push((function(e){return r.getPageSizes(t[a],t.length)}));for(var c=0,u=t.length;c<u;c++){var l=t[c];s.push(function(t,n){return function(){return e.getPageScale("fitVisible"===n?0:t,n,i).then((function(n){var r=e.pageRenders[t];if(!r)return Promise.resolve();var o=r.render(n,i).then((function(e){var t=r.$annotsContainer.get(0),n="fv__viewer-annot-container-hide";t.classList.contains(n)&&t.classList.remove(n)}));return e.pdfViewer.asyncRender?Promise.resolve():o})).catch((function(e){return Promise.resolve()}))}}(l,n))}return o.serial(s)}},{key:"renderPagesLayout",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;if(this.isDestroyed)return Promise.resolve();var i=this.renderPagesSerial;i&&i.end().catch((function(e){0})),i=this.renderPagesSerial=new le;for(var r=0;this.doc.getPageSize(t[r++]););for(var o=[function(n){return e.doc.getPageSizes(t[r],t.length-r)}],a=0,s=t.length;a<s;a++){var c=t[a];o.push(function(t,n){return function(){return e.getPageScale(t,n).then((function(n){if(e.pageRenders[t])return e.pageRenders[t].renderLayout(n)}))}}(c,n))}return i.serial(o)}},{key:"destroy",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"destroy",this).call(this);for(var t=this.pageRenders.length;t--;)this.pageRenders[t].destroy();this.pageRenders=[],this.renderPagesSerial&&this.renderPagesSerial.end().catch((function(e){0})),this.viewMode.out(),this.viewMode=null,this.$ui.empty(),this.pageDOMs.length=0;var i=this.pdfViewer.eventEmitter;["actionAdd","actionRemove","layerVisibleChange","imageAdded","watermarkAdded","watermarkRemoved","watermarksAdded","graphicsUpdated","pageAdded","pagesInserted","pageMoved","pagesMoved","pagesReversed","pageRemoved","pagesRemoved","importPages","applyRedaction","flattened","headerFooterUpdated","headerFooterAdded","pagesReplace","articleThreadUpdated","articleBeadAdded","articleBeadUpdated","updateZoomMode"].forEach((function(t){e[t]&&i.off(se[t],e[t]),e[t]=null})),this.renderPagesSerial&&this.renderPagesSerial.end(),this.renderPagesSerial=null}},{key:"renderViewMode",value:function(e){this.viewMode.renderViewMode(e)}},{key:"goToPage",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(this.getPDFPageRender(e))return this.viewMode.jumpToPage(e,{x:n,y:i})}},{key:"updatePagesDomSize",value:function(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.isDestroyed)return Promise.resolve();var o=this.pdfViewer.getScrollWrap(),a=o.getHeight(),s=o.getWidth(),c=[],u=this.doc.isPageSameSize();this.pageRenders.forEach((function(t,n){var r=t.pageContentTiles;t.updateRenderFlags(7),t.page&&(t.page.clearDesignerAssitCache(),r&&r.clearCache());var l=i.getPageScale("fitVisible"===e||u?0:n,e,i.rotate),A=t.annotsRender;c.push(l.then((function(e){var c=4*e/3,u=i.doc,l=u.getPageSize(n);l||(l=u.getEstimatedPageSize(n));var d=l.width,h=l.height;switch(i.rotate/90){case 1:case 3:var f=d;d=h,h=f}t.zoomingScale=e,t.scale=e,t.rotate=i.rotate;var p,v=r?r.renderedScale:1,g=c*W.dpr/v;if(p="scale("+g+")",!n&&i.viewMode.fixMargin){var m=u.getPageSizesSync(),y=Object.keys(m).reduce((function(e,t){return t=m[t],e.height=Math.max(t.height,e.height),e.width=Math.max(t.width,e.width),e}),{width:0,height:0}),_=y.width*c,b=y.height*c;switch(i.rotate/90){case 1:case 3:var w=_;_=b,b=w}i.viewMode.fixMargin(_,b),a==o.getHeight()&&s==o.getWidth()||i.viewMode.fixMargin(d*c,h*c)}t.setShowWidth(d*c),t.setShowHeight(h*c);t.$container.parent().css({width:d*c,height:h*c}).find(".fv__pdf-page-content-container").css("transform",p),A&&A.updateSize(e,i.rotate)})))}));var l,A=this;return Promise.all(c).then((l=(0,P._)((function(i){var c,u;return(0,L.Jh)(this,(function(l){switch(l.label){case 0:return r?[2,i]:!isNaN(e)||a==o.getHeight()&&s==o.getWidth()?[3,3]:(c=A.pdfViewer.customs.isFullScreen,(u=c)?[4,c()]:[3,2]);case 1:u=l.sent(),l.label=2;case 2:if(!(c=u))return[2,A.updatePagesDomSize(e,t,n,!0)];l.label=3;case 3:return[2,i]}}))})),function(e){return l.apply(this,arguments)}))}},{key:"clearPagesRenderCache",value:function(){this.pageRenders.map((function(e){e.clearCanvasCache(),e.invisibleRender(!0)}))}},{key:"zoomTo",value:function(e,t){var n=this;if(this.isDestroyed)return Promise.resolve();this.scale=e,this.doc.clearAllDesignerAssistCache();var i,r,o=[],a=t.pageIndex;if("device"==t.type)i=t;else{this.pageRenders[a];var s=this;o.push(this.getPageScale("fitVisible"===e?0:a,e,this.rotate).then((r=(0,P._)((function(e){var n,r;return(0,L.Jh)(this,(function(o){switch(o.label){case 0:return[4,s.doc.getPageByIndex(a)];case 1:return n=o.sent(),r=n.getDevicePoint([t.x,t.y],e,s.rotate),i={x:r[0],y:r[1]},[2]}}))})),function(e){return r.apply(this,arguments)})))}return o.push(this.updatePagesDomSize(e,!1,this.viewMode.pageDOMs)),Promise.all(o).then((function(e){if(!n.isDestroyed){var r=t.pageIndex,o=n.getPDFPageRender(r);if(n.renderViewMode(o),n.pdfViewer.getScrollWrap().disabled)return n.pdfViewer.store.getCurrentValue("force-redraw")||n.pdfViewer.getScrollWrap().disable(0),Promise.resolve(n.viewMode.jumpToPage(r,i));var a=n.viewerRender.scrollWrap;return new Promise((function(e){n.pdfViewer.eventEmitter.once(se.afterRenderingVisiblePages,e);var t=a.getScrollTop(),o=a.getScrollLeft();n.viewMode.jumpToPage(r,i),requestAnimationFrame((function(){var n=a.getScrollTop(),i=a.getScrollLeft();n===t&&i===o&&e()}))}))}}))}},{key:"getScaleRatio",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.docRender.getScale(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.viewMode.getCurrentPageIndex();return n>=this.docRender.getPDFDoc().getPageCount()&&(n=this.docRender.getPDFDoc().getPageCount()-1),this.getPageScale(n,e,t)}},{key:"rotateTo",value:function(e){var t=this;(0,W.assertThat)((0,W.isValidRotationAngle)(e),"Illegal rotation angle: ".concat(e,", it should be 0,90,180 or 270")),this.clearPagesRenderCache(),this.rotate=(e%360+360)%360;var n=this.viewMode.getVisibleIndexes();return Promise.all(n.map((function(e){var n=t.pageRenders[e];return n.$annotsContainer.addClass("fv__viewer-annot-container-hide"),n.clearCanvasCache(!0),n.renderLayout(void 0,t.rotate)}))).then((function(e){t.setRenderFlags(7)})).then((function(e){return Promise.all(t.pageRenders.map((function(e){if(-1===n.indexOf(e.index))return e.renderLayout(void 0,t.rotate)})))})).finally((function(e){t.pdfViewer.eventEmitter.emit(se.fitWidthResizeViewport)}))}},{key:"adjustFitPage",value:function(e){var t,n,i=this.doc.getPageSize(e);return i&&(t=i.height,n=i.width),t||(t=(i=this.doc.getPageSize(0)).height,n=i.width),t/n>this.viewMode.getFitHeight(e)/this.viewMode.getFitWidth(e)?"fitHeight":"fitWidth"}},{key:"getPageScaleSync",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this._getPageScaleSync(e,t,n)}},{key:"_getPageScaleSync",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return n.doc.getPageSize(e)};if(i=(i%360+360)%360,"fitHeight"===t&&(t=this.adjustFitPage(e)),+t>this.minScale)return Math.min(+t,this.maxScale);if(+t<=this.minScale)return this.minScale;if("fitWidth"===t){var o=r();if(o||(o=this.doc.getEstimatedPageSize(e)),o){if(!this.viewMode)return this.resolveScaleValue(1);var a=this.viewMode.getFitWidth(e),s=90===i||270===i?o.height:o.width;return this.resolveScaleValue(a/(s*(0,G.F2)(1)))}}else if("fitHeight"===t){var c=r();if(c||(c=this.doc.getEstimatedPageSize(e)),c){var u=90===i||270===i?c.width:c.height;return this.resolveScaleValue(this.viewMode.getFitHeight(e)/(u*(0,G.F2)(1)))}}return-1}},{key:"getEstimatedPageScaleSync",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this._getPageScaleSync(e,t,i,(function(){return n.doc.getEstimatedPageSize(e)}))}},{key:"getPageScale",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotate;return this.viewMode&&this.doc?("fitHeight"===t&&(t=this.adjustFitPage(e)),+t>this.minScale?Promise.resolve(Math.min(+t,this.maxScale)):+t<=this.minScale?Promise.resolve(this.minScale):"fitWidth"===t?this.doc.getPxPageBasicInfo(e).then((function(t){if(!n.viewMode)return Promise.resolve(1);var r=n.viewMode.getFitWidth(e),o=90===i||270===i?t.height:t.width;return n.resolveScaleValue(r/o)})):"fitVisible"===t?this.doc.getPxPageBasicInfo(e).then((function(t){var r,o=n;return n.doc.calcPageContentBBoxTemp(xt.CalcContentsBox).then((r=(0,P._)((function(n){var r,a,s,c,u;return(0,L.Jh)(this,(function(l){switch(l.label){case 0:return o.viewMode?(r=1,a=t.rotation,s=o.viewMode.getFitWidth(e),n&&void 0!==n.left&&n.left!==n.right&&n.top!==n.bottom?[4,o.doc.getPageMediaBoxSizeTemp(e)]:[3,2]):[2,Promise.resolve(1)];case 1:c=l.sent(),r=(r=1===a||3===a?c.mediaHeight/Math.abs(n.top-n.bottom):c.mediaWidth/Math.abs(n.right-n.left))>1.5?1.5:r,l.label=2;case 2:return u=90===i||270===i?t.height:t.width,[2,o.resolveScaleValue(s*r/u)]}}))})),function(e){return r.apply(this,arguments)}))})):"fitHeight"===t?Promise.all([this.viewMode.getFitHeight(e),this.doc.getPxPageBasicInfo(e).then((function(e){return 90===i||270===i?e.width:e.height}))]).then((function(e){var t=(0,R._)(e,2),i=t[0],r=t[1];return n.resolveScaleValue(i/r)})):Promise.resolve(1)):Promise.resolve(1)}},{key:"resolveScaleValue",value:function(e){if(e=+e,!isFinite(e))throw new Error("The scale value must be valid number, but actual: ".concat(e));return Math.max(this.minScale,Math.min(this.maxScale,e))}},{key:"createPagesStructure",value:function(e,t){if(!this.pageDOMs.length){for(var n=this.doc.getPageCount(),i=function(){var e=document.createElement("div");e.innerHTML=H;var t=e.firstElementChild;return e.removeChild(t),t}(),r=[],o=0;o<n;o++){var a=this.doc.getPageSize(o),s=void 0,c=void 0;if(a&&"fitVisible"!==e){var u,l=a.width,A=a.height,d=this.getPageScaleSync(o,e,t),h=(0,G.ke)((0,G.F2)(l),(0,G.F2)(A),d,t);s=(u=(0,R._)(h,2))[0],c=u[1]}var f=i.cloneNode(!0);r.push(f);var p=f.firstElementChild;if(this.pageRenders[o])return;null!=s&&null!=c&&(p.style.width=s+"px",p.style.height=c+"px"),this.pageRenders[o]=new lh(j()(p),o,this.doc,this),this.pageRenders[o].setShowWidth(s),this.pageRenders[o].setShowHeight(c)}this.pageDOMs=r,this.isPageDOMsLoaded=!0,this.loadPageRendersDefer.resolve()}}},{key:"getLoadedPDFPageRender",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[4,t.loadPageRendersDefer.promise];case 1:return n.sent(),[2,t.getPDFPageRender(e)]}}))}))()}},{key:"getPDFPageRender",value:function(e){try{return this.pageRenders[e]}catch(e){return null}}},{key:"unActiveAnnotRender",value:function(){for(var e=this.pageRenders||[],t=e.length;t--;){e[t].unActiveAnnotRender()}}},{key:"moveTo",value:function(e){var t=this;return this.pagesEndRender(e),this.pdfViewer.eventEmitter.emit(se.beforeRenderingVisiblePages,e),this.renderPages(e).finally((function(){t.pdfViewer.eventEmitter.emit(se.afterRenderingVisiblePages,e)}))}},{key:"pagesEndRender",value:function(e){var t=this.pageRenders||[],n=t.length;if(!this.pdfViewer.keepCache){var i=this.pdfViewer.tileCache,r=e[0]||0,o=r-i;if(--r>-1)for(var a=r;a>=0;a--){var s=t[a];s&&s.invisibleRender(a<=o)}var c=e[e.length-1]||0,u=c+i;if(++c<n)for(var l=c;l<n;l++){var A=t[l];A&&A.invisibleRender(l>=u)}}}}],[{key:"getDefaultName",value:function(){return"pdfPagesRender"}}]),n}(Q));const wh=bh;const kh=function(){function e(t,n){(0,C._)(this,e),this.$ui=j()(t),this.docRender=n,this.viewerRender=n.viewerRender,this.pdfViewer=this.viewerRender.pdfViewer}return(0,D._)(e,[{key:"rendering",value:function(){this.closeLoadingFn=this.pdfViewer.viewerUI.loading(this.$ui.get(0),"doc")}},{key:"rendered",value:function(){this.closeLoadingFn&&this.closeLoadingFn(),this.$ui.addClass("rendered"),this.$ui.empty()}},{key:"destroy",value:function(){this.$ui=null}}]),e}();var xh=function(){function e(t,n){(0,C._)(this,e),this.eCustom=t,this.pdfDocRender=n,this.doc=n.doc}return(0,D._)(e,[{key:"render",value:function(e){}},{key:"destroy",value:function(){this.pdfDocRender=null,this.doc=null}}]),e}(),Ph=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4294967292;(0,C._)(this,e),this.permissions=t}return(0,D._)(e,[{key:"getValue",value:function(){return this.permissions}},{key:"checkPrint",value:function(){return this.permissions&Qt.print}},{key:"checkModify",value:function(){return this.permissions&Qt.modify}},{key:"checkExtract",value:function(){return this.permissions&Qt.extract}},{key:"checkAnnotForm",value:function(){return this.permissions&Qt.annotForm}},{key:"checkFillForm",value:function(){return this.permissions&Qt.fillForm}},{key:"checkExtractAccess",value:function(){return this.permissions&Qt.extractAccess}},{key:"checkAssemble",value:function(){return this.permissions&Qt.assemble}},{key:"checkPrintHigh",value:function(){return this.permissions&Qt.printHigh}},{key:"checkCannotModifyAny",value:function(){return 0==(1323&this.permissions)}},{key:"putCannotModifyAny",value:function(){return this.or(-1324)}},{key:"checkCannotModifyExcludeAssemble",value:function(){return 0==(299&this.permissions)}},{key:"putCannotModifyExcludeAssemble",value:function(){return this.or(-300)}},{key:"and",value:function(e){return this.permissions=this.permissions&e,this}},{key:"or",value:function(e){return this.permissions=this.permissions|e,this}}]),e}(),Ch=(n(8962),function(){function e(t,n){(0,C._)(this,e),this.pdfviewer=t,this.docRender=n,this.$ui=j()('<canvas class="fv_shapes_ui"></canvas>')}return(0,D._)(e,[{key:"initPageShapes",value:function(e){this.pdfviewer.getAllActiveElements();return this.targetPage&&this.targetPage.index==e||((this.targetPage=this.docRender.pagesRender.pageRenders[e]).$ui.append(this.$ui.show()),this.drawShape()),!0}},{key:"setOffset",value:function(e,t){var n=1e6,i=1e6,r=0,o=0,a=this.path={},s=this.pdfviewer.getAllActiveElements(),c=(s[0].pageRender?s[0].pageRender:s[0].annotsRender.pageRender).$ui[0].getBoundingClientRect();for(var u in s.forEach((function(e){var t;e.getRect?((t=e.getRect()).width=t.right-t.left,t.height=t.bottom-t.top,t.left=c.left+t.left,t.right=c.left+t.right,t.bottom=c.top+t.bottom,t.top=c.top+t.top):t=e.$label[0].getBoundingClientRect(),t.left<n&&(n=t.left),t.top<i&&(i=t.top),t.right>r&&(r=t.right),t.bottom>o&&(o=t.bottom),a[e.annot.getId()]={left:t.left,top:t.top,width:t.width,height:t.height}})),this.path){var l=this.path[u];l.left-=n,l.top-=i}this.deltaX=e-n,this.deltaY=t-i;var A={width:r-n+2,height:o-i+2};this.$ui.css(A).attr(A)}},{key:"drawShape",value:function(){var e=this.$ui[0],t=e.getContext("2d");for(var n in t.clearRect(0,0,e.offsetWidth,e.offsetHeight),t.save(),t.beginPath(),t.strokeStyle="#5aa",t.lineWidth=2,this.path){var i=this.path[n];t.rect(i.left+1,i.top+1,i.width,i.height)}t.stroke(),t.restore()}},{key:"update",value:function(e,t){if(this.targetPage){var n=this.targetPage.$ui[0].getBoundingClientRect(),i=Math.max(n.left,e-this.deltaX),r=Math.max(n.top,t-this.deltaY),o=this.$ui[0];i+o.offsetWidth>n.right&&(i=n.right-o.offsetWidth),r+o.offsetHeight>n.bottom&&(r=n.bottom-o.offsetHeight),this.$ui.css({left:i-n.left,top:r-n.top})}}},{key:"hide",value:function(){return this.targetPage=null,this.$ui&&this.$ui.hide(),!1}},{key:"destroy",value:function(){this.pdfviewer=null,this.docRender=null,this.$ui&&(this.$ui.remove(),this.$ui=null)}},{key:"moveAnnot",value:function(e){var t=this,n=e[0].annot.getPDFPage(),i=this.targetPage;if(!i)return Promise.resolve(this.hide());var r=i.page,o=n.getIndex(),a=i.index;if(a==o)return Promise.resolve(this.hide());var s=n.doc,c=e.reduce((function(e,t){return t.getRelevanceRenders?(0,M._)(e).concat((0,M._)(t.getRelevanceRenders(!0))):(0,M._)(e).concat([t.annot.getId()])}),[]),u=c.reduce((function(e,r){var a=n.annotIdMap[r],s={},c={},u=t.path[r];if(u){var l=t.pdfviewer.getAnnotRender(o,r);l=l.component,s="FreeTextCallout"==a.getIntent()?l.backupProperty.rect:a.getRect();var A=u.left,d=u.top,h=t.$ui[0].getBoundingClientRect(),f=l.getRect();h={width:f.right-f.left,height:f.bottom-f.top,left:h.left+A,top:h.top+d},c=i.getPDFRectFromClientRect(h)}return e[r]={rect:c,oldRect:s},e}),{});return this.pdfviewer.killFocus().then((function(e){var i=Object.keys(u).map((function(e){return Number(e)}));return n.getAnnotsByObjectNumArray(i).then((function(e){var i=e.reduce((function(e,t){return e[t.getUniqueID()]=u[t.getObjectNumber()],e}),{});return s.moveAnnotsToPage(n,r,u).then((function(e){return t.pdfviewer.collaborate(Nd.MOVE_ANNOTS_BETWEEN_PAGES,{fromPageIndex:o,toPageIndex:a,annots:i}),e}))}))})).then((function(e){return t.hide(),e}))}}]),e}());const Dh=Ch;var Eh=["movingstart","movingend","movingcancel"],Sh=["pointermove"],Ih=function(){function e(t,n){(0,C._)(this,e),this.pdfviewer=t,this.docRender=n,this.state=0,this.initHammer(t,n)}return(0,D._)(e,[{key:"initHammer",value:function(e,t){var n=this;if("JR"===e.config.engineMode){var i=t.$doc;this.movingstart=function(r){r.deltaX,r.deltaY;var o=r.srcEvent;if(0==n.state){var a=n.shapeManager=new Dh(e,t);n.pointermove=function(e){if(!(n.state<2)){var t=(0,W.getClientX)(e),i=(0,W.getClientY)(e),r=document.elementsFromPoint(t,i).find((function(e){return e.classList.contains("fv__pdf-page-layout")})),o=r?+r.getAttribute("data-index"):NaN;if(!isNaN(o)){n.state=2;var s=n.getEnableMoveElement();if(s&&s.length)if(!n.toggleShapeControl(s,+o))a.initPageShapes(o)?(a.update(t,i),n.state=3):(n.state=1,n.getEnableMoveElement().forEach((function(e){var t=e.shapeControl;t&&(t.show(),t.enable())})))}}},Sh.forEach((function(e){return i.on(e,n[e])}))}n.shapeManager&&(n.shapeManager.setOffset(o.clientX,o.clientY),n.state=2)},this.movingend=function(e){n.shapeManager&&(3==n.state&&n.shapeManager&&n.shapeManager.moveAnnot(n.getEnableMoveElement()).then((function(e){n.getEnableMoveElement().forEach((function(e){var t=e.shapeControl;t&&((0,T._)(e,qd)?(e._applyShapeChange(),t.show(),t.enable()):e.shapeControlOnEnd())})),n.pdfviewer.initializers[2].selectAllAnnotOrWidget(n.pdfviewer,e.filter((function(e){return"popup"!==e.getType()})))})),n.state=1)},this.movingcancel=function(e){n.shapeManager&&(n.shapeManager.hide(),n.state=1)},Eh.forEach((function(t){return e.eventEmitter.on(t,n[t])}))}}},{key:"toggleShapeControl",value:function(e,t){var n=this,i=e[0].annot.getPDFPage().getIndex(),r=!1,o=this.pdfviewer.customs.isCollaborationMode&&this.pdfviewer.customs.isCollaborationMode();return e.forEach((function(e){if(o&&n.pdfviewer.customs.getAnnotPermissionsSync(e.annot).indexOf("fully")<0)return;var a=e.shapeControl;-1==t||t==i?(a&&(a.show(),a.enable()),(0,T._)(e,qd)||e.$label.show(),n.shapeManager.hide(),r=!0):(a&&a.hide(),(0,T._)(e,qd)||e.$label.hide())})),r}},{key:"getActiveElement",value:function(){return this.pdfviewer.getAllActiveElements()}},{key:"getEnableMoveElement",value:function(){var e=this.getActiveElement(),t=-1===e.findIndex((function(e){return e.shapeControl&&(e.shapeControl.isDisabled||!e.shapeControl.isAllDirection())}));return t?e:[]}},{key:"destroy",value:function(){var e=this,t=this.pdfviewer;Eh.forEach((function(n){t.eventEmitter.off(n,e[n]),e[n]=null}));var n=this.docRender.$doc;Sh.forEach((function(t){n.off(t,e[t]),e[t]=null})),this.pdfviewer=null,this.docRender=null,this.shapeManager&&this.shapeManager.destroy()}}]),e}();const Th=Ih;var Rh=[{background:"#ffffff",foreground:"#000000",componentName:"white"},{background:"#faf9de",foreground:"#1f1f00",componentName:"yellowish"},{background:"#fff2e2",foreground:"#381f00",componentName:"lightOrange"},{background:"#dce2f1",foreground:"#232a3c",componentName:"lightBlue"},{background:"#3b3537",foreground:"#b0afac",componentName:"lightBlack"},{background:"#333333",foreground:"#838383",type:"moon",componentName:"moon"}],Mh=function(){var e={background:null,foreground:null},t=localStorage.getItem("change-color-user-choice");return t&&Rh[Number(t)]&&(e=function(e){for(var t in delete(e=JSON.parse(JSON.stringify(e))).type,e)e.hasOwnProperty(t)&&(e[t]=Number(e[t].replace("#","0xff")));return e}(Rh[Number(t)])),e},Fh=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;(0,C._)(this,e),this.top=t,this.left=n,this.bottom=i,this.right=r},Nh=function(){function e(t){(0,C._)(this,e),this.offsetLeft=0,this.offsetTop=0,this.offsetRight=0,this.offsetBottom=0,this.target=t}return(0,D._)(e,[{key:"moveLeft",value:function(e){return this.offsetLeft+=e,this.offsetRight+=e,this}},{key:"moveTop",value:function(e){return this.offsetTop+=e,this.offsetBottom+=e,this}},{key:"move",value:function(e,t){return this.moveLeft(e).moveTop(t)}},{key:"moveTo",value:function(e,t){return this.offsetLeft=this.offsetRight=this.target.left-e,this.offsetTop=this.offsetBottom=this.target.top-t,this}},{key:"shrink",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;return this.add(new Fh(e,t,-n,-i))}},{key:"expand",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;return this.add(new Fh(-e,-t,n,i))}},{key:"zoom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"center",i=this.target.right+this.offsetRight-(this.target.left+this.offsetLeft),r=this.target.bottom+this.offsetBottom-(this.target.top+this.offsetTop),o=i*e-i,a=r*e-r,s=0,c=0,u=0,l=0;switch(t){case"right":s=-o;break;case"center":s=-o/2,c=o/2;break;default:c=o}switch(n){case"bottom":u=-a;break;case"center":u=-a/2,l=a/2;break;default:l=a}return this.add(new Fh(u,s,l,c))}},{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.top,n=void 0===t?0:t,i=e.left,r=void 0===i?n:i,o=e.bottom,a=void 0===o?n:o,s=e.right,c=void 0===s?r:s;return this.offsetLeft+=r,this.offsetRight+=c,this.offsetBottom+=a,this.offsetTop+=n,this}},{key:"extract",value:function(){var e=this.target.left+this.offsetLeft,t=this.target.right+this.offsetRight;return{left:e,top:this.target.top+this.offsetTop,right:t,bottom:this.target.bottom+this.offsetBottom}}},{key:"boundary",value:function(){var e=this.target.left+this.offsetLeft,t=this.target.right+this.offsetRight,n=this.target.top+this.offsetTop;return{left:e,top:n,width:t-e,height:this.target.bottom+this.offsetBottom-n}}},{key:"intersect",value:function(t){(0,T._)(t,e)||(t=e.on(t));var n=this.toPlainObject(),i=t.toPlainObject(),r={left:Math.max(n.left,i.left),right:Math.min(n.right,i.right),top:Math.max(n.top,i.top),bottom:Math.min(n.bottom,i.bottom)};return e.on(r)}},{key:"toPlainObject",value:function(){return{left:this.target.left+this.offsetLeft,right:this.target.right+this.offsetRight,top:this.target.top+this.offsetTop,bottom:this.target.bottom+this.offsetBottom}}},{key:"optimize",value:function(t){var n=this.toPlainObject(),i=n.left,r=n.right,o=n.top,a=n.bottom,s=t.left,c=t.right,u=t.top,l=t.bottom,A=function(e,t,n){return Math.max(t,Math.min(e,n))},d={left:A(i,s,c),right:A(r,s,c),top:A(o,u,l),bottom:A(a,u,l)},h=d.left,f=d.right,p=d.top,v=d.bottom;return Object.assign(d,{left:Math.min(h,f),right:Math.max(h,f),top:Math.min(p,v),bottom:Math.max(p,v)}),e.on(d)}}],[{key:"isOverlap",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Math.max(e.left,t.left),r=Math[n?"min":"max"](e.top,t.top),o=Math[n?"max":"min"](e.bottom,t.bottom),a=Math.min(e.right,t.right);if(i<=a)if(n){if(r>=o)return(a-i)*(r-o)}else if(r<=o)return(a-i)*(o-r);return 0}},{key:"isInRect",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e>=n.left&&e<=n.right)if(i){if(t>=n.bottom&&t<=n.top)return!0}else if(t<=n.bottom&&t>=n.top)return!0;return!1}},{key:"rectInRect",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!(e.left>=t.left&&e.right<=t.right)&&(n?e.top<=t.top&&e.bottom>=t.bottom:e.top>=t.top&&e.bottom<=t.bottom)}},{key:"isSimilar",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e.top-t.top)<n&&Math.abs(e.bottom-t.bottom)<n&&Math.abs(e.left-t.left)<n&&Math.abs(e.right-t.right)<n}},{key:"on",value:function(t){return new e(t)}},{key:"subtract",value:function(e,t){return new Fh(e.top-t.top,e.left-t.left,e.bottom-t.bottom,e.right-t.right)}},{key:"expandOffset",value:function(e,t){return new Fh(e.top-t.top,e.left-t.left,t.bottom-e.bottom,t.right-e.right)}},{key:"copyTo",value:function(e,t){t.left=e.left,t.top=e.top,t.right=e.right,t.bottom=e.bottom}}]),e}(),Lh=n(3162);function Oh(e,t,n){if(W.isMobile&&W.isSafari&&(new RegExp(/\sversion\/(.*?)\s/i).test(navigator.userAgent.toLowerCase())&&Number(RegExp.$1)<13))return window.pdfui.pdfViewer.viewerUI.alert("alert.browserNotSupportDownload");void 0===n&&(n="application/octet-stream");var i=(0,T._)(e,Blob)?e:new Blob(e,{type:n});(0,Lh.saveAs)(i,t)}var jh=Symbol("isDisabled"),Bh=jh,Vh=Bh,Uh=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r;return(0,C._)(this,n),r=t.call(this),(0,z._)((0,x._)(r),"docRender",void 0),(0,z._)((0,x._)(r),"formFillerService",void 0),(0,z._)((0,x._)(r),"eHandler",void 0),(0,z._)((0,x._)(r),"store",void 0),(0,z._)((0,x._)(r),"mouseEventThrottleExecutor",void 0),(0,z._)((0,x._)(r),"keyboardEventExecutor",void 0),(0,z._)((0,x._)(r),Vh,void 0),(0,z._)((0,x._)(r),"isPaused",void 0),r.docRender=e,r.formFillerService=i,r.store=new W.Store,r.mouseEventThrottleExecutor=new W.ThrottleAsyncTaskExecutor(100,!0),r.keyboardEventExecutor=new W.QueuedAsyncTaskExecutor,r[Bh]=!0,r.isPaused=!1,r.eHandler=r.docRender.$doc.get(0),r.bindDOMEvent(),r}return(0,D._)(n,[{key:"controllerAPI",get:function(){return this.formFillerService.controllerAPI}},{key:"editorAPI",get:function(){return this.formFillerService.editorAPI}},{key:"doc",get:function(){return this.docRender.doc}},{key:"disable",value:function(){this[jh]=!0}},{key:"enable",value:function(){this[jh]=!1}},{key:"isDisabled",get:function(){return this[jh]}},{key:"pause",value:function(){this.isPaused=!0}},{key:"resume",value:function(){this.isPaused=!1}},{key:"on",value:function(e,t){return this.store.subscribe(e,t)}},{key:"bindDomEventTo",value:function(e,t,n,i){return e.addEventListener(t,n,i),function(){e.removeEventListener(t,n,i)}}},{key:"bindDOMEvent",value:function(){var e,t=this,n=this.formFillerService.virtualWidgetElement,i=function(e){if(t.isDisabled||t.isPaused)return!1;var n,i=null!==(n=e.relatedTarget)&&void 0!==n?n:e.target;return!!(0,T._)(i,HTMLElement)},r=!1,o=function(n){i(n)&&(r=!0,e=n,t.mouseEventThrottleExecutor.waitForLastTask().then((function(){return t.dispatch(n)})))};this.addDestroyHook(this.bindDomEventTo(n,"pointerdown",(function(e){e.stopPropagation(),o(e)})),this.bindDomEventTo(this.eHandler,"pointerdown",(function(e){o(e)})),this.bindDomEventTo(this.eHandler,"pointermove",(function(e){i(e)&&t.mouseEventThrottleExecutor.exec((function(){return t.dispatch(e)}))})),this.bindDomEventTo(document,"pointerup",(function(n){if(r&&(r=!1,i(n))){var o=document.elementsFromPoint(n.clientX,n.clientY).find((function(e){return e.classList.contains("fv__pdf-view-mode-item")})),a=null!=o?o:null==e?void 0:e.target;a&&t.mouseEventThrottleExecutor.waitForLastTask().then((function(){var e=new PointerEvent("pointerup",n);return Object.defineProperty(e,"target",{value:a,enumerable:!0}),t.dispatch(e)})).then((function(){t.formFillerService.focusOnControl&&t.formFillerService.virtualWidgetElement.focus({preventScroll:!0})}))}}),{capture:!0})),["pointerup","pointerdown"].forEach((function(e){var n,i=t,r=(n=(0,P._)((function(e){var t,n;return(0,L.Jh)(this,(function(r){return i.isDisabled||i.isPaused?[2]:(n=null!==(t=e.relatedTarget)&&void 0!==t?t:e.target,(0,T._)(n,HTMLElement)?n.closest(".fv__pdf-view-mode-item")?[2]:i.formFillerService.canRemoveFocus(n)&&i.formFillerService.hasFocus()?(i.formFillerService.removeFocus(),[2]):[2]:[2])}))})),function(e){return n.apply(this,arguments)});t.addDestroyHook(t.bindDomEventTo(document,e,r,!0))}));var a=function(e){t.formFillerService.hasFocus()&&(e.stopPropagation(),t.keyboardEventExecutor.exec((function(){return t.dispatch(e)})),(0,W.isMatch)(e,W.matchers.or(W.matchers.ArrowRight,W.matchers.ArrowLeft,W.matchers.ArrowDown,W.matchers.ArrowUp,W.matchers.PageDown,W.matchers.PageUp,W.matchers.Home,W.matchers.End))&&e.preventDefault())},s=this.formFillerService.virtualWidgetElement;this.addDestroyHook(this.bindDomEventTo(window,"blur",(function(e){var n;if(t.formFillerService.hasFocus())if("IFRAME"!==(null===(n=document.activeElement)||void 0===n?void 0:n.nodeName))t.formFillerService.removeFocus();else try{var i,r;if(null===(r=document.activeElement)||void 0===r||null===(i=r.contentDocument)||void 0===i?void 0:i.contains(t.eHandler))return}catch(e){}})),this.bindDomEventTo(s,"keydown",a),this.bindDomEventTo(s,"keyup",a),this.bindDomEventTo(s,"wheel",(function(e){t.dispatch(e)})),this.bindDomEventTo(s,"input",(function(e){if("insertText"===e.inputType)t.keyboardEventExecutor.exec((function(){return t.dispatch(e)}));e.target.textContent=""})),this.bindDomEventTo(s,"paste",(function(e){var n,i,r=null===(n=e.clipboardData)||void 0===n?void 0:n.getData("text/plain");if(r){var o={type:"input",data:r,flags:t.getGlobalGestureFlags(),timestamp:e.timeStamp};return null===(i=t.editorAPI)||void 0===i?void 0:i.insertFromPaste(o)}})))}},{key:"dispatch",value:function(e){var t=this;return(0,P._)((function(){var n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return(0,T._)(e,InputEvent)?[2,t.dispatchInputEvent(e)]:(0,T._)(e,WheelEvent)?[4,t.createGestureMouseWheelEvent(e)]:[3,2];case 1:return n=i.sent(),[3,5];case 2:return(0,T._)(e,MouseEvent)||window.TouchEvent&&(0,T._)(e,TouchEvent)||(0,T._)(e,PointerEvent)?[4,t.createGestureMouseEvent(e)]:[3,4];case 3:return n=i.sent(),[3,5];case 4:(0,T._)(e,KeyboardEvent)?n=t.createGestureKeyboardEvent(e):(0,T._)(e,ClipboardEvent)&&(n=t.createGesturePasteEvent(e)),i.label=5;case 5:return n?[4,t.dispatchGestureEvent(n)]:[3,7];case 6:i.sent(),i.label=7;case 7:return(0,T._)(e,KeyboardEvent)&&"keydown"===e.type?[2,t.dispatchInputEvent(e)]:[2]}}))}))()}},{key:"dispatchInputEvent",value:function(e){var t=this;return(0,P._)((function(){var n,i,r,o;return(0,L.Jh)(this,(function(a){if(n=t.editorAPI,(0,T._)(e,InputEvent))return i={type:"input",data:e.data||void 0,flags:t.getGlobalGestureFlags(),timestamp:e.timeStamp},[2,null==n?void 0:n.insertText(i)];switch(r={type:"input",flags:t.createGestureFlags(e),timestamp:e.timeStamp},e.keyCode){case W.KeyCodes.Backspace:return[2,null==n?void 0:n.deleteContentBackward(r)];case W.KeyCodes.Delete:return[2,null==n?void 0:n.deleteContentForward(r)];case W.KeyCodes.Enter:return[2,null===(o=t.editorAPI)||void 0===o?void 0:o.enter(r)]}if(e.ctrlKey)switch(e.keyCode){case W.KeyCodes.KEY_A:return[2,null==n?void 0:n.selectAll(r)];case W.KeyCodes.KEY_X:return[2,null==n?void 0:n.deleteByCut(r)];case W.KeyCodes.KEY_C:return[2,null==n?void 0:n.copy(r)]}return[2]}))}))()}},{key:"dispatchGestureEvent",value:function(e){var t=this;return(0,P._)((function(){var n,i,r;return(0,L.Jh)(this,(function(o){switch(o.label){case 0:if(!t.controllerAPI)return[2];if(n=e.type,!t.controllerAPI[n])return W.LoggerFactory.getLogger("FillerDOMEventTransmitter").error("Unsupported event type",n),[2];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,t.controllerAPI[n](e)];case 2:return i=o.sent(),t.store.dispatch(n,{event,success:!0,data:i}),[3,4];case 3:return r=o.sent(),t.store.dispatch(n,{event,success:!1,error:r}),[3,4];case 4:return[2]}}))}))()}},{key:"createGestureMouseWheelEvent",value:function(e){var t=this;return(0,P._)((function(){var n,i,r;return(0,L.Jh)(this,(function(o){switch(o.label){case 0:return(i=t.formFillerService.focusOnControl)?[4,t.docRender.doc.query({type:"annot",annotId:i})]:[2];case 1:return r=o.sent(),(0,T._)(r,Cr)?(null===(n=r.getField())||void 0===n?void 0:n.getType())!==pn.ListBox?[2]:[2,{type:"mousewheel",deltaX:e.deltaX,deltaY:e.deltaY,flags:t.createGestureFlags(e),timestamp:e.timeStamp}]:[2]}}))}))()}},{key:"createGestureMouseEvent",value:function(e){var t=this;return(0,P._)((function(){var n,i,r,o,a,s,c,u,l,A,d,h,f,p;return(0,L.Jh)(this,(function(v){switch(v.label){case 0:return r=function(){switch(e.type){case"pointermove":return"mousemove";case"pointerup":case"touchend":return"mouseup";case"pointerdown":case"touchstart":return"mousedown"}return e.type}(),o=e.target,(a=o.closest(".fv__pdf-view-mode-item"))?void 0===(s=null===(i=t.docRender)||void 0===i||null===(n=i.pagesRender)||void 0===n?void 0:n.pageRenders)?[2]:(c=s.map((function(e){return e.$element[0]})).indexOf(a),u=s[c],l=(0,W.getClientX)(e),A=(0,W.getClientY)(e),[4,u.transformPoint({point:{x:l,y:A},srcType:Kd.viewport,destType:Kd.pdf})]):[2];case 1:return d=v.sent(),h=d.x,f=d.y,p=t.createGestureFlags(e),[2,{type:r,flags:p,page:u.index,left:h,top:f,button:e.button,timestamp:e.timeStamp}]}}))}))()}},{key:"createGestureKeyboardEvent",value:function(e){var t=this.createGestureFlags(e);return{type:e.type,flags:t,keyCode:e.keyCode,timestamp:e.timeStamp}}},{key:"createGesturePasteEvent",value:function(e){var t;return{type:e.type,content:(null===(t=e.clipboardData)||void 0===t?void 0:t.getData("text/plain"))||"",contentType:"text",timestamp:e.timeStamp}}},{key:"createGestureFlags",value:function(e){var t={alt:e.altKey,meta:e.metaKey,ctrl:e.ctrlKey,shift:e.shiftKey,command:!1,leftButtonDown:!1,rightButtonDown:!1,middeButtonDown:!1};return((0,T._)(e,PointerEvent)||(0,T._)(e,MouseEvent)&&e.buttons>0)&&(t.leftButtonDown=0===e.button,t.middeButtonDown=1===e.button,t.rightButtonDown=2===e.button),t}},{key:"getGlobalGestureFlags",value:function(){return{ctrl:W.keyboardStatus.isCtrl,alt:W.keyboardStatus.isAlt,shift:W.keyboardStatus.isShift,meta:W.keyboardStatus.isWin,command:!1,leftButtonDown:!1,rightButtonDown:!1,middeButtonDown:!1}}}]),n}(W.Disposable);var Hh=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),i=t.call(this),(0,z._)((0,x._)(i),"docRender",void 0),(0,z._)((0,x._)(i),"renderThrottleExecutor",void 0),(0,z._)((0,x._)(i),"formFillerService",void 0),i.docRender=e,i.renderThrottleExecutor=new W.ThrottleAsyncTaskExecutor(100,!0),e.doc.createMessageChannel("form-filler-assist-callback-channel-id",(0,x._)(i)).ownsTo((0,x._)(i)),i.formFillerService=i.docRender.pdfViewer.getFormFillerService(),i}return(0,D._)(n,[{key:"setClipboardText",value:function(e){return t=new Blob([e],{type:"text/plain"}),n=[new ClipboardItem((0,z._)({},t.type,t))],navigator.clipboard.write(n);var t,n}},{key:"mouseoverControl",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){return t.formFillerService.handleOnMouseOver(e),[2]}))}))()}},{key:"mouseleaveControl",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){return t.formFillerService.handleOnMouseLeave(e),t.docRender.$ui[0].style.setProperty("--fv-doc-cursor-type",""),[2]}))}))()}},{key:"focusGotOnControl",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){return t.formFillerService.handleOnFocus(e),[2]}))}))()}},{key:"focusLostFromControl",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){return t.formFillerService.handleOnBlur(e),[2]}))}))()}},{key:"appendPopupMenuItem",value:function(e){return(0,P._)((function(){return(0,L.Jh)(this,(function(e){return[2]}))}))()}},{key:"createPopupMenu",value:function(e,t){return(0,P._)((function(){return(0,L.Jh)(this,(function(e){return[2]}))}))()}},{key:"destroyPopupMenu",value:function(e){return(0,P._)((function(){return(0,L.Jh)(this,(function(e){return[2]}))}))()}},{key:"enablePopupMenuItem",value:function(e,t,n){return(0,P._)((function(){return(0,L.Jh)(this,(function(e){return[2]}))}))()}},{key:"showPopupMenu",value:function(e){return(0,P._)((function(){return(0,L.Jh)(this,(function(e){return[2]}))}))()}},{key:"refresh",value:function(e,t){var n=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return[4,n.formFillerService.rerenderArea(n.docRender.doc,e,t)];case 1:return i.sent(),[2]}}))}))()}},{key:"release",value:function(){return(0,P._)((function(){return(0,L.Jh)(this,(function(e){return[2]}))}))()}},{key:"reportInvalidValue",value:function(){return(0,P._)((function(){return(0,L.Jh)(this,(function(e){return[2]}))}))()}},{key:"mousedown",value:function(e,t){var n=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(i){return[2,n.formFillerService.handleOnMouseDown(e,t)]}))}))()}},{key:"mouseup",value:function(e,t){var n=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(i){return[2,n.formFillerService.handleOnMouseUp(e,t)]}))}))()}},{key:"keydown",value:function(e,t){var n=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(i){return[2,n.formFillerService.handleOnKeyDown(e,t)]}))}))()}},{key:"keyup",value:function(e,t){var n=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(i){return[2,n.formFillerService.handleOnKeyUp(e,t)]}))}))()}},{key:"invokeInterceptor",value:function(e,t){return this.formFillerService.invokeGestureInterceptor(e,t)}},{key:"afterDataChange",value:function(e){return this.formFillerService.handleOnDataChanged(e)}},{key:"setCursor",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){return t.docRender.$ui[0].style.setProperty("--fv-doc-cursor-type",W.CSS_CURSOR_MAP.get(e)||"pointer"),[2]}))}))()}},{key:"refreshVisiblePages",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){switch(t.label){case 0:return[4,e.formFillerService.rerenderVisiblePages()];case 1:return t.sent(),[2]}}))}))()}}]),n}(W.Disposable),zh=function(){function e(t){(0,C._)(this,e),(0,z._)(this,"module",void 0),this.module=t}return(0,D._)(e,[{key:"submitForm",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[4,t.module.form.submitFormByParams(e)];case 1:return n.sent(),[2]}}))}))()}}]),e}(),Wh="font-map-list",Gh="viewer-is-zooming",Yh=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;(0,C._)(this,n),i=t.call(this),(0,z._)((0,x._)(i),"docRender",void 0),(0,z._)((0,x._)(i),"domEventTransmitter",void 0),(0,z._)((0,x._)(i),"form",void 0),(0,z._)((0,x._)(i),"doc",void 0),i.docRender=e,i.doc=i.docRender.doc;var r=e.pdfViewer,o=r.getFormFillerService();i.domEventTransmitter=new Uh(e,o),i.domEventTransmitter.ownsTo((0,x._)(i)),new Hh(i.docRender).ownsTo((0,x._)(i)),i.form=i.doc.form;var a=new zh((0,x._)(i));i.doc.defineRemoteAPI(wr.SUBMIT_FORM_CALLBACK_API_CHANNEL_ID,a);var s=function(){r.getStore().getCurrentValue(Gh)?i.domEventTransmitter.pause():i.domEventTransmitter.resume()};return i.addDestroyHook(r.getStore().subscribe(Gh,s),r.addEventListener(se.annotationRemoved,s)),i}return(0,D._)(n,[{key:"onGestureEventReturn",value:function(e,t){return this.domEventTransmitter.on(e,t)}},{key:"toggleInteractionEvent",value:function(e){e?this.domEventTransmitter.enable():this.domEventTransmitter.disable()}},{key:"isInteractionEventEnabled",value:function(){return!this.domEventTransmitter.isDisabled}}]),n}(W.Disposable),$h=Zh("hand"),Jh=(Zh("annot"),"fv__hidden"),qh=W.LoggerFactory.getLogger("PDFDocRender"),Kh=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;(0,C._)(this,n),(o=t.call(this,r)).name="pdfDocRender",o.$ui=e,o.rotation=0,o.doc=i,o.lastPageNumber=0,o.currentPageNumber=0,o.currentAnnot=null,o.viewerRender=r,o.__zooming_task_count=0;var a=r.scrollWrap.getScrollHost();((0,T._)(a,Window)||a===document.body||a==document.documentElement)&&(a=document),o.intersectionObserver=new W.BuiltinIntersectionObserver(a),o.visiblePageRendersStore=new W.ValueStore,o.visiblePageRendersStore.reduce((function(e){return e?e.slice(0).map((function(e){return"number"==typeof e?o.getPDFPageRender(e):e})).filter(Boolean):[]}));var s=[0];"facing-continuous-page-view-mode"==o.viewerRender.ViewMode.getName()&&s.push(1),o.visiblePageRendersStore.dispatch(s),o.visiblePageRendersStore.subscribe((function(){o.pdfViewer.eventEmitter.emit("visiblePagesChange",(0,x._)(o),o.getVisiblePageIndexes())}));var c=o.pdfViewer=r.pdfViewer,u=j()('<div class="fv__pdf-doc-layout"> <div class="fv__pdf-doc-rendering"></div> <div class="fv__pdf-doc-custom-container"></div> <div class="fv__pdf-doc-container"></div> <div class="fv__pdf-doc-handler-container"></div> </div>');u[0].id=i.id,e.append(u),o.$doc=u,o.$rendering=u.find(".fv__pdf-doc-rendering"),o.$container=u.find(".fv__pdf-doc-container"),o.pdfDocRendering=new(c.customs.PDFDocRendering||kh)(o.$rendering[0],(0,x._)(o)),o.docCustomRender=new(c.customs.DocCustomRender||xh)(u.find(".fv__pdf-doc-custom-container")[0],(0,x._)(o)),o.zoomToTaskExecutor=new W.DebounceAsyncTaskExecutor,o.bindEvent(),o.controlStateClass=$h,o.$container.addClass($h),o.handlerInit(u.find(".fv__pdf-doc-handler-container")),o.initTransparencyGridChecked(),o.formFillerModule=new Yh((0,x._)(o)),o.watermarkConfig=c.config.watermarkConfig;var l=o.customPermission_=c.customs.getDocPermissions||function(){return-1};i.setCustomPermission("standard",l),l=c.customs.getAdditionalPerm||function(){return-1},i.setCustomPermission("additional",l),i.setCustomPermission("replaceStandard",c.customs.getStandardPermissions);var A=function(e,t){if(t.getPDFDoc()===o.doc)try{var n=e[0];if(7===(n&&n.info.fieldType)){var i=t.getIndex(),r=o.getPDFPageRender(i),a=r.scale,s=r.rotate,c=r.containerVisibleRect,u=n.objectNumber;o.getAnnotRender(i,u).render(a,s,c)}else o.getPDFPageRender(t.getIndex()).redrawAnnotRenders(e)}catch(e){}},d=c.eventEmitter;d.on(se.annotationAppearanceUpdated,o.annotationAppearanceUpdatedBind=function(e,t){A(e,t)}),d.on(se.pagingSealUpdated,o.pagingSealUpdatedBind=function(e){e.forEach((function(e){var t=e.getPDFPage();A([e],t)}))}),d.on(se.annotationMovedPosition,o.annotationMovedPositionBind=function(e,t,n){if(t.getPDFDoc()===o.doc)try{o.getPDFPageRender(t.getIndex()).movedAnnotRenders(e,n)}catch(e){}}),d.on(se.annotationRemoved,o.annotationRemovedBind=function(e,t){if(t.getPDFDoc()===o.doc)try{o.getPDFPageRender(t.getIndex()).removeAnnotRenders(e)}catch(e){}}),d.on(se.flattenAnnotation,o.annotationFlattenBind=function(e,t){if("widget"!==t[t.length-1].getType())try{o.getPDFPageRender(e).removeAnnotRenders(t)}catch(e){}}),d.on(se.annotationImported,o.updateImportedAnnotsBind=function(e,t){if(e===i&&o.pagesRender)try{o.pagesRender.setRenderFlags(1),o.setRebuildAnnotsFlag(!1),o.pagesRender.renderVisiblePages().catch((function(e){0}))}catch(e){qh.warn(e)}}),d.on(se.xfaFormImported,o.onXFAImported=function(){o.pagesRender.setRenderFlags(7),o.pagesRender.renderVisiblePages()}),d.on(se.xfaFormReset,o.onXFAReset=function(){o.pagesRender.setRenderFlags(7),o.pagesRender.renderVisiblePages()}),d.on(se.pageRotationChange,o.rotationPageBind=function(e,t,n){if(e.getPDFDoc()===o.doc)try{var i=o.pagesRender.pageRenders[e.getIndex()];i.$annotsContainer.addClass("fv__viewer-annot-container-hide"),i.clearCanvasCache(!0),i.renderLayout().then((function(e){o.pagesRender.setRenderFlags(7),o.pagesRender.renderVisiblePages()}))}catch(e){console.error(e)}}),d.on(se.pagesRotated,o.rotationPagesBind=function(e,t,n){e.forEach((function(e,i){o.rotationPageBind(e,t,n[i])}))}),d.on(se.customDataAdd,o.customDataAddBind=function(e,t,n){if(o.doc.getId()===n)try{o.getPDFPageRender(t).addCustomRenders(e)}catch(e){}}),d.on(se.customDataImported,o.customDataImportedBind=function(e){if(o.doc.getId()===e)try{o.pagesRender.setRenderFlags(32),o.pagesRender.renderVisiblePages().catch((function(e){0}))}catch(e){}}),d.on(se.customDataRemoved,o.customDataRemovedBind=function(e,t,n){if(o.doc.getId()===n)try{o.getPDFPageRender(t).removeCustomRenders(e)}catch(e){}}),d.on(se.customDataUpdated,o.customDataUpdatedBind=function(e,t,n){if(o.doc.getId()===n)try{o.getPDFPageRender(t).updateCustomRenders(e)}catch(e){}}),d.on(se.pagesBoxChange,o.pagesBoxChangeEventListener=function(e){var t,n;null===(t=o.pagesRender)||void 0===t||t.setRenderFlags(8),null===(n=o.pagesRender)||void 0===n||n.clearPagesRenderCache(),o.pdfViewer.redraw(!0)}),d.on(se.pageRemoved,o.pageRemovedListener=function(e){var t=o.getVisiblePageIndexes(),n=t.indexOf(e);n>-1&&t.splice(n,1);for(var i=o.doc.getPageCount(),r=0;r<t.length;r++)t[r]>e&&t[r]<=i&&(t[r]-=1);o.visiblePageRendersStore.dispatch(t)}),d.on(se.pagesRemoved,o.pagesRemovedListener=function(e){var t=e.reduce((function(e,t){return 1===t.length?e.concat(t[0]):t.length>1?e.concat(function(e,t,n){n||(n=e>t?-1:1);for(var i=[],r=e;r<t;r+=n)i.push(r);return i.push(t),i}(t[0],t[1]-1)):e}),[]),n=o.visiblePageRendersStore.getCurrentValue([]);t.forEach((function(e){var t=n.indexOf(e);t>-1&&n.splice(t,1)}));var i=o.doc.getPageCount();t.forEach((function(e){for(var t=0;t<n.length;t++)n[t]>e&&n[t]<=i?n[t]-=1:n[t]>i&&n.splice(t,1)})),o.visiblePageRendersStore.dispatch(n)}),o.noInteraction=o.getUserPermission().checkCannotModifyExcludeAssemble()&&!o.doc.hasSignature(),d.on(se.permissionChanged,o.permissionChangedBind=function(){var e=o.getUserPermission().checkCannotModifyExcludeAssemble();o.noInteraction=e&&!o.doc.hasSignature()}),d.on(se.switchStateHandler,o.switchStateHandlerBind=function(e,t){e.getStateName()!==yn&&o.resetReadModeData&&o.quitReadMode(!1)}),o.docHandler=new Th(c,(0,x._)(o)),o.allCommentVisible=!0,o.rebuildAnnotsFlag=!0,d.on("annot-filter",o.filterAnnot=function(e){"start"==e&&(o.forceLoadAnnot=1)}),o.isDocRendered=!1,o.renderingDefer=new W.Defer;var h=function(e,t){e.children.forEach((function(e){var n=e.objNum,i=e.pageIndex;if(!t||0===t.length||t.includes(n)){var r=o.getPDFPageRender(i),a=r.articleBeads[n];a&&(a.destroy(),delete r.articleBeads[n])}}))};return d.on(se.articleBeadRemoved,o.articleBeadRemovedBind=function(e,t){h(t,e)}),d.on(se.articleThreadRemoved,o.articleThreadRemovedBind=function(e){h(e)}),o}return(0,D._)(n,[{key:"setRebuildAnnotsFlag",value:function(e){this.rebuildAnnotsFlag=e}},{key:"getRebuildAnnotsFlag",value:function(){return this.rebuildAnnotsFlag}},{key:"_updateVisiblePageRenders",value:function(e,t){if(!this.isDestroyed){var n=this.visiblePageRendersStore.getCurrentValue(),i=n.indexOf(e);if(t){if(i>-1)return;n.push(e)}else i>-1&&n.splice(i,1);this.visiblePageRendersStore.dispatch(n)}}},{key:"getVisiblePageIndexes",value:function(){return this.visiblePageRendersStore.getCurrentValue().filter((function(e){return!e.isDestroyed})).map((function(e){return e.index})).sort((function(e,t){return e-t}))}},{key:"initTransparencyGridChecked",value:function(){var e=localStorage.getItem("PAGE_DISPLAY_DATA");if(e){var t=JSON.parse(e);this.doc.pageDisplayPreferences=t,this.doc.setPageDisplayPreferences(t)}}},{key:"getHandlerDOM",value:function(){return this.$doc.get(0)}},{key:"getBoundingClientRects",value:function(){var e=this.$container.find(".fv__pdf-view-mode-item"),t=this.viewerRender.scrollWrap.getScrollHost();t==window&&(t=document.body);for(var n="single-page-view-mode"===this.viewerRender.getViewMode().getName(),i=t.getBoundingClientRect(),r=[],o=0;o<e.length;o++){var a=e[o],s=j()(a).find(".fv__pdf-page-layout")[0].getBoundingClientRect();if(s.bottom>i.top&&s.top<i.bottom&&s.left<i.right&&s.right>i.left){var c={index:n?this.getCurrentPageIndex():o,scale:this.getPDFPageRender(o).scale,left:Math.max(i.left,s.left)-s.left,right:Math.min(i.right,s.right)-s.left,top:Math.max(i.top,s.top)-s.top,bottom:Math.min(i.bottom,s.bottom)-s.top};c.x=c.left,c.y=c.top,c.height=c.bottom-c.top,c.width=c.right-c.left,r.push(c)}}return r}},{key:"handlerInit",value:function(e){var t=this;e.on("click",(function(){t.unActiveAnnotRender()}))}},{key:"getFormRender",value:function(){return this.formRender}},{key:"setStateHandler",value:function(e){if(this.stateHandler){if(this.stateHandler.constructor.getStateName()===e.getStateName())return;this.stateHandler.destroyDocHandler()}(this.stateHandler=new e(this.pdfViewer)).docHandler(this)}},{key:"setViewMode",value:function(e){return this.pagesRender?this.pagesRender.setViewMode(e):Promise.resolve()}},{key:"getViewMode",value:function(){return this.pagesRender?this.pagesRender.getViewMode():void 0}},{key:"prevPage",value:function(){var e=this.getCurrentViewMode().getPrevPageIndex();return this.goToPage(e,{x:0,y:0})}},{key:"nextPage",value:function(){var e=this.getCurrentViewMode().getNextPageIndex();return this.goToPage(e,{x:0,y:0})}},{key:"goToPage",value:function(e){var t,n,i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.x,a=void 0===o?0:o,s=r.y,c=void 0===s?0:s,u=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=arguments[1];l&&(t=l.width,n=l.height),this.isGoto=!0,e>=this.doc.getPageCount()?e=this.doc.getPageCount()-1:e<0&&(e=0);var A=this.pagesRender,d=A.getPDFPageRender(e);if(d)return d.getPDFPage().then((function(r){return A.getPageScale(e,i.scale).then((function(e){if(u){if(void 0!==t){var o=r.getDeviceRect({left:a,right:a+t,top:c+n,bottom:c},e,i.rotation);a=o.left,c=o.top,o.right<a&&(a=o.right),o.bottom<c&&(c=o.bottom)}else{var s=(0,R._)(r.getDevicePoint([a,c],e,i.rotation),2),l=s[0],A=s[1],d=r.info.height;(c>d||A<0)&&(A=0),a=l,c=A}return[e,a,c]}return[e,a,c]}))})).then((function(t){var n=(0,R._)(t,3),r=n[0],o=n[1],a=n[2],s=A.goToPage(e,r,o,a);if("fitVisible"!==i.scale||!s)return s})).catch((function(e){0})).finally((function(){i.moveDebounce()}));this.isGoto=!1}},{key:"setCurrentPageIndex",value:function(e){void 0!==e&&this.pageNumberChange(e)}},{key:"getCurrentPageIndex",value:function(){var e=this.getCurrentViewMode();return e&&"function"==typeof e.getCurrentPageIndex?e.getCurrentPageIndex():0}},{key:"pageNumberChange",value:function(e){var t=this,n=this.getPDFPageRender(e);if(n){var i=n.intersectionState.getCurrentValue();if(i&&0===i.intersectionRect.height){var r=this.getVisiblePageIndexes().find((function(n){if(n===e)return!1;var i=t.getPDFPageRender(n);if(i){var r=i.intersectionState.getCurrentValue();return r&&r.intersectionRect.height>0}return!1}));r>-1&&(e=r)}}if(e>=0&&this.currentPageNumber!==e){var o=0!=this.pdfViewer.enablePageAction;if(this.lastVIs&&o){var a=this.getPDFPageRender(this.currentPageNumber);a&&a.triggerAction(18),this.getPDFPageRender(e).triggerAction(17)}this.lastPageNumber=this.currentPageNumber,this.currentPageNumber=e,this.pdfViewer.eventEmitter.emit(se.pageNumberChange,e+1)}}},{key:"bindEvent",value:function(){}},{key:"destroy",value:function(e){if(!this.isDestroyed){this.formFillerModule.destroy();var t=this.pdfViewer.eventEmitter;this.pagesRender&&this.pagesRender.destroy(),this.visiblePageRendersStore.destroy(),(0,E._)((0,S._)(n.prototype),"destroy",this).call(this),this.$doc.addClass("fv__destroying"),this.stateHandler&&this.stateHandler.destroyDocHandler(),this.docCustomRender.destroy(),this.$doc.remove(),this.zoomToTaskExecutor.destroy(),this.zoomToTaskExecutor=null,t.off(se.annotationAppearanceUpdated,this.annotationAppearanceUpdatedBind),t.off(se.annotationMovedPosition,this.annotationMovedPositionBind),t.off(se.annotationRemoved,this.annotationRemovedBind),t.off(se.flattenAnnotation,this.annotationFlattenBind),t.off(se.annotationImported,this.updateImportedAnnotsBind),t.off(se.xfaFormImported,this.onXFAImported),t.off(se.xfaFormReset,this.onXFAReset),t.off(se.pageRotationChange,this.rotationPageBind),t.off(se.pagesRotated,this.rotationPagesBind),t.off(se.customDataAdd,this.customDataAddBind),t.off(se.customDataImported,this.customDataImportedBind),t.off(se.customDataRemoved,this.customDataRemovedBind),t.off(se.customDataUpdated,this.customDataUpdatedBind),t.off(se.permissionChanged,this.permissionChangedBind),t.off(se.pagesBoxChange,this.pagesBoxChangeEventListener),t.off(se.pageRemoved,this.pageRemovedListener),t.off(se.pagesRemoved,this.pagesRemovedListener),t.off("annot-filter",this.filterAnnot),t.off(se.switchStateHandler,this.switchStateHandlerBind),t.off(se.articleBeadRemoved,this.articleBeadRemovedBind),t.off(se.articleThreadRemoved,this.articleThreadRemovedBind),t.off(se.pagingSealUpdated,this.pagingSealUpdatedBind);var i=null;if(e&&e.destroyCurrentDoc){var r=this.doc.id;this.pdfViewer.getWebPDFJR().then((function(e){e.pdfDocCacheMap.delete(r)})),i=this.doc.destroy()}return this.pdfDocRendering.destroy(),this.pdfDocRendering=null,this.pagesRender=this.docCustomRender=this.stateHandler=null,this.annotationAppearanceUpdatedBind=null,this.annotationMovedPositionBind=null,this.annotationRemovedBind=null,this.updateImportedAnnotsBind=null,this.updateAddAnnotsBind=null,this.rotationPageBind=null,this.rotationPagesBind=null,this.customDataAddBind=null,this.customDataImportedBind=null,this.customDataRemovedBind=null,this.customDataUpdatedBind=null,this.permissionChangedBind=null,this.pagesBoxChangeEventListener=null,this.pageRemovedListener=null,this.pagesRemovedListener=null,this.switchStateHandlerBind=null,this.articleBeadRemovedBind=null,this.articleThreadRemovedBind=null,this.docHandler.destroy(),i}}},{key:"rendering",value:function(){this.$doc.addClass("fv__doc-rendering"),this.pdfDocRendering.rendering()}},{key:"rendered",value:function(){this.$doc.removeClass("fv__doc-rendering"),this.pdfDocRendering.rendered(),this.isDocRendered=!0,this.renderingDefer.resolve()}},{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fitWidth",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotation;return this.scale=t,this.rotation=n,this.rendering(),this.doc&&this.doc.setColors(Mh()),Promise.resolve(this.docCustomRender.render(t,n)).then((function(t){if(!1!==t)return e.doc.getPageSizes(0,e.pdfViewer.config.sizeCount).then((function(t){return e.doc.getAllLayerNodeChildrenCount()})).then((function(t){if(!(t>=8e3))return e.doc.getLayerNodesJson()})).then((function(t){return e.doc.getTemplates()})).then((function(t){if(e.doc&&!e.doc.isDestroyed){var i,r=e.pagesRender=e.pagesRender||new wh(e.$container,e.doc,e),o=e,a=(i=(0,P._)((function(){return(0,L.Jh)(this,(function(e){switch(e.label){case 0:return o.pdfViewer.enableOpenAction?o.isDestroyed?[2,Promise.resolve(!1)]:[4,o.doc.doOpenAction()]:[2,Promise.resolve(!1)];case 1:return[2,e.sent()]}}))})),function(){return i.apply(this,arguments)});return function(){if(!e.pdfViewer.enableOpenAction)return Promise.resolve();var t=localStorage.getItem("PAGE_DISPLAY_DATA");return e.doc.getViewerPreference().then((function(n){var i=n.uiLayout,r=t?JSON.parse(t):void 0;if(r&&r.navigation&&"useInitialView"!==r.navigation&&(i=e.transfUiLayoutKey(r.navigation)),e.executeNavigationAction(i),"FullScreen"===i&&(i=n.viewerPreference.NonFullScreenPageMode,e.executeNavigationAction(i)),e.executeLayeroutAction(n.pageLayout,r),r){var o=r.customMarginChecked,a=r.margin,s=r.customFacingChecked,c=r.facingPages;o||(a=10),e.pdfViewer.setCustomMargin(a);["facing-page-view-mode","multipage-view-mode","facing-continuous-page-view-mode"].forEach((function(t){var n="multipage-"+e.pdfViewer.viewModeManager.ViewModes[t].getName();s?e.pdfViewer.store.dispatch(n,c):e.pdfViewer.store.dispatch(n,2)}))}}))}().then((function(t){return r.preRender(e.scale,n),e.pdfViewer.enableOpenAction?a():Promise.resolve(!1)})).then((function(t){if(!t)return r.render(e.scale,n)})).then((function(){if(!e.stateHandler){var t=e.pdfViewer;(e.stateHandler=new(t.stateHandlerManager.getCurrentStates())(t)).docHandler(e)}Object.keys(e.doc.metadata).length<2&&e.doc.getMetadata(),"fitWidth"!=e.scale&&e.pdfViewer.eventEmitter.emit(se.updateZoomMode,e.scale)}))}}))})).finally((function(){e.rendered()}))}},{key:"canAnswerForm",value:function(){return!!this.doc&&!!(this.doc.info.oriPerm&(Qt.annotForm|Qt.fillForm|Qt.modify))}},{key:"hidden",value:function(){this.$doc.addClass(Jh)}},{key:"show",value:function(){this.$doc.removeClass(Jh)}},{key:"zoomTo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;this.__zooming_task_count++,this.pdfViewer.getStore().dispatch(Gh,!0),this.lastScale=this.scale;var r=this.scale;this.scale=t;var o=Promise.resolve(n);return n?"fitVisible"==t&&(o=this.getPDFPageRender(n.pageIndex).getPDFPage().then((function(e){return e.calcPageContentBBox(0)})).then((function(e){return n.x=e.left,n}))):o="fitVisible"!==t?this.getViewBoxCenter(!0,"topLeft").then((function(e){var t=(0,R._)(e,2),n=t[0],i=t[1];if(n)return{pageIndex:n.getIndex(),x:i[0],y:i[1]}})):this.getViewerStartPosition(),o.then((function(t){if(t)return Promise.all([e.pagesRender.getPageScale(0,r,e.rotation),e.getScaleRatio(1)]).then((function(n){var o=(0,R._)(n,2),a=o[0],s=o[1],c=function(t,n,i){return n.eventEmitter.emit(se.beforeZoomTo,t,a),e.pagesRender.zoomTo(e.scale,i).then((function(){return n.eventEmitter.emit(se.zoomToSuccess,e.scale,r,s,a),t}),(function(i){return e.scale=r,n.eventEmitter.emit(se.zoomToFailed,t,e.scale),Promise.reject(i)}))};return i?e.zoomToTaskExecutor.exec(c,[s,e.pdfViewer,t],e):c(s,e.pdfViewer,t)}))})).finally((function(){e.__zooming_task_count--,0===e.__zooming_task_count&&e.pdfViewer.getStore().dispatch(Gh,!1)}))}},{key:"getScaleRatio",value:function(e){var t=this,n=function(){switch((0,F._)(t.scale)){case"number":return t.scale;case"string":return t.pagesRender?t.pagesRender.getScaleRatio(t.scale,t.rotate):1;default:return 1}};return e?Promise.resolve(n()):this.zoomToTaskExecutor.waitForLastTask().then(n,n)}},{key:"getScale",value:function(){return this.scale}},{key:"getRotation",value:function(){return this.rotation}},{key:"rotateTo",value:function(e,t){var n=this.rotation;return this.rotation=(e%360+360)%360,this.applyRotation(n,this.rotation,t)}},{key:"applyRotation",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this;return(0,P._)((function(){var r,o,a,s,c,u,l,A,d,h,f,p;return(0,L.Jh)(this,(function(v){switch(v.label){case 0:return 0===((t-e)%360+360)%360?[2]:((r=i.pdfViewer.eventEmitter).emit(se.beforeDocumentRotation,t,e),o=(0,W.isValidNumber)(n.pageIndex)?n.pageIndex:i.getCurrentPageIndex(),a=i.getPDFPageRender(o),s=0,c=0,null==n.offsetX||null==n.offsetY?[3,4]:(s=(0,W.isValidNumber)(n.offsetX)?n.offsetX:0,c=(0,W.isValidNumber)(n.offsetY)?n.offsetY:0,[4,i.pagesRender.rotateTo(t)]));case 1:return v.sent(),[4,a.transformPoint({point:{x:s,y:c},srcType:Kd.page,destType:Kd.pdf})];case 2:return u=v.sent(),[4,i.goToPage(o,u,!0)];case 3:return v.sent(),[3,13];case 4:return null==n.baseX||null==n.baseY?[3,9]:(c=(0,W.isValidNumber)(n.baseX)?n.baseX:0,c=(0,W.isValidNumber)(n.baseY)?n.baseY:0,[4,a.transformPoint({point:{x:s,y:c},srcType:Kd.page,destType:Kd.pdf})]);case 5:return l=v.sent(),[4,i.pagesRender.rotateTo(t)];case 6:return v.sent(),[4,a.transformPoint({point:l,srcType:Kd.pdf,destType:Kd.page})];case 7:return A=v.sent(),d=i.getValidContainerVisibleRect(),h=A.x-(d.left/2+d.right/2),f=A.y-(d.top/2+d.bottom/2),[4,i.goToPage(o,{x:Math.max(0,h),y:Math.max(0,f)})];case 8:return v.sent(),[3,13];case 9:return[4,i.pagesRender.rotateTo(t)];case 10:return v.sent(),[4,a.transformPoint({point:{x:0,y:0},srcType:Kd.page,destType:Kd.pdf})];case 11:return p=v.sent(),[4,i.goToPage(o,p,!0)];case 12:v.sent(),v.label=13;case 13:return r.emit(se.afterDocumentRotation,t,e),[2]}}))}))()}},{key:"getPDFDoc",value:function(){return this.doc}},{key:"getPDFPageRender",value:function(e){try{return this.pagesRender.getPDFPageRender(e)}catch(e){return null}}},{key:"getCurrentViewMode",value:function(){try{return this.pagesRender.viewMode}catch(e){return null}}},{key:"getAnnotRender",value:function(e,t){try{return this.getPDFPageRender(e).getAnnotRender(t)}catch(e){return null}}},{key:"getAllAnnotRender",value:function(){for(var e=this.doc.getPageCount(),t=[],n=0;n<e;n++)t=t.concat(this.getPDFPageRender(n).getAllAnnotRender());return t}},{key:"unActiveAnnotRender",value:function(e){if(e)return e.unActive();try{this.pagesRender.unActiveAnnotRender()}catch(e){}}},{key:"setCurrentAnnotHandler",value:function(){var e=this.pdfViewer.stateHandlerManager.currentStateHandler.getStateName(),t=this.pdfViewer.getAllActiveElements().reverse();try{t.sort((function(e,t){return e.annot.getId()>t.annot.getId()?1:-1}))}catch(e){}"edit-all"!==e&&t.length?(t.forEach((function(e){e.shapeControl&&j()(e.shapeControl.ui).removeClass("current-annot")})),this.pdfViewer.isMultiSelectActive()?this.currentAnnot=t[t.length-1]:this.currentAnnot=t[0],this.currentAnnot.shapeControl&&j()(this.currentAnnot.shapeControl.ui).addClass("current-annot")):this.currentAnnot=null}},{key:"setWatermarkConfig",value:function(e){this.watermarkConfig=e}},{key:"getWatermarkConfig",value:function(){return this.watermarkConfig}},{key:"getUserPermission",value:function(){var e=this.doc,t=this.customPermission_(e),n=e.getPermissionsSync();return new Ph(t&n)}},{key:"getOffsetInfo",value:function(){var e,t=0,n=0,i=0,r=this.pagesRender;if(!r)return(e=r.getPDFPageRender(t)).reverseDevicePoint([n,i]).then((function(n){var i=(0,R._)(n,2),r=i[0],o=i[1];return{index:t,left:r,top:o,scale:e.getScale(),rotate:e.getRotation()}}));for(var o=this.pdfViewer.$ui,a=o.parent()[0].getBoundingClientRect(),s=r.viewMode.getVisibleIndexes(),c=0,u=s.length;c<u;c++){t=s[c];var l=this.getCurrentViewMode().constructor.getName(),A=t;"single-page-view-mode"===l&&(A=0);var d=o.find(".fv__pdf-page-layout").eq(A)[0].getBoundingClientRect();if(!(d.bottom<=a.top)){(n=a.left-d.left)<0&&(n=0),(i=a.top-d.top)<0&&(i=0);break}}return(e=r.getPDFPageRender(t)).reverseDevicePoint([n,i]).then((function(n){var i=(0,R._)(n,2),r=i[0],o=i[1];return{index:t,left:r,top:o,scale:e.getScale(),rotation:e.getRotation()}}))}},{key:"getViewerStartPosition",value:function(e){return void 0===e&&(e=this.getCurrentPageIndex()),this.doc.getPageByIndex(e).then((function(t){return t.calcPageContentBBox(xt.CalcContentsBox).then((function(n){n&&void 0!==n.left&&n.left!==n.right&&n.top!==n.bottom||(n={left:0,right:t.info.mediaWidth,top:t.info.mediaHeight,bottom:0});var i=t.getRotation(),r=[n.left,n.top];switch(i){case 0:r=[n.left,n.top];break;case 1:r=[n.left,n.bottom];break;case 2:r=[n.right,n.bottom];break;case 3:r=[n.right,n.top]}return{pageIndex:e,x:r[0],y:r[1],rotation:i}}))}))}},{key:"getViewBoxCenter",value:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center",i=this.getCurrentPageIndex(),r=this.viewerRender.scrollWrap.getScrollHost(),o=(e=r===window?{x:0,y:0,width:window.innerWidth,height:window.innerHeight}:r.getBoundingClientRect()).x+e.width/2,a=e.y+e.height/2,s={left:o-20,right:o+20,top:a-20,bottom:a+20},c=function(e){if(!e)return Promise.resolve();var n=e.$ui.get(0).getBoundingClientRect(),i=n.x,r=n.y,c=r+n.height,u=n.right;return Nh.isOverlap(s,{left:i,right:u,bottom:c,top:r},!1)?e.getPDFPage().then((function(n){if(t){var s=Math.max(0,o-i),c=Math.max(0,a-r);return Promise.all([n,n.reverseDevicePoint([s,c],e.getScale(),e.getRotation())])}return Promise.all([n,[o-i,a-r]])})):void 0};if("topLeft"==n){if(!this.pagesRender)return Promise.resolve([0,[0,0]]);var u=this.pagesRender.viewMode.getVisibleIndexes(),l=u.length>0&&(-1===u.indexOf(i)||W.isMobile)?u[0]:i,A=this.getPDFPageRender(l);if(!A)return Promise.resolve([null,[0,0]]);var d=A.page,h=A.$ui.get(0).getBoundingClientRect();o=Math.max(e.x,h.x),a=Math.max(e.y,h.y);var f=Math.max(0,o-h.x),p=Math.max(0,a-h.y);return d?Promise.all([d,d.reverseDevicePoint([f,p],A.getScale(),A.getRotation())]):A.getPDFPage().then((function(e){return Promise.all([e,e.reverseDevicePoint([f,p],A.getScale(),A.getRotation())])}))}for(var v=i;v<this.doc.getPageCount();v++){var g=c(this.getPDFPageRender(v));if(g)return g}for(var m=i-1;m>-1;m--){var y=c(this.getPDFPageRender(m));if(y)return y}return this.doc.getPageByIndex(i).then((function(e){return Promise.all([e,[0,0]])}))}},{key:"renderPages",value:function(e,t){return this.pagesRender.renderPages(e,t).catch((function(e){0}))}},{key:"moveDebounce",value:function(){var e=this;this._moveDebounce||(this._moveDebounce=(0,W.debounce)((function(){e.move()}),W.isChromiumEdge||W.isChrome||W.isFirefox||W.isSafari?20:50,!1)),this._moveDebounce()}},{key:"move",value:function(){var e=this,t=this;if(this.isDestroyed||!this.pagesRender)return Promise.resolve();var n=this.getCurrentViewMode(),i=this.pagesRender.pageRenders,r=this.getCurrentPageIndex();if(r>=i.length)return this.goToPage(r-1);var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t.isDestroyed?[]:t.visiblePageRendersStore.takeWhile().then((function(){var n=t.getVisiblePageIndexes();return 0===n.length&&e<10?new Promise((function(e){return setTimeout(e,0)})).then((function(){return o(e+1)})):n.sort((function(e,t){return e-t}))}))};return o().then((function(t){var i=e.currentPageNumber;e.setCurrentPageIndex(r);var a,s=e,c=(a=(0,P._)((function(e){var t,n,i;return(0,L.Jh)(this,(function(r){switch(r.label){case 0:return[4,s.pagesRender.moveTo(e)];case 1:r.sent(),t=5,r.label=2;case 2:return t>=0?[4,o()]:[3,7];case 3:return n=r.sent(),i=n.filter((function(t){return-1===e.indexOf(t)})),i.length>0?[4,s.pagesRender.moveTo((0,M._)(new Set((0,M._)(e).concat((0,M._)(i)))))]:[3,5];case 4:return r.sent(),[3,6];case 5:return[3,7];case 6:return e=n,t--,[3,2];case 7:return[2]}}))})),function(e){return a.apply(this,arguments)});return c(t).then((function(){var r=e.currentPageNumber;if(0!=e.pdfViewer.enablePageAction){var o=e,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:19;e.forEach((function(e){o.getPDFPageRender(e)&&o.getPDFPageRender(e).triggerAction(t)}))};if(e.lastVIs){var s=e.lastVIs.filter((function(e){return-1==t.indexOf(e)}));a(s,20),a(s=t.filter((function(t){return-1==e.lastVIs.indexOf(t)})))}else a(t),a(t,17)}(e.lastVIs=t,"fitVisible"===e.scale&&n&&r!==i)&&("single-page-view-mode"===n.constructor.getName()&&e.zoomTo("fitVisible"))}))}))}},{key:"getContainerOffsetLeftTop",value:function(){var e=this._offsetTop;if("number"==typeof e)return{left:this._offsetLeft,top:e};e=0;for(var t=0,n=this.$container[0],i=this.viewerRender.scrollWrap.getScrollHost();n&&(e+=n.offsetTop,t+=n.offsetLeft,(n=n.offsetParent)!==i););return{left:t,top:e}}},{key:"getContainerVisibleRect",value:function(){var e=document.documentElement,t=e.clientWidth,n=e.clientHeight,i=this.viewerRender.scrollWrap.getScrollHost(),r=0,o=t,a=0,s=n;if((0,T._)(i,HTMLElement)){var c=i.getBoundingClientRect();r=Math.max(r,c.left),o=Math.min(o,c.right),a=Math.max(a,c.top),s=Math.min(s,c.bottom)}return{left:r,right:o,top:a,bottom:s}}},{key:"getValidContainerVisibleRect",value:function(){var e,t,n,i,r=document.documentElement,o=(r.clientWidth,r.clientHeight,this.viewerRender.scrollWrap.getScrollHost());if((0,W.isHTMLElement)(o)){var a=o.getBoundingClientRect();e=a.left,t=a.left+o.clientWidth,n=a.top,i=a.top+o.clientHeight}else((0,W.isWindowObject)(o)||(0,W.isDocument)(o))&&(e=0,n=0,t=document.body.clientWidth,i=document.body.clientHeight);return e=Math.max(0,e),n=Math.max(0,n),{left:e,right:t=Math.min(t,document.body.clientWidth),top:n,bottom:i=Math.min(i,document.body.clientHeight)}}},{key:"getContainerVisiblePageIndexes",value:function(){if(!this.viewerRender||!this.getViewMode())return[];switch(this.viewerRender.getViewMode().getName()){case"single-page-view-mode":case"facing-continuous-page-view-mode":case"facing-page-view-mode":case"continuous-view-mode":return this.getViewMode().getVisibleIndexes()}for(var e,t,n,i,r=this.getCurrentPageIndex(),o=j()(this.pagesRender.pageDOMs),a=o.length,s=r-1,c=r,u=[],l=this.getContainerVisibleRect(),A=l.left,d=l.right,h=l.top,f=l.bottom;;){if(!i&&c<a){var p=o[c],v=j()(p).find(".fv__pdf-page-container"),g=v.length>0?v[0].getBoundingClientRect():p.getBoundingClientRect();g.right>A&&g.left<d&&g.bottom>h&&g.top<f?(u.push(j()(p).index()),n=!0):n&&(i=!0),c++}else!i&&c>=a&&(i=!0);if(!t&&s>-1){var m=o[s],y=j()(m).find(".fv__pdf-page-container"),_=y.length>0?y[0].getBoundingClientRect():m.getBoundingClientRect();_.right>A&&_.left<d&&_.bottom>h&&_.top<f?(u.unshift(j()(m).index()),e=!0):e&&(t=!0),s--}else!t&&s<=-1&&(t=!0);if(i&&t)break}return u}},{key:"downloadFileSpec",value:function(e,t){this.doc.getFileSpecStream(e).then((function(e){Oh(e,t,"application/octet-stream")}))}},{key:"downloadFileSpecByName",value:function(e,t){this.doc.getFileSpecStreamByName(e).then((function(e){Oh(e,t,"application/octet-stream")}))}},{key:"performAction",value:function(e){return this.doc.triggerAdditionalAction(e)}},{key:"setPrintState",value:function(e){this._isPrinting=e}},{key:"isPrinting",value:function(){return this._isPrinting}},{key:"transfUiLayoutKey",value:function(e){var t="";switch(e){case"pageOnly":t="PageOnly";break;case"bookmarksPanelAndPage":t="UseOutlines";break;case"pagesPanelAndPage":t="UseThumbs";break;case"attachmentsPanelAndPage":t="UseAttachments";break;case"layersPanelAndPage":t="UseOC"}return t}},{key:"executeNavigationAction",value:function(e){this.pdfViewer.customs.executeNavigationAction(e,this.pdfViewer)}},{key:"executeLayeroutAction",value:function(e,t){if(1!=this.doc.getPageCount()){var n=e;if("Default"===n&&t&&t.defaultPageLayout)switch(t.defaultPageLayout){case"continuous":n="OneColumn";break;case"singlePage":n="SinglePage";break;case"facing":n="TwoPageLeft";break;case"continuous-Facing":n="TwoColumnLeft"}var i="";switch(n){case"SinglePage":i="single-page-view-mode";break;case"OneColumn":i="continuous-view-mode";break;case"TwoPageLeft":i="facing-page-view-mode";break;case"TwoColumnLeft":i="facing-continuous-page-view-mode"}i&&this.pdfViewer.viewModeManager.set(i)}}},{key:"executeScaleAction",value:function(e,t){var n={pageIndex:void 0,scale:void 0};if(!(e&&e.type===$e.ActionType.goto||t))return n;var i,r=null==e?void 0:e.destination;if(r&&(n={pageIndex:i=r.pageIndex}),r&&void 0!==r.zoomMode&&"ZoomXYZ"!==r.zoomMode||r&&r.zoomFactor>0){var o=r.zoomFactor;switch(r.zoomMode){case"actualSize":o=1;break;case"ZoomFitPage":case"ZoomFitVert":o="fitHeight";break;case"ZoomFitHorz":o="fitWidth";break;case"ZoomFitBHorz":o="fitVisible"}n={pageIndex:i,scale:o}}else if(t){var a=t.zoom;switch(Number.isNaN(parseFloat(a))||(a/=100),t.zoom){case"autoMatic":case"fitWidth":a="fitWidth";break;case"actualSize":a=1;break;case"fitPage":a="fitHeight";break;case"fitVisible":a="fitVisible"}a&&(n={pageIndex:i,scale:a})}return n}},{key:"isHandReadArticles",value:function(){var e=window.localStorage.getItem("PREFERENCES-GENNERAL");return!e||JSON.parse(e).handReadArticles}},{key:"startReadMode",value:function(e){var t=this,n=this.pdfViewer,i=this.$doc,r=i.get(0),o=n.stateHandlerManager,a=o.currentStateHandler.getStateName(),s=this.scale,c=e.children,u=c[0].pageIndex,l=0,A=function(){var e=c[l],n=e.objNum,i=e.pageIndex,r=t.pagesRender.pageRenders[i].articleBeads[n];null==r||r.read(),l+=1};o.switchTo(yn),n.goToPage(u,0,0,!1).then(A),i.get(0).addEventListener("click",this.readArticle=function(e){t.isHandReadArticles()&&(j()(e.target).closest(".fv__pdf-page-annots-container").length>0||(l>=c.length?t.quitReadMode():A()))},{capture:!0}),this.readArticleCursor&&r.removeEventListener("mouseover",this.readArticleCursor),r.addEventListener("mouseover",this.readArticleCursor=function(e){var n=t.isHandReadArticles(),r=!!t.resetReadModeData;i.toggleClass("fv__cursor-frame",n&&r),i.find(".fv__pdf-page-handler-container").toggleClass("fv__cursor-frame",n&&r)}),this.isHandReadArticles()&&(i.addClass("fv__cursor-frame"),i.find(".fv__pdf-page-handler-container").addClass("fv__cursor-frame")),this.resetReadModeData={pageIndex:u,scale:s,statesName:a,thread:e},n.eventEmitter.emit(se.articleEnterReadMode,e.objNum)}},{key:"quitReadMode",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.pdfViewer,n=this.$doc,i=t.getStateHandlerManager();n.get(0).removeEventListener("click",this.readArticle,{capture:!0}),n.get(0).removeEventListener("mouseover",this.readArticleCursor),n.removeClass("fv__cursor-frame"),n.find(".fv__pdf-page-handler-container").removeClass("fv__cursor-frame");var r=this.resetReadModeData,o=r.pageIndex,a=r.scale,s=r.statesName,c=r.thread;t.getPDFPageRender(o).$handler.find(".fv__mark-selection-blank").remove(),e&&i.switchTo(s),t.goToPage(o,0,0,!1).then((function(){t.zoomTo(a)})),t.eventEmitter.emit(se.articleOutReadMode,c.objNum),this.resetReadModeData=null,this.readArticle=null,this.readArticleCursor=null}},{key:"fullscreen",value:function(){return function(e){e=e||document.querySelector("[name=pdf-viewer-container-with-ruler]");var t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen;if(t)t.call(e);else if(void 0!==window.ActiveXObject){var n=new ActiveXObject("WScript.Shell");null!==n&&n.SendKeys("{F11}")}}()}},{key:"disableDragToScroll",value:function(){this.viewerRender.disableDragToScroll()}},{key:"enableDragToScroll",value:function(){this.viewerRender.enableDragToScroll()}},{key:"hideMarkup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.hideMarkupFlag=e;var n=this.pagesRender;n.viewMode.getVisibleIndexes();n.pageRenders.forEach((function(n){var i,r=n.annotsRender;r&&(t?(i=r).render.apply(i,(0,M._)(r.renderParams)):e?(r.backAnnots=r.showAnnots,r.showAnnots=new Set,r.annotFiltered=1):(Array.from(r.showAnnots).map((function(e){return r.backAnnots.add(e)})),r.showAnnots=r.backAnnots,r.backAnnots=new Set))}))}}]),n}(Q);function Zh(e){return"state-"+e}const Xh=Kh;var Qh=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this)).viewerRender=e,i}return(0,D._)(n,[{key:"getScrollHost",value:function(){return window}},{key:"scrollBy",value:function(e,t){this.getScrollHost().scrollBy(e,t)}},{key:"scrollTo",value:function(e,t){this.getScrollHost().scrollTo(e,t)}},{key:"getScrollOffsetTop",value:function(){return this.viewerRender.$ui[0].offsetTop}},{key:"getScrollOffsetLeft",value:function(){return this.viewerRender.$ui[0].offsetLeft}},{key:"getScrollY",value:function(){return this.getScrollTop()}},{key:"getScrollX",value:function(){return this.getScrollLeft()}},{key:"getWidth",value:function(){var e=this.getScrollHost();return ef(e)?document.documentElement.clientWidth:e.clientWidth}},{key:"getHeight",value:function(){var e=this.getScrollHost();return ef(e)?document.documentElement.clientHeight:e.clientHeight}},{key:"getScrollTop",value:function(){var e=this.getScrollHost();return ef(e)?document.scrollingElement?document.scrollingElement.scrollTop:e.scrollY||e.pageYOffset||0:e.scrollTop}},{key:"getScrollLeft",value:function(){var e=this.getScrollHost();return ef(e)?document.scrollingElement?document.scrollingElement.scrollLeft:window.scrollX||window.pageXOffset||0:e.scrollLeft}},{key:"disable",value:function(e){if(this.disabled=e,e){var t=this.getScrollHost();t===document.body&&(t=document),this.scrollPosition={top:t.scrollTop,left:t.scrollLeft}}else this.scrollPosition=null}},{key:"addScrollEventListener",value:function(e){var t=this,n=this.getScrollHost();n===document.body&&(n=document);var i=function(i){var r,o;t.disabled?n.scrollTo(null===(r=t.scrollPosition)||void 0===r?void 0:r.left,null===(o=t.scrollPosition)||void 0===o?void 0:o.top):e(i,n)};n.addEventListener("scroll",i);var r=tr,o=function(){n.removeEventListener("scroll",i),r()};return r=this.addDestroyHook(o),o}},{key:"getOffsetOfPageElement",value:function(e){var t=this.viewerRender.$ui[0].getBoundingClientRect(),n=e.getBoundingClientRect();return{left:n.left-t.left,top:n.top-t.top}}}]),n}(W.Disposable);function ef(e){return(0,T._)(e,Window)||(0,T._)(e,Document)}var tf=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this)).pdfViewer=e,i}return(0,D._)(n,[{key:"docHandler",value:function(e){if(this.pdfViewer){var t=this.pdfViewer.getPDFViewerRender();t&&t.disableDragToScroll()}}},{key:"destroyDocHandler",value:function(){this.destroy()}},{key:"pageHandler",value:function(e){}},{key:"destroyPageHandler",value:function(){this.destroy()}},{key:"out",value:function(){this.pdfViewer.keyboard.activeDefaultBinde&&this.pdfViewer.keyboard.activeDefaultBinder()}}],[{key:"getStateName",value:function(){(0,W.notImplemented)()}},{key:"getKeyboardBinderName",value:function(){return null}},{key:"setParams",value:function(e,t){}}]),n}(W.Disposable);const nf=tf;function rf(e,t,n){var i=e.getBoundingClientRect();return[t-i.left,n-i.top]}function of(e,t,n){var i,r=e[0],o=e[1],a=r+t,s=o+n;return a<r&&(i=r,r=a,a=i),s<o&&(i=o,o=s,s=i),{left:r,right:a,top:o,bottom:s}}var af="fv__mark-selection-blank",sf="."+af;function cf(e){e.find(sf).remove()}function uf(e){var t,n,i=e[e.length-1],r={};switch(i.rotation){case 0:n=2*(t=i.top-i.bottom)/5,r.left=i.right-n,r.right=i.right+n,r.top=(i.top+i.bottom)/2,r.bottom=r.top-t;break;case 3:t=4*(n=i.right-i.left)/5,r.left=(i.right+i.left)/2,r.right=r.left+n,r.top=i.top+t/2,r.bottom=r.top-t;break;case 2:n=2*(t=i.top-i.bottom)/5,r.left=i.left-n,r.right=i.left+n,r.bottom=(i.top+i.bottom)/2,r.top=r.bottom+t;break;case 1:t=4*(n=i.right-i.left)/5,r.right=(i.right+i.left)/2,r.left=r.right-n,r.top=i.bottom+t/2,r.bottom=r.top-t}return{rect:r,rotate:i.rotation*Math.PI/2}}function lf(e,t){(t||e.$handler).find(".fv__mark-text-selection-range").remove()}function Af(e,t,n){var i=e.$handler;i.find(".fv__mark-selection-blank.rectangle").remove(),lf(e,i);var r={top:Math.min(t[1],n[1]),left:Math.min(t[0],n[0]),width:Math.abs(t[0]-n[0]),height:Math.abs(t[1]-n[1])};i.append(j()('<div class="fv__mark-text-selection-range"></div>').css(r))}function df(e){if("clientX"in e)return e.clientX;switch(e.type){case"touchstart":case"touchmove":return e.touches[0].clientX;case"touchend":case"touchcancel":return e.changedTouches[0].clientX}}function hf(e){if("clientY"in e)return e.clientY;switch(e.type){case"touchstart":case"touchmove":return e.touches[0].clientY;case"touchend":case"touchcancel":return e.changedTouches[0].clientY}}const ff=function(e,t){var n=e.getBoundingClientRect(),i=t.srcEvent,r=df(i),o=hf(i);return{x:r-n.left-t.deltaX,y:o-n.top-t.deltaY}};var pf="update-dbl-click-data",vf=function(){function e(){(0,C._)(this,e),(0,z._)(this,"store",new W.Store)}return(0,D._)(e,[{key:"dispatchDblClickData",value:function(e){var t=this;this.store.dispatch(pf,e).finally((function(){t.store.dispatch(pf,null)}))}},{key:"takeWhileDblClickDataReturn",value:function(e){var t=this.store.subscribe(pf,(function(n){n&&(e(n),t())}))}}]),e}(),gf=function(){function e(){(0,C._)(this,e),this.events={}}return(0,D._)(e,[{key:"register",value:function(e,t,n){for(var i=(0,T._)(t,Array)?t:[t],r=0;r<i.length;r++)this._addEventData(e,i[r],n);return this._addKeydownEvent(),this}},{key:"unregister",value:function(e,t){for(var n=0,i=t?(0,T._)(t,Array)?t:[t]:Object.keys(this.events),r=0;r<i.length;r++)n=this._removeEventData(e,i[r]);0===n&&(this.keydownEvent&&this.keydownEvent.destroy(),this.keydownEvent=void 0,this.mouseoverEvent&&this.mouseoverEvent.destroy(),this.mouseoverEvent=void 0)}},{key:"_addEvent",value:function(e,t,n){if(e&&t){var i=n||document;i.addEventListener(e,t);return{destroy:function(){i.removeEventListener(e,t)}}}}},{key:"_addKeydownEvent",value:function(){var e=this;this.keydownEvent||(this.mouseoverEvent=this._addEvent("mouseover",(function(t){e.mouseoverElement=t.target}),document),this.keydownEvent=this._addEvent("keydown",(function(t){var n=e._matchEventData(e._getKeyFromEvent(t));n&&n(t)})))}},{key:"_addEventData",value:function(e,t,n){this.events[t]||(this.events[t]=[]);for(var i=this.events[t],r=0;r<i.length;r++){if(i[r][0]===e)return void console.error("Duplicate binding of shortcut key：",t,", on dom:",e)}this.events[t].push([e,n])}},{key:"_removeEventData",value:function(e,t){for(var n=this.events[t]||[],i=0;i<n.length;i++){if(n[i][0]===e){n.splice(i,1),0===n.length&&delete this.events[t];break}}return Object.keys(this.events).length}},{key:"_matchEventData",value:function(e){var t,n=this,i=this._getPrevKey(),r=this.events,o=i?"".concat(i,",").concat(e):"",a=function(e){if(!e)return null;for(var t in r)if(n._isKeyEqual(t,e))return r[t];return null};return(t=a(e)||a(o))?this._removePrevKey():this._addPrevKey(o||e),this._matchEventCallback(t)}},{key:"_matchEventCallback",value:function(e){if(!e||0===e.length)return null;var t=e.filter((function(e){var t=e[0];if(t===document)return!0;var n=t.getBoundingClientRect();return n.x+n.y+n.width+n.height>0}));e.length>1&&t.sort((function(e,t){var n=e[0],i=t[0];return n.contains(i)?-1:i.contains(n)?1:0})).reverse();for(var n=[document.activeElement,this.mouseoverElement],i=0;i<n.length;i++){var r=n[i];if(r)for(var o=["INPUT","TEXTAREA"].includes(r.nodeName)||"true"===r.contentEditable,a=0;a<t.length;a++){var s=t[a],c=s[0],u=s[1];if(c===r)return u;if(!o&&c.contains(r))return u}}}},{key:"_addPrevKey",value:function(e){var t=this;this._removePrevKey(),this._prev_key=e,this._prev_key_timer=setTimeout((function(){t._removePrevKey()}),2e3)}},{key:"_getPrevKey",value:function(){return this._prev_key}},{key:"_removePrevKey",value:function(){this._prev_key=void 0,this._prev_key_timer&&clearTimeout(this._prev_key_timer),this._prev_key_timer=void 0}},{key:"_getKeyFromEvent",value:function(e){var t=e.key,n=(e.keyCode,e.code,e.altKey),i=e.ctrlKey,r=e.shiftKey,o=e.metaKey,a=[t];return n&&"Alt"!==t&&a.unshift("Alt"),i&&"Control"!==t&&a.unshift("Ctrl"),r&&"Shift"!==t&&a.unshift("Shift"),o&&"Meta"!==t&&a.unshift("Meta"),a.join("+")}},{key:"_isKeyEqual",value:function(e,t){return e=e.toLowerCase().replaceAll("control","ctrl").replaceAll("escape","esc"),t=t.toLowerCase().replaceAll("control","ctrl").replaceAll("escape","esc"),e.indexOf("+")>-1&&t.indexOf("+")>-1?e.split("+").sort((function(e,t){return e.charCodeAt(0)>t.charCodeAt(0)?-1:e.charCodeAt(0)<t.charCodeAt(0)?1:0})).join("+")===t.split("+").sort((function(e,t){return e.charCodeAt(0)>t.charCodeAt(0)?-1:e.charCodeAt(0)<t.charCodeAt(0)?1:0})).join("+"):e===t}}],[{key:"getInstance",value:function(){return window.Shortcut?window.Shortcut:window.Shortcut=new e}}]),e}();const mf=gf.getInstance();var yf,_f=2147483647,bf=36,wf=/^xn--/,kf=/[^\0-\x7F]/,xf=/[\x2E\u3002\uFF0E\uFF61]/g,Pf={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Cf=Math.floor,Df=String.fromCharCode;function Ef(e){throw new RangeError(Pf[e])}function Sf(e,t){var n=e.split("@"),i="";n.length>1&&(i=n[0]+"@",e=n[1]);var r=function(e,t){for(var n=[],i=e.length;i--;)n[i]=t(e[i]);return n}((e=e.replace(xf,".")).split("."),t).join(".");return i+r}function If(e){for(var t=[],n=0,i=e.length;n<i;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&r)<<10)+(1023&o)+65536):(t.push(r),n--)}else t.push(r)}return t}var Tf=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},Rf=function(e,t,n){var i=0;for(e=n?Cf(e/700):e>>1,e+=Cf(e/t);e>455;i+=bf)e=Cf(e/35);return Cf(i+36*e/(e+38))},Mf=function(e){var t,n,i=[],r=e.length,o=0,a=128,s=72,c=e.lastIndexOf("-");c<0&&(c=0);for(var u=0;u<c;++u)e.charCodeAt(u)>=128&&Ef("not-basic"),i.push(e.charCodeAt(u));for(var l=c>0?c+1:0;l<r;){for(var A=o,d=1,h=bf;;h+=bf){l>=r&&Ef("invalid-input");var f=(n=e.charCodeAt(l++))>=48&&n<58?n-48+26:n>=65&&n<91?n-65:n>=97&&n<123?n-97:bf;f>=bf&&Ef("invalid-input"),f>Cf((_f-o)/d)&&Ef("overflow"),o+=f*d;var p=h<=s?1:h>=s+26?26:h-s;if(f<p)break;var v=bf-p;d>Cf(_f/v)&&Ef("overflow"),d*=v}var g=i.length+1;s=Rf(o-A,g,0==A),Cf(o/g)>_f-a&&Ef("overflow"),a+=Cf(o/g),o%=g,i.splice(o++,0,a)}return(t=String).fromCodePoint.apply(t,(0,M._)(i))},Ff=function(e){var t=[],n=(e=If(e)).length,i=128,r=0,o=72,a=!0,s=!1,c=void 0;try{for(var u,l=e[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var A=u.value;A<128&&t.push(Df(A))}}catch(e){s=!0,c=e}finally{try{a||null==l.return||l.return()}finally{if(s)throw c}}var d=t.length,h=d;for(d&&t.push("-");h<n;){var f=_f,p=!0,v=!1,g=void 0;try{for(var m,y=e[Symbol.iterator]();!(p=(m=y.next()).done);p=!0){var _=m.value;_>=i&&_<f&&(f=_)}}catch(e){v=!0,g=e}finally{try{p||null==y.return||y.return()}finally{if(v)throw g}}var b=h+1;f-i>Cf((_f-r)/b)&&Ef("overflow"),r+=(f-i)*b,i=f;var w=!0,k=!1,x=void 0;try{for(var P,C=e[Symbol.iterator]();!(w=(P=C.next()).done);w=!0){var D=P.value;if(D<i&&++r>_f&&Ef("overflow"),D===i){for(var E=r,S=bf;;S+=bf){var I=S<=o?1:S>=o+26?26:S-o;if(E<I)break;var T=E-I,R=bf-I;t.push(Df(Tf(I+T%R,0))),E=Cf(T/R)}t.push(Df(Tf(E,0))),o=Rf(r,b,h===d),r=0,++h}}}catch(e){k=!0,x=e}finally{try{w||null==C.return||C.return()}finally{if(k)throw x}}++r,++i}return t.join("")},Nf={version:"2.3.1",ucs2:{decode:If,encode:function(e){return(yf=String).fromCodePoint.apply(yf,(0,M._)(e))}},decode:Mf,encode:Ff,toASCII:function(e){return Sf(e,(function(e){return kf.test(e)?"xn--"+Ff(e):e}))},toUnicode:function(e){return Sf(e,(function(e){return wf.test(e)?Mf(e.slice(4).toLowerCase()):e}))}};const Lf=Nf;var Of="rectangle",jf=function(e,t,n){var i=e.$handler;i.find(".fv__mark-selection-blank:not(.rectangle)").remove();for(var r=j()(document.createDocumentFragment()),o=i.get(0).getBoundingClientRect(),a=0,s=t.length;a<s;a++){var c=t[a],u={top:c.top/o.height*100+"%",left:c.left/o.width*100+"%",width:(c.right-c.left)/o.width*100+"%",height:(c.bottom-c.top)/o.height*100+"%"};r.append(j()('<mark class="fv__mark-selection-blank" type="'+n+'"></mark>').css(u))}i.append(r)},Bf=function(e){var t;null===(t=e.$handler.find(".fv__text-link"))||void 0===t||t.hide()},Vf=function(e,t,n,i){var r=of(t,n,i);return e.getTextRectsAtRect(r).then((function(t){return Promise.all([e.getPDFPage(),t]).then((function(t){var n=(0,R._)(t,2),i=n[0],r=n[1],o=e.transformRectArray(i,r);return jf(e,o,Rt.Text),{page:i,rectArray:r,rectArrayInPixel:o}}))}))},Uf=function(e,t,n){var i=e.$handler;i.find(".fv__mark-selection-blank.rectangle").remove();var r=i.get(0).getBoundingClientRect();if("object"==typeof t){var o={top:Math.min(t[1],n[1])/r.height*100+"%",left:Math.min(t[0],n[0])/r.width*100+"%",width:Math.abs(t[0]-n[0])/r.width*100+"%",height:Math.abs(t[1]-n[1])/r.height*100+"%"},a=j()('<mark class="fv__mark-selection-blank rectangle" type="rectangle"></mark>').css(o);i.append(a)}else{var s=j()('<mark class="fv__mark-selection-blank rectangle" type="rectangle"><button id="chatAI"></button></mark>').css(n),c=s.find("button").on("click",(function(){e.pdfViewer.customs.chatWithSelection()}));t||c.hide(),i.append(s)}},Hf=function(e,t,n,i){var r=e.point,o=e.rectArray,a=e.isReadSelectText,s=void 0===a||a,c=e.characterIndexStart,u=void 0===c?-1:c,l=e.characterIndexEnd,A=void 0===l?-1:l,d=e.panStartEvent,h=e.panMoveArr,f=e.overrideText,p=n.pdfViewer,v=n.doc;return(o||[])[0]?Promise.all([n.getPDFPage(),o]).then((function(e){var o=(0,R._)(e,2),a=o[0],c=o[1];of(r,t.deltaX,t.deltaY);return Promise.all(c.map((function(e){return a.getTextContinuousCharsAtRect(e,!0)}))).then((function(e){return e.join("\n")})).then((function(e){v.addTextSelectedInfo(n,u,A,c,e,t,d,h),p.getStore().dispatch(we.SELECTION_INFO,{page:a,text:f||e,rectArray:c,isReadSelectText:s,e:t,panStartEvent:d,panMoveArr:h}),p.eventEmitter.emit(se.selectText,{selectedInfo:v.selectedInfo,page:a,text:f||e,rectArray:c,e:t,panStartEvent:d,panMoveArr:h});var r=n.transformRectArray(a,c);jf(n,r,Rt.Text);var o=r[0];return!!o&&(i&&i.showAt((o.left+o.right)/2,o.top,e,r),!0)}))})):Promise.resolve(!1)},zf=function(e){e.currentPDFDoc&&e.currentPDFDoc.setSelectedInfo(null),e.getStore().dispatch(we.SELECTION_INFO,null),e.getPDFDocRender().pagesRender.pageRenders.forEach((function(e){e.$handler.find(".fv__mark-selection-blank").remove()}))},Wf=function(){function e(t,n,i,r){var o=this;if((0,C._)(this,e),[yn,Xn].includes(r)){var a,s,c=-1,u=-1,l="unknown",A=n.$handler.addClass("fv__select-text-image-state-handler"),d=A[0],h=n.pdfViewer,f=(h.viewerUI,h.eventEmitter),p=null,v=null,g=[],m=n.doc;this.pdfDoc=m,this.pdfViewer=h,this.pageRender=n,this.tooltip=i,this.stateName=r,this.altEnter=!1,this.altSwitch=!1,this.disposor=new W.Disposable,this.isEnable=!0,this.isEnableSingleTap=!1,this.addAltEvent(A);var y,_,b,w,k,x=m.isDynamicXFA();0;var D,E=!1,S=!1;if(W.isTouchDevice){var I,T,M=null,F=this;t.on("press",(D=(0,P._)((function(e){var t;return(0,L.Jh)(this,(function(r){switch(r.label){case 0:return x?[2]:[4,n.annotsRender.findAnnot(e.srcEvent)];case 1:return r.sent()||(zf(h),i&&i.hide(),t=ff(d,e),n.getTextContinueRectAtDevicePoints([t.x,t.y],[t.x+5,t.y+5],-1,-1).then((function(e){M=e,n.getPDFPage().then((function(t){var i=n.transformRectArray(t,e);jf(n,i,Rt.Text)})),(e||[])[0]&&(E=!0,F.setEnable(!0),F.pdfViewer.eventEmitter.emit(se.togglePageContextMenu,!1))}))),[2]}}))})),I=function(e){return D.apply(this,arguments)})),t.on("hammer.input",T=function(e){if("pointerup"===e.srcEvent.type||"touchend"===e.srcEvent.type){if(S)return M=null,void(E=!1);if(E&&M){var t=ff(d,e);Hf({point:[t.x,t.y],rectArray:M,characterIndexStart:c,characterIndexEnd:u,panStartEvent:v,panMoveArr:g},e,n,i)}else zf(h),i&&i.hide();M=null,E=!1,o.pdfViewer.eventEmitter.emit(se.togglePageContextMenu,!0)}else"pointerdown"!==e.srcEvent.type&&"touchstart"!==e.srcEvent.type||(S=!1)}),this.disposor.addDestroyHook((function(){t.off("press",I),t.off("hammer.input",T)}))}t.on("singletap",y=function(e){if(o.isEnableSingleTap){var t=ff(d,e);n.getTextLinkAtPoint([t.x,t.y]).then((function(e){if(e){var t=h.i18n.t("viewer_:pdfjs.launchURLHint");return h.viewerUI.confirm(t+"\n"+Lf.toASCII(e)).then((function(){window.open(e)}),tr)}}))}}),t.on("doubletap",_=function(e){x||o.isEnable&&(zf(h),i&&i.hide(),o.isTextSelectionToolEnabledInHandState()&&function(e,t,n,i){var r=ff(t,e),o=[r.x,r.y];n.getDoubleClickTextRectAtPoint(o).then((function(t){var r=n.pdfViewer.getIoC().getInstanceByClass(vf);Hf({point:o,rectArray:t,isReadSelectText:!1},e,n,i).then((function(e){r.dispatchDblClickData({isTextSelected:e})}))}))}(e,d,n,i))}),t.on("panstart",b=function(e){if(o.isEnable&&o.isTextSelectionToolEnabledInHandState()&&(r!==yn||"mouse"==e.pointerType||E)){S=!0;var t=ff(d,e);n.getTextContinueRectAtDevicePoints([t.x,t.y],[t.x+5,t.y+5],-1,-1).then((function(n){var A=(n||[])[0];if(l=!A,r===yn){if(l)return;var d=h.customs.isCollaborationMod&&h.customs.isCollaborationMode(),p=h.customs.getCommentPermission&&h.customs.getCommentPermission();if(d&&!p)return;f.emit("can-scroll",!1)}o.pdfDoc.textSelecting=!0,v=e,g=[],c=A&&"string"==typeof A.text?A.start:-1,u=-1,void 0,a=[t.x,t.y],s=new ue,m.clearSelectedInfo(h),i&&i.hide(),h.killFocus(),o.altSwitch=o.altEnter}))}}),t.on("panmove",w=function(e){if(o.isEnable&&o.isTextSelectionToolEnabledInHandState()){if(r===yn){if("mouse"!=e.pointerType&&!E)return;if("unknown"===l||!o.pdfDoc.textSelecting)return}else if("unknown"===l)return;var t=ff(d,e);s||(s=new ue),s.push((function(){var i=o;g.push(e);var s=[a[0]+e.deltaX,t.y+e.deltaY];if(r===yn){if(o.altSwitch)return Af(n,a,s),Vf(n,a,e.deltaX,e.deltaY);if(l)return p={type:Of,pageRender:n},m.setSelectedInfo(p),Uf(n,a,s),Promise.resolve()}var A=function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Promise.all([t.getPDFPage(),n?Promise.resolve(r):t.reverseDevicePoint(r)]).then((function(n){var r=(0,R._)(n,2),a=r[0],s=r[1];return a.getTextIndexAtPoint(s).then((function(n){if(-1==n)return Promise.resolve();var r=o?n:0,s=o?-1:n;return a.getTextRectsByIndexes(r,s).then((function(n){var o=t.transformRectArray(a,n);jf(t,o,Rt.Text),i.pdfDoc.addTextSelectedInfo(t,r,s,n,"",e,v,g)}))}))}))},d=(0,W.getClientX)(e.srcEvent),f=(0,W.getClientY)(e.srcEvent);return h.convertClientCoordToPDFCoord({clientX:d,clientY:f}).then((function(t){var i=t.index;return i!=n.index?A(n,!1,a,i>n.index).then((function(){u=i>n.index?-1:0;var e=h.getPDFPageRender(i),r=[t.left,t.top];return A(e,!0,r,i<n.index)})):n.getTextContinueRectAtDevicePoints(a,s,c,u).then((function(t){var i=(t||[])[0];if(i&&("string"==typeof i.text&&(c=i.start,u=i.end),-1!==c))return Promise.all([n.getPDFPage(),t]).then((function(t){var i=(0,R._)(t,2),r=i[0],a=i[1],s=n.transformRectArray(r,a);jf(n,s,Rt.Text),o.pdfDoc.addTextSelectedInfo(n,c,u,a,"",e,v,g)}))}))}))}))}}),t.on("panend",k=function(e){if(o.isEnable&&!h.asyncRender&&o.isTextSelectionToolEnabledInHandState()){if(r===yn){if(!o.pdfDoc.textSelecting||"unknown"===l)return;o.pdfDoc.textSelecting=!1,o.pdfViewer.eventEmitter.emit("can-scroll",!0)}else if(o.pdfDoc.textSelecting=!1,"unknown"===l)return;if(s&&(s.end(),s=null),o.altSwitch&&r===yn)return o.altSwitch=!1,lf(n),Vf(n,a,e.deltaX,e.deltaY).then((function(t){var r=t.page,o=t.rectArray,a=t.rectArrayInPixel,s=o[0].texts||"";m.addTextSelectedInfo(n,0,0,o,s,e,v,g),h.getStore().dispatch(we.SELECTION_INFO,{page:r,text:s,rectArray:o,e,panStartEvent:v,panMoveArr:g}),f.emit(se.selectText,{page:r,text:s,rectArray:o,e,panStartEvent:v,panMoveArr:g});var c=a[0];c&&i&&i.showAt((c.left+c.right)/2,c.top,m.selectedInfo.getText(),a)}));if(!l||r!==yn)return o.pdfDoc.updateTextSelectInfo().then((function(){o.pdfDoc.selectedInfo&&function(e,t){var n=e.selectedPages;if(n.length){var i=e.e,r=e.panStartEvent,o=e.panMoveArr,a=n[0].pageRender,s=a.pdfViewer,c=(a.doc,n[0].rectArray),u=e.getText(),l=u;a.getPDFPage().then((function(n){s.getStore().dispatch(we.SELECTION_INFO,{selectedInfo:e,page:n,text:l||u,rectArray:c,isReadSelectText:!1,e:i,panStartEvent:r,panMoveArr:o}),s.eventEmitter.emit(se.selectText,{selectedInfo:e,page:n,text:l||u,rectArray:c,e:i,panStartEvent:r,panMoveArr:o});var A=a.transformRectArray(n,c),d=A[0];return!!d&&(t&&t.showAt((d.left+d.right)/2,d.top,u,A),!0)}))}}(o.pdfDoc.selectedInfo,i)}));var t=ff(d,e),c=[a[0]+e.deltaX,t.y+e.deltaY];p={type:Of,pageRender:n,e,panStartEvent:v,panMoveArr:g},m.setSelectedInfo(p),Uf(n,a,c),l="unknown"}});var N=function(){i&&i.hide()};f.on(se.activeElementChanged,N),f.on(se.switchStateHandler,N),this.disposor.addDestroyHook((function(){i&&i.destroy(),f.off(se.activeElementChanged,N),f.off(se.switchStateHandler,N),t.off("singletap",y),t.off("doubletap",_),t.off("panstart",b),t.off("panmove",w),t.off("panend",k)}))}}return(0,D._)(e,[{key:"destroy",value:function(){mf.unregister(this.pageRender.$element.get(0)),this.pdfViewer.viewerUI.loadContextPromise=null,this.disposor.destroy(),this.removeAltEvent()}},{key:"doTextCopy",value:function(e){var t=this,n=e.getText();void 0!==n&&(0,W.copyText)(n).then((function(e){t.pdfViewer.eventEmitter.emit(e?se.copyTextSuccess:se.copyTextFailed,n)}))}},{key:"doExportSelectionText",value:function(e){var t=this.pdfViewer.viewerUI.rootComponent.pdfUI;if(!(t.customs&&t.customs.isAccountExpired&&t.customs.isAccountExpired(!0,{btnName:"fv--contextmenu-item-exportSelectionAs",tabName:"convert_tab"}))){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e.selectedPages[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var c=a.value,u=c.rectArray.map((function(e){return{left:e.left,right:e.right,top:e.top,bottom:e.bottom}}));n.push({pageIndex:c.pageRender.index,rectArray:u})}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}t.customs&&t.customs.showSaveAsDialog&&t.customs.showSaveAsDialog("convert-pdf-to-word",JSON.stringify(n))}}},{key:"createTextMarkupAnnot",value:function(e,t){var n=this,i=t.selectedPages,r=function(t,i){return t.getPDFPage().then((function(t){if("replace"===e){var r=uf(i),o=r.rect,a=r.rotate;return t.addAnnotGroup([{flags:4,type:"strikeout",rect:{left:0,right:0,top:0,bottom:0},coords:i,noPopup:!0,typeAlias:"Replace",intent:"StrikeOutTextEdit",subject:n.pdfViewer.i18n.t("viewer_:annotSubjects.Replace")},{type:"caret",flags:4,rect:o,typeAlias:"Replace",intent:"Replace",rotation:a,subject:n.pdfViewer.i18n.t("viewer_:annotSubjects.Replace")}],1)}return t.addAnnot({type:e,rect:{left:0,right:0,top:0,bottom:0},flags:4,coords:i,subject:n.pdfViewer.i18n.t("viewer_:annotSubjects."+e[0].toUpperCase()+e.substr(1))})})).then((function(e){var i=e[0];n.pdfViewer.eventEmitter.emit(se.addAnnotSuccess,i),t.annotsRender.activeAnnot(i.getId())}))},o=[],a=!0,s=!1,c=void 0;try{for(var u,l=i[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var A=u.value;o.push(r(A.pageRender,A.rectArray))}}catch(e){s=!0,c=e}finally{try{a||null==l.return||l.return()}finally{if(s)throw c}}Promise.all(o).then((function(){zf(n.pdfViewer),n.tooltip&&n.tooltip.hide()}))}},{key:"doTextSelectAll",value:function(e,t){var n=this,i=this.pdfViewer;zf(i),this.tooltip&&this.tooltip.hide();var r=[];if(t){var o=!0,a=!1,s=void 0;try{for(var c,u=t.selectedPages[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var l=c.value;r.push(l.pageRender)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}}else e&&r.push(e);var A=!0,d=!1,h=void 0;try{for(var f,p=function(){var e=f.value;Promise.all([e.getAllTextRect(),e.getAllTextChar(),e.getPDFPage()]).then((function(t){var r=(0,R._)(t,3),o=r[0],a=r[1],s=r[2];i.getStore().dispatch(we.SELECTION_INFO,{page:s,text:a,rectArray:o}),i.eventEmitter.emit(se.selectText,{page:s,text:a,rectArray:o});var c=e.transformRectArray(s,o);jf(e,c,Rt.Text);var u=n.pdfViewer.currentPDFDoc;e.getAllTextChar().then((function(t){u.addTextSelectedInfo(e,0,-1,o,t)}))}))},v=r[Symbol.iterator]();!(A=(f=v.next()).done);A=!0)p()}catch(e){d=!0,h=e}finally{try{A||null==v.return||v.return()}finally{if(d)throw h}}}},{key:"createBookmark",value:function(e,t){var n=this;if(!e){var i=!0,r=!1,o=void 0;try{for(var a,s=t.selectedPages[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){e=a.value.pageRender;break}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}var c=this.pdfViewer.viewerUI.rootComponent;if(c.getComponentByName("sidebar-bookmark").active(),t){var u,l,A=t.type,d=t.graphicsObject;A==Rt.Text&&(u=t.getText(),l=t.selectedPages[0].rectArray),e.getPDFPage().then((function(e){var t=A===Rt.Text?l[0]:d.getRect(),i=t.left,r=t.top,o=A===Rt.Text?u:n.pdfViewer.i18n.t("sidebar.bookmark.untitled"),a=e.getIndex(),s=c.getComponentByName("fv-bookmark-sidebar-panel");n.pdfViewer.eventEmitter.emit("bookmark-create-current-view",{bookmarkId:s.currentBookmarkId,left:i,top:r,title:o,relationship:3,pageIndex:a})}))}else this.pdfViewer.eventEmitter.emit("bookmark-create-current-view")}},{key:"doEditText",value:function(e){}},{key:"createLink",value:function(e){var t,n=this,i=!0,r=!1,o=void 0;try{for(var a,s=e.selectedPages[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var c=a.value;t=c.pageRender;break}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}if(t){var u=t.doc;t.getPDFPage().then((function(e){var i=0;if(u.selectedInfo){var r=u.selectedInfo.selectedPages[0].rectArray,o=Number.MAX_VALUE,a=-Number.MAX_VALUE,s=-Number.MAX_VALUE,c=Number.MAX_VALUE;r.forEach((function(e){o=Math.min(o,e.left),a=Math.max(a,e.right),s=Math.max(s,e.top),c=Math.min(c,e.bottom)})),i&&(u.selectedInfo=null),e.addAnnot({type:"link",rect:{left:o,right:a,top:s,bottom:c},color:"0000FF"}).then((function(e){var i=t.getAnnotRender(e[0].getId()).component;i.showCreateDialog(),W.isMobile&&n.pdfViewer.getStateHandlerManager().switchTo(yn),t.pdfViewer.eventEmitter.emit(se.addAnnotSuccess,i.annot),zf(n.pdfViewer),n.tooltip&&n.tooltip.hide()}))}else i=1}))}}},{key:"doWordCount",value:function(e){}},{key:"getLoopUpText",value:function(){var e=!1,t=this.pageRender.doc;if(t.selectedInfo){var n=t.selectedInfo.getText();return n=n.trim(),W.isWindows&&(n=n.substr(n.lastIndexOf(" ")+1)),t.selectedInfo.lookUpText=n,e&&(t.selectedInfo=null),n}e=!0}},{key:"doLookUp",value:function(e){var t=e.lookUpText;this.dictionaryWindow&&this.dictionaryWindow.close(),this.dictionaryWindow=window.open("https://www.dictionary.com/browse/".concat(t,"?utm_source=foxit&utm_medium=referral&utm_campaign=foxit"))}},{key:"isTextSelectionToolEnabledInHandState",value:function(){if(this.stateName===yn){var e=this.pdfViewer.getStateHandlerManager().getStateHandlerConfig(yn);if(e&&!e.enableTextSelectionTool)return!1}return!0}},{key:"hasModifyPermissions",value:function(e){var t=e.doc.getPermissions();return 8&t&&32&t}},{key:"checkPerm",value:function(e){return this.pageRender.docRender.getUserPermission()[e]()}},{key:"addAltEvent",value:function(e){var t=this;this.keydownUpEvent=function(e){"keyup"===e.type&&t.altEnter?(e.stopPropagation(),e.preventDefault(),t.altEnter=!1):e.altKey&&(e.stopPropagation(),e.preventDefault(),t.altEnter=!0)},j()(window).on("keydown keyup",this.keydownUpEvent)}},{key:"removeAltEvent",value:function(){j()(window).off("keydown keyup",this.keydownUpEvent)}},{key:"isTextSelecting",value:function(){return!!this.pdfDoc.textSelecting}},{key:"setEnable",value:function(e){var t=e.selectable,n=void 0===t||t,i=e.singleTap,r=void 0!==i&&i;this.isEnable=n,this.isEnableSingleTap=r}}]),e}(),Gf="fv__cursor-grab",Yf="fv__cursor-grabbing",$f="fv__cursor-text",Jf="fv__cursor-pointer",qf=function e(){(0,C._)(this,e),this.scrollValid=!0},Kf=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this,e)).isDestroyed=!1,i.cursorStyle=Gf,i.isOnText=!1,i.timeStamp=0,i.pdfViewer=e,i.service=e.getIoC().getInstanceByClass(qf),i.throttleTaskExecutor=new W.ThrottleAsyncTaskExecutor(100,!0),i}return(0,D._)(n,[{key:"docHandler",value:function(e){e.viewerRender.enableDragToScroll(),this.pdfViewer.getFormFillerService().setInteractionSupport(!0)}},{key:"pageHandler",value:function(e){var t=this;this.pageRender=e;var n=e;e.$ui.addClass("fv__annot-container-zindex-up fv__allow-modify-form-control");var i=n.$handler;i.addClass("fv__hand-state-handler"),i.addClass(this.cursorStyle);var r=i[0],o=e.pdfViewer,a=o.getCurrentPDFDoc();a||(a=e.docRender.doc);var s=a.isDynamicXFA(),c=this.eventEmitter=o.eventEmitter;c.emit("can-scroll",!0);var u=this.hammer=(0,W.createHammer)(r);u.on("panstart",(function(t){if(!s){var n=e.annotsRender;n&&n.panStart(t.srcEvent)}}));var l,A=this,d=(l=(0,P._)((function(t){var n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return zf(A.pdfViewer),s?(c.emit(se.tapPage,t),[2]):(n=e.annotsRender)?[4,n.tapPage(t.srcEvent)]:(c.emit(se.tapPage,t),[2]);case 1:return i.sent()||(t.srcEvent.ctrlKey||n.unActiveAnnot(),c.emit(se.tapPage,t)),[2]}}))})),function(e){return l.apply(this,arguments)}),h=this,f=function(){var t=(0,P._)((function(t){var n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return s?(c.emit(se.doubleTapPage,t,e,{isTextSelected:h.isOnText}),[2]):(n=e.annotsRender)?[4,n.doubleTapPage(t.srcEvent)]:(c.emit(se.doubleTapPage,t,e,{isTextSelected:h.isOnText}),[2]);case 1:return i.sent()||(n.unActiveAnnot(),W.isTouchDevice&&e.pdfViewer.getIoC().getInstanceByClass(vf).dispatchDblClickData({isTextSelected:h.isOnText}),c.emit(se.doubleTapPage,t,e,{isTextSelected:h.isOnText})),[2]}}))}));return function(e){return t.apply(this,arguments)}}();u.on("singletap",d),u.on("doubletap",f);var p=this;if(u.on("press",function(){var t=(0,P._)((function(t){var n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return s?(c.emit(se.pressPage,t),[2]):(n=e.annotsRender,p.eventEmitter.emit("can-scroll",!0),n?(n.unActiveAnnot(),[4,n.pressPage(t.srcEvent)]):(c.emit(se.pressPage,t),[2]));case 1:return i.sent()?(t.srcEvent.preventDefault(),t.srcEvent.stopPropagation(),[2]):(c.emit(se.pressPage,t),[2])}}))}));return function(e){return t.apply(this,arguments)}}()),W.isTouchDevice){var v=e.docRender;u.on("press",(function(t){var n=ff(r,t);e.getTextContinueRectAtDevicePoints([n.x,n.y],[n.x+5,n.y+5],-1,-1).then((function(e){!!(e||[])[0]&&v.viewerRender.disableDragToScroll()}))})),u.on("hammer.input",(function(e){switch(e.srcEvent.type){case"pointerup":case"touchend":case"pointercancel":v.viewerRender.enableDragToScroll()}}))}else i.on("mousedown",this.mousedown=function(e){W.isTouchDevice||(t.isOnText?zf(t.pdfViewer):(t.textSelectionHandler&&t.textSelectionHandler.setEnable(!1),i.removeClass(t.cursorStyle),t.cursorStyle=Yf,i.addClass(t.cursorStyle),t.textSelectionHandler&&t.textSelectionHandler.isTextSelecting()&&t.eventEmitter.emit("can-scroll",!1)))}),i.on("mousemove",this.mousemove.bind(this)),i.on("mouseup",this.mouseup=function(n){if(!t.isOnText&&(i.removeClass(t.cursorStyle),t.textSelectionHandler&&!t.textSelectionHandler.isTextSelecting()&&t.emitCanScroll(),t.cursorStyle=Gf,i.addClass(t.cursorStyle),3===n.which))if(s)c.emit(se.rightClickPage,n);else{var r=e.annotsRender;r?(r.unActiveAnnot(),c.emit(se.rightClickPage,n)):c.emit(se.rightClickPage,n)}});var g=j()('<div class="fv__hand-state-contextmenu-container fv__contextmenu-container"></div>'),m=i.find(".fv__mark-selection-blank");m&&m.length>0?g.insertBefore(m[0]):i.append(g),g.data("hand-state",this),setTimeout((function(){if(t.textSelectionToolEnabled()&&!t.isDestroyed&&!e.isDestroyed){var n=t.tooltip=o.viewerUI&&o.viewerUI.createTextSelectionTooltip(e);t.textSelectionHandler=new Wf(t.hammer,e,n,yn),n&&n.on("blur",(function(e){!e&&zf(t.pdfViewer),n.hide()}))}}),200)}},{key:"mousemove",value:function(e){var t=this;if(!this.isDynamicXFA()&&!this.pdfViewer.getFormFillerService().getMouseOverControl()){if(this.textSelectionHandler&&this.textSelectionHandler.isTextSelecting())return this.cursorStyle=$f,void this.pageRender.$handler.removeClass(Gf).addClass(this.cursorStyle);clearTimeout(this.timer),this.throttleTaskExecutor.exec((function(){if(t.pageRender&&!t.pageRender.isDestroyed&&t.textSelectionToolEnabled())return t.mousemoveHandler(e)}))}}},{key:"textSelectionToolEnabled",value:function(){if(!this.pdfViewer)return!1;var e=this.pdfViewer.getStateHandlerManager().getStateHandlerConfig(yn);return!e||!!e.enableTextSelectionTool}},{key:"isDynamicXFA",value:function(){var e=this.pdfViewer.getCurrentPDFDoc();return!(e&&!e.isDestroyed&&!e.isDynamicXFA())}},{key:"mousemoveHandler",value:function(e){var t=this;return(0,P._)((function(){var n,i,r,o;return(0,L.Jh)(this,(function(a){switch(a.label){case 0:return t.isDynamicXFA()?[2]:(n=t.pageRender,[4,null==(i=n.annotsRender)?void 0:i.findAnnot(e)]);case 1:return(r=a.sent())&&-1!==["screen","link","image","sound"].indexOf(r.type)?(t.cursorStyle=Jf,n.$handler.removeClass(Gf).addClass(t.cursorStyle),[2]):(o={x:e.originalEvent.layerX,y:e.originalEvent.layerY},[2,n.getTextContinueRectAtDevicePoints([o.x,o.y],[o.x+5,o.y+5],-1,-1).then((function(e){if(null==e?void 0:e[0])return n.getTextLinkAtPoint([o.x,o.y]).then((function(e){e?(t.cursorStyle!==Jf&&(n.$handler.removeClass(t.cursorStyle),t.textSelectionHandler&&t.textSelectionHandler.setEnable({selectable:!1,singleTap:!0})),t.cursorStyle=Jf,n.$handler.removeClass(Gf),function(e,t,n){var i,r,o,a,s=e.$handler,c=s.get(0).getBoundingClientRect();n.y<c.height-20?(a="".concat(c.height-n.y,"px"),o="auto"):(o="".concat(n.y,"px"),a="auto"),n.x<c.width-20&&n.x>200?(r="".concat(c.width-n.x,"px"),i="auto"):(i="".concat(n.x,"px"),r="auto");var u={left:i,right:r,top:o,bottom:a},l=s.find(".fv__text-link");if(l.length)"none"===l.css("display")&&l.css(u),l.text()!==t&&l.text(t),l.show();else{var A=j()(document.createDocumentFragment());A.append(j()('<div class="fv__text-link">'.concat(t,"</div>")).css(u)),s.append(A)}}(n,e,o)):(t.cursorStyle!==$f&&(n.$handler.removeClass(t.cursorStyle),t.textSelectionHandler&&t.textSelectionHandler.setEnable({selectable:!0,singleTap:!1}),Bf(n)),t.cursorStyle=$f),t.eventEmitter.emit("can-scroll",!1),t.isOnText=!0,n.$handler.removeClass(Gf).addClass(t.cursorStyle)}));n.$handler.removeClass("".concat($f," ").concat(Jf)).addClass(Gf),t.isOnText=!1,Bf(n)}))])}}))}))()}},{key:"emitCanScroll",value:function(){var e=this;this.service.scrollValid&&(this.service.scrollValid=!1,this.scrollTimer=setTimeout((function(){e.eventEmitter.emit("can-scroll",!0),e.service.scrollValid=!0}),30))}},{key:"destroyPageHandler",value:function(){this.isDestroyed=!0,this.offDoubleTapEvent&&this.offDoubleTapEvent(),this.hammer&&this.hammer.destroy(),this.pageRender.$ui.removeClass("fv__annot-container-zindex-up fv__allow-modify-form-control"),this.pageRender.$handler.off("mousedown",this.mousedown).off("mouseup",this.mouseup).off("mousemove").removeClass("fv__hand-state-handler").removeClass(this.cursorStyle).find(".fv__hand-state-contextmenu-container").remove(),this.pageRender.annotsRender&&this.pageRender.annotsRender.unActiveAnnot(),this.pageRender.$handler.removeClass(Gf).removeClass(Yf),this._destroyTouchScrollEvent&&this._destroyTouchScrollEvent(),this.textSelectionHandler&&this.textSelectionHandler.destroy()}},{key:"destroyDocHandler",value:function(){this.pdfViewer.getFormFillerService().setInteractionSupport(!1)}},{key:"out",value:function(){this.destroyPageHandler(),this.destroyDocHandler(),this.pageRender=null}},{key:"allowZoomIn",value:function(){var e=this.pageRender,t=e.pdfViewer,n=e.getScale();return(n=Math.ceil(4*n+1)/4)<t.config.maxScale}},{key:"zoomIn",value:function(){var e=this.pageRender,t=e.getScale();t=Math.ceil(4*t+1)/4,e.pdfViewer.zoomTo(t).catch((function(){}))}},{key:"allowZoomOut",value:function(){var e=this.pageRender,t=e.pdfViewer,n=e.getScale();return(n=Math.floor(4*n-1)/4)>t.config.minScale}},{key:"zoomOut",value:function(){var e=this.pageRender,t=e.getScale();t=Math.floor(4*t-1)/4,e.pdfViewer.zoomTo(t).catch((function(){}))}},{key:"clockwiseRoataion",value:function(){this.pageRender.getPDFPage().then((function(e){var t=(e.getRotation()+1)%4;e.setRotation(t)}))}},{key:"contrarotate",value:function(){this.pageRender.getPDFPage().then((function(e){var t=(e.getRotation()+3)%4;e.setRotation(t)}))}}],[{key:"getStateName",value:function(){return yn}},{key:"getDefaultContextMenuConfig",value:function(){var e="hand-state";return{selector:".fv__hand-state-contextmenu-container",items:{zoomin:{name:"zoomin",nameI18nKey:"viewer_:contextmenu.hand.zoomin",callback:function(t,n,i){this.data(e).zoomIn()},visible:function(){return this.data(e).allowZoomIn()}},zoomout:{name:"zoomout",nameI18nKey:"viewer_:contextmenu.hand.zoomout",callback:function(t,n,i){this.data(e).zoomOut()},visible:function(){return this.data(e).allowZoomOut()}}}}}}]),n}(nf);const Zf=Kf;var Xf=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r;return(0,C._)(this,n),(r=t.call(this)).pdfViewer=e,r.scrollHost=i,r.prepare(),r.canScroll=!0,r.scrollable=!0,r}return(0,D._)(n,[{key:"disable",value:function(){this.scrollable=!1}},{key:"enable",value:function(){this.scrollable=!0}},{key:"addViewerEventListener",value:function(e,t){var n=this;this.pdfViewer.eventEmitter.on(e,t),this.addDestroyHook((function(){n.pdfViewer.eventEmitter.off(e,t)}))}},{key:"prepare",value:function(){var e,t,n=this;this.taskExecutor=new W.DebounceAsyncTaskExecutor(66);var i=!1,r=this.pdfViewer,o=r.getStateHandlerManager();this.addViewerEventListener("can-scroll",(function(e){n.canScroll=e})),this.addViewerEventListener(se.updateScrollableStatus,(function(n){var i=n.disableHorizontal,r=n.disableVertical;e=i,t=r})),this.addViewerEventListener(se.changeViewModeSuccess,(function(n){n!==_h&&(e=!1,t=!1)}));var a,s=this.scrollHost,c=function(e,t){s.scrollBy?s.scrollBy(e,t):(s.scrollLeft=s.scrollLeft+e,s.scrollTop=s.scrollTop+t)},u=(0,W.createHammer)(s),l=null,A=0,d=0,h=0,f=0,p=0,v=function(e){A=0,d=0,p=0},g=function(i,o,a){if(n.scrollable&&"hand"===r.getStateHandlerManager().currentStateHandler.getStateName()){var s=i-A,u=o-d;if(e&&(s=0),t){var l=o-p;if(a===Hammer.DIRECTION_UP||a===Hammer.DIRECTION_DOWN)return n.scrollSinglePage(l),void(p=o);u=0}c(-s,-u),r.eventEmitter.emit(se.scrollingPage,{touched:!0,distanceX:h,distanceY:f}),A=i,d=o,h=i,f=o}},m=!1,y=!0,_=!1,b=function(e){var t,n,i,r=e.clientX;if((0,T._)(s,Window))t=0,n=0,i=0;else{t=s.getBoundingClientRect().left;var o=getComputedStyle(s);n=parseInt(o.borderLeftWidth)||0,i=parseInt(o.borderRightWidth)||0}var a=n+i,c=s.offsetWidth,u=c-s.clientWidth-a;_=r>=c-u+t},w=function(){_=!1},k=function(e){l={x:(0,W.getClientX)(e),y:(0,W.getClientY)(e)}};s.addEventListener("mousedown",b),s.addEventListener("touchstart",b),s.addEventListener("mouseup",w),s.addEventListener("touchend",w),s.addEventListener("touchcancel",w),s.addEventListener("pointerdown",k);var x=function(e){var t=(0,W.eventPath)(e).some((function(e){return!!e.classList&&e.classList.contains("fv__pdf-page-annots-container")}));i=t};window.addEventListener("mousedown",x,!0),window.addEventListener("touchstart",x,!0);var P=["fv__pdf-page-handler-container","fv__hand-state-contextmenu-container","fv__rendering-container"],C=function(e){var t=e.classList;return o.getCurrentStates()===Zf||P.some((function(e){return t.contains(e)}))},D=!1,E=!1;u.on("panstart",(function(e){if(l&&(D=!1,n.scrollable&&!i&&!_))if(E)E=!1;else if(C(e.srcEvent.srcElement)&&(D=!0,r.eventEmitter.emit(se.startScrollingPage,{})),h=0,f=0,m=!1,y=!0,cancelAnimationFrame(a),!(e.pointers.length>1)){var t=e.center.x-l.x,o=e.center.y-l.y;n.canScroll&&g(t,o,e.direction)}})),u.on("panmove",(function(e){if(l)if(D&&C(e.srcEvent.srcElement)){if(!m&&n.scrollable&&!i&&!(e.pointers.length>1)){var t=e.center.x-l.x,r=e.center.y-l.y;n.canScroll&&g(t,r,e.direction)}}else D=!1})),u.on("panend",(function(o){if(l)if(l=null,D&&C(o.srcEvent.srcElement)){if(!(o.pointers.length>1||!n.scrollable||i)){D=!1;var s=o.velocityX*(1e3/60),u=o.velocityY*(1e3/60),A=function(e){return e>60?60:e<-60?-60:e};s=A(s),u=A(u),e&&(s=0),t&&(u=0),v();var d=1.6,p=s<0?-1.6:d,g=u<0?-1.6:d;y=!1,a=requestAnimationFrame((function e(){var t=Math.abs(s),n=Math.abs(u);t<d&&n<d||y?r.eventEmitter.emit(se.endScrollingPage,{distanceX:h,distanceY:f}):(a=requestAnimationFrame(e),c(-s,-u),t>=d&&(s-=p),n>=d&&(u-=g),h+=s,f+=u,r.eventEmitter.emit(se.scrollingPage,{touched:!1,distanceX:h,distanceY:f}))}))}}else D=!1})),u.on("pancancel",v);var S=function(){m=!0,v()};window.addEventListener("touchend",S),window.addEventListener("touchcancel",S),window.addEventListener("mouseup",S);var I=function(e){var t=window[e];return window[e]=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=t.apply(window,n);return E=!0,r},function(){window[e]=t}};this.addDestroyHook(I("alert"),I("confirm"),I("prompt")),this.addDestroyHook((function(){u.destroy(),a&&cancelAnimationFrame(a),s.removeEventListener("mousedown",b),s.removeEventListener("touchstart",b),s.removeEventListener("mouseup",w),s.removeEventListener("touchend",w),s.removeEventListener("touchcancel",w),s.removeEventListener("pointerdown",k),window.removeEventListener("touchend",S),window.removeEventListener("mouseup",S),window.removeEventListener("touchcancel",S),window.removeEventListener("mousedown",x,!0),window.removeEventListener("touchstart",x,!0)}))}},{key:"scrollSinglePage",value:function(e){var t=this;0!==e&&this.taskExecutor.exec((function(){return Promise.resolve().then((function(){var n=t.pdfViewer.getPDFDocRender().getViewMode();if((0,T._)(n,_h))return e>0?n.jumpToPrevPage():n.jumpToNextPage()}))}))}}]),n}(W.Disposable),Qf=V()(),ep="scroll",tp=W.LoggerFactory.getLogger("PDFViewerRender"),np=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;(0,C._)(this,n),(o=t.call(this)).name=n.getDefaultName(),o.pdfViewer=r,o.ViewMode=i,o.$ui=e;var a=o.scrollWrap=new(o.pdfViewer.customs.ScrollWrap||Qh)((0,x._)(o)),s=100;(W.isChromiumEdge||W.isChrome||W.isFirefox||W.isSafari)&&(s=30),o.unBindScrollEvent=a.addScrollEventListener((function(){o.pdfDocRender&&(o.pdfDocRender.isDestroyed||o.pdfDocRender.moveDebounce())}));var c,u="fv__pdf-view-mode-item";e.on(ep,"."+u,o._scrollPageBind=function(e){clearTimeout(c);var t,n=e.currentTarget;try{if(!(t=o.pdfDocRender.pagesRender).length)return}catch(e){return}c=setTimeout((function(){for(var e=n.previousSibling,i=0;e;)e.classList.contains(u)&&i++,e=e.previousSibling;var r=t[i];if(r)try{r.move()}catch(e){}}),s)});o.addDestroyHook((function(){clearTimeout(c)})),e.addClass("fv__pdf-viewer").html(Qf),o.$rendering=e.find(".fv__pdf-viewer-rendering"),o.$container=e.find(".fv__pdf-viewer-container"),o.pdfViewerRendering=new(r.customs.PDFViewerRendering||U)(o.$rendering[0],(0,x._)(o)),(o.handler=new(r.customs.PDFViewerHandler||Zr)(e.find(".fv__pdf-viewer-handler-container"),(0,x._)(o))).active(),o.oldPdfDocRenders=[],o.touchToScrollViewer=new Xf(r,a.getScrollHost());var l,A=r.getKeyboard(),d=function(e){var t=o.pdfDocRender;if(t){var n=t.getViewMode();if(l=n.getShortcutEventHandler())l.onKeyPressed(e)&&e.native.preventDefault()}},h={interceptors:[function(e,t){"input"!=e.native.target.tagName.toLowerCase()&&(0===r.getAllActiveElements().length&&t(e))}]},f=function(e){l&&(l.onKeyReleased(e)&&e.native.preventDefault(),l=void 0)},p=[Ld.ARROW_UP,Ld.ARROW_DOWN,Ld.JUMP_TO_FIRST_PAGE,Ld.JUMP_TO_LAST_PAGE,Ld.JUMP_TO_NEXT_PAGE,Ld.JUMP_TO_PREVIOUS_PAGE,Ld.SCROLL_TO_NEXT_VISIBLE_AREA,Ld.SCROLL_TO_PREVIOUS_VISIBLE_AREA,Ld.SCROLL_VIEWER_SCROLLBAR_LEFT,Ld.SCROLL_VIEWER_SCROLLBAR_RIGHT,Ld.SCROLL_VIEWER_SCROLLBAR_UP,Ld.SCROLL_VIEWER_SCROLLBAR_DOWN];o.addDestroyHook.apply(o,(0,M._)(p.map((function(e){return A.keydown(e,d,h)}))).concat((0,M._)(p.map((function(e){return A.keyup(e,f,h)}))))),o.allowScrollOnMouseWheel=!0;var v=o.scrollWrap.getScrollHost();v.hasAttribute&&!v.hasAttribute("tabIndex")&&v.setAttribute("tabIndex",-1);var g=function(e){o.allowScrollOnMouseWheel||e.preventDefault()};v.addEventListener("wheel",g),o.addDestroyHook((function(){v.removeEventListener("wheel",g)}));var m=v;((0,W.isWindowObject)(m)||(0,W.isDocument)(m)||m===document.body)&&(m=window);var y=(0,W.debounce)((function(){var e=o.pdfViewer,t=o.pdfDocRender;if(t){e.eventEmitter.emit(se.fitWidthResizeViewport);var n=t.getScale();switch(n){case"fitVisible":case"fitWidth":case"fitHeight":return e.zoomTo(n,null,0);default:return e.redraw(!0,!1)}}}),100);return o.addDestroyHook((0,W.observeResize)(m,(function(){var e=o.pdfDocRender;e&&e.isDocRendered&&y()}))),o}return(0,D._)(n,[{key:"setAllowScrollOnMouseWheel",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.allowScrollOnMouseWheel=e}},{key:"setViewMode",value:function(e){var t=this;if(e!==this.ViewMode){var n=this.ViewMode;this.ViewMode=e;var i=this.pdfDocRender;if(i){this.pdfViewer.eventEmitter.emit(se.startChangeViewMode,e,n);var r=i.getViewMode(),o=r?r.getVisibleIndexes():[];return i.setViewMode(e).then((function(){if(!i.isDestroyed){var r=i.getViewMode();t.pdfViewer.eventEmitter.emit(se.changeViewModeSuccess,e,n,r);var a=i.pagesRender;if(a){var s=r&&r.docRender?r.getVisibleIndexes():[];if(!function(e,t){if(e.length!==t.length)return!1;return!e.some((function(e){return-1===t.indexOf(e)}))}(o,s))return a.renderVisiblePages()}}}),(function(r){t.ViewMode=n,t.pdfViewer.eventEmitter.emit(se.changeViewModeFailed,e,n,i.getViewMode(),r),tp.warn("change view mode fail",r)}))}}return Promise.resolve()}},{key:"getViewMode",value:function(){return this.ViewMode}},{key:"rendering",value:function(){this.$ui.addClass("fv__view-rendering"),this.pdfViewerRendering.rendering()}},{key:"rendered",value:function(){this.$ui.removeClass("fv__view-rendering"),this.pdfViewerRendering.rendered()}},{key:"renderDoc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.pdfViewer.config.defaultScale,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=new Xh(this.$container,e,this);return this.pdfDocRender=i,this.oldPdfDocRenders.push(i),this.rendered(),i.render(t,n)}},{key:"rotateTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,W.assertThat)((0,W.isValidRotationAngle)(e),"Incorrect rotation degree: ".concat(e)),this.pdfDocRender?this.pdfDocRender.rotateTo(e,t):Promise.reject(new Error("Cannot perform rotation without document opening!"))}},{key:"getRotation",value:function(){return this.pdfDocRender?this.pdfDocRender.getRotation():0}},{key:"closeOldDocRender",value:function(e){for(var t,n=[],i=this.oldPdfDocRenders,r=i.length;r--;)n[r]=((t=i[r]).hidden(),t.destroy(e)),this.pdfDocRender==i[r]&&(this.pdfDocRender=null),i.splice(r,1);return Promise.all(n)}},{key:"bindEvent",value:function(){}},{key:"zoomTo",value:function(e,t){if(!this.pdfDocRender)return Promise.reject(new Error("doc renderer has not been initialized!"));"number"==typeof e&&(e<this.pdfViewer.config.minScale&&(e=this.pdfViewer.config.minScale),e>this.pdfViewer.config.maxScale&&(e=this.pdfViewer.config.maxScale));try{return this.pdfDocRender.zoomTo(e,t)}catch(e){return Promise.reject(e)}}},{key:"goToPage",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.pdfDocRender.goToPage(e,{x:n,y:t},i)}},{key:"zoomAt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0},n=this;return(0,P._)((function(){var i,r,o,a,s,c,u,l,A,d,h,f;return(0,L.Jh)(this,(function(p){switch(p.label){case 0:if(!n.pdfDocRender)throw new Error("No PDF files are currently open");if(!t)return[2,n.zoomTo(e)];if(!(0,W.isValidNumber)(t.x))throw new TypeError("fixedPoint.x: ".concat(t.x," is not a valid number"));if(!(0,W.isValidNumber)(t.y))throw new TypeError("fixedPoint.y: ".concat(t.y," is not a valid number"));return-1===(i=n.getPageIndexByClientPosition(t.x,t.y))&&(i=t.pageIndex),r=n.pdfDocRender.doc.getPageCount(),(0,W.isNumberInRange)(i,0,r,!0,!1)?(o=n.pdfDocRender.getPDFPageRender(i),a=o.scale,s=n.getViewBoxRect(),[4,o.transformPoint({point:{x:t.x,y:t.y},srcType:Kd.viewport,destType:Kd.page})]):[2,n.zoomTo(e)];case 1:return c=p.sent(),u=e/a,l=c.x*u,A=c.y*u,d=t.x-s.left,h=t.y-s.top,f={type:"device",x:l-d,y:A-h,pageIndex:i,offsetY:0},[2,n.zoomTo(e,f)]}}))}))()}},{key:"getPageIndexByClientPosition",value:function(e,t){var n=this,i=-1;return this.pdfDocRender?(document.elementsFromPoint(e,t).some((function(e){if(e.classList.contains("fv__pdf-page-layout")){var t=+e.getAttribute("data-index"),r=n.pdfDocRender.getPDFPageRender(t);if(r&&r.$ui[0]===e)return i=t,!0}return!1})),i):i}},{key:"setLayerNodeVisible",value:function(e,t){return this.pdfDocRender?this.pdfDocRender.setLayerNodeVisible(e,t):Promise.reject(new Error("doc renderer has not been initialized!"))}},{key:"getScaleRatio",value:function(){return this.pdfDocRender?this.pdfDocRender.getScaleRatio():Promise.reject(new Error("doc renderer has not been initialized!"))}},{key:"disableDragToScroll",value:function(){this.touchToScrollViewer.disable()}},{key:"enableDragToScroll",value:function(){this.touchToScrollViewer.enable()}},{key:"getViewBoxRect",value:function(){var e=this.scrollWrap.getScrollHost();if(e===window)return{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight};var t=e.getBoundingClientRect();return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}},{key:"getCurrentDestination",value:function(){var e=this;return(0,P._)((function(){var t,n,i,r,o,a,s,c,u,l,A,d,h,f;return(0,L.Jh)(this,(function(p){switch(p.label){case 0:return t=8,[4,(n=e.pdfDocRender).renderingDefer.promise];case 1:return p.sent(),i=e.pdfViewer.getDeviceCurrentPosition(),r=i.top,o=i.left,a=i.pageIndex,o=Math.max(0,o),r=Math.max(r,Math.max(t,r))-t,s=e.pdfViewer.getPDFPageRender(a),c=s.getScale(),u=s.getRotation(),[4,s.getPDFPage()];case 2:return l=p.sent(),A=(0,R._)(l.reverseDevicePoint([o,r],c,u),2),o=A[0],r=A[1],d=n.scale,f=0,"fitWidth"===d?h=$e.ZoomMode.ZoomFitHorz:"fitPage"===d||"fitHeight"===d?h=$e.ZoomMode.ZoomFitPage:"fitVisible"===d?h=$e.ZoomMode.ZoomFitBHorz:(h=$e.ZoomMode.ZoomXYZ,f=d),[2,{top:r,left:o,pageIndex:a,zoomMode:h,zoomFactor:f}]}}))}))()}},{key:"destroy",value:function(){(0,E._)((0,S._)(n.prototype),"destroy",this).call(this),this.scrollWrap.destroy(),this.touchToScrollViewer.destroy(),this.pdfDocRender&&this.closeOldDocRender(),this.unBindScrollEvent(),this.$ui.off(ep)}}],[{key:"getDefaultName",value:function(){return"pdfViewerRender"}}]),n}(W.Disposable);const ip=np,rp={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class op{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||rp,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,i){return i&&!this.debug?null:("string"==typeof e[0]&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new op(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new op(this.logger,e)}}var ap=new op;class sp{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach((e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)})),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach((e=>{let[t,i]=e;for(let e=0;e<i;e++)t(...n)}))}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach((t=>{let[i,r]=t;for(let t=0;t<r;t++)i.apply(i,[e,...n])}))}}}function cp(){let e,t;const n=new Promise(((n,i)=>{e=n,t=i}));return n.resolve=e,n.reject=t,n}function up(e){return null==e?"":""+e}const lp=/###/g;function Ap(e,t,n){function i(e){return e&&e.indexOf("###")>-1?e.replace(lp,"."):e}function r(){return!e||"string"==typeof e}const o="string"!=typeof t?t:t.split(".");let a=0;for(;a<o.length-1;){if(r())return{};const t=i(o[a]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++a}return r()?{}:{obj:e,k:i(o[a])}}function dp(e,t,n){const{obj:i,k:r}=Ap(e,t,Object);if(void 0!==i||1===t.length)return void(i[r]=n);let o=t[t.length-1],a=t.slice(0,t.length-1),s=Ap(e,a,Object);for(;void 0===s.obj&&a.length;)o=`${a[a.length-1]}.${o}`,a=a.slice(0,a.length-1),s=Ap(e,a,Object),s&&s.obj&&void 0!==s.obj[`${s.k}.${o}`]&&(s.obj=void 0);s.obj[`${s.k}.${o}`]=n}function hp(e,t){const{obj:n,k:i}=Ap(e,t);if(n)return n[i]}function fp(e,t,n){for(const i in t)"__proto__"!==i&&"constructor"!==i&&(i in e?"string"==typeof e[i]||e[i]instanceof String||"string"==typeof t[i]||t[i]instanceof String?n&&(e[i]=t[i]):fp(e[i],t[i],n):e[i]=t[i]);return e}function pp(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var vp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function gp(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(e=>vp[e])):e}const mp=[" ",",","?","!",";"],yp=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20);function _p(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];const i=t.split(n);let r=e;for(let e=0;e<i.length;){if(!r||"object"!=typeof r)return;let t,o="";for(let a=e;a<i.length;++a)if(a!==e&&(o+=n),o+=i[a],t=r[o],void 0!==t){if(["string","number","boolean"].indexOf(typeof t)>-1&&a<i.length-1)continue;e+=a-e+1;break}r=t}return r}function bp(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}class wp extends sp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,o=void 0!==i.ignoreJSONStructure?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],n&&(Array.isArray(n)?a.push(...n):"string"==typeof n&&r?a.push(...n.split(r)):a.push(n)));const s=hp(this.data,a);return!s&&!t&&!n&&e.indexOf(".")>-1&&(e=a[0],t=a[1],n=a.slice(2).join(".")),s||!o||"string"!=typeof n?s:_p(this.data&&this.data[e]&&this.data[e][t],n,r)}addResource(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const o=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator;let a=[e,t];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(a=e.split("."),i=t,t=a[1]),this.addNamespaces(t),dp(this.data,a,i),r.silent||this.emit("added",e,t,n,i)}addResources(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const i in n)"string"!=typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(e,t,i,n[i],{silent:!0});i.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),i=n,n=t,t=a[1]),this.addNamespaces(t);let s=hp(this.data,a)||{};i?fp(s,n,r):s={...s,...n},dp(this.data,a,s),o.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((e=>t[e]&&Object.keys(t[e]).length>0))}toJSON(){return this.data}}var kp={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,i,r){return e.forEach((e=>{this.processors[e]&&(t=this.processors[e].process(t,n,i,r))})),t}};const xp={};class Pp extends sp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),function(e,t,n){e.forEach((e=>{t[e]&&(n[e]=t[e])}))}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=ap.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;const n=this.resolve(e,t);return n&&void 0!==n.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let r=t.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";const i=mp.filter((e=>t.indexOf(e)<0&&n.indexOf(e)<0));if(0===i.length)return!0;const r=yp.getRegExp(`(${i.map((e=>"?"===e?"\\?":e)).join("|")})`);let o=!r.test(e);if(!o){const t=e.indexOf(n);t>0&&!r.test(e.substring(0,t))&&(o=!0)}return o}(e,n,i));if(o&&!a){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:r};const o=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(o[0])>-1)&&(r=o.shift()),e=o.join(i)}return"string"==typeof r&&(r=[r]),{key:e,namespaces:r}}translate(e,t,n){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const i=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],t),s=a[a.length-1],c=t.lng||this.language,u=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&"cimode"===c.toLowerCase()){if(u){const e=t.nsSeparator||this.options.nsSeparator;return i?{res:`${s}${e}${o}`,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:`${s}${e}${o}`}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:o}const l=this.resolve(e,t);let A=l&&l.res;const d=l&&l.usedKey||o,h=l&&l.exactUsedKey||o,f=Object.prototype.toString.apply(A),p=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject;if(v&&A&&("string"!=typeof A&&"boolean"!=typeof A&&"number"!=typeof A)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(f)<0&&("string"!=typeof p||"[object Array]"!==f)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,A,{...t,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(l.res=e,l.usedParams=this.getUsedParamsDetails(t),l):e}if(r){const e="[object Array]"===f,n=e?[]:{},i=e?h:d;for(const e in A)if(Object.prototype.hasOwnProperty.call(A,e)){const o=`${i}${r}${e}`;n[e]=this.translate(o,{...t,joinArrays:!1,ns:a}),n[e]===o&&(n[e]=A[e])}A=n}}else if(v&&"string"==typeof p&&"[object Array]"===f)A=A.join(p),A&&(A=this.extendTranslation(A,e,t,n));else{let i=!1,a=!1;const u=void 0!==t.count&&"string"!=typeof t.count,d=Pp.hasDefaultValue(t),h=u?this.pluralResolver.getSuffix(c,t.count,t):"",f=t.ordinal&&u?this.pluralResolver.getSuffix(c,t.count,{ordinal:!1}):"",p=u&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),v=p&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${h}`]||t[`defaultValue${f}`]||t.defaultValue;!this.isValidLookup(A)&&d&&(i=!0,A=v),this.isValidLookup(A)||(a=!0,A=o);const g=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&a?void 0:A,m=d&&v!==A&&this.options.updateMissing;if(a||i||m){if(this.logger.log(m?"updateKey":"missingKey",c,s,o,m?v:A),r){const e=this.resolve(o,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let t=0;t<n.length;t++)e.push(n[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const i=(e,n,i)=>{const r=d&&i!==A?i:g;this.options.missingKeyHandler?this.options.missingKeyHandler(e,s,n,r,m,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,s,n,r,m,t),this.emit("missingKey",e,s,n,A)};this.options.saveMissing&&(this.options.saveMissingPlurals&&u?e.forEach((e=>{const n=this.pluralResolver.getSuffixes(e,t);p&&t[`defaultValue${this.options.pluralSeparator}zero`]&&n.indexOf(`${this.options.pluralSeparator}zero`)<0&&n.push(`${this.options.pluralSeparator}zero`),n.forEach((n=>{i([e],o+n,t[`defaultValue${n}`]||v)}))})):i(e,o,v))}A=this.extendTranslation(A,e,t,l,n),a&&A===o&&this.options.appendNamespaceToMissingKey&&(A=`${s}:${o}`),(a||i)&&this.options.parseMissingKeyHandler&&(A="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${s}:${o}`:o,i?A:void 0):this.options.parseMissingKeyHandler(A))}return i?(l.res=A,l.usedParams=this.getUsedParamsDetails(t),l):A}extendTranslation(e,t,n,i,r){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const a="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let s;if(a){const t=e.match(this.interpolator.nestingRegexp);s=t&&t.length}let c=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),e=this.interpolator.interpolate(e,c,n.lng||this.language,n),a){const t=e.match(this.interpolator.nestingRegexp);s<(t&&t.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&i&&i.res&&(n.lng=i.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return r&&r[0]===i[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${i[0]} in key: ${t[0]}`),null):o.translate(...i,t)}),n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,s="string"==typeof a?[a]:a;return null!=e&&s&&s.length&&!1!==n.applyPostProcessor&&(e=kp.handle(s,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t,n,i,r,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((e=>{if(this.isValidLookup(t))return;const s=this.extractFromKey(e,a),c=s.key;n=c;let u=s.namespaces;this.options.fallbackNS&&(u=u.concat(this.options.fallbackNS));const l=void 0!==a.count&&"string"!=typeof a.count,A=l&&!a.ordinal&&0===a.count&&this.pluralResolver.shouldUseIntlApi(),d=void 0!==a.context&&("string"==typeof a.context||"number"==typeof a.context)&&""!==a.context,h=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);u.forEach((e=>{this.isValidLookup(t)||(o=e,!xp[`${h[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(xp[`${h[0]}-${e}`]=!0,this.logger.warn(`key "${n}" for languages "${h.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach((n=>{if(this.isValidLookup(t))return;r=n;const o=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(o,c,n,e,a);else{let e;l&&(e=this.pluralResolver.getSuffix(n,a.count,a));const t=`${this.options.pluralSeparator}zero`,i=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(l&&(o.push(c+e),a.ordinal&&0===e.indexOf(i)&&o.push(c+e.replace(i,this.options.pluralSeparator)),A&&o.push(c+t)),d){const n=`${c}${this.options.contextSeparator}${a.context}`;o.push(n),l&&(o.push(n+e),a.ordinal&&0===e.indexOf(i)&&o.push(n+e.replace(i,this.options.pluralSeparator)),A&&o.push(n+t))}}let s;for(;s=o.pop();)this.isValidLookup(t)||(i=s,t=this.getResource(n,e,s,a))})))}))})),{res:t,usedKey:n,exactUsedKey:i,usedLng:r,usedNS:o}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,i):this.resourceStore.getResource(e,t,n,i)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&"string"!=typeof e.replace;let i=n?e.replace:e;if(n&&void 0!==e.count&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const e of t)delete i[e]}return i}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}function Cp(e){return e.charAt(0).toUpperCase()+e.slice(1)}class Dp{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ap.create("languageUtils")}getScriptPartFromCode(e){if(!(e=bp(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=bp(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if("string"==typeof e&&e.indexOf("-")>-1){const t=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map((e=>e.toLowerCase())):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Cp(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Cp(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=Cp(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach((e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)})),!t&&this.options.supportedLngs&&e.forEach((e=>{if(t)return;const n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find((e=>e===n?e:e.indexOf("-")<0&&n.indexOf("-")<0?void 0:0===e.indexOf(n)?e:void 0))})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],r=e=>{e&&(this.isSupportedCode(e)?i.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return"string"==typeof e&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(e))):"string"==typeof e&&r(this.formatLanguageCode(e)),n.forEach((e=>{i.indexOf(e)<0&&r(this.formatLanguageCode(e))})),i}}let Ep=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Sp={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}};const Ip=["v1","v2","v3"],Tp=["v4"],Rp={zero:0,one:1,two:2,few:3,many:4,other:5};class Mp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=ap.create("pluralResolver"),this.options.compatibilityJSON&&!Tp.includes(this.options.compatibilityJSON)||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=function(){const e={};return Ep.forEach((t=>{t.lngs.forEach((n=>{e[n]={numbers:t.nr,plurals:Sp[t.fc]}}))})),e}()}addRule(e,t){this.rules[e]=t}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(bp("dev"===e?"en":e),{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((e=>`${t}${e}`))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort(((e,t)=>Rp[e]-Rp[t])).map((e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`)):n.numbers.map((n=>this.getSuffix(e,n,t))):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:this.getSuffixRetroCompatible(i,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let i=e.numbers[n];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));const r=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?`_plural_${i.toString()}`:r():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?r():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!Ip.includes(this.options.compatibilityJSON)}}function Fp(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=function(e,t,n){const i=hp(e,n);return void 0!==i?i:hp(t,n)}(e,t,n);return!o&&r&&"string"==typeof n&&(o=_p(e,n,i),void 0===o&&(o=_p(t,n,i))),o}class Np{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=ap.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const t=e.interpolation;this.escape=void 0!==t.escape?t.escape:gp,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?pp(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?pp(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?pp(t.nestingPrefix):t.nestingPrefixEscaped||pp("$t("),this.nestingSuffix=t.nestingSuffix?pp(t.nestingSuffix):t.nestingSuffixEscaped||pp(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,i){let r,o,a;const s=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}const u=e=>{if(e.indexOf(this.formatSeparator)<0){const r=Fp(t,s,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(r,void 0,n,{...i,...t,interpolationkey:e}):r}const r=e.split(this.formatSeparator),o=r.shift().trim(),a=r.join(this.formatSeparator).trim();return this.format(Fp(t,s,o,this.options.keySeparator,this.options.ignoreJSONStructure),a,n,{...i,...t,interpolationkey:o})};this.resetRegExp();const l=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,A=i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>c(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?c(this.escape(e)):c(e)}].forEach((t=>{for(a=0;r=t.regex.exec(e);){const n=r[1].trim();if(o=u(n),void 0===o)if("function"==typeof l){const t=l(e,r,i);o="string"==typeof t?t:""}else if(i&&Object.prototype.hasOwnProperty.call(i,n))o="";else{if(A){o=r[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),o=""}else"string"==typeof o||this.useRawValueToEscape||(o=up(o));const s=t.safeValue(o);if(e=e.replace(r[0],s),A?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=r[0].length):t.regex.lastIndex=0,a++,a>=this.maxReplaces)break}})),e}nest(e,t){let n,i,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function a(e,t){const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const i=e.split(new RegExp(`${n}[ ]*{`));let o=`{${i[1]}`;e=i[0],o=this.interpolate(o,r);const a=o.match(/'/g),s=o.match(/"/g);(a&&a.length%2==0&&!s||s.length%2!=0)&&(o=o.replace(/'/g,'"'));try{r=JSON.parse(o),t&&(r={...t,...r})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${n}${o}`}return delete r.defaultValue,e}for(;n=this.nestingRegexp.exec(e);){let s=[];r={...o},r=r.replace&&"string"!=typeof r.replace?r.replace:r,r.applyPostProcessor=!1,delete r.defaultValue;let c=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){const e=n[1].split(this.formatSeparator).map((e=>e.trim()));n[1]=e.shift(),s=e,c=!0}if(i=t(a.call(this,n[1].trim(),r),r),i&&n[0]===e&&"string"!=typeof i)return i;"string"!=typeof i&&(i=up(i)),i||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),i=""),c&&(i=s.reduce(((e,t)=>this.format(e,t,o.lng,{...o,interpolationkey:n[1].trim()})),i.trim())),e=e.replace(n[0],i),this.regexp.lastIndex=0}return e}}function Lp(e){const t={};return function(n,i,r){const o=i+JSON.stringify(r);let a=t[o];return a||(a=e(bp(i),r),t[o]=a),a(n)}}class Op{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=ap.create("formatter"),this.options=e,this.formats={number:Lp(((e,t)=>{const n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)})),currency:Lp(((e,t)=>{const n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)})),datetime:Lp(((e,t)=>{const n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)})),relativetime:Lp(((e,t)=>{const n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")})),list:Lp(((e,t)=>{const n=new Intl.ListFormat(e,{...t});return e=>n.format(e)}))},this.init(e)}init(e){const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Lp(t)}format(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=t.split(this.formatSeparator).reduce(((e,t)=>{const{formatName:r,formatOptions:o}=function(e){let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const i=e.split("(");t=i[0].toLowerCase().trim();const r=i[1].substring(0,i[1].length-1);"currency"===t&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):"relativetime"===t&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach((e=>{if(!e)return;const[t,...i]=e.split(":"),r=i.join(":").trim().replace(/^'+|'+$/g,"");n[t.trim()]||(n[t.trim()]=r),"false"===r&&(n[t.trim()]=!1),"true"===r&&(n[t.trim()]=!0),isNaN(r)||(n[t.trim()]=parseInt(r,10))}))}return{formatName:t,formatOptions:n}}(t);if(this.formats[r]){let t=e;try{const a=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},s=a.locale||a.lng||i.locale||i.lng||n;t=this.formats[r](e,s,{...o,...i,...a})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${r}`),e}),e);return r}}class jp extends sp{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=ap.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(e,t,n,i){const r={},o={},a={},s={};return e.forEach((e=>{let i=!0;t.forEach((t=>{const a=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[a]=2:this.state[a]<0||(1===this.state[a]?void 0===o[a]&&(o[a]=!0):(this.state[a]=1,i=!1,void 0===o[a]&&(o[a]=!0),void 0===r[a]&&(r[a]=!0),void 0===s[t]&&(s[t]=!0)))})),i||(a[e]=!0)})),(Object.keys(r).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(r),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(s)}}loaded(e,t,n){const i=e.split("|"),r=i[0],o=i[1];t&&this.emit("failedLoading",r,o,t),n&&this.store.addResourceBundle(r,o,n),this.state[e]=t?-1:2;const a={};this.queue.forEach((n=>{!function(e,t,n,i){const{obj:r,k:o}=Ap(e,t,Object);r[o]=r[o]||[],i&&(r[o]=r[o].concat(n)),i||r[o].push(n)}(n.loaded,[r],o),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((e=>{a[e]||(a[e]={});const t=n.loaded[e];t.length&&t.forEach((t=>{void 0===a[e][t]&&(a[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((e=>!e.done))}read(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:r,callback:o});this.readingCalls++;const a=(a,s)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}a&&s&&i<this.maxRetries?setTimeout((()=>{this.read.call(this,e,t,n,i+1,2*r,o)}),r):o(a,s)},s=this.backend[n].bind(this.backend);if(2!==s.length)return s(e,t,a);try{const n=s(e,t);n&&"function"==typeof n.then?n.then((e=>a(null,e))).catch(a):a(null,n)}catch(e){a(e)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);const r=this.queueLoad(e,t,n,i);if(!r.toLoad.length)return r.pending.length||i(),null;r.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),i=n[0],r=n[1];this.read(i,r,"read",void 0,void 0,((n,o)=>{n&&this.logger.warn(`${t}loading namespace ${r} for language ${i} failed`,n),!n&&o&&this.logger.log(`${t}loaded namespace ${r} for language ${i}`,o),this.loaded(e,n,o)}))}saveMissing(e,t,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=n&&""!==n){if(this.backend&&this.backend.create){const s={...o,isUpdate:r},c=this.backend.create.bind(this.backend);if(c.length<6)try{let r;r=5===c.length?c(e,t,n,i,s):c(e,t,n,i),r&&"function"==typeof r.then?r.then((e=>a(null,e))).catch(a):a(null,r)}catch(e){a(e)}else c(e,t,n,i,a,s)}e&&e[0]&&this.store.addResource(e[0],t,n,i)}}}function Bp(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let t={};if("object"==typeof e[1]&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach((e=>{t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Vp(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function Up(){}class Hp extends sp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=Vp(e),this.services={},this.logger=ap,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach((e=>{"function"==typeof n[e]&&(n[e]=n[e].bind(n))})),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout((()=>{this.init(e,t)}),0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const i=Bp();function r(e){return e?"function"==typeof e?new e:e:null}if(this.options={...i,...this.options,...Vp(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){let t;this.modules.logger?ap.init(r(this.modules.logger),this.options):ap.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=Op);const n=new Dp(this.options);this.store=new wp(this.options.resources,this.options);const o=this.services;o.logger=ap,o.resourceStore=this.store,o.languageUtils=n,o.pluralResolver=new Mp(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format||(o.formatter=r(t),o.formatter.init(o,this.options),this.options.interpolation.format=o.formatter.format.bind(o.formatter)),o.interpolator=new Np(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new jp(r(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit(t,...i)})),this.modules.languageDetector&&(o.languageDetector=r(this.modules.languageDetector),o.languageDetector.init&&o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=r(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new Pp(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit(t,...i)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,n||(n=Up),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((t=>{this[t]=function(){return e.store[t](...arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((t=>{this[t]=function(){return e.store[t](...arguments),e}}));const o=cp(),a=()=>{const e=(e,t)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(t),n(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),o}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Up;const n="string"==typeof e?e:this.language;if("function"==typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],i=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach((t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)}))};if(n)i(n);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>i(e)))}this.options.preload&&this.options.preload.forEach((e=>i(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)}))}else t(null)}reloadResources(e,t,n){const i=cp();return e||(e=this.languages),t||(t=this.options.ns),n||(n=Up),this.services.backendConnector.reload(e,t,(e=>{i.resolve(),n(e)})),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&kp.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const i=cp();this.emit("languageChanging",e);const r=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},o=(e,o)=>{o?(r(o),this.translator.changeLanguage(o),this.isLanguageChangingTo=void 0,this.emit("languageChanged",o),this.logger.log("languageChanged",o)):this.isLanguageChangingTo=void 0,i.resolve((function(){return n.t(...arguments)})),t&&t(e,(function(){return n.t(...arguments)}))},a=t=>{e||t||!this.services.languageDetector||(t=[]);const n="string"==typeof t?t:this.services.languageUtils.getBestMatchFromCodes(t);n&&(this.language||r(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(n)),this.loadResources(n,(e=>{o(e,n)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),i}getFixedT(e,t,n){var i=this;const r=function(e,t){let o;if("object"!=typeof t){for(var a=arguments.length,s=new Array(a>2?a-2:0),c=2;c<a;c++)s[c-2]=arguments[c];o=i.options.overloadTranslationOptionHandler([e,t].concat(s))}else o={...t};o.lng=o.lng||r.lng,o.lngs=o.lngs||r.lngs,o.ns=o.ns||r.ns,o.keyPrefix=o.keyPrefix||n||r.keyPrefix;const u=i.options.keySeparator||".";let l;return l=o.keyPrefix&&Array.isArray(e)?e.map((e=>`${o.keyPrefix}${u}${e}`)):o.keyPrefix?`${o.keyPrefix}${u}${e}`:e,i.t(l,o)};return"string"==typeof e?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=n,r}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,r=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const o=(e,t)=>{const n=this.services.backendConnector.state[`${e}|${t}`];return-1===n||2===n};if(t.precheck){const e=t.precheck(this,o);if(void 0!==e)return e}return!!this.hasResourceBundle(n,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!o(n,e)||i&&!o(r,e)))}loadNamespaces(e,t){const n=cp();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=cp();"string"==typeof e&&(e=[e]);const i=this.options.preload||[],r=e.filter((e=>i.indexOf(e)<0));return r.length?(this.options.preload=i.concat(r),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services&&this.services.languageUtils||new Dp(Bp());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new Hp(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Up;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},r=new Hp(i);void 0===e.debug&&void 0===e.prefix||(r.logger=r.logger.clone(e));return["store","services","language"].forEach((e=>{r[e]=this[e]})),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},n&&(r.store=new wp(this.store.data,i),r.services.resourceStore=r.store),r.translator=new Pp(r.services,i),r.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r.emit(e,...n)})),r.init(i,t),r.translator.options=i,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const zp=Hp.createInstance();zp.createInstance=Hp.createInstance;zp.createInstance,zp.dir,zp.init,zp.loadResources,zp.reloadResources,zp.use,zp.changeLanguage,zp.getFixedT,zp.t,zp.exists,zp.setDefaultNamespace,zp.hasLoadedNamespace,zp.loadNamespaces,zp.loadLanguages;function Wp(e){return Wp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(e)}function Gp(e){var t=function(e,t){if("object"!=Wp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Wp(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Wp(t)?t:String(t)}function Yp(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Gp(i.key),i)}}var $p=[],Jp=$p.forEach,qp=$p.slice;function Kp(e,t,n,i){var r=e.read.bind(e);if(2!==r.length)r(t,n,i);else try{var o=r(t,n);o&&"function"==typeof o.then?o.then((function(e){return i(null,e)})).catch(i):i(null,o)}catch(e){i(e)}}var Zp=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.backends=[],this.type="backend",this.allOptions=i,this.init(t,n)}var t,n,i;return t=e,n=[{key:"init",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return Jp.call(qp.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}(n,this.options||{},{handleEmptyResourcesAsFailed:!0,cacheHitMode:"none"}),this.allOptions=i,this.options.backends&&this.options.backends.forEach((function(n,r){var o;t.backends[r]=t.backends[r]||((o=n)?"function"==typeof o?new o:o:null),t.backends[r].init(e,t.options.backendOptions&&t.options.backendOptions[r]||{},i)})),this.services&&this.options.reloadInterval&&setInterval((function(){return t.reload()}),this.options.reloadInterval)}},{key:"read",value:function(e,t,n){var i=this,r=this.backends.length,o=function n(r,o){if(!(r<0)){var a=i.backends[r];a.save?(a.save(e,t,o),n(r-1,o)):n(r-1,o)}};!function a(s){if(s>=r)return n(new Error("non of the backend loaded data",!0));var c=s===r-1,u=i.options.handleEmptyResourcesAsFailed&&!c?0:-1,l=i.backends[s];l.read?Kp(l,e,t,(function(r,c,A){if(!r&&c&&Object.keys(c).length>u){if(n(null,c,s),o(s-1,c),l.save&&i.options.cacheHitMode&&["refresh","refreshAndUpdateStore"].indexOf(i.options.cacheHitMode)>-1){if(A&&i.options.refreshExpirationTime&&A+i.options.refreshExpirationTime>Date.now())return;var d=i.backends[s+1];d&&d.read&&Kp(d,e,t,(function(n,r){n||r&&(Object.keys(r).length<=u||(o(s,r),"refreshAndUpdateStore"===i.options.cacheHitMode&&i.services&&i.services.resourceStore&&i.services.resourceStore.addResourceBundle(e,t,r)))}))}}else a(s+1)})):a(s+1)}(0)}},{key:"create",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.backends.forEach((function(a){if(a.create){var s=a.create.bind(a);if(s.length<6)try{var c;(c=5===s.length?s(e,t,n,i,o):s(e,t,n,i))&&"function"==typeof c.then?c.then((function(e){return r(null,e)})).catch(r):r(null,c)}catch(e){r(e)}else s(e,t,n,i,r,o)}}))}},{key:"reload",value:function(){var e=this,t=this.services,n=t.backendConnector,i=t.languageUtils,r=t.logger,o=n.language;if(!o||"cimode"!==o.toLowerCase()){var a=[],s=function(e){i.toResolveHierarchy(e).forEach((function(e){a.indexOf(e)<0&&a.push(e)}))};s(o),this.allOptions.preload&&this.allOptions.preload.forEach((function(e){return s(e)})),a.forEach((function(t){e.allOptions.ns.forEach((function(e){n.read(t,e,"read",null,null,(function(i,o){i&&r.warn("loading namespace ".concat(e," for language ").concat(t," failed"),i),!i&&o&&r.log("loaded namespace ".concat(e," for language ").concat(t),o),n.loaded("".concat(t,"|").concat(e),i,o)}))}))}))}}}],n&&Yp(t.prototype,n),i&&Yp(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Xp(e){return Xp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(e)}function Qp(e){var t=function(e,t){if("object"!=Xp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Xp(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xp(t)?t:String(t)}function ev(e,t,n){return(t=Qp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Qp(i.key),i)}}function iv(e,t,n){return t&&nv(e.prototype,t),n&&nv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ov(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rv(Object(n),!0).forEach((function(t){ev(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Zp.type="backend";var av=function(){function e(t){tv(this,e),this.store=t.store}return iv(e,[{key:"setItem",value:function(e,t){if(this.store)try{this.store.setItem(e,t)}catch(e){}}},{key:"getItem",value:function(e,t){if(this.store)try{return this.store.getItem(e,t)}catch(e){}}}]),e}();var sv=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};tv(this,e),this.init(t,n),this.type="backend"}return iv(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.services=e,this.options=ov(ov(ov({},function(){var e=null;try{e=window.localStorage}catch(e){"undefined"!=typeof window&&console.log("Failed to load local storage.",e)}return{prefix:"i18next_res_",expirationTime:6048e5,defaultVersion:void 0,versions:{},store:e}}()),this.options),t),this.storage=new av(this.options)}},{key:"read",value:function(e,t,n){var i=Date.now();if(!this.storage.store)return n(null,null);var r=this.storage.getItem("".concat(this.options.prefix).concat(e,"-").concat(t));if(r){r=JSON.parse(r);var o=this.getVersion(e);if(r.i18nStamp&&r.i18nStamp+this.options.expirationTime>i&&o===r.i18nVersion){var a=r.i18nStamp;return delete r.i18nVersion,delete r.i18nStamp,n(null,r,a)}}return n(null,null)}},{key:"save",value:function(e,t,n){if(this.storage.store){n.i18nStamp=Date.now();var i=this.getVersion(e);i&&(n.i18nVersion=i),this.storage.setItem("".concat(this.options.prefix).concat(e,"-").concat(t),JSON.stringify(n))}}},{key:"getVersion",value:function(e){return this.options.versions[e]||this.options.defaultVersion}}]),e}();function cv(e){return cv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cv(e)}function uv(e){var t=function(e,t){if("object"!=cv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=cv(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cv(t)?t:String(t)}function lv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,uv(i.key),i)}}sv.type="backend";var Av=[],dv=Av.forEach,hv=Av.slice;function fv(e,t){if(t&&"object"===cv(t)){var n="",i=encodeURIComponent;for(var r in t)n+="&"+i(r)+"="+i(t[r]);if(!n)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+n.slice(1)}return e}function pv(e,t,n,i,r){i&&"object"===cv(i)&&(r||(i._t=new Date),i=fv("",i).slice(1)),t.queryStringParams&&(e=fv(e,t.queryStringParams));try{var o;(o=XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0")).open(i?"POST":"GET",e,1),t.crossDomain||o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.withCredentials=!!t.withCredentials,i&&o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.overrideMimeType&&o.overrideMimeType("application/json");var a=t.customHeaders;if(a="function"==typeof a?a():a)for(var s in a)o.setRequestHeader(s,a[s]);o.onreadystatechange=function(){o.readyState>3&&n&&n(o.responseText,o)},o.send(i)}catch(e){console&&console.log(e)}}function vv(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:JSON.parse,parsePayload:function(e,t,n){return function(e,t,n){return(t=uv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n||"")},crossDomain:!1,ajax:pv}}var gv=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init(t,n),this.type="backend"}var t,n,i;return t=e,n=[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.services=e,this.options=function(e){return dv.call(hv.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}(t,this.options||{},vv())}},{key:"readMulti",value:function(e,t,n){var i=this.options.loadPath;"function"==typeof this.options.loadPath&&(i=this.options.loadPath(e,t));var r=this.services.interpolator.interpolate(i,{lng:e.join("+"),ns:t.join("+")});this.loadUrl(r,n)}},{key:"read",value:function(e,t,n){var i=this.options.loadPath;"function"==typeof this.options.loadPath&&(i=this.options.loadPath([e],[t]));var r=this.services.interpolator.interpolate(i,{lng:e,ns:t});this.loadUrl(r,n)}},{key:"loadUrl",value:function(e,t){var n=this;this.options.ajax(e,this.options,(function(i,r){if(r.status>=500&&r.status<600)return t("failed loading "+e,!0);if(r.status>=400&&r.status<500)return t("failed loading "+e,!1);var o,a;try{o=n.options.parse(i,e)}catch(t){a="failed parsing "+e+" to json"}if(a)return t(a,!1);t(null,o)}))}},{key:"create",value:function(e,t,n,i){var r=this;"string"==typeof e&&(e=[e]);var o=this.options.parsePayload(t,n,i);e.forEach((function(e){var n=r.services.interpolator.interpolate(r.options.addPath,{lng:e,ns:t});r.options.ajax(n,r.options,(function(e,t){}),o)}))}}],n&&lv(t.prototype,n),i&&lv(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();gv.type="backend";const mv=gv,yv={version:"b666ca33d53bc849a4a188916bc4d418",versions:{"de-DE":{ui_:"8c98d5c5a86e7455cf23ce41a0536f60",viewer_:"f606ff8ad60511490d13f824b9ce7f02"},"en-US":{ui_:"33add9b17006df4ab09aa8e571ee0d4a",viewer_:"9a5216d7e8e251ffd08a47406cfca244"},"es-419":{ui_:"2ffede04fc03c41d7919ccc12bbd79cc",viewer_:"e1a5cc30e074a924f42732d5dd3fbd15"},"fr-FR":{ui_:"2711b67f288d7dea68b1d5cf3f69d00d",viewer_:"7b9773f4d470708bd998b106cb83ef97"},"it-IT":{ui_:"ea45292f997002d9b726f19a9984b057",viewer_:"a7de76bbbb7386e6c573fe23b59f4300"},"ja-JP":{ui_:"3c442de4f74112b8f01ade4395ee5019",viewer_:"28f8b151aa7eacf34bc20c50c8dfcdc7"},"ko-KR":{ui_:"0dff44d4b8cf201d34444b4437a4e6bc",viewer_:"f1151def0a4ed685cb18d38279851eec"},"nl-NL":{ui_:"44d44eb4ef43f8f1ff2c86230a5a94e5",viewer_:"cd0ed168686a226c8e49517b57291a4d"},"zh-CN":{ui_:"95da26c05e9ab504ea35e3deb95ba9e8",viewer_:"7ebcb00304560551587cf6b6814e5742"},"zh-TW":{ui_:"929de792814949833a3514f3a7e467e2",viewer_:"e947277c418b01422d9deef9ff4b1fea"}},languageVersions:{"de-DE":"2e48402a73606171c00d6d1a3b504169","en-US":"76aad022cb24e9ce07877dae2c750126","es-419":"09450c0873647a7a714d7c2f0faedd28","fr-FR":"5d17ba64bc198d882607b057ae777d25","it-IT":"2427d51bb22f1d017e21d3629b0b17fa","ja-JP":"ba09cf34a353b7956c175e2bc18cb949","ko-KR":"731c4e1d9f19970c2856d4040c79a741","nl-NL":"7f1937fa4e1ca735c1092fe6616a9e8f","zh-CN":"183a49678114dd0202182834155fc562","zh-TW":"cfe5925ab0a673941b0c44dc3a562266"}};function _v(e){var t=wv(e);return{prefix:"foxit_pdf_sdk_for_web_i18next_",expirationTime:6048e6,versions:t.versions||{},defaultVersion:t.hash}}function bv(e,t){var n=wv(e);return{loadPath:function(e,i){var r;try{r=n.versions[e.join(" ")][i.join(" ")]||n.versions.defaultVersion}catch(e){r=n.hash||n.version||""}return t+"/{{lng}}/{{ns}}.json?v="+r}}}function wv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},yv,e)}const kv=function(e){var t=zp.createInstance();return t.use(Zp).init(Object.assign({},{load:"currentOnly",fallbackLng:"en-US",backend:{backends:[sv,mv],backendOptions:e.backendOptions||[_v(e.version),bv(e.version,e.absolutePath)]}},e.initOption)),t};function xv(e){return new Promise((function(t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="arraybuffer",i.onreadystatechange=function(){4===i.readyState&&(i.status>=200&&i.status<300||304===i.status?t(i.response):n(new Error("Could not load image!")))},i.onerror=function(){n(new Error("Could not load image!"))},i.send()}))}function Pv(){if(document.baseURI)return document.baseURI;var e=document.head.querySelector("base");if(!e)return location.href;var t=e.href,n=location.pathname;return t?/^\w+?:\/+/.test(t)?t:location.origin+Tv(n,t):location.href}var Cv="/";function Dv(e){if("string"!=typeof e)throw new Error("invalid url type: (".concat(void 0===e?"undefined":(0,F._)(e),")!"));return 0===(e=e.trim()).indexOf("file:")?new Sv(e):new Ev(e)}var Ev=function(){function e(t){(0,C._)(this,e);var n=e.REGEX.exec(t);if(!n)throw new Error('Illegal argument: incorrect url: "'.concat(t,'"'));this.protocol=n[1],this.port=parseInt(n[5]),isNaN(this.port)&&(this.port=""),this.pathname=n[6]||"/",this.pathname=this.pathname.replace(/(\/|\\)+/g,Cv);var i=(0,R._)(/(.*[\/\\]+)[^\/\\]+$/.exec(this.pathname)||[this.pathname,this.pathname],2)[1];this.dirname=i,this.hostname=n[3]||"",this.host=this.hostname+(this.port?":"+this.port:""),this.query=n[7]||"",this.hash=n[8]||""}return(0,D._)(e,[{key:"join",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=Tv.apply(void 0,[this.dirname].concat((0,M._)(n)));return new e("".concat(this.protocol,"://").concat(this.host).concat(r).concat(this.query).concat(this.hash))}},{key:"absolute",value:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?"".concat(this.protocol,"://").concat(this.host).concat(this.pathname).concat(this.query).concat(this.hash):"".concat(this.protocol,"://").concat(this.host).concat(this.pathname)}},{key:"absoluteDir",value:function(){return"".concat(this.protocol,"://").concat(this.host).concat(this.dirname)}}],[{key:"REGEX",get:function(){return/^([a-z]+):\/\/(([\w\-\.:\[\]]+)(:(\d+))?(\/[^?#]*)?(\?[^#]*)?(#.*)?)$/}},{key:"isValid",value:function(t){return e.REGEX.test(t)}}]),e}(),Sv=function(){function e(t){(0,C._)(this,e),this.protocol="file";var n=e.REGEX.exec(t);if(!n)throw new Error('Illegal argument: incorrect URL: "'.concat(t,'"'));this.path=(n[3]||"").replace(/[\\/]+/g,"/");var i=(0,R._)(/(.*[\/\\]+)[^\/\\]+$/.exec(this.path)||[this.path,this.path],2)[1];this.dir=i,this.disk=n[2],this.disk||("/"===this.path[0]&&(this.path=this.path.slice(1)),this.disk=""),this.hash=n[5]||"",this.query=n[4]||""}return(0,D._)(e,[{key:"join",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=Tv.apply(void 0,[this.dir].concat((0,M._)(n)));return new e("file:///".concat(this.disk).concat(r).concat(this.query).concat(this.hash))}},{key:"absolute",value:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?"file:///".concat(this.disk).concat(this.path).concat(this.query).concat(this.hash):"file:///".concat(this.disk).concat(this.path)}},{key:"absoluteDir",value:function(){return"file:///".concat(this.disk).concat(this.dir)}}],[{key:"REGEX",get:function(){return/^(file:\/\/\/)([a-z]\:)?(.+?)(\?([^?#]*))?(#([^#]*))?$/i}},{key:"isValid",value:function(t){return e.REGEX.test(t)}}]),e}();function Iv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r;return(r=Dv(e)).join.apply(r,(0,M._)(n)).absolute()}function Tv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,r=t[0];if(r.match(/^\w+?:\/\//)){var o=r.match(/^(\w+?:\/\/[^\/]+)(\/?.*)/);o&&(i=o[1],t[0]=o[2]||"/")}var a=t.filter((function(e){return"string"==typeof e&&e.length>0})),s=a.map((function(e){return e.replace(/[\/\\]+/,"/").split("/").filter((function(e,t,n){return""!==e||0===t}))})).reduce((function(e,t){return t.forEach((function(t,n){switch(t){case".":break;case"..":e.pop();break;case"":e=[""];break;default:e.push(t)}})),e}),[]).join("/");return a.length>0&&(/[\/\\\\]/.test(a[0][0])||0===a[0].indexOf(".."))&&"/"!==s[0]?s="/"+s:a.length>0&&a[0]&&0===a[0].indexOf("./")&&(s="./"+s),i?i+s:s}function Rv(e){return Ev.isValid(e)||Sv.isValid(e)||/^blob:/.test(e)}var Mv=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"onKeyPressed",value:function(e){var t=this.getPDFDocRender(),n=t.viewerRender.scrollWrap,i=n.getWidth(),r=n.getHeight();switch(e.command){case Ld.JUMP_TO_PREVIOUS_PAGE:return this.executor.exec((function(){return t.prevPage()})),!0;case Ld.JUMP_TO_NEXT_PAGE:return this.executor.exec((function(){return t.nextPage()})),!0;case Ld.JUMP_TO_LAST_PAGE:var o=this.getPageCount();return t.goToPage(o-1,{x:0,y:0}),!0;case Ld.JUMP_TO_FIRST_PAGE:return t.goToPage(0),!0;case Ld.SCROLL_VIEWER_SCROLLBAR_LEFT:return n.scrollBy(-i,0,"smooth"),!0;case Ld.SCROLL_VIEWER_SCROLLBAR_RIGHT:return n.scrollBy(i,0,"smooth"),!0;case Ld.SCROLL_VIEWER_SCROLLBAR_UP:return n.scrollBy(0,-r,"smooth"),!0;case Ld.SCROLL_VIEWER_SCROLLBAR_DOWN:return n.scrollBy(0,r,"smooth"),!0}return!1}}]),n}(dh),Fv=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"onKeyPressed",value:function(e){var t=this.getPDFDocRender().viewerRender.scrollWrap;t.getHeight();switch(e.command){case Ld.ARROW_UP:case Ld.ARROW_DOWN:return t.scrollHost.focus(),!1}return(0,E._)((0,S._)(n.prototype),"onKeyPressed",this).call(this,e)}}]),n}(Mv),Nv=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this,e)).scrollCurrentPageIntoView_debounced=(0,W.debounce)((function(){i.docRender&&i.scrollCurrentPageIntoView()}),20),i}return(0,D._)(n,[{key:"into",value:function(e,t){var i=this;(0,E._)((0,S._)(n.prototype),"into",this).call(this,e,t),this.updatePageDOMs(t),this.docRender.$container.attr("data-view-mode",this.constructor.getName());var r=this.docRender.viewerRender.scrollWrap;this._triggerScrollCount=0,this._unwatchScrollEvent=r.addScrollEventListener((function(e){e.isTrusted&&i._triggerScrollCount++,i._triggerScrollCount>2&&delete i.lastJumpPageIndex})),this.onPageNumberChange=function(e){i.lastJumpPageIndex=e-1,i.lastJumpPageIndex<0&&(i.lastJumpPageIndex=0),i.scrollCurrentPageIntoView_debounced()},this.docRender.pdfViewer.eventEmitter.on(se.pageNumberChange,this.onPageNumberChange)}},{key:"updatePageDOMs",value:function(e){(0,E._)((0,S._)(n.prototype),"updatePageDOMs",this).call(this,e),W.Lazy.property(this,"pageElements",(function(){return e.map((function(e){return e.querySelector(".fv__pdf-page-layout")}))}))}},{key:"getDocLayoutWidth",value:function(){var e=this.docRender.doc.pageCache,t=0;return e.forEach((function(e){t=Math.max(e.getPxWidth(),t)})),t}},{key:"getFitHeight",value:function(e){return this.docRender.viewerRender.scrollWrap.getHeight()}},{key:"getFitWidth",value:function(e){return this.docRender.viewerRender.scrollWrap.getWidth()-0-8}},{key:"jumpToPage",value:function(e,t){var n=t.x,i=void 0===n?0:n,r=t.y,o=void 0===r?0:r;this.lastJumpPageIndex=e;var a=this.getItems();e>=a.length?e=a.length-1:e<0&&(e=0);var s=a[e],c=this.docRender.viewerRender.scrollWrap.getOffsetOfPageElement(s),u=c.left+i,l=c.top+o;s.offsetTop+s.offsetHeight<l&&(l+=.5),this._triggerScrollCount=0;var A=s.firstElementChild;this.docRender.viewerRender.scrollWrap.scrollTo(u+A.offsetLeft,l)}},{key:"out",value:function(){this.docRender&&this.docRender.$container.removeAttr("data-view-mode"),this._triggerScrollCount=0,this._unwatchScrollEvent&&this._unwatchScrollEvent(),this.docRender.pdfViewer.eventEmitter.off(se.pageNumberChange,this.onPageNumberChange),(0,E._)((0,S._)(n.prototype),"out",this).call(this)}},{key:"getCurrentPageIndex",value:function(){if(!isNaN(this.lastJumpPageIndex))return this.lastJumpPageIndex;if(!this.pageDOMs.length)return 0;var e=this.docRender.getContainerVisibleRect(),t=this.getVisibleIndexes();if(t.length){var n,i=this.pageDOMs,r=t.map((function(t){var n=i[t].getBoundingClientRect();return Math.round(n.right-n.left-Math.max(e.left-n.left,0)-Math.max(n.right-e.right,0))*Math.round(n.bottom-n.top-Math.max(e.top-n.top,0)-Math.max(n.bottom-e.bottom,0))})),o=(n=Math).max.apply(n,(0,M._)(r));return t[r.indexOf(o)]}var a,s=this.getItems(),c=this.docRender.viewerRender.scrollWrap.getScrollHost(),u=(a=c===window?{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}:c.getBoundingClientRect()).left+(a.right-a.left)/2,l=a.top+(a.bottom-a.top)/2,A=this.pageElements,d=this.lastJumpPageIndex;if(void 0!==d){var h=A[d];if(h){var f=h.getBoundingClientRect();if(f.left<u&&f.right>=u){if(this.getVisibleIndexes().length>2&&f.top<a.bottom&&f.bottom>a.top)return d;var p=getComputedStyle(h.parentElement),v=parseInt(p.marginTop)||0;if(f.top-v<l&&f.bottom>=l)return d;if(f.top>=a.bottom&&f.bottom<=a.top)return d}}}for(var g=0;g<s.length;g++)if(A[g]){var m=A[g].getBoundingClientRect();if(m&&m.left<u&&m.right>=u){var y=getComputedStyle(A[g].parentElement),_=parseInt(y.marginTop)||0;if(m.top-_<l&&m.bottom>=l)return this.lastJumpPageIndex=g,g;if(m.top>=a.bottom&&m.bottom<=a.top)return this.lastJumpPageIndex=g,g}}return 0}},{key:"getNextPageIndex",value:function(){var e=this.docRender.doc.getPageCount(),t=this.getCurrentPageIndex();return t<e-1&&t++,t}},{key:"getPrevPageIndex",value:function(){var e=this.getCurrentPageIndex();return e>0&&e--,e}},{key:"generateShortcutEventHandler",value:function(){return new Fv(this)}},{key:"scrollCurrentPageIntoView",value:function(){if(this.docRender){var e=this.docRender.getCurrentPageIndex(),t=this.docRender.getPDFPageRender(e);t&&!t.pageAreaIsVisible&&t.$ui.get(0).scrollIntoViewIfNeeded(!0)}}}],[{key:"getName",value:function(){return"continuous-view-mode"}}]),n}(fh);const Lv=Nv;const Ov=function(){function e(t){(0,C._)(this,e),this.ViewModes={},this.pdfViewer=t,this.register(Lv),this.register(_h)}return(0,D._)(e,[{key:"register",value:function(e){return this.ViewModes[e.getName()]=e}},{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lv.getName();return this.ViewModes[e]||Lv}},{key:"set",value:function(e){var t=this.get(e),n=this.currentViewMode;this.currentViewMode=t,this.pdfViewer.eventEmitter.emit(se.startChangeViewMode,t,n);var i=this.pdfViewer.pdfViewerRender;if(i){i.ViewMode=t;var r=i.pdfDocRender;if(r){var o=r.pagesRender;o&&(o.viewMode=new t(r),this.pdfViewer.eventEmitter.emit(se.changeViewModeSuccess,t,n,o.viewMode))}}}},{key:"switchTo",value:function(e){var t=this.currentViewMode,n=this.get(e);if(t!==n){this.currentViewMode=n;var i=this.pdfViewer,r=i.pdfViewerRender;if(r)return i.activeElement(null),r.setViewMode(n)}}},{key:"getCurrentViewMode",value:function(){return this.currentViewMode||Lv}},{key:"getAll",value:function(){return this.ViewModes}}]),e}();var jv=n(5779),Bv=n.n(jv),Vv="annotComponent",Uv={reply:{name:"reply",nameI18nKey:"viewer_:contextmenu.annot.reply",callback:function(){this.data(Vv).showReplyDialog("reply")},disabled:function(){return this.data(Vv).replyDisabled()}},properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(e,t,n,i){this.data(Vv).showPropertiesDialog(e,t,n,i)}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(Vv).removeAnnot()},disabled:function(){return this.data(Vv).deleteDisabled()}}};function Hv(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:Uv,events:{show:function(){return this.data(Vv).updateDeleteStatus(!0),!0},hide:function(){return this.data(Vv).updateDeleteStatus(!1),!0}}}}var zv,Wv=n(7211),Gv=n.n(Wv),Yv=n(5100),$v=n.n(Yv),Jv=function(){function e(t,n,i){(0,C._)(this,e),this.viewerComponent=t;var r=this.viewerComponent.getModel();i=i||this.viewerComponent.getPropertyOptions();var o=$v()(i);n&&n!==document.body||(o='<dialog class="fv__dialog fv__annot-properties-dialog">'.concat(o,"</dialog>"));var a=j()(o);this.$propertiesDialog=a,this.$fillColor=a.find("#fillcolor-input"),this.$txThickness=a.find("#thickness-input-tx"),this.updateBorderInfo(r,i),this.bindChangeEvent();var s=n||document.body;if(a.appendTo(s),!n||n===document.body){var c=a[0];Gv().registerDialog(c),c.showModal()}}return(0,D._)(e,[{key:"toggle",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.$propertiesDialog.find("input,select").removeAttr("disabled"):this.$propertiesDialog.find("input,select").attr("disabled","true")}},{key:"updateBorderInfo",value:function(e,t){var n=this.$propertiesDialog;if(t.lineEndStyle&&n.find("#endstyle-select [value="+e.getEndingStyle()+"]").attr("selected",!0),t.lineStartStyle)if("freetext"===e.getType())n.find("#startstyle-select [value="+e.getCalloutLineEndingStyle()+"]").attr("selected",!0);else n.find("#startstyle-select [value="+e.getStartStyle()+"]").attr("selected",!0);if(void 0!==t.highlightingMode&&n.find("#highlighting-select [value="+e.getHighlightingMode()+"]").attr("selected",!0),void 0!==t.rotation&&n.find("#rotation-select [value="+e.getRotation()+"]").attr("selected",!0),!1!==t.borderStyle){var i=e.getBorderDashes();if(1==e.getBorderStyle()&&i.length>0){var r=Math.max.apply(Math,i),o=Math.min.apply(Math,i);o==r?o>3?n.find("#borderStyle-select [value=3]").attr("selected",!0):o>2?n.find("#borderStyle-select [value=2]").attr("selected",!0):o<2||2==o?n.find("#borderStyle-select [value=1]").attr("selected",!0):n.find("#borderStyle-select [value=3]").attr("selected",!0):r>8?n.find("#borderStyle-select [value=6]").attr("selected",!0):r>4?n.find("#borderStyle-select [value=5]").attr("selected",!0):n.find("#borderStyle-select [value=4]").attr("selected",!0)}else if(e.getBorderStyle()==he.CLOUDY){switch(e.getCloudIntensity()){case 1:n.find("#borderStyle-select [value=7]").attr("selected",!0);break;case 2:n.find("#borderStyle-select [value=8]").attr("selected",!0)}}}}},{key:"bindChangeEvent",value:function(){var e=this;this.$propertiesDialog.on("click",".fv__btn-close",(function(){e.viewerComponent.hidePropertiesDialog?e.viewerComponent.hidePropertiesDialog():e.close()})).on("change","#color-input",(function(t){var n=t.target,i=parseInt(n.value.replace("#",""),16);e.viewerComponent.setColor(i)})).on("change","#opacity-input",(function(t){var n=t.target.value;e.viewerComponent.setOpacity(+n)})).on("change","#thickness-input",(function(e){return i("#thickness-input","#thickness-input-tx")})).on("blur","#thickness-input",(function(e){return i("#thickness-input","#thickness-input-tx")})).on("blur","#thickness-input-tx",(function(e){return i("#thickness-input-tx","#thickness-input")})).on("change","#thickness-input-tx",(function(e){return i("#thickness-input-tx","#thickness-input")})).on("change","#borderStyle-select",(function(t){var n=t.target.value,i=he.DASHED;switch(n){case"0":n=[],i=he.SOLID;break;case"1":n=[2,2,2,2];break;case"2":n=[3,3,3,3];break;case"3":n=[4,4,4,4];break;case"4":n=[4,3,2,3];break;case"5":n=[8,4,4,4];break;case"6":n=[4,3,16,3];break;case"7":n=1,i=he.CLOUDY;break;case"8":n=2,i=he.CLOUDY}e.viewerComponent.setBorderStyle(i,n)})).on("change","#fillcolor-input",(function(t){var n=t.target,i=parseInt(n.value.replace("#",""),16);e.viewerComponent.setFillColor(i)})).on("change","#fillColor-transparent-input",(function(t){t.target.checked?(e.$fillColor.val("#ffffff"),e.$fillColor.attr("disabled",!0),e.viewerComponent.setFillColor(0)):e.$fillColor.removeAttr("disabled")})).on("change","#startstyle-select",(function(t){var n=t.target.value;e.viewerComponent.setEndingStyle(!0,n)})).on("change","#endstyle-select",(function(t){var n=t.target.value;e.viewerComponent.setEndingStyle(!1,n)})).on("change","#hasCap-input",(function(t){var n=t.target.checked;e.viewerComponent.enableCaption(n)})).on("change","#highlighting-select",(function(t){var n=t.target.value;e.viewerComponent.setHighlightingMode(n)})).on("change","#rotation-select",(function(t){var n=t.target.value;e.viewerComponent.setRotation(90*+n)}));var t=this,n=!1;function i(e,i){if(!n){n=!0;var r=t.$propertiesDialog,o=r.find(e).val();t.viewerComponent.getModel().getBorderWidth()!=o?(t.viewerComponent.setBorderWidth(+o),n=!1,r.find(i).val(o)):n=!1}}}},{key:"close",value:function(){var e=this.$propertiesDialog;e&&(e[0].close(),e.remove(),this.$propertiesDialog=null)}}]),e}(),qv=n(6912),Kv=n.n(qv),Zv=n(4252),Xv=n.n(Zv),Qv=n(4210),eg=n.n(Qv),tg=Vv,ng=Hv(".fv__pdf-page-annot-handler-rect"),ig="px",rg=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;(0,C._)(this,n),(a=t.call(this,e,i,r,o)).name="markup",a.eUi=i,a.$ui.addClass("pdf-page-markup-annot-container"),a.$handler.addClass("pdf-page-markup-annot-handler-container");var s=a.pdfViewer.i18n,c=Bv().i18n=function(e){return s.t(e)};a.addDestroyHook((function(){Bv().i18n===c&&(Bv().i18n=void 0)})),a.currentRenderDefer=(0,W.createDeferred)(),a.currentRenderDefer.isPending=!0,W.Lazy.property((0,x._)(a),"contextMenu",(function(){if(a.contextMenuIsEnable())return a.pdfViewer.viewerUI.createContextMenu((0,x._)(a),r,a.getContextMenuConfig())}));var u=a.pdfViewer.getAnnotAuthorityManager();a.addDestroyHook(u.subscribe(a.annot,(function(e){a.updateOnPermissionChange(e)})));var l=a.pdfViewer.eventEmitter,A=function(){a.isDestroyed||a.annot.isDestroyed||u.getPermission(a.annot).then((function(e){a.updateOnPermissionChange(e)}))};return l.on(se.permissionChanged,A),a.addDestroyHook((function(){l.off(se.permissionChanged,A)})),W.Lazy.onInitialized((0,x._)(a),"shapeControl",(function(e){a.initializeShapeControl(e)})),a.addDestroyHook(a.pdfViewer.getCustomOptionsUpdater().onGetAnnotComponentConfigUpdated((function(){if(W.Lazy.hasProperty((0,x._)(a),"shapeControl")&&W.Lazy.isPropertyIntialized((0,x._)(a),"shapeControl")){var e=a.shapeControl.isActive,t=a.shapeControl;W.Lazy.reset((0,x._)(a),"shapeControl"),e&&a._applyShapeChange(),t.destroy()}}))),a}return(0,D._)(n,[{key:"getInnerRect",value:function(){return{left:0,right:0,top:0,bottom:0}}},{key:"getModifiedRect",value:function(e,t){var n={left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height},i=Nh.on(n).extract(),r=i.left,o=i.top,a=i.right,s=i.bottom,c=this.scale,u=this.rotate;return this.getPDFPage().reverseDeviceRect({left:r,top:o,right:a,bottom:s},c,u)}},{key:"updateCollabOp",value:function(e){}},{key:"updateOnPermissionChange",value:function(e){var t=this;if(!this.isDestroyed&&W.Lazy.isPropertyIntialized(this,"shapeControl")){var n=!1;n=!!this.groupMoveDisabled()||(e.ignorable()?this.moveDisabled():this.moveDisabled()||!e.isAdjustable()),this.pdfViewer.currentPDFDoc.readonly().then((function(e){e&&(n=!0);var i=t.shapeControl;n?i.disable():i.enable()}))}}},{key:"isHTMLSimulate",value:function(e){return"canvas"===this.pdfViewer.config.annotRenderingMode[e||this.name]}},{key:"getRenderPromise",value:function(){return this.currentRenderDefer.promise}},{key:"getTileConfig",value:function(e,t){var n=this.pdfViewer,i=n.getSmartScale(e),r=n.config.tileSize,o=this.annot,a=o.getDeviceRect(1,t),s=o.getDeviceRect(i,t),c=s.right-s.left,u=s.bottom-s.top;return this.getAnnotFlag().checkNoZoom()&&(c=a.right-a.left,u=a.bottom-a.top),[Math.ceil(u/r),Math.ceil(c/r),c+=1,u+=1,r,i,e,t,a.left,a.top]}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return(0,E._)((0,S._)(n.prototype),"render",this).call(this,e,t)}},{key:"afterRender",value:function(e){e.transformed&&this.isActive&&this.active()}},{key:"redraw",value:function(e){return this.activeRect(),this.render()}},{key:"active",value:function(){(0,E._)((0,S._)(n.prototype),"active",this).call(this),this.$handler.addClass("active")}},{key:"activeMore",value:function(e,t){}},{key:"activeMoreItem",value:function(){}},{key:"unActive",value:function(){var e=this;if(this.isActive){var t=this.pdfViewer;t.unActiveElement(this),(0,E._)((0,S._)(n.prototype),"unActive",this).call(this),t.eventEmitter.emit(se.unActiveAnnotation,this),!this.delayRemoveActive&&this.$handler.removeClass("active"),this.getGroupRenders().map((function(t){t.component!=e&&t.component.unActive()}))}}},{key:"unActiveMore",value:function(){}},{key:"renderDestroy",value:function(){this.$handler.remove()}},{key:"showReplyDialog",value:function(){var e=this;this.updateDeleteStatus(!0);var t=this.annot,n={},i=t.getGroupHeader()||t,r=n.content=i.getContent(),o=n.replies=[];this.iterationGetRepliesInfo(i,o);var a=o.length,s=Kv()(n),c=j()(s);this.$replyDialog=c;var u=c[0],l=c.find(".fv__btn-reply")[0],A=c.find(".reply-textarea")[0],d=!1;t.hasModifyPermission()?c.find(".content-textarea").prop({disabled:!1}):c.find(".content-textarea").prop({disabled:!0}),this.updateReplyDialog(),c.on("click",".fv__btn-close",(function(){e.hideReplyDialog()})).on("change",".content-textarea",(function(t){var n=t.target,i=n.value;e.setContent(i).then((function(t){if(t)return(0===i.length||c.find(".reply-textarea").prop("disabled"))&&e.updateReplyDialog(),r=i;n.value=r}))})).on("input",".reply-textarea",(function(e){l.disabled=!A.value})).on("click",".fv__btn-reply",(function(t){if(!e.replyDisabled()&&!d){l.disabled=!0,d=!0;var n=A.value;e.addReply(n).then((function(t){var n={content:t.getContent()},i=n.replies=[];e.iterationGetRepliesInfo(t,i),a?c.find(".fv__replies_list").first().append(eg()(n)):c.find(".fv__dialog-replies-block").first().html(Xv()([n])),a=!0,A.value="",l.disabled=!1,d=!1}),(function(){l.disabled=!1}))}})),c.appendTo(document.body),Gv().registerDialog(u),u.showModal()}},{key:"updateReplyDialog",value:function(){var e=this.$replyDialog;e&&(this.replyDisabled()?(e.find(".fv__btn-reply").addClass("fv__btn-replay-disabled"),e.find(".reply-textarea").prop({disabled:!0})):(e.find(".fv__btn-reply").removeClass("fv__btn-replay-disabled"),e.find(".reply-textarea").prop({disabled:!1})))}},{key:"hideReplyDialog",value:function(){var e=this.$replyDialog;e&&(e[0].close(),e.remove(),this.$replyDialog=null),this.isDestroyed||this.updateDeleteStatus(!1)}},{key:"addReply",value:function(e){var t=this;return this.annot.addReply(e).then((function(e){return t.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,t),e}))}},{key:"showContextMenu",value:function(e,t){return!!this.contextMenu&&(this.contextMenu.setCurrentTarget(this),this.contextMenu.showAt(e,t))}},{key:"hideContextMenu",value:function(){}},{key:"getPropertyOptions",value:function(){var e=this.annot;return{color:(0,W.colorConvertor)(e.getBorderColor(),"#"),opacity:e.getOpacity(),borderStyle:!1,disabled:this.propertyDisabled(),isLocked:this.isLocked()}}},{key:"showPropertiesDialog",value:function(){this.$propertiesControl=new Jv(this),this.updateDeleteStatus(!0)}},{key:"hidePropertiesDialog",value:function(){this.$propertiesControl&&this.$propertiesControl.close(),this.bindEvent(),this.updateDeleteStatus(!1)}},{key:"updateRender",value:function(){return Promise.resolve()}},{key:"setContent",value:function(e){var t=this;return this.annot.setContent(e).then((function(e){return e&&t.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,t),e}))}},{key:"setColor",value:function(e){return this.annot.setBorderColor(e)}},{key:"setOpacity",value:function(e){var t=this;return this.annot.setOpacity(e).then((function(e){return t.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,t),e}))}},{key:"destroy",value:function(){(0,E._)((0,S._)(n.prototype),"destroy",this).call(this),this.hidePopup(),this.hidePropertiesDialog(),this.$propertiesControl=null,this.hideReplyDialog(),this.unBindEvent(),W.Lazy.isPropertyIntialized(this,"contextMenu")&&this.contextMenu&&this.contextMenu.destroy(),this.blankHammar&&this.blankHammar.destroy(),this.pdfViewer.deactivateElement(this),this.unActiveMore(),this.eUi&&this.eUi.removeEventListener("mouseenter",this.annotTooltipMouseover),this.eUi=null,this.tooltip=null}},{key:"remove",value:function(){this.destroy()}},{key:"iterationGetRepliesInfo",value:function(e,t){for(var n=e.getReplies(),i=0,r=n.length;i<r;i++){var o=n[i];if(!o.isDeleted()){var a={content:o.getContent(),replies:[]};this.iterationGetRepliesInfo(o,a.replies),t.push(a)}}}},{key:"removeAnnot",value:function(){var e=this;return this.getAppPermission().then((function(t){return t.ignorable()&&e.deleteDisabled()?Promise.resolve():t.isDeletable()&&!e.deleteDisabled()?e.doRemoveAnnot():void 0})).then((function(t){var n=e.pdfViewer.getCurrentActivatable();return n&&n.remove&&n.remove(e),t}))}},{key:"doRemoveAnnot",value:function(){var e=this,t=this.pdfViewer,n=t.eventEmitter,i=this.annot;return Promise.resolve((t.customs.removeAnnotBefore||W.noop)(this)).then((function(t){if(n.emit(se.removeActionAnnotationBefore,e),!1!==t)return i.getPDFPage().removeAnnot(i).then((function(t){return n.emit(se[t?"removeActionAnnotationSuccess":"removeActionAnnotationFailed"],e,i),t}),(function(){n.emit(se.removeActionAnnotationFailed,e)}))}))}},{key:"removeAnnotRender",value:function(){this.renderDestroy(),this.parent().remove()}},{key:"willRedraw",value:function(){(0,E._)((0,S._)(n.prototype),"willRedraw",this).call(this),(this.$rect=this.$rect||this.rectInit()).get(0).willChange="left, top, width, height"}},{key:"afterRedraw",value:function(){(0,E._)((0,S._)(n.prototype),"afterRedraw",this).call(this),(this.$rect=this.$rect||this.rectInit()).get(0).willChange="auto"}},{key:"activeRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,t=this.$rect=this.$rect||this.rectInit(),n=this.scale,i=this.rotate,r=e.getDeviceRect(n,i);t.css({left:r.left+ig,top:r.top+ig,width:r.right-r.left+ig,height:r.bottom-r.top+ig})}},{key:"_applyShapeChange",value:function(){}},{key:"updateSize",value:function(e,t){(0,E._)((0,S._)(n.prototype),"updateSize",this).call(this,e,t),this.isActive&&this.activeRect()}},{key:"rectInit",value:function(){var e=this.$handler,t=j()(this.createRectDom());return e.append(t),this.contextMenuIsEnable()&&t.data(tg,this),t}},{key:"rectSingleTap",value:function(){}},{key:"rectDoubleTap",value:function(e){var t=this;this.getAppPermission().then((function(e){e.isEditable()&&t.showReplyDialog("comment")}))}},{key:"createRectDom",value:function(){return j()('<div class="fv__pdf-page-annot-handler-rect">')}},{key:"doubleTapAnnot",value:function(){var e=this;this.getAppPermission().then((function(t){t.isEditable()&&e.showReplyDialog("comment")}))}},{key:"getContextMenuConfig",value:function(){if(zv)return zv;var e=this.constructor.getDefaultContextMenuConfig();for(var t in e)if("items"===t){var n=e[t],i=this.pdfViewer.i18n;for(var r in n){var o=n[r];o.nameI18nKey&&(o.name=i.t(o.nameI18nKey))}}return e}},{key:"getRelevanceRenders",value:function(){var e,t,n,i,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.parent("annotsRender"),a=this.annot.getGroupHeader()||this.annot,s=[],c=a.getPopup(),u=[],l=[],A=[];!function(e,t){ag(e,"getReplies",t)}(a,u),sg(a,l),cg(a,A),c&&s.push(c.getId()),(e=s).push.apply(e,(0,M._)(u)),(t=s).push.apply(t,(0,M._)(l)),(n=s).push.apply(n,(0,M._)(A));var d=a.isGrouped()?a.getGroupElements():[a];return(i=s).push.apply(i,(0,M._)(d.map((function(e){return e.getId()})))),r?s:s.map((function(e){return o.getAnnotRender(e)})).filter((function(e){return!!e}))}},{key:"getGroupRenders",value:function(){var e=this.parent("annotsRender"),t=this.annot;return((t=t.getGroupHeader()||t).isGrouped()?t.getGroupElements():[t]).map((function(t){return e.getAnnotRender(t.getId())}))}},{key:"getGroupRect",value:function(){var e=this.getGroupRenders();if(e.length>1){var t,n,i,r,o=e.map((function(e){return e.component.getRect()}));return{left:(t=Math).min.apply(t,(0,M._)(o.map((function(e){return e.left})))),right:(n=Math).max.apply(n,(0,M._)(o.map((function(e){return e.right})))),top:(i=Math).min.apply(i,(0,M._)(o.map((function(e){return e.top})))),bottom:(r=Math).max.apply(r,(0,M._)(o.map((function(e){return e.bottom}))))}}if(!e[0])return Object.assign({},{});var a=e[0].component.getRect();return Object.assign({},a)}},{key:"showPopup",value:function(){}},{key:"hidePopup",value:function(){}},{key:"onDoubleTap",value:function(e){}},{key:"invisibleRender",value:function(){}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=(0,E._)((0,S._)(n.prototype),"getRenderingData",this).call(this,e,t);return Object.assign(i,{opacity:this.annot.getOpacity(),tileConfig:this.getTileConfig(e,t)})}},{key:"processShapeControlPermissionCtrl",value:function(){var e=this;this.isDestroyed||this.annot.isDestroyed||this.pdfViewer.getAnnotAuthorityManager().getPermission(this.annot).then((function(t){e.updateOnPermissionChange(t)}))}}],[{key:"getDefaultContextMenuConfig",value:function(){return ng}},{key:"setContextMenuConfig",value:function(e){zv=e}}]),n}(qd);const og=rg;function ag(e,t,n){var i=e[t](),r=i.length;if(!r)return n;for(var o=0;o<r;o++){var a=i[o];ag(a,t,n),sg(a,n),cg(a,n),n.push(a.getId())}return n}function sg(e,t){return ag(e,"getMarkedStates",t)}function cg(e,t){return ag(e,"getReviewStates",t)}var ug="annotComponent";var lg=n(269),Ag=n.n(lg),dg=n(8012),hg=n.n(dg),fg="north",pg="south",vg="east",gg="west",mg="north-west",yg="north-east",_g="south-west",bg="south-east",wg=(n(3279),n(8446)),kg=n.n(wg),xg="__auxiliary-line";var Pg=function(){function e(t,n,i,r){(0,C._)(this,e),this.x0=t,this.y0=n,this.x1=i,this.y1=r}return(0,D._)(e,[{key:"slope",value:function(){return this.x1-this.x0!=0?(this.y1-this.y0)/(this.x1-this.x0):1/0}},{key:"isParallel",value:function(e){return Math.abs(this.slope()-e.slope())<1e-9||this.slope()==e.slope()}},{key:"distanceFromPoint",value:function(e,t){var n=this.y1-this.y0,i=this.x0-this.x1,r=this.x1*this.y0-this.x0*this.y1;return Math.abs(n*e+i*t+r)/Math.sqrt(n*n+i*i)}}]),e}();function Cg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:document.body,r=[],o={top:null,left:null,right:null,bottom:null};t.forEach((function(t){if(Math.abs(t.left-e.left)<=n||Math.abs(t.right-e.left)<=n){var i=Math.abs(t.left-e.left)<Math.abs(t.right-e.left)?t.left:t.right;t.top>e.top?r.push(new Pg(i,e.top,i,t.bottom)):r.push(new Pg(i,t.top,i,Math.max(t.bottom,e.bottom))),null===o.left?o.left=i:o.left=Math.abs(o.left-e.left)<Math.abs(i-e.left)?o.left:i}if(Math.abs(t.right-e.right)<=n||Math.abs(t.left-e.right)<=n){var a=Math.abs(t.right-e.right)<Math.abs(t.left-e.right)?t.right:t.left;t.top>e.top?r.push(new Pg(a,e.top,a,t.bottom)):r.push(new Pg(a,t.top,a,Math.max(t.bottom,e.bottom))),null===o.right?o.right=a:o.right=Math.abs(o.right-e.right)<Math.abs(a-e.right)?o.right:a}if(Math.abs(t.top-e.top)<=n||Math.abs(t.bottom-e.top)<=n){var s=Math.abs(t.top-e.top)<Math.abs(t.bottom-e.top)?t.top:t.bottom;t.left>e.left?r.push(new Pg(e.left,s,t.right,s)):r.push(new Pg(t.left,s,Math.max(e.right,t.right),s)),null===o.top?o.top=s:o.top=Math.abs(o.top-e.top)<Math.abs(s-e.top)?o.top:s}if(Math.abs(t.bottom-e.bottom)<=n||Math.abs(t.top-e.bottom)<=n){var c=Math.abs(t.bottom-e.bottom)<Math.abs(t.top-e.bottom)?t.bottom:t.top;t.left>e.left?r.push(new Pg(e.left,c,t.right,c)):r.push(new Pg(t.left,c,Math.max(e.right,t.right),c)),null===o.bottom?o.bottom=c:o.bottom=Math.abs(o.bottom-e.bottom)<Math.abs(c-e.bottom)?o.bottom:c}}));var a=function(e,t,n){var i=new Pg(e.left,e.top,e.right,e.top),r=new Pg(e.left,e.bottom,e.right,e.bottom),o=new Pg(e.left,e.top,e.left,e.bottom),a=new Pg(e.right,e.top,e.right,e.bottom),s=null,c=null,u=null,l=null,A=1/0,d=1/0,h=1/0,f=1/0;return t.forEach((function(t){if(i.isParallel(t)){var p=t.distanceFromPoint(e.left,e.top);p<A&&p<=n&&(A=p,s=t)}if(r.isParallel(t)){var v=t.distanceFromPoint(e.left,e.bottom);v<d&&v<=n&&(d=v,c=t)}if(o.isParallel(t)){var g=t.distanceFromPoint(e.left,e.top);g<h&&g<=n&&(h=g,u=t)}if(a.isParallel(t)){var m=t.distanceFromPoint(e.right,e.top);m<f&&m<=n&&(f=m,l=t)}})),{closestTop:s,closestBottom:c,closestLeft:u,closestRight:l}}(e,r,n);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#777",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:document.body,r=Array.from(i.getElementsByClassName(xg));if(r.length<e.length)for(var o=e.length-r.length;o-- >0;){var a=document.createElement("div");a.className=xg+" "+n,r.push(a),i.appendChild(a)}for(var s=0;s<r.length;s++){var c=r[s];if(s>=e.length)c.style.display="none";else{c.style.display="";var u=e[s];if(u.y0===u.y1){var l="\n                width: ".concat(Math.abs(u.x1-u.x0),"px;\n                height: 1px;\n                position: absolute;\n                top: ").concat(u.y0-.5,"px;\n                left: ").concat(u.x0,"px;\n                z-index: 10;\n                background: linear-gradient(to right, transparent 50%, ").concat(t," 50%);\n                background-size: 5px 5px;");c.style.cssText+=l}else if(u.x0===u.x1){var A="\n                width: 1px;\n                height: ".concat(Math.abs(u.y1-u.y0),"px;\n                position: absolute;\n                top: ").concat(u.y0,"px;\n                left: ").concat(u.x0-.5,"px;\n                z-index: 10;\n                background: linear-gradient(to bottom, transparent 50%, ").concat(t," 50%);\n                background-size: 5px 5px;");c.style.cssText+=A}}}}([a.closestBottom,a.closestLeft,a.closestRight,a.closestTop].filter((function(e){return e})),void 0,"",i),o}function Dg(){!function(){for(var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body).getElementsByClassName(xg),t=e.length-1;t>=0;t--)e[t].remove()}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body)}var Eg,Sg=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.left,i=void 0===n?0:n,r=t.right,o=void 0===r?0:r,a=t.bottom,s=void 0===a?0:a,c=t.top,u=void 0===c?0:c,l=t.box,A=t.marginBox,d=void 0===A?{left:0,top:0,right:0,bottom:0}:A,h=t.expansion,f=void 0===h?{left:0,top:0,right:0,bottom:0}:h;(0,C._)(this,e),this.processing=!1,this.boundary={left:i,right:o,bottom:s,top:u},this.freeBoundary=null,this.marginBox=d,this.shape=this.calculateShape(),this.setBoundaryBox(l),this.tasks=[],this.expansion=f,this.drawAuxiliaryLine=Cg,this.clearAuxiliaryLine=Dg}return(0,D._)(e,[{key:"process",value:function(){this.tasks=[],this.processing=!0,this.freeBoundary=Object.assign({},this.boundary)}},{key:"end",value:function(){this.tasks=[],this.processing=!1,this.boundary=this.squareBoundary||this.freeBoundary,this.freeBoundary=null,this.squareBoundary=null,this.shape=this.calculateShape()}},{key:"cancel",value:function(){this.tasks=[],this.processing=!1,this.freeBoundary=null,this.squareBoundary=null}},{key:"setBoundaryBox",value:function(e){var t=this;this.box=e,this.boxStrict=e?function(n,i){return t._adjustBoundaryByBox(e,n,i)}:W.noop}},{key:"undo",value:function(){var e=this.tasks.pop();"function"==typeof e&&e()}},{key:"addTask",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.tasks.push((function(){return e.apply(void 0,(0,M._)(n))}))}},{key:"recordFreeBoundary",value:function(){var e=this,t=this.freeBoundary?Object.assign({},this.freeBoundary):null;this.addTask((function(t){e.freeBoundary=t}),t)}},{key:"recordSquareBoundary",value:function(){var e=this,t=this.squareBoundary?Object.assign({},this.squareBoundary):null;this.addTask((function(t){e.squareBoundary=t}),t)}},{key:"adjustWest",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.ADJUST_MODE_FREE;this.recordFreeBoundary();var i=this.freeBoundary,r=(0,w._)({},i),o=this.freeBoundary.left+t,a=this.freeBoundary.right;switch(i.left=Math.min(o,a),i.right=Math.max(o,a),n){case e.ADJUST_MODE_SQUARE:this._adjustToSquareH();case e.ADJUST_MODE_UNIFORM:}return this.boxStrict(this.freeBoundary,r),a<o?vg:gg}},{key:"adjustEast",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.ADJUST_MODE_FREE;this.recordFreeBoundary();var i=(0,w._)({},this.freeBoundary),r=this.freeBoundary.right+t,o=this.freeBoundary.left;switch(this.freeBoundary.left=Math.min(o,r),this.freeBoundary.right=Math.max(o,r),n){case e.ADJUST_MODE_SQUARE:this._adjustToSquareH();case e.ADJUST_MODE_UNIFORM:}return this.boxStrict(this.freeBoundary,i),r<o?gg:vg}},{key:"_adjustToSquareH",value:function(){var e=this.freeBoundary,t=e.right-e.left,n=e.bottom-e.top,i=e.top+n/2-t/2,r=i+t;e.top=i,e.bottom=r}},{key:"adjustNorth",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.ADJUST_MODE_FREE;this.recordFreeBoundary();var i=(0,w._)({},this.freeBoundary),r=this.freeBoundary.top+t,o=this.freeBoundary.bottom;switch(this.freeBoundary.top=Math.min(r,o),this.freeBoundary.bottom=Math.max(r,o),n){case e.ADJUST_MODE_SQUARE:this._adjustToSquareV();case e.ADJUST_MODE_UNIFORM:}return this.boxStrict(this.freeBoundary,i),o<r?pg:fg}},{key:"adjustSouth",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.ADJUST_MODE_FREE;this.recordFreeBoundary();var i=(0,w._)({},this.freeBoundary),r=this.freeBoundary.bottom+t,o=this.freeBoundary.top;switch(this.freeBoundary.top=Math.min(o,r),this.freeBoundary.bottom=Math.max(o,r),n){case e.ADJUST_MODE_SQUARE:this._adjustToSquareV();case e.ADJUST_MODE_UNIFORM:}return this.boxStrict(this.freeBoundary,i),r<o?fg:pg}},{key:"_adjustToSquareV",value:function(){var e=this.freeBoundary,t=e.right-e.left,n=e.bottom-e.top,i=e.left+t/2-n/2,r=i+n;e.left=i,e.right=r}},{key:"_adjustToSquare",value:function(e,t){var n=this.freeBoundary.right-this.freeBoundary.left,i=this.freeBoundary.bottom-this.freeBoundary.top,r=Math.min(n,i);this.squareBoundary=Object.assign({},this.freeBoundary),t==gg?this.squareBoundary.left=this.freeBoundary.right-r:this.squareBoundary.right=this.freeBoundary.left+r,e==pg?this.squareBoundary.bottom=this.freeBoundary.top+r:this.squareBoundary.top=this.freeBoundary.bottom-r}},{key:"adjustNorthWest",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ADJUST_MODE_FREE,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;this.recordFreeBoundary(),this.recordSquareBoundary();var a=(0,w._)({},this.freeBoundary);switch(i){case e.ADJUST_MODE_UNIFORM:return this._adjustNorthWestUniform(t,n,r,o),this.boxStrict(this.freeBoundary,a),mg;case e.ADJUST_MODE_FREE:case e.ADJUST_MODE_SQUARE:var s=this.adjustNorth(n),c=this.adjustWest(t);return this.squareBoundary=null,i==e.ADJUST_MODE_SQUARE&&(this._adjustToSquare(s,c),this.boxStrict(this.squareBoundary,a)),"".concat(s,"-").concat(c)}}},{key:"_adjustNorthWestUniform",value:function(e,t,n,i){var r=this.freeBoundary,o=r.right,a=r.bottom,s=r.left,c=r.top,u=o-(s+e),l=a-(c+t),A=o-s,d=a-c,h=Math.min(u,l);if(h>=i){h===u?l=h/A*d:u=h/d*A;var f=o-u,p=a-l;if(f<=0||p<=0)return;this.freeBoundary.left=f,this.freeBoundary.top=p}}},{key:"adjustNorthEast",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ADJUST_MODE_FREE,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;this.recordFreeBoundary(),this.recordSquareBoundary();var a=(0,w._)({},this.freeBoundary);switch(i){case e.ADJUST_MODE_UNIFORM:return this._adjustNorthEastUniform(t,n,r,o),this.boxStrict(this.freeBoundary,a),yg;case e.ADJUST_MODE_FREE:case e.ADJUST_MODE_SQUARE:var s=this.adjustNorth(n),c=this.adjustEast(t);return this.squareBoundary=null,i==e.ADJUST_MODE_SQUARE&&(this._adjustToSquare(s,c),this.boxStrict(this.squareBoundary,a)),"".concat(s,"-").concat(c)}}},{key:"_adjustNorthEastUniform",value:function(e,t,n,i){var r=this.freeBoundary,o=r.right,a=r.bottom,s=r.left,c=r.top,u=o+e-s,l=a-(c+t),A=o-s,d=a-c,h=Math.min(u,l);if(h>=i){h===u?l=h/A*d:u=h/d*A;var f=s+u,p=a-l;if(n.right-n.x<=f||p<=0)return;this.freeBoundary.right=f,this.freeBoundary.top=p}}},{key:"adjustSouthWest",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ADJUST_MODE_FREE,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;this.recordFreeBoundary(),this.recordSquareBoundary();var a=(0,w._)({},this.freeBoundary);switch(i){case e.ADJUST_MODE_UNIFORM:return this._adjustSouthWestUniform(t,n,r,o),this.boxStrict(this.freeBoundary,a),_g;case e.ADJUST_MODE_FREE:case e.ADJUST_MODE_SQUARE:var s=this.adjustSouth(n),c=this.adjustWest(t);return this.squareBoundary=null,i==e.ADJUST_MODE_SQUARE&&(this._adjustToSquare(s,c),this.boxStrict(this.squareBoundary,a)),"".concat(s,"-").concat(c)}}},{key:"_adjustSouthWestUniform",value:function(e,t,n,i){var r=this.freeBoundary,o=r.right,a=r.bottom,s=r.left,c=r.top,u=o-(s+e),l=a+t-c,A=o-s,d=a-c,h=Math.min(u,l);if(h>=i){h===u?l=h/A*d:u=h/d*A;var f=n.bottom,p=n.y,v=o-u,g=c+l;if(v<=0||f-p<=g)return;this.freeBoundary.left=v,this.freeBoundary.bottom=g}}},{key:"adjustSouthEast",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ADJUST_MODE_FREE,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;this.recordFreeBoundary(),this.recordSquareBoundary();var a=(0,w._)({},this.freeBoundary);switch(i){case e.ADJUST_MODE_UNIFORM:return this._adjustSouthEastUniform(t,n,r,o),this.boxStrict(this.freeBoundary,a),bg;case e.ADJUST_MODE_FREE:case e.ADJUST_MODE_SQUARE:var s=this.adjustSouth(n),c=this.adjustEast(t);return this.squareBoundary=null,i==e.ADJUST_MODE_SQUARE&&(this._adjustToSquare(s,c),this.boxStrict(this.squareBoundary,a)),"".concat(s,"-").concat(c)}}},{key:"_adjustSouthEastUniform",value:function(e,t,n,i){var r=this.freeBoundary,o=r.right,a=r.bottom,s=r.left,c=r.top,u=o+e-s,l=a+t-c,A=o-s,d=a-c,h=Math.min(u,l);if(h>=i){h===u?l=h/A*d:u=h/d*A;var f=n.right,p=n.bottom,v=n.x,g=n.y,m=s+u,y=c+l;if(f-v<=m||p-g<=y)return;this.freeBoundary.right=m,this.freeBoundary.bottom=y}}},{key:"adjustPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.recordFreeBoundary(),this.freeBoundary){this.freeBoundary.left+=e,this.freeBoundary.right+=e,this.freeBoundary.top+=t,this.freeBoundary.bottom+=t;var n=(0,w._)({},this.freeBoundary);this.boxStrict(this.freeBoundary,n)}}},{key:"adjustPositionTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.freeBoundary.left,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.freeBoundary.top;this.adjustPosition(e-this.freeBoundary.left,t-this.freeBoundary.top)}},{key:"_adjustMovingBoundaryByBox",value:function(e,t){var n=t.right-t.left,i=t.bottom-t.top;this.boundary.right>e.right&&(this.boundary.right=e.right,this.boundary.left=e.right-n),this.boundary.bottom>e.bottom&&(this.boundary.bottom=e.bottom,this.boundary.top=e.bottom-i),this.boundary.left<e.left&&(this.boundary.left=e.left,this.boundary.right=e.left+n),this.boundary.top<e.top&&(this.boundary.top=e.top,this.boundary.bottom,e.top)}},{key:"_adjustBoundaryByBox",value:function(e,t,n){var i=this.marginBox;i||(i={}),i.left=i.left||0,i.top=i.top||0,i.bottom=i.bottom||0,i.right=i.right||0;var r=Nh.on(t).expand(i.top,i.left,i.bottom,i.right).extract(),o=r.right-r.left,a=r.bottom-r.top;kg()(t,n)||(a=Math.min(e.bottom-e.top,n.bottom-n.top),o=Math.min(e.right-e.left,n.right-n.left)),r.right>e.right&&(r.right=e.right,r.left=e.right-o),r.bottom>e.bottom&&(r.bottom=e.bottom,r.top=e.bottom-a),r.left<e.left&&(r.left=e.left,r.right=e.left+o),r.top<e.top&&(r.top=e.top,r.bottom=e.top+a);var s=Nh.on(r).shrink(i.top,i.left,i.bottom,i.right).extract();Nh.copyTo(s,t)}},{key:"setMargin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.marginBox,t=e.left,n=void 0===t?0:t,i=e.top,r=void 0===i?0:i,o=e.right,a=void 0===o?0:o,s=e.bottom,c=void 0===s?0:s;this.marginBox={left:n,top:r,right:a,bottom:c}}},{key:"getAdjustRect",value:function(){var e=this.squareBoundary||this.freeBoundary;return e?Object.assign({},e):null}},{key:"getAdjustShape",value:function(){var e=this.squareBoundary||this.freeBoundary;return e?{left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top}:null}},{key:"getRect",value:function(){return Object.assign({},this.boundary)}},{key:"getShape",value:function(){return Object.assign({},this.shape)}},{key:"calculateShape",value:function(){var e=this.boundary;return{left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top}}},{key:"applyToDom",value:function(e,t){t=t||this.getShape();var n=this.expansion;e.style.cssText+="\n                left: ".concat(t.left-n.left,"px;\n                top: ").concat(t.top-n.top,"px;\n                width: ").concat(t.width+(n.left+n.right),"px;\n                height: ").concat(t.height+(n.top+n.bottom),"px;\n                ")}},{key:"applyAdjustingToDom",value:function(e,t){t=t||this.getAdjustShape();var n=this.expansion;e.style.cssText+="\n                left: ".concat(t.left-n.left,"px;\n                top: ").concat(t.top-n.top,"px;\n                width: ").concat(t.width+(n.left+n.right),"px;\n                height: ").concat(t.height+(n.top+n.bottom),"px;\n                ")}}],[{key:"ADJUST_MODE_FREE",get:function(){return"free"}},{key:"ADJUST_MODE_UNIFORM",get:function(){return"uniform"}},{key:"ADJUST_MODE_SQUARE",get:function(){return"square"}}]),e}();!function(e){e.Horizontal="horizontal",e.Vertical="vertical",e.All="all"}(Eg||(Eg={}));var Ig=jr.T,Tg="move",Rg=["square","widget","polygon","line","polyline","circle","stamp","freetext","fileattachment","text"],Mg=W.LoggerFactory.getLogger("ShapeControl"),Fg={};var Ng=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.emitter,o=i.prestart,a=void 0===o?W.noop:o,s=i.start,c=void 0===s?W.noop:s,u=i.update,l=void 0===u?W.noop:u,A=i.interceptor,d=void 0===A?Ig:A,h=i.moving,f=void 0===h?W.noop:h,p=i.end,v=void 0===p?W.noop:p,g=i.afterEnd,m=void 0===g?W.noop:g,y=i.rotate,_=void 0===y?W.noop:y,b=i.beforeRotateStart,w=void 0===b?W.noop:b,k=i.rotateStart,x=void 0===k?W.noop:k,P=i.rotateEnd,D=void 0===P?W.noop:P,E=i.afterRotateEnd,S=void 0===E?W.noop:E,I=i.enableDiagonally,T=void 0!==I&&I,R=i.enableFrame,M=void 0===R||R,F=i.enableSizeBox,N=void 0!==F&&F,L=i.resizable,O=void 0===L||L,j=i.moveable,B=void 0===j||j,V=i.rotatable,U=void 0!==V&&V,H=i.previewer,z=void 0!==H&&H,G=i.enableUniform,Y=void 0!==G&&G,$=i.minUniformSize,J=void 0===$?15:$,q=i.annotRender,K=void 0===q?null:q,Z=i.expansion,X=void 0===Z?{left:1,top:1,right:1,bottom:1}:Z,Q=i.degreeInitVisibility,ee=void 0===Q||Q,te=i.resizeCompanions,ne=void 0!==te&&te,ie=i.onStatusChange,re=void 0===ie?W.noop:ie,oe=i.degree,ae=void 0===oe?0:oe,se=i.auxiliaryLine,ce=void 0===se?null:se,ue=i.moveDirection,le=void 0===ue?Eg.All:ue;return(0,C._)(this,n),(e=t.call(this)).ui=function(e){var t=Object.keys(e).sort().map((function(t){return e[t]?1:0})).join("");if(t in Fg)return Fg[t].cloneNode(!0);var n=(new DOMParser).parseFromString(hg()(e),"text/html").body.firstChild;return Fg[t]=n,n.cloneNode(!0)}({enableDiagonally:T,resizable:O,enableFrame:M,rotatable:U,moveable:B,previewer:z,enableSizeBox:N,degreeInitVisibility:ee}),e.emitter=r,e.onPrestart=a,e.onStart=c,e.onUpdate=l,e.onMoving=f,e.interceptor=d,e.onEnd=v,e.onAfterEnd=m,e.onBeforeRotateStart=w,e.onAfterRotateEnd=S,e.rotate=_,e.onRotateStart=x,e.onRotateEnd=D,e.enableUniform=Y,e.minUniformSize=J,e.rotatable=U,e.moveable=B,e.enablePreviewer=z,e.isDisabled=!1,e.isMoveDisabled=!1,e.enableDiagonally=T,e.enableFrame=M,e.enableSizeBox=N,e.resizable=O,e.annotRender=K,e.rotateCursorStyle="fv__cursor-rotation",e.rotateDegree=ae,e.isRotateStarted=!1,e.auxiliaryLine=ce,e.expansion=X,e.resizeCompanions=ne,e.companions=[],e.degreeInitVisibility=ee,e.isActive=!1,e.onStatusChange=re,e.moveDirection=le,e}return(0,D._)(n,[{key:"init",value:function(){if(!this._isInitted){this._isInitted=!0;var e=this.ui.querySelector(".fv__shape-control-previewer");this.rotatingRod=this.ui.querySelector(".fv__shape-rotate"),this.shapeSizeBox=this.ui.querySelector(".fv__shape-size"),this.context=e.getContext("2d"),this.companionMargin={left:0,right:0,top:0,bottom:0},this.rotateDegreeBox=this.ui.querySelector(".fv-shape-rotate-degree"),this.updateRotateDegreeBox(this.rotateDegree),this.resizableWrap=this.ui.querySelector(".fv__shape-controller-resizable-wrap"),this.bindEvents()}}},{key:"companion",value:function(e){var t=this;if(e===this)return W.noop;var n="function"==typeof e.getCompanionObject?e.getCompanionObject():void 0;return n?-1!==this.companions.indexOf(n)||n.companions.indexOf(this)>-1?W.noop:(this.companions.push(n),this.updateMargin(),function(){var e=t.companions.indexOf(n);e>-1&&t.companions.splice(e,1)}):W.noop}},{key:"getCompanionObject",value:function(){return this}},{key:"updateMargin",value:function(){if(0===this.companions.length)return this.setMargin(this.originMargin),void(this.companionMargin={left:0,right:0,top:0,bottom:0});var e=this.shape.getRect(),t=e.left,n=e.right,i=e.top,r=e.bottom;this.companions.forEach((function(e){var o=e.shape.getRect();t=Math.min(o.left,t),i=Math.min(o.top,i),n=Math.max(o.right,n),r=Math.max(o.bottom,r)}));var o=e.left-t,a=n-e.right,s=e.top-i,c=r-e.bottom;this.companionMargin={left:o,right:a,top:s,bottom:c},this.originMargin=this.shape.marginBox;var u={left:Math.max(this.companionMargin.left,this.originMargin.left),right:Math.max(this.companionMargin.right,this.originMargin.right),top:Math.max(this.companionMargin.top,this.originMargin.top),bottom:Math.max(this.companionMargin.bottom,this.originMargin.bottom)};this.setMargin(u)}},{key:"clearCompanions",value:function(){this.companions.length=0,this.updateMargin()}},{key:"getPreviewerContext",value:function(){return this.context}},{key:"bindEvents",value:function(){var e=this,t=this.ui.querySelectorAll(".fv__shape-controller");Array.prototype.slice.call(t).forEach((function(t){return e._bindControllerEvents(t)})),this.moveable&&this._bindMoveAreaEvents(),this.rotatable&&this._bindRotateEvents()}},{key:"_resolveOffset",value:function(e,t,n){var i=this.ui.getBoundingClientRect();return n<0&&e.y>i.bottom&&(n=0),n>0&&e.y<i.top&&(n=0),t>0&&e.x<i.left&&(t=0),t<0&&e.x>i.right&&(t=0),{offsetX:t,offsetY:n}}},{key:"_bindControllerEvents",value:function(e){var t,i,r=this,o=new qr.Manager(e);o.add(new qr.Pan({direction:qr.DIRECTION_ALL})),o.on("panmove",(function(n){var o=n.deltaX,a=n.deltaY,s=n.center;if(!r.isDisabled&&r.isActive){var c=r._resolveOffset(s,o-t,a-i),u=c.offsetX,l=c.offsetY;t=o,i=a,r.resize(e.getAttribute("direction"),u,l),r._resizeSizeBox()}})),o.on("panstart",(function(n){var o=n.deltaX,a=n.deltaY,s=n.center;if(!r.isDisabled&&r.isActive){var c=r._resolveOffset(s,o,a),u=c.offsetX,l=c.offsetY;t=u,i=l,r.start(),r.resizeCompanions||r.setMargin({left:0,right:0,top:0,bottom:0}),r.resize(e.getAttribute("direction"),u,l,!0)}})),o.on("panend",(function(e){!r.isDisabled&&r.isActive&&r.end(n.ACTION_RESIZE)})),o.on("pancancel",(function(e){!r.isDisabled&&r.isActive&&r.cancel(n.ACTION_RESIZE)})),this.addDestroyHook((function(){o.destroy()}))}},{key:"_resizeSizeBox",value:function(){if(this.shapeSizeBox){var e=this.shape.getAdjustShape();e||(e=this.shape.shape);var t=parseInt(e.width),n=parseInt(e.height);this.shapeSizeBox.innerHTML=t<120?t+"px*"+n+"px":t<170?"W: "+t+"px, H: "+n+"px":"Width: "+t+"px, Height: "+n+"px",this.shapeSizeBox.style.top=n>100?"1px":"-22px"}}},{key:"_bindMoveAreaEvents",value:function(){var e,t,i=this,r=this.ui,o=new qr.Manager(r.querySelector(".fv__shape-control-move-area"),{domEvents:!0});o.add(new qr.Pan({direction:qr.DIRECTION_ALL})),o.on("panstart",(function(n){var r=n.deltaX,a=n.deltaY,s=n.center,c=n.srcEvent;if(!i.isDisabled&&!i.isMoveDisabled&&i.isActive){var u=o.element.getBoundingClientRect(),l=u.width,A=u.height;if(l||A){var d=i.updateDeltaDataByDirection(r,a),h=d.offsetX,f=d.offsetY;e=h,t=f,i.start(),i.trigger("movingstart",{deltaX:s.x+h,deltaY:s.y+f,srcEvent:c}),i.move(e,t,!0)}}})),o.on("panend",(function(e){if(i.trigger("movingend",e),!i.isDisabled&&!i.isMoveDisabled&&i.isActive){var t=o.element.getBoundingClientRect(),r=t.width,a=t.height;(r||a)&&(i.end(n.ACTION_MOVE),i.auxiliaryLine&&i.shape.clearAuxiliaryLine(i.auxiliaryLine.container))}})),o.on("pancancel",(function(e){if(i.trigger("movingcancel"),!i.isDisabled&&!i.isMoveDisabled&&i.isActive){var t=o.element.getBoundingClientRect(),r=t.width,a=t.height;(r||a)&&(i.cancel(n.ACTION_MOVE),i.auxiliaryLine&&i.shape.clearAuxiliaryLine(i.auxiliaryLine.container))}})),o.on("panmove",(function(n){var r=n.deltaX,a=n.deltaY,s=n.center,c=n.direction;if(!i.isDisabled&&!i.isMoveDisabled&&i.isActive){var u=o.element.getBoundingClientRect(),l=u.width,A=u.height;if(l||A){var d=i.updateDeltaDataByDirection(r,a);r=d.offsetX,a=d.offsetY;var h=r-e,f=a-t;e=r,t=a;var p=i.ui.getBoundingClientRect(),v=p.left,g=p.right,m=p.top,y=p.bottom;s.x<v&&c&Hammer.DIRECTION_RIGHT&&(h=0),s.x>g&&c&Hammer.DIRECTION_LEFT&&(h=0),s.y<m&&c&Hammer.DIRECTION_DOWN&&(f=0),s.y>y&&c&Hammer.DIRECTION_UP&&(f=0),i.move(h,f,void 0,!0)}}})),this.addDestroyHook((function(){o.destroy()}))}},{key:"disable",value:function(){this.isDisabled=!0,this.ui.classList.add("disabled"),this.onStatusChange()}},{key:"enable",value:function(){this.isDisabled=!1,this.ui.classList.remove("disabled"),this.onStatusChange()}},{key:"moveDisable",value:function(){this.isMoveDisabled=!0,this.ui.classList.add("move-disabled"),this.onStatusChange()}},{key:"moveEnable",value:function(){this.moveable&&(this.isMoveDisabled=!1,this.ui.classList.remove("move-disabled"),this.onStatusChange())}},{key:"start",value:function(){this.isDisabled||(this.doStart(),this.onPrestart(),this.companions.forEach((function(e){return e.doStart()})))}},{key:"doStart",value:function(){this.ui.style.willChange="left, top, width, height",this.shape.process()}},{key:"move",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.updateDeltaDataByDirection(e,t);if(e=o.offsetX,t=o.offsetY,!this.isDisabled&&!this.isMoveDisabled){var a=this.shape.getAdjustRect();this.shape.adjustPosition(e,t);var s=this.getSnapRect(this.shape.getAdjustRect());if(s){var c=s.left-a.left,u=s.top-a.top;if(this.interceptor(this.shape.getAdjustShape())){if(this.auxiliaryLine&&r){var l=[],A=Object.assign({},s),d=this.auxiliaryLine.gap,h=this.auxiliaryLine.container,f=[this.shape.boundary],p={};p[this.shape.boundary.top+this.shape.boundary.left+this.shape.boundary.right+this.shape.boundary.bottom]=!0,this.companions.length&&this.companions.forEach((function(e){var t=e.getSnapRect(e.shape.getAdjustRect());A.left=Math.min(A.left,t.left),A.top=Math.min(A.top,t.top),A.right=Math.max(A.right,t.right),A.bottom=Math.max(A.bottom,t.bottom),f.push(e.shape.boundary),p[e.shape.boundary.top+e.shape.boundary.left+e.shape.boundary.right+e.shape.boundary.bottom]=!0}));var v=(l=l.filter((function(e){var t=e.rect;if(Rg.indexOf(e.type)<0)return!1;if(!p[t.top+t.left+t.right+t.bottom])return!0;var n=!0,i=!1,r=void 0;try{for(var o,a=f[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.top==t.top&&s.left==t.left&&s.right==t.right&&s.bottom==t.bottom)return!1}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return!0}))).map((function(e){return e.rect})),g=this.shape.drawAuxiliaryLine(A,v,d,h),m=s.right-s.left,y=s.bottom-s.top;!this.companions.length&&g.top&&(s.top=g.top,s.bottom=s.top+y),!this.companions.length&&g.left&&(s.left=g.left,s.right=s.left+m),!this.companions.length&&g.right&&(s.right=g.right,s.left=s.right-m),!this.companions.length&&g.bottom&&(s.bottom=g.bottom,s.top=s.bottom-y),c=s.left-a.left,u=s.top-a.top}var _=this.getShapeFromRect(s);this.shape.applyAdjustingToDom(this.ui,_),i&&this.onStart(_,this.context,n.ACTION_MOVE),this.onMoving(_,this.context,{offsetLeft:c,offsetTop:u}),this.companions.forEach((function(e){return e.move(c,u,i)}))}else this.shape.undo()}}}},{key:"resize",value:function(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!this.isDisabled){switch(e){case vg:case gg:case fg:case pg:case yg:case mg:case bg:case _g:break;default:throw new Error("Incorrect direction: ".concat(e))}if(this._resize(e,t,i),this.interceptor(this.shape.getAdjustShape())){var o=this.getShapeFromRect(this.getDirectionSnapRect(this.shape.getAdjustRect(),e));this.shape.applyAdjustingToDom(this.ui,o),this._updatePreviewer(),r&&this.onStart(o,this.context,n.ACTION_RESIZE),this.onUpdate(o,this.context,{offsetLeft:t,offsetTop:i,direction:e}),this.resizeCompanions&&this.companions.forEach((function(n){return n.resize(e,t,i,r)}))}else this.shape.undo()}}},{key:"end",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!(this.isDisabled||e===Tg&&this.isMoveDisabled)){t=t==this.companions.length,this.ui.style.willChange="auto";var i=this.shape.getAdjustRect();if(i){var r=this.getShapeFromRect(e===n.ACTION_MOVE?this.getSnapRect(i):this.getDirectionSnapRect(i));this.onEnd(r,this.context,e,t),this.shape.end(),this.shape.applyToDom(this.ui,r),(e!=n.ACTION_RESIZE||this.resizeCompanions)&&this.companions.forEach((function(t,n){return t.end(e,n)}))}this.onAfterEnd(e)}}},{key:"cancel",value:function(e){this.isDisabled||(this.shape.cancel(),this.shape.applyToDom(this.ui),this.onEnd(this.shape.getShape(),this.context,e),this.companions.forEach((function(t){return t.cancel(e)})),this.onAfterEnd(e))}},{key:"rotateStart",value:function(e,t){var n=this.ui.getBoundingClientRect(),i={x:n.left+.5*n.width,y:n.top+.5*n.height};this.rotateStartPoint={x:e,y:t},this.rotationOffsetCenter=i,this.onRotateStart(this.rotateDegree,this.shape,this.context),this.companions.forEach((function(n){n.isRotateStarted=!0,n.rotateStart(e,t)}))}},{key:"rotating",value:function(e,t){if(this.isRotateStarted){var n=this.rotateStartPoint,i=n.x,r=n.y,o=this.offsetDegree=this.getAngle(i,r,e,t);this.ui.style.transform="rotate(".concat(o,"deg)"),this.updateRotateDegreeBox(o),this.rotate(o,this.rotateDegree),this.companions.forEach((function(e){e.ui.style.transform="rotate(".concat(o,"deg)"),e.updateRotateDegreeBox(o),e.rotate(o,e.rotateDegree)}))}}},{key:"getAngle",value:function(e,t,n,i){var r,o=this.rotationOffsetCenter,a=o.x,s=o.y,c=180*Math.atan2(t-s,e-a)/Math.PI,u=180*Math.atan2(i-s,n-a)/Math.PI;return c=c<=-90?360+c:c,u=u<=-90?360+u:u,r=(r=Math.floor(u-c))<0?r+360:r}},{key:"rotateEnd",value:function(){var e=this;this.isRotateStarted&&(this.isRotateStarted=!1,this.rotateDegree+=this.offsetDegree,this.onRotateEnd(this.rotateDegree,this.offsetDegree,this.shape,this.context).then((function(t){e.rotatingRod.style.transform="rotate(".concat(t,"deg)")})),this.companions.forEach((function(e){e.rotateEnd()})))}},{key:"moveDirectly",value:function(e,t){if(!this.isDisabled){this.start();try{this.move(e,t,!0)}catch(e){throw this.cancel(),e}this.end()}}},{key:"resizeDirectly",value:function(e,t,n){if(!this.isDisabled){this.start();try{this.resize(e,t,n,!0)}catch(e){throw this.cancel(),e}this.end()}}},{key:"_updatePreviewer",value:function(){if(this.enablePreviewer){var e=this.ui.querySelector(".fv__shape-control-previewer");e.setAttribute("width",this.ui.offsetWidth),e.setAttribute("height",this.ui.offsetHeight)}}},{key:"hidePreviewer",value:function(){}},{key:"showPreviewer",value:function(){}},{key:"hide",value:function(){this.ui.style.display="none"}},{key:"show",value:function(){this.ui.style.display="block"}},{key:"_resize",value:function(e,t,n){var i,r=this.ui,o=r.parentElement.parentElement.getBoundingClientRect();switch(i=this.enableUniform?Sg.ADJUST_MODE_UNIFORM:W.keyboardStatus.isShift?Sg.ADJUST_MODE_SQUARE:Sg.ADJUST_MODE_FREE,e){case fg:a(e,this.shape.adjustNorth(n,i));break;case pg:a(e,this.shape.adjustSouth(n,i));break;case vg:a(e,this.shape.adjustEast(t,i));break;case gg:a(e,this.shape.adjustWest(t,i));break;case mg:a(e,this.shape.adjustNorthWest(t,n,i,o,this.minUniformSize));break;case yg:a(e,this.shape.adjustNorthEast(t,n,i,o,this.minUniformSize));break;case _g:a(e,this.shape.adjustSouthWest(t,n,i,o,this.minUniformSize));break;case bg:a(e,this.shape.adjustSouthEast(t,n,i,o,this.minUniformSize));break;default:throw new Error("Incorrect direction: "+e)}function a(e,t){if(e!==t){var n=r.querySelector("[direction=".concat(t,"]")),i=r.querySelector("[direction=".concat(e,"]"));n.setAttribute("direction",e),i.setAttribute("direction",t)}}}},{key:"active",value:function(e,t,n){if(this.init(),this._applyAnnotBoundary(t),e){var i=(0,T._)(e,Element)?e:e.get(0);this.ui.parentElement!==i&&i.appendChild(this.ui)}var r=!!this.shape&&this.shape.processing;this.shape=new Sg({left:t.left,top:t.top,right:t.left+t.width,bottom:t.top+t.height,box:n,expansion:this.expansion}),r&&this.shape.process(),this.originMargin=this.shape.marginBox,this._updatePreviewer(),this._resizeSizeBox(),this.updateRotateDegreeBox(this.rotateDegree),this.rotatingRod&&(this.rotatingRod.style.transform="rotate(".concat(this.rotateDegree,"deg)")),this.isActive=!0}},{key:"updateRotateDegreeBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;(e=parseInt(e))>180&&(e-=360),e*=-1,this.rotateDegreeBox&&(this.rotateDegreeBox.innerHTML=e+"°",this.rotateDegreeBox.style.transform="rotate(".concat(e,"deg)"))}},{key:"updateBoundary",value:function(e,t){Object.assign(this.shape.boundary,e),this._applyAnnotBoundary(this.shape.boundary),t&&this.updateBoundaryBox(t),this._updatePreviewer()}},{key:"setMargin",value:function(e){e&&this.shape&&this.shape.setMargin(e)}},{key:"updateBoundaryBox",value:function(e){this.shape.setBoundaryBox(e)}},{key:"getCurrentShape",value:function(){return this.shape.getShape()}},{key:"getAdjustingShape",value:function(){return this.shape.getAdjustShape()}},{key:"getAdjustedOffset",value:function(){var e=this.getAdjustedRectDiff();return{offsetLeft:e.left,offsetTop:e.top}}},{key:"getAdjustedRectDiff",value:function(){return Nh.subtract(this.shape.getAdjustRect(),this.shape.getRect())}},{key:"deactive",value:function(){this.ui.parentNode&&this.ui.parentNode.removeChild(this.ui),this.isActive=!1}},{key:"destroy",value:function(){(0,E._)((0,S._)(n.prototype),"destroy",this).call(this),this.disable(),this.ui.parentNode&&this.ui.parentNode.removeChild(this.ui)}},{key:"_applyAnnotBoundary",value:function(e){var t=e.left,n=e.top,i=e.width,r=e.height,o=this.expansion;this.ui.style.cssText+="\n            width: ".concat(i+(o.left+o.right),"px;\n            height: ").concat(r+(o.top+o.bottom),"px;\n            left: ").concat(t-o.left,"px;\n            top: ").concat(n-o.top,"px;\n            ")}},{key:"_bindRotateEvents",value:function(){var e=this,t=this.ui.querySelector(".fv-shape-rotate-handle"),n=new qr.Manager(t);n.add(new qr.Pan({direction:qr.DIRECTION_ALL}));n.on("panstart",(function(t){var n=t.center;!e.isDisabled&&e.isActive&&(e.onBeforeRotateStart(),e.isRotateStarted=!0,e.companions.forEach((function(e){return e.isRotateStarted=!0})),e.rotateStart(n.x,n.y))})),n.on("panend",(function(t){t.deltaX,t.deltaY;!e.isDisabled&&e.isRotateStarted&&(e.rotateEnd(),e.onAfterRotateEnd())})),n.on("pancancel",(function(e){Mg.debug("rotate c")})),n.on("panmove",(function(t){t.deltaX,t.deltaY;var n=t.center;!e.isDisabled&&e.isRotateStarted&&e.rotating(n.x,n.y)}))}},{key:"trigger",value:function(e,t){var n=this.emitter;n&&n.emit(e,t)}},{key:"setSnapGrid",value:function(e){this.snapGrid=e}},{key:"getSnapGrid",value:function(){return this.snapGrid}},{key:"getSnapMaxRect",value:function(e){if(!e)return e;var t=this.getSnapGrid();if(!t)return e;var n=e.left,i=e.right,r=e.top,o=e.bottom,a=t.offsetLeft,s=t.offsetTop,c=t.subLineWidth,u=t.subLineHeight,l=t.maxWidth,A=t.maxHeight,d=(n-a)%c,h=(r-s)%u;return d<0&&(d+=a),i+=Math.abs((i-a)%c-c)%c,h<0&&(h+=s),o+=Math.abs((o-s)%u-u)%u,{left:n-=d,right:i=Math.min(l,i),top:r-=h,bottom:o=Math.min(A,o)}}},{key:"getSnapRect",value:function(e){if(!e)return e;var t=this.getSnapGrid();if(!t)return e;var n=t.maxWidth,i=t.maxHeight,r=e.left,o=e.right,a=e.top,s=e.bottom;if(r<=0||a<=0||o>=n||s>=i)return e;var c=t.offsetLeft,u=t.offsetTop,l=t.subLineWidth,A=t.subLineHeight,d=(r-c)%l,h=Math.abs(d-l)%l,f=(o-c)%l,p=Math.abs(f-l)%l,v=(a-u)%A,g=Math.abs(v-A)%A,m=(s-u)%A,y=Math.abs(m-A)%A,_=Math.min(d,f),b=Math.min(h,p),w=Math.min(v,m),k=Math.min(g,y);return _<b?(r-=_,o-=_):(r+=b,o+=b),w<k?(a-=w,s-=w):(a+=k,s+=k),{left:r,right:o,top:a,bottom:s}}},{key:"getDirectionSnapRect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lastDirection;if(this.lastDirection=t,!e)return e;var n=this.getSnapGrid();if(!n)return e;var i=n.offsetLeft,r=n.offsetTop,o=n.subLineWidth,a=n.subLineHeight,s=n.maxWidth,c=n.maxHeight,u=e.left,l=e.right,A=e.top,d=e.bottom;if(u<=0||A<=0||l>=s||d>=c)return e.left=Math.max(0,u),e.right=Math.min(s,l),e.top=Math.max(0,A),e.bottom=Math.min(c,d),e;var h=(u-i)%o,f=Math.abs((l-i)%o-o)%o,p=(A-r)%a,v=Math.abs((d-r)%a-a)%a;switch(t){case fg:A-=p;break;case pg:d+=v;break;case vg:l+=f;break;case gg:u-=h;break;case mg:u-=h,A-=p;break;case yg:l+=f,A-=p;break;case _g:u-=h,d+=v;break;case bg:l+=f,d+=v;break;default:throw new Error("Incorrect direction: "+t)}return{left:u,right:l,top:A,bottom:d}}},{key:"getShapeFromRect",value:function(e){if(e){var t=e.left,n=e.top;return{left:t,top:n,width:e.right-t,height:e.bottom-n}}}},{key:"updateResizable",value:function(e){this.resizableWrap.style.visibility=e?"visible":"hidden"}},{key:"updateDeltaDataByDirection",value:function(e,t){var n=Eg.Horizontal,i=Eg.Vertical;Eg.All;switch(this.moveDirection){case n:return{offsetX:e,offsetY:0};case i:return{offsetX:0,offsetY:t};default:return{offsetX:e,offsetY:t}}}},{key:"isAllDirection",value:function(){return this.moveDirection===Eg.All}}],[{key:"ACTION_RESIZE",get:function(){return"resize"}},{key:"ACTION_MOVE",get:function(){return Tg}}]),n}(W.Disposable),Lg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ug;return{selector:arguments.length>1&&void 0!==arguments[1]?arguments[1]:".fv__pdf-page-annot-handler-rect",items:{copy:{name:"copy",nameI18nKey:"viewer_:contextmenu.annot.copy",callback:function(t,n,i){this.data(e).copyText()},visible:function(){var t=this.data(e);if(!t.annot.isArea())return!t.annot.isReplace||!t.annot.isReplace()}},reply:{name:"reply",nameI18nKey:"viewer_:contextmenu.annot.reply",callback:function(){this.data(e).showReplyDialog("reply")},disabled:function(){return this.data(e).replyDisabled()}},properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(t,n,i){this.data(e).showPropertiesDialog(t,n,i)}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(e).removeAnnot()},disabled:function(){return this.data(ug).deleteDisabled()}}},events:{show:function(){return this.data(ug).updateDeleteStatus(!0),!0},hide:function(){return this.data(ug).updateDeleteStatus(!1),!0}}}}(ug,".fv__pdf-page-annot-handler-rect"),Og=Ag()({direction:"left"}),jg=Ag()({direction:"right"}),Bg="px",Vg=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;if((0,C._)(this,n),(a=t.call(this,e,i,r,o)).name="textmarkup",a.$ui.addClass("fv__pdf-page-textmarkup-annot-container"),a.$handler.addClass("fv__pdf-page-textmarkup-annot-handler-container"),a.annot.isArea())a.createShapeControl();else{var s=function(e,t,n){n===en.flagsUpdated?a._updateStatus():n===en.quadPointsUpdated&&a.activeRect(e[0])},c=a.pdfViewer.getCustomOptionsUpdater();a.pdfViewer.eventEmitter.on(se.annotationUpdated,s),a.addDestroyHook((function(){a.pdfViewer.eventEmitter.off(se.annotationUpdated,s)})),a.addDestroyHook(c.onGetAnnotComponentConfigUpdated((function(){a._updateStatus()})))}return a}return(0,D._)(n,[{key:"redraw",value:function(e){var t=this;return this.getAppPermission().then((function(e){(e.ignorable()||e.isAdjustable())&&!t.moveDisabled()?t.boundaryEnabled():t.boundaryDisabled()})),(0,E._)((0,S._)(n.prototype),"redraw",this).call(this,e)}},{key:"createShapeControl",value:function(){var e=this;W.Lazy.property(this,"shapeControl",(function(){var t={moveable:!1,resizable:!0,enableDiagonally:!0},n=e.pdfViewer.customs.getAnnotComponentConfig(e,Object.keys(t)),i={start:function(){return e.onStartUpdateShape()},update:function(t,n){return e.onShapeUpdating(t,n)},moving:function(t,n){return e.onShapeMoving(t,n)},end:function(t,n,i){return e.onShapeUpdateEnd(t,n,i)},auxiliaryLine:void 0};e.annot.isReplace()&&(i.moveable=!1),e.annot.isArea()&&(i.emitter=e.pdfViewer.eventEmitter,i=Object.assign(t,n,i));var r=new Ng(i);return e.processShapeControlPermissionCtrl(r),e.addDestroyHook((function(){r.destroy()})),r}))}},{key:"_applyShapeChange",value:function(){var e=this._getShapeControllerBoundaryBox();this.annot.isArea()&&!this.shapeControl&&this.createShapeControl(),this.shapeControl.active(this.$handler,this.getBoundary(),e)}},{key:"active",value:function(){(0,E._)((0,S._)(n.prototype),"active",this).call(this);this.annot.isArea();this.$rect&&(this.$rect.remove(),this.$rect=null),this._updateStatus()}},{key:"_updateStatus",value:function(){var e=this;this.getAppPermission().then((function(t){var n=!0;if(n=(t.ignorable()||t.isAdjustable())&&!e.moveDisabled(),e.annot.isArea())e.activeRect(),e.$rect.addClass("active"),e._applyShapeChange(),e.boundaryRemove(),e.pdfViewer.currentPDFDoc.readonly().then((function(t){t&&(n=!1),n?e.shapeControl.enable():e.shapeControl.disable()}));else{var i=!0;if(n){var r={adjustable:!0},o=(0,w._)({},r,e.pdfViewer.customs.getAnnotComponentConfig(e,Object.keys(r)));i=!o.adjustable}e.activeTextBoundary(),e.pdfViewer.currentPDFDoc.readonly().then((function(t){t&&(i=!0),i?e.boundaryDisabled():e.boundaryEnabled()}))}}))}},{key:"updateSize",value:function(e,t){(0,E._)((0,S._)(n.prototype),"updateSize",this).call(this,e,t),this.isActive&&(this.annot.isArea()?(this.activeRect(),this._applyShapeChange()):this.activeTextBoundary())}},{key:"unActive",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"unActive",this).call(this),this.annot.isArea()&&this.$rect&&this.$rect.removeClass("active"),this.annot.isGrouped()&&this.annot.groupElements.map((function(t){var n=e.pdfViewer.getAnnotRender(t.getPDFPage().getIndex(),t.getId()),i=n&&n.component;i&&i.isActive&&i.unActive&&i.unActive(),i&&i.deactive&&i.deactive()}))}},{key:"afterRender",value:function(e){var t=e.transformed;(this.$ui.find("canvas").css({width:"",height:""}),t&&this.isActive)&&(this.annot.isArea()?(this.activeRect(),this._applyShapeChange()):this.activeTextBoundary())}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,R._)((0,G.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2);return{left:0,top:0,right:t[0],bottom:t[1]}}},{key:"createRectDom",value:function(){return this.annot.isArea()?(!this.shapeControl&&this.createShapeControl(),this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui):(0,E._)((0,S._)(n.prototype),"createRectDom",this).call(this)}},{key:"copyText",value:function(){var e=this,t=this.annot.getContinuousText();return(0,W.copyText)(t).then((function(n){return n?e.pdfViewer.eventEmitter.emit(se.copyTextSuccess,t):e.pdfViewer.eventEmitter.emit(se.copyTextFailed,t),n}))}},{key:"getBoundaryCss_",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.getCharQuadPoints_(e),i=this.getCssTransform_(e),r=(0,G.F2)(this.getQuadPointsHeight_(n))*this.scale,o=this.getPDFPage(),a=this.scale,s=this.rotate,c=o.getDeviceMatrix(s);c.scale(a,a);var u=[Math.min,Math.max][t](n[0].x,n[1].x,n[2].x,n[3].x),l=[Math.max,Math.min][t](n[0].y,n[1].y,n[2].y,n[3].y),A=c.transformPoint(u,l);return{transform:i,height:r,left:A[0],top:A[1]}}},{key:"getCssTransform_",value:function(e){return"rotate("+(90*(e.rotation+this.annot.getPDFPage().getRotation())+this.rotate)+"deg)"}},{key:"getCharQuadPoints_",value:function(e){return(0,this.annot.engine.getUtils().getQuadPointsFromRect)(e,e.rotation)}},{key:"getQuadPointsHeight_",value:function(e){return Math.sqrt(Math.pow(e[2].x-e[0].x,2)+Math.pow(e[2].y-e[0].y,2))}},{key:"getTextBoundaryInfo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0,i=0,r=this.getBoundaryCss_(e,t);return 1!=e.rotation&&3!=e.rotation||(0==this.rotate?(n=r.height,i=0):90==this.rotate?(n=0,i=r.height):180==this.rotate?(n=-r.height,i=0):270==this.rotate&&(n=0,i=-r.height)),{boundaryCss:r,leftOffset:n,topOffset:i}}},{key:"updateLeftTextBoundaryPosition",value:function(e,t){var n=this.getTextBoundaryInfo(e),i=n.boundaryCss,r=n.leftOffset,o=n.topOffset,a={height:i.height+Bg,transform:i.transform,top:i.top+o+Bg,left:i.left+r+Bg};return t.css(a),{leftCss:i,leftBoundaryCSS:a}}},{key:"updateRightTextBoundaryPosition",value:function(e,t){var n=this.getTextBoundaryInfo(e,1),i=n.boundaryCss,r=n.leftOffset,o=n.topOffset,a={height:i.height+Bg,transform:i.transform,top:i.top-o-i.height+Bg,left:i.left-r+Bg};return t.css(a),{rightCss:i,rightBoundaryCSS:a}}},{key:"activeTextBoundary",value:function(){var e=this,t=this.annot,n=t.getStartCharInfo(),i=t.getEndCharInfo();if(n&&i){var r=this.$leftTextBoundary=this.$leftTextBoundary||this.leftTextBoundaryInit(),o=this.$rightTextBoundary=this.$rightTextBoundary||this.rightTextBoundaryInit();this.updateLeftTextBoundaryPosition(n,r),this.updateRightTextBoundaryPosition(i,o)}this.activeRect(t),this.$rect.on("click.unactive",(function(t){e.isActive&&t.originalEvent.isTrusted&&0===t.button&&!t.shiftKey&&t.ctrlKey&&e.unActive()}))}},{key:"leftTextBoundaryInit",value:function(){var e,t,n,i,r=this,o=this.$handler,a=j()(Og),s=a[0],c=new(Kr())(s);c.get("pan").set({direction:Kr().DIRECTION_ALL});var u=function(){t&&a.css({left:t.left+Bg,top:t.top+Bg,height:t.height+Bg,transform:t.transform})};return c.on("panstart",(function(o){!1!==r.onLeftPanStart(o)&&(n=r.scale,i=r.rotate,e={left:parseFloat(a.css("left")),top:parseFloat(a.css("top")),height:parseFloat(a.css("height")),transform:a.css("transform")},t=e,r.textBoundaryStart())})),c.on("panmove",(function(o){if(!1!==r.onLeftPanMove(o)){var s=o.deltaX,c=o.deltaY;if(r.pdfViewer.config.highPerformance){var l=e.height;c+=l/2;var A=r.getPDFPage().reverseDevicePoint([e.left+s,e.top+c],n,i),d=r.annot,h=r.editDebouncePromise=r.editDebouncePromise||new ue;h.push((function(){return r.getPDFPage().getCharInfoAtPoint(A,l/2/(0,G.F2)(n),!0).then((function(e){if(!e)return u(),[!1];var t=e.charIndex,n=d.getEndCharIndex();return t>n?(u(),Promise.resolve([!1])):Promise.all([d.updateQuadPointsByCharIndex(t,n),e])})).then((function(e){var n=(0,R._)(e,2),i=n[0],o=n[1];if(i){var s=r.updateLeftTextBoundaryPosition(o,a).leftCss;return s&&(t=s),r.updateRender().then((function(){return r.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,r),r.onLeftChangeSuccess(o)}))}u()}),(function(){u()}))})),h.exec()}else a.css({left:t.left+s+Bg,top:t.top+c+Bg})}})),c.on("panend",(function(t){if(!1!==r.onLeftPanEnd(t)){var o=t.deltaX,s=t.deltaY,c=e.height;s+=c/2;var l=r.getPDFPage().reverseDevicePoint([e.left+o,e.top+s],n,i),A=r.annot,d=r.editDebouncePromise=r.editDebouncePromise||new ue;d.push((function(){return r.getPDFPage().getCharInfoAtPoint(l,c/2/(0,G.F2)(n),!0).then((function(e){if(!e)return u(),[!1];var t=e.charIndex,n=A.getEndCharIndex();if(t>n)return Promise.resolve([!1]);r.updateLeftTextBoundaryPosition(e,a).leftCss;return Promise.all([A.updateQuadPointsByCharIndex(t,n),e])})).then((function(e){var t=(0,R._)(e,2),n=t[0],i=t[1];if(n)return r.updateRender().then((function(){return r.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,r),r.textBoundaryEnd(),r.onLeftChangeSuccess(i)}));u()}),(function(){u()}))})),d.exec()}})),this.leftHammer=c,o.append(a),this.addDestroyHook((function(){c.destroy()})),a}},{key:"rightTextBoundaryInit",value:function(){var e,t,n,i,r,o=this,a=this.$handler,s=j()(jg),c=s[0],u=new(Kr())(c);u.get("pan").set({direction:Kr().DIRECTION_ALL});var l=function(){n&&s.css({left:n.left+Bg,top:n.top-t.height+Bg,height:n.height+Bg,transform:t.transform})};return u.on("panstart",(function(t){!1!==o.onRightPanStart(t)&&(i=o.scale,r=o.rotate,e={left:parseFloat(s.css("left")),top:parseFloat(s.css("top")),height:parseFloat(s.css("height")),transform:s.css("transform")},n=e,o.textBoundaryStart())})),u.on("panmove",(function(t){if(!1!==o.onRightPanMove(t)){var a=t.deltaX,c=t.deltaY;if(o.pdfViewer.config.highPerformance)s.css({left:n.left+a+Bg,top:n.top+c+Bg});else{var u=e.height;c+=u/2;var A=o.getPDFPage().reverseDevicePoint([e.left+a,e.top+u+c],i,r),d=o.annot,h=o.editDebouncePromise=o.editDebouncePromise||new ue;h.push((function(){return o.getPDFPage().getCharInfoAtPoint(A,u/2/(0,G.F2)(i),!0).then((function(e){if(!e)return l(),[!1];var t=d.getStartCharIndex(),n=e.charIndex;if(t>n)return l(),Promise.resolve([!1]);o.updateRightTextBoundaryPosition(e,s).rightCss;return Promise.all([d.updateQuadPointsByCharIndex(t,n),e])})).then((function(e){var t=(0,R._)(e,2),n=t[0],i=t[1];if(n)return o.updateRender().then((function(){return o.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,o),o.onRightChangeSuccess(i)}));l()}),(function(){l()}))})),h.exec()}}})),u.on("panend",(function(t){if(!1!==o.onRightPanEnd(t)){var n=t.deltaX,a=t.deltaY,c=e.height;a-=c/2;var u=o.getPDFPage().reverseDevicePoint([e.left+n,e.top+c+a],i,r),A=o.annot,d=o.editDebouncePromise=o.editDebouncePromise||new ue;d.push((function(){return o.getPDFPage().getCharInfoAtPoint(u,c/2/(0,G.F2)(i),!0).then((function(e){if(!e)return o.textBoundaryEnd(),l(),[!1];var t=A.getStartCharIndex(),n=e.charIndex;if(t>n)return l(),Promise.resolve([!1]);o.updateRightTextBoundaryPosition(e,s).rightCss;return Promise.all([A.updateQuadPointsByCharIndex(t,n),e])})).then((function(e){var t=(0,R._)(e,2),n=t[0],i=t[1];if(n)return o.updateRender().then((function(){return o.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,o),o.textBoundaryEnd(),o.onRightChangeSuccess(i)}));l()}),(function(){l()}))})),d.exec()}})),this.rightHammer=u,a.append(s),this.addDestroyHook((function(){u.destroy()})),s}},{key:"textBoundaryStart",value:function(){}},{key:"textBoundaryEnd",value:function(){}},{key:"boundaryDisabled",value:function(){this.toggleBoundary(!1)}},{key:"boundaryEnabled",value:function(){this.toggleBoundary(!0)}},{key:"toggleBoundary",value:function(e){this.$leftTextBoundary&&(this.$leftTextBoundary.toggleClass("ban",!e),this.$rightTextBoundary.toggleClass("ban",!e),this.leftHammer.get("pan").set({enable:e}),this.rightHammer.get("pan").set({enable:e}))}},{key:"onStartUpdateShape",value:function(){this.pdfViewer.config.highPerformance&&this.annot.isArea()&&(this.editAreaDebouncePromise=new W.DebounceAsyncTaskExecutor(10))}},{key:"onShapeUpdating",value:function(e,t){var n=this;this.updateCollabOp(e),this.pdfViewer.config.highPerformance&&this.annot.isArea()&&this.editAreaDebouncePromise.exec((function(){return n.setRect(e)}))}},{key:"onShapeMoving",value:function(e,t){this.updateCollabOp(e)}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this;return this.editAreaDebouncePromise?this.editAreaDebouncePromise.waitForLastTask().then((function(){return i.setRect(e).then((function(e){"move"==n&&i.pdfViewer.eventEmitter.emit(se.annotationMovedPosition,[i.annot],i.getPDFPage(),i.annot)}))})):this.setRect(e).then((function(e){"move"==n&&i.pdfViewer.eventEmitter.emit(se.annotationMovedPosition,[i.annot],i.getPDFPage(),i.annot)}))}},{key:"onLeftPanStart",value:function(e){}},{key:"onLeftPanMove",value:function(e){}},{key:"onLeftChangeSuccess",value:function(){this.updateCollabOp()}},{key:"onLeftPanEnd",value:function(e){}},{key:"onRightPanStart",value:function(e){}},{key:"onRightPanMove",value:function(e){}},{key:"updateCollabOp",value:function(e){}},{key:"onRightChangeSuccess",value:function(){return this.updateCollabOp(),Promise.resolve()}},{key:"onRightPanEnd",value:function(e){}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=(0,E._)((0,S._)(n.prototype),"getRenderingData",this).call(this,e,t);return Object.assign(i,{quadPoints:this.annot.getQuadPoints()})}},{key:"boundaryRemove",value:function(){this.$leftTextBoundary&&(this.$leftTextBoundary.remove(),this.$leftTextBoundary=null,this.leftHammer.destroy(),this.leftHammer=null),this.$rightTextBoundary&&(this.$rightTextBoundary.remove(),this.$rightTextBoundary=null,this.rightHammer.destroy(),this.rightHammer=null)}}],[{key:"getDefaultContextMenuConfig",value:function(){return Lg}}]),n}(og);const Ug=Vg;var Hg=function(){function e(t){(0,C._)(this,e),this.component=t,this.prepared=!1}return(0,D._)(e,[{key:"prepare",value:function(){this.prepared||(this.prepared=!0,this.doPrepare())}},{key:"doPrepare",value:function(){}},{key:"show",value:function(){this.prepared&&this.doShow()}},{key:"doShow",value:function(){}},{key:"hide",value:function(){this.prepared&&this.doHide()}},{key:"doHide",value:function(){}},{key:"destroy",value:function(){this.component=null,this.prepared=!1}},{key:"willRender",value:function(){}},{key:"afterRender",value:function(){}},{key:"render",value:function(e,t,n){return this.prepared||this.prepare(),this.doRender(e,t,n)}},{key:"doRender",value:function(e,t){return Promise.resolve()}},{key:"numberToRGBAString",value:function(e){var t=(0,W.convertFromNumberToRGBA)(e);return"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(t.a,")")}},{key:"invisibleRender",value:function(){}}]),e}(),zg=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){return(0,C._)(this,n),t.call(this,e)}return(0,D._)(n,[{key:"prepare",value:function(){this.prepared||(this.canvas=document.createElement("canvas"),this.container=this.component.getContainerElement(),this.container.appendChild(this.canvas),(0,E._)((0,S._)(n.prototype),"prepare",this).call(this))}},{key:"destroy",value:function(){(0,E._)((0,S._)(n.prototype),"destroy",this).call(this),this.prepared&&this.canvas.remove()}},{key:"doShow",value:function(){this.canvas.classList.remove("fv__ui-hide")}},{key:"doHide",value:function(){this.canvas.classList.add("fv__ui-hide")}},{key:"convertPointToPixel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Fi.convertTo(e,Hi)*t}},{key:"willRender",value:function(){this.canvas.style.willChange="left, top, width, height",this.container.style.willChange="left; top"}},{key:"afterRender",value:function(){this.canvas.style.willChange="auto",this.container.style.willChange="auto"}},{key:"render",value:function(e,t){this.prepared||this.prepare();var n=this.component.getRenderingData(e,t);if(!n)return Promise.resolve();var i=n.annotInfo,r=i.borderInfo||{},o=this.convertPointToPixel(r.width,e),a=n.smartScale;!n.annotFlag.checkNoZoom()||(e=1);var s=n.rect,c=n.outerDeviceRect,u=n.innerDeviceRect;Object.assign(u,{width:u.right-u.left,height:u.bottom-u.top}),Object.assign(c,{width:c.right-c.left,height:c.bottom-c.top}),this.resetCanvasSize(c.width,c.height),this.container.style.cssText+="\n            left: ".concat(s.left,"px;\n            top: ").concat(s.top,"px;\n        ");var l=this.canvas.style;if(0===o&&0===i.borderColor&&!i.fillColor)return l.visibility="hidden",Promise.resolve();if(0===i.opacity)return l.visibility="hidden",Promise.resolve();l.visibility="unset";try{return Promise.resolve(this.doRender({outerRect:c,innerRect:u,deviceRect:s,scale:e,smartScale:a,rotate:t,renderingData:n}))}catch(e){return console.error(e),Promise.resolve()}}},{key:"doRender",value:function(e){e.outerRect,e.innerRect,e.deviceRect,e.scale,e.rotate}},{key:"resetCanvasSize",value:function(e,t){this.canvas.width=Math.ceil(e),this.canvas.height=Math.ceil(t),this.canvas.style.width=null,this.canvas.style.height=null}},{key:"invisibleRender",value:function(){this.canvas&&(this.canvas.width=0)}}]),n}(Hg),Wg=(function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this,e)).lastRenderPromise=Promise.resolve(),i.lastX=0,i.lastY=0,i}(0,D._)(n,[{key:"resetCanvasSize",value:function(){}},{key:"closeTo",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-4;return Math.abs(e-t)<n}},{key:"render",value:function(e,t){var i=this;this.prepared||this.prepare();var r=this.component,o=r.getRenderingData(e,t),a=(o.page,this.canvas.getContext("2d",{willReadFrequently:!0}));if(this.component.needToggleView&&this.component.needToggleView()&&!this.component.shouldRenderByMouseEvent()){var s=this.canvas.getContext("2d");return s.clearRect(0,0,this.canvas.width,this.canvas.height),void s.save()}var c=(0,R._)(o.tileConfig,10),u=(c[0],c[1],c[2],c[3],c[4],c[5]),l=(c[6],c[7],c[8]),A=c[9],d=(o.rect,o.engineRenderingRect),h=o.outerDeviceRect,f=h.right-h.left,p=h.bottom-h.top,v=d.right-d.left,g=d.bottom-d.top;if((!this.closeTo(d.left,this.lastX)||!this.closeTo(d.top,this.lastY))&&this.canvas.width){var m=d.left-this.lastX,y=d.top-this.lastY,_=a.getImageData(0,0,this.canvas.width,this.canvas.height);(0,E._)((0,S._)(n.prototype),"resetCanvasSize",this).call(this,v,g),this.canvas.style.cssText+="width: ".concat(f,"px;height: ").concat(p,"px;"),this.container.style.cssText+="\n                left: ".concat(h.left,"px;\n                top: ").concat(h.top,"px;\n            "),a.putImageData(_,-m,-y)}return this.lastX=d.left,this.lastY=d.top,r.getPDFPage().getPageAndHighlightBitmap((0,G.F2)(u),t,{x:Math.ceil(l*u),y:Math.ceil(A*u),width:v,height:g}).then((function(e){var t=e.buffer,r=e.width,o=e.height,s=e.image;if(s){var c=new Image;c.onload=function(){a.drawImage(c,0,0,r,o),URL.revokeObjectURL(c.src)},c.src=URL.createObjectURL(s)}else{var u=new(Uint8ClampedArray||Uint8Array)(t),l=a.createImageData(r,o);l.data.set(u),(0,E._)((0,S._)(n.prototype),"resetCanvasSize",i).call(i,r,o),i.container.style.cssText+="\n                    left: ".concat(h.left,"px;\n                    top: ").concat(h.top,"px;\n                "),i.canvas.style.cssText+="width: ".concat(f,"px;height: ").concat(p,"px;"),a.putImageData(l,0,0)}}))}}])}(zg),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"convertToCanvasBasedPoint",value:function(e,t,n,i,r,o){var a=(0,R._)(r.getDevicePoint([e,t],i,o),2),s=a[0],c=a[1];return{x:s-n.left,y:c-n.top}}},{key:"doRender",value:function(e){var t=this,n=e.scale,i=e.renderingData,r=e.rotate,o=i.page,a=i.annotInfo,s=a.startCharInfo,c=a.endCharInfo,u=i.quadPoints,l=i.outerDeviceRect;if(!s){var A=u[0];s={left:A[0].x,top:A[0].y,right:A[1].x,bottom:A[2].y}}if(!c){var d=u[u.length-1];c={left:d[0].x,top:d[0].y,right:d[1].x,bottom:d[2].y}}var h=u.map((function(e,i){var a,s,c,u,A=e.map((function(e){return t.convertToCanvasBasedPoint(e.x,e.y,l,n,o,r)})),d=A.map((function(e){return e.x})),h=A.map((function(e){return e.y})),f=(a=Math).min.apply(a,(0,M._)(d)),p=(s=Math).max.apply(s,(0,M._)(d)),v=(c=Math).max.apply(c,(0,M._)(h)),g=(u=Math).min.apply(u,(0,M._)(h));return{left:f,right:p,bottom:v,top:g,width:p-f,height:v-g,textBlockHeight:v-g}}));e.quadRects=h}}]),n}(zg)),Gg=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this,e)).lastX=0,i.lastY=0,i}return(0,D._)(n,[{key:"prepare",value:function(){(0,E._)((0,S._)(n.prototype),"prepare",this).call(this),W.isChrome||W.isFirefox||W.isSafari||W.isChromiumEdge||(this.canvas.style.cssText+='\n            -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n            -ms-filter: alpha(opacity=50);\n            filter: alpha(opacity=50);\n            -moz-opacity: 0.5;\n            -khtml-opacity: 0.5;\n            opacity: 0.5;\n        ')}},{key:"doRender",value:function(e){e.smartScale,e.scale,this.component;var t=e.renderingData,i=t.annotInfo;if(this.component.needToggleView&&this.component.needToggleView()&&!this.component.shouldRenderByMouseEvent()){var r=this.canvas.getContext("2d");return r.clearRect(0,0,this.canvas.width,this.canvas.height),void r.save()}if(0!=i.hasBorderColor){var o=this.canvas.getContext("2d"),a=t.outerDeviceRect,s=a.right-a.left,c=a.bottom-a.top;if(this.container.style.cssText+="\n                left: ".concat(a.left,"px;\n                top: ").concat(a.top,"px;\n            "),this.canvas.style.cssText+="width: ".concat(s,"px;height: ").concat(c,"px;"),o.save(),o.fillStyle=this.numberToRGBAString(i.color),o.globalAlpha=t.opacity,t.isArea)o.fillRect(0,0,this.canvas.width,this.canvas.height);else(0,E._)((0,S._)(n.prototype),"doRender",this).call(this,e),e.quadRects.forEach((function(e){o.fillRect(e.left,e.top,e.width,e.textBlockHeight)}));o.restore()}}}]),n}(Wg),Yg=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;return(0,C._)(this,n),(a=t.call(this,e,i,r,o)).name="highlight",a.$ui.addClass("fv__pdf-page-highlight-annot-container"),a.$handler.addClass("fv__pdf-page-highlight-annot-handler-container"),a}return(0,D._)(n,[{key:"onShapeUpdating",value:function(e){if(this.checkRenderingModeIs("canvas"))return(0,E._)((0,S._)(n.prototype),"onShapeUpdating",this).call(this,e)}},{key:"onShapeMoving",value:function(e){if(this.checkRenderingModeIs("canvas"))return(0,E._)((0,S._)(n.prototype),"onShapeMoving",this).call(this,e)}},{key:"updateRender",value:function(){return this.redraw()}},{key:"checkRenderingModeIs",value:function(e){return this.pdfViewer.config.annotRenderingMode.highlight===e}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=(0,E._)((0,S._)(n.prototype),"getRenderingData",this).call(this,e,t);return Object.assign(i,{isArea:this.annot.isArea()})}}]),n}(Ug);const $g=Yg;!function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}(0,D._)(n,[{key:"doRender",value:function(e){var t=this;(0,E._)((0,S._)(n.prototype),"doRender",this).call(this,e);var i=e.renderingData,r=i.annotInfo,o=i.rotate,a=e.quadRects,s=this.canvas.getContext("2d");s.clearRect(0,0,this.canvas.width,this.canvas.height),s.save(),this.component.needToggleView&&this.component.needToggleView()&&!this.component.shouldRenderByMouseEvent()||(s.globalAlpha=r.opacity,a.forEach((function(e){s.beginPath();var n=90==o||270==o?.12568*e.width:.12568*e.height;0===n||!1===r.hasBorderColor?s.strokeStyle="transparent":s.strokeStyle=t.numberToRGBAString(r.color),s.lineWidth=Math.max(1,n);var i=e.left,a=e.right,c=e.top+e.textBlockHeight/2;switch(o){case 90:s.moveTo(a-e.width/2,0),s.lineTo(a-e.width/2,e.textBlockHeight);break;case 180:s.moveTo(e.right,e.top+e.height/2),s.lineTo(e.left,e.top+e.height/2);break;case 270:s.moveTo(a-e.width/2,e.bottom),s.lineTo(a-e.width/2,e.bottom-e.textBlockHeight);break;default:s.moveTo(i,c),s.lineTo(a,c)}s.stroke()})),s.restore())}}])}(Wg);var Jg=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;return(0,C._)(this,n),(a=t.call(this,e,i,r,o)).name="strikeout",a.$ui.addClass("fv__pdf-page-strikeout-annot-container"),a.$handler.addClass("fv__pdf-page-strikeout-annot-handler-container"),a}return(0,D._)(n,[{key:"updateRender",value:function(){var e=this.annot,t=[],n=[],i=this.parent("annotsRender");if(e.isGrouped())for(var r=e.getGroupElements(),o=r.length;o--;){var a=r[o];n[o]=i.getAnnotRender(a.getId()).component,t[o]=a.update()}else n=[this],t=[e.update()];return Promise.all(t).then((function(){for(var e=[],t=n.length;t--;)e[t]=n[t].render();return Promise.all(e)}))}},{key:"checkRenderingModeIs",value:function(e){return this.pdfViewer.config.annotRenderingMode.strikeout===e}}]),n}(Ug);const qg=Jg;!function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}(0,D._)(n,[{key:"doRender",value:function(e){(0,E._)((0,S._)(n.prototype),"doRender",this).call(this,e);var t=e.renderingData,i=t.annotInfo,r=t.rotate,o=e.quadRects,a=this.canvas.getContext("2d");(a.clearRect(0,0,this.canvas.width,this.canvas.height),a.save(),this.component.needToggleView&&this.component.needToggleView()&&!this.component.shouldRenderByMouseEvent())||(a.globalAlpha=i.opacity,0===Math.max(1,.12568*o[0].height)||!1===i.hasBorderColor?a.strokeStyle="transparent":a.strokeStyle=this.numberToRGBAString(i.color),o.forEach((function(e){a.beginPath();var t=e.left,n=e.right,i=90==r||270==r?.22568*o[0].width:.12568*o[0].height,s=e.top+e.textBlockHeight-i/2;switch(r){case 90:a.moveTo(t+i/2,e.bottom),a.lineTo(t+i/2,e.top);break;case 180:a.moveTo(e.right,e.top+i/2),a.lineTo(e.left,e.top+i/2);break;case 270:a.moveTo(n,e.bottom),a.lineTo(n,e.bottom-e.textBlockHeight);break;default:a.moveTo(t,s),a.lineTo(n,s)}a.lineWidth=i,a.stroke()})),a.restore())}}])}(Wg);var Kg=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;return(0,C._)(this,n),(a=t.call(this,e,i,r,o)).name="Underline",a.$ui.addClass("fv__pdf-page-Underline-annot-container"),a.$handler.addClass("fv__pdf-page-Underline-annot-handler-container"),a}return(0,D._)(n,[{key:"checkRenderingModeIs",value:function(e){return this.pdfViewer.config.annotRenderingMode.underline===e}}]),n}(Ug);const Zg=Kg;!function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}(0,D._)(n,[{key:"doRender",value:function(e){(0,E._)((0,S._)(n.prototype),"doRender",this).call(this,e);var t=this.component.annot.info,i=e.renderingData.page.getRotationAngle(),r=e.renderingData.rotate+i,o=e.quadRects,a=this.canvas.getContext("2d");if(a.clearRect(0,0,this.canvas.width,this.canvas.height),a.save(),!this.component.needToggleView||!this.component.needToggleView()||this.component.shouldRenderByMouseEvent()){a.globalAlpha=t.opacity;var s=this.numberToRGBAString(t.color);o.forEach((function(e){var n=r;switch(r){case 0:case 180:2*e.width<e.height&&(n+=90);break;case 90:case 270:2*e.height<e.width&&(n+=90)}var i=90==(n%=360)||270==n?o[0].width:o[0].height;0===i||!1===t.hasBorderColor?a.strokeStyle="transparent":a.strokeStyle=s,a.lineWidth=Math.max(1,.12568*i),a.beginPath();var c=0,u=0,l=0,A=0;switch(n){case 90:c=.2504*e.width,u=Math.ceil(e.height/c),l=e.right-c,A=e.right,a.moveTo(e.left,e.bottom);for(var d=1;d<=u;d++){var h=d%2==0?0:c;a.lineTo(e.left+h,e.bottom-d*c)}break;case 180:c=.2504*e.height,u=Math.ceil(e.width/c),l=e.bottom-c,A=e.bottom,a.moveTo(e.left,e.top);for(var f=1;f<=u;f++){var p=f%2==0?0:c;a.lineTo(e.left+f*c,e.top+p)}break;case 270:c=.2504*e.width,u=Math.ceil(e.height/c),l=e.right-c,A=e.right,a.moveTo(e.right,e.bottom);for(var v=1;v<=u;v++){var g=v%2==0?0:c,m=e.bottom-v*c;m=m<=0?0:m,a.lineTo(e.right-g,m)}break;default:c=.2504*e.height,u=Math.ceil(e.width/c),l=e.bottom-c,A=e.bottom,a.moveTo(e.left,l);for(var y=1;y<=u;y++)a.lineTo(e.left+y*c,y%2==0?l:A)}a.stroke()})),a.restore()}}}])}(Wg);var Xg=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;return(0,C._)(this,n),(a=t.call(this,e,i,r,o)).name="strikeout",a.$ui.addClass("fv__pdf-page-squiggly-annot-container"),a.$handler.addClass("fv__pdf-page-squiggly-annot-handler-container"),a}return(0,D._)(n,[{key:"checkRenderingModeIs",value:function(e){return this.pdfViewer.config.annotRenderingMode.squiggly===e}}]),n}(Ug);const Qg=Xg;var em,tm=n(1160),nm=n.n(tm),im=function(){function e(t,n){(0,C._)(this,e),this.x=t,this.y=n}return(0,D._)(e,[{key:"add",value:function(t,n){return new e(this.x+t,this.y+n)}},{key:"addp",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"subtractp",value:function(t){return new e(this.x-t.x,this.y-t.y)}},{key:"subtract",value:function(t,n){return new e(this.x-t,this.y-n)}},{key:"move",value:function(t,n){var i=n.x-this.x,r=n.y-this.y,o=t/Math.sqrt(i*i+r*r);return new e(this.x+i*o,this.y+r*o)}},{key:"rotate",value:function(t,n){var i=this.x-n.x,r=this.y-n.y,o=Math.sqrt(i*i+r*r),a=Math.atan2(r,i)-t,s=o*Math.cos(a),c=o*Math.sin(a);return new e(n.x+s,n.y+c)}},{key:"distanceTo",value:function(e){var t=e.x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)}},{key:"slope",value:function(e){var t=this._dot(e);return Math.acos(t/(this._disp()*e._disp()))}},{key:"_dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"_disp",value:function(){return Math.sqrt(this._dot(this))}},{key:"equalTo",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return n=Math.abs(n),(0,T._)(t,e)&&Math.abs(this.x-t.x)<=n&&Math.abs(this.y-t.y)<=n}},{key:"clone",value:function(){return new e(this.x,this.y)}}]),e}(),rm=4.396,om=function(){function e(t){(0,C._)(this,e),this.component=t}return(0,D._)(e,[{key:"numberToRGBAString",value:function(e){if("string"==typeof e)return e;var t=(0,W.convertFromNumberToRGBA)(e);return"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(t.a,")")}},{key:"renderLineEnd",value:function(e,t,n,i,r,o){if(0!==i){var a=n.renderingData,s=a.fillColor;"line"===a.annotInfo.type&&(s=a.annotInfo.styleFillColor);var c=n.scale,u=Math.atan2(o.y-r.y,o.x-r.x);switch(e.save(),e.lineJoin="miter",e.beginPath(),i){case ge.Square:this.renderSquareEnding(e,o,u,c,t);break;case ge.Circle:this.renderCircleEnding(e,o,u,c,t);break;case ge.Diamond:this.renderDiamondEnding(e,o,u,c,t);break;case ge.OpenArrow:o=o.move(t/2,r),this.renderOpenArrowEnding(e,o,u,c,t);break;case ge.ClosedArrow:o=o.move(t/2,r),this.renderClosedArrowEnding(e,o,u,c,t);break;case ge.Butt:this.renderButtEnding(e,o,u,c,t);break;case ge.ROpenArrow:this.renderROpenArrowEnding(e,o,u,c,t);break;case ge.RClosedArrow:this.renderRClosedArrowEnding(e,o,u,c,t);break;case ge.Slash:this.renderSlashEnding(e,o,u,c,t)}switch(i){case ge.ClosedArrow:case ge.RClosedArrow:case ge.Diamond:case ge.Square:case ge.Circle:s&&(e.fillStyle=this.numberToRGBAString(s),e.fill())}e.stroke(),e.restore()}}},{key:"renderSquareEnding",value:function(e,t,n,i,r){var o=rm*i+3.1*r,a=o/2;e.translate(t.x,t.y),e.rotate(n),e.moveTo(-a,-a),e.rect(-a,-a,o,o)}},{key:"renderCircleEnding",value:function(e,t,n,i,r){var o=1.75862*i+2*r;e.translate(t.x,t.y),e.rotate(n),e.moveTo(o,0),e.arc(0,0,o,0,2*Math.PI)}},{key:"renderDiamondEnding",value:function(e,t,n,i,r){var o=rm*i+3.1*r,a=o/2;e.translate(t.x,t.y),e.rotate(n+Math.PI/4),e.moveTo(-a,-a),e.rect(-a,-a,o,o)}},{key:"renderOpenArrowEnding",value:function(e,t,n,i,r){var o=30/180*Math.PI;this.renderArrow(e,t,n,i,r,o,!1)}},{key:"renderClosedArrowEnding",value:function(e,t,n,i,r){var o=30/180*Math.PI;this.renderArrow(e,t,n,i,r,o,!0)}},{key:"renderButtEnding",value:function(e,t,n,i,r){var o=Math.PI/2,a=rm*i+3.1*r,s=new im(t.x+a/2,t.y).rotate(Math.PI-n+o,t),c=s.rotate(Math.PI,t);e.moveTo(s.x,s.y),e.lineTo(c.x,c.y)}},{key:"renderROpenArrowEnding",value:function(e,t,n,i,r){var o=150/180*Math.PI;this.renderArrow(e,t,n,i,r,o,!1)}},{key:"renderRClosedArrowEnding",value:function(e,t,n,i,r){var o=150/180*Math.PI;this.renderArrow(e,t,n,i,r,o,!0)}},{key:"renderArrow",value:function(e,t,n,i,r,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=rm*i+3.1*r,c=new im(t.x+s,t.y),u=c.rotate(Math.PI-n+o,t),l=c.rotate(Math.PI-n-o,t);e.moveTo(u.x,u.y),e.lineTo(t.x,t.y),e.lineTo(l.x,l.y),a&&e.closePath()}},{key:"renderSlashEnding",value:function(e,t,n,i,r){var o=60/180*Math.PI,a=rm*i+3.1*r,s=new im(t.x+a/2,t.y).rotate(Math.PI-n+o,t),c=s.rotate(Math.PI,t);e.moveTo(s.x,s.y),e.lineTo(c.x,c.y)}}]),e}(),am=function(e){var t=e.getIoC().getInstanceByClass(or).getMeasurementInfo();return t.markup&&t.caption?t.caption+"\n":""},sm=function(e,t,n){var i=e.getRenderingData(t,n);!i.annotFlag.checkNoZoom()||(t=1);var r=i.outerDeviceRect,o=i.innerDeviceRect;return Object.assign(o,{width:o.right-o.left,height:o.bottom-o.top}),Object.assign(r,{width:r.right-r.left,height:r.bottom-r.top}),{renderingData:i,innerRect:o,outerRect:r,scale:t,rotate:n}},cm=function(e,t){var n=e.canvas,i=n.width,r=n.height,o=t.x,a=t.y;o-=4,a-=4,(o=Math.max(o,2))+8>i&&(o=i-8-2),(a=Math.max(a,2))+8>r&&(a=r-8-2),e.rotate(0),e.fillStyle="#ffffff",e.rect(o,a,8,8),e.stroke(),e.fill()},um=Math.log(2),lm=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this,e)).helper=new om(e),i}return(0,D._)(n,[{key:"doRender",value:function(e){var t=this,n=e.renderingData,i=n.page,r=n.annotInfo,o=r.borderInfo||{},a=e.scale,s=e.rotate,c=this.convertPointToPixel(o.width,a);if(0!=c||-1!=r.borderColor||r.fillColor){var u=this.canvas.getContext("2d");if(u.clearRect(0,0,this.canvas.width,this.canvas.height),u.save(),!this.component.needToggleView||!this.component.needToggleView()||this.component.shouldRenderByMouseEvent()){e.lineWidth=c,u.globalAlpha=r.opacity,u.lineWidth=c,0===c||!1===r.hasBorderColor?u.strokeStyle="transparent":u.strokeStyle=this.numberToRGBAString(r.color);var l=e.outerRect,A=this.convertToPathPoint(n.startPoint,a,l,i,s),d=this.convertToPathPoint(n.endPoint,a,l,i,s),h=n.leaderLinePoints,f=this.convertToPathPoint(h.start,a,l,i,s),p=this.convertToPathPoint(h.end,a,l,i,s);if(n.leaderLineOffset>0){var v=n.annotInfo.leaderLineLength>0?1:-1,g=this.convertPointToPixel(n.leaderLineOffset,a),m=A.move(g,d).rotate(v*Math.PI/2,A);d=d.move(g,A).rotate(v*-Math.PI/2,d),A=m,m=f.move(g,p).rotate(v*Math.PI/2,f),p=p.move(g,f).rotate(v*-Math.PI/2,p),f=m}var y=n.captionOffset,_=new im(this.convertPointToPixel(y.x,a),-this.convertPointToPixel(y.y,a)),b=this.convertPointToPixel(n.leaderLineExtend,a);try{if(o.style===he.DASHED){var w=o.dashes||[],k=o.dashPhase||0;u.setLineDash&&u.setLineDash(w.map((function(e){return t.convertPointToPixel(e,a)}))),u.lineDashOffset=this.convertPointToPixel(k,a)}u.beginPath(),this.renderLine(u,A,d,f,p,b),u.closePath(),u.stroke(),this.helper.renderLineEnd(u,c,e,n.startStyle,p,f),this.helper.renderLineEnd(u,c,e,n.endingStyle,f,p),this.renderLineCaption(u,e,c,f,p,_)}finally{u.restore()}}}}},{key:"convertToPathPoint",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=(0,R._)(i.getDevicePoint([e.x,e.y],t,r),2),a=o[0],s=o[1];return new im(a-n.left,s-n.top)}},{key:"renderLine",value:function(e,t,n,i,r,o){if(e.moveTo(i.x,i.y),e.lineTo(r.x,r.y),e.moveTo(t.x,t.y),e.lineTo(i.x,i.y),e.moveTo(n.x,n.y),e.lineTo(r.x,r.y),o>0){var a=i.move(-o,t),s=r.move(-o,n);e.moveTo(i.x,i.y),e.lineTo(a.x,a.y),e.moveTo(r.x,r.y),e.lineTo(s.x,s.y),e.moveTo(s.x,s.y)}}},{key:"renderLineCaption",value:function(e,t,n,i,r,o){var a=t.renderingData,s=t.scale,c=a.annotInfo,u=c.content;if("string"==typeof u&&!((u=u.trim()).length<1)){if(r.x<i.x){var l=i;i=r,r=l}var A,d,h=Math.atan2(r.y-i.y,r.x-i.x),f=i.distanceTo(r),p=i.move(.5*f,r),v=16*(A=s+1,Math.log(A)/um),g=16777215-(16777215&c.borderColor^10855845);e.save(),e.fillStyle=this.numberToRGBAString(g),e.font=v+"px bold Arial",e.textBaseline="middle",e.textAlign="center";var m=e.measureText(u),y=m.actualBoundingBoxAscent+m.actualBoundingBoxDescent,_=p.move(o.y,i).rotate(Math.PI/2,p),b=Math.PI/2;switch(b=o.y>0?-Math.PI/2:Math.PI/2,a.captionPos){case me.POS_INLINE:if(0!=o.y&&0!=o.x){d=_.move(o.x,p).rotate(b,_);break}d=_;break;case me.POS_TOP:var w=p.move(.5*(n+y)-o.y,r).rotate(Math.PI/2,p);d=0!=o.x?w.move(o.x,p).rotate(b,_):w}if(a.hasCaption&&(e.translate(d.x,d.y),e.rotate(h),e.fillText(u,0,0),e.restore()),e.beginPath(),!(Math.abs(o.x)<f/2+m.width/2&&Math.abs(o.y)<y)){var k=o.x>0?-1:1,x=o.x+k*m.width/2;if(Math.abs(o.x)<=m.width/2){x=0;var P=y/2+4,C=o.y>0?1:-1,D=0;Math.abs(o.y)>y&&(D=o.y-C*P),_=p.move(D,i).rotate(Math.PI/2,p)}var E=_.move(x,p).rotate(b,_),S=E.move(Math.abs(x)+n/2,_);e.moveTo(p.x,p.y),e.lineTo(_.x,_.y),e.moveTo(S.x,S.y),e.lineTo(E.x,E.y),e.moveTo(E.x,E.y),e.closePath(),e.stroke()}}}},{key:"setMarkUp",value:function(e,t){var n=sm(this.component,e,t),i=n.renderingData,r=n.outerRect;e=n.scale,t=n.rotate;var o=i.page,a=i.annotInfo,s=a.borderInfo||{},c=this.convertPointToPixel(s.width,e),u=this.canvas.getContext("2d");u.clearRect(0,0,this.canvas.width,this.canvas.height),u.save(),u.lineWidth=c,u.strokeStyle=this.numberToRGBAString(a.color);var l=this.convertToPathPoint(i.startPoint,e,r,o,t),A=this.convertToPathPoint(i.endPoint,e,r,o,t),d=i.leaderLinePoints,h=this.convertToPathPoint(d.start,e,r,o,t),f=this.convertToPathPoint(d.end,e,r,o,t);if(i.leaderLineOffset>0){var p=i.annotInfo.leaderLineLength>0?1:-1,v=this.convertPointToPixel(i.leaderLineOffset,e),g=l.move(v,A).rotate(p*Math.PI/2,l);A=A.move(v,l).rotate(p*-Math.PI/2,A),l=g,g=h.move(v,f).rotate(p*Math.PI/2,h),f=f.move(v,h).rotate(p*-Math.PI/2,f),h=g}var m=this.convertPointToPixel(i.leaderLineExtend,e);u.beginPath(),this.renderLine(u,l,A,h,f,m),u.closePath(),cm(u,l),cm(u,A)}}]),n}(zg);n(995);!function(e){e.EndPoint="end-point",e.MidPoint="mid-point",e.IntersectionPoint="intersection-point",e.NearestPoint="nearest-point"}(em||(em={}));var Am=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"render",value:function(e){var t=e.canvas,n=t.width;t.height=t.height,e.clearRect(0,0,n,n),e.strokeStyle="red",e.arc(n/2,n/2,2*Math.PI,0,360),e.stroke()}}]),e}(),dm=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"render",value:function(e){var t=e.canvas,n=t.width;t.height=t.height,e.clearRect(0,0,n,n),e.strokeStyle="red",e.moveTo(n/2,0),e.lineTo(0,n),e.lineTo(n,n),e.closePath(),e.stroke()}}]),e}(),hm=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"render",value:function(e){var t=e.canvas,n=t.width;t.height=t.height,e.clearRect(0,0,n,n),e.strokeStyle="red",e.rect(0,0,n,n),e.stroke()}}]),e}(),fm=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"render",value:function(e){var t=e.canvas,n=t.width;t.height=t.height,e.clearRect(0,0,n,n),e.strokeStyle="red",e.moveTo(0,0),e.lineTo(n,n),e.moveTo(0,n),e.lineTo(n,0),e.stroke()}}]),e}(),pm=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),i=t.call(this),(0,z._)((0,x._)(i),"container",void 0),(0,z._)((0,x._)(i),"canvas",void 0),(0,z._)((0,x._)(i),"size",void 0),(0,z._)((0,x._)(i),"renderer",void 0),i.container=e,i.size=16,i.renderer=new Am,i.canvas=document.createElement("canvas"),i.canvas.classList.add("fv__viewer-snapped-point"),i.addDestroyHook((function(){i.canvas.parentElement===i.container&&i.container.removeChild(i.canvas)})),i.canvas.width=i.size,i.canvas.height=i.size,i}return(0,D._)(n,[{key:"setRenderer",value:function(e){this.renderer=new e,this.redraw()}},{key:"setSize",value:function(e){this.size=e,this.canvas.width=e,this.canvas.height=e,this.redraw()}},{key:"setPosition",value:function(e,t){(0,W.cssText)(this.canvas,{left:e+"px",top:t+"px",margin:"".concat(.5*-this.size,"px ").concat(.5*-this.size,"px")})}},{key:"show",value:function(e){switch(this.container.appendChild(this.canvas),e){case em.MidPoint:this.setRenderer(dm);break;case em.IntersectionPoint:this.setRenderer(fm);break;case em.NearestPoint:this.setRenderer(hm);break;default:this.setRenderer(Am)}}},{key:"hide",value:function(){this.canvas.parentElement===this.container&&this.container.removeChild(this.canvas)}},{key:"redraw",value:function(){if(this.renderer){var e=this.canvas.getContext("2d");e&&this.renderer.render(e)}}}]),n}(W.Disposable),vm="px",gm=Math.log(2),mm=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;return(0,C._)(this,n),(a=t.call(this,e,i,r,o)).name="line",W.Lazy.release((0,x._)(a),"shapeControl"),W.Lazy.property((0,x._)(a),"shapeControl",(function(){var e={resizable:!0,moveable:!0,rotatable:!1},t=a.pdfViewer.customs.getAnnotComponentConfig((0,x._)(a),Object.keys(e)),n={emitter:a.pdfViewer.eventEmitter,start:function(){return a.onStartUpdateShape()},update:function(e,t){return a.onShapeUpdating&&a.onShapeUpdating(e,t)},moving:function(e,t,n){return a.onShapeMoving(e,t,n)},end:function(e,t,n){return a.onShapeUpdateEnd(e,t,n)},onStatusChange:function(){a.updateHandlerPointStatus()},auxiliaryLine:void 0},i=new Ng(Object.assign(e,t,n));return a.processShapeControlPermissionCtrl(i),a.initializeShapeControl(i),i})),a}return(0,D._)(n,[{key:"active",value:function(){(0,E._)((0,S._)(n.prototype),"active",this).call(this),this.activeRect(),this.activeMore();var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e),this.setMargin(),this.updateHandlerPosition()}},{key:"movedByOther",value:function(){if(this.isActive){var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e),this.setMargin(),this.updateHandlerPosition()}}},{key:"unActive",value:function(){(0,E._)((0,S._)(n.prototype),"unActive",this).call(this),W.Lazy.isPropertyIntialized(this,"shapeControl")&&this.shapeControl.deactive()}},{key:"afterRender",value:function(e){if(e.transformed&&this.isActive){this.activeRect(),this.activeMore();var t=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),t),this.setMargin(),this.updateHandlerPosition()}}},{key:"activeMore",value:function(){this.$handler.addClass("fv__annot-line-container");var e=2;0!==this.annot.getLeaderLineLength()&&(e=4),this.hammerInited=this.hammerInited||this.initHammer(e)}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,R._)((0,G.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2);return{left:0,top:0,right:t[0],bottom:t[1]}}},{key:"createRectDom",value:function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui}},{key:"onStartUpdateShape",value:function(e,t){this.editDebouncePromise||(this.editDebouncePromise=new W.DebounceAsyncTaskExecutor(0))}},{key:"onShapeUpdating",value:function(e){this.updateCollabOp(e)}},{key:"onShapeMoving",value:function(e,t){this.updateCollabOp(e)}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this;return this.editDebouncePromise?this.editDebouncePromise.waitForLastTask().then((function(){return i.moveTo(e.left,e.top,n).then((function(t){return i._setRect(e,!1)})).then((function(e){return i._applyShapeChange()}))})):Promise.resolve()}},{key:"_applyShapeChange",value:function(){var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e)}},{key:"getPropertyOptions",value:function(){var e=this.annot,t=(0,W.colorConvertor)(e.getBorderColor(),"#"),n=e.getOpacity(),i=e.getBorderWidth(),r=e.getStyleFillColor(),o=this.propertyDisabled(),a=this.isLocked();return{color:t,opacity:n,borderWidth:i,lineStartStyle:e.getStartStyle(),lineEndStyle:e.getEndingStyle(),hasCap:e.hasCaption(),fillColor:r,isLocked:a,disabled:o,borderStyle:!0}}},{key:"redraw",value:function(e){var t=this;return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),(0,E._)((0,S._)(n.prototype),"redraw",this).call(this,e).then((function(){"line"==t.name&&t.annot.calculateLeaderLine(),t.updateHandlerPosition(),t.setMargin()}))}},{key:"updateRender",value:function(){return this.redraw()}},{key:"initHammer",value:function(e){var t=this,n=this.$handler,i=nm()({anchorCount:e,isLineDimension:this.annot.getIntent()==pe.LINE_DIMENSION,captionText:this.annot.getContent()}),r=j()(i);n.append(r);var o=this.annot.getType(),a=n.find(".fv__pdf-annot-line-point"),s=function(){return t.moveDisabled()};return this.addDestroyHook(this.pdfViewer.getAnnotAuthorityManager().subscribe(this.annot,(function(e){s=function(){return e.ignorable()?t.moveDisabled():!e.isAdjustable()}}))),a.each((function(e,i){var r,c,u=new Hammer.Manager(i,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});t.addDestroyHook((function(){u.destroy()}));var l,A=!1;u.on("panstart",(function(e){s()?A=!1:(A=!0,"fv__pdf-annot-line-point-item"==(c=j()(e.target)).attr("class")&&(c=c.parent()),r={x:parseFloat(c.css("left")),y:parseFloat(c.css("top"))},t.backupProperty(i),t.boundaryChangeStart(e),t.snappedPointAssistant=new pm(n.get(0)))})).on("panmove",(function(n){if(A){var i=(0,R._)(d(n.deltaX,n.deltaY),2),o=i[0],a=i[1];if(t.pdfViewer.config.highPerformance)t.updatePoint(o,a,e);else if(c.css({left:r.x+o+vm,top:r.y+a+vm}),t.annot.getIntent()!==pe.LINE_DIMENSION||![2,3].includes(e)){var s={x:r.x+o,y:r.y+a};t.getSnappedPoint(s).then((function(e){(0,W.isSamePoint)(s,e)?(t.snappedPointAssistant.hide(),l=null):(t.snappedPointAssistant.show(e.type),t.snappedPointAssistant.setPosition(e.x,e.y),l=e)}))}}})).on("panend",(function(n){if(A){t.snappedPointAssistant&&(t.snappedPointAssistant.destroy(),t.snappedPointAssistant=null);var i=(0,R._)(d(n.deltaX,n.deltaY),2),o=i[0],a=i[1];l&&(o=l.x-r.x,a=l.y-r.y,c.css({left:r.x+o+vm,top:r.y+a+vm}),l=null),t.updatePoint(o,a,e).then((function(e){t.boundaryChangeEnd(n)}))}}));var d=function(n,i){var s=a.eq(1^e),c=parseFloat(s.css("left")),u=parseFloat(s.css("top")),l=r.x+n,A=r.y+i;if("line"!==o||!W.keyboardStatus.isShift){var d=t._getShapeControllerBoundaryBox();return[n=Math.max(d.left,Math.min(d.right,l))-r.x,i=Math.max(d.top,Math.min(d.bottom,A))-r.y]}var h=Math.sqrt(Math.pow(l-c,2)+Math.pow(A-u,2)),f=Math.atan2(A-u,l-c),p=.25*Math.PI,v=Math.round(f/p)*p,g=h*Math.cos(v),m=u+h*Math.sin(v);return[c+g-r.x,m-r.y]}})),this.captionHammerHandler(),!0}},{key:"updateCollabPoint",value:function(e,t,n){if(!(n>1)&&this.pdfViewer.customs.isCollaborationMode()){var i=(0,R._)(this.annot.page.reverseDeviceOffset([e,t],this.scale,this.rotate),2),r=i[0],o=i[1],a=Object.assign({},this.annot.getStartPoint()),s=Object.assign({},this.annot.getEndPoint());0==n?a={x:a.x+r,y:a.y+o}:1==n&&(s={x:s.x+r,y:s.y+o}),this.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,this,{points:[a,s],rect:{left:Math.min(a.x-2,s.x-2),right:Math.max(a.x+2,s.x+2),top:Math.max(a.y+2,s.y+2),bottom:Math.min(a.y-2,s.y-2)}})}}},{key:"captionHammerHandler",value:function(){var e=this,t=function(){return e.moveDisabled()};this.addDestroyHook(this.pdfViewer.getAnnotAuthorityManager().subscribe(this.annot,(function(n){t=function(){return n.ignorable()?e.moveDisabled():!n.isAdjustable()}})));var n=this.$handler.find(".fv__pdf-annot-line-caption");if(n[0]){var i=new Hammer.Manager(n[0],{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});this.addDestroyHook((function(){i.destroy()}));var r,o,a=!1;i.on("panstart",(function(n){t()?a=!1:(a=!0,o=j()(n.target),r={x:parseFloat(o.css("left")),y:parseFloat(o.css("top"))},o.css("border","1px solid #5aa"),e.boundaryChangeStart(n))})).on("panmove",(function(t){a&&(e.pdfViewer.config.highPerformance?e.updatePoint(t.deltaX,t.deltaY,4):o.css({left:r.x+t.deltaX+vm,top:r.y+t.deltaY+vm}))})).on("panend",(function(t){a&&(j()(t.target).css("border","none"),e.updatePoint(t.deltaX,t.deltaY,4).then((function(n){e.boundaryChangeEnd(t)})))}))}}},{key:"boundaryChangeStart",value:function(e){}},{key:"boundaryChangeEnd",value:function(e){}},{key:"updateHandlerPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.$handler,n=this.scale,i=this.rotate,r=[],o=this.annot.getStartPoint();r.push(this.annot.page.getDevicePoint([o.x,o.y],n,i));var a=this.annot.getEndPoint();if(r.push(this.annot.page.getDevicePoint([a.x,a.y],n,i)),0!=this.annot.getLeaderLineLength()){e&&this.annot.calculateLeaderLine();var s=this.annot.getLeaderLinePoints();r.push(this.annot.page.getDevicePoint([s.start.x,s.start.y],n,i)),r.push(this.annot.page.getDevicePoint([s.end.x,s.end.y],n,i))}for(var c=t.get(0).querySelectorAll("[data-index]"),u=0;u<r.length;u++){var l=c[u];l&&(l.style.cssText+="\n                left: ".concat(r[u][0],"px;\n                top: ").concat(r[u][1],"px;\n            "))}this.updateCaptionPosition()}},{key:"updateCaptionPosition",value:function(){if(this.annot.hasCaption()){var e=this.$handler.find(".fv__pdf-annot-line-caption"),t=this.scale,n=this.rotate,i=e.width(),r=e.height(),o=this.annot.getLeaderLinePoints(),a=o.start,s=o.end,c=this.annot.getCaptionPoint(),u=this.annot.page.getDevicePoint([c.x,c.y],t,n),l=u[0]-i/2,A=u[1]-r/2,d=-Math.atan2(s.y-a.y,s.x-a.x)*(180/Math.PI),h=16*(f=t+1,Math.log(f)/gm);e.css({left:"".concat(l).concat(vm),top:"".concat(A).concat(vm),transform:"rotate(".concat(d,"deg)"),"font-size":"".concat(h).concat(vm)})}var f}},{key:"updateHandlerPointStatus",value:function(){if(this.$handler){var e=this.$handler.get(0).querySelectorAll("[data-index]");if(e){var t=this.shapeControl.isDisabled||!this.shapeControl.resizable;e.forEach((function(e){e.style.display=t?"none":"block"}))}}}},{key:"moved",value:function(){(0,E._)((0,S._)(n.prototype),"moved",this).call(this),this.updateHandlerPosition(),this.setMargin()}},{key:"setContent",value:function(e){return e===this.annot.getContent()?Promise.resolve(!0):this.annot.setContent(e)}},{key:"setBorderWidth",value:function(e){var t=this;return this.annot.setBorderWidth(e).then((function(e){return e?t.annot.update().then((function(e){return!0})):e})).then((function(e){return e?t.updateRender().then((function(){var n=t._getShapeControllerBoundaryBox();return t.shapeControl.active(t.$handler,t.getBoundary(),n),t.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,t),e})):e}))}},{key:"setFillColor",value:function(e){var t=this,n=this.annot.setStyleFillColor;return n||(n=this.annot.setFillColor),n.call(this.annot,e).then((function(e){return t.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,t),e}))}},{key:"setEndingStyle",value:function(e,t){var n=this;return this.annot.setEndingStyle(e,t).then((function(){var e=n._getShapeControllerBoundaryBox();n.shapeControl.active(n.$handler,n.getBoundary(),e),n.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,n)}))}},{key:"setMeasureUnit",value:function(e){var t=this;return(0,T._)(e,Di)&&(e=e.name),this.annot.setMeasureUnit(e).then((function(){return t.updateRender()})).then((function(){t.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,t)}))}},{key:"setMeasureRatio",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.userSpaceValue,i=void 0===n?1:n,r=t.userSpaceUnit,o=void 0===r?Ti.name:r,a=t.realValue,s=void 0===a?1:a,c=t.realUnit,u=void 0===c?Ti.name:c;return(0,T._)(o,Di)&&(o=o.name),(0,T._)(u,Di)&&(u=u.name),this.annot.setMeasureRatio({userSpaceValue:i,userSpaceUnit:o,realValue:s,realUnit:u}).then((function(){return e.updateRender()})).then((function(){e.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,e)}))}},{key:"getMeasureRatio",value:function(){var e=this.annot.info.measureRatio,t=(0,R._)(/(\d+(\.\d+)?)(?:\s+)(\w+)(?:\s+\=\s+)(\d+(\.\d+)?)(?:\s+)(\w+)/.exec(e),7),n=t[1],i=t[3],r=t[4],o=t[6];return{userSpaceValue:Number(n),userSpaceUnit:i,realValue:Number(r),realUnit:o}}},{key:"enableCaption",value:function(e){var t=this;return this.annot.enableCaption(e).then((function(){return t.redraw().then((function(){t.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,t)}))}))}},{key:"hasCaption",value:function(){return this.annot.hasCaption()}},{key:"setBorderStyle",value:function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then((function(){return n.updateRender()})).then((function(){n.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,n)}))}},{key:"backupProperty",value:function(e){switch(e?j()(e).data("index"):""){default:return this.oldRect=Object.assign({},this.annot.getRect());case 1:return this.oldEndPoint=Object.assign({},this.annot.getEndPoint());case 0:return this.oldStartPoint=Object.assign({},this.annot.getStartPoint());case 3:case 2:return this.oldLeaderEndPoint=Object.assign({},this.annot.leaderEndPoint)}}},{key:"updateLeaderLineLength",value:function(e,t,n){var i=this.oldLeaderEndPoint,r=this.annot.getEndPoint(),o=this.annot.getStartPoint(),a=this.annot.Eb,s=this.annot.k;n&&(i=this.oldLeaderEndPoint,r=this.annot.getEndPoint(),o=this.annot.getStartPoint(),a=this.annot.Eb);var c,u,l=i.x+e,A=i.y+t,d=!0;if((r.x-o.x)*(A-r.y)-(l-r.x)*(r.y-o.y)>0&&(d=!1),isFinite(s)){var h=(s*(A-a)+l)/(s*s+1),f={x:h,y:s*h+a};c=f.x-r.x,u=f.y-r.y}else c=0,u=A-r.y;var p=Math.sqrt(c*c+u*u);return d&&(p=-p),this.annot.setLeaderLineLength(p)}},{key:"updatePoint",value:function(e,t,n){var i,r=this,o=(0,R._)(this.annot.page.reverseDeviceOffset([e,t],this.scale,this.rotate),2),a=o[0],s=o[1];switch(n){case 1:i=this.annot.setEndPoint({x:this.oldEndPoint.x+a,y:this.oldEndPoint.y+s});break;case 0:i=this.annot.setStartPoint({x:this.oldStartPoint.x+a,y:this.oldStartPoint.y+s});break;case 2:i=this.updateLeaderLineLength(a,s,!1);break;case 3:i=this.updateLeaderLineLength(a,s,!0);break;case 4:i=this.updateCaptionOffset(a,s)}return i.then((function(){var e=r._getShapeControllerBoundaryBox();r.shapeControl.active(r.$handler,r.getBoundary(),e),r.updateHandlerPosition(),r.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,r)}))}},{key:"updateCaptionOffset",value:function(e,t){var n=this.annot,i=n.getCaptionPoint(),r=n.getLeaderLinePoints(),o=r.start,a=r.end,s=new im(o.x,o.y),c=new im(a.x,a.y),u=n.getLeaderLineOffset();if(u>0){var l=s.move(u,c),A=c.move(u,s);s=l.rotate(-Math.PI/2,s),c=A.rotate(Math.PI/2,c)}var d,h,f=s.distanceTo(c),p=s.move(f/2,c),v=i.x+e,g=i.y+t,m=g-p.y,y=v-p.x,_=Math.sqrt(Math.pow(y,2)+Math.pow(m,2)),b=this.annot.k;if(isFinite(b)){var w=g-b*v,k=1,x=1,P=-1/b;if(isFinite(P)){var C=P*v+(s.y-P*s.x)<=g,D=b*v+(p.y-b*p.x)<=g;s.x<=c.x?(x=C?1:-1,k=P>0?D?1:-1:D?-1:1):(x=C?-1:1,k=P>0?D?-1:1:D?1:-1)}else s.y>=c.y?(k=m>0?-1:1,x=y>0?1:-1):(k=m>0?1:-1,x=y>0?-1:1);d=k*Math.abs(b*p.x-p.y+w)/Math.sqrt(Math.pow(b,2)+1),h=x*Math.sqrt(Math.pow(_,2)-Math.pow(d,2))}else{var E=s.x>c.x?-1:1;d=E*y,h=E*m}return n.setCaptionOffset(d,h)}},{key:"setMargin",value:function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(Nh.expandOffset(t,e))}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=(0,E._)((0,S._)(n.prototype),"getRenderingData",this).call(this,e,t),r=this.annot;return Object.assign(i,{leaderLineExtend:r.getLeaderLineExtend?r.getLeaderLineExtend():void 0,startPoint:r.getStartPoint?r.getStartPoint():void 0,endPoint:r.getEndPoint?r.getEndPoint():void 0,leaderLinePoints:r.getLeaderLinePoints?r.getLeaderLinePoints():void 0,leaderLineOffset:r.getLeaderLineOffset?r.getLeaderLineOffset():void 0,captionOffset:r.getCaptionOffset?r.getCaptionOffset():void 0,startStyle:r.getStartStyle?r.getStartStyle():void 0,endingStyle:r.getEndingStyle?r.getEndingStyle():void 0,hasCaption:r.hasCaption?r.hasCaption():void 0,captionPos:r.getCaptionPos?r.getCaptionPos():void 0,fillColor:r.getFillColor()||(r.getStyleFillColor?r.getStyleFillColor():void 0),content:r.info.content})}},{key:"getSnappedPoint",value:function(e){var t,n=this,i=this.annot.getIntent(),r=(t={},(0,z._)(t,pe.LINE_DIMENSION,Rn),(0,z._)(t,pe.POLYLINE_DIMENSION,Mn),(0,z._)(t,pe.POLYGON_DIMENSION,Fn),(0,z._)(t,pe.CIRCLE_DIMENSION,Nn),t)[i],o=this.pdfViewer.getSnapMode(r),a=this.getPDFPage();if(o&&o.length>0){var s=(0,R._)(a.reverseDevicePoint([e.x,e.y],this.scale,this.rotate),2),c=s[0],u=s[1];return a.getSnappedPoint({x:c,y:u},o).then((function(e){var t=(0,R._)(a.getDevicePoint([e.x,e.y],n.scale,n.rotate),2);return{x:t[0],y:t[1],type:e.type}}))}return Promise.resolve(e)}},{key:"updateSize",value:function(e,t){(0,E._)((0,S._)(n.prototype),"updateSize",this).call(this,e,t),this.isActive&&(this._applyShapeChange(),this.updateHandlerPosition())}}]),n}(og);const ym=mm;var _m=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;return(0,C._)(this,n),(a=t.call(this,e,i,r,o)).name="lineMeasurement",a}return(0,D._)(n,[{key:"getLengthInInchUnit",value:function(){var e=this.getDimension(),t=e.width,n=e.height;return this._getLengthInInchUnit(t,n)}},{key:"_getLengthInInchUnit",value:function(e,t){var n=Hi.convertTo(e,Ti),i=zi.convertTo(t,Ti);return Math.round(100*Math.sqrt(n*n+i*i))/100}}]),n}(ym),bm=function(){function e(){(0,C._)(this,e),this.segments=[]}return(0,D._)(e,[{key:"addSegment",value:function(e){(0,T._)(e,wm)&&this.segments.push(e)}},{key:"render",value:function(e){e.beginPath(),this.segments.forEach((function(t){t.render(e)})),e.closePath()}}]),e}(),wm=function(){function e(t,n){(0,C._)(this,e),this.from=t,this.to=n}return(0,D._)(e,[{key:"render",value:function(e){(0,W.notImplemented)()}},{key:"isJoinedBefore",value:function(e){return this.to.equalTo(e.from)}},{key:"isJoinedAfter",value:function(e){return e.to.equalTo(this.from)}},{key:"isJoinedWith",value:function(e){return this.isJoinedBefore(e)||this.isJoinedAfter(e)}}]),e}(),km=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"generate",value:function(){(0,W.notImplemented)()}}]),e}(),xm=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,C._)(this,n),(i=t.call(this)).closing=r,e.length>1&&e.reduce((function(e,t,n){return i.addSegment(new Pm(e,t,1===n)),t})),i}return(0,D._)(n,[{key:"render",value:function(e){e.beginPath(),this.segments.forEach((function(t){t.render(e)})),this.closing&&e.closePath()}}]),n}(bm),Pm=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,C._)(this,n),(r=t.call(this,e,i)).atTheStart=o,r}return(0,D._)(n,[{key:"render",value:function(e){this.atTheStart&&e.moveTo(this.from.x,this.from.y),e.lineTo(this.to.x,this.to.y)}}]),n}(wm);function Cm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;e.fillStyle="#fff",t.forEach((function(t){e.beginPath(),e.arc(t.x,t.y,n,0,360),e.stroke(),e.fill()}))}var Dm=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this,e)).helper=new om(e),i}return(0,D._)(n,[{key:"doPrepare",value:function(){(0,E._)((0,S._)(n.prototype),"doPrepare",this).call(this),this.canvas.classList.add("fv__viewer-render-polyline")}},{key:"doRender",value:function(e){var t=e.renderingData,n=t.annotInfo,i=n.borderInfo||{},r=e.scale,o=e.rotate,a=this.canvas.getContext("2d"),s=this.convertPointToPixel(0==i.width?.5:i.width,r);if((0!=s||-1!=n.borderColor||n.fillColor)&&(a.clearRect(0,0,this.canvas.width,this.canvas.height),!this.component.needToggleView||!this.component.needToggleView()||this.component.shouldRenderByMouseEvent())){var c=t.page,u=e.innerRect,l=t.vertexes.map((function(e){var t=(0,R._)(c.getDevicePoint([e.x,e.y],r,o),2),n=t[0],i=t[1];return new im(n-u.left,i-u.top)}));e.vertexes=l,a.save(),e.lineWidth=s,a.globalAlpha=n.opacity,a.lineWidth=s,0===s||!1===n.hasBorderColor?a.strokeStyle="transparent":a.strokeStyle=this.numberToRGBAString(n.color);try{switch(i.style){case he.DASHED:case he.SOLID:this.renderSolid(a,n,e);case he.BEVELED:}var A=l[l.length-1],d=l[l.length-2],h=l[0],f=l[1];this.helper.renderLineEnd(a,s,e,t.startStyle,f,h),this.helper.renderLineEnd(a,s,e,t.endingStyle,d,A),this.setContents(a,n.contents,l)}finally{a.restore()}}}},{key:"renderSolid",value:function(e,t,n){var i=this,r=n.scale,o=t.borderInfo,a=o.dashes||[],s=o.dashPhase||0;o.style===he.DASHED&&(e.setLineDash&&e.setLineDash(a.map((function(e){return i.convertPointToPixel(e,r)}))),e.lineDashOffset=this.convertPointToPixel(s,r)),new xm(n.vertexes,!1,5).render(e),e.stroke();try{if(!W.isTouchDevice)return;void 0===n.renderingData.annotInfo.id&&Cm(e,n.vertexes)}catch(e){}}},{key:"setMarkUp",value:function(e,t){var n=sm(this.component,e,t),i=n.renderingData,r=n.innerRect;e=n.scale,t=n.rotate;var o=i.annotInfo,a=this.canvas.getContext("2d"),s=i.page;a.strokeStyle=this.numberToRGBAString(o.color),i.vertexes.map((function(n){var i=(0,R._)(s.getDevicePoint([n.x,n.y],e,t),2),o=i[0],a=i[1];return new im(o-r.left,a-r.top)})).forEach((function(e){return cm(a,e)})),a.restore()}},{key:"setContents",value:function(e,t,n){var i,r;if(void 0!==t&&n&&!(n.length<3)){var o=n[n.length-1],a=e;a.beginPath(),a.font="14px Verdana",a.textAlign="left",a.textBaseline="top",a.direction="ltr";var s=a.measureText(t).width;a.fillStyle="#AF6B6B";var c=n.map((function(e){return e.x})),u=(i=Math).min.apply(i,(0,M._)(c));(r=Math).max.apply(r,(0,M._)(c));Math.abs(o.x-u)>=s&&o.x>u?a.fillText(t,o.x-s,o.y,s):a.fillText(t,o.x,o.y,s),a.closePath()}}}]),n}(zg),Em=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;return(0,C._)(this,n),(a=t.call(this,e,i,r,o)).name="polyline",a}return(0,D._)(n,[{key:"activeMore",value:function(){var e=this.annot.getVertexes(),t=this.annot.getPathVertexes();this.$handler.addClass("fv__pdf-annot-polyLine-container");var n=e.length;t.length>0&&(n=t.length),this.hammerInited=this.hammerInited||this.initHammer(n)}},{key:"getPropertyOptions",value:function(){var e=this.annot,t=(0,W.colorConvertor)(e.getBorderColor(),"#"),n=e.getOpacity(),i=e.getBorderWidth(),r=e.getStyleFillColor(),o=this.propertyDisabled(),a=this.isLocked();return{color:t,opacity:n,fillColor:r,borderWidth:i,lineStartStyle:e.getStartStyle(),lineEndStyle:e.getEndingStyle(),disabled:o,borderStyle:!0,isLocked:a}}},{key:"backupProperty",value:function(e){if(!e)return this.oldRect=Object.assign({},this.annot.getRect());this.oldVertex=Object.assign({},this.annot.getVertexes())}},{key:"updatePoint",value:function(e,t,n){var i=this;return this.movePointAt(n,{offsetX:e,offsetY:t}).then((function(){i.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,i)}))}},{key:"movePointAt",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.offsetX,o=void 0===r?0:r,a=i.offsetY,s=void 0===a?0:a,c=this.annot.getPathVertexes();if(c.length>0){var u=c[e],l=this.resolveMovedPoint(u,o,s);t=this.annot.updatePathVertex(e,l)}else{var A=(this.oldVertex||this.annot.getVertexes())[e],d=this.resolveMovedPoint(A,o,s);t=this.annot.updateVertexes(e,d)}return t.then((function(){n.shapeControl.active(n.$handler,n.getBoundary(),n._getShapeControllerBoundaryBox())}))}},{key:"resolveMovedPoint",value:function(e,t,n){var i=(0,R._)(this.annot.page.reverseDeviceOffset([t,n],this.scale,this.rotate),2),r=i[0],o=i[1],a={x:e.x+r,y:e.y+o},s=this.getPDFPage(),c=s.getWidth(),u=s.getHeight(),l=s.getRotationAngle(),A=0==(l/90&1)?c:u,d=0==(l/90&1)?u:c;return a.x=Math.max(a.x,0),a.y=Math.max(a.y,0),a.x=Math.min(a.x,A),a.y=Math.min(a.y,d),a}},{key:"setLastPoint",value:function(e,t){var n=this.rotate,i=this.scale,r=this.annot.getVertexes().slice(0),o=r[r.length-1],a=(0,R._)(this.annot.page.getDevicePoint([o.x,o.y],i,n),2),s=a[0],c=a[1];e="number"==typeof e?e:s,t="number"==typeof t?t:c;var u=(0,R._)(this.annot.page.reverseDevicePoint([e,t],i,n),2),l=u[0],A=u[1];return o.x=l,o.y=A,this.setVertexes(r)}},{key:"addPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,R._)(this.annot.page.reverseDevicePoint([e,t],this.scale,this.rotate),2),i=n[0],r=n[1],o=this.annot.getVertexes().concat({x:i,y:r});return this.setVertexes(o)}},{key:"setVertexes",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot.getVertexes();return this.annot.setVertexes(t).then((function(){return e.updateRender()})).then((function(){e.shapeControl.active(e.$handler,e.getBoundary(),e._getShapeControllerBoundaryBox())}))}},{key:"getVertexes",value:function(){return this.annot.getVertexes()}},{key:"getPathVertexes",value:function(){return this.annot.getPathVertexes()}},{key:"deleteVertex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot.getVertexes().length-1,t=this.annot.getVertexes().filter((function(t,n){return n!==e}));return this.setVertexes(t)}},{key:"updateHandlerPosition",value:function(){var e=this.$handler,t=this.scale,n=this.rotate,i=this.annot.getVertexes(),r=this.annot.getPathVertexes();r.length>0&&(i=r);for(var o=0;o<i.length;o++){var a=e.find("[data-index=".concat(o,"]")),s=i[o];s=this.annot.page.getDevicePoint([s.x,s.y],t,n),a.css({left:s[0]+"px",top:s[1]+"px",display:this.shapeControl.isDisabled?"none":"block"})}}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=(0,E._)((0,S._)(n.prototype),"getRenderingData",this).call(this,e,t),r=this.getVertexes(),o=this.getPathVertexes();return Object.assign(i,{vertexes:o.length>0?o:r})}},{key:"updateCollabPoint",value:function(e,t,n){if(this.pdfViewer.customs.isCollaborationMode()){var i=(0,R._)(this.annot.page.reverseDeviceOffset([e,t],this.scale,this.rotate),2),r=i[0],o=i[1],a=Object.assign({},this.getVertexes());a[n]={x:a[n].x+r,y:a[n].y+o};var s=this.annot.getRect();this.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,this,{points:Object.values(a),rect:{left:Math.min(s.left,a[n].x-2),right:Math.max(s.right,a[n].x+2),top:Math.max(s.top,a[n].y+2),bottom:Math.min(s.bottom,a[n].y+2)}})}}}]),n}(ym);const Sm=Em;var Im=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"render",value:function(e){try{e.save(),e.beginPath(),this.segments.filter((function(e){return e.isOn})).forEach((function(t){t.render(e)})),e.closePath()}finally{e.restore()}}}]),n}(bm),Tm=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return(0,C._)(this,n),(r=t.call(this,e,i)).isOn=o,r}return(0,D._)(n,[{key:"render",value:function(e){this.isOn&&(e.moveTo(this.from.x,this.from.y),e.lineTo(this.to.x,this.to.y))}}]),n}(wm),Rm=(function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(0,C._)(this,n),(r=t.call(this)).contour=e,r.dashes=i,r.phase=o,r.continuous=a,r.dashSum=i.reduce((function(e,t){return e+t}),0),r}(0,D._)(n,[{key:"generate",value:function(){var e=this,t=new Im;if(0==this.dashes.length)this.contour.reduce((function(e,n){t.addSegment(new Tm(e,n))}));else{var n=this.phase<this.dashSum?this.phase:this.phase%this.dashSum,i=0,r=0,o=!0;n>0&&this.dashes.reduce((function(e,t,a){var s=e+t;return s>n&&(r=s-n,i=a,o=a%2==0),s}),0);var a=function(){return(i+1)%e.dashes.length};this.contour.reduce((function(s,c){var u=s.distanceTo(c),l=s;for(r>0&&(t.addSegment(new Tm(l,l=l.move(r,c),o)),o=!o,u-=r,i=a());;){var A=e.dashes[i];if(!(u>=A)){t.addSegment(new Tm(l,c,o)),e.continuous?(r=A-u,u=0):(r=n,i=0,o=!0);break}t.addSegment(new Tm(l,l=l.move(A,c),o)),u-=A,i=a(),o=!o}return c}))}return t}}])}(km),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),(o=t.call(this,null,r)).controlPoint1=e,o.controlPoint2=i,o}return(0,D._)(n,[{key:"render",value:function(e){e.bezierCurveTo(this.controlPoint1.x,this.controlPoint1.y,this.controlPoint2.x,this.controlPoint2.y,this.to.x,this.to.y)}}]),n}(wm)),Mm=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){return(0,C._)(this,n),t.call(this,e)}return(0,D._)(n,[{key:"render",value:function(e){e.moveTo(this.from.x,this.from.y)}}]),n}(wm),Fm=.5522847498308,Nm=3.14159265358979,Lm=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),(o=t.call(this)).points=e,o.innerRect=i,o.outerRect=r,o}return(0,D._)(n,[{key:"generate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,n=arguments.length>2?arguments[2]:void 0,i=new bm,r=this.points.map((function(t){var n=e.innerRect.height-t.y;return new im(t.x,n)})),o=r.length;n||(n=o*t);var a=r.map((function(e,t){return e.distanceTo(r[(t+1)%o])})).reduce((function(e,t){return e+t})),s={left:r[0].x,right:r[0].x,top:r[0].y,bottom:r[0].y},c=a/n;if(0==c)return i;for(var u=[],l=0,A=r[0],d=r[1],h=A.distanceTo(d),f=0,p=1;f<n;f++){for(;l>h;)l-=h,p++,A=d,d=r[p%o],h=A.distanceTo(d);u.push(A.move(l,d)),l+=c}var v=u.length,g=!0,m=5*c/8;return u.forEach((function(t,n){var r=function(e,t,n){var i,r,o=e.subtractp(t),a=n.subtractp(t),s=[],c=Math.atan2(o.y,o.x),u=Math.atan2(a.y,a.x);c+=Math.acos(e.distanceTo(t)/(2*m))-Nm/9,u-=Math.acos(n.distanceTo(t)/(2*m)),u<c&&(u+=2*Nm);var l={left:t.x-m,right:t.x+m,bottom:t.y-m,top:t.y+m},A=Om(l,c,u,g);(i=s).push.apply(i,(0,M._)(A.arrAp)),g=!1;var d=t.subtractp(n);return c=Math.atan2(d.y,d.x),c+=Math.acos(n.distanceTo(t)/(2*m)),u=c-Nm/9,l={left:n.x-m,right:n.x+m,bottom:n.y-m,top:n.y+m},A=Om(l,c,u,g),(r=s).push.apply(r,(0,M._)(A.arrAp)),s}(u[0==n?v-1:n-1],t,u[(n+1)%v]);r.forEach((function(t){var n=function(t){if(t)return new im(t.x+e.innerRect.left-e.outerRect.left,e.innerRect.height-t.y+(e.innerRect.top-e.outerRect.top))};t.from=n(t.from),t.to=n(t.to),t.controlPoint1=n(t.controlPoint1),t.controlPoint2=n(t.controlPoint2),i.addSegment(t)}))})),i.rect=s,i}}]),n}(km);function Om(e,t,n,i){var r,o,a,s,c,u,l,A,d,h,f,p,v,g,m,y,_,b,w,k,x,P,C,D,E={};if(e.left>=e.right||e.bottom>=e.top)return{arrAp:[],pdfRect:E};if(Math.abs(n-t)<=1e-4)return{arrAp:[],pdfRect:E};var S=[];r=(e.right+e.left)/2,o=(e.top+e.bottom)/2,a=Math.abs(e.right-e.left)/2,s=Math.abs(e.top-e.bottom)/2,C=t,x=r+(f=a*Math.cos(C)),P=o+(p=s*Math.sin(C)),E.left=E.right=x,E.bottom=E.top=P,i&&S.push(new Mm(new im(x,P)));var I=1;n<t&&(I=-1);var T=Math.floor(2*t/Nm);I>0&&(T+=1),T*=Nm/2;for(var R=!1;D=T,I>0?n<=T&&(D=n,R=!0):n>=T&&(D=n,R=!0),f=a*Math.cos(C),p=s*Math.sin(C),_=a*Math.cos(D),d=h=-a*a*s*s,v=f+(x=(w=((l=a*a*p)*h-(A=a*a*(b=s*Math.sin(D)))*d)/((c=s*s*f)*A-(u=s*s*_)*l))-f)*Fm,g=p+(P=(k=(u*d-c*h)/(c*A-u*l))-p)*Fm,m=_+(x=w-_)*Fm,y=b+(P=k-b)*Fm,v=x=r+v,g=P=o+g,E.left>v&&(E.left=v),E.bottom>g&&(E.bottom=g),E.right<v&&(E.right=v),E.top<g&&(E.top=g),m=x=r+m,y=P=o+y,E.left>m&&(E.left=m),E.bottom>y&&(E.bottom=y),E.right<m&&(E.right=m),E.top<y&&(E.top=y),_=x=r+_,b=P=o+b,E.left>_&&(E.left=_),E.bottom>b&&(E.bottom=b),E.right<_&&(E.right=_),E.top<b&&(E.top=b),S.push(new Rm(new im(v,g),new im(m,y),new im(_,b))),!R;)C=D,T+=I*Nm/2;return{arrAp:S,pdfRect:E}}var jm=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,C._)(this,n),(i=t.call(this,e)).closing=r,i.showText=!0,i}return(0,D._)(n,[{key:"setFlag",value:function(e,t){this.closing=e,this.showText=t}},{key:"doPrepare",value:function(){(0,E._)((0,S._)(n.prototype),"doPrepare",this).call(this),this.canvas.classList.add("fv__viewer-render-polygon")}},{key:"doRender",value:function(e){var t=e.renderingData,n=t.annotInfo,i=n.borderInfo||{},r=e.scale,o=e.rotate,a=this.convertPointToPixel(0==i.width?.5:i.width,r);if(0!=a||-1!=n.borderColor||n.fillColor){var s=this.canvas.getContext("2d");if(s.clearRect(0,0,this.canvas.width,this.canvas.height),!this.component.needToggleView||!this.component.needToggleView()||this.component.shouldRenderByMouseEvent()){var c=t.page,u=e.innerRect,l=e.outerRect,A=t.vertexes.map((function(e){var t=(0,R._)(c.getDevicePoint([e.x,e.y],r,o),2),n=t[0],i=t[1];return new im(n-u.left,i-u.top)})),d=t.vertexes.map((function(e){var t=(0,R._)(c.getDevicePoint([e.x,e.y],r,o),2),n=t[0],i=t[1];return new im(n-l.left,i-l.top)}));e.vertexes=A,s.save(),e.lineWidth=a,s.globalAlpha=n.opacity,0===a||!1===n.hasBorderColor?s.strokeStyle="transparent":s.strokeStyle=this.numberToRGBAString(n.color),s.lineWidth=a;try{switch(i.style){case he.DASHED:case he.SOLID:case he.UNDERLINE:case he.BEVELED:this.renderSolid(s,n,e),this.setContents(s,n.contents,A);break;case he.CLOUDY:0==a?this.renderSolid(s,n,e):this.renderCloud(s,n,e),this.setContents(s,n.contents,d)}}finally{s.restore()}}}}},{key:"renderCloud",value:function(e,t,n){var i=t.fillColor,r=t.borderInfo.cloudIntensity,o=n.innerRect,a=n.outerRect,s=new Lm(n.vertexes,o,a),c=n.renderingData.vertexes,u=c.length;(u=u*=2==r?8:16,c.length>=2)&&(u=function(e,t){var n=2,i=Math.abs(e.right-e.left),r=Math.abs(e.bottom-e.top);n=1===t?parseInt((i+r)/4):parseInt((i+r)/6);return n<2&&(n=2),n%2!=0&&(n+=1),n}(this.calculateRect(c),r));s.generate(16/r,e,u).render(e),i&&(e.fillStyle=this.numberToRGBAString(i),e.fill()),e.stroke();try{if(!W.isTouchDevice)return;var l=o.left-a.left,A=o.top-a.top,d=n.vertexes.map((function(e){return{x:e.x+l,y:e.y+A}}));void 0===n.renderingData.annotInfo.id&&Cm(e,d)}catch(e){}}},{key:"renderSolid",value:function(e,t,n){var i=this,r=n.scale,o=t.borderInfo,a=o.dashes||[],s=o.dashPhase||0,c=t.fillColor;o.style===he.DASHED&&(e.setLineDash&&e.setLineDash(a.map((function(e){return i.convertPointToPixel(e,r)}))),e.lineDashOffset=this.convertPointToPixel(s,r)),new xm(n.vertexes,this.closing).render(e),c&&(e.fillStyle=this.numberToRGBAString(c),e.fill()),e.stroke();try{if(!W.isTouchDevice)return;void 0===n.renderingData.annotInfo.id&&Cm(e,n.vertexes)}catch(e){}}},{key:"setMarkUp",value:function(e,t){var n=sm(this.component,e,t),i=n.renderingData,r=n.innerRect;e=n.scale,t=n.rotate;var o=i.annotInfo,a=o.borderInfo||{},s=this.convertPointToPixel(a.width,e),c=this.canvas.getContext("2d");c.clearRect(0,0,this.canvas.width,this.canvas.height);var u=i.page,l=i.vertexes.map((function(n){var i=(0,R._)(u.getDevicePoint([n.x,n.y],e,t),2),o=i[0],a=i[1];return new im(o-r.left,a-r.top)}));c.save(),c.strokeStyle=this.numberToRGBAString(o.color),c.lineWidth=s;var A=this.closing;this.closing=!0,this.renderSolid(c,o,{vertexes:l}),c.beginPath(),l.forEach((function(e){return cm(c,e)})),this.closing=A}},{key:"setContents",value:function(e,t,n){var i;if(void 0!==t&&n&&!(n.length<3)&&this.showText){var r=n[n.length-1],o=e;o.beginPath(),o.font="14px Verdana",o.textAlign="left",o.textBaseline="top",o.direction="ltr";var a=o.measureText(t).width;o.fillStyle="#AF6B6B";var s=n.map((function(e){return e.x})),c=(i=Math).min.apply(i,(0,M._)(s));Math.abs(r.x-c)>=a&&r.x>c?o.fillText(t,r.x-a,r.y,a):o.fillText(t,r.x,r.y,a),o.closePath()}}},{key:"calculateRect",value:function(e){var t={},n={x:0,y:0};t.left=t.right=e[0].x,t.bottom=t.top=e[0].y;for(var i=e.length,r=1;r<=i;r++)n=e[r%i],t.left>n.x&&(t.left=n.x),t.bottom>n.y&&(t.bottom=n.y),t.right<n.x&&(t.right=n.x),t.top<n.y&&(t.top=n.y);return t}}]),n}(zg),Bm=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;return(0,C._)(this,n),(a=t.call(this,e,i,r,o)).name="polygon",a}return(0,D._)(n,[{key:"activeMore",value:function(){var e=this.annot.getVertexes(),t=this.annot.getPathVertexes();this.$handler.addClass("fv__pdf-annot-polygon-container");var n=e.length;t.length>0&&(n=t.length),this.hammerInited=this.hammerInited||this.initHammer(n)}},{key:"updateRender",value:function(){var e=this;return this.annot.update().then((function(){var t=e._getShapeControllerBoundaryBox();e.shapeControl.active(e.$handler,e.getBoundary(),t)})).then((function(t){return(0,E._)((0,S._)(n.prototype),"updateRender",e).call(e)}))}},{key:"getPropertyOptions",value:function(){var e=this.annot;return{color:(0,W.colorConvertor)(e.getBorderColor(),"#"),opacity:e.getOpacity(),borderWidth:e.getBorderWidth(),cloudy:!0,fillColor:e.getFillColor(),disabled:this.propertyDisabled(),borderStyle:!0,isLocked:this.isLocked()}}},{key:"updateBorderProperty",value:function(e){switch(this.annot.getCloudIntensity()){case 1:e.find("#borderStyle-select [value=6]").attr("selected",!0);break;case 2:e.find("#borderStyle-select [value=7]").attr("selected",!0)}}},{key:"backupProperty",value:function(e){if(!e)return this.oldRect=Object.assign({},this.annot.getRect());this.oldVertex=Object.assign({},this.annot.getVertexes())}},{key:"setCloudyIntensity",value:function(e){var t=this;this.annot.setBorderStyle(he.CLOUDY,e).then((function(){return t.updateRender().then((function(){t.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,t)}))}))}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=(0,E._)((0,S._)(n.prototype),"getRenderingData",this).call(this,e,t);return Object.assign(i,{})}}]),n}(Sm);const Vm=Bm;var Um="annotComponent",Hm={properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(e,t,n){this.data(Um).showPropertiesDialog(e,t,n)}},actions:{name:"actions",nameI18nKey:"viewer_:contextmenu.annot.actions",callback:function(){this.data(Um).showActionsDialog()},disabled:function(){return this.data(Um).actionsDisabled()}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(Um).removeAnnot()},disabled:function(){return this.data(Um).deleteDisabled()}}};var zm=n(9059),Wm=n.n(zm),Gm=(n(3636),n(6073)),Ym=function(){function e(){(0,C._)(this,e),this.init.apply(this,arguments)}return(0,D._)(e,[{key:"init",value:function(){if(1==arguments.length)this.info={type:arguments[0]};else{var e=(0,R._)(arguments,6),t=e[0],n=e[1],i=e[2],r=(e[3],e[4]),o=e[5];this.info=t,this.factory=n,this.doc=i,this.host=o,this.eventEmitter=r}this.initSubAction()}},{key:"checkInserted",value:function(){if(!this.doc.api)throw new Error("Please insert this action to a host first.")}},{key:"initSubAction",value:function(){var e=this;this.subAction=[],this.info.subAction&&this.info.subAction.forEach((function(t){e.subAction.push(e.factory.createAction(t,e.doc,e.doc.api,e.eventEmitter,e.host))}))}},{key:"appendSubAction",value:function(e){this.subAction.push(e),this.info.subAction=this.info.subAction||[],this.info.subAction.push(e.info)}},{key:"getType",value:function(){return this.info.type}},{key:"getSubActionCount",value:function(){return this.info.subAction.length||0}},{key:"getSubAction",value:function(e){return this.subAction[e]}},{key:"insertSubAction",value:function(t,n){var i=this;if(this.checkInserted(),"number"!=typeof t)throw new Error("param error. Only number is available.");return t=Math.max(0,Math.min(t,this.getSubActionCount())),(0,T._)(n,e)&&(n=n.getType()),this.doc.api.insertSubAction(this.doc.getId(),this.info.objNumber,t,n).then((function(e){return i.updateAction(e),e}))}},{key:"setSubAction",value:function(t,n){var i=this;if(this.checkInserted(),"number"!=typeof t)throw new Error("param error. Only number is available.");var r=this.getSubActionCount();if(0===r)throw new Error("Cannot be set without sub action.");return t=Math.max(0,Math.min(t,r-1)),(0,T._)(n,e)&&(n=n.getType()),this.doc.api.setSubAction(this.doc.getId(),this.info.objNumber,t,n).then((function(e){return i.updateAction(e),e}))}},{key:"removeAllSubActions",value:function(){var e=this;if(this.doc.api)return this.doc.api.removeAllSubActions(this.doc.getId(),this.info.objNumber).then((function(t){e.updateAction(t)}))}},{key:"removeSubAction",value:function(e){var t=this;if(this.doc.api){if("number"!=typeof e)throw new Error("param error. Only number is available.");var n=this.getSubActionCount();if(0===n)throw new Error("Cannot be remove without sub action.");return e=Math.max(0,Math.min(e,n-1)),this.doc.api.removeSubAction(this.doc.getId(),this.info.objNumber,e).then((function(e){t.updateAction(e)}))}}},{key:"setActionData",value:function(e){var t=this;return this.doc.api.setActionData(this.doc.getId(),this.info.objNumber,e).then((function(e){t.updateAction(e)}))}},{key:"updateAction",value:function(e){Object.assign(this.info,e),this.initSubAction(),this.host&&(this.eventEmitter.emit(ae.Z.actionUpdated,this.host),(0,T._)(this.host,An)&&this.eventEmitter.emit(ae.Z.annotationUpdated,[this.host],this.host.getPDFPage(),"widget"===this.host.getType()?en.formFieldActionUpdated:en.actionDataUpdated))}},{key:"checkOutData",value:function(e){return!0}},{key:"exportToJson",value:function(){return{type:this.getType()}}},{key:"findAction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0},t=[];return e(this)&&t.push(this),this.subAction.forEach((function(n){var i;(i=t).push.apply(i,(0,M._)(n.findAction(e)))})),t}}]),e}(),$m=["ZoomXYZ","ZoomFitPage","ZoomFitHorz","ZoomFitRect","ZoomFitBHorz","ZoomFitVert"],Jm=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o,a,s){var c;return(0,C._)(this,n),0==arguments.length?(c=t.call(this,it.goto),(0,Gm._)(c)):(c=t.call(this,e,i,r,o,a,s),(0,Gm._)(c))}return(0,D._)(n,[{key:"getDestination",value:function(){return this.info.destination}},{key:"checkOutData",value:function(e){return function(e){var t;t=!!e.type;var n={ZoomXYZ:function(){t=null!=e.pageIndex&&null!=e.left&&null!=e.top&&null!=e.zoomFactor},ZoomFitPage:function(){t=!(null==e.pageIndex)},ZoomFitHorz:function(){t=null!=e.pageIndex&&null!=e.top},ZoomFitVert:function(){t=null!=e.pageIndex&&e.left},ZoomFitRect:function(){t=null!=e.pageIndex&&e.left&&null!=e.top&&null!=e.bottom&&null!=e.right},ZoomFitBBox:function(){t=!(null==e.pageIndex)},ZoomFitBHorz:function(){t=null!=e.pageIndex&&null!=e.top},ZoomFitBVert:function(){t=null!=e.pageIndex&&null!=e.left}};return n[e.type](),t}(e)}},{key:"setDestination",value:function(e){var t=this;if(!this.doc)return this.info.destination=e,Promise.resolve();if(-1===$m.indexOf(e.zoomMode))throw new Error("param error. ZoomMode is invalid.");return e.pageIndex=Math.min(this.doc.getPageCount()-1,Math.max(e.pageIndex,0)),this.doc.api.setActionDestination(this.doc.getId(),this.info.objNumber,e).then((function(e){return t.updateAction(e),e}))}},{key:"exportToJson",value:function(){var e=(0,E._)((0,S._)(n.prototype),"exportToJson",this).call(this);return Object.assign(e,{destination:this.getDestination()})}}]),n}(Ym);var qm=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o,a,s){var c;return(0,C._)(this,n),0==arguments.length?(c=t.call(this,it.uri),(0,Gm._)(c)):(c=t.call(this,e,i,r,o,a,s),(0,Gm._)(c))}return(0,D._)(n,[{key:"getURI",value:function(){return this.info.uri}},{key:"checkOutData",value:function(e){return e&&e.uri}},{key:"setURI",value:function(e){var t=this;if(!e&&"string"==typeof e)throw new Error("param error. Only non-empty strings is available.");return this.doc?this.doc.api.setActionURI(this.doc.getId(),this.info.objNumber,e).then((function(e){return t.updateAction(e),e})):(this.info.uri=e,Promise.resolve())}},{key:"exportToJson",value:function(){var e=(0,E._)((0,S._)(n.prototype),"exportToJson",this).call(this);return Object.assign(e,{uri:this.getURI()})}}]),n}(Ym),Km=function(){function e(t,n,i){var r=this;(0,C._)(this,e),this.annotRender=t,this.annot=this.annotRender.annot,this.pdfViewer=this.annotRender.pdfViewer;var o={};if(i)switch(o.type=i.getType(),o.type){case"TypeURI":o.uri=i.getURI();break;case"TypeGoto":o.destination=i.getDestination()}var a=Wm()(o);n||(a='<dialog class="fv__dialog fv__annot-properties-dialog">'.concat(a,"</dialog>"));var s=j()(a);this.$actionsDialog=s;var c=n||document.body;if(s.appendTo(c),this.bindChangeEvent(),this.update(o),!n||n===document.body){var u=s[0];Gv().registerDialog(u),u.showModal()}this.$gotoInput=s.find("#goto-input"),this.$gotoLeftValue=s.find(".fv__action-dialog-goto-left-value"),this.$gotoTopValue=s.find(".fv__action-dialog-goto-top-value"),this.$urlInput=s.find("#url-input");var l=this.pdfViewer.getPDFDocRender().getPDFDoc().getPageCount();if(this.$gotoInput.attr({max:l}),o&&o.type)switch(o.type){case"TypeURI":this.$urlInput.val(o.uri);break;case"TypeGoto":this.$gotoInput.val(o.destination.pageIndex+1);var A=this.pdfViewer.getPDFPageRender(o.destination.pageIndex);A&&A.getPDFPage().then((function(e){var t=(0,R._)(e.getDevicePoint([o.destination.left,o.destination.top],A.getScale(),A.getRotation()),2),n=t[0],i=t[1];r.$gotoLeftValue.html(n.toFixed(2)),r.$gotoTopValue.html(i.toFixed(2))}))}}return(0,D._)(e,[{key:"update",value:function(e){var t=this.$actionsDialog;e&&e.type&&(t.find("#select-action [value="+e.type+"]").attr("selected",!0),t.find(".fv__action-dialog-box").css("display","none"),t.find("[data-type="+e.type+"]").css("display","block"))}},{key:"bindChangeEvent",value:function(){var e=this,t=this.$actionsDialog,n=this.pdfViewer.getPDFDocRender(),i=n.viewerRender.scrollWrap;this.pdfViewer.eventEmitter.on(se.zoomToSuccess,(function(e,t){o()})),this._unwatchScrollEvent=i.addScrollEventListener(o);var r=this;function o(){var e=function(e){for(var t=e.$container.find(".fv__pdf-view-mode-item"),n=e.viewerRender.scrollWrap,i=n.getScrollTop(),r=(n.getHeight(),n.getScrollLeft()),o=(n.getWidth(),0),a=0,s=0,c=0;c<t.length;c++){var u=t[c],l=j()(u).width(),A=j()(u).height(),d=u.offsetTop,h=d+A,f=u.offsetLeft;if(h>i&&f+l>r){o=c,s=i-d,a=r-f;break}}return{pageIndex:o,left:a,top:s}}(n);r.$gotoInput.val(e.pageIndex+1),r.$gotoLeftValue.html(e.left.toFixed(2)),r.$gotoTopValue.html(e.top.toFixed(2))}t.on("click",".fv__action-btn-cancel",(function(){e.annotRender.hideActionsDialog()})).on("click",".fv__action-dialog-close-icon",(function(){e.annotRender.hideActionsDialog()})).on("change","#select-action",(function(e){var n=e.target.value;t.find(".fv__action-dialog-box").css("display","none"),t.find("[data-type="+n+"]").css("display","block")})).on("click",".fv__action-btn-ok",(function(n){var i=t.find("#select-action").val();if("TypeURI"===i){var o=t.find("#url-input").val(),a=new qm;e.annot.setAction(-1,a).then((function(){var t=e.annot.getAction();e.annot.setActionData(t,{uri:o}).then((function(){e.annotRender.hideActionsDialog()}))}))}else if("TypeGoto"===i){var s=e.pdfViewer.getPDFDocRender().getScale(),c=new Jm;e.annot.setAction(-1,c).then((function(){var t={};t.pageIndex=e.$gotoInput.val()-1;var n=r.pdfViewer.getPDFPageRender(t.pageIndex),i=n.getScale();n.getPDFPage().then((function(r){var o=(0,R._)(r.reverseDevicePoint([Number(e.$gotoLeftValue.html()),Number(e.$gotoTopValue.html())],i,n.getRotation()),2),a=o[0],c=o[1];t.left=a,t.top=c,"fitWidth"===s?t.type="ZoomFitHorz":"fitHeight"===s?t.type="ZoomFitPage":(t.type="ZoomXYZ",t.zoomFactor=i);var u=e.annot.getAction();e.annot.setActionData(u,t).then((function(){e.annotRender.hideActionsDialog()}))}))}))}})).on("input","#goto-input",(function(t){var n=t.target.value;e.pdfViewer.getPDFDocRender().goToPage(n-1,{x:0,y:0})}))}},{key:"close",value:function(){var e=this.$actionsDialog;this._unwatchScrollEvent&&this._unwatchScrollEvent(),e&&(e[0].close(),e.remove(),this.$actionsDialog=null)}}]),e}();var Zm,Xm=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"doPrepare",value:function(){(0,E._)((0,S._)(n.prototype),"doPrepare",this).call(this),this.canvas.classList.add("fv__viewer-render-square-canvas")}},{key:"doRender",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.renderingData.annotInfo,i=n.borderInfo||{},r=this.convertPointToPixel(i.width||1,e.scale),o=this.canvas.getContext("2d");if(o.clearRect(0,0,this.canvas.width,this.canvas.height),o.save(),!this.component.needToggleView||!this.component.needToggleView()||this.component.shouldRenderByMouseEvent()){e.lineWidth=r,t&&(o.globalAlpha=n.opacity),0===r||!1===n.hasBorderColor?o.strokeStyle="transparent":o.strokeStyle=this.numberToRGBAString(n.color),o.lineWidth=r;try{switch(i.style){case he.BEVELED:case he.UNDERLINE:case he.SOLID:this.renderSolid(o,n,e);break;case he.DASHED:this.renderDashed(o,n,e);break;case he.CLOUDY:this.renderCloud(o,n,e)}var a=n.fillColor;a&&(o.fillStyle=this.numberToRGBAString(a),o.fill()),o.stroke()}finally{o.restore()}}}},{key:"shrinkRect",value:function(e,t){var n=Nh.on(e).shrink(t).extract();return Object.assign(n,{width:n.right-n.left,height:n.bottom-n.top})}},{key:"renderCloud",value:function(e,t,n){t.fillColor;var i=t.borderInfo.cloudIntensity,r=this.shrinkRect(n.innerRect,0),o=this.shrinkRect(n.outerRect,0),a=r.width,s=r.height;new Lm([new im(0,s),new im(a,s),new im(a,0),new im(0,0)],r,o).generate(32/3/i).render(e)}},{key:"renderDashed",value:function(e,t,n){var i=this,r=t.borderInfo,o=r.dashes||[],a=r.dashPhase||0,s=n.scale;e.save(),e.setLineDash&&e.setLineDash(o.map((function(e){return i.convertPointToPixel(e,s)}))),e.lineDashOffset=this.convertPointToPixel(a,s),this.renderSolid(e,t,n)}},{key:"renderSolid",value:function(e,t,n){var i=n.lineWidth,r=n.innerRect,o=n.outerRect,a=r.width,s=r.height,c=.5*i,u=r.left-o.left,l=r.top-o.top;e.beginPath(),e.rect(c+u,c+l,a-i,s-i),e.closePath()}}]),n}(zg),Qm=(function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}(0,D._)(n,[{key:"doPrepare",value:function(){(0,E._)((0,S._)(n.prototype),"doPrepare",this).call(this),this.canvas.style.cssText+="box-sizing: content-box;"}},{key:"doRender",value:function(e){var t=e.renderingData;if(this.component.needToggleView&&this.component.needToggleView()&&!this.component.shouldRenderByMouseEvent()){var n=this.canvas.getContext("2d");return n.clearRect(0,0,this.canvas.width,this.canvas.height),void n.save()}return t.highlightModeIsActive?this.doRenderHighlightMode(e):(t.highlightingMode===Pe.PUSH&&(this.canvas.style.cssText+="border: none; border-color: none;"),this.doRenderNormal(e))}},{key:"doRenderHighlightMode",value:function(e){switch(e.renderingData.highlightingMode){case Pe.NONE:return this.doRenderNormal(e);case Pe.OUTLINE:return this.renderOutline(e);case Pe.INVERT:return this.renderInvert(e);case Pe.PUSH:return this.renderPush(e);case Pe.TOGGLE:return this.renderToggle(e)}}},{key:"doRenderNormal",value:function(e){this.renderSquare(e)}},{key:"getLineWidth",value:function(e,t){return this.convertPointToPixel(e,t)/2}},{key:"renderSquare",value:function(e){var t=e.renderingData.annotInfo,n=t.borderInfo,i=this.getLineWidth(n.width,e.scale);if(0!=i||-1!=t.borderColor||t.fillColor){var r=this.canvas.getContext("2d");if(r.clearRect(0,0,this.canvas.width,this.canvas.height),r.save(),e.lineWidth=i,r.globalAlpha=t.opacity,0===i||!1===t.hasBorderColor?r.strokeStyle="transparent":r.strokeStyle=this.numberToRGBAString(t.color),r.lineWidth=i,n.style===he.DASHED)this.renderDashed(r,t,e);else this.renderSolid(r,t,e);r.stroke()}}},{key:"renderInvert",value:function(e){var t=this,n=this.canvas.getContext("2d"),i=e.renderingData,r=i.page,o=i.annotInfo.borderInfo||{},a=(this.getLineWidth(o.width||0,e.scale),e.outerRect),s={x:a.left,y:a.top,width:a.width,height:a.height};r.getPageBitmap(4*e.scale/3,e.rotate,s,["page","annot"]).then((function(e){var i=e.width,r=e.height,o=e.buffer;n.clearRect(0,0,t.canvas.width,t.canvas.height);var a=new(Uint8ClampedArray||Uint8Array)(o),s=n.createImageData(i,r);s.data.set(a),n.save();for(var c=s.data,u=0;u<c.length;u+=4)c[u]^=255,c[u+1]^=255,c[u+2]^=0;n.putImageData(s,0,0),n.restore()}))}},{key:"renderToggle",value:function(e){}},{key:"renderPush",value:function(e){var t=this,n=this.canvas.getContext("2d");n.clearRect(0,0,this.canvas.width,this.canvas.height),this.canvas.style.cssText+="\n            border: 1px solid;\n            border-color: black #aaa #aaa black;\n        ";var i=e.renderingData.page,r=e.outerRect,o={x:r.left,y:r.top,width:r.width,height:r.height};i.getPageBitmap(4*e.scale/3,e.rotate,o,["page","annot"]).then((function(i){var r=i.width,o=i.height,a=i.buffer;n.clearRect(0,0,t.canvas.width,t.canvas.height);var s=new(Uint8ClampedArray||Uint8Array)(a),c=n.createImageData(r,o);c.data.set(s),n.putImageData(c,0,0),t.renderSquare(e)}))}},{key:"renderOutline",value:function(e){var t=this.canvas.getContext("2d");t.clearRect(0,0,this.canvas.width,this.canvas.height);var n=e.renderingData.annotInfo.borderInfo||{};this.renderSquare(e);var i=5*this.getLineWidth(n.width||0,e.scale)/6,r=.5*i,o=e.outerRect;t.save(),t.lineWidth=i,t.strokeStyle="black",t.strokeRect(r,r,o.width-i,o.height-i),t.restore()}}])}(Xm),Um),ey=function(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:Hm,events:{show:function(){return this.data(Um).updateDeleteStatus(!0),!0},hide:function(){return this.data(Um).updateDeleteStatus(!1),!0}}}}(".fv__pdf-page-annot-handler-rect"),ty="px",ny=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;(0,C._)(this,n),a=t.call(this,e,i,r,o),W.Lazy.property((0,x._)(a),"shapeControl",(function(){var e={moveable:!0,resizable:!0,enableDiagonally:!0},t=a.pdfViewer.customs.getAnnotComponentConfig((0,x._)(a),Object.keys(e)),n=new Ng(Object.assign(e,t,{emitter:a.pdfViewer.eventEmitter,start:function(e,t,n){return a.onStartUpdateShape(e,t,n)},update:function(e,t){return a.onShapeUpdating(e,t)},moving:function(e,t){return a.onShapeMoving(e,t)},end:function(e,t,n){return a.onShapeUpdateEnd(e,t,n)},rotatable:!1,auxiliaryLine:void 0}));a.moveDisabled()&&n.disable(),n.ownsTo(a.disposor);var i=a.pdfViewer.getAnnotAuthorityManager();a.addDestroyHook(i.subscribe(a.annot,(function(e){a.updateOnPermissionChange(e)})));var r=a.pdfViewer.eventEmitter,o=function(){a.isDestroyed||a.annot.isDestroyed||i.getPermission(a.annot).then((function(e){a.updateOnPermissionChange(e)}))};return r.on(se.permissionChanged,o),a.addDestroyHook((function(){r.off(se.permissionChanged,o)})),a.initializeShapeControl(n),n})),a.addDestroyHook(a.pdfViewer.getCustomOptionsUpdater().onGetAnnotComponentConfigUpdated((function(){if(W.Lazy.hasProperty((0,x._)(a),"shapeControl")&&W.Lazy.isPropertyIntialized((0,x._)(a),"shapeControl")){var e=a.shapeControl.isActive,t=a.shapeControl;W.Lazy.reset((0,x._)(a),"shapeControl"),e&&a._applyShapeChange(),t.destroy()}}))),a.name="link",a.highlightModeIsActive=!1,a.$ui.addClass("pdf-page-link-annot-container"),a.$handler.addClass("pdf-page-link-annot-handler-container");var s=a.pdfViewer.i18n,c=Bv().i18n=function(e){return s.t(e)};a.addDestroyHook((function(){Bv().i18n===c&&(Bv().i18n=void 0)}));var u=W.isTouchDevice?"touchstart":"mousedown";return a.$ui.on(u,(function(e){a.highlightModeIsActive=!0,a.render();var t=W.isTouchDevice?"touchend":"mouseup";window.addEventListener(t,(function(){a.highlightModeIsActive=!1,a.render()}),{capture:!0,once:!0})})),a.pdfViewer.eventEmitter.on(se.pageRemoved,a.pageRemoved=function(e){var t=a.annot&&"TypeGoto"==a.annot.action.info.type&&a.annot.action.info.destination&&a.annot.action.info.destination.pageIndex;if(a.annot&&"number"==typeof t&&t==e){var n=a.annot;n.hasPA().then((function(e){e&&n.resetAByPA()}))}}),a}return(0,D._)(n,[{key:"actionsDisabled",value:function(){return!(32&this.docRender.getUserPermission().getValue())}},{key:"onStartUpdateShape",value:function(e,t,n){}},{key:"onShapeUpdating",value:function(e){e.width<1||e.height<1||this.setRect(e)}},{key:"onShapeMoving",value:function(e,t){this.$ui.css({left:e.left,top:e.top})}},{key:"onShapeUpdateEnd",value:function(e,t,n){switch(n){case Ng.ACTION_MOVE:return this.moveTo(e.left,e.top,n);case Ng.ACTION_RESIZE:return e.width<1||e.height<1?Promise.resolve():this.setRect(e)}}},{key:"getTileConfig",value:function(e,t){var n=this.pdfViewer,i=n.getSmartScale(e),r=n.config.tileSize,o=this.annot,a=o.getDeviceRect(1,t),s=o.getDeviceRect(i,t),c=s.right-s.left,u=s.bottom-s.top;return[Math.ceil(u/r),Math.ceil(c/r),c,u,r,i,e,t,a.left,a.top]}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return(0,E._)((0,S._)(n.prototype),"render",this).call(this,e,t)}},{key:"movedByOther",value:function(){this.isActive&&(this.activeRect(),this.shapeControl.updateBoundary(this.getBoundary()))}},{key:"doAction",value:function(){return this.annot.triggerAction()}},{key:"afterRender",value:function(e){if(e.transformed&&this.isActive){this.activeRect();var t=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),t)}}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,R._)((0,G.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2);return{left:0,top:0,right:t[0],bottom:t[1]}}},{key:"activeMore",value:function(e,t){}},{key:"activeMoreItem",value:function(){}},{key:"unActive",value:function(){(0,E._)((0,S._)(n.prototype),"unActive",this).call(this),this.$handler.removeClass("active"),this.shapeControl.deactive()}},{key:"unActiveMore",value:function(){}},{key:"renderDestroy",value:function(){this.tileCanvas&&this.tileCanvas.destroy(),this.$handler.remove()}},{key:"updateBorderProperty",value:function(){}},{key:"getPropertyOptions",value:function(){var e=this.annot;return{color:(0,W.colorConvertor)(e.getBorderColor(),"#"),borderWidth:e.getBorderWidth(),highlightingMode:e.getHighlightingMode(),actionType:this.$action&&this.$action.getType(),disabled:this.propertyDisabled(),minBorderWidth:0,borderStyle:!0,isLocked:this.isLocked()}}},{key:"showPropertiesDialog",value:function(){this.$propertiesControl=new Jv(this,document.body),this.updateDeleteStatus(!0)}},{key:"hidePropertiesDialog",value:function(){this.$propertiesControl&&this.$propertiesControl.close(),this.updateDeleteStatus(!1)}},{key:"showActionsDialog",value:function(){this.$actionsControl=new Km(this,document.body,this.annot.action),this.updateDeleteStatus(!0)}},{key:"hideActionsDialog",value:function(){this.$actionsControl.close(),this.updateDeleteStatus(!1)}},{key:"setColor",value:function(e){var t=this;return this.annot.setBorderColor(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,t),e})):e}))}},{key:"setBorderWidth",value:function(e){var t=this;return this.annot.setBorderWidth(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,t),e})):e}))}},{key:"setBorderStyle",value:function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then((function(){return n.updateRender().then((function(){n.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,n)}))}))}},{key:"setHighlightingMode",value:function(e){var t=this;return this.annot.setHighlightingMode(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,t),e})):e}))}},{key:"redraw",value:function(){return this.activeRect(),this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),this.render()}},{key:"updateRender",value:function(){return Promise.resolve()}},{key:"destroy",value:function(){this.$propertiesControl=null,this.contextMenu&&this.contextMenu.destroy(),this.pageRemoved&&this.pdfViewer.eventEmitter.off(se.pageRemoved,this.pageRemoved),this.pageRemoved=null,(0,E._)((0,S._)(n.prototype),"destroy",this).call(this)}},{key:"showContextMenu",value:function(e,t){if(this.contextMenu){if(W.isDesktop&&this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName()===yn)return;return this.contextMenu.setCurrentTarget(this),this.contextMenu.showAt(e,t)}return!1}},{key:"removeAnnot",value:function(){var e=this;return this.getAppPermission().then((function(t){return t.ignorable()&&e.deleteDisabled()?Promise.resolve():t.isDeletable()?e.doRemoveAnnot():void 0})).then((function(t){var n=e.pdfViewer.getCurrentActivatable();return n&&n.remove&&n.remove(e),t}))}},{key:"doRemoveAnnot",value:function(){var e=this,t=this.pdfViewer,n=t.eventEmitter,i=this.annot;return Promise.resolve((t.customs.removeAnnotBefore||W.noop)(this)).then((function(t){if(n.emit(se.removeActionAnnotationBefore,e),!1!==t)return i.getPDFPage().removeAnnot(i).then((function(t){return n.emit(se[t?"removeActionAnnotationSuccess":"removeActionAnnotationFailed"],e,i),t}),(function(){n.emit(se.removeActionAnnotationFailed,e)}))}))}},{key:"removeAnnotRender",value:function(){this.renderDestroy(),this.parent().remove()}},{key:"activeRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,t=this.$rect=this.$rect||this.rectInit(),n=this.scale,i=this.rotate,r=e.getDeviceRect(n,i);t.css({left:r.left+ty,top:r.top+ty,width:r.right-r.left+ty,height:r.bottom-r.top+ty}),this.isActive&&this._applyShapeChange()}},{key:"updateSize",value:function(e,t){(0,E._)((0,S._)(n.prototype),"updateSize",this).call(this,e,t),this.activeRect()}},{key:"rectInit",value:function(){var e=this.$handler,t=j()(this.createRectDom());e.append(t);var n=t[0],i=this.rectHammer=new Hammer.Manager(n,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});return i.add(new Hammer.Tap({event:"doubletap",taps:2})),i.add(new Hammer.Tap({event:"singletap"})),i.get("doubletap").recognizeWith("singletap"),i.get("singletap").requireFailure("doubletap"),this.contextMenuIsEnable()&&(e.on("contextmenu",(function(e){e.preventDefault()})),e.on("mouseup",(function(e){e.stopPropagation()})),this.contextMenu=this.pdfViewer.viewerUI.createContextMenu(this,e.get(0),this.getContextMenuConfig()),t.data(Qm,this)),this.addDestroyHook((function(){i.destroy()})),t}},{key:"createRectDom",value:function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui}},{key:"getContextMenuConfig",value:function(){if(Zm)return Zm;var e=this.constructor.getDefaultContextMenuConfig();for(var t in this.updateContextMenuConfig(e),e)if("items"===t){var n=e[t],i=this.pdfViewer.i18n;for(var r in n){var o=n[r];o.nameI18nKey&&(o.name=i.t(o.nameI18nKey))}}return e}},{key:"doubleTapAnnot",value:function(){}},{key:"updateContextMenuConfig",value:function(e){}},{key:"active",value:function(e){(0,E._)((0,S._)(n.prototype),"active",this).call(this),this.$handler.addClass("active"),this.activeRect(),this._applyShapeChange()}},{key:"_applyShapeChange",value:function(){var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e)}},{key:"tapAnnot",value:function(e){if(this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName()!==yn)return(0,E._)((0,S._)(n.prototype),"tapAnnot",this).call(this,e);e&&0==e.button&&this.doAction()}},{key:"invisibleRender",value:function(){}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=(0,E._)((0,S._)(n.prototype),"getRenderingData",this).call(this,e,t);return Object.assign(i,{highlightingMode:this.annot.getHighlightingMode(),highlightModeIsActive:this.highlightModeIsActive})}}],[{key:"getDefaultContextMenuConfig",value:function(){return ey}},{key:"setContextMenuConfig",value:function(e){Zm=e}}]),n}(qd);const iy=ny;var ry=2*Math.PI;var oy=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"doRender",value:function(e){var t=e.renderingData.annotInfo,n=t.borderInfo||{},i=this.convertPointToPixel(n.width||1,e.scale);if(0!=i||-1!=t.borderColor||t.fillColor){var r=this.canvas.getContext("2d");if(r.clearRect(0,0,this.canvas.width,this.canvas.height),r.save(),!this.component.needToggleView||!this.component.needToggleView()||this.component.shouldRenderByMouseEvent()){e.lineWidth=i,r.globalAlpha=t.opacity,0===i||!1===t.hasBorderColor?r.strokeStyle="transparent":r.strokeStyle=this.numberToRGBAString(t.color),r.lineWidth=i;try{switch(n.style){case he.SOLID:this.renderSolid(r,t,e);break;case he.BEVELED:break;case he.DASHED:this.renderDashed(r,t,e);break;case he.CLOUDY:0==n.cloudIntensity?this.renderSolid(r,t,e):this.renderCloud(r,t,e)}var o=t.fillColor;o&&(r.fillStyle=this.numberToRGBAString(o),r.fill()),r.stroke(),this.setContents(r,t.contents,e)}finally{r.restore()}}}}},{key:"renderSolid",value:function(e,t,n){this.renderDashed(e,t,n)}},{key:"renderDashed",value:function(e,t,n){var i=t.borderInfo,r=n.lineWidth,o=n.innerRect,a=n.outerRect,s=i.dashes||[],c=i.dashPhase||0,u=.5*r,l=new im(.5*(o.left+o.right)-a.left,.5*(o.top+o.bottom)-a.top),A=Math.abs(.5*o.height-u),d=Math.abs(.5*o.width-u);e.lineDashOffset=c,e.setLineDash&&e.setLineDash(s),e.beginPath(),function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI,c=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];e.ellipse?e.ellipse(t,n,i,r,o,a,s,c):(e.save(),e.translate(t,n),e.rotate(o),e.scale(i,r),e.arc(0,0,1,a,s,c),e.restore())}(e,l.x,l.y,d,A),e.closePath()}},{key:"renderCloud",value:function(e,t,n){var i=t.borderInfo.cloudIntensity,r=.5*n.lineWidth,o=this.shrinkRect(n.innerRect,r),a=this.shrinkRect(n.outerRect,r),s=new im(.5*(a.right-a.left)-(o.left-a.left),.5*(a.bottom-a.top)-(o.top-a.top)),c=.5*o.height-r,u=.5*o.width-r,l=16/i,A=Math.PI/l,d=2*Math.PI,h=Array(Math.floor(d/A)-1).fill(0).map((function(e,t){return t*A%d})).map((function(e){var t=u*Math.cos(d-e),n=c*Math.sin(d-e);return s.add(t,n)}));new Lm(h,o,a).generate(1,e).render(e)}},{key:"shrinkRect",value:function(e,t){var n=Nh.on(e).shrink(t).extract();return Object.assign(n,{width:n.right-n.left,height:n.bottom-n.top})}},{key:"setContents",value:function(e,t,n){if(void 0!==t){var i=n.innerRect,r=n.outerRect,o=.5*(i.left+i.right)-r.left,a=.5*(i.top+i.bottom)-r.top,s=e;s.beginPath(),s.font="14px Verdana",s.textAlign="left",s.textBaseline="top",s.direction="ltr";var c=s.measureText(t).width;s.fillStyle="#AF6B6B",s.fillText(t,o-c/2,a-7,c),s.closePath()}}}]),n}(zg);var ay=function(){return Hv(arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect")}(),sy=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;return(0,C._)(this,n),a=t.call(this,e,i,r,o),W.Lazy.property((0,x._)(a),"shapeControl",(function(){var e={moveable:!0,resizable:!0},t=a.pdfViewer.customs.getAnnotComponentConfig((0,x._)(a),Object.keys(e)),n=new Ng(Object.assign(e,t,{emitter:a.pdfViewer.eventEmitter,start:function(){return a.onStartUpdateShape()},update:function(e,t){return a.onShapeUpdating(e,t)},moving:function(e,t){return a.onShapeMoving(e,t)},end:function(e,t,n){return a.onShapeUpdateEnd(e,t,n)},rotatable:!1,auxiliaryLine:void 0}));return a.processShapeControlPermissionCtrl(n),n})),a.$ui.addClass("circle-ui"),a}return(0,D._)(n,[{key:"movedByOther",value:function(){this.isActive&&this._applyShapeChange()}},{key:"_applyShapeChange",value:function(){var e=this._getShapeControllerBoundaryBox(),t=this.getInnerBoundary();this.shapeControl.active(this.$handler,t,e),this._updateShapeControlMargin()}},{key:"active",value:function(){(0,E._)((0,S._)(n.prototype),"active",this).call(this),this.activeRect(this.annot),this._applyShapeChange();var e=this.shapeControl.getPreviewerContext();this._previewUpdatedShape(this.shapeControl.getCurrentShape(),e)}},{key:"activeRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,t=this.$rect=this.$rect||this.rectInit(),n=this.scale,i=this.rotate,r=e.getDeviceInnerRect(n,i),o="px";t.css({left:r.left+o,top:r.top+o,width:r.right-r.left+o,height:r.bottom-r.top+o}),this.isActive&&this._applyShapeChange()}},{key:"_updateShapeControllerBoundaryBox",value:function(){this.shapeControl.updateBoundaryBox(this._getShapeControllerBoundaryBox()),this._updateShapeControlMargin()}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,R._)((0,G.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2),n=t[0],i=t[1],r=this.getInnerRect(),o=this.getRect(),a=Nh.subtract(r,o);return Nh.on({left:0,top:0,right:n,bottom:i}).add(a).extract()}},{key:"createRectDom",value:function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui}},{key:"unActive",value:function(){(0,E._)((0,S._)(n.prototype),"unActive",this).call(this),this.shapeControl.deactive()}},{key:"onStartUpdateShape",value:function(e,t){this.editDebouncePromise||(this.editDebouncePromise=new W.DebounceAsyncTaskExecutor(0))}},{key:"onShapeUpdating",value:function(e,t){var n=this;this.updateCollabOp(e),this.pdfViewer.config.highPerformance&&(this._previewUpdatedShape(e,t),this.editDebouncePromise&&this.editDebouncePromise.exec((function(){return n.setRect(n._transformShapeOfInnerRectToOuterRect(e)).then((function(e){n._updateShapeControllerBoundaryBox()}))})))}},{key:"onShapeMoving",value:function(e,t){var n=this;this.updateCollabOp(e),this.justMoved=!0,this.pdfViewer.config.highPerformance&&this.editDebouncePromise&&this.editDebouncePromise.exec((function(){var t=n.getRect(),i=n.getInnerRect(),r=t.left-i.left,o=t.top-i.top;return n.moveTo(e.left+r,e.top+o).then((function(e){n._updateShapeControllerBoundaryBox()}))}))}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this;this._previewUpdatedShape(e,t);var r=this.getRect(),o=this.getInnerRect(),a=r.left-o.left,s=r.top-o.top;return this.editDebouncePromise?this.editDebouncePromise.waitForLastTask().then((function(){var t=!!i.justMoved;return i.moveTo(e.left+a,e.top+s,n,!0,!1,t).then((function(t){!i.justMoved&&i._setRect(i._transformShapeOfInnerRectToOuterRect(e),!0),i.justMoved=!1})).then((function(e){i._updateShapeControllerBoundaryBox()}))})):Promise.resolve()}},{key:"_transformShapeOfInnerRectToOuterRect",value:function(e){var t={left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height},n=Nh.subtract(this.getRect(),this.getInnerRect()),i=Nh.on(t).add(n).extract();return{left:i.left,top:i.top,width:i.right-i.left,height:i.bottom-i.top}}},{key:"_previewUpdatedShape",value:function(e,t){t.clearRect(0,0,e.width,e.height);var n=e.width/2,i=e.height/2,r=n,o=i;t.strokeStyle="#759DB8",t.lineWidth=1,function(e,t,n,i,r){var o=Math.max(i,r),a=i/o,s=r/o;e.save(),e.scale(a,s),e.beginPath(),e.arc(t/a,n/s,o,0,ry,!1),e.closePath(),e.restore()}(t,n,i,r,o),t.stroke()}},{key:"getPropertyOptions",value:function(){var e=this.annot;return{color:(0,W.colorConvertor)(e.getBorderColor(),"#"),opacity:e.getOpacity(),borderWidth:e.getBorderWidth(),cloudy:!0,fillColor:e.getFillColor(),disabled:this.propertyDisabled(),borderStyle:!0,isLocked:this.isLocked()}}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return(0,E._)((0,S._)(n.prototype),"render",this).call(this,e,t)}},{key:"setBorderWidth",value:function(e){var t=this;return this.annot.setBorderWidth(e).then((function(e){return t._handlerRerender(e)}))}},{key:"setBorderStyle",value:function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then((function(e){return n._handlerRerender(e)}))}},{key:"setCloudIntencity",value:function(e){return this.setBorderStyle(he.CLOUDY,e)}},{key:"setFillColor",value:function(e){var t=this;return this.annot.setFillColor(e).then((function(e){return t._handlerRerender(e)}))}},{key:"getInnerRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.getPDFPage(),i=this.annot.getInnerRect(),r=n.getDeviceRect(i,e,t);return{left:r.left,top:r.top,right:r.right,bottom:r.bottom}}},{key:"getInnerBoundary",value:function(){var e=this.getPDFPage(),t=this.annot.getInnerRect(),n=e.getDeviceRect(t,this.scale,this.rotate);return{left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top}}},{key:"_handlerRerender",value:function(e){var t=this;return e?this.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,t),e})):e}},{key:"_updateShapeControlMargin",value:function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(Nh.expandOffset(t,e))}}],[{key:"getDefaultContextMenuConfig",value:function(){return ay}}]),n}(og),cy=n(3110),uy=n.n(cy),ly=n(7308),Ay=n.n(ly),dy=n(3856),hy=n.n(dy),fy=n(4814),py=n.n(fy),vy=n(9797),gy=n.n(vy),my=n(4739),yy=n.n(my),_y=n(1158),by=n.n(_y),wy=n(2186),ky=n.n(wy),xy=n(927),Py=n.n(xy),Cy=n(5984),Dy=n.n(Cy),Ey=n(1490),Sy=n.n(Ey),Iy=n(9856),Ty=n.n(Iy),Ry=n(7156),My=n.n(Ry),Fy=n(9649),Ny=n.n(Fy),Ly=n(7283),Oy=n.n(Ly);const jy={Check:uy(),Circle:Ay(),Comment:hy(),Cross:py(),Help:gy(),Insert:yy(),Key:by(),NewParagraph:ky(),Note:Py(),Paragraph:Dy(),RightArrow:Sy(),RightPointer:Ty(),Star:My(),UpArrow:Ny(),UpLeftArrow:Oy()};var By=n(1583),Vy=n.n(By),Uy=n(6283),Hy=n.n(Uy),zy=n(6852),Wy=n.n(zy),Gy=n(8807),Yy=n.n(Gy);const $y={Graph:Vy(),Paperclip:Hy(),PushPin:Wy(),Tag:Yy()};var Jy=n(8998),qy=n.n(Jy),Ky=n(7697),Zy=n.n(Ky),Xy=n(9291),Qy=n.n(Xy);const e_={Ear:qy(),Mic:Zy(),Speaker:Qy()};var t_={};var n_;!function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this,e)).annot=e.annot,i}(0,D._)(n,[{key:"render",value:function(e,t){var n=this.annot,i=n.getFlags(),r=n.getDeviceRect(e,t);r.width=r.right-r.left,r.height=r.bottom-r.top,8&i&&(r.width/=4*e/3,r.height/=4*e/3);var o=function(e,t,n){if(!e||!t)return"";var i,r=e+t+n;if(r in t_)return t_[r];if("text"===e?i=jy:"fileattachment"===e?i=$y:"sound"===e&&(i=e_),!i)return"";var o=i[t]({fillColor:n});return t_[r]=o}(n.getType(),n.getIconName(),(0,W.colorConvertor)(n.getBorderColor(),"#")),a="unset";return this.component.needToggleView&&this.component.needToggleView()&&(this.component.shouldRenderByMouseEvent()||(a="hidden")),this.component.$ui.css({left:r.left,top:r.top,width:r.width,height:r.height,opacity:n.getOpacity(),visibility:a}).empty().html(o),Promise.resolve()}},{key:"destroy",value:function(){(0,E._)((0,S._)(n.prototype),"destroy",this).call(this),this.annot=null}}])}(Hg);!function(e){e.fully="fully",e.playable="playable",e.adjustable="adjustable",e.deletable="deletable",e.modifiable="modifiable",e.attachmentDownloadable="attachmentDownloadable",e.replyable="replyable",e.editable="editable"}(n_||(n_={}));var i_=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;return(0,C._)(this,n),(a=t.call(this,e,i,r,o)).name="note",a.$ui.addClass("fv__pdf-page-note-annot-container"),a.$handler.addClass("fv__pdf-page-note-annot-handler-container"),W.Lazy.property((0,x._)(a),"shapeControl",(function(){var e={moveable:!0},t=a.pdfViewer.customs.getAnnotComponentConfig((0,x._)(a),Object.keys(e)),n={emitter:a.pdfViewer.eventEmitter,start:function(){return a.onStartUpdateShape()},moving:function(e,t,n){return a.onShapeMoving(e,t,n)},end:function(e,t,n){return a.onShapeUpdateEnd(e,t,n)},resizable:!1,rotatable:!1,auxiliaryLine:void 0},i=new Ng((0,w._)({},e,n,t));return i.ui.classList.add("fv__pdf-page-annot-handler-rect"),a.processShapeControlPermissionCtrl(i),i})),a}return(0,D._)(n,[{key:"active",value:function(){(0,E._)((0,S._)(n.prototype),"active",this).call(this),this.activeRect(),this._applyShapeChange()}},{key:"_applyShapeChange",value:function(){var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e),this.setMargin()}},{key:"activeRect",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,i=this.$rect=this.$rect||this.rectInit(),r=this.scale,o=this.rotate,a=n.getDeviceRect(r,o);if(8&this.annot.getFlags()){var s=this.annot.getRect();e=s.right-s.left,t=s.top-s.bottom}else{var c=this.annot.getDeviceRect(1,o);e=c.right-c.left,t=c.bottom-c.top}i.css({left:a.left,top:a.top,width:e,height:t}),this.isActive&&this._applyShapeChange()}},{key:"movedByOther",value:function(){this.isActive&&(this.activeRect(),this._applyShapeChange())}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,R._)((0,G.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2);return{left:0,top:0,right:t[0],bottom:t[1]}}},{key:"unActive",value:function(){(0,E._)((0,S._)(n.prototype),"unActive",this).call(this),this.shapeControl.deactive()}},{key:"setIconName",value:function(e){return this.annot.setIconName(e).then((function(e){return e}))}},{key:"createRectDom",value:function(){return this.shapeControl.ui}},{key:"onStartUpdateShape",value:function(){this.editDebouncePromiseQueue||(this.editDebouncePromiseQueue=new W.DebounceAsyncTaskExecutor(0))}},{key:"onShapeMoving",value:function(e,t,n){var i=this;if(this.updateCollabOp(e,!0),this.pdfViewer.config.highPerformance)this.editDebouncePromiseQueue.exec((function(){return i.moveTo(e.left,e.top).then((function(e){i.setMargin(),i._applyShapeChange()}))}));else{var r=this._moveOffset||{},o=r.offsetLeft||0,a=r.offsetTop||0;this._moveOffset={offsetLeft:o+n.offsetLeft,offsetTop:a+n.offsetTop}}}},{key:"onShapeUpdateEnd",value:function(e,t){var n=this;return this.editDebouncePromiseQueue.waitForLastTask().then((function(){return n.moveTo(e.left,e.top,"move").then((function(e){n.setMargin(),n._applyShapeChange()}))}))}},{key:"setMargin",value:function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(Nh.expandOffset(t,e))}},{key:"redraw",value:function(e){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),(0,E._)((0,S._)(n.prototype),"redraw",this).call(this,e)}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=this.annot.info;if("R"==i.RT&&(0!=i.IRT||null!=i.RT))return Promise.resolve();if((0,E._)((0,S._)(n.prototype),"render",this).call(this,e,t),1!=W.dpr&&this.tileCanvas){var r=this.getTileConfig(e,t),o=Math.max(.5,e*W.dpr/r[5]);this.tileCanvas.$container.css({transform:"scale("+o+")"})}}}]),n}(og);const r_=i_;var o_=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"prepare",value:function(){var e=this,t=this.component,n=t.annot;this.tileCanvas=this.tileCanvas||new Jr((function(i,r,o,a,s,c,u,l,A){return t.isDestroyed?Promise.resolve():t.getPDFPage().getAnnotBitmap(n.getId(),(0,G.F2)(c),A,{x:u*c+r*s,y:l*c+i*s,width:o,height:a},!0,t.renderAppearanceType,e.component.getAnnotFlag().flag)}),t.$ui)}},{key:"doHide",value:function(){this.tileCanvas.hideContainer()}},{key:"doShow",value:function(){this.tileCanvas.showContainer()}},{key:"doRender",value:function(e,t,n){var i=this;this.tileCanvas.setVisibleRect(n);var r=!0;if(n){var o=this.component.getRect(),a={left:Math.max(o.left,n.left),top:Math.max(o.top,n.top),right:Math.min(o.right,n.right),bottom:Math.min(o.bottom,n.bottom)};r=a.right>=a.left&&a.bottom>=a.top}var s,c,u=this.component.getTileConfig(e,t);return r?(s=this.tileCanvas).redraw.apply(s,(0,M._)(u)).then((function(e){if(!i.component.isDestroyed)return i.component.needToggleView&&i.component.needToggleView()&&!i.component.shouldRenderByMouseEvent()?(i.tileCanvas.clearCanvasContent(),Promise.resolve()):Promise.resolve()})):((c=this.tileCanvas).updateDom.apply(c,(0,M._)(u)),this.component.needToggleView&&this.component.needToggleView()&&!this.component.shouldRenderByMouseEvent()?(this.tileCanvas.clearCanvasContent(),Promise.resolve()):Promise.resolve())}},{key:"willRender",value:function(){this.tileCanvas.$container.get(0).style.willChange="left, top, width, height"}},{key:"afterRender",value:function(){this.tileCanvas.$container.get(0).style.willChange="auto"}},{key:"destroy",value:function(){this.prepared&&((0,E._)((0,S._)(n.prototype),"destroy",this).call(this),this.tileCanvas.destroy(),this.tileCanvas=null)}},{key:"clearCache",value:function(){this.tileCanvas.clearCache()}},{key:"invisibleRender",value:function(){try{this.tileCanvas.invisibleRender()}catch(e){}}}]),n}(Hg),a_=(function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}(0,D._)(n,[{key:"doRender",value:function(e,t,i){var r=this;return(0,E._)((0,S._)(n.prototype),"doRender",this).call(this,e,t,i).then((function(){r.tileCanvas.$container.get(0).style.cssText+="\n                transform-origin: center;\n                transform: rotate(-".concat(t,"deg);\n            ")}))}}])}(o_),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;return(0,C._)(this,n),(a=t.call(this,e,i,r,o)).name="file",a.$ui.addClass("fv__pdf-page-file-annot-container"),a.$handler.addClass("fv__pdf-page-file-annot-handler-container"),W.Lazy.property((0,x._)(a),"shapeControl",(function(){var e={moveable:!0},t=a.pdfViewer.customs.getAnnotComponentConfig((0,x._)(a),Object.keys(e)),n={emitter:a.pdfViewer.eventEmitter,start:function(){return a.onStartUpdateShape()},moving:function(e,t,n){return a.onShapeMoving(e,t,n)},end:function(e,t,n){return a.onShapeUpdateEnd(e,t,n)},resizable:!1,auxiliaryLine:void 0},i=new Ng((0,w._)({},e,t,n));return i.ui.classList.add("fv__pdf-page-annot-handler-rect"),(a.groupMoveDisabled()||a.moveDisabled())&&i.disable(),a.getAppPermission().then((function(e){e.isAdjustable()||e.isEditable()||i.disable()})),i})),a}return(0,D._)(n,[{key:"active",value:function(){(0,E._)((0,S._)(n.prototype),"active",this).call(this),this.activeRect(),this._applyShapeChange()}},{key:"activeRect",value:function(){arguments.length>0&&void 0!==arguments[0]||this.annot;var e=this.$rect=this.$rect||this.rectInit(),t=this.scale,n=this.rotate,i=this.getRect(t,n);e.css({left:i.left,top:i.top,width:i.right-i.left,height:i.bottom-i.top}),this.isActive&&this._applyShapeChange()}},{key:"_applyShapeChange",value:function(){var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e),this.setMargin()}},{key:"movedByOther",value:function(){this.isActive&&this._applyShapeChange()}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,R._)((0,G.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2);return{left:0,top:0,right:t[0],bottom:t[1]}}},{key:"unActive",value:function(){(0,E._)((0,S._)(n.prototype),"unActive",this).call(this),this.shapeControl.deactive()}},{key:"setIconName",value:function(e){var t=this;return this.annot.setIconName(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,t),e})):e}))}},{key:"createRectDom",value:function(){return this.shapeControl.ui}},{key:"onStartUpdateShape",value:function(e,t){this.editDebouncePromise||(this.editDebouncePromise=new W.DebounceAsyncTaskExecutor(0))}},{key:"onShapeMoving",value:function(e,t,n){var i=this;this.updateCollabOp(e),this.pdfViewer.config.highPerformance&&this.editDebouncePromise&&this.editDebouncePromise.exec((function(){return i.moveTo(e.left,e.top).then((function(e){i.setMargin(),i._applyShapeChange()}))}))}},{key:"onShapeUpdateEnd",value:function(e,t){var n=this;return this.editDebouncePromise?this.editDebouncePromise.waitForLastTask().then((function(){return n.moveTo(e.left,e.top,"move").then((function(e){n.setMargin(),n._applyShapeChange()}))})):Promise.resolve()}},{key:"setMargin",value:function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(Nh.expandOffset(t,e))}},{key:"onDoubleTap",value:function(){return!1}},{key:"doubleTapAnnot",value:function(e){var t=this;if("comment"===e)return this.getAppPermission().then((function(e){e.isEditable()&&t.showReplyDialog("comment")}));this.rectDoubleTap()}},{key:"rectDoubleTap",value:function(){this.download()}},{key:"download",value:function(){var e=this;this.getAppPermission().then((function(t){t.isAttachmentDownloadable()&&e.doDownload()}))}},{key:"doDownload",value:function(){var e=this,t=this.pdfViewer;if(!this.annot.getFileSpec())return t.viewerUI.alert({message:"sidebar.attachment.emptyFile",level:"warning"});var n=Promise.resolve();t.getSafeReadingMode()&&(n=t.viewerUI.confirm({message:"sidebar.attachment.safeModeDownload",level:"warning"})),n.then((function(){e.annot.getFileattachmentStream().then((function(t){Oh(t,e.annot.getFileSpec().getFileName(),"application/octet-stream")}))}),tr)}},{key:"redraw",value:function(e){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),(0,E._)((0,S._)(n.prototype),"redraw",this).call(this,e)}},{key:"getRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.getPDFPage(),i=this.annot.getRect(),r=n.getDeviceRect(i,e,t),o=n.getDeviceRect(i,e,0),a=o.right-o.left,s=o.bottom-o.top;return 8&this.annot.getFlags()&&(a=i.right-i.left,s=i.top-i.bottom),{left:r.left,top:r.top,right:r.left+a,bottom:r.top+s}}},{key:"getBoundary",value:function(){var e=this.annot.getDeviceRect(this.scale,this.rotate),t=this.annot.getDeviceRect(this.scale,0),n=this.annot.getRect(),i=t.right-t.left,r=t.bottom-t.top;return 8&this.annot.getFlags()&&(i=n.right-n.left,r=n.top-n.bottom),{left:e.left,top:e.top,width:i,height:r}}}]),n}(og));const s_=a_;!function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}(0,D._)(n,[{key:"doRender",value:function(e){var t=this.component.annot.info,n=e.outerRect,i=(e.rotate%360+360)%360;if(-1!=t.borderColor){var r=this.canvas.getContext("2d");if(r.clearRect(0,0,this.canvas.width,this.canvas.height),!this.component.needToggleView||!this.component.needToggleView()||this.component.shouldRenderByMouseEvent()){r.save(),r.globalAlpha=t.opacity;var o=.2*n.width;0===o||!1===t.hasBorderColor?r.strokeStyle="transparent":r.strokeStyle=this.numberToRGBAString(t.color);var a=.5*o,s=a,c=n.width-a,u=n.height-2*a/3,l=Math.atan2(u,n.width/2),A=o/Math.sin(l)+.3*a,d=new xm([new im(s,u),new im(n.width/2,A),new im(c,u)],!1);r.lineWidth=o;var h=i/180*Math.PI,f=0,p=0;switch(i){case 90:f=-s,p=-(u+A);break;case 270:f=-c;break;case 180:f=-(s+c),p=-u}r.rotate(h),r.translate(f,p),d.render(r),r.stroke(),r.restore()}}}}])}(zg);var c_=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;return(0,C._)(this,n),(a=t.call(this,e,i,r,o)).name="caret",a.$ui.addClass("fv__pdf-page-caret-annot-container"),a.$handler.addClass("fv__pdf-page-caret-annot-handler-container"),a}return(0,D._)(n,[{key:"updateOnPermissionChange",value:function(e){if(!this.isDestroyed){!!this.readOnlyDisabled()||!e.ignorable()&&!e.isModifiable()?this.$handler.addClass("disabled"):this.$handler.removeClass("disabled")}}},{key:"checkRenderingModeIs",value:function(e){return this.pdfViewer.config.annotRenderingMode.caret===e}},{key:"active",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"active",this).call(this),this.activeRect(),this.$rect.addClass("active"),this.$rect.on("click.unactive",(function(t){e.isActive&&t.originalEvent.isTrusted&&0===t.button&&!t.shiftKey&&t.ctrlKey&&e.unActive()}))}},{key:"afterRender",value:function(e){e.transformed&&this.isActive&&this.activeRect()}},{key:"unActive",value:function(){(0,E._)((0,S._)(n.prototype),"unActive",this).call(this);var e=this.$rect;e&&e.removeClass("active")}},{key:"isReplace",value:function(){return this.annot.isGrouped()&&"replace"===(this.annot.getIntent()||"").toLowerCase()}},{key:"showUI",value:function(){var e=this;if(this.isReplace()){var t=this.annot.getGroupElements().filter((function(t){return t!==e.annot}))[0];if(t&&t.isDeleted())return(0,E._)((0,S._)(n.prototype),"showUI",this).call(this);var i=this.parent("annotsRender").getAnnotRender(t.getId());return(0,E._)((0,S._)(n.prototype),"showUI",this).call(this).then((function(){return i.component.showUI()}))}return(0,E._)((0,S._)(n.prototype),"showUI",this).call(this)}},{key:"hideUI",value:function(){var e=this;if(this.isReplace()){var t=this.annot.getGroupElements().filter((function(t){return t!==e.annot}))[0];if(t&&t.isDeleted())return(0,E._)((0,S._)(n.prototype),"hideUI",this).call(this);var i=this.parent("annotsRender").getAnnotRender(t.getId());return(0,E._)((0,S._)(n.prototype),"hideUI",this).call(this).then((function(){return i.component.hideUI()}))}return(0,E._)((0,S._)(n.prototype),"hideUI",this).call(this)}}]),n}(og);const u_=c_;var l_=Hv(),A_=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;return(0,C._)(this,n),a=t.call(this,e,i,r,o),W.Lazy.property((0,x._)(a),"shapeControl",(function(){var e={moveable:!0,resizable:!0,enableDiagonally:!0},t=a.pdfViewer.customs.getAnnotComponentConfig((0,x._)(a),Object.keys(e)),n=new Ng(Object.assign(e,t,{emitter:a.pdfViewer.eventEmitter,start:function(e,t,n){return a.onStartUpdateShape(e,t,n)},moving:function(e,t){return a.onShapeMoving(e,t)},update:function(e,t){return a.onShapeUpdating(e,t)},end:function(e,t,n){return a.onShapeUpdateEnd(e,t,n)},rotatable:!1,auxiliaryLine:void 0}));return a.processShapeControlPermissionCtrl(n),n})),a}return(0,D._)(n,[{key:"onStartUpdateShape",value:function(e,t,n){this.editDebouncePromise||(this.editDebouncePromise=new W.DebounceAsyncTaskExecutor(0))}},{key:"onShapeMoving",value:function(e,t){this.updateCollabOp(e),this.pdfViewer.config.highPerformance}},{key:"onShapeUpdating",value:function(e,t){var n=this;this.updateCollabOp(e),this.pdfViewer.config.highPerformance&&this.editDebouncePromise&&this.editDebouncePromise.exec((function(){return n.setRect(n._transformShapeOfInnerRectToOuterRect(e)).then((function(e){n._updateShapeControlMargin(),n._updateShapeControllerBoundaryBox()}))}))}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this;return this.editDebouncePromise?this.editDebouncePromise.exec((function(){var t=i.getRect(),r=i.getInnerRect(),o=t.left-r.left,a=t.top-r.top;return i.moveTo(e.left+o,e.top+a,n,!0,!1,!1).then((function(t){return i._setRect(i._transformShapeOfInnerRectToOuterRect(e),!0)})).then((function(e){i._updateShapeControlMargin(),i._updateShapeControllerBoundaryBox()}))})):Promise.resolve()}},{key:"_transformShapeOfInnerRectToOuterRect",value:function(e){var t={left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height},n=Nh.subtract(this.getRect(),this.getInnerRect()),i=Nh.on(t).add(n).extract();return{left:i.left,top:i.top,width:i.right-i.left,height:i.bottom-i.top}}},{key:"active",value:function(){(0,E._)((0,S._)(n.prototype),"active",this).call(this),this.activeRect(this.annot),this._applyShapeChange();var e=this.shapeControl.getPreviewerContext();this._previewUpdatedShape(this.shapeControl.getCurrentShape(),e)}},{key:"movedByOther",value:function(){this.isActive&&this._applyShapeChange()}},{key:"_applyShapeChange",value:function(){var e=this.getInnerBoundary(),t=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,e,t),this._updateShapeControlMargin()}},{key:"activeRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,t=this.$rect=this.$rect||this.rectInit(),n=this.scale,i=this.rotate,r=e.getDeviceInnerRect(n,i),o="px";t.css({left:r.left+o,top:r.top+o,width:r.right-r.left+o,height:r.bottom-r.top+o}),this.isActive&&this._applyShapeChange()}},{key:"_updateShapeControllerBoundaryBox",value:function(){this.shapeControl.updateBoundaryBox(this._getShapeControllerBoundaryBox())}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,R._)((0,G.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2),n=t[0],i=t[1],r=this.getInnerRect(),o=this.getRect(),a=Nh.subtract(r,o);return Nh.on({left:0,top:0,right:n,bottom:i}).add(a).extract()}},{key:"unActive",value:function(){(0,E._)((0,S._)(n.prototype),"unActive",this).call(this),this.shapeControl.deactive()}},{key:"createRectDom",value:function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui}},{key:"getPropertyOptions",value:function(){var e=this.annot;return{color:(0,W.colorConvertor)(e.getBorderColor(),"#"),opacity:e.getOpacity(),borderWidth:e.getBorderWidth(),cloudy:!0,fillColor:e.getFillColor(),disabled:this.propertyDisabled(),borderStyle:!0,isLocked:this.isLocked()}}},{key:"_previewUpdatedShape",value:function(e,t){t.clearRect(0,0,e.width,e.height),t.strokeStyle="#759DB8",t.lineWidth=1,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;e.save(),e.beginPath(),e.rect(t,n,i,r),e.closePath(),e.restore()}(t,0,0,e.width,e.height),t.stroke()}},{key:"setBorderWidth",value:function(e){var t=this;return this.annot.setBorderWidth(e).then((function(e){return t._handlerRerender(e)}))}},{key:"setBorderStyle",value:function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then((function(e){return n._handlerRerender(e)}))}},{key:"setFillColor",value:function(e){var t=this;return this.annot.setFillColor(e).then((function(e){return t._handlerRerender(e)}))}},{key:"getInnerRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.getPDFPage(),i=this.annot.getInnerRect(),r=n.getDeviceRect(i,e,t);return{left:r.left,top:r.top,right:r.right,bottom:r.bottom}}},{key:"getInnerBoundary",value:function(){var e=this.getPDFPage(),t=this.annot.getInnerRect(),n=e.getDeviceRect(t,this.scale,this.rotate);return{left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top}}},{key:"_handlerRerender",value:function(e){var t=this;return e?this.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,t),e})):e}},{key:"_updateShapeControlMargin",value:function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(Nh.expandOffset(t,e))}}],[{key:"getDefaultContextMenuConfig",value:function(){return l_}}]),n}(og),d_=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;return(0,C._)(this,n),a=t.call(this,e,i,r,o),W.Lazy.release((0,x._)(a),"shapeControl",!0),W.Lazy.property((0,x._)(a),"shapeControl",(function(){var t={moveable:!0,resizable:!0,rotatable:!0,enableFrame:!1},n=a.pdfViewer.customs.getAnnotComponentConfig((0,x._)(a),Object.keys(t)),i=new Ng(Object.assign(t,n,{emitter:a.pdfViewer.eventEmitter,start:function(e,t,n){return a.onStartUpdateShape(e,t,n)},moving:function(e,t){return a.onShapeMoving(e,t)},update:function(e,t){return a.onShapeUpdating(e,t)},end:function(e,t,n){return a.onShapeUpdateEnd(e,t,n)},rotateEnd:function(e,t,n,i){return a.onRotateEnd(t)},afterRotateEnd:function(){return a.onAfterRotateEnd()},rotateStart:function(){return a.onRotateStart()},degree:e.info.rotation,enableDiagonally:!0,previewer:!1,enableUniform:!0,degreeInitVisibility:!1,auxiliaryLine:void 0}));a.processShapeControlPermissionCtrl(i);var r=function(t,n,r){if(i&&r===en.rotationUpdated){var o=a.getInnerBoundary(),s=a._getShapeControllerBoundaryBox();a.shapeControl.rotateDegree=e.getRotation(),i.active(a.$handler,o,s)}};return i.addDestroyHook((function(){a.pdfViewer.eventEmitter.off(se.annotationUpdated,r)})),a.pdfViewer.eventEmitter.on(se.annotationUpdated,r),i})),a}return(0,D._)(n,[{key:"getInnerRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.getRect(e,t)}},{key:"getPropertyOptions",value:function(){var e=this.annot;(0,W.colorConvertor)(e.getBorderColor(),"#");return{opacity:e.getOpacity(),borderStyle:!1,disabled:this.propertyDisabled(),rotationFree:(this.annot.getRotation()+360)%360,isLocked:this.isLocked()}}},{key:"setBitmap",value:function(e,t){var n=this;return this.annot.setBitmap(e,t).then((function(e){return n.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,n),n.render(n.scale,n.rotate)}))}},{key:"updateRender",value:function(){return this.render()}},{key:"redraw",value:function(e){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),(0,E._)((0,S._)(n.prototype),"redraw",this).call(this,e)}},{key:"onRotateStart",value:function(){this.shapeControl.rotateDegreeBox.style.visibility="visible"}},{key:"onRotateEnd",value:function(e){var t=this;e=this.getStandardizedRotation(e);var n=this.annot.getRotation();return n=this.getStandardizedRotation(n),e+=Math.abs(n),e=this.getStandardizedRotation(e),this.setRotation(e).then((function(n){return t.updateShapeControl(e),e}))}},{key:"onAfterRotateEnd",value:function(){this.shapeControl.clearCompanions(),this.shapeControl.rotateDegreeBox.style.visibility="hidden"}},{key:"setRotation",value:function(e){var t=this;return this.annot.setRotation(e).then((function(e){return e?t.updateRender().then((function(){var n=t.getInnerBoundary(),i=t._getShapeControllerBoundaryBox();return t.shapeControl.active(t.$handler,n,i),t.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,t),e})):e}))}},{key:"updateShapeControl",value:function(e){this.shapeControl.ui.style.transform=""}},{key:"getStandardizedRotation",value:function(e){return(e=parseInt(e))<0?e=360-Math.abs(e):e>360&&(e-=360),e}},{key:"onShapeUpdateEnd",value:function(e,t,i){var r=this,o=this;return(0,P._)((function(){var a,s,c,u,l,A,d,h,f,p,v,g,m,y;return(0,L.Jh)(this,(function(_){switch(_.label){case 0:return(0,E._)((0,S._)(n.prototype),"onShapeUpdateEnd",r).call(o,e,t,i),[3,14];case 1:return u<c?[4,s.getPageByIndex(u)]:[3,14];case 2:return[4,_.sent().getAnnots()];case 3:l=_.sent(),A=!0,d=!1,h=void 0,_.label=4;case 4:_.trys.push([4,11,12,13]),f=l[Symbol.iterator](),_.label=5;case 5:return(A=(p=f.next()).done)?[3,10]:(v=p.value,g=v.getId(),a.includes(g)&&g!==o.annot.getId()?(m=o.pdfViewer.getAnnotRender(u,g))&&m.component?[3,7]:[4,o.pdfViewer.getPDFPageRender(u).getAnnotRenderSafely(g)]:[3,9]);case 6:m=_.sent(),_.label=7;case 7:return[4,m.component._esignCnMultiMove(e,i)];case 8:_.sent(),_.label=9;case 9:return A=!0,[3,5];case 10:return[3,13];case 11:return y=_.sent(),d=!0,h=y,[3,13];case 12:try{A||null==f.return||f.return()}finally{if(d)throw h}return[7];case 13:return u++,[3,1];case 14:return[2]}}))}))()}},{key:"_esignCnMultiMove",value:function(e,t){}},{key:"destroy",value:function(){(0,E._)((0,S._)(n.prototype),"destroy",this).call(this),this.shapeControl&&this.shapeControl.destroy()}},{key:"showContextMenu",value:function(e,t){var i=this,r=this;return(0,P._)((function(){var o,a,s,c,u,l;return(0,L.Jh)(this,(function(A){switch(A.label){case 0:return[3,2];case 1:if(l=A.sent(),r.annot.info.iconName&&"sign-china-stamp"===r.annot.info.iconName.split("_")[0]){if(r.annot.info.iconName.includes("_date"))return[2];setTimeout((function(){u.forEach((function(e,t){return 0!==t&&3!==t&&e.hide()})),c.doHidden();var e=o.getComponentByName("fv--contextmenu-item-group");l&&l.length>1?e.doShown():e.doHidden()}),100),a.doHidden(),s.doHidden()}else a.doShown(),s.doShown(),c.doShown();A.label=2;case 2:return[2,(0,E._)((0,S._)(n.prototype),"showContextMenu",i).call(r,e,t)]}}))}))()}},{key:"doubleTapAnnot",value:function(){this.annot.info.iconName&&"sign-china-stamp"===this.annot.info.iconName.split("_")[0]||(0,E._)((0,S._)(n.prototype),"doubleTapAnnot",this).call(this)}}]),n}(A_);const h_=d_;var f_=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;return(0,C._)(this,n),(a=t.call(this,e,i,r,o)).name="ink",a.$ui.addClass("pdf-page-ink-annot-container"),a.$handler.addClass("pdf-page-ink-annot-handler-container"),W.Lazy.property((0,x._)(a),"shapeControl",(function(){var e={moveable:!0,resizable:!0,enableDiagonally:!0},t=a.pdfViewer.customs.getAnnotComponentConfig((0,x._)(a),Object.keys(e)),n=new Ng(Object.assign(e,t,{emitter:a.pdfViewer.eventEmitter,interceptor:function(e){return a.checkSize(e)},start:function(){return a.onStartUpdateShape()},update:function(e,t){return a.onShapeUpdating(e,t)},moving:function(e,t,n){return a.onShapeMoving(e,t,n)},end:function(e,t,n){return a.onShapeUpdateEnd(e,t,n)},auxiliaryLine:void 0}));return a.processShapeControlPermissionCtrl(n),a.addDestroyHook((function(){n.destroy()})),n})),a}return(0,D._)(n,[{key:"checkSize",value:function(e){return!(e.width<10||e.height<10)}},{key:"createRectDom",value:function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui}},{key:"active",value:function(){(0,E._)((0,S._)(n.prototype),"active",this).call(this),this.activeRect(),this._applyShapeChange()}},{key:"activeRect",value:function(){arguments.length>0&&void 0!==arguments[0]||this.annot;this.isActive&&this._applyShapeChange()}},{key:"_applyShapeChange",value:function(){var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e),this.setMargin()}},{key:"movedByOther",value:function(){this.isActive&&(this.activeRect(),this.shapeControl.updateBoundary(this.getBoundary()),this.setMargin())}},{key:"afterRender",value:function(e){if(e.transformed&&this.isActive){this.activeRect();var t=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),t),this.setMargin()}}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,R._)((0,G.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2),n=t[0],i=t[1];return Nh.on({left:0,top:0,right:n,bottom:i}).extract()}},{key:"onStartUpdateShape",value:function(){this.editDebouncePromise||(this.editDebouncePromise=new W.DebounceAsyncTaskExecutor(0))}},{key:"onShapeUpdating",value:function(e,t){this.pdfViewer.config.highPerformance&&(e.width<10&&(e.width=10),this.setRect(e),this.setMargin())}},{key:"onShapeMoving",value:function(e,t,n){var i=this;this.updateCollabOp(e),this.pdfViewer.config.highPerformance&&this.editDebouncePromise&&this.editDebouncePromise.exec((function(){return i.moveTo(e.left,e.top).then((function(){i.setMargin()}))}))}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this;return e.width<10&&(e.width=10),"resize"!==n||this.pdfViewer.config.highPerformance?this.editDebouncePromise?this.editDebouncePromise.waitForLastTask().then((function(){return i.moveTo(e.left,e.top,n).then((function(e){i.setMargin()}))})):Promise.resolve():this.editDebouncePromise?this.editDebouncePromise.waitForLastTask().then((function(){return i.setRect(e)})).then((function(e){i.setMargin()})):Promise.resolve()}},{key:"getPropertyOptions",value:function(){var e=this.annot,t=(0,W.colorConvertor)(e.getBorderColor(),"#"),n=e.getOpacity(),i=e.getBorderWidth(),r=this.propertyDisabled();return{color:t,opacity:n,borderWidth:i,borderStyle:!1,isLocked:this.isLocked(),disabled:r}}},{key:"setBorderWidth",value:function(e){var t=this;return this.annot.setBorderWidth(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,t),e})):e}))}},{key:"getInkList",value:function(){return this.annot.getInkList()}},{key:"setMargin",value:function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(Nh.expandOffset(t,e)),this.shapeControl.updateBoundaryBox(this._getShapeControllerBoundaryBox())}},{key:"redraw",value:function(e){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),(0,E._)((0,S._)(n.prototype),"redraw",this).call(this,e)}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=(0,E._)((0,S._)(n.prototype),"getRenderingData",this).call(this,e,t),r=this.getInkList();return Object.assign(i,{inkList:r})}},{key:"unActive",value:function(){(0,E._)((0,S._)(n.prototype),"unActive",this).call(this),W.Lazy.get(this,"shapeControl",(function(e){e.deactive()}))}}]),n}(og);const p_=f_;var v_=n(875),g_=n.n(v_),m_=(n(136),function(){function e(t,n,i){(0,C._)(this,e),this.viewerComponent=t,this.docPageCount=i;var r="max page: "+i,o=g_()(r);n||(o='<dialog class="fv__dialog fv__annot-properties-dialog">'.concat(o,"</dialog>"));var a=this.$dialog=j()(o);this.bindChangeEvent();var s=n||document.body;if(a.appendTo(s),!n){var c=a[0];Gv().registerDialog(c),c.showModal()}}return(0,D._)(e,[{key:"bindChangeEvent",value:function(){var e=this,t=this.$dialog;t.on("click",".fv__redaction-cancel",(function(){e.close()})).on("click",".fv__place-redaction-dialog-close-icon",(function(){e.close()})).on("click",".fv__redaction-btn",(function(t){e.submit()})).on("change",".redaction-page-radio",(function(n){n.target.checked&&(e.hideError(),"1"==n.target.value?t.find(".fv__redaction-page-range").attr("disabled",""):t.find(".fv__redaction-page-range").removeAttr("disabled"))})).on("keydown",".fv__redaction-page-range",(function(t){e.hideError()}))}},{key:"submit",value:function(){var e=this,t=this.docPageCount,n=[];if("1"==this.$dialog.find(".redaction-page-radio:checked").val())for(var i=0;i<t;i++)n.push(i);else{var r=this.$dialog.find(".fv__redaction-page-range").val();if(new RegExp(/[^\d\-,]/).test(r))return void this.showError();for(var o=r.split(","),a=0;a<o.length;a++){var s=o[a];if(s.indexOf("-")>-1){var c=s.split("-");if(c.length>2)return void this.showError();if(c[0]<1||c[0]>t||c[1]<1||c[1]>t)return void this.showError();for(var u=Math.min(c[0],c[1]),l=Math.max(c[0],c[1]),A=u;A<=l;A++)-1===n.indexOf(A)&&n.push(A-1)}else{if(s<1||s>t)return void this.showError();-1===n.indexOf(n)&&n.push(s-1)}}}this.viewerComponent.placeRedact(n).then((function(t){e.close()}))}},{key:"reset",value:function(){this.hideError(),this.element.querySelector(".redaction-page-radio").checked=!0,this.element.querySelector(".fv__redaction-page-range").value=""}},{key:"showError",value:function(){this.$dialog[0].querySelector(".fv__redaction-page-range").classList.add("fv__redaction-error")}},{key:"hideError",value:function(){this.$dialog[0].querySelector(".fv__redaction-page-range").classList.remove("fv__redaction-error")}},{key:"close",value:function(){var e=this.$dialog;e&&(e[0].close(),e.remove(),this.$dialog=null)}}]),e}()),y_="annotComponent",__={reply:{name:"reply",nameI18nKey:"viewer_:contextmenu.annot.reply",callback:function(){this.data(y_).showReplyDialog("reply")},disabled:function(){return this.data(y_).replyDisabled()}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(y_).removeAnnot()},disabled:function(){return this.data(y_).deleteDisabled()}},apply:{name:"apply",nameI18nKey:"viewer_:contextmenu.annot.apply",callback:function(){return this.data(y_).apply()},disabled:function(){return this.data(y_).assembleDocDisabled()}},applyAll:{name:"applyAll",nameI18nKey:"viewer_:contextmenu.annot.applyAll",callback:function(){return this.data(y_).applyAll()},disabled:function(){return this.data(y_).assembleDocDisabled()}},place:{name:"place",nameI18nKey:"viewer_:contextmenu.annot.place",callback:function(e,t,n){this.data(y_).showPlaceMarkDialog(e,t,n)},disabled:function(){return this.data(y_).moveDisabled()}},properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(e,t,n){this.data(y_).showPropertiesDialog(e,t,n)}}};!function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}(0,D._)(n,[{key:"doRender",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.component.renderAppearanceType;if(this.component.needToggleView&&this.component.needToggleView()&&!this.component.shouldRenderByMouseEvent()){var r=this.canvas.getContext("2d");return r.clearRect(0,0,this.canvas.width,this.canvas.height),void r.save()}if("rollover"!==i)return(0,E._)((0,S._)(n.prototype),"doRender",this).call(this,e,t);var o=this.canvas.getContext("2d");o.save(),o.fillStyle="black",o.fillRect(0,0,this.canvas.width,this.canvas.height),o.restore()}}])}(Xm);var b_=[{name:"U.S. FOIA",children:["(b) (1) (A)","(b) (1) (B)","(b) (2)","(b) (3) (A)","(b) (3) (B)","(b) (4)","(b) (5)","(b) (6)","(b) (7)(A)","(b) (7)(B)","(b) (7)(C)","(b) (7)(D)","(b) (7)(E)","(b) (7)(F)","(b) (8)","(b) (9)"]},{name:"U.S. Privacy Act",children:["(b)","(d)(5)","(j)(1)","(j)(2)","(k)(1)","(k)(2)","(k)(3)","(k)(4)","(k)(5)","(k)(6)","(k)(7)"]}];var w_=function(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:__,events:{show:function(){return this.data(y_).updateDeleteStatus(!0),!0},hide:function(){return this.data(y_).updateDeleteStatus(!1),!0}}}}(".fv__pdf-page-annot-handler-rect"),k_=function(){},x_=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a,s;return(0,C._)(this,n),(a=t.call(this,e,i,r,o)).name="redact",a.$ui.addClass("fv__pdf-page-redact-annot-container"),a.$handler.addClass("fv__pdf-page-redact-annot-handler-container"),a.$ui.css("z-index",99),a.$handler.css("z-index",99),a._isEditting=!1,s=!!e.isArea(),W.Lazy.property((0,x._)(a),"shapeControl",(function(){var t={moveable:!0,resizable:s,enableDiagonally:!0},n=a.pdfViewer.customs.getAnnotComponentConfig((0,x._)(a),Object.keys(t)),i=new Ng(Object.assign(t,n,{emitter:a.pdfViewer.eventEmitter,start:function(e,t,n){return a.onStartUpdateShape(e,t,n)},update:function(e,t){return a.onShapeUpdating(e,t)},moving:function(e,t){return a.onShapeMoving(e,t)},end:function(e,t,n){return a.onShapeUpdateEnd(e,t,n)},rotatable:!1}));return e.isArea()?a.processShapeControlPermissionCtrl(i):i.disable(),i})),a}return(0,D._)(n,[{key:"modifyDocDisabled",value:function(){return!(this.docRender.getUserPermission().getValue()&Qt.modify)}},{key:"onStartUpdateShape",value:function(e,t,n){this.editDebouncePromise||(this.editDebouncePromise=new W.DebounceAsyncTaskExecutor(0))}},{key:"onShapeUpdating",value:function(e,t){this._edittingRect=this.transformToPDFRect(e),this._isEditting=!0;try{this._updateShapeControlMargin(),this._updateShapeControllerBoundaryBox()}finally{this._isEditting=!1}}},{key:"onShapeMoving",value:function(e,t){this._edittingRect=this.transformToPDFRect(e),this._isEditting=!0;try{this._updateShapeControlMargin(),this._updateShapeControllerBoundaryBox()}finally{this._isEditting=!1}}},{key:"getRect",value:function(){return this._isEditting?this._edittingRect:(0,E._)((0,S._)(n.prototype),"getRect",this).call(this)}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this;return this.editDebouncePromise?this.editDebouncePromise.exec((function(){return i.setRect(e)})):Promise.resolve()}},{key:"transformToPDFRect",value:function(e){var t=e.left,n=e.top,i=e.width,r=e.height;i=Math.max(.001,i),r=Math.max(.001,r);var o=this.scale,a=this.rotate;return this.getPDFPage().reverseDeviceRect({left:t,top:n,right:t+i,bottom:n+r},o,a)}},{key:"_updateShapeControllerBoundaryBox",value:function(){this.shapeControl.updateBoundaryBox(this._getShapeControllerBoundaryBox())}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,R._)((0,G.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2);return{left:0,top:0,right:t[0],bottom:t[1]}}},{key:"_updateShapeControlMargin",value:function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(Nh.expandOffset(t,e))}},{key:"_transformShapeOfInnerRectToOuterRect",value:function(e){var t={left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height},n=Nh.subtract(this.getRect(),this.getInnerRect()),i=Nh.on(t).add(n).extract();return{left:i.left,top:i.top,width:i.right-i.left,height:i.bottom-i.top}}},{key:"active",value:function(){var e=this.annot,t=e.info.overlayCode;if(t.length){var i,r=function(){var e=localStorage.getItem("modifiedUSCodes");if(e){var t=JSON.parse(e);if(Array.isArray(t)&&t.every((function(e){return e.name&&e.children})))return t}return(0,M._)(b_)}(),o="";t.forEach((function(e,t){t%2?o+=1!=t?","+i[e]:i[e]:i=r[e].children})),o!=e.info.overlayText&&e.setRedactAppearance({overlayText:e.info.overlayText,redactionCode:[]})}(0,E._)((0,S._)(n.prototype),"active",this).call(this),this.activeRect(),this.$handler.addClass("active"),this._applyShapeChange()}},{key:"createRectDom",value:function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui}},{key:"movedByOther",value:function(){this.isActive&&this._applyShapeChange()}},{key:"_applyShapeChange",value:function(){var e=this._getShapeControllerBoundaryBox(),t={left:e.left,top:e.top,width:e.width+2,height:e.height+2};this.shapeControl.active(this.$handler,this.getBoundary(),t)}},{key:"redraw",value:function(e){return this.render()}},{key:"updateRender",value:function(){return Promise.resolve()}},{key:"showPlaceMarkDialog",value:function(){if(this.$placeRedactionControl&&this.$placeRedactionControl.$dialog);else{var e=this.pdfViewer.currentPDFDoc.info.pageCount;this.$placeRedactionControl=new m_(this,document.body,e)}}},{key:"hidePlaceMarkDialog",value:function(){this.$actionsControl.close()}},{key:"placeRedact",value:function(e){var t=this,n=function(n){var i=n.getRects(),r=e.map((function(e){return t.pdfViewer.currentPDFDoc.getPageByIndex(e).then((function(e){if(!e.isVirtual()){var t=Object.assign({color:n.getBorderColor()},n.getRedactAppearance());return e.markRedactAnnot(i,t).then((function(e){var t=[];return n.replies.map((function(n){t.push(e[0].addReply(n.info))})),Promise.all(t).then((function(){return e}))}))}}))}));return Promise.all(r).then((function(e){return e.filter(Boolean)}))},i=this.pdfViewer.getAllActiveElements(),r=i.every((function(e){return"redact"===e.annot.getType()}));return r?Promise.all(i.map((function(e){return n(e.annot)}))):n(this.annot)}},{key:"apply",value:function(){var e=this,t=this.pdfViewer;if(t)return t.viewerUI.confirm({message:"viewer_:contextmenu.annot.applyConfirm",level:"warning"}).then((function(){return e.annot.apply()}),k_)}},{key:"applyAll",value:function(){var e=this.pdfViewer;if(e)return e.viewerUI.confirm({message:"viewer_:contextmenu.annot.applyConfirm",level:"warning"}).then((function(){var t=e.getCurrentPDFDoc();return t.redacted=!0,t.applyRedaction()}),k_)}},{key:"getPropertyOptions",value:function(){var e=this.annot,t=(0,W.colorConvertor)(e.getBorderColor(),"#"),n=e.getApplyFillColor()||4278190080,i=this.propertyDisabled(),r=this.isLocked(),o=e.info,a=o.overlayText,s=o.fontName,c=o.isAutoFontSize,u=o.justification,l=o.isRepeat,A=o.isOverlayCode,d=o.defaultAppearance;return{color:t,applyFillColor:n,borderStyle:!1,disabled:i,isLocked:r,overlayText:a,fontName:s,isAutoFontSize:c,justification:u,isRepeat:l,isOverlayCode:A,textSize:d.textSize,textColor:d.textColor,overlayCode:o.overlayCode}}},{key:"setApplyFillColor",value:function(e){return this.annot.setRedactApplyFillColor(e)}},{key:"getTileConfig",value:function(e,t){var n=this.pdfViewer,i=n.getSmartScale(e),r=n.config.tileSize,o=this.annot,a=o.getDeviceRect(1,t),s=o.getDeviceRect(i,t),c=s.right-s.left,u=s.bottom-s.top;this.getAnnotFlag().checkNoZoom()&&(c=a.right-a.left,u=a.bottom-a.top);var l=Math.ceil(u/r),A=Math.ceil(c/r),d=(0,G.F2)(1)*e*2;return[l,A,c+=d,u+=d,r,i,e,t,a.left,a.top]}},{key:"mouseEnter",value:function(){this.renderAppearanceType=Oe.ROLLOVER,this.redraw(!0)}},{key:"mouseLeave",value:function(){this.renderAppearanceType=Oe.NORMAL,this.redraw(!0)}}],[{key:"getDefaultContextMenuConfig",value:function(){return w_}}]),n}(og);const P_=x_;var C_=Hv(),D_=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;return(0,C._)(this,n),(a=t.call(this,e,i,r,o)).name="polygonCloud",a}return(0,D._)(n,null,[{key:"getDefaultContextMenuConfig",value:function(){return C_}}]),n}(Vm),E_={};"function"==typeof FontFace?function(e,t){return E_[e]?E_[e]:E_[e]=new Promise((function(n,i){t().then((function(t){if(!t)return i(),void E_[e];var r=new FontFace(e,t.buffer||t.url);r.load().then((function(){document.fonts.add(r),n(r)}),(function(){i(),delete E_[e]}))}),(function(){i(),delete E_[e]}))}))}:function(e,t){return E_[e]?E_[e]:E_[e]=new Promise((function(n,i){t().then((function(t){return t?t.buffer?URL.createObjectURL(new Blob([t.buffer],"application/x-font-woff")):t.url:(i("woff is invalid"),void delete E_[e])})).then((function(t){if(!t)return i();var r=document.createElement("style");r.innerHTML='@font-face{font-family:"'+e+'"; src:url("'+t+'");}',document.head.appendChild(r),n(r)}))}))};var S_="annotComponent",I_={properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(e,t,n){this.data(S_).showPropertiesDialog(e,t,n)}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(S_).removeAnnot()},disabled:function(){return this.data(S_).deleteDisabled()}}};var T_="editDiv",R_=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,null,[{key:"formatHtmlStr",value:function(e){var t=e,n={split:"split",remove:"remove",removeSelf:"removeTag"};[{startStr:"\x3c!--StartFragment--\x3e",endStr:"\x3c!--EndFragment--\x3e",operate:n.split},{startStr:"\x3c!--[if",endStr:"<![endif]--\x3e",operate:n.remove},{startStr:"<![if",endStr:"<![endif]>",operate:n.remove},{startStr:"<o:p>",endStr:"</o:p>",operate:n.remove},{startStr:"<w:Sdt",endStr:"</w:Sdt>",operate:n.removeTag},{startStr:"<w:sdtPr>",endStr:"</w:sdtPr>",operate:n.remove}].forEach((function(e){for(var i=t.indexOf(e.startStr);i>-1;){switch(e.operate){case n.split:var r=t.indexOf(e.endStr);t=t.slice(i+e.startStr.length,r>-1?r:t.length);break;case n.remove:var o=t.indexOf(e.endStr),a=t.substring(0,i),s=t.substring(o+e.endStr.length);t=a+s;break;case n.removeTag:var c=t.substring(i),u=c.indexOf(">");t=(t=t.substring(0,i)+c.substring(u+1)).split(e.endStr).join("")}i=t.indexOf(e.startStr)}}));var i=document.createElement("div");return i.contentEditable=!0,i.id=T_,i.style.display="none",document.body.appendChild(i),i.innerHTML=t.replaceAll("\n","").replaceAll("\r",""),this.addTagClassName(i)}},{key:"getFont",value:function(e){var t=e[0],n=new RegExp("^\\s*".concat(t,"\\b")),i=["-apple-system","system-ui"," BlinkMacSystemFont"," Segoe UI"," Roboto"," Oxygen"," Ubuntu"," Fira Sans"," Droid Sans"," Helvetica Neue"," sans-serif"].some((function(e){return n.test(e)}));return i?(W.DeviceInfo.isWindows?t="DengXian Light":W.DeviceInfo.isMacOS||W.DeviceInfo.isIOS?t="PingFangSC":W.DeviceInfo.isAndroid?t="Roboto":W.DeviceInfo.isLinux&&(t="Noto Sans"),t):t}},{key:"formatRichText",value:function(e){var t=this,n=this.formatHtmlStr(e),i=document.getElementById("".concat(T_)),r=n.map((function(e){var n,r,o=i.getElementsByClassName("".concat(e))[0],a=getComputedStyle(o),s=a.fontFamily.replaceAll('"',"").split(","),c=t.getFont(s);return{content:o.textContent,richTextStyle:{font:{name:c},textSize:parseInt(a.fontSize),textAlignment:tt[a.textAlign],textColor:(0,W.colorConvertor)(a.color,"int"),isBold:function(){var e=a.fontWeight,t=parseFloat(e);return isNaN(t)?e.includes("bold"):t>400}(),isItalic:(r=a.fontStyle,r.includes("italic")||r.includes("oblique")),isUnderline:a.textDecoration.includes("underline"),isStrikethrough:a.textDecoration.includes("line-through"),cornerMarkStyle:(n=a.verticalAlign,{sub:Ot.subscript,super:Ot.superscript}[n]||Ot.none)}}}));return i.remove(),r}},{key:"addTagClassName",value:function(e){var t=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.childNodes.length;(["block","flex"].includes(getComputedStyle(e).display)&&e.nextElementSibling&&(e.innerHTML+="\n"),r>0)&&Array.from(e.childNodes).forEach((function(r){if("#text"===r.nodeName){var o=document.createElement("span");o.innerText="".concat(r.textContent),o.style.textDecoration="".concat(n.underline?"underline":""," ").concat(n.lineThrough?"line-through":""),o.style.verticalAlign=n.verticalAlign;var a="foxitwebsdk-".concat(Date.now(),"-").concat(parseInt(1e3*Math.random()));i.push(a),o.classList.add(a),e.replaceChild(o,r)}else{var s=getComputedStyle(r).textDecoration,c={};s.includes("underline")&&(c.underline=!0),s.includes("line-through")&&(c.lineThrough=!0);var u=getComputedStyle(r).verticalAlign;["sub","super"].includes(u)&&(c.verticalAlign=u),t.addTagClassName(r,i,Object.assign({},n,c))}}));return i}}]),e}(),M_=function(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:I_,events:{show:function(){return this.data(S_).updateDeleteStatus(!0),!0},hide:function(){return this.data(S_).updateDeleteStatus(!1),!0}}}}(".fv__pdf-page-annot-handler-rect"),F_=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a,s;return(0,C._)(this,n),(a=t.call(this,e,i,r,o)).name="freetext",a.removeAllEventsUsedByEditingMode=W.noop,a.$ui.addClass("fv__pdf-page-freetext-annot-container"),a.$handler.addClass("fv__pdf-page-freetext-annot-handler-container"),a.$textInput=j()("<textarea class='fv__ui-freetext-editor ".concat(a.annot.getIntent(),"'></textarea>")),s=a.$textInput,a.$handler.append(s),a.bindTextInputEvent(s),a.resizeTaskExecutor=new W.QueuedAsyncTaskExecutor,a.addDestroyHook((function(){a.removeAllEventsUsedByEditingMode()}),a.pdfViewer.addEventListener("before-clear-pageCache",(function(e){e===a.annot.page.getIndex()&&"editing"===a.status&&a.$textInput.trigger("blur")}))),a}return(0,D._)(n,[{key:"active",value:function(){(0,E._)((0,S._)(n.prototype),"active",this).call(this),this.activeRect(),this.$rect&&this.$rect.show()}},{key:"setContent",value:function(e){var t=this;return this.annot.setContent(e).then((function(e){return t.collaborate(),e}))}},{key:"getInnerBoundary",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=this.getPDFPage(),r=this.annot.getInnerRect(),o=this.annot.getRect(),a=r.right-r.left,s=o.right-o.left,c=this.annot.getBorderWidth();this.annot.getIntent()===pe.FREETEXT_CALLOUT?(e=r,t&&(e={left:r.left+c,right:r.right-c,top:r.top-c,bottom:r.bottom+c})):this.annot.getIntent()===pe.FREETEXT_TYPEWRITER?e=o:s-a>=c?e=r:t&&(e={left:o.left+c,right:o.right-c,top:o.top-c,bottom:o.bottom+c});var u=i.getDeviceRect(e,this.scale,n);return{left:u.left,top:u.top,width:u.right-u.left,height:u.bottom-u.top}}},{key:"setInnerRect",value:function(e){return this.annot.setInnerRectNoAction(e)}},{key:"setCalloutLinePoints",value:function(e){return this.annot.setCalloutLinePoints(e)}},{key:"showReplyDialog",value:function(){var e=this.getAnnotFlag();try{return this.annot.checkModidyPerm(),!(e.checkLockedContents()||e.checkReadOnly()||e.checkLocked())&&(this.backup(),this.enableEditMode(),!0)}catch(e){return!1}}},{key:"backup",value:function(){this.backupProperty={rect:Object.assign({},this.annot.getRect()),innerRect:Object.assign({},this.annot.getInnerRect())}}},{key:"computeFontSizePx",value:function(){var e=this.annot.getDefaultAppearance();return Math.max(4*e.textSize/3*this.scale,9.5)}},{key:"computeFontSizeScale",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.computeFontSizePx())/12;return Math.min(e,1)}},{key:"computeLineHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.computeFontSizePx();return 1.1*e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.computeFontSizeScale(e))}},{key:"computeCurrentMinMaxHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.inputRect,n=void 0===t?this.$textInput[0].getBoundingClientRect():t,i=e.pageRect,r=void 0===i?this.parent("pdfPageRender").$ui[0].getBoundingClientRect():i,o=e.rotate,a=void 0===o?this.getFinalRotateAngle():o,s=e.padding,c=void 0===s?this.getPadding():s,u=this.pdfViewer.getSmartScale(this.scale),l=n.height;return{minHeight:Math.min(20*u*2/3*2,l),maxHeight:function(){switch(a){case 90:return n.right-r.left;case 180:return n.bottom-r.top;case 270:return r.right-n.left;default:return r.bottom-n.top}}()-c}}},{key:"getStyle",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.annot.getRotation(),i=this.annot.page.getRotationAngle(),r=this.getRect(),o=this.getRect(this.scale,n+i),a=o.right-o.left,s=o.bottom-o.top,c=this.annot,u=c.getFillColor(),l=c.getDefaultAppearance(),A=l.textColor,d=this.computeFontSizePx(),h=this.fontSizeScale=d/12;h>1&&(h=this.fontSizeScale=1);var f=this.computeLineHeight(d,h),p=(0,W.colorConvertor)(16777215&u,"#");0==u&&(p=t?"white":"transparent");var v=(0,W.colorConvertor)(16777215&A,"#");0==A&&(v="black");var g=l.font||{},m=this.annot.getAlignment();switch(m){case 0:m="left";break;case 1:m="center";break;case 2:m="right"}var y="center";switch((this.rotate+n+i)%360){case 0:case 180:y="center";break;case 90:y="".concat(s/2,"px center");break;case 270:y="".concat(a/2,"px ").concat(a/2,"px")}return f+="px",Object.assign({"text-align":m,color:v,background:p,display:"block","font-size":d,fontFamily:'"'+[g.baseName,g.familyName,g.nameKey,g.name,"FoxitPDFSDKForWeb"].join('","')+'"',lineHeight:f},e?{left:r.left,top:r.top,width:a,height:s,"transform-origin":y,transform:"rotate(".concat(n+this.rotate+i,"deg)")}:{})}},{key:"setDomRect",value:function(e){var t=this.annot.getRotation()+this.annot.page.getRotationAngle()+this.rotate,n=!0;(this.isCallout()||this.isTextBox())&&(this.annot.getBorderStyle()===he.CLOUDY&&(n=!1));var i=this.getInnerBoundary(n),r=i.left,o=i.top,a=i.width,s=i.height,c=new nn.Z,u=a,l=s,A=r,d=o;switch(t%360){case 90:u=-a,A=r+a;break;case 180:u=-a,A=r+a,l=-s,d=o+s;break;case 270:l=-s,d=o+s}c.rotate((360-t)*Math.PI/180);var h=c.transformRect(0,0,u,l);e.left=h[0]+A,e.top=h[1]+d,e.width=h[2]-h[0],e.height=h[3]-h[1],e["max-height"]="initial",e["max-width"]="initial",e["min-width"]="initial",e["min-height"]="initial",e["transform-origin"]="0 0",e.transform="rotate(".concat(t,"deg)")}},{key:"showContextMenu",value:function(e,t){return"editing"!==this.status&&(0,E._)((0,S._)(n.prototype),"showContextMenu",this).call(this,e,t)}},{key:"enableEditMode",value:function(){var e=this;if("editing"!==this.status){this.shapeControl&&this.shapeControl.deactive();var t=(0,R._)(this.docRender.pdfViewer.getGroupCount(),3),n=(t[0],t[1],t[2]);if(this.annot.isGrouped()){var i=this.annot.getGroupHeader().getId(),r=n[i];for(var o in delete n[i],n[-1].forEach((function(t){return e.docRender.pdfViewer.unActiveElement(t)})),n)n[o].forEach((function(t){return e.docRender.pdfViewer.unActiveElement(t)}));r.forEach((function(t){t.getId()!=e.getId()&&e.docRender.pdfViewer.unActiveElement(t)}))}else for(var a in n)n[a].forEach((function(t){t.getId()!=e.getId()&&e.docRender.pdfViewer.unActiveElement(t)}));this.status="editing";var s=this.annot;this.$handler.addClass("active"),this.updateTextInputStyle();var c=s.getContent();this.$textInput.val(c);var u=this.$textInput.get(0);if(s.getIntent()===pe.FREETEXT_TYPEWRITER)this.setHeight(this.$textInput);(0,W.moveCursorToEnd)(u,{preventScroll:!0}),this.pdfViewer.eventEmitter.emit("editingFreeText",this);var l=function(t){e.annotsRender&&t===e.annotsRender.pageRender&&"editing"===e.status&&e.updateTextInputStyle()};this.pdfViewer.eventEmitter.on(se.renderPageSuccess,l),this.removeAllEventsUsedByEditingMode=function(){e.pdfViewer.eventEmitter.off(se.renderPageSuccess,l)}}}},{key:"updateTextInputStyle",value:function(){var e=this.getStyle(!1,!0);this.setDomRect(e);var t=e.transform||"";this.fontSizeScale>=1?t+=" scale(1)":(t+="scale(".concat(this.fontSizeScale,")"),e.width/=this.fontSizeScale,e.height/=this.fontSizeScale,e.lineHeight="12px"),e.transform=t,this.$textInput.css(e)}},{key:"bindEvent",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"bindEvent",this).call(this);var t=function(t){(0,W.match)(t).when(W.matchers.Escape,(function(){t.preventDefault(),e.$textInput.blur()}))};this.$textInput.on("keyup",t).on("keydown",t),this.$textInput.on("mousemove",(function(e){e.stopPropagation()}))}},{key:"unActive",value:function(){this.$textInput.trigger("blur"),(0,E._)((0,S._)(n.prototype),"unActive",this).call(this),this.shapeControl&&this.shapeControl.deactive(),this.$rect&&this.$rect.hide(),clearInterval(this.pressInterval)}},{key:"getInnerRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.getPDFPage(),i=this.annot.getInnerRect();return n.getDeviceRect(i,e,t)}},{key:"bindTextInputEvent",value:function(e){var t,n,i=this,r=!1;e.on("focus",(function(e){i.oldInnerRect=i.annot.getInnerRect(),i.oldRect=i.annot.getRect(),i.oldCalloutLinePoints=i.annot.getCalloutLinePoints&&i.annot.getCalloutLinePoints(),i.annot.setIsEditting(!0)})).on("paste",(function(e){n=null;var t=e.originalEvent.clipboardData.getData("text/html");if(0!==t.length){var i=R_.formatRichText(t);0!==i.length&&(n=i[0].richTextStyle.font)}})).on("input",(function(e){r=!0,i.handleInputEvent(e)})).on("keydown",(function(e){t=i.$textInput.val(),27!==e.keyCode&&e.ctrlKey&&65===e.keyCode&&i.$textInput.trigger("select")})).on("keyup",(function(e){t!==i.$textInput.val()&&(r=!0)})).on("blur",(function(e){var t=r;if(r=!1,"editing"!=i.status)return i.updateTextInputScale(1),void i.annot.setIsEditting(!1);var o=i.parent("pdfPageRender");i.removeAllEventsUsedByEditingMode();var a=i.$textInput;i.delayRemoveActive=!0;var s=function(){var e=a[0].getBoundingClientRect();return{left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}}(),c=!1;switch(i.annot.getIntent()){case pe.FREETEXT_TEXTBOX:case pe.FREETEXT_TYPEWRITER:var u=i.getRect(),l=i.getInnerRect(),A=(u.bottom-u.top-(l.bottom-l.top))/2,d=i.getFinalRotateAngle(),h=a[0].scrollHeight,f=i.computeLineHeight(),p=o.$ui[0].getBoundingClientRect();if(h-s.height>=f){c=!0;var v=p.height-2*A,g=p.width-2*A;switch(d){case 0:s.height=Math.min(h,v),s.top=s.bottom-s.height;break;case 90:s.width=Math.min(h,g),s.right=s.left+s.height;break;case 180:s.height=Math.min(h,v),s.bottom=s.top+s.height;break;case 270:s.width=Math.min(h,g),s.left=s.right-s.height}}case pe.FREETEXT_CALLOUT:}i.status="viewing";var m=i.parent("pdfPageRender").getPDFRectFromClientRect(s);if(!i.beforeBlur(e,m)){var y=Promise.resolve();if(t)switch(i.annot.getIntent()){case pe.FREETEXT_TYPEWRITER:c&&(y=i.setRectInPDF(m,!1));break;case pe.FREETEXT_TEXTBOX:c&&(y=i.setInnerRectHeight(m));break;default:y=i.setInnerRectHeight(m)}y.then((function(t){var r=i.annot.getContent();if(e.target.value!==r)return n?i.setDefaultAppearance("font",n).then((function(t){return i.setContent(e.target.value)})):i.setContent(e.target.value)})).then((function(t){i.pdfViewer.activeElement(),j()(e.target).css({display:"none"}).removeAttr("contenteditable")})).then((function(e){return i.$textInput.css("display","none"),i.oldInnerRect=null,i.oldRect=null,i.oldCalloutLinePoints=null,i.updateTextInputScale(1),i.$handler&&i.$handler.removeClass("active"),i.postBlur()})).then((function(e){return i.redraw()})).finally((function(){i.annot.setIsEditting(!1),i.delayRemoveActive=!1}))}}))}},{key:"isTypeWriter",value:function(){var e;return(null===(e=this.annot)||void 0===e?void 0:e.getIntent())===pe.FREETEXT_TYPEWRITER}},{key:"isCallout",value:function(){var e;return(null===(e=this.annot)||void 0===e?void 0:e.getIntent())===pe.FREETEXT_CALLOUT}},{key:"isTextBox",value:function(){var e;return(null===(e=this.annot)||void 0===e?void 0:e.getIntent())===pe.FREETEXT_TEXTBOX}},{key:"handleInputEvent",value:function(){var e=this;this.resizeTaskExecutor.exec((function(){var t=e.$textInput[0],n=t.scrollHeight,i=t.scrollWidth,r=t.clientHeight,o=t.clientWidth;if(n>r||i>o)return e.setHeight(e.$textInput)}))}},{key:"updateCalloutFigure",value:function(e,t,n){var i=this;return this.annot.updateCalloutFigure(e,t,n).then((function(){return i.updateRender().then((function(){i.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,i)}))}))}},{key:"updateTextInputScale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.$textInput[0].style.transform||"";this.$textInput[0].style.transform=t.replace(/scale\(\d+(\.\d+)?\)/,"scale(".concat(e,")"))}},{key:"beforeBlur",value:function(){return!1}},{key:"postBlur",value:function(){0}},{key:"setHeight",value:function(e,t,n){}},{key:"getPadding",value:function(){var e=this.annot,t=e.getRect(),n=e.getBorderInfo(),i=0;if(5!=n.style){var r=n.width||1;i=1.5*r,this.isHTMLSimulate("freetext")?i=2*r:t.top-t.bottom<2*i&&(i=r)}else i=e.getInnerRect().left-t.left;return i}},{key:"setDefaultAppearance",value:function(e,t){var n=this;"textColor"==e&&(t=(0,W.colorConvertor)(t,"int",1));var i=this.annot.getDefaultAppearance();return Object.assign(i,(0,z._)({},e,t)),(["textSize","textColor"].includes(e)?this.annot.setAppearanceWithoutFontFamily(i):this.annot.setDefaultAppearance(i)).then((function(e){n.activeRect(),n.shapeControl.adjustPointControl&&n.shapeControl.adjustPointControl(),n._applyShapeChange&&n._applyShapeChange(),n.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,n)}))}},{key:"getFinalRotateAngle",value:function(){var e=this.annot.page.getRotationAngle();return((this.annot.getRotation()+e+this.rotate)%360+360)%360}},{key:"getMaxSize",value:function(e){this.getPDFPage();var t=this.getFinalRotateAngle(),n=this.parent("pdfPageRender").$ui[0].getBoundingClientRect(),i=e.getBoundingClientRect(),r=n.bottom-i.top,o=n.right-i.left,a=this.annot.getInnerRect(),s=this.annot.getRect(),c=(s.top-s.bottom-(a.top-a.bottom))/2,u=(s.right-s.left-(a.right-a.left))/2,l=this.pdfViewer.getSmartScale(this.scale),A=4*c/3*l,d=4*u/3*l;switch(t){case 0:return{width:o-d,height:r-A};case 180:return{width:o-d,height:i.bottom-n.top-A};case 90:return{width:r-d,height:i.right-n.left-A};case 270:return{width:r-d,height:n.right-i.left-A}}}}],[{key:"getDefaultContextMenuConfig",value:function(){return M_}}]),n}(og);const N_=F_;function L_(e,t){var n=getComputedStyle(e),i=n.overflow,r=n.whiteSpace,o=e.clientWidth;e.style.cssText+="\n        min-width: ".concat(t.minWidth,"px;\n        min-height: ").concat(t.minHeight,"px;\n        max-width: ").concat(t.maxWidth,"px;\n        max-height: ").concat(t.maxHeight,"px;\n        overflow: hidden;\n        white-space: ").concat(o>=t.maxWidth?"pre-line":"nowrap",";\n        word-break: break-word;\n    ");var a=e.scrollWidth,s=Math.max(Math.min(a,t.maxWidth),t.minWidth);e.style.cssText+="\n        width: ".concat(s,"px;\n    ");var c=e.scrollHeight,u=Math.max(Math.min(c,t.maxHeight),t.minHeight);e.style.cssText+="\n        overflow: ".concat(i,";\n        width: ").concat(s,"px;\n        height: ").concat(u,"px;\n        white-space: ").concat(r,";\n    "),delete e.style.whiteSpace}var O_=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;(0,C._)(this,n),(a=t.call(this,e,i,r,o)).name="typewritter",W.Lazy.property((0,x._)(a),"shapeControl",(function(){var e=new Ng((0,k._)((0,w._)({},a.getShapeOptions()),{auxiliaryLine:void 0}));return a.processShapeControlPermissionCtrl(e),e})),a.$ui.addClass("fv__pdf-page-typewritter-annot-container"),a.$handler.addClass("fv__pdf-page-typewritter-annot-handler-container");var s=j()("<div class='fv__ftui-container'><pre class='fv__typewriter_ui'></pre></div>");return a.$pre=s.find("pre"),a.$ui.append(s),a}return(0,D._)(n,[{key:"computeLineHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.computeFontSizePx();return 1.158*e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.computeFontSizeScale(e))}},{key:"handleInputEvent",value:function(){var e=this;this.resizeTaskExecutor.exec((0,P._)((function(){var t,n,i,r,o,a,s,c,u,l,A,d,h,f;return(0,L.Jh)(this,(function(p){return t=e.getFinalRotateAngle(),n=e.$textInput[0],i=n.getBoundingClientRect(),r=e.parent("pdfPageRender"),o=r.$ui[0].getBoundingClientRect(),a=e.getPadding(),s=e.getMaxSize(n),c=s.width,u=e.computeCurrentMinMaxHeight({inputRect:i,padding:a,rotate:t,pageRect:o}),l=u.minHeight,A=u.maxHeight,d=n.clientHeight,L_(n,{maxWidth:c,maxHeight:A,minHeight:l,minWidth:1}),h=n.getBoundingClientRect(),h.height>A?(n.style.height=A+"px",f=!0):f=n.clientHeight!==d,f?[2,e.setHeight(e.$textInput)]:[2]}))})))}},{key:"getDefaultShapeOptions",value:function(){return{resizable:!1,enableDiagonally:!0}}},{key:"getShapeOptions",value:function(){var e=this,t=this.getDefaultShapeOptions(),n=this.pdfViewer.customs.getAnnotComponentConfig(this,Object.keys(t)),i={};return this.isTypeWriter()&&(i.resizable=!1),(0,k._)((0,w._)({},t,n,i),{emitter:this.pdfViewer.eventEmitter,start:function(){return e.onStartUpdateShape()},update:function(t,n){return e.onShapeUpdating(t,n)},moving:function(t,n,i){return e.onShapeMoving(t,n,i)},end:function(t,n,i){return e.onShapeUpdateEnd(t,n,i)}})}},{key:"afterRender",value:function(e){e.transformed&&this.isActive&&(this.activeRect(),this.$rect&&this.$rect.show())}},{key:"onStartUpdateShape",value:function(e,t,n){}},{key:"onShapeUpdating",value:function(e,t){this.updateCollabOp(e)}},{key:"onShapeMoving",value:function(e,t,n){this.updateCollabOp(e),this.annot.isGrouped()&&this.pdfViewer.eventEmitter.emit("freetextGroupMoving")}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this,r=Promise.resolve();switch(n){case"move":r=this.moveTo(e.left,e.top,n);break;case"resize":r=this.setRect(e),this.render()}return this.annot.isGrouped()&&this.pdfViewer.eventEmitter.emit("freetextGroupMovingEnd"),r.then((function(){return i.updateToobarPostion()}))}},{key:"updateToobarPostion",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.$toolbar){var t=this.$toolbar,n=this.annot.getRect(),i=this.annotsRender.pageRender,r=i.page,o=r.getDeviceRect(n,i.getScale(),i.getRotation());if(t.css({top:o.top+"px",left:o.left-5+"px"}),o.top<30){var a=o.bottom-o.top;t.css({transform:"translatey(".concat(a+5,"px)")})}var s=i.getScale(),c=r.getPxWidth()*s,u=j()(".fv__ui-sidebar")[0].getBoundingClientRect(),l=t[0].getBoundingClientRect();if(l.right-u.right>c){var A=l.right-u.right-c;e?t.css({left:-5-A-5+"px"}):t.css({left:o.left-A-5+"px"})}}}},{key:"showToolbar",value:function(e){var t=this;this.$toolbar&&this.$toolbar.remove();var n=j()('<div class="fv__text-fill-sign-toolbar">\n                                            <div class="fv__text-fill-sign-toolbar-base">\n                                                <div class="fv__text-fill-sign-toolbar-icon fv__text-fill-sign-toolbar-decrease"></div>\n                                                <div class="fv__text-fill-sign-toolbar-icon fv__text-fill-sign-toolbar-increase"></div>\n                                            </div>\n                                        </div>');e.after(n),this.$toolbar=n,this.updateToobarPostion(),this.$toolbar.find(".fv__text-fill-sign-toolbar-decrease").on("click",(function(e){var n=t.annot.getDefaultAppearance().textSize;n<7||t.annot.setDefaultAppearance({textSize:n-1})})),this.$toolbar.find(".fv__text-fill-sign-toolbar-increase").on("click",(function(e){var n=t.annot.getDefaultAppearance().textSize;n>20||t.annot.setDefaultAppearance({textSize:n+1})}))}},{key:"hideToolbar",value:function(){this.$toolbar&&this.$toolbar.remove()}},{key:"active",value:function(){(0,E._)((0,S._)(n.prototype),"active",this).call(this),this._applyShapeChange()}},{key:"_applyShapeChange",value:function(){var e,t=this,n=this._getShapeControllerBoundaryBox();e=this.getBoundary(),this.getAppPermission().then((function(i){if(!t.isDestroyed){!!t.groupMoveDisabled()||(i.ignorable()?t.moveDisabled():!i.isAdjustable()||t.moveDisabled())?t.shapeControl.disable():t.shapeControl.enable(),t.shapeControl.active(t.$handler,e,n),t.setMargin()}}))}},{key:"movedByOther",value:function(){this.isActive&&this._applyShapeChange()}},{key:"getPropertyOptions",value:function(){(0,E._)((0,S._)(n.prototype),"getPropertyOptions",this).call(this);var e=this.annot,t=e.getOpacity(),i=this.propertyDisabled(),r=this.isLocked();return{opacity:t,borderStyle:!1,disabled:i,fontColor:e.getFontColor(),fontSize:e.getDefaultAppearance().textSize,font:e.getDefaultAppearance().font,isLocked:r}}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,R._)((0,G.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2);return{left:0,top:0,right:t[0],bottom:t[1]}}},{key:"unActive",value:function(){(0,E._)((0,S._)(n.prototype),"unActive",this).call(this),this.shapeControl.deactive(),this.hideToolbar()}},{key:"createRectDom",value:function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui}},{key:"setMargin",value:function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(Nh.expandOffset(t,e))}},{key:"redraw",value:function(e){if(!this.isDestroyed)return this.moveDisabled()||this.groupMoveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),(0,E._)((0,S._)(n.prototype),"redraw",this).call(this,e)}},{key:"setHeight",value:function(e,t){var i,r=this.annot.page.getRotationAngle(),o=((this.annot.getRotation()+r+this.rotate)%360+360)%360,a=this.parent("pdfPageRender").$ui[0].getBoundingClientRect(),s=e[0],c=s.getBoundingClientRect(),u=c.left,l=c.top,A=c.bottom,d=c.right,h=c.width,f=c.height;switch((W.isMobile||W.isMiPad||W.isIPAD||W.isTablet)&&(h=e.width(),f=e.height()),o){case 0:u+(i=1.2*h)>a.right&&(i=a.right-u);break;case 90:l+(i=1.2*f)>a.bottom&&(i=a.bottom-l);break;case 270:A-(i=1.2*f)<a.top&&(i=A-a.top);break;case 180:d-(i=1.2*h)<a.left&&(i=d-a.left)}this.isTypeWriter()&&(e.width(i),e.height(s.scrollHeight)),c=s.getBoundingClientRect();var p=this.annotsRender.pageRender,v=p.rotate,g=p.scale,m={left:c.left-a.left,right:c.right-a.left,top:c.top-a.top,bottom:c.bottom-a.top};m=this.annot.page.reverseDeviceRect(m,g,v),(0,E._)((0,S._)(n.prototype),"setHeight",this).call(this,e,m,m)}},{key:"beforeBlur",value:function(e,t){if(this.$textInput.val().length<1)return this.$ui.hide(),this.removeAnnot(),!0;var n=this.annot,i=this.annot.getContent();if(!this.isHTMLSimulate("freetext"))return this.$ui.show(),!1;if(i==e.target.value)return this.$pre.html(i).show(),!0;i=e.target.value,n.info.content=i,n.info.RC="",n.info.rect=t;var r=this.getInnerBoundary(!1);this.$ui.css(r),this.$pre.html(i).show();var o=this.$ui.get(0).style,a=parseFloat(o.left)*this.fontSizeScale,s=parseFloat(o.top)*this.fontSizeScale,c=this.$ui.get(0).getBoundingClientRect(),u={left:a,top:s,right:a+c.width*this.fontSizeScale,bottom:s+c.height*this.fontSizeScale};return t=this.annot.page.reverseDeviceRect(u,this.scale,this.rotate),n._setRect(t),n._setContent(i),!0}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;if(this.scale=e,this.rotate=t,!this.isHTMLSimulate("freetext")||"typewritter"!=this.name)return this.isHTMLSimulate("freetext")&&"textbox"==this.name?(this.$ui.css({overflow:"hidden"}),(0,E._)((0,S._)(n.prototype),"render",this).call(this,e,t)):(0,E._)((0,S._)(n.prototype),"render",this).call(this,e,t);var i=this.getStyle();i["word-break"]="keep-all",i["white-space"]="nowrap",i.opacity=this.annot.getOpacity();var r=this.$ui.find(".fv__ftui-container"),o=this.fontSizeScale;r.css({transform:"scale(".concat(o,")"),width:100/o+"%"}),this.$ui.css(i),this.$pre.text(this.annot.getContent())}},{key:"updateSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;if(this.isHTMLSimulate("freetext"))return this.render(e,t);(0,E._)((0,S._)(n.prototype),"updateSize",this).call(this,e,t),this.isActive&&this._applyShapeChange(),this.$textInput.is(document.activeElement)&&this.updateTextInputStyle()}},{key:"enableEditMode",value:function(){"editing"!==this.status&&(this.isHTMLSimulate("freetext")?this.$pre.hide():"typewritter"==this.name&&this.$ui.hide(),(0,E._)((0,S._)(n.prototype),"enableEditMode",this).call(this))}}]),n}(N_);const j_=O_;var B_=n(1885),V_=n.n(B_),U_=function(){function e(){(0,C._)(this,e),this.drawAuxiliaryLine=Cg,this.clearAuxiliaryLine=Dg}return(0,D._)(e,[{key:"init",value:function(e,t){this.calloutRender=e,this.$ui=j()(t),this.$ui.hide()}},{key:"draw",value:function(e,t,n){var i=this.$ui[0];i.width=t.right-t.left,i.height=t.bottom-t.top;var r=i.getContext("2d");r.save(),r.clearRect(0,0,this.$ui.width(),this.$ui.height()),r.beginPath(),e.length>1&&(r.moveTo(e[0][0]-t.left,e[0][1]-t.top),r.lineTo(e[1][0]-t.left,e[1][1]-t.top)),e.length>2&&r.lineTo(e[2][0]-t.left,e[2][1]-t.top),r.strokeStyle="#5aa",r.lineWidth=2,r.stroke(),r.save();var o=n.width||n.right-n.left,a=n.height||Math.abs(n.top-n.bottom);r.rect(n.left-t.left,n.top-t.top,o,a),r.fillStyle="rgba(88, 176, 176, 0.5)",r.stroke(),r.fillRect(n.left-t.left,n.top-t.top,o,a),r.restore()}},{key:"show",value:function(e,t,n){e&&this.draw(e,t,n),this.$ui.show()}},{key:"hide",value:function(){this.$ui&&this.$ui.hide()}}]),e}();const H_=U_;var z_="resize",W_="area",G_="text";var Y_=function(){function e(t){var n=this;(0,C._)(this,e),this.control=t,this.annot=t.annot,this.companions=[],this.shape={getRect:function(){return n.annot.getRect()}},this.deltaX=0,this.deltaY=0,this.companionMargin={left:0,top:0,bottom:0,right:0}}return(0,D._)(e,[{key:"companion",value:function(e){this!==e&&(this.companions.indexOf(e)>-1||(this.companions.push(e),this.updateMargin()))}},{key:"updateMargin",value:function(){if(0!==this.companions.length){var e=this.shape.getRect(),t=e.left,n=e.right,i=e.top,r=e.bottom;this.companions.forEach((function(e){var o=e.shape.getRect();t=Math.min(o.left,t),i=Math.min(o.top,i),n=Math.max(o.right,n),r=Math.max(o.bottom,r)}));var o=e.left-t,a=n-e.right,s=e.top-i,c=r-e.bottom;this.companionMargin={left:o,right:a,top:s,bottom:c}}else this.companionMargin={left:0,top:0,bottom:0,right:0}}},{key:"doStart",value:function(){this.deltaX=0,this.deltaY=0,this.control.showShape(),this.control.start(W_)}},{key:"move",value:function(e,t,n){var i=this;this.deltaX+=e,this.deltaY+=t,this.control.move(W_,-1,this.deltaX,this.deltaY).then((function(e){if(e){var t=e.rect,n=e.innerRect,r=e.points;j()(i.control.calloutController).css(i.annot.getBoundary()),i.control.showShape(r,t,n)}}))}},{key:"resize",value:function(e,t,n,i){}},{key:"end",value:function(e,t){this.control.calloutShape.hide(),"move"===e&&this.control.end(W_)}},{key:"cancel",value:function(e){}},{key:"rotateStart",value:function(){}},{key:"updateRotateDegreeBox",value:function(e){}},{key:"rotate",value:function(e,t){}},{key:"rotateEnd",value:function(){}},{key:"clearCompanions",value:function(){this.companions.length=0,this.companionMargin={left:0,top:0,bottom:0,right:0}}}]),e}(),$_=jr.T,J_=function(){function e(t){(0,C._)(this,e);var n=new DOMParser;this.whole=n.parseFromString(V_()({}),"text/html").body.firstChild,this.calloutController=this.ui=this.whole.querySelector(".fv__shape-control"),this.moveable=!0,this.resizable=!0,this.isMoveDisabled=!1,this.bindMovingEvent(),this.calloutShape=new H_,this.emitter=t}return(0,D._)(e,[{key:"setResizable",value:function(e){this.ui.querySelectorAll(".fv__shape-controller").forEach((function(t){(0,T._)(t,HTMLElement)&&t.classList.toggle("fv__hide",!e)})),this.calloutController.classList.toggle("fv__callout-shape-controller-resizable-disabled",!e),this.resizable=e}},{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.start,n=void 0===t?W.noop:t,i=e.update,r=void 0===i?W.noop:i,o=e.interceptor,a=void 0===o?$_:o,s=e.moving,c=void 0===s?W.noop:s,u=e.end,l=void 0===u?W.noop:u,A=e.cancel,d=void 0===A?W.noop:A,h=e.auxiliaryLine,f=void 0===h?null:h,p=arguments.length>1?arguments[1]:void 0;this.start=n,this.update=r,this.move=c,this.interceptor=a,this.end=l,this.cancel=d,this.annot=p,this.isActive=!1,this.calloutShape.init(p,this.calloutController.querySelector(".fv__shape-control-previewer")),this.companionObject=new Y_(this),this.isActive=!1,this.auxiliaryLine=f}},{key:"getCompanionObject",value:function(){return this.companionObject}},{key:"companion",value:function(e){"function"==typeof e.getCompanionObject&&this.companionObject.companion(e.getCompanionObject())}},{key:"clearCompanions",value:function(){this.companionObject.clearCompanions()}},{key:"getMargin",value:function(){return this.companionObject.companionMargin}},{key:"active",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.annot.getBoundary(),n=arguments.length>2?arguments[2]:void 0;this.isActive=!0,e.append(this.calloutController),j()(this.calloutController).css(t),this.box=n,this.adjustPointControl(),this.calloutController.style.display="block"}},{key:"show",value:function(){j()(this.calloutController).show()}},{key:"hide",value:function(){j()(this.calloutController).hide()}},{key:"disable",value:function(){this.isDisabled=!0,this.calloutController.classList.add("disabled")}},{key:"enable",value:function(){this.isDisabled=!1,this.calloutController.classList.remove("disabled")}},{key:"moveDisable",value:function(){this.isMoveDisabled=!0,this.calloutController.classList.add("move-disabled")}},{key:"moveEnable",value:function(){this.isMoveDisabled=!1,this.calloutController.classList.remove("move-disabled")}},{key:"deactive",value:function(){this.calloutController.style.display="none",this.isActive=!1}},{key:"destroy",value:function(){this.calloutController.parentNode&&this.calloutController.parentNode.removeChild(this.calloutController)}},{key:"bindMovingEvent",value:function(){var e=this;this._bindMoveAreaEvents(W_),this._bindMoveAreaEvents(G_);var t=this.ui.querySelectorAll(".fv__shape-controller");Array.prototype.slice.call(t).forEach((function(t){return e._bindMovePointEvents(t)})),(0,W.attachContextMenuEvent)(this.calloutController,(function(t){e.annot.showContextMenu(t.clientX,t.clientY),t.preventDefault()}));this.ui}},{key:"isEditHandle",value:function(e){var t=j()(e.element).parent().prev().find("textarea");t.length||(t=j()(e.element).parent().prev());var n=!1;return t&&(n=t.is(":visible")),j()(".fv__groupAnnotBorder").is(":visible")&&(n=!1),n}},{key:"_bindMoveAreaEvents",value:function(e){var t=this,n=this.ui,i=".fv__shape-control-move-area";e==G_&&(i=".fv__shape-control-text-area");var r,o,a=new qr.Manager(n.querySelector(i));a.add(new qr.Pan({direction:qr.DIRECTION_ALL}));var s=!1;a.on("panstart",(function(n){var i=n.deltaX,c=n.deltaY,u=n.srcEvent,l=n.center;s=t.isEditHandle(a),t.isDisabled||!t.isActive||e==W_&&t.isMoveDisabled||s||(r=i,o=c,e===W_&&(t.onPrestart&&t.onPrestart(),t.companionObject.companions.forEach((function(e){e.doStart(),e.move(i,c,!0)}))),t.showShape(),t.start(e),e==W_&&t.trigger("movingstart",{deltaX:l.x+i,deltaY:l.y+c,srcEvent:u}))})),a.on("panend",(function(n){e==W_&&t.trigger("movingend"),t.isDisabled||!t.isActive||e==W_&&t.isMoveDisabled||s?s=!1:(e===W_&&t.companionObject.companions.forEach((function(e){e.end("move")})),t.calloutShape.hide(),t.end(e),e===W_&&t.onAfterEnd&&t.onAfterEnd("move"),t.auxiliaryLine&&t.calloutShape.clearAuxiliaryLine(t.auxiliaryLine.container))})),a.on("pancancel",(function(n){e==W_&&t.trigger("movingcancel"),t.isDisabled||!t.isActive||e==W_&&t.isMoveDisabled||s?s=!1:(t.cancel(e),e===W_&&t.onAfterEnd&&t.onAfterEnd("move"),t.auxiliaryLine&&t.calloutShape.clearAuxiliaryLine(t.auxiliaryLine.container))})),a.on("panmove",(function(n){var i=n.deltaX,a=n.deltaY,c=(n.center,n.direction,t);if(!(t.isDisabled||!t.isActive||e==W_&&t.isMoveDisabled||s)){var u=i-r,l=a-o,A=t.annot.getRect();t.move(e,-1,u,l).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t){var n=c.annot.getRect();if(e===W_){var i=n.left-A.left,r=n.top-A.top;c.companionObject.companions.forEach((function(e){e.move(i,r)}))}j()(c.calloutController).css(c.annot.getBoundary());var o=t.rect,a=t.innerRect,s=t.points;if(e==G_&&c.adjustPointControl(s,o,a),c.showShape(s,o,a),e===W_&&c.auxiliaryLine){var u=c.auxiliaryLine.getPageAnnots(),l=n,d=c.auxiliaryLine.gap,h=c.auxiliaryLine.container,f=c.annot.getBoundary(),p=[f],v={};f.right=f.left+f.width,f.bottom=f.top+f.height,v[f.top+f.left+f.right+f.bottom]=!0,c.companionObject.companions.length&&c.companionObject.companions.forEach((function(e){var t=e.shape.getRect();l.left=Math.min(l.left,t.left),l.top=Math.min(l.top,t.top),l.right=Math.max(l.right,t.right),l.bottom=Math.max(l.bottom,t.bottom),p.push(t),v[t.top+t.left+t.right+t.bottom]=!0})),u=u.filter((function(e){var t=e.rect;if(Rg.indexOf(e.type)<0)return!1;if(!v[t.top+t.left+t.right+t.bottom])return!0;var n=!0,i=!1,r=void 0;try{for(var o,a=p[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.top==t.top&&s.left==t.left&&s.right==t.right&&s.bottom==t.bottom)return!1}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return!0}));var g=u.map((function(e){return e.rect}));c.calloutShape.drawAuxiliaryLine(l,g,d,h)}}}))}}))}},{key:"_bindMovePointEvents",value:function(e){var t,n,i=this,r=new qr.Manager(e);r.add(new qr.Pan({direction:qr.DIRECTION_ALL})),r.on("panmove",(function(r){var o=r.deltaX,a=r.deltaY;r.center,r.direction,r.target;if(!i.isDisabled&&i.isActive&&i.resizable){var s=o-t,c=a-n;return i.move(z_,e.classList[2],s,c).then((function(e){if(e){j()(i.calloutController).css(i.annot.getBoundary());var t=e.rect,n=e.innerRect,r=e.points;i.adjustPointControl(r,t,n),i.showShape(r,t,n)}})),!1}})),r.on("panstart",(function(e){var r=e.deltaX,o=e.deltaY;e.center;if(!i.isDisabled&&i.isActive&&i.resizable)return t=r,n=o,i.showShape(),i.start(z_),!1})),r.on("pancancel",(function(e){if(!i.isDisabled&&i.isActive&&i.resizable)return i.cancel(z_),!1})),r.on("panend",(function(e){if(!i.isDisabled&&i.isActive&&i.resizable)return i.calloutShape.hide(),i.end(z_),!1}))}},{key:"showShape",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot.getCalloutPointers(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.annot.getRect(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.annot.getInnerBoundary();this.calloutShape.show(e,t,n)}},{key:"adjustPointControl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot.getCalloutPointers(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.annot.getRect(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.annot.getInnerBoundary(),i=this.ui,r={left:n.left-t.left,top:n.top-t.top,width:n.width,height:n.height},o=i.querySelector(".fv__shape-control-text-area");j()(o).css(r);var a=i.querySelector(".fv__shape-control-inner-area");if(j()(a).css(r),e.length>1){var s=i.querySelector(".fv__shape-controller.calloutStart");j()(s).css({display:"block",left:e[0][0]-t.left-4,top:e[0][1]-t.top-4}),s=i.querySelector(".fv__shape-controller.calloutKnee"),j()(s).css({display:"block",left:e[1][0]-t.left-4,top:e[1][1]-t.top-4})}else{var c=i.querySelector(".fv__shape-controller.calloutStart");j()(c).css({display:"none"}),c=i.querySelector(".fv__shape-controller.calloutKnee"),j()(c).css({display:"none"})}}},{key:"trigger",value:function(e,t){var n=this.emitter;n&&n.emit(e,t)}},{key:"setSnapGrid",value:function(e){this.snapGrid=e}},{key:"isAllDirection",value:function(){return!0}}]),e}(),q_=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,null,[{key:"calcCalloutPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.start,i=t.end,r=t.page,o=t.width,a=void 0===o?i[0]+110:o,s=t.height,c=void 0===s?i[1]+30:s,u=t.borderStyle,l=t.endingStyle,A=t.scale,d=t.rotate;i[0]=Math.max(i[0],2),i[1]=Math.max(i[1],12);var h=100*A*4/3,f=20*A*2/3,p=r.getOriginX(),v=r.getOriginY(),g=r.reverseDeviceRect({left:i[0],right:i[0]+h,top:i[1]-f,bottom:i[1]+f},A,d);n=r.reverseDevicePoint(n,A,d),i=r.reverseDevicePoint(i,A,d),g.left<p&&(g.left=p),g.bottom<v&&(g.bottom=v);var m=[{x:n[0],y:n[1]},{x:g.left-15,y:g.top+10},{x:g.left-.1,y:g.top+10}];if(!(m=e.checkKneePoint(0,m,g))||K_(m[0],m[1])<15||K_(m[2],m[1])<15)return{invalid:!0};var y=e.recalculateRect({points:m,innerRect:g,width:a,height:c,borderStyle:u,endingStyle:l});return y.left<p+5||y.right>p+a||y.bottom<v+5||y.top>v+c?{invalid:!0}:{calloutLinePoints:m,rect:y,innerRect:g}}},{key:"calcKneeLength",value:function(e){var t=e[1],n=e[2];return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}},{key:"checkKneePoint",value:function(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.kneeLength;if(t>3||n.length<2)return null;var o=JSON.parse(JSON.stringify(n));switch(t){case 0:o[2]={x:i.left-.1,y:(i.top+i.bottom)/2-.1},o[1]={x:o[2].x-r,y:o[2].y};break;case 1:o[1]={x:(i.left+i.right)/2,y:i.bottom-r},o[2]={x:o[1].x-.1,y:i.bottom-.1};break;case 2:o[1]={x:i.right+r,y:(i.top+i.bottom)/2},o[2]={x:i.right-.1,y:o[1].y};break;case 3:o[1]={x:(i.left+i.right)/2,y:i.top+r},o[2]={x:o[1].x-.1,y:i.top-.1}}var a=K_(o[2],o[0]);if(a<20)return o;var s=K_(o[2],o[1]),c=K_(o[1],o[0]),u=Math.acos((a-s-c)/(2*Math.sqrt(s)*Math.sqrt(c)));return Math.PI>u&&u>Math.PI/2?e.checkKneePoint(t+1,n,i,r):o}},{key:"recalculateRect",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.points,n=e.innerRect,i=e.width,r=void 0===i?1e4:i,o=e.height,a=void 0===o?1e4:o,s=e.rotate,c=e.borderInfo,u=e.endingStyle,l=1/0,A=l,d=-1/0,h=-1/0,f=l,p=0;p<3;p++)t[p].x<A&&(A=t[p].x),t[p].x>d&&(d=t[p].x),t[p].y>h&&(h=t[p].y),t[p].y<f&&(f=t[p].y);s%2&&(r^=a,r^=a^=r);var v=0;c&&5==c.style&&(v=1==c.cloudIntensity?6:9);var g={left:Math.max(Math.min(A,n.left)-1,0),top:Math.max(h,n.top)+1,right:Math.max(d,n.right)+1,bottom:Math.min(f,n.bottom)-1};0!==v&&(Math.abs(g.left-n.left)<2&&(g.left-=v),Math.abs(g.right-n.right)<2&&(g.right+=v),Math.abs(g.top-n.top)<2&&(g.top+=v),Math.abs(g.bottom-n.bottom)<2&&(g.bottom-=v));var m=0;switch(u){case 7:case 8:m=8;break;case 2:case 1:case 3:case 6:case 9:m=6}return 0!=m&&(g.left-=m,g.right+=m,g.top+=m,g.bottom-=m),n.left<g.left&&(n.left=g.left+1),n.right>g.right&&(n.right=g.right-1),n.top>g.top&&(n.top=g.top-1),n.bottom<g.bottom&&(n.bottom=g.bottom+1),g}}]),e}();q_.kneeLength=15;var K_=function(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)};const Z_=q_;!function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this,e)).helper=new om(e),i}(0,D._)(n,[{key:"doPrepare",value:function(){(0,E._)((0,S._)(n.prototype),"doPrepare",this).call(this),this.canvas.classList.add("fv__viewer-render-square-canvas")}},{key:"doRender",value:function(e){e.renderingData;var t=this.component.annot,n=t.info,i=n.borderInfo||{},r=e.scale,o=e.rotate,a=this.convertPointToPixel(i.width||1,r),s=t.page,c=e.outerRect,u=t.getCalloutLinePoints().map((function(e){var t=s.getDevicePoint([e.x,e.y],r,o);return[t[0]-c.left,t[1]-c.top]})),l=this.canvas.getContext("2d");if(l.clearRect(0,0,this.canvas.width,this.canvas.height),!this.component.needToggleView||!this.component.needToggleView()||this.component.shouldRenderByMouseEvent()){l.save(),e.lineWidth=a,0===a||!1===n.hasBorderColor?l.strokeStyle="transparent":l.strokeStyle=this.numberToRGBAString(n.color),l.lineWidth=a;try{switch(i.style){case he.BEVELED:case he.UNDERLINE:case he.SOLID:this.renderSolid(l,n,e);break;case he.DASHED:this.renderDashed(l,n,e);break;case he.CLOUDY:this.renderCloud(l,n,e)}var A=n.fillColor;A?(A=this.numberToRGBAString(A),l.fillStyle=A,l.fill()):A="transparent",e.renderingData.fillColor=A,this.renderCallout(l,e,n.borderColor,t.getCalloutLineEndingStyle(),u,a),this.component.$pre.css({height:e.innerRect.height,overflow:"hidden"}),l.stroke()}finally{l.restore()}this.afterRender(e)}}},{key:"convertToPathPoint",value:function(e,t,n,i){var r=(0,R._)(i.getDevicePoint([e.x,e.y],t),2),o=r[0],a=r[1];return new im(o-n.left,a-n.top)}},{key:"shrinkRect",value:function(e,t){var n=Nh.on(e).shrink(t).extract();return Object.assign(n,{width:n.right-n.left,height:n.bottom-n.top})}},{key:"renderCloud",value:function(e,t,n){t.fillColor;var i=t.borderInfo.cloudIntensity,r=this.shrinkRect(n.innerRect,0),o=this.shrinkRect(n.outerRect,0),a=r.width,s=r.height;new Lm([new im(0,s),new im(a,s),new im(a,0),new im(0,0)],r,o).generate(32/3/i).render(e)}},{key:"renderDashed",value:function(e,t,n){var i=this,r=t.borderInfo,o=r.dashes||[],a=r.dashPhase||0,s=n.scale;e.save(),e.setLineDash&&e.setLineDash(o.map((function(e){return i.convertPointToPixel(e,s)}))),e.lineDashOffset=this.convertPointToPixel(a,s),this.renderSolid(e,t,n)}},{key:"renderSolid",value:function(e,t,n){var i=n.outerRect,r=n.innerRect,o=n.lineWidth,a=r.width,s=r.height,c=r.left-i.left,u=r.top-i.top,l=.5*o;e.beginPath(),e.rect(c+l,u+l,a-o,s-o),e.closePath()}},{key:"renderCallout",value:function(e,t,n,i,r,o){e.save();e.lineWidth=o,e.strokeStyle=this.numberToRGBAString(n),e.moveTo(r[0][0],r[0][1]),r.map((function(t){e.lineTo(t[0],t[1])})),e.stroke();var a=new im(r[1][0],r[1][1]),s=new im(r[0][0],r[0][1]);this.helper.renderLineEnd(e,o,t,i,a,s),e.restore()}},{key:"afterRender",value:function(e){var t=e.outerRect,i=e.innerRect;(0,E._)((0,S._)(n.prototype),"afterRender",this).call(this);var r=this.component,o=r.annot,a=r.$pre;a.html(o.getContent());var s=r.getStyle(!1);delete s.background;var c=4*o.getBorderWidth()/3*r.scale;5===o.getBorderInfo().style&&(c=0);var u=r.fontSizeScale;s.margin=[(i.top-t.top+c)/u,(t.right-i.right+c)/u,(t.bottom-i.bottom+c)/u,(i.left-t.left+c)/u].join("px ")+"px",r.$ui.find(".fv__ftui-container").css({transform:"scale(".concat(u,")"),width:100/u+"%"}),a.css(s),r.$ui.css("opacity",o.getOpacity())}}])}(zg);var X_=["left","bottom","right","top"],Q_=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;(0,C._)(this,n),(a=t.call(this,e,i,r,o)).annot=e,a.name="callout",a.$ui.removeClass("fv__pdf-page-textbox-annot-container"),a.$handler.removeClass("fv__pdf-page-textbox-annot-handler-container"),a.$ui.addClass("fv__pdf-page-callout-annot-container"),a.$handler.addClass("fv__pdf-page-callout-annot-handler-container"),W.Lazy.property((0,x._)(a),"shapeControl",(function(){var e=new J_(a.pdfViewer.eventEmitter);return a.processShapeControlPermissionCtrl(e),e})),a.addDestroyHook(W.Lazy.onInitialized((0,x._)(a),"shapeControl",(function(){a._applyShapeChange()}))),a.editDebouncePromiseQueue=new ue;var s=j()("<div class='fv__ftui-container'><pre class='fv__textbox_ui'></pre></div>");return a.$pre=s.find("pre"),a.$ui.append(s),a.rectChanged=!1,a}return(0,D._)(n,[{key:"_applyShapeChange",value:function(){var e=this.shapeControl;if(!e.isDisabled){var t={moveable:!0,resizable:!0},n=(0,w._)({},t,this.pdfViewer.customs.getAnnotComponentConfig(this,Object.keys(t)));e.moveable=n.moveable,n.moveable||e.moveDisable(),n.resizable||e.setResizable(!1),this.doActiveShapeControl()}}},{key:"getPadding",value:function(){return this.annot.getBorderWidth()*this.pdfViewer.getSmartScale(this.scale)}},{key:"computeLineHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.computeFontSizePx();return 1.18*e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.computeFontSizeScale(e))}},{key:"handleInputEvent",value:function(){var e=this;this.resizeTaskExecutor.exec((0,P._)((function(){var t,n,i,r,o,a,s,c,u,l,A,d;return(0,L.Jh)(this,(function(h){switch(t=e.getFinalRotateAngle(),n=e.$textInput[0],i=n.getBoundingClientRect(),r=e.parent("pdfPageRender"),o=r.$ui[0].getBoundingClientRect(),a=e.getPadding(),s=e.computeCurrentMinMaxHeight({inputRect:i,padding:a,rotate:t,pageRect:o}),c=s.minHeight,u=s.maxHeight,l=n.clientHeight,t){case 0:case 180:L_(n,{maxWidth:n.clientWidth,minWidth:n.clientWidth,maxHeight:o.height-2*a,minHeight:c});break;case 90:case 270:L_(n,{maxWidth:n.clientWidth,minWidth:n.clientWidth,maxHeight:o.width-2*a,minHeight:c})}if((A=n.clientHeight)>u){switch(d=function(){switch(t){case 0:return o.bottom-A-o.top-2*a;case 90:case 180:return A+2*a;case 270:return o.right-A-o.left-2*a}}(),t){case 90:case 270:n.style.left=d+"px";break;default:n.style.top=d+"px"}e.rectChanged=!0}else e.rectChanged=n.clientHeight!==l;return e.rectChanged?[2,e.setHeight(e.$textInput)]:[2]}))})))}},{key:"updateOnPermissionChange",value:function(e){if(!this.isDestroyed&&(W.Lazy.isPropertyIntialized(this,"shapeControl")&&!this.isDestroyed)){var t=!1;t=!!this.groupMoveDisabled()||(e.ignorable()?this.moveDisabled():!e.isAdjustable()||this.moveDisabled());var n=this.shapeControl;t?n.disable():n.enable()}}},{key:"unActive",value:function(){(0,E._)((0,S._)(n.prototype),"unActive",this).call(this),this.shapeControl.deactive()}},{key:"active",value:function(){this.rectChanged||(0,E._)((0,S._)(n.prototype),"active",this).call(this),this.doActiveShapeControl()}},{key:"updateSize",value:function(e,t){this.scale=e,this.rotate=t,this.isActive&&this.rerenderShapeControl()}},{key:"doActiveShapeControl",value:function(){var e=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.shapeControl).init({start:function(t){return e.onStartUpdateShape(t)},moving:function(t,n,i,r){return e.onShapeMoving(t,n,i,r)},end:function(t){return e.onShapeUpdateEnd(null,null,t)},auxiliaryLine:void 0},this),this.rerenderShapeControl()}},{key:"rerenderShapeControl",value:function(){var e=this,t=this._getShapeControllerBoundaryBox(),n=this.getBoundary();this.shapeControl.active(this.$handler,n,t),this.getAppPermission().then((function(t){var n=!1;n=!!e.groupMoveDisabled()||(t.ignorable()?e.moveDisabled():!t.isAdjustable()||e.moveDisabled()),e.pdfViewer.currentPDFDoc.readonly().then((function(t){t&&(n=!0),n?e.shapeControl.disable():e.shapeControl.enable()}))}))}},{key:"movedByOther",value:function(){if(this.isActive){this.activeRect();var e=this._getShapeControllerBoundaryBox(),t=this.getBoundary();this.shapeControl.active(this.$handler,t,e),this.shapeControl.adjustPointControl()}}},{key:"afterRender",value:function(e){e.transformed&&this.isActive&&this.movedByOther()}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,R._)((0,G.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2);return{left:0,top:0,right:t[0],bottom:t[1]}}},{key:"backup",value:function(){var e=this,t=this.annot.getCalloutLinePoints();if(this.backupProperty={points:JSON.parse(JSON.stringify(t)),rect:Object.assign({},this.annot.getRect()),innerRect:Object.assign({},this.annot.getInnerRect())},t.length<3){var n=this.annot.getBorderStyle(),i=Z_.calcCalloutPosition({start:[0,0],end:[this.backupProperty.innerRect.left,(this.backupProperty.innerRect.top+this.backupProperty.innerRect.bottom)/2],width:this.getPDFPage().getWidth(),height:this.getPDFPage().getHeight(),rotate:this.getPDFPage().getRotation()-this.rotate,borderStyle:n,endingStyle:this.annot.getCalloutLineEndingStyle()});this.setCalloutLinePoints(i.calloutLinePoints).then((function(t){var n,i=e._getShapeControllerBoundaryBox();n=e.getBoundary(),e.shapeControl.active(e.$rect,n,i)}))}}},{key:"onStartUpdateShape",value:function(e){this.backup()}},{key:"onShapeMoving",value:function(e,t,n,i){var r=this,o=(0,R._)(this.annot.page.reverseDeviceOffset([n,i],this.scale,this.rotate),2),a=o[0],s=o[1];return this.updatePromise=this.updatePromise||Promise.resolve(),this.updatePromise=this.updatePromise.then((function(){switch(e){case G_:return r.updateTextRect(a,s);case W_:return r.updateRect(a,s);case z_:return r.updatePoint(t,a,s)}})).then((function(e){return r.annot.isGrouped(),e}))}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this,r=this.annot.info.rect,o=this.annot.info.innerRect,a=this.annot.info.calloutLinePoints;return this._flushEdit(r,o,a).then((function(e){i.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,i),n==W_&&i.pdfViewer.eventEmitter.emit(se.annotationMovedPosition,[i.annot],i.annot.page,i.annot)})).then((function(e){return i.rerenderShapeControl(),e}))}},{key:"_flushEdit",value:function(e,t,n){var i=this,r=Promise.resolve();return this.annot.isGrouped()&&(r=this.annot.moveTo({left:e.left,top:e.top})),r.then((function(){return i.updateCalloutFigure(e,t,n)})).then((function(){return i.annot.oldRect=i.backupProperty.rect,i.redraw()})).then((function(){i.isActive&&i.rerenderShapeControl()}))}},{key:"updateRect",value:function(e,t){var n=Object.assign({},this.backupProperty.rect);if(n.left+=e,n.right+=e,n.bottom+=t,n.top+=t,!this.checkRect(n,!0))return Promise.resolve(!1);if(e=n.left-this.backupProperty.rect.left,t=n.top-this.backupProperty.rect.top,0==e&&0==t)return Promise.resolve();var i=Object.assign({},this.backupProperty.innerRect);i.left+=e,i.right+=e,i.top+=t,i.bottom+=t;var r=JSON.parse(JSON.stringify(this.backupProperty.points));return r[0].x+=e,r[0].y+=t,r[1].x+=e,r[1].y+=t,r[2].x+=e,r[2].y+=t,this.annot.info.rect=n,this.annot.info.innerRect=i,this.annot.info.calloutLinePoints=r,Promise.resolve({rect:this.getRect(),innerRect:this.getInnerBoundary(),points:this.getCalloutPointers()})}},{key:"updateTextRect",value:function(e,t){var n=Object.assign({},this.backupProperty.innerRect),i=this.annot.getCalloutLinePoints();if(n.left+=e,n.right+=e,n.top+=t,n.bottom+=t,!this.checkRect(n,!0))return Promise.resolve(!1);if(!(i=Z_.checkKneePoint(0,i,n)))return Promise.resolve(!1);var r=this.getPDFPage(),o=Z_.recalculateRect({points:i,innerRect:n,width:r.getWidth(),height:r.getHeight(),rotate:r.getRotation(),borderInfo:this.annot.getBorderInfo(),endingStyle:this.annot.getCalloutLineEndingStyle()});return this.annot.info.rect=o,this.annot.info.innerRect=n,this.annot.info.calloutLinePoints=i,Promise.resolve({rect:this.getRect(),innerRect:this.getInnerBoundary(),points:this.getCalloutPointers()})}},{key:"updatePoint",value:function(e,t,n){var i=this.annot.page,r=this.annot.page.getRotation(),o=i.getWidth(),a=i.getHeight(),s=(0,R._)(1==r||3==r?[a,o]:[o,a],2),c=s[0],u=s[1],l=this.annot.getBorderWidth(),A=this.backupProperty.points,d=JSON.parse(JSON.stringify(this.annot.getCalloutLinePoints())),h=!0,f=Object.assign({},this.backupProperty.innerRect);switch(e){case"calloutStart":d[0].x=A[0].x+t,d[0].y=A[0].y+n;if(f.left-20<d[0].x&&d[0].x<f.right+20&&f.bottom-20<d[0].y&&d[0].y<f.top+20)return Promise.resolve();break;case"calloutKnee":if(d[1].x==d[2].x){if(t=0,A[1].y<A[2].y&&A[1].y+n>=A[2].y)return Promise.resolve();if(A[1].y>A[2].y&&A[1].y+n<=A[2].y)return Promise.resolve()}else if(d[1].y==d[2].y){if(n=0,A[1].x<A[2].x&&A[1].x+t>=A[2].x)return Promise.resolve();if(A[1].x>A[2].x&&A[1].x+t<=A[2].x)return Promise.resolve()}if(A[1].x+t<0||A[1].y+n<0)return Promise.resolve();h=!1,d[1].x=A[1].x+t,d[1].y=A[1].y+n;break;default:for(var p=[].concat(X_),v=0;v<this.rotate/90+this.annot.page.getRotation();v++){var g=p.shift();p.push(g)}switch(e){case"left":f[p[0]]+=eb(p[0],t,n);break;case"bottom":f[p[1]]+=eb(p[1],t,n);break;case"right":f[p[2]]+=eb(p[2],t,n);break;case"top":f[p[3]]+=eb(p[3],t,n)}}if(f.bottom<l&&(f.bottom=l),f.left<l&&(f.left=l),f.top>u-l&&(f.top=u-l),f.right>c-l&&(f.right=c-l),h&&!(d=Z_.checkKneePoint(0,d,f)))return Promise.resolve(!1);var m=Z_.recalculateRect({points:d,innerRect:f,width:i.getWidth(),height:i.getHeight(),rotate:i.getRotation(),borderStyle:this.annot.getBorderInfo(),endingStyle:this.annot.getCalloutLineEndingStyle()});return this.checkRect(m)?(this.annot.info.rect=m,this.annot.info.innerRect=f,this.annot.info.calloutLinePoints=d,Promise.resolve({rect:this.getRect(),innerRect:this.getInnerBoundary(),points:this.getCalloutPointers()})):Promise.resolve()}},{key:"setEndingStyle",value:function(e,t){var n=this;return this.annot.setCalloutLineEndingStyle(+t).then((function(){return n.annot.update()})).then((function(){n.activeRect(),n.redraw(),n.rerenderShapeControl()}))}},{key:"setColor",value:function(e){var t=this;return this.annot.setBorderColor(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,t),e})):e}))}},{key:"setFillColor",value:function(e){var t=this;return this.annot.setFillColor(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,t),e})):e}))}},{key:"setBorderWidth",value:function(e){var t=this;return this.annot.setBorderWidth(e).then((function(e){return e?t.updateRender().then((function(){return t.rerenderShapeControl(),t.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,t),e})):e}))}},{key:"setBorderStyle",value:function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then((function(){return n.updateRender().then((function(){n.rerenderShapeControl(),n.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,n)}))}))}},{key:"getPropertyOptions",value:function(){(0,E._)((0,S._)(n.prototype),"getPropertyOptions",this).call(this);var e=this.annot,t=(0,W.colorConvertor)(e.getBorderColor(),"#"),i=e.getOpacity(),r=this.annot.getFillColor(),o=e.getBorderWidth(),a=this.propertyDisabled(),s=e.getFontColor(),c=e.getDefaultAppearance().textSize,u=e.getDefaultAppearance().font,l=this.isLocked();return{color:t,opacity:i,fillColor:r,lineStartStyle:e.getCalloutLineEndingStyle(),borderWidth:o,cloudy:!0,disabled:a,fontColor:s,fontSize:c,borderStyle:!0,font:u,isLocked:l}}},{key:"getCalloutPointers",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot.getCalloutLinePoints(),t=[],n=0;n<e.length;n++){var i=this.annot.page.getDevicePoint([e[n].x,e[n].y],this.scale,this.rotate);t.push(i)}return t}},{key:"setInnerRectHeight",value:function(e){var t=Object.assign({},this.backupProperty.innerRect),n=this.annot.getBorderWidth();5===this.annot.getBorderInfo().style&&(n=0);var i={left:e.left-t.left-n,right:e.right-t.right+n,top:e.top-t.top+n,bottom:e.bottom-t.bottom-n},r=0;if(Math.abs(i.left)<3&&(r++,i.left=0),Math.abs(i.right)<3&&(r++,i.right=0),Math.abs(i.top)<3&&(r++,i.top=0),Math.abs(i.bottom)<3&&(r++,i.bottom=0),4==r)return Promise.resolve(!1);var o=t.left+i.left,a=t.bottom+i.bottom,s=t.top+i.top,c=t.right+i.right;if(o>=c||s<=a)return Promise.resolve(!1);var u=this.annot.getBorderWidth(),l=this.annot.page.getHeight(),A=this.annot.page.getWidth();return this.annot.page.getRotation()%2&&(A^=l,A^=l^=A),o=Math.max(u,o),a=Math.max(u,a),s=Math.min(s,l-u),c=Math.min(c,A-u),this.setInnerRectProperty({left:o,bottom:a,top:s,right:c})}},{key:"enableSyncTextScaling",value:function(){return this.pdfViewer.customs.syncTextScaling}},{key:"setInnerRectProperty",value:function(e){var t=JSON.parse(JSON.stringify(this.backupProperty.points)),n=this.backupProperty.innerRect,i=this.annot.page.getHeight();if(this.enableSyncTextScaling()&&t[2].y<=n.bottom+this.annot.getBorderWidth()){var r=t[2];if(e.bottom<r.y){var o=r.y-e.bottom+1;e.bottom+=o,e.top=Math.min(i,e.top+o)}}var a=Z_.calcKneeLength(this.backupProperty.points,n);e:if(!(t=Z_.checkKneePoint(0,t,e,a))){if(this.enableSyncTextScaling()){var s=this.backupProperty.points;if(W.isAllSimilar.apply(void 0,[1].concat((0,M._)(s.map((function(e){return e.y})))))){var c=s[0].x<e.left,u=c?{x:e.left-.1,y:.5*(e.top+e.bottom)-.1}:{x:e.right+.1,y:.5*(e.top+e.bottom)-.1},l=c?{x:u.x-Z_.kneeLength,y:u.y}:{x:u.x+Z_.kneeLength,y:u.y};t=[s[0],l,u];break e}}return Promise.resolve(!1)}var A=this.annot.page,d=Z_.recalculateRect({points:t,innerRect:e,width:A.getWidth(),height:A.getHeight(),rotate:A.getRotation(),borderStyle:this.annot.getBorderInfo(),endingStyle:this.annot.getCalloutLineEndingStyle()});Promise.resolve(),this.annot.getRect();return this.updateCalloutFigure(d,e,t)}},{key:"checkRect",value:function(e,t){var n=this.annot.page,i=this.shapeControl.getMargin(),r=(0,R._)(n.reverseDeviceOffset([i.left,i.top],this.scale,this.rotate),2),o=r[0],a=r[1],s=(0,R._)(n.reverseDeviceOffset([i.right,i.bottom],this.scale,this.rotate),2),c=s[0],u=s[1],l=Math.abs(o),A=Math.abs(u),d=Math.abs(c),h=Math.abs(a),f=n.getOriginX()+l,p=n.getOriginX()+n.getMediaWidth()-d,v=n.getOriginY()+A,g=n.getOriginY()+n.getMediaHeight()-h;if(t){if(e.left<f+2){var m=l+2-e.left;e.left+=m,e.right+=m}else if(e.right>p-1){var y=p-1-e.right;e.left+=y,e.right+=y}if(e.bottom<v+2){var _=A+2-e.bottom;e.bottom+=_,e.top+=_}else if(e.top>g-2){var b=g-2-e.top;e.bottom+=b,e.top+=b}return!0}return!(e.left<f||e.bottom<v||e.top>g||e.right>p)}},{key:"createRectDom",value:function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui}},{key:"redraw",value:function(e){if(!this.isDestroyed)return this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),(0,E._)((0,S._)(n.prototype),"redraw",this).call(this,e)}},{key:"setHeight",value:function(e,t){var i=this,r=(this.annot.page.getRotationAngle(),this.annot.getRotation(),this.getStyle(!1,!0));this.setDomRect(r);var o=e[0].getBoundingClientRect(),a=this.parent("pdfPageRender").getPDFRectFromClientRect(o),s=this.annotsRender,c=s.getRerenderMode();return s.setRerenderMode(Qi.debounce),this.setInnerRectHeight(a).then((function(t){return(0,E._)((0,S._)(n.prototype),"setHeight",i).call(i,e)})).finally((function(){i.setDomRect(r),e.css(r),i.rectChanged=!1,s.setRerenderMode(c)}))}}]),n}(N_),eb=function(e,t,n){return"left"===e||"right"==e?t:n};const tb=Q_;!function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}(0,D._)(n,[{key:"doRender",value:function(e){isNaN(e.innerRect.left)||((0,E._)((0,S._)(n.prototype),"doRender",this).call(this,e,!1),this.afterRender())}},{key:"afterRender",value:function(){(0,E._)((0,S._)(n.prototype),"afterRender",this).call(this);var e=this.component,t=e.annot,i=e.$pre;i.html(t.getContent());var r=e.getStyle(!0);delete r.background,delete r.left,delete r.top,r.padding=4*e.getPadding()/3*e.scale,i.css(r);var o=e.$ui.find(".fv__ftui-container"),a=e.fontSizeScale;o.css({transform:"scale(".concat(a,")"),width:100/a+"%"}),e.$ui.css("opacity",t.getOpacity())}}])}(Xm);var nb=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;return(0,C._)(this,n),(a=t.call(this,e,i,r,o)).name="textbox",a.$ui.removeClass("fv__pdf-page-typewritter-annot-container"),a.$handler.removeClass("fv__pdf-page-typewritter-annot-handler-container"),a.$ui.addClass("fv__pdf-page-textbox-annot-container"),a.$handler.addClass("fv__pdf-page-textbox-annot-handler-container"),a.$pre.addClass("fv__textbox_ui"),a}return(0,D._)(n,[{key:"active",value:function(){(0,E._)((0,S._)(n.prototype),"active",this).call(this),this.fontSizeScale<1&&this.$handler.css("transform","scale(1)")}},{key:"getDefaultShapeOptions",value:function(){return{resizable:!0,enableDiagonally:!0}}},{key:"getShapeOptions",value:function(){return(0,E._)((0,S._)(n.prototype),"getShapeOptions",this).call(this)}},{key:"getPropertyOptions",value:function(){(0,E._)((0,S._)(n.prototype),"getPropertyOptions",this).call(this);var e=this.annot,t=(0,W.colorConvertor)(e.getBorderColor(),"#"),i=e.getOpacity(),r=e.getBorderWidth();return{color:t,opacity:i,fillColor:e.getFillColor(),borderWidth:r,cloudy:!0,disabled:this.propertyDisabled(),fontColor:e.getFontColor(),fontSize:e.getDefaultAppearance().textSize,borderStyle:!0,font:e.getDefaultAppearance().font,isLocked:this.isLocked()}}},{key:"setHeight",value:function(e,t){var n=this.parent("pdfPageRender");if(!n.isDestroyed&&n.$ui){var i=this.getMaxSize(e[0]).height;e[0].style.cssText+="\n            max-height: ".concat(i,"px;\n            height: ").concat(Math.min(e[0].scrollTop+e[0].scrollHeight,i),"px;\n        ");var r=e[0].getBoundingClientRect(),o=this.parent("pdfPageRender").getPDFRectFromClientRect(r);return this.setInnerRectHeight(o)}}},{key:"setBorderWidth",value:function(e){var t=this;return this.annot.setBorderWidth(e).then((function(e){return t.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,t),e}))}},{key:"setColor",value:function(e){var t=this;return this.annot.setBorderColor(e).then((function(e){return t.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,t),e}))}},{key:"setFillColor",value:function(e){var t=this;return this.annot.setFillColor(e).then((function(e){return t.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,t),e}))}},{key:"setBorderStyle",value:function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then((function(e){return n.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,n),e}))}},{key:"setInnerRectHeight",value:function(e){var t,n=this,i=this.annot.getBorderInfo(),r=Object.assign({},this.backupProperty.rect);t=i.style===he.CLOUDY?Object.assign({},this.backupProperty.innerRect):Object.assign({},r);var o={left:e.left-t.left,right:e.right-t.right,top:e.top-t.top,bottom:e.bottom-t.bottom},a=0;return Math.abs(o.left)<3&&(a++,o.left=0),Math.abs(o.right)<3&&(a++,o.right=0),Math.abs(o.top)<3&&(a++,o.top=0),Math.abs(o.bottom)<3&&(a++,o.bottom=0),4===a?Promise.resolve():(r={left:r.left+o.left,right:r.right+o.right,top:r.top+o.top,bottom:r.bottom+o.bottom},this.updateRectFigure(r,e).then((function(){n.backup()})))}},{key:"setInnerRect",value:function(e){var t=this;return(0,E._)((0,S._)(n.prototype),"setInnerRect",this).call(this,e).then((function(){return t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,t),!0}))}))}},{key:"updateRectFigure",value:function(e,t){var n=this;return this.annot.updateRectFigure(e,t).then((function(e){return e?n.updateRender().then((function(){return n.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,n),e})):e}))}},{key:"backup",value:function(){this.backupProperty={rect:Object.assign({},this.annot.getRect()),innerRect:Object.assign({},this.annot.getInnerRect())}}},{key:"onStartUpdateShape",value:function(e,t,n){this.backup()}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this,r=Promise.resolve();switch(n){case"move":r=this.moveTo(e.left,e.top,n);break;case"resize":var o=this.backupProperty.rect,a=this.backupProperty.innerRect,s={left:a.left-o.left,right:o.right-a.right,bottom:a.bottom-o.bottom,top:o.top-a.top},c=this.getPDFPage(),u=c.reverseDeviceRect({left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height},this.scale,this.rotate),l={left:u.left-s.left,right:u.right+s.right,bottom:u.bottom-s.bottom,top:u.top+s.top};r=this.setRectInPDF(l,!1).then((function(e){return i.setInnerRect(u)})).then((function(){i.activeRect()})).finally((function(){i.pdfViewer.eventEmitter.emit(se.annotationUpdated,[i.annot],c)}))}return this.annot.isGrouped()&&this.pdfViewer.eventEmitter.emit("freetextGroupMovingEnd"),r}},{key:"activeRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,t=this.$rect=this.$rect||this.rectInit(),n=this.scale,i=this.rotate,r=e.getDeviceInnerRect(n,i),o="px";t.css({left:r.left+o,top:r.top+o,width:r.right-r.left+o,height:r.bottom-r.top+o}),this.isActive&&this._applyShapeChange(),"editing"===this.status&&this.updateTextInputStyle()}},{key:"getBoundary",value:function(){var e=this.annot.getDeviceInnerRect(this.scale,this.rotate),t=this.annot.getInnerRect(),n=e.right-e.left,i=e.bottom-e.top;return 8&this.annot.getFlags()&&(n=t.right-t.left,i=t.top-t.bottom),{left:e.left,top:e.top,width:n,height:i}}},{key:"beforeBlur",value:function(){return!1}},{key:"handleInputEvent",value:function(){N_.prototype.handleInputEvent.call(this)}}]),n}(j_);const ib=nb;var rb="annotComponent",ob={properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(e,t,n){this.data(rb).showPropertiesDialog(e,t,n)}},actions:{name:"actions",nameI18nKey:"viewer_:contextmenu.annot.actions",callback:function(){this.data(rb).showActionsDialog()},disabled:function(){return this.data(rb).readOnlyDisabled()}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(rb).removeAnnot()},disabled:function(){return this.data(rb).deleteDisabled()}}},ab={properties:ob.properties,download:{name:"download",nameI18nKey:"viewer_:contextmenu.annot.download",callback:function(){this.data(rb).download()},disabled:function(){return this.data(rb).readOnlyDisabled()}},remove:ob.remove};const sb={PDF_VIEWER_ALIVE:"PDF-VIEWER-ALIVE",PDF_DOCUMENT_CLOSING:"PDF-DOCUMENT-CLOSING",BROWSER_RELOAD:"BROWSER-RELOAD"};const cb={OBJECT_URL:"object-url-creation"};n(7539),n(4637);var ub,lb,Ab,db="px",hb=function(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:ob,events:{show:function(){return this.data(rb).updateDeleteStatus(!0),!0},hide:function(){return this.data(rb).updateDeleteStatus(!1),!0}}}}(".fv__pdf-page-annot-handler-rect"),fb=function(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:ab,events:{show:function(){return this.data(rb).updateDeleteStatus(!0),!0},hide:function(){return this.data(rb).updateDeleteStatus(!1),!0}}}}(".fv__pdf-page-annot-handler-rect"),pb="play",vb="pause",gb="ended",mb="error",yb=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"_resize",value:function(e,t,i){this.enableUniform=e!=fg&&e!=pg&&e!=vg&&e!=gg,(0,E._)((0,S._)(n.prototype),"_resize",this).call(this,e,t,i)}}]),n}(Ng),_b=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;(0,C._)(this,n),(a=t.call(this,e,i,r,o)).name="screen",a.$ui.addClass("fv__pdf-page-screen-annot-container"),a.$handler.addClass("fv__pdf-page-screen-annot-handler-container"),a.isVideoAudio=e.info.isAudioVideo,a.$Dialog=null,W.Lazy.property((0,x._)(a),"shapeControl",(function(){var e={moveable:!0,resizable:!0,enableDiagonally:!0},t=a.pdfViewer.customs.getAnnotComponentConfig((0,x._)(a),Object.keys(e)),n=new yb(Object.assign(e,t,{start:function(e,t,n){return a.onStartUpdateShape(e,t,n)},update:function(e,t){return a.onShapeUpdating(e,t)},moving:function(e,t,n){return a.onShapeMoving(e,t,n)},end:function(e,t,n){return a.onShapeUpdateEnd(e,t,n)},rotatable:!1,annotRender:o}));return a.processShapeControlPermissionCtrl(n),n.ownsTo(a.disposor),n}));var s=W.Lazy.onInitialized((0,x._)(a),"shapeControl",(function(e){e.ui.addEventListener("click",(function(e){a.isActive&&e.isTrusted&&0===e.button&&!e.shiftKey&&e.ctrlKey&&a.pdfViewer.unActiveElement((0,x._)(a))})),e.ownsTo&&e.ownsTo(a.disposor)}));a.addDestroyHook(s),a.addDestroyHook(a.pdfViewer.getCustomOptionsUpdater().onGetAnnotComponentConfigUpdated((function(){if(W.Lazy.hasProperty((0,x._)(a),"shapeControl")&&W.Lazy.isPropertyIntialized((0,x._)(a),"shapeControl")){var e=a.shapeControl.isActive,t=a.shapeControl;W.Lazy.reset((0,x._)(a),"shapeControl"),e&&a._applyShapeChange(),t.destroy()}}))),W.Lazy.property((0,x._)(a),"contextMenu",(function(){if(a.contextMenuIsEnable())return a.pdfViewer.viewerUI.createContextMenu((0,x._)(a),r,a.getContextMenuConfig())}));var c=a.pdfViewer.i18n,u=Bv().i18n=function(e){return c.t(e)};a.addDestroyHook((function(){Bv().i18n===u&&(Bv().i18n=void 0)}));var l=a.pdfViewer.getAnnotAuthorityManager();a.addDestroyHook(l.subscribe(a.annot,(function(e){a.updateOnPermissionChange(e)})));var A=a.pdfViewer.eventEmitter,d=function(){a.isDestroyed||e.isDestroyed||l.getPermission(e).then((function(e){a.updateOnPermissionChange(e)}))},h=function(e){var t=(0,R._)(e,1)[0];if(t&&t.getId){var n="fv__screen-decorator-".concat(t.getId()),i=a.annotsRender.$ui.find("."+n);i&&i.remove()}},f=function(e,t){h(t)};A.on(se.permissionChanged,d),A.on(se.annotationRemoved,h),A.on(se.flattenAnnotation,f),a.addDestroyHook((function(){A.off(se.permissionChanged,d),A.off(se.annotationRemoved,h),A.off(se.flattenAnnotation,f)}));var p="fv__screen-decorator-".concat(a.getId());return!(a.iconContainer=a.annotsRender.$ui.find("."+p)).length&&a.isVideoAudio&&(a.annotsRender.genScreenIcon(a.annotsRender.pageRender,a.annot.info),a.iconContainer=a.annotsRender.$ui.find("."+p)),a.render(),a}return(0,D._)(n,[{key:"updateOnPermissionChange",value:function(e){if(!this.isDestroyed){if(this.isMultiMedia()&&this.iconContainer)this.pdfViewer.getPDFDocRender().noInteraction?this.iconContainer.hide():this.iconContainer.show();if(W.Lazy.isPropertyIntialized(this,"shapeControl")){var t=!1;t=!!this.groupMoveDisabled()||(e.ignorable()?this.moveDisabled():!e.isAdjustable());var n=this.shapeControl;t?n.disable():n.enable()}}}},{key:"processShapeControlPermissionCtrl",value:function(e){var t=this;this.pdfViewer.getAnnotAuthorityManager().getPermission(this.annot).then((function(e){t.updateOnPermissionChange(e)}))}},{key:"isMultiMedia",value:function(){return this.isVideoAudio}},{key:"redraw",value:function(e){return this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName()!==yn&&this.activeRect(),this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),e&&this.tileCanvas&&this.tileCanvas.clearCache(),this.render()}},{key:"getTileConfig",value:function(e,t){var n=this.pdfViewer,i=n.getSmartScale(e),r=n.config.tileSize,o=this.annot,a=o.getDeviceRect(1,t),s=o.getDeviceRect(i,t),c=s.right-s.left,u=s.bottom-s.top;return[Math.ceil(u/r),Math.ceil(c/r),c,u,r,i,e,t,a.left,a.top]}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale;arguments.length>1&&void 0!==arguments[1]||this.rotate;if(this.isMultiMedia()){var t=4*this.annot.getBorderWidth()/3*W.dpr*e;this.iconContainer.css({padding:t})}}},{key:"afterRender",value:function(e){if(e.transformed&&(this.isActive&&(this.activeRect(),this._applyShapeChange()),this.isMultiMedia()&&this.$player&&this.$player.is(":visible"))){var t=this.annot.getDeviceRect(this.scale,this.rotate);this.$player.css({left:t.left+db,top:t.top+db,width:t.right-t.left+db,height:t.bottom-t.top+db})}}},{key:"onShapeRotated",value:function(e){e<0&&(e+=360),e<=45||e>315?e=0:e>45&&e<=135?e=270:e>135&&e<=225?e=180:e>225&&e<=315||e>-135&&e<=-45?e=90:console.warn("degree error: "+e);var t=this.annot.getRotation();return(t+=e)>=360&&(t-=360),this.setRotation(t)}},{key:"onStartUpdateShape",value:function(e,t,n){this.editDebouncePromise||(this.editDebouncePromise=new W.DebounceAsyncTaskExecutor(0))}},{key:"onShapeUpdating",value:function(e,t){var n=this;if(this.pdfViewer.config.highPerformance)return this.editDebouncePromise?this.editDebouncePromise.exec((function(){return n.setRect(e)})):Promise.resolve()}},{key:"onShapeMoving",value:function(e,t){var n=this;if(this.pdfViewer.config.highPerformance)return this.editDebouncePromise?this.editDebouncePromise.exec((function(){return n.moveTo(e.left,e.top)})):Promise.resolve()}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this;return this.editDebouncePromise.exec((function(){return i.setRect(e).then((function(e){"move"==n&&i.pdfViewer.eventEmitter.emit(se.annotationMovedPosition,[i.annot],i.getPDFPage(),i.annot)}))}))}},{key:"activeHandleFuc",value:function(e){(0,E._)((0,S._)(n.prototype),"active",this).call(this),this.activeRect(),this.$handler.addClass("active"),this._applyShapeChange(),e&&this.play(),this.closeConfirmDia()}},{key:"closeConfirmDia",value:function(){this.$Dialog&&(this.$Dialog[0].close(),this.$Dialog.remove())}},{key:"active",value:function(e){var t=this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName(),n=this.annot.info.annotScreenDetailType;["create-multi-media-state","select-annotation","createImage"].includes(t)||n&&"screen_img"===n?this.activeHandleFuc(!1):this.activeHandleFuc(!(e&&"doubletap"===e.type))}},{key:"_applyShapeChange",value:function(){var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e)}},{key:"movedByOther",value:function(){this.isActive&&this._applyShapeChange()}},{key:"getRelevantPlayer",value:function(e,t){var n=this;return(0,P._)((function(){var i,r,o,a,s,c,u,l;return(0,L.Jh)(this,(function(A){switch(A.label){case 0:i=n.pdfViewer.multimediaPlayers,r=!0,o=!1,a=void 0,A.label=1;case 1:A.trys.push([1,6,7,8]),s=i[Symbol.iterator](),A.label=2;case 2:return(r=(c=s.next()).done)?[3,5]:(u=c.value,[4,(new u).isSupport({buffer:t,fileName:e})]);case 3:if(A.sent())return[2,u];A.label=4;case 4:return r=!0,[3,2];case 5:return[3,8];case 6:return l=A.sent(),o=!0,a=l,[3,8];case 7:try{r||null==s.return||s.return()}finally{if(o)throw a}return[7];case 8:return[2,null]}}))}))()}},{key:"play",value:function(){var e=this,t=this.pdfViewer.getPDFDocRender();t&&!t.noInteraction&&this.getAppPermission().then((function(t){e.isPaused()?t.isPlayable()&&e.doAction():e.pause()}))}},{key:"pause",value:function(){this.customPlayer&&this.customPlayer.pause()}},{key:"isPaused",value:function(){return!this.customPlayer||this.customPlayer.isPaused}},{key:"updatePayerRect",value:function(){var e=this.annot.getDeviceRect(this.scale,this.rotate);return this.$player?(this.$player.css({left:e.left+db,top:e.top+db,width:e.right-e.left+db,height:e.bottom-e.top+db}),e):e}},{key:"getRendition",value:function(){var e=this;return this.annot.getActionPromise().then((function(t){var n=t.findAction((function(e){return e.info.type===$e.ActionType.rendition}))[0];if(n){for(var i=n.info,r=0;r<i.renditions.length;r++){var o=i.renditions[r];if(o.fileName)return e.rendition=o,o}throw new Error("No valid rendition found!")}e.isVideoAudio=!1}))}},{key:"doAction",value:function(){var e=this,t=function(){return e.annot.triggerAction({trigger:$e.AnnotActionTriggerEvents.ANNOT_MOUSE_BUTTON_RELEASED,isShift:W.keyboardStatus.isShift,isModifier:W.keyboardStatus.isWin})};this.isMultiMedia()?this.getRendition().then((function(n){if(t(),n){if(!e.$playerContainer){var i=document.createElement("div");i.className="fv__pdf-player",e.$handler.append(i),e.$playerContainer=e.$handler.find(".fv__pdf-player")}return e.$handler.addClass("active"),e.$playerContainer&&e.$playerContainer.show(),e.customPlayer?e.customPlayer.isSupport({buffer:n.buffer,fileName:n.fileName})?void e.customPlayer.play():e.alertUnsupportMsg():e.createCustomPlayer().then((function(t){t&&(e.$rect&&e.$rect.css({left:"-100px",top:"-100px",width:0,height:0}),e.customPlayer.play())}))}}),(function(t){e.alertUnsupportMsg()})):t()}},{key:"createCustomPlayer",value:function(){var e=this;return(0,P._)((function(){var t,n,i,r,o;return(0,L.Jh)(this,(function(a){switch(a.label){case 0:return t=e.rendition,n=t.fileName,i=t.buffer,r=t.contentType,[4,e.getRelevantPlayer(n,i)];case 1:return(o=a.sent())?(e.customPlayer=new o(e.$playerContainer[0],e.annot,e.pdfViewer),[4,e.customPlayer.init({fileName:n,buffer:i,contentType:r})]):(e.alertUnsupportMsg(),[2,!1]);case 2:return a.sent(),e.addDestroyHook(e.customPlayer.on(pb,(function(t){var n=e.getAnnotComponent(t);n&&(n.parent().parent().$ui.find(".fv__screen-decorator-".concat(t.getId())).find(".icon").removeClass("play pause").addClass("pause"),n.customPlayer&&(n.customPlayer.isPaused=!1))})),e.customPlayer.on(vb,(function(t){var n=e.getAnnotComponent(t);n&&(n.parent().parent().$ui.find(".fv__screen-decorator-".concat(t.getId())).find(".icon").removeClass("play pause").addClass("play"),e.customPlayer.isPaused=!0)})),e.customPlayer.on(gb,(function(t){var n=e.getAnnotComponent(t);n&&(n.parent().parent().$ui.find(".fv__screen-decorator-".concat(t.getId())).find(".icon").removeClass("play pause").addClass("play"),e.customPlayer.isPaused=!0)})),e.customPlayer.on(mb,(function(t){var n=e.getAnnotComponent(t);n&&(n.parent().parent().$ui.find(".fv__screen-decorator-".concat(t.getId())).find(".icon").removeClass("play pause").addClass("pause"),n.customPlayer&&(n.customPlayer.isPaused=!0))}))),[2,!0]}}))}))()}},{key:"getAnnotComponent",value:function(e){var t=e.getPage().getIndex(),n=e.getObjectNumber(),i=this.pdfViewer.getAnnotRender(t,n);return i?i.getComponent():null}},{key:"alertUnsupportMsg",value:function(){this.pdfViewer.viewerUI.alert({message:this.pdfViewer.i18n.t("viewer_:contextmenu.annot.noSptPlayPlsDownload_websdk"),level:"warning",isHTML:!0})}},{key:"getDataFormBlob",value:function(){var e=this.rendition,t=e.buffer,n=e.fileName,i=e.contentType;if(!t.length)return{fileName:n};var r=this.pdfViewer.resourceGenerator(sb.PDF_DOCUMENT_CLOSING,cb.OBJECT_URL).expose().URL,o=new Blob([t.buffer],{type:i});return{url:r.createObjectURL(o),blob:o}}},{key:"download",value:function(){var e=this;this.getAppPermission().then((function(t){if(t.isAttachmentDownloadable())return e.isMultiMedia()?e.getRendition().then((function(t){if(t){if(e.customPlayer&&e.customPlayer.download)return e.customPlayer.download();var n=e.getDataFormBlob();if("blob"in n)return Oh(n.blob,t.fileName,n.blob.type)}e.alertUnsupportMsg()})):void 0}))}},{key:"activeRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,t=this.$rect=this.$rect||this.rectInit(),n=this.scale,i=this.rotate,r=e.getDeviceRect(n,i);t.css({left:r.left+db,top:r.top+db,width:r.right-r.left+db,height:r.bottom-r.top+db}),this.isActive&&this._applyShapeChange()}},{key:"updateSize",value:function(e,t){(0,E._)((0,S._)(n.prototype),"updateSize",this).call(this,e,t),this.activeRect()}},{key:"rectInit",value:function(){var e=this,t=this.$handler,n=j()(this.createRectDom());t.append(n);var i=n[0],r=this.rectHammer=new Hammer.Manager(i,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});return r.add(new Hammer.Tap({event:"doubletap",taps:2})),r.add(new Hammer.Tap({event:"singletap"})),r.get("doubletap").recognizeWith("singletap"),r.get("singletap").requireFailure("doubletap"),r.on("singletap",(function(t){e.rectSingleTap(t)})),t.on("contextmenu",(function(e){e.preventDefault()})),t.on("mouseup",(function(e){e.stopPropagation()})),n.data(rb,this),this.addDestroyHook((function(){r.destroy()})),n}},{key:"showContextMenu",value:function(e,t){return!!this.contextMenu&&(this.contextMenu.setCurrentTarget(this),this.contextMenu.showAt(e,t))}},{key:"createRectDom",value:function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,R._)((0,G.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2);return{left:0,top:0,right:t[0],bottom:t[1]}}},{key:"getContextMenuConfig",value:function(){var e;if(this.isMultiMedia()){if(lb)return lb;e=this.constructor.getMultiMediaContextMenuConfig()}else{if(ub)return ub;e=this.constructor.getDefaultContextMenuConfig()}for(var t in e)if("items"===t){var n=e[t],i=this.pdfViewer.i18n;for(var r in n){var o=n[r];o.nameI18nKey&&(o.name=i.t(o.nameI18nKey))}}return this.isMultiMedia()?this.constructor.setMultiMediaContextMenuConfig(e):this.constructor.setContextMenuConfig(e),e}},{key:"updateRender",value:function(){return this.updateSize(),Promise.resolve()}},{key:"unActive",value:function(){(0,E._)((0,S._)(n.prototype),"unActive",this).call(this),this.$handler&&this.$handler.removeClass("active"),this.shapeControl.deactive()}},{key:"unActiveMore",value:function(){}},{key:"rectSingleTap",value:function(e){}},{key:"removeAnnot",value:function(){var e=this;return this.getAppPermission().then((function(t){return t.ignorable()&&e.deleteDisabled()?Promise.resolve():t.isDeletable()?e.doRemoveAnnot():void 0})).then((function(t){var n=e.pdfViewer.getCurrentActivatable();return n&&n.remove&&n.remove(e),t}))}},{key:"doRemoveAnnot",value:function(){var e=this,t=this.pdfViewer,n=t.eventEmitter,i=this.annot;return Promise.resolve((t.customs.removeAnnotBefore||W.noop)(this)).then((function(t){if(n.emit(se.removeActionAnnotationBefore,e),!1!==t)return i.getPDFPage().removeAnnot(i).then((function(t){return e.isMultiMedia()&&e.iconContainer&&e.iconContainer.remove(),n.emit(se[t?"removeActionAnnotationSuccess":"removeActionAnnotationFailed"],e,i),t}),(function(){n.emit(se.removeActionAnnotationFailed,e)}))}))}},{key:"removeAnnotRender",value:function(){this.renderDestroy(),this.parent().remove()}},{key:"getPropertyOptions",value:function(){var e=this.annot,t=(0,W.colorConvertor)(e.getBorderColor(),"#");-1==t&&(t=0);var n=e.getBorderWidth(),i=360-e.getRotation();return{color:t,opacity:e.getOpacity(),borderWidth:n,borderStyle:!0,disabled:this.propertyDisabled(),rotation:i,isLocked:this.isLocked()}}},{key:"updateContextMenu",value:function(){var e=this.getContextMenuConfig();this.isMultiMedia()&&(this.isPaused()?delete e.items.pause:delete e.items.play),this.$handler.contextMenu(e)}},{key:"showPropertiesDialog",value:function(){this.$propertiesControl=new Jv(this,document.body),this.updateDeleteStatus(!0)}},{key:"hidePropertiesDialog",value:function(){this.$propertiesControl&&this.$propertiesControl.close(),this.updateDeleteStatus(!1)}},{key:"showActionsDialog",value:function(){this.$actionsControl=new Km(this,document.body,this.annot.action),this.updateDeleteStatus(!0)}},{key:"hideActionsDialog",value:function(){this.$actionsControl.close(),this.updateDeleteStatus(!1)}},{key:"setBorderWidth",value:function(e){var t=this;return this.annot.setBorderWidth(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,t),e})):e}))}},{key:"setColor",value:function(e){var t=this;return this.annot.setBorderColor(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,t),e})):e}))}},{key:"setBorderStyle",value:function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then((function(e){return e?n.updateRender().then((function(){n.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,n)})):e}))}},{key:"setOpacity",value:function(e){var t=this;return e==this.annot.getOpacity()?Promise.resolve(!0):this.annot.setOpacity(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,t),e})):e}))}},{key:"setRotation",value:function(e){var t=this,n=this.annot.getRotation(),i=Math.abs(e-n);if(0==i)return!0;var r=this.annot.getRect(),o=r.right-r.left,a=r.top-r.bottom;if(90==i||270==i){var s=(o-a)/2;r.left+=s,r.right-=s,r.top+=s,r.bottom-=s}return this.annot.setRect(r).then((function(n){return n?t.annot.setRotation(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,t),e})):e})):n}))}},{key:"renderDestroy",value:function(){this.tileCanvas&&this.tileCanvas.destroy(),this.tileCanvas&&this.$handler.remove()}},{key:"doubleTapAnnot",value:function(){return!1}},{key:"tapAnnot",value:function(e){if(!this.shapeControl.isActive)return this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName()===yn?this.play():(0,E._)((0,S._)(n.prototype),"tapAnnot",this).call(this,e)}},{key:"destroy",value:function(){(0,E._)((0,S._)(n.prototype),"destroy",this).call(this),W.Lazy.isPropertyIntialized(this,"contextMenu")&&this.contextMenu&&this.contextMenu.destroy()}}],[{key:"getDefaultContextMenuConfig",value:function(){return hb}},{key:"getMultiMediaContextMenuConfig",value:function(){return fb}},{key:"setContextMenuConfig",value:function(e){ub=e}},{key:"setMultiMediaContextMenuConfig",value:function(e){lb=e}}]),n}(qd),bb=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;(0,C._)(this,n),a=t.call(this,e,i,r,o);var s=e.getGroupHeader();return s&&"Replace"===s.getIntent()&&(a.isReplace=!0,a.caretAnnot=s),a}return(0,D._)(n,[{key:"onRightChangeSuccess",value:function(e){if(this.isReplace)return this.caretAnnot.moveRectByCharIndex(e.charIndex)}}]),n}(qg),wb=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;return(0,C._)(this,n),(a=t.call(this,e,i,r,o)).$ui.addClass("fv__pdf-page-watermark-annot-container"),a}return(0,D._)(n,[{key:"getTileConfig",value:function(e,t){var n=this.pdfViewer,i=n.getSmartScale(e),r=n.config.tileSize,o=this.annot,a=o.getDeviceRect(1,t),s=o.getDeviceRect(i,t),c=s.right-s.left,u=s.bottom-s.top;return[Math.ceil(u/r),Math.ceil(c/r),c,u,r,i,e,t,a.left,a.top]}},{key:"render",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,r=arguments.length>2?arguments[2]:void 0,o=this.annot;if(this.scale=n,this.rotate=i,o.isEmpty()||o.isDeleted()||o.rectIsEmpty())return this.renderDestroy(),Promise.resolve();var a=this.tileCanvas;if(!o.getBorderWidth())return a&&a.hideContainer(),Promise.resolve();var s=this.getTileConfig(n,i);return a||(a=this.tileCanvas=new Jr((function(e,n,i,r,a,s,c,u){return t.getPDFPage().getAnnotBitmap(o.getId(),(0,G.F2)(s),t.rotate,{x:c*s+n*a,y:u*s+e*a,width:i,height:r},!0)}),this.$ui)),a.setVisibleRect(r),a.showContainer(),(e=a).redraw.apply(e,(0,M._)(s))}}]),n}(qd),kb="annotComponent",xb={play:{name:"play",nameI18nKey:"viewer_:contextmenu.annot.play",callback:function(){this.data(kb)},disabled:function(){return this.data(kb).readOnlyDisabled()}},pause:{name:"pause",nameI18nKey:"viewer_:contextmenu.annot.pause",callback:function(){this.data(kb)},disabled:function(){return this.data(kb).readOnlyDisabled()}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(kb).removeAnnot()},disabled:function(){return this.data(kb).deleteDisabled()}}};function Pb(e,t,n){for(var i=0;i<n.length;i++)e.setUint8(t+i,n.charCodeAt(i))}var Cb="px",Db=function(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:xb,events:{show:function(){return this.data(kb).updateDeleteStatus(!0),!0},hide:function(){return this.data(kb).updateDeleteStatus(!1),!0}}}}(".fv__pdf-page-annot-handler-rect"),Eb=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"_resize",value:function(e,t,i){this.enableUniform=e!=fg&&e!=pg&&e!=vg&&e!=gg,(0,E._)((0,S._)(n.prototype),"_resize",this).call(this,e,t,i)}}]),n}(Ng),Sb=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;(0,C._)(this,n),(a=t.call(this,e,i,r,o)).name="sound",a.$ui.addClass("fv__pdf-page-sound-annot-container"),a.$handler.addClass("fv__pdf-page-sound-annot-handler-container"),e.action&&(a.actionViewer=a.pdfViewer.actionManager.get(e.action,(0,x._)(a))),a.isVideoAudio=e.info.isAudioVideo,a.audioUrl="",a.audioBlobData=null,a.multiMediaFilename="",W.Lazy.property((0,x._)(a),"shapeControl",(function(){var e=new Eb({emitter:a.pdfViewer.eventEmitter,start:function(e,t,n){return a.onStartUpdateShape(e,t,n)},update:function(e,t){return a.onShapeUpdating(e,t)},moving:function(e,t,n){return a.onShapeMoving(e,t,n)},end:function(e,t,n){return a.onShapeUpdateEnd(e,t,n)},resizable:!1,enableDiagonally:!0,moveable:!1,rotatable:!1,annotRender:o,enableSizeBox:!a.isMultiMedia()});return a.processShapeControlPermissionCtrl(e),e})),W.Lazy.property((0,x._)(a),"contextMenu",(function(){if(a.contextMenuIsEnable())return a.pdfViewer.viewerUI.createContextMenu((0,x._)(a),r,a.getContextMenuConfig())}));var s=a.pdfViewer.i18n;Bv().i18n=function(e){return s.t(e)};var c=Bv().i18n=function(e){return s.t(e)};return a.addDestroyHook((function(){Bv().i18n===c&&(Bv().i18n=void 0)})),a}return(0,D._)(n,[{key:"isMultiMedia",value:function(){return this.isVideoAudio}},{key:"redraw",value:function(){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),this.render()}},{key:"getTileConfig",value:function(e,t){var n=this.pdfViewer,i=n.getSmartScale(e),r=n.config.tileSize,o=this.annot,a=o.getDeviceRect(1,t),s=o.getDeviceRect(i,t),c=s.right-s.left,u=s.bottom-s.top;return[Math.ceil(u/r),Math.ceil(c/r),c,u,r,i,e,t,a.left,a.top]}},{key:"swapLowHighBit",value:function(e){for(var t=new Int8Array(e).length,n=new DataView(e),i=new Int8Array(t),r=0;r<t;r+=2)i[r]=r+1==t?0:n.getInt8(r+1),i[r+1]=n.getInt8(r);return i}},{key:"getMultiMediaUrl",value:function(){var e=this.annot;if(!this.audioBlobData){var t=e.info.soundObj,n=t.data;this.multiMediaFilename=e.info.title;var i=t.sampleRate,r=t.sampleBits,o=t.channel,a=this.swapLowHighBit(n),s=(a.length,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,r=new ArrayBuffer(44+e.length),o=new DataView(r);return Pb(o,0,"RIFF"),o.setUint32(4,36+e.length,!0),Pb(o,8,"WAVE"),Pb(o,12,"fmt "),o.setUint32(16,16,!0),o.setUint16(20,1,!0),o.setUint16(22,t,!0),o.setUint32(24,n,!0),o.setUint32(28,n*t,!0),o.setUint16(32,t,!0),o.setUint16(34,i,!0),Pb(o,36,"data"),o.setUint32(40,e.length,!0),function(e,t,n){for(var i=0;i<n.length;i++,t++){var r=n[i];e.setInt8(t,r)}}(o,44,e),o}(a,o,i,r)),c=new Blob([new Int8Array(s.buffer)],{type:"audio/wav"});this.audioBlobData=c}var u=this.pdfViewer.resourceGenerator(sb.PDF_DOCUMENT_CLOSING,cb.OBJECT_URL).expose().URL;return this.audioUrl=u.createObjectURL(this.audioBlobData,{type:"audio/wav"}),this.audioUrl}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return(0,E._)((0,S._)(n.prototype),"render",this).call(this,e,t)}},{key:"afterRender",value:function(e){if(e.transformed){if(this.isActive){this.activeRect();var t=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),t)}if(this.isMultiMedia()&&this.$player&&this.$player.is(":visible")){var n=this.annot.getDeviceRect(this.scale,this.rotate);this.$player.css({left:n.left+Cb,top:n.top+Cb,width:n.right-n.left+Cb,height:n.bottom-n.top+Cb})}}}},{key:"activeRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,t=this.$rect=this.$rect||this.rectInit(),n=this.scale,i=this.rotate,r=e.getDeviceRect(n,i);t.css({left:r.left+Cb,top:r.top+Cb,width:r.right-r.left+Cb,height:r.bottom-r.top+Cb}),this.isActive&&this._applyShapeChange()}},{key:"rectInit",value:function(){var e=this,t=this.$handler,n=j()(this.createRectDom());t.append(n);var i=n[0],r=this.rectHammer=new Hammer.Manager(i,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});return r.add(new Hammer.Tap({event:"doubletap",taps:2})),r.add(new Hammer.Tap({event:"singletap"})),r.get("doubletap").recognizeWith("singletap"),r.get("singletap").requireFailure("doubletap"),r.on("doubletap",(function(t){!1!==e.onDoubleTap(t)&&e.rectDoubleTap()})),this.contextMenuIsEnable()&&n.data(kb,this),this.addDestroyHook((function(){r.destroy()})),n}},{key:"getContextMenuConfig",value:function(){if(Ab)return Ab;var e=this.constructor.getDefaultContextMenuConfig();for(var t in e)if("items"===t){var n=e[t],i=this.pdfViewer.i18n;for(var r in n){var o=n[r];o.nameI18nKey&&(o.name=i.t(o.nameI18nKey))}}return this.constructor.setContextMenuConfig(e),e}},{key:"onShapeRotated",value:function(e){e<0&&(e+=360),e<=45||e>315?e=0:e>45&&e<=135?e=270:e>135&&e<=225?e=180:e>225&&e<=315||e>-135&&e<=-45?e=90:console.warn("degree error: "+e);var t=this.annot.getRotation();return(t+=e)>=360&&(t-=360),this.setRotation(t)}},{key:"onStartUpdateShape",value:function(e,t,n){this.editDebouncePromise||(this.editDebouncePromise=new W.DebounceAsyncTaskExecutor(0))}},{key:"onShapeUpdating",value:function(e,t){var n=this;this.pdfViewer.config.highPerformance&&this.editDebouncePromise&&this.editDebouncePromise.exec((function(){return n.setRect(e)}))}},{key:"onShapeMoving",value:function(e,t){var n=this;this.pdfViewer.config.highPerformance&&this.editDebouncePromise&&this.editDebouncePromise.exec((function(){return n.moveTo(e.left,e.top).then((function(e){n.setMargin()}))}))}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this;return this.editDebouncePromise?this.editDebouncePromise.exec((function(){return i.moveTo(e.left,e.top,n,!1).then((function(t){return i.setRect(e)})).then((function(e){i.setMargin()}))})):Promise.resolve()}},{key:"setMargin",value:function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(Nh.expandOffset(t,e))}},{key:"active",value:function(){(0,E._)((0,S._)(n.prototype),"active",this).call(this),this.activeRect(),this.$handler.addClass("active")}},{key:"play",value:function(){var e=this;this.getAppPermission().then((function(t){e.isPaused()?t.isPlayable()&&e.doAction():e.pause()}))}},{key:"pause",value:function(){this.player&&this.player.pause()}},{key:"isPaused",value:function(){return!this.player||this.player.paused}},{key:"doAction",value:function(){var e=this;if(this.isMultiMedia()){var t=this.getMultiMediaUrl();if(!t)return;if(this.$handler.addClass("active"),this.$player)this.$player.show();else{if(W.isIE&&!W.isEdge){return this.pdfViewer.viewerUI.alert({message:this.pdfViewer.i18n.t("viewer_:contextmenu.annot.noSptPlayPlsDownload_websdk"),level:"warning",isHTML:!0}),!1}this.$handler.append('<div class="fv__pdf-player fv__hide" style="position:absolute;" ><audio style="width: 200px" src="'+t+'" poster="#" width="100px" height="100%" controls="controls" controlsList="nodownload">Your browser does not support the video tag.</audio><button><i class="fv__close-video"></i></button></div>'),this.$player=this.$handler.find(".fv__pdf-player"),this.player=this.$handler[0].querySelector(".fv__pdf-player audio"),(W.isIE||W.isEdge)&&this.player.addClass("IE-player"),(W.isMobile||W.isTablet)&&this.player.removeAttribute("controls"),this.$handler[0].querySelector(".fv__close-video").addEventListener("click",(function(t){URL.revokeObjectURL(e.audioUrl),e.player&&e.player.pause&&e.player.pause(),e.$player.hide()}))}var n=this.annot.getDeviceRect(this.scale,this.rotate);if(this.$player.css({left:n.left+Cb,top:n.top+Cb,width:n.right-n.left+Cb,height:n.bottom-n.top+Cb}),this.$rect&&this.$rect.css({left:"-100px",top:"-100px",width:0,height:0}),!this.player)return;this.player.paused?this.player.play&&this.player.play():this.player.pause&&this.player.pause()}else this.actionViewer&&this.actionViewer.active()}},{key:"download",value:function(){var e=this;this.getAppPermission().then((function(t){if(t.isAttachmentDownloadable()){var n=e.audioBlobData;W.isIE&&!W.isEdge&&(e.multiMediaFilename=e.multiMediaFilename+".wav"),Oh(n,e.multiMediaFilename,{type:"audio/wav"})}}))}},{key:"addAction",value:function(e){this.actionViewer=this.pdfViewer.actionManager.get(e,this)}},{key:"showContextMenu",value:function(e,t){return!!this.contextMenu&&(this.contextMenu.setCurrentTarget(this),this.contextMenu.showAt(e,t))}},{key:"createRectDom",value:function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,R._)((0,G.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2);return{left:0,top:0,right:t[0],bottom:t[1]}}},{key:"updateRender",value:function(){return Promise.resolve()}},{key:"unActive",value:function(){(0,E._)((0,S._)(n.prototype),"unActive",this).call(this),this.$handler.removeClass("active")}},{key:"removeAnnot",value:function(){var e=this;return this.getAppPermission().then((function(t){return t.ignorable()&&("function"==typeof e.deleteDisabled&&e.deleteDisabled()||!e.deleteDisabled)?Promise.resolve():t.isDeletable()?e.doRemoveAnnot():void 0})).then((function(t){var n=e.pdfViewer.getCurrentActivatable();return n&&n.remove&&n.remove(e),t}))}},{key:"doRemoveAnnot",value:function(){var e=this,t=this.pdfViewer,n=t.eventEmitter,i=this.annot;return Promise.resolve((t.customs.removeAnnotBefore||W.noop)(this)).then((function(t){if(n.emit(se.removeActionAnnotationBefore,e),!1!==t)return i.getPDFPage().removeAnnot(i).then((function(t){if(t)return n.emit(se.removeActionAnnotationSuccess,e,i);n.emit(se.removeActionAnnotationFailed,e)}),(function(){n.emit(se.removeActionAnnotationFailed,e)}))}))}},{key:"removeAnnotRender",value:function(){this.renderDestroy(),this.parent().remove()}},{key:"removeAction",value:function(){this.actionViewer=null}},{key:"getPropertyOptions",value:function(){var e=this.annot,t=(0,W.colorConvertor)(e.getBorderColor(),"#");-1==t&&(t=0);var n=e.getBorderWidth(),i=e.getBorderStyle();return{color:t,opacity:e.getOpacity(),borderWidth:n,borderStyle:i,disabled:this.propertyDisabled(),isLocked:this.isLocked()}}},{key:"updateContextMenu",value:function(){var e=this.getContextMenuConfig();this.isMultiMedia()&&(this.player.paused?delete e.items.pause:delete e.items.play),this.$handler.contextMenu(e)}},{key:"showPropertiesDialog",value:function(){this.$propertiesControl=new Jv(this,document.body),this.updateDeleteStatus(!0)}},{key:"hidePropertiesDialog",value:function(){this.$propertiesControl&&this.$propertiesControl.close(),this.updateDeleteStatus(!1)}},{key:"showActionsDialog",value:function(){this.$actionsControl=new Km(this,document.body,this.annot.action),this.updateDeleteStatus(!0)}},{key:"hideActionsDialog",value:function(){this.$actionsControl.close(),this.updateDeleteStatus(!1)}},{key:"setBorderWidth",value:function(e){var t=this;return this.annot.setBorderWidth(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,t),e})):e}))}},{key:"setColor",value:function(e){var t=this;return this.annot.setBorderColor(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,t),e})):e}))}},{key:"setBorderStyle",value:function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then((function(e){return e?n.updateRender().then((function(){n.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,n)})):e}))}},{key:"setOpacity",value:function(e){var t=this;return e==this.annot.getOpacity()?Promise.resolve(!0):this.annot.setOpacity(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,t),e})):e}))}},{key:"setRotation",value:function(e){var t=this,n=this.annot.getRotation(),i=Math.abs(e-n);if(0==i)return!0;var r=this.annot.getRect(),o=r.right-r.left,a=r.top-r.bottom;if(90==i||270==i){var s=(o-a)/2;r.left+=s,r.right-=s,r.top+=s,r.bottom-=s}return this.annot.setRect(r).then((function(n){return n?t.annot.setRotation(e).then((function(e){return e?t.updateRender().then((function(){return t.active(),t.pdfViewer.eventEmitter.emit(se.updateActionAnnotation,t),e})):e})):n}))}},{key:"renderDestroy",value:function(){this.tileCanvas&&this.tileCanvas.destroy(),this.tileCanvas&&this.$handler.remove()}},{key:"doubleTapAnnot",value:function(){return!1}},{key:"tapAnnot",value:function(e){if(!this.shapeControl.isActive)return this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName()===yn?this.play():(0,E._)((0,S._)(n.prototype),"tapAnnot",this).call(this,e)}},{key:"destroy",value:function(){(0,E._)((0,S._)(n.prototype),"destroy",this).call(this),W.Lazy.isPropertyIntialized(this,"contextMenu")&&this.contextMenu&&this.contextMenu.destroy()}}],[{key:"getDefaultContextMenuConfig",value:function(){return Db}},{key:"setContextMenuConfig",value:function(e){Ab=e}}]),n}(og),Ib=function(){function e(){(0,C._)(this,e),this._queue=[]}return(0,D._)(e,[{key:"start",value:function(e){return this._queue.push(e),this._execIng&&this._execIng.end(),this._exec(),e.promise}},{key:"_exec",value:function(){var e=this;if(!this._execIng){var t=this._queue,n=t.pop();n?(this._execIng=n,t.forEach((function(e){e.end()})),this._queue=[],n.start().finally((function(){e._execIng=!1,e._exec()}))):this._execIng=!1}}},{key:"end",value:function(){var e=this._queue;return this._queue=[],Promise.all(e.map((function(e){return e.end()})).concat(this._execIng?[this._execIng.end()]:[]))}}]),e}();const Tb=Ib;n(4412);var Rb=function(){},Mb=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;return(0,C._)(this,n),(a=t.call(this,e,i,r,o)).$ui.addClass("fv__pdf-page-3d-annot-container"),a.$handler.addClass("fv__pdf-page-3d-annot-handler-container"),a.render3DPopSerialPromises=new Tb,a.provider=a.pdfViewer.getIoC().getInstanceByClass(Nb),a.provider.registerWorkflow(),a}return(0,D._)(n,[{key:"agreeActive3D",value:function(){return Fb("agreeActive3D",this)}},{key:"active3DHandle",value:function(e){if(this.pdfViewer.isLoad3DModuleEnabled()){var t=this.loading();return Fb("active3DHandle",this,e).finally(t)}}},{key:"render3D",value:function(e){return Fb("render3D",this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}},{key:"destroy",value:function(){(0,E._)((0,S._)(n.prototype),"destroy",this).call(this),this.disable3DHandle()}},{key:"disable3DHandle",value:function(){return this.render3DPopSerialPromises&&this.render3DPopSerialPromises.end().catch(Rb),this.isActived3DHandleLoaded&&Fb("destroy3DInteraction",this)}},{key:"doubleTapAnnot",value:function(e){}},{key:"showToolbar",value:function(){}},{key:"hideToolbar",value:function(){}},{key:"setAnnot3DTool",value:function(e){return this.setAnnot3DToolApi(e)}},{key:"setAnnot3DToolApi",value:function(e){return Fb("setAnnot3DTool",this,e)}},{key:"loading",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$handler.get(0);return this.pdfViewer.viewerUI.loading(e)}},{key:"setDefaultView",value:function(){return Fb("setDefaultView",this)}}]),n}(qd);function Fb(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return Promise.resolve().then(n.bind(n,4412)).then((function(t){return t[e]}))}(e).then((function(e){return e.apply(void 0,(0,M._)(i))}))}var Nb=function(){function e(){var t=this;(0,C._)(this,e),this.pdfDocArray=[],this.workflow=function(e){t[e.type]&&t[e.type](e.msg)}}return(0,D._)(e,[{key:"allInjected",value:function(){var e=this;this.pdfViewer.addEventListener(se.willCloseDocument,(function(){e.unregisterWorkflow()}))}},{key:"registerWorkflow",value:function(){var e=this.pdfViewer.getCurrentPDFDoc();-1===this.pdfDocArray.indexOf(e)&&(this.pdfDocArray.push(e),e.api.registerWorkflow("3D",this.workflow))}},{key:"unregisterWorkflow",value:function(){var e=this.pdfViewer.getCurrentPDFDoc();-1!==this.pdfDocArray.indexOf(e)&&(this.pdfDocArray=this.pdfDocArray.filter((function(t){return t!==e})),e.api.unregisterWorkflow("3D",this.workflow))}},{key:"notifyModelImportFailure",value:function(e){0===e.failReason?this.pdfViewer.viewerUI.alert("3d.failReason.otherUnspecifiedError"):1===e.failReason?this.pdfViewer.viewerUI.alert("3d.failReason.complexityLimitExceeded"):2===e.failReason&&this.pdfViewer.viewerUI.alert("3d.failReason.modelNotSupported")}}],[{key:"inject",value:function(){return{pdfViewer:eM}}}]),e}(),Lb="annotComponent",Ob={sign:{name:"Sign",nameI18nKey:"viewer_:contextmenu.annot.sign",callback:function(e,t,n,i){this.data(Lb).sign(e,t,n,i)},show:function(){return this.data(Lb).updateDeleteStatus(!0),!0},hide:function(){return this.data(Lb).updateDeleteStatus(!1),!0}}};var jb="fv__widget-outline",Bb=function(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:Ob,events:{show:function(){return this.data(Lb).updateDeleteStatus(!0),!0},hide:function(){return this.data(Lb).updateDeleteStatus(!1),!0}}}}(),Vb=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a,s;(0,C._)(this,n),a=t.call(this,e,i,r,o),(0,z._)((0,x._)(a),"foreground",document.createElement("div")),(0,z._)((0,x._)(a),"signDialog",void 0),(0,z._)((0,x._)(a),"verifiedDialog",void 0),a.foreground.classList.add("fv__widget-signature-foreground");var c,u=a.pdfViewer.getFormFillerService();a.addDestroyHook((function(){var e=a.signDialog;e&&e.isOpened()&&e.getCurrentSignature()===a.annot.getField()&&e.hide()}),u.onDesignModeChange((function(e){var t=e===wr.FormDesignMode.SIGNATURE||e===wr.FormDesignMode.ALL_WIDGET_TYPES;a.foreground.classList.toggle("fv__widget-signature-foreground-hidden",t)})),null!==(c=null===(s=e.getField())||void 0===s?void 0:s.onPropertyChange((function(e){e.propertyName===wr.FormFieldPropertyName.FLAGS&&a.updateUIState()})))&&void 0!==c?c:function(){});var l=function(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation()};return a.foreground.addEventListener("pointerup",l),a.foreground.addEventListener("contextmenu",l),a.updateUIState().finally((function(){a.$page.append(a.foreground)})),a}return(0,D._)(n,[{key:"doc",get:function(){var e,t;return null===(t=this.annot)||void 0===t||null===(e=t.page)||void 0===e?void 0:e.doc}},{key:"form",get:function(){var e;return null===(e=this.doc)||void 0===e?void 0:e.form}},{key:"updateUIState",value:function(){var e=this;return(0,P._)((function(){var t,n,i;return(0,L.Jh)(this,(function(r){switch(r.label){case 0:return(t=e.annot.getField())?[4,e.isSigned()]:(e.foreground.classList.add("fv__widget-signature-readonly"),[2]);case 1:return r.sent()?(i=!1,[3,4]):[3,2];case 2:return[4,t.isReadonly()];case 3:i=r.sent(),r.label=4;case 4:return n=i,e.foreground.classList.toggle("fv__widget-signature-readonly",n),[2]}}))}))()}},{key:"handleOnKeyUp",value:function(e){return e.keyCode===W.KeyCodes.Enter?this.activateSignatureField():(0,E._)((0,S._)(n.prototype),"handleOnKeyUp",this).call(this,e)}},{key:"activateSignatureField",value:function(){var e=this;return(0,P._)((function(){var t;return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[4,e.isSigned()];case 1:return n.sent()?[4,e.startVerifyWorkflow()]:[3,3];case 2:case 4:return n.sent(),[2];case 3:return(e.annot.getFlags()&tn.readOnly)===tn.readOnly?[2]:(t=e.annot.getField())?(t.getFlags()&wr.FieldFlag.ReadOnly)===wr.FieldFlag.ReadOnly?[2]:[4,e.startSignWorkflow()]:[2]}}))}))()}},{key:"handleOnClick",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){return[2,e.activateSignatureField()]}))}))()}},{key:"createFillerModeContextMenu",value:function(){return this.pdfViewer.viewerUI.createContextMenu(this,this.foreground,this.getContextMenuConfig())}},{key:"getContextMenuComponentName",value:function(){return"fv--field-signature-contextmenu"}},{key:"render",value:function(e,t){var i=this,r=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(o){return(0,E._)((0,S._)(n.prototype),"render",i).call(r,e,t),r.updateForegroundBoundary(),[2]}))}))()}},{key:"signDoc",value:function(e,t){var n=this;return(0,P._)((function(){var i,r,o,a,s,c,u;return(0,L.Jh)(this,(function(l){switch(l.label){case 0:return i=n.getPDFPage().getPDFDoc(),r=n.getPDFAnnot(),o=r.getField(),a=null==o?void 0:o.getName(),s=(0,k._)((0,w._)({},{fieldName:a},e),{sign:void 0}),[4,i.sign(s,t)];case 1:return c=l.sent(),u=i.fileName||"untitled.pdf",n.pdfViewer.openPDFByFile(c,{fileName:u}),[2]}}))}))()}},{key:"isSigned",value:function(){var e=this;return(0,P._)((function(){var t;return(0,L.Jh)(this,(function(n){return(t=e.annot.getField())?[2,t.isSigned()]:[2,!1]}))}))()}},{key:"startSignWorkflow",value:function(){var e=this;return(0,P._)((function(){var t;return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return(t=e.annot.getField())?[4,t.isSigned()]:[2];case 1:return n.sent()?[2]:[4,e.pdfViewer.viewerUI.getSignatureUI()];case 2:return[4,n.sent().getSignDocumentDialog()];case 3:return e.signDialog=n.sent(),[4,e.signDialog.openWith(t,(function(t,n){return t&&e.signDoc(t,n)}))];case 4:return n.sent(),[2]}}))}))()}},{key:"startVerifyWorkflow",value:function(){var e=this;return(0,P._)((function(){var t;return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return(t=e.annot.getField())?[4,t.isSigned()]:[2];case 1:return n.sent()?[4,e.pdfViewer.viewerUI.getSignatureUI()]:[2];case 2:return[4,n.sent().getSignVerifiedResultDialog()];case 3:return e.verifiedDialog=n.sent(),[4,e.verifiedDialog.openWith(t)];case 4:return n.sent(),[2]}}))}))()}},{key:"handleOnGotFocus",value:function(){return this.pdfViewer.getFormFillerService().virtualWidgetElement.classList.add(jb),this.foreground.classList.add(jb),Promise.resolve()}},{key:"handleOnLostFocus",value:function(){this.pdfViewer.getFormFillerService().virtualWidgetElement.classList.remove(jb),this.foreground.classList.remove(jb)}},{key:"updateSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;(0,E._)((0,S._)(n.prototype),"updateSize",this).call(this,e,t),this.updateForegroundBoundary()}},{key:"updateForegroundBoundary",value:function(){var e=this;return(0,P._)((function(){var t,n,i,r;return(0,L.Jh)(this,(function(o){return t=e.annot,n=t.getRect(),i=e.annotsRender.pageRender,r=i.page.getDeviceRect(n,i.scale,i.rotate),e.foreground.style.cssText+="\n            left: ".concat(r.left,"px;\n            top: ").concat(r.top,"px;\n            width: ").concat(r.right-r.left,"px;\n            height: ").concat(r.bottom-r.top,"px;\n        "),[2]}))}))()}}],[{key:"getDefaultContextMenuConfig",value:function(){return Bb}}]),n}(th),Ub=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;return(0,C._)(this,n),a=t.call(this,e,i,r,o),(0,z._)((0,x._)(a),"dateTimePicker",void 0),a}return(0,D._)(n,[{key:"handleOnGotFocus",value:function(){var e=this,t=this;return(0,P._)((function(){var i,r,o,a,s,c,u,l;return(0,L.Jh)(this,(function(A){switch(A.label){case 0:return(0,E._)((0,S._)(n.prototype),"handleOnGotFocus",e).call(t),t.annotsRender.$ui.find(".curAnnot").addClass("fv__cursor-text"),((i=t.annot).getFlags()&tn.readOnly)===tn.readOnly?[2]:(r=i.getField())?(r.getFlags()&wr.FieldFlag.ReadOnly)===wr.FieldFlag.ReadOnly||r.doc.isDynamicXFA()?[2]:r.doc.isStaticXFA()?(a=r.getName(),[4,r.doc.getXfaWidgetData(a)]):[3,2]:[2];case 1:return(s=A.sent())&&4===s.type&&(o={format:"mm/dd/yyyy",function:"AFDate_FormatEx"}),[3,4];case 2:return[4,r.getDateTimeFormat()];case 3:o=A.sent(),A.label=4;case 4:return o?[4,W.globalPointerStatus.afterMouseUp()]:[3,7];case 5:return A.sent(),c=t.pdfViewer.getFormFillerService(),u=t.pdfViewer.viewerUI.createDateTimePicker(o.format),t.dateTimePicker=u,[4,r.getValue()];case 6:l=A.sent(),u.open({container:c.virtualWidgetElement,clientX:0,clientY:0,current:l?W.PDFDate.parse(l,o.format):void 0}),u.onChange((function(e){var t,n=e.format(o.format);null===(t=c.editorAPI)||void 0===t||t.replaceValue(n)})),A.label=7;case 7:return[2]}}))}))()}},{key:"handleOnLostFocus",value:function(){this.annotsRender.$ui.find(".curAnnot").removeClass("fv__cursor-text");var e=this.dateTimePicker;e&&(e.close(),this.dateTimePicker=void 0,setTimeout((function(){e.destroy()}),500))}},{key:"canRemoveFocus",value:function(e){var t=this.dateTimePicker;return!t||(!t.isOpen()||!t.containsElement(e))}}]),n}(th),Hb=function(){function e(t){(0,C._)(this,e),(0,z._)(this,"pdfViewer",void 0),this.pdfViewer=t}return(0,D._)(e,[{key:"select",value:function(e){var t;switch(null===(t=e.getField())||void 0===t?void 0:t.getType()){case pn.Text:return Ub;case pn.Sign:return Vb}return th}}]),e}();const zb=function(){function e(t){(0,C._)(this,e),this.pdfViewer=t,this.matchRules=[]}return(0,D._)(e,[{key:"registerMatchRule",value:function(e){return this.matchRules.push(e),e}},{key:"unRegisterMatchRule",value:function(e){var t=this.matchRules.indexOf(e);-1!==t&&this.matchRules.splice(t,1)}},{key:"get",value:function(e){for(var t,n=this.matchRules,i=this.getDefault(e),r=0,o=n.length;r<o;r++){var a=n[r];if("function"==typeof a){var s=a(e,i);s&&(t=s,i=s)}}return t||i}},{key:"getDefault",value:function(e){switch(e.getType()){case"highlight":return $g;case"squiggly":return Qg;case"strikeout":return e.getIntent()===pe.STRIKEOUT_TEXTEDIT?bb:qg;case"underline":return Zg;case"line":return e.getIntent()===pe.LINE_DIMENSION?_m:ym;case"polyline":return Sm;case"fileattachment":return s_;case"text":return r_;case"circle":return sy;case"caret":return u_;case"freetext":switch(e.getIntent()){case pe.FREETEXT_TYPEWRITER:return j_;case pe.FREETEXT_CALLOUT:return tb;default:return ib}case"ink":return p_;case"polygon":switch(e.getIntent()){case pe.POLYGON_CLOUD:return D_;case pe.POLYGON_DIMENSION:default:return Vm}case"square":return A_;case"sound":return Sb;case"stamp":return h_;case"link":return iy;case"widget":return new Hb(this.pdfViewer).select(e);case"screen":return _b;case"redact":return P_;case"watermark":return wb;case"3d":return Mb;default:return qd}}},{key:"getAnnotFlag",value:function(e){var t=new Fd(e.getFlags());return this.getAnnotFlag_&&t.or(this.getAnnotFlag_(e)),t}},{key:"setViewerAnnotFlag",value:function(e){this.getAnnotFlag_=e,this.pdfViewer.eventEmitter.emit(se.globalAnnotFlagChanged)}}]),e}();var Wb=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r;return(0,C._)(this,n),(r=t.call(this)).action=e,r.annot=i,r.pdfViewer=i.pdfViewer,r.initSubAction(),r}return(0,D._)(n,[{key:"active",value:function(){this.subAction.forEach((function(e){e.active()}))}},{key:"setSourceTarget",value:function(e,t){var n=this;this.source=e,this.target=t,this.action&&this.subAction.forEach((function(e){e.setSourceTarget(n.source,n.target)}))}},{key:"initSubAction",value:function(){var e=this;this.subAction=[],this.action&&this.action.subAction.forEach((function(t){e.subAction.push(e.pdfViewer.actionManager.get(t,e.annot))}))}},{key:"updateAction",value:function(e){this.action=e,this.initSubAction()}},{key:"destroy",value:function(){(0,E._)((0,S._)(n.prototype),"destroy",this).call(this),this.action=null,this.subAction.length=0,this.source=null,this.target=null}}]),n}(W.Disposable),Gb=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){return(0,C._)(this,n),t.call(this,e,i)}return(0,D._)(n,[{key:"active",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr,i=this.annot.pdfViewer,r=i.customs;Promise.resolve((r.URIActionCallback||tr)(this.getURI())).then((function(n){if(!1!==n){var r=e.getURI(),o=!1;if(/\w*:\/\/[\s\S]*/.test(r)){if("file"===r.match(/(\w*):\/+[\s\S]*/)[0])return}else(o=r.toLowerCase().startsWith("mailto:"))||(r="http://"+r);if(i.getSafeReadingMode()){var a=r.lastIndexOf("@"),s=r;if(-1!=a&&!o){s=r.substr(a+1);var c=r.indexOf("//");-1!=c&&(s=r.substr(0,c+2)+s)}var u=i.i18n.t("viewer_:pdfjs.launchURLHint");return i.viewerUI.confirm(u+"\n"+Lf.toASCII(s)).then((function(){window.open(r),t(!0)}),(function(){return t(!1)}))}window.open(r)}})),(0,E._)((0,S._)(n.prototype),"active",this).call(this)}},{key:"getURI",value:function(){return this.action.getURI()}},{key:"setURI",value:function(e){return this.action.setURI(e)}}]),n}(Wb),Yb=function(){function e(t){(0,C._)(this,e),this.fileSpec=t}return(0,D._)(e,[{key:"getChecksum",value:function(){return this.fileSpec.getChecksum()}},{key:"getCreationDateTime",value:function(){return this.fileSpec.getCreationDateTime()}},{key:"getDescription",value:function(){return this.fileSpec.getDescription()}},{key:"getDict",value:function(){return this.fileSpec.dict}},{key:"getFileData",value:function(){return this.fileSpec.fileData}},{key:"getFileName",value:function(){return this.fileSpec.getFileName()}},{key:"getFileSize",value:function(){return this.fileSpec.fileSize}},{key:"getModifiedDateTime",value:function(){return this.fileSpec.modifiedDateTime}},{key:"getSubtype",value:function(){return this.fileSpec.subtype}},{key:"isEmbedded",value:function(){return this.fileSpec.isEmbedded}}]),e}(),$b=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r;return(0,C._)(this,n),(r=t.call(this,e,i)).fileSpec=r.getFileSpec()&&new Yb(r.getFileSpec())||null,r}return(0,D._)(n,[{key:"active",value:function(){this.annot.pdfViewer.customs;var e=this.annot.pdfViewer.i18n.t("ui_:dialog.actionDialog.selectAction.file"),t=this.annot.pdfViewer.i18n.t("alert.browserRestriction-actionTriggered-websdk");this.annot.pdfViewer.viewerUI.alert({message:'"'.concat(e,'" ').concat(t),level:"warning"}),(0,E._)((0,S._)(n.prototype),"active",this).call(this)}},{key:"getFileSpec",value:function(){return this.action.getFileSpec()}}]),n}(Wb),Jb={HandMenuItem:"[icon-class=fv__icon-toolbar-hand]",FirstPage:"[icon-class=fv__icon-float-bar-first-page]",PrevPage:"[icon-class=fv__icon-float-bar-previous-page]",NextPage:"[icon-class=fv__icon-float-bar-next-page]",LastPage:"[icon-class=fv__icon-float-bar-last-page]",PrevView:"[icon-class=fv__icon-float-bar-previous-view]",NextView:"[icon-class=fv__icon-float-bar-next-view]",ZoomViewIn:"[icon-class=fv__icon-float-bar-zoom-in]",ZoomViewOut:"[icon-class=fv__icon-float-bar-zoom-out]",ActualSize:".float-bar .fv__ui-editable_zoom_dropdown .fv__ui-dropdown-list li:nth-child(7)",FitPage:".float-bar .fv__ui-editable_zoom_dropdown .fv__ui-dropdown-list li:nth-child(1)",FitVisible:".float-bar .fv__ui-editable_zoom_dropdown .fv__ui-dropdown-list li:nth-child(3)",FitWidth:".float-bar .fv__ui-editable_zoom_dropdown .fv__ui-dropdown-list li:nth-child(2)",SinglePage:"[icon-class=fv__icon-toolbar-single-page]",OneColumn:"[icon-class=fv__icon-toolbar-continuous-page]",TwoPages:"[icon-class=fv__icon-toolbar-double-page]",TwoColumns:"[icon-class=fv__icon-toolbar-facing-continuous-page]",GeneralInfo:"[icon-class=fv__icon-properties]",GeneralPrefs:"[icon-class=fv__icon-toolbar-preferences]",AddFileAttachment:"[icon-class=fv__icon-toolbar-doc-attachment]",ExtractPages:"[icon-class=fv__icon-toolbar-extract-pages]",ReplacePages:"[icon-class=fv__icon-toolbar-replace-pages]",DeletePages:"[icon-class=fv__icon-toolbar-delete-pages]",CropPages:"[icon-class=fv__icon-toolbar-crop-pages]",RotatePages:"[icon-class=fv__icon-toolbar-rotate-multiple]","Annots:Tool:InkMenuItem":"[icon-class=fv__icon-toolbar-pencil]",SaveAs:"[icon-class=fv__icon-toolbar-download]",FullScreen:"[icon-class=fv__icon-float-bar-full-screen]"},qb={ShowHideBookmarks:1,ShowHideThumbnailss:2,ShowHideAnnotManager:3,ShowHideOptCont:4,ShowHideFileAttachment:5},Kb={GoToPage:".fv__ui-grouplist-item [name=gotopage-input]",ZoomViewTo:'[name="editable-zoom-dropdown"] .fv__ui-dropdown-editor'},Zb={Find:function(){var e=j()("[name=fv--search-choose-type-advanced]"),t=j()("[name=fv--search-bar-type-list-button]");if(e.length)e[0].click();else{var n=document.createElement("style");n.innerHTML='[component-name="fv--search-choose-search-type"] { opacity: 0; }',document.head.appendChild(n),t.length&&t[0].click(),setTimeout((function(){document.head.removeChild(n),(e=j()("[name=fv--search-choose-type-advanced]")).length&&e[0].click()}),0)}},Print:function(){var e=this,t=setInterval((function(){if(j()(".custom-bar-box .W_PRINT").length){clearInterval(t);var n=e.pdfViewer.viewerUI.rootComponent.getComponentByName("print-button");n&&n.controller.handle()}}),100)}};function Xb(e){if(Jb[e]){var t=j()(Jb[e]);if(t.hasClass("active")||t.hasClass("disabled"))return;var n=t[0];setTimeout((function(){n&&n.click()}),200)}Kb[e]&&j()(Kb[e]).each((function(){j()(this).hasClass("disabled")||j()(this)[0].focus()}));if(qb[e]){var i=j()(".fv__ui-sidebar-nav a").eq(qb[e]-1);if(i.hasClass("active"))return;var r=i[0];r&&r.click()}Zb[e]&&(0,T._)(Zb[e],Function)&&Zb[e].apply(this,[])}var Qb=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){return(0,C._)(this,n),t.call(this,e,i)}return(0,D._)(n,[{key:"active",value:function(){var e=this,t=this.annot.pdfViewer.customs;Promise.resolve((t.namedActionCallback||tr)(this.getName())).then((function(t){!1!==t&&Xb.apply(e,[e.getName()])})),(0,E._)((0,S._)(n.prototype),"active",this).call(this)}},{key:"setActionData",value:function(e){return this.action.setActionData(e)}},{key:"getName",value:function(){return this.action.getName()}}]),n}(Wb);const ew=["exportToXFDF","exportAsFDF","activeDocs","persistentData","curDoc","execMenuItem","mailMsg","browseForDoc","newDoc","newConnection","csFuntionName","importAnFDF","importAnXFDF","removeDataObject","removeTemplate","importDataObject","importTextData","mailForm","print","saveAs","mailDoc","createDataObject","createIcon","createTemplate","getPageNthWord","extractPages","exportDataObject","newPage","insertPages","replacePages","addWatermarkFromFile","fileSelect","setLock","signatureSetSeedValue","signatureSign","query","addIndex","removeIndex","appearances","digitalIDs","isLoggedIn","loginName","loginPath","name","uiName","signAuthor","signVisible","signInvisible","signValidate","login","logout","newUser","getHandler","importFromFile"];var tw=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r;return(0,C._)(this,n),(r=t.call(this,e,i)).$Dialog=null,r.JsMap=ew,r}return(0,D._)(n,[{key:"activeHandleFuc",value:function(){var e,t=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.annot.pdfViewer.JSEngine,o=this.annot.pdfViewer.customs;return r.getEnableJS()?i?Promise.resolve((o.javascriptActionCallback||tr)(this.getScript())).then((function(n){if(!1!==n){r.initEvent(t.getType(),t.source,t.target,t.name);var i=t.getScript();e=r.exec(i)}})):!1!==(e=(o.javascriptActionCallback||tr)(this.getScript()))&&(r.initEvent(this.getType(),this.source,this.target,this.name,this.param),e=r.exec(this.getScript())):((o.javascriptDisabledActionCallback||tr)(),e={rc:!0}),(0,E._)((0,S._)(n.prototype),"active",this).call(this),this.closeConfirmDia(),e}},{key:"closeConfirmDia",value:function(){this.$Dialog&&(this.$Dialog[0].close(),this.$Dialog.remove())}},{key:"active",value:function(){var e,t=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.annot.pdfViewer.JSEngine,o=this.annot.pdfViewer.customs;return r.getEnableJS()?i?Promise.resolve((o.javascriptActionCallback||tr)(this.getScript())).then((function(n){if(!1!==n){r.initEvent(t.getType(),t.source,t.target,t.name);var i=t.getScript();e=r.exec(i)}})):!1!==(e=(o.javascriptActionCallback||tr)(this.getScript()))&&(r.initEvent(this.getType(),this.source,this.target,this.name,this.param),e=r.exec(this.getScript())):((o.javascriptDisabledActionCallback||tr)(),e={rc:!0}),(0,E._)((0,S._)(n.prototype),"active",this).call(this),e}},{key:"setTypeName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.type=e,this.name=t}},{key:"getType",value:function(){return this.type}},{key:"executeScript",value:function(){var e=this.annot.pdfViewer.JSEngine,t=this.getScript();if("string"==typeof t&&t.trim().length>0)return e.exec(t)}},{key:"getScript",value:function(){return this.action.getScript()}},{key:"setScript",value:function(e){return this.action.setScript(e)}},{key:"setParam",value:function(e){this.param=e}}]),n}(Wb),nw=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){return(0,C._)(this,n),t.call(this,e,i)}return(0,D._)(n,[{key:"active",value:function(){var e=this,t=function(){var t=e.getURL();if(!!t&&["mailto:","ftp","file://"].some((function(e){return t.startsWith(e)}))){var n=e.annot.pdfViewer.i18n.t("ui_:dialog.actionDialog.selectAction.submit"),i=e.annot.pdfViewer.i18n.t("alert.browserRestriction-actionTriggered-websdk");return e.annot.pdfViewer.viewerUI.alert({message:'"'.concat(n,'" ').concat(i),level:"warning"}),Promise.resolve()}if(e.annot.pdfViewer.getSafeReadingMode()){var r=e.pdfViewer.i18n.t("viewer_:pdfjs.safeModeSubmit",{URL:e.getURL(),interpolation:{escapeValue:!1}});if(!confirm(r))return Promise.resolve()}return e.pdfViewer.getCurrentPDFDoc().getPDFForm().submitForm(e.getURL(),e.getFieldNames(),e.getFlags())},i=this.annot.pdfViewer.getActionCallbackManager();(i.getCallback(it.submitForm)?i.getCallback(it.submitForm)(this.action,t):t()).then((function(t){(0,E._)((0,S._)(n.prototype),"active",e).call(e)}))}},{key:"setActionData",value:function(e){return this.action.setActionData(e)}},{key:"getFlags",value:function(){return this.action.getFlags()}},{key:"getURL",value:function(){return this.action.getURL()}},{key:"getFieldNames",value:function(){return this.action.getFieldNames()}}]),n}(Wb),iw=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){return(0,C._)(this,n),t.call(this,e,i)}return(0,D._)(n,[{key:"active",value:function(){var e=this,t=this.annot.pdfViewer.customs;Promise.resolve((t.resetFormActionCallback||tr)(this.getFlags(),this.getFieldNames())).then((function(t){!1!==t&&e.annot.pdfViewer.pdfViewerRender.pdfDocRender.doc.getPDFForm().resetForm(e.getFieldNames(),e.getFlags(),e.source)})),(0,E._)((0,S._)(n.prototype),"active",this).call(this)}},{key:"setActionData",value:function(e){return this.action.setActionData(e)}},{key:"getFlags",value:function(){return this.action.getFlags()}},{key:"getFieldNames",value:function(){return this.action.getFieldNames()}}]),n}(Wb),rw=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){return(0,C._)(this,n),t.call(this,e,i)}return(0,D._)(n,[{key:"active",value:function(){var e=this.annot.pdfViewer.i18n.t("ui_:dialog.actionDialog.selectAction.import"),t=this.annot.pdfViewer.i18n.t("alert.browserRestriction-actionTriggered-websdk");this.annot.pdfViewer.viewerUI.alert({message:'"'.concat(e,'" ').concat(t),level:"warning"}),(0,E._)((0,S._)(n.prototype),"active",this).call(this)}},{key:"getFileSpec",value:function(){return this.action.getFileSpec()}}]),n}(Wb),ow=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){return(0,C._)(this,n),t.call(this,e,i)}return(0,D._)(n,[{key:"active",value:function(){var e=this,t=this.annot.pdfViewer.customs;Promise.resolve((t.gotoActionCallback||tr)(this.getDestination())).then((function(t){if(!1!==t)return function(e,t){var n=t.getPDFDocRender();if(!e||e.pageIndex<0)return;return n.getPDFDoc().getPageByIndex(e.pageIndex).then((function(i){var r=e.zoomFactor,o=i.getWidth(),a=i.getHeight(),s=e.left>o?o:e.left,c=e.top>a?a:e.top;switch(e.zoomMode){case"ZoomFitHorz":return t.zoomTo("fitWidth",{x:s,y:c,pageIndex:e.pageIndex});case"ZoomFitPage":return t.zoomTo("fitHeight",{x:0,y:0,pageIndex:e.pageIndex,type:"device"});case"ZoomFitRect":var u=t.getPDFViewerRender().scrollWrap.getScrollHost(),l=u.clientWidth,A=u.clientHeight,d=t.getPDFPageRender(e.pageIndex);return d.getPDFPage().then((function(i){var r=i.getDeviceRect({left:e.left,top:e.top,bottom:e.bottom,right:e.right},1,d.getRotation()),o=r.right-r.left,a=r.bottom-r.top,u=Math.min(l/o,A/a);return isFinite(u)||(u=n.scale),t.zoomTo(u,{x:s,y:c,pageIndex:e.pageIndex})}));case"ZoomFitBHorz":return t.zoomTo("fitVisible",{x:s,y:c,pageIndex:e.pageIndex});case"ZoomXYZ":return 0===r?t.getPDFDocRender().goToPage(e.pageIndex,{x:s,y:c},!0):t.zoomTo(r,{x:s,y:c,pageIndex:e.pageIndex});default:return 0===r?t.getPDFDocRender().goToPage(e.pageIndex,{x:s,y:c},0!==c):t.zoomTo(r,{x:s,y:c,pageIndex:e.pageIndex})}}))}(e.getDestination(),e.pdfViewer)})).then((function(){(0,E._)((0,S._)(n.prototype),"active",e).call(e)}))}},{key:"getDestination",value:function(){return this.action.getDestination()}},{key:"setActionData",value:function(e){return this.action.setActionData(e)}},{key:"getViewSetting",value:function(){var e=this.getDestination(),t=this.pdfViewer.getPDFDocRender();if(e&&!(e.pageIndex<0))return t.getPDFDoc().getPageByIndex(e.pageIndex).then((function(n){var i=e.zoomFactor,r=n.getWidth(),o=n.getHeight(),a=e.left>r?r:e.left,s=e.top>o?o:e.top;switch(e.zoomMode){case"ZoomFitHorz":return{scale:"fitWidth",left:a,top:s,pageIndex:e.pageIndex};case"ZoomFitPage":return{scale:"fitHeight",left:a,top:s,pageIndex:e.pageIndex};case"ZoomFitRect":var c=pdfViewer.getPDFViewerRender().scrollWrap.getScrollHost(),u=c.clientWidth,l=c.clientHeight,A=pdfViewer.getPDFPageRender(e.pageIndex);return A.getPDFPage().then((function(n){var i=n.getDeviceRect({left:e.left,top:e.top,bottom:e.bottom,right:e.right},1,A.getRotation()),r=i.right-i.left,o=i.bottom-i.top,c=Math.min(u/r,l/o);return isFinite(c)||(c=t.scale),{scale:c,left:a,top:s,pageIndex:e.pageIndex}}));case"ZoomFitBHorz":return{scale:"fitVisible",left:a,top:s,pageIndex:e.pageIndex};default:return 0===i?{scale:0,left:a,top:s,pageIndex:e.pageIndex}:{scale:i,left:a,top:s,pageIndex:e.pageIndex}}}))}}]),n}(Wb);var aw=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){return(0,C._)(this,n),t.call(this,e,i)}return(0,D._)(n,[{key:"active",value:function(){var e=this,t=this.annot.pdfViewer.getPDFDocRender().getPDFDoc();this.getFieldNames().forEach((function(n){var i=t.getPDFForm().getField(n);i&&i.setHidden(e.getHideState())})),(0,E._)((0,S._)(n.prototype),"active",this).call(this)}},{key:"getFieldNames",value:function(){return this.action.getFieldNames()}},{key:"getHideState",value:function(){return this.action.getHideState()}},{key:"setActionData",value:function(e){return this.action.setActionData(e)}}]),n}(Wb),sw=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){return(0,C._)(this,n),t.call(this,e,i)}return(0,D._)(n,[{key:"active",value:function(){var e=this,t=this.annot.pdfViewer,i=this.annot.pdfViewer.customs;Promise.resolve((i.remoteGotoActionCallback||tr)(this.getDestination())).then((function(n){if(!1!==n){var i=e.action.getFileSpec(),r=t.i18n.t("viewer_:dialog.action.remoteGoto.message");t.viewerUI.alert({message:r+"("+i.getFileName()+")",level:"warning"})}})),(0,E._)((0,S._)(n.prototype),"active",this).call(this)}},{key:"getDestination",value:function(){return this.action.getDestination()}}]),n}(Wb),cw=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){return(0,C._)(this,n),t.call(this,e,i)}return(0,D._)(n,[{key:"active",value:function(){(0,E._)((0,S._)(n.prototype),"active",this).call(this),this._doAction()}},{key:"_doAction",value:function(){var e=this;return(0,P._)((function(){var t,n,i,r,o,a;return(0,L.Jh)(this,(function(s){switch(s.label){case 0:return t=e.annot.pdfViewer.currentPDFDoc,n=e.action.info,i=n.hideLayerIds,r=n.visibleLayerIds,[4,t.getLayerNodesJson()];case 1:return o=s.sent(),a=e._objNumsToIds(o.children,{hideLayerObjNums:i,visibleLayerObjNums:r}),Object.keys(a).forEach((function(n){var i="visibleLayerIds"===n;a[n].map((function(n){n&&(t.setLayerNodeVisible(n,i),e.annot.pdfViewer.eventEmitter.emit("layer-action-actived",{id:n,visible:i}))}))})),[2]}}))}))()}},{key:"_objNumsToIds",value:function(e,t){var n=t.hideLayerObjNums,i=t.visibleLayerObjNums,r={};return function e(t){for(var n=0;n<t.length;n++){var i=t[n];i.children.length>0&&e(i.children);var o=i.objNum,a=i.id;o&&(r[o]=a)}}(e),{hideLayerIds:n?n.map((function(e){return r[e]})):[],visibleLayerIds:i?i.map((function(e){return r[e]})):[]}}}]),n}(Wb),uw=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"active",value:function(){var e=this;return(0,P._)((function(){var t,n,i;return(0,L.Jh)(this,(function(r){switch(r.label){case 0:return t=e.action.info.dest_thread_index,[4,e.getArticleThread(t)];case 1:return(n=r.sent())?(i=e.pdfViewer,i.getPDFDocRender().startReadMode(n),[2]):[2]}}))}))()}},{key:"collapseSidebar",value:function(){this.pdfViewer.viewerUI.rootComponent.getComponentByName("sidebar").collapse()}},{key:"getArTicleByIndex",value:function(e){var t=this;return(0,P._)((function(){var n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return n=t.pdfViewer.currentPDFDoc,[4,n.getPdfArticle().getArticleList()];case 1:return[2,i.sent()[e].children[0]]}}))}))()}},{key:"getArticleThread",value:function(e){var t=this;return(0,P._)((function(){var n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return n=t.pdfViewer.currentPDFDoc,[4,n.getPdfArticle().getArticleList()];case 1:return[2,i.sent()[e]]}}))}))()}}]),n}(Wb),lw=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){return(0,C._)(this,n),t.call(this,e,i)}return(0,D._)(n,[{key:"active",value:function(){var e=this,t=this.annot.pdfViewer.getActionCallbackManager(),i=Promise.resolve();t.getCallback(it.gotoE)&&(i=t.getCallback(it.gotoE)(this.action)),i.then((function(t){(0,E._)((0,S._)(n.prototype),"active",e).call(e)}))}},{key:"getDestination",value:function(){return this.action.getDestination()}}]),n}(Wb),Aw=function(){function e(t){(0,C._)(this,e),this.pdfViewer=t,this.actionOptions=t.actionOptions;var n=this.actionOptions.remoteGotoActionInit;n&&n()}return(0,D._)(e,[{key:"get",value:function(e,t){switch(e&&e.getType()||null){case"TypeURI":return new Gb(e,t);case"TypeLaunch":return new $b(e,t);case"TypeNamed":return new Qb(e,t);case"TypeJavaScript":return new tw(e,t);case"TypeSubmitForm":return new nw(e,t);case"TypeResetForm":return new iw(e,t);case"TypeImportData":return new rw(e,t);case"TypeHide":return new aw(e,t);case"TypeGoto":return new ow(e,t);case"TypeGoToR":return new sw(e,t);case"TypeGoToE":return new lw(e,t);case"TypeSetOCGState":return new cw(e,t);case"TypeThread":return new uw(e,t);default:return new Wb(e,t)}}}]),e}();const dw={error:"data:audio/mp3;base64,SUQzBAAAAAAAJ1RTU0UAAAATAAADVVBZVU4gVHJhbnNjb2RpbmcAAAAAAAAAAAAAAP/zwMAAAAAAAAAAAABJbmZvAAAADwAAAA4AABh8ACIiIiIiIiIzMzMzMzMzRERERERERFVVVVVVVVVmZmZmZmZmd3d3d3d3d4iIiIiIiIiZmZmZmZmZmaqqqqqqqqq7u7u7u7u7zMzMzMzMzN3d3d3d3d3u7u7u7u7u/////////wAAAABMYXZjNTguMzUAAAAAAAAAAAAAAAAkAuAAAAAAAAAYfNJCphkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/zwMQAUHwOTAdawAEmXGgLFAkxKU3Mk6dc6s04bESZmMQHJlnHdmnKhwOmpVby2ZccsgYQUY4kZIcAiDNS3ZhQoGDlrEAiRDEIpdfdh6p0AhdwtgWULIFmEADTKFYQv4WUMAAEBAAwSldtdiwipExEVEVFNISw8tgAAGARkIZiGQRdhkJjWfvH7RyUGAfUuuWTL5w0X/RTdeu6aX6Adf6NhrWaRo5y5yHcsV7fPwqRh2HcnJW1hYRQBIRIhYjXJ1212MQZZLOZ/hSRu/KIxYm3bh+1Dcbt/Xlcbn5Q1tr8Py/uGGG6TD+6lEYsStyHIhyWYfnTxt/IcpOf/1425DuP5GJZSWMMKent9lD+OQ7ksl+eqljn1H8Ym1+H6enjb/w/L+aqUlJYwqRhy4fn9UljCpSP+/7tuW5blv/fiDO2vw/flEMP5GLHf/CpSUgGAAZMWhiMZldMDSOMgUPABaGRbgnPqSmaoJnuYgms5DHh4SmrooGFwTFAImIADAYPDBQCRgIjRRg1g+OGRjM2gyxCOUKzJVA2lEMrQwgqMuAjAf/zwsRSbOQWeUGd2AAJMnIjSA8AAQUCBKCCqMa+YhcUHkwyMHNJBzBSk18QNKLTdAAwwtMDCACTmCghpQwr8UFCZEMoFTgx0FHAgLx0QMTHTC0ImUzDyUILSJOAwgYIJmjppiZ6JHQ8RG6EgWK14GzFxhDUY+BGKiBoIqAAEyozNFWzA1My0oLhg0XBIYBTQORC38lfZZbpmCCxjpwAScwYmIids6uyANMRATCyMwUqNcBjBykmBn+0MgVKYSEtqt1PRCgSD42iorG7bwS6XiqKWAuDUxwYAhAEGCcsZXSohN1xAgAJETkFUJJQkaDC4sPKTa2ls6z/xuKNYguWSGXxFnb9vxJZfAk9Xv0jxvbFlJS+H3NiEXjtDHIy9Lk3HYbu3yg8XiTuO5F4xBU3XiNSV2oHr34foJZar5Z4apO7vd4zClmH2fqSN1f2TWX8lcPPz8/R5Uk9pxJC9blTVO772xjCVReVU7y0NmtnScoAAFxgMgBGya0Gigx3CwsODHM9AoiMj105eUjQYmNvloyuEjVLUMagIBCIwGOjJoLMNir/88LEM2YsEpInnNAAHjOEBdACGejmgjKAzRgTfiDDHzBIQwalCRbkAaJpEVEC8LAQN4QACxwUCApqAhw9WCo4aJGQJBi8RhQ41NAUkZoOq0CA1jAwQRapoLiSySUpnBSUapGsGYKBQO4xpgxiCwcCLyGBGpymEFmZImFLgkE0kEjAQPSjNYGMsGCBwcER9hgwAxMF0tQwwpIhS5R0cIl9luRWlZ6+wwDAgcDBC4aZsmqrAl4xESWVVWysHIV5yuN33SpfMCIKAicW2dpcW1Y3vkawVPIgShUNlyTiSzNVaI/FI0vqG5uQOsxZyUe2JOomIw1O1AIwaGmJyqJNHymyUA3N2H0pWVtfo4+1l53YZRFXmVNJ5svDKm4sqZk48teliGLxXVKEPUQGGK2Kna8y1kTIl8yBEZ/WCzrKJe2lxrLLVZUTGPtYYm4sQhl9ZI56jL3uPm5fJmRI9tbeFdD2syVlhDYIMa4xZerFnOgqMSal7QAACYAQoNjKPfMFhwzHyTCQUMu6MwqvAULDVDOM2B85YrjKRDEiWYBBaCcYE5hQ//PCxC9fZA6J45zQAUxiQkmOMnWCgvgASR0kAS5MmcMEYMOdQBEQkcRGJJGjGoEysMBmQqbHugANgqiaUyEVBQQgBAx0InCM4a8EPIUhzaGxYaWYNWWEA8jbu8YUgGETAnTHEkmwoUDgRjEI4JL6mdbmPXmDELtK35gAoQPN0kM8WByIWWGYFiMCp8GnRCVRAV6FxRgDJpQ4AFPzCm5NUXGIxIIEiEaAiTK4feZVYKAhEISFMyiMABVroIBeNiKkUWlwNiT0QvWM2N1IKeJj8vCiRJaDVg21X8n9FHYmo889pAcPAFnLJUPgGCWgPZHJc06/Q15tu1IzidoZulppRUqTcTuT0alz8P7Vzk0hlGolK5uU3ex+OUUO0fY5QcmZu3SV6CmoKstksrr1LHfp4VP3Mr9/+xDKPR37duP1KWclMpl9/f2//T+ZvVdkEKkteWU0rwi9TDOtYtCFIABMP0Bs1BIVQCAghGTAngoBE4Dl4zD5HCXgzIwKQETA7AlMMkRUxuh90Uk3QcAmycxxT45FxY8/yJgLZlzL8TnXuYlEGf/zwsRGaTwOLAue6ACTSBmwTstKi9gFA2KAAHAAZbKmaFDeY2HaZ2tBVrQDSgYGBUAQ4AwcDYKkYx+Hsw6IUw2HQzPMatAMM0kdBgGBAKGEQGJSojmW6pAqCzS50wuKpnknZn0MJiUOcZj0fiMCuk4S/03wgCxIE2gJhhgBmEwtGeq3GSRwmGhDGPoRGFgkmFALmDgSiAN5e9UNV4Khq3U0lohQHAI7dSpVi+jJ40zLAgTAkDiULzJ5BzDUZjE0MDD8WjAUHjB0BBgAzA4NzDgI6aIwzSR2U83vn75Vl7lw04i1I/P09axIL4KBlHlghgiFw6BhheHBhaDBf0Kg4YZhoDQKDAeMFBFBIDGAoBA4AssvrZd//xx+rjzdJLP/+/3WFjPD8PMAwYDgaUWAAKmCgJmCgImAANmEgOlmFSp7MHLmkABAoEkvnmWBUyk8R/mv+tl3LXf/8cf3jz8cqSc7hf5nP8zv7zn+W7agYDSZHEcDgcDgZGJNsx9TDzafmvkAXAvhoKgUn8a7ybFSKBgBAEIWmA4AAJAEmGwMGYt4OKL/88LENmiD9sJfnvIDISAMmAsACAADzO8UMNxqCY3JDmC8RgCABAYBlKpRZSRlIh3mB6F+Yyoms2py3OlgaCTtUi6Nzpxo28kEDVzKXj8SvuQ0+G3zrGWWsebmaQ5kQBEmBkR0ZwhIUmcaeppDWW58M0Zx6ugmm+TOYYguBoelUmSiPaYLIVhlYiOQRk7TawmVW3Vhqdaky65TGWcTUYGAe5wVJRGEcL2YcoCphyA3GCuG+YWIGJmGmiy+OwXHL36uZy2GYpP4/3KoZAo9Zi0hEmHsGYYKAKZhnhJmDQEWYfYdphAgEmEaB+BQGzBVA3MNAHIwHABU5XfhEAO5D/ZHbr7orDMLm78k7LMedrY+WvSgScBwCBgXgShwD8ohpxIm5Lvv2AgBFLIEuY6r5y/9bu4freOf7s8ztawyyt/97vFTuO/6VjKGmLvZfU44cjQBsvtILqb0c01h+Kmdi3e7T5/jVynrNT9/v+0GpqJ53ebzv5Y2ZgUCAVAgMFIICEzHBkwUC0xYXU+0NYCBKYiGqa0D2AidIhBMbASSMRSL0uyF//PCxClfZAZ0Ad3YAUEDA4RDAkJK5lGBQXApHkyJJIZCgaA0EkLDBwBNMCwcTFBqm6kKloBogWgzJQIqh5ADgZQMMVyJjYgBDwWOjBilYUISjExswlsN6BwYCiEACCxlYhDBUPMaIzAREBBBWCMVOFCRgqfAwgMAJoHBhmomQlCIZyg474OCwdumFlCV5c4VIC8gVDWdP8ASYaDBI4QSI2jVkYmQAJhS4BAuEIwGL3ZkTSqaRuQz2wpg2NLgGiq2FmrjCpIMDrXYaDhtPSHqezChoRgJewJE2fKEOIm8lgrVDjQWmwLBzPMYQ0iflRICVZVAeFqkuyqgotTMYd7ll08FP3HhZ1I4FsbpatiWP9DMVci3Aj1XbV2HMoo/sc3Zcegn6fuo1K4s9N2vM5Uz72rzgcn8e7huTTkQqwfGY3KsJbDFyjrzNHepqSVRmMVKK9KaSWT2r1i7Lbuu16aeuLwKC04vkIzkPMk4zQrA9KDUw6CUwVNE/d8w5YGKDRDRwFKkY2xKbmkOtyFhJ/hyRDBD+ZyEcVggoMUyKBxn4BewiP/zwsRAVgQWfALfdCBLutIbiBeiQIQ0UsTSMUHMMCJpTzkMBq5mQyihEnGDxYmDYiGCoAIiDYGfFDMdYLQIogULFg+BUSYyCgyDTiBxUwBYVIA4Md9Wl8W+OqGLBomDJujo4eOFrIsx8KoU9FeqLCAYMDBlaVgk5S4AsbLUSi0/M18bbHJnHdNQguwvpoa5VZg7u97+rmaVGMnglQ0LhqbJAz9LMkaqTQFiw1ZVWi3wuWXoalmC0mhyaW26LVSilWNDjZgG/jCZVLqePt49N/PVNT09iEx/GV5RWVx2mrflM7k03N0tNS7lMbhOdqGt0VnOXw5U+L3a9PO5yimkUNcwuXZVvVDLsKty3G6T3hlb8VJe/Ev5Ny2SZVqSXzOfK+Wt473aEKGy6IVGEHHEYBgmYaPMcCEaYPBYBBLNVwDAwFkIIGKYBsHcVRZsEMiw9ICxIADF8P13IkmPYsCoKIklm3WRLJBRUcka+l9JrGEYRiQcA4ISAApgmnlSQGDlxjLQiGGeArAEQ4VUlioRXXbIAmTU1tjxoxYkGAhABR/V0Jz/88LEfVS0FnwE7pk8ERD2IlrguZKBphjr4Bhc4EJGwoRHAIkAgmVFUIsooirDR1iwYJTOFk7/vYHbQY7L5oREBoMBEgWHLzTrkHwxBsIhL4MdLPPwRC0piUSYMM3bSoXfbNSvRTlvIAlw6HgBTiGWMSFZUGU605VC2w9nobnLDlreder2XZUVNcpal6BXQlVd0oAZpGYahl2YftuZuD8XamESATLuLdcbgdctF3IulfVGVZn25V4uJOuHh9x080kdOVx0zqq3I4nF7+GpNJw2KZahYMC02nNzo8SMtNTmJJYhfkxBTUUzLjEwMKqqqqqqqqqqqqoluQ+g0VSaDiUIguK3g0KXwwRGDCkaHEymoJAYGIS27a3YAZAYUACSqqphIYS1iBlISjAEU8gpDaURkQL6Tji77xoAdrOFk22UxQSCsiAyqKiDyhNOsExccIJOChSUJtNCrqJusBCXaJmxUEgOC4qHF30gBxFfYOmWuXiM+dRJk4HWR2KClzthKyFVXjnB0x6UsnrHQQgNERC9khKc+SSUu3AtS1L5uQxZ8J1J//PCxKxQTBaIBuZe/NaPA0DNHIsJNBj/tju7Yj8E/SS+Fqbi0choMQ73i0arWtJy7tEy0Db1JSNT6cYGobVEV+HJPw0DiRBpBycFfN4bsrC62UauWEG1vXF+4zrhpcG5mT7ZGXTCulQpynZ/M3zk1gxUwwYzd+0vpCrQyO3Ipl20oTBc19/cuS8eJxHswahubA/mMNDmGDRzrHcJIMNitBs5VUxP0qAIiIQEwHQHDAaADMIUpw01Q3zAnBVBgnx2pUGJAEAR+Z6EA8DBYDAYDwGMg0CEskFIXAhiRaumGBw4OaiEbCwNBR2QgYcDGwm40GkS+pik6nSZ1MA5fMtBhCOs4NGCRYXNaAlLwSFkVAaINCAkKCsgVQDQDTioyKhQ0pgICEAmBkQKMyCcBKwAEkmSl2EYkEERCJgQZBy+bAECAtHisA1hgQ8Y6BnDDoVEg6LBAQSCossig5HB4MMFNQAImNAy2IbNtCjAXQqAgEBQKECzIRJj6Tia8NV2sQCjCX9TKfEGES2y7AwEpLGoCKtsNiw0pqrXcj7aGBhS8H5MIP/zwsT+ZMwWbAD3NlBVrhEIMRHQJHMcBKRbxe5ddAzp8oYaJF6dHkaAGCwFSx+7UkUAXIhEoFa4/cLchrb1y+IqxMyfiK9tRa9p22ZwtwNPZUm5yPbkER058pxh61C4egLNyYap3Esyycymm+g+jbDTbiee3RgqzEX7jkPWKO7WrNvWiE3Nv5ledl9oGf6kzq2KDCNQ7AM1I5RbnrNzeFnt/qoOkozAdDZAQXCoTAvA7NMcEwwhQKTBlAcMfAF9cZgZAMGDMBOOgGF8wCAIxwDAMGCqBkKANmBOBKYPITRgGALGBsBAYdAPIGA2L1gIpMJDUGjUkcx8dAwUOACPCKhm8cBlg0QEAQaTA5pIeYyugaQMIAjDzcDRhjYeABoSLzBkwwaUMrGRYDTLIlJAGyAygLCDoSPTOAQwIuBpGa4kGHFzQzBRAIABJvNHIQCVgYCC1KlWZWImxsgCGCh6Gh4VFzGQkiIwwAeUwYrQqMWCUcmeGsBAwpDRADgZSZEykREyCCVq1nOfOGEmVFFsCwUYCDBgIHDq7U+ha/c9h40AOIr/88LE/2b0FnADXtgATf+LKaAAR62UQjjxI0vtkRDaA5tY0hPaFArptpFWiW6j8kQK154L8Qnp2I/AvYYkbCs5Io5WV12KJmwO3sxSdkv5vw7cQpIAlboU83TxyRy/CET8teSYkV6YlbKs67XpZYq3Y6tnKYeGG6PdHYlL2UEhe+NRhtb0RiNufo7MnpXifqD5x06CbiF2LT85fnr0a07NeNz+Nmlpbcut6gEYQ43poHJHggGIw9wwIarm/+UcZKgPZhVDPiEFRmStxh4g5mCoHsYNoFhgRgsPfSGNxunCipAtMzCIKTCkbgwj8u6MLSiNWwMMfSWBIIDQJmAwF5d4aFI+YsDSaIDgabFGYDgwkOYChgYSid/47NHR8NgSeMXSiMNT1MQhdMLwDMQhRfwdAUwyF/lbK1VMZjnEkEMHBHMm26MymJMWTJBIlmBYVGF4XGHIjAUMDGMYDA8O3dx5r/35g2exlOLZiQbpkYboYUgYI4FA4wCGoIGwGgQCgKQZMFAlMKApZinyYAgwMgR+v////DjkMsQ9MOQUMBBaMWSH//PCxPhnw7ZQA57oATDMGy8piQGZgYFYVBwLBkTDKUAuYShQBgPUxSOFARQZMBgFSRoXVCoEJpL+///f////+FwCYACgTJAEGQIAIKlyQCBRVB0Kgk5ZYAQtegssoLgfDMNSuHXShTAX2kTAd7fWU0r6//////////+IQBL8l0QcDrzFQCCYEEvkx1yhQAVFIuRACs9SoCAWtjj+RtwXlYE0plymS8kimXTVO7OMqnppypFFTEFNRTMuMTAwqqqqqqqqqqqqqqqqAlZVvVpAgyZUZmWDoYCGKlBmZgZKJItAQdNXgjnaQ5lyMhAzQGc3h1NcMxAPGhrxoyaaEcmXD4QCGUohqKcZ6OEoqZcgmbMGPDA4E1sCBTEBwgC3AGggAFMIFBQFtC3RgwRfJ4y6pd5AMmFC1yoqrpljSlMUxVNYwgmLTIpOMxkCijJljJiE6zCEzMFzHA1WAUsZxmb6GbpSEFDOtDgvjYmC65lFpqWxu3Rs0QYPMwxN05NURHAxnVRnD5mCJiga6DBjjJkAUSSdMMNAQJ+qbcZf2W3I1GaWl//zwsTZW6P9CZXb0AEfyy3jVjMtwlT/S67GY1TU1reONa1NO0/1uGXJh25DUZjMts1qamy3Ko1Ls5S/strRqzrLL8asMxVuKQqYMUUyQeWtBqmK7nejVeGXdis0/0t53//VNaiTWmvUcMuTDtA/0trU3caWlpb0Ray12ifZyn6vxF2mdONTuCzl+Zp2pbzLv/ulszLku7YdpyoeoXZjVr4ooKpMQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqo=",warning:"data:audio/mp3;base64,SUQzBAAAAAADBVRDT04AAAAHAAADT3RoZXIAVElUMgAAACEAAAPDlcK+wrPCpMOLw5jCssOEKHNjLmNoaW5hei5jb20pAFRYWFgAAAApAAADY29tbWVudADDlcK+wrPCpMOLw5jCssOEKHNjLmNoaW5hei5jb20pAFRBTEIAAAAhAAADw5XCvsKzwqTDi8OYwrLDhChzYy5jaGluYXouY29tKQBUWFhYAAAAJgAAA1RZRVIAw5XCvsKzwqTDi8OYwrLDhChzYy5jaGluYXouY29tKQBUWFhYAAAALAAAA2x5cmljcy1jaGkAw5XCvsKzwqTDi8OYwrLDhChzYy5jaGluYXouY29tKQBUUEUxAAAAIQAAA8OVwr7Cs8Kkw4vDmMKyw4Qoc2MuY2hpbmF6LmNvbSkAUFJJVgAAABEAAEF2ZXJhZ2VMZXZlbAB7DAAAUFJJVgAAAA4AAFBlYWtWYWx1ZQAhewAAVFNTRQAAABMAAANVUFlVTiBUcmFuc2NvZGluZwAAAAAAAAAAAAAA//uQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAARAAAdYgAcHBwcHCoqKioqKjg4ODg4OEdHR0dHR1VVVVVVVWNjY2NjY3FxcXFxcX9/f39/f46Ojo6OnJycnJycqqqqqqqquLi4uLi4x8fHx8fH1dXV1dXV4+Pj4+Pj8fHx8fHx//////8AAAAATGF2YzU4LjM1AAAAAAAAAAAAAAAAJAJAAAAAAAAAHWJUiMoVAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uQZAAI81BSOKmGTTAAAA0gAAABD/09FhTGAAAAADSCgAAEAJAVbVtVpKZFAPBHOIWq2r/9/TOMqjc8XwGpRbVm9nOIhwsIPKmlLVlTqk4uIts2C6zjCOE6TWIRcTihGldXJzE6/9Xu5ue5Re2xf91F72NzYLpMubYnC/8zc3JRacSI1Llm5v+5ubjbcKr218Dh21VYSCYlBMD5PfzU4Cw/o2wXxLBoTIvqSxHecmxIdX/S7B+dk+BkzXnZPilOZiWjcbucKDs/YZEMRyeeVX4weOQ2P70c6862s67FJ9juO4zisY4Fi9X0kV5zfXktX0ziwwP2N9gSCYeV5iI7fmWKHZPfYcxYspkJmSy2/Hz3Do0EgdDgjCIRAQTrYEsCm0aRgGMVvUeViS3EjDGkRylySjhmxgdxXG/fuMiSRxdNidBmjkuuwE9DCzgACh524Etu/qKQKGCGWCgu/cTj0zSTkIrLFQBQplk465sKGgVI5TIeySkfyWUsDwmlS4MgQxBERJGtCvGsqtyilD8zEtp6LO+rhOtx77bvBFKSekMd//uSZEmABw1hTG5nIAAAAA0gwAAAGIVhVfmcAAAAADSDAAAA7XlGrFB9i3Us8zl0sYApoXbfNphjil83vpu6jd7tLe7Uln2Kt3VJR7uWtloyy6a7E0v2TwI4brq4pf//////////5+HP//////tssjF2wzkyiYAQAQBRngYBAUAwGkHUoYnESIx7LX2ulnAECj5bFhUPhACWAlaFlstL1KXQU6SkQcdGWRRZdkAR9lTeO+XrcJbwQJgEu3FJFYpZ5dKpUJKwxfHH+x+KQPKKK/J00XwjrVWYSScfnt6iksUpLkowuyuT3KatfiMQy53/ktNUm7+GqXCT09qNWsKaNSXnLef4Ycp62X0EooOXr04+1FJqCdlupmzbsW6etup+dr62W7n4b+r/43c8f//////+1ij6yyI8AAAAAJmuneg/VEzFQEeKTqBQDEqDqVrgJqhUMARsYFhmLYpnAWLGKKRhIUQhxiIgYaNmhG5sAjByWEPJjRJ+nKW2NBa73HpZTP7lqMwoBF7GGN2et/KRhqsIkOlz0vlFmLwxDDwoBQEGlv/7kmQ1hvYzStNPb2ACAAANIOAAARVdOU3OYZVAAAA0gAAABO1xrBLPgiPRNMVlLS4Bp2TTWD/OnA09RQLbtcvRvLnMr9itTUkZkeql7dqpL4blj+UWGu00WlU5Kae5LK9PKrmFPT50dWlraxzq4U9vDD8+6u5Uk0iMZdj/2/+E8qAAGnjg/chdiKQM8RZcw2jU4pDbiDnQ4lWIBmYJpAVA5MAJibUeYe3JgJgkhGbxXF37ncu4y1hICCLbyv7q1pdOonAprrWIdoLMaXkhKOPAlFPHtyO+zqRMoCNyu/Fo3yasOCiByW52t8vRJVNpEm/9bxxjMFQdK8Zl2+uror6tqfPFMRN33LLmoDYDiy9v8xQiUHcc1eZd7vZv/w12uTMp2gVO4C4AFgaqLJMAYAACAAADkWKMvaXbdpCe8CW4YABk5It4snXkYGALxqoDwuJIsAj3G2mt9SQ+2r8rHMQBRZ8st6q1Y02BNQOB1atjr/rtLMGgJ87tacwyyX2ikWta64N+9N+9aEtUi3Gfuo1qn+MJykxGnjYVhoCGrN9Rb1//+5JkO4D1UFfTe49HEgAADSAAAAEVIT9HjeF1QAAANIAAAAQrutoSjEIkUB0TFXLFi4hiFbMtiyi4YepW4MQQgUqan1KE+pMTc39CCIj/enAs73/qMfMfIAAAAAASrePMwSwuxw0bBYXOSQR4MgeO3mxMDUgZaVmVnQEGEV1gViMoeGqmOF00MYYMjbu35XjNI7AqTfYT2Vj5XEW4SudrWq9FA0uR9UFdWb+3WjyYggKzVtbvZzGcgtB8WTKZjG/nT226M/X7Oa1lW+5N1LPP2fYeBIMS2nq1uG8fScfW10RvTDEhTJLcXSwxLzptZxhyp1WVzLUuPuuO1En4qc4lSmQAEAAAAAAmIwa6Cy3jhuUPiSESbmmbOQNdjLxRsyR03Ng0ClSxY0jguUL2MIXMKeMEDmrTdS/+zmbYFY2cVkg2lit0kHTKvryy5awsq0fQ4jNgB/FubTQuLpNQySrrgSsVvn831ONlVVn6wrcn+7++K8JIg02W6GCsYNTis+LnSDvhMlikI33fwWMvR9gbE87DK10pXL9l8Nvw+7I0njDi//uSZFED9FRD0nNPTTIAAA0gAAABEUEvPgykdcgAADSAAAAEPKkUAVdLk62bufGkvmDLmgaGRfzJVW2rmclNrREBRdk1iA6kWsmPxFCwhD6ECASPoCoqZVILApphps+nLEBV9IVftNybfGJk2qik2cVDyN0KqPGJB/Wj5nZTUeirQ99kilXPilC1JvX1MkFgW9M9uS9WijVIAAAoTqNmBhM+noBoC7lwS9A2kfNpCfDqtqDvjzYS0lhTTr6bRZJ4MBDWpfKSRW+tNZ0JdR9FoESoS5ZNBUoEEItQojmGniTQQ+UEl2jbC0q0rXXh3y3h6ddciVZ2TBckcziirgehSNAZ//BC9VFvbbD+cdzXwGIUtXJkggAJRl0QUGadflbKnPS9fCGpVFokuZp8OkA4nWgEGTxCKh4gEIZMo3QPQuQZSclrRBOhIVkwfNVbmVlRMyqowXWXZRY487H3C4MAjCh934SVB4MMiU7pzLTUxkJIdkTZZNuLmDTXU1EBKdsxfyYRNaZebMNoNoF76p5CoAAAADFBRYyxmsMXkErZDFXWev/7kmSFg/PjStBDDDSQAAANIAAAAQ81GT0MJNFAAAA0gAAABKHn1dKYo6WMhkGwZlZh+IjEkaFIhx1RImTWSm5pemaqa0tganV45rygnCp5BOcqu2JrRqSubsN6cJM0rOC87KpQIunHIKrtIUqe+ElJtKu9xtIi9MqHIehJgdJn8l/+1v/oACwIIGAAC0nnp44a4wsCsLQO5BxkypGIg9lMw3htzpmzrSXtgSuahaJc2lQ1AdiWU4OOHFZgRtBD7SNht6kx0CmgsKMsGLlujJo1SXYYoZ+kj4ACGCAmbBlqBADoNWqt2My+extwucHgQXCIapaFvhkDAFBGozLIaq137qX5flgnokmY0KhISPHi4OERN5WdSK7EpZA8Ay3CM0taWO5PwwkwOAlWp4GAKFwRZi3QLgZa+jty1wW4QVA7k8yfi3J5Rbmrkss0/QSJac6NE0FDdnSqq11Nl0TP1qb///////7n////////8YZP2mdWhoiFhWdkRrvNrbI2gADIQYqAaiJaD0cpgMDy+YABJhMIigBQFGAwUYQF5UIZlSP/+5JkyYADtUFP5WEgAgAADSCgAAEdXYEbGa0AAAAANIMAAADhAiMHDsws9M7Ozt3A0sHkb1Gok5sRwBA00x3MxRjVR5f0NNeBwuRAjS1vNCYe87oz8qcJQZWUu3GlrwwmVRgQAFgkvbEZxpTYlBntSbhxpj0PA6q5SIMWQ+S5XK1T9Xkps7DQ4Ga5AjXWT4NxdiBlV5BFrUq07NyNP85MBuBDTbvi6kMZwbDM1DbrZulp6u1ZTr62NWq4rfNbcedrUMzF5dduXcKWcs6q1Q0HcjKf3EhxONwOCQ2GMJAkAgAE8beG31SsmvGwQ+6YODjQhowECDB2nZaYkZCILMeNzBAd+XVP9kxb1FIPf9y6wFINAgAXKxLveliiYEArHAB5csYlMUovzDCwyLwGPJQAYAZASaaeZisGQWuUHSq4gRTGLNPVqRTZgrSLAMLRmR4KBkeR0FWiXtJjluWw1Rw/DExFJu+4S2H6aarbDK3oddqEtu0d/KK3UwvZ9tZVXCtQdBeDrvhH5ZFm3jzWmCv+0yIOhz//n7//905JG4KpalLT//uSZNeABwdJUP5zYAAAAA0gwAAAHFU/M7m8gBAAADSDAAAAZ0e4W/dE883Uikows2v6hifgqH76IEAAAD8FUBYq/bwTjiukyyMx19JK6anbhOyygIye4gBRn4QQuJLlWaQ9Tef5TWgn6n3BVPXZxqZXKlgWHiPY1avFwWE8ag9nZQHyfrCXJDDMsb4sK2rH1mKp2TotdFGfbaquiJ1sqjnmkcZsMZ0p85k64rCAqfieZXNYcF0ha4MhUSsU1G1WlmkzGaCamUYch9phFLgv6BPYvk6TRxmKM+TXSa4VzabsiPUDcwttUQ8guLdElhv82vSPOS0CQ5oiAIAGFjEQKjURYEqbyJjN6jkUDS3wF2sOiUs2Ss0SwIIChzo5Dxql4JQp2qT9qMmoq+mZoGGkNtrh31CCKDCVP1aMTRUlOYZL7EMgdtLhR0tVvWnmYx6xlBrLMkyxsDF0laVDE00KNMUg9G5M71O8LjkL5XTVO6ABEQAAAAMEoxh4VBpHvglBugQB4LtD0PUQtitHcL8I4Ogv51nGJIdI/znW106HyDiAg//7kmS0gvXhVEzHZeACAAANIOAAAQ8BNUXHpM/AAAA0gAAABBBml4QPYmd4wHOZpTjUBRbgOosqTjBpkqeYy3aT3p3aO0Z3b/2zd2aHxHTKxHi3cvEgM9OxTkSzdc2bgwhDpvSRQQKg9bFSKuhe4pUAQRhlVdUkCp7GKB8YWahkQLpyiQNMCAFW4woNBATQ1vnpngbnOJqsJJoATUcPDoi5A6RtPjpiGoUKTHWeZhg6GpgklOgYNAO/bXHbgB3l6M0bG762mku0tEuuGDsPa2/S4Ef33X0vFW9myPaDSChbB7V0WH7ijW1lo5y+XOxSx5+AKGMY5vQCeW1pYb1vVk5+Oo1hMQlNqLFjeMPOwXfbYpNkKpy5SzeWZWa26savjyd5O4kGhOFAA0IW8tYqS0NAAgAAAAMWBFdRF9YKWWMk43AHTEgQBQAZPAbpF7jHdJNumUw8CJIw9iA0DzCxWBIRBAEQrljV0nkGjLQDX40F7qGVU6TJEfZnN8lCuhaRm8Yk0GRmXHMchgny5D6v4tkEVKqK4Ze9LyVwagPoF2Ii7z7/+5Jk2QHz6EnS8e8xcAAADSAAAAEYBSVJbmWPwAAANIAAAATx9eZuJLkb1rcdc7QXPT4axL5hucuYCkHDcgo79PVXvhf8/XHIMwaOEMte0ZlQsOYsfgtE2v/IBWJaljkbR6fq2FTLDJ2vpt61bX5T8v1/cnOlgd1gxLvyZSwCAAAA2bjLHDrrLU6MYgYmCjcHApq60jAhNONlEDCNqDtMfiAJDBlUxGVAdDMjwtvgZZHeqsfzOMrfYudBtbnMZ2XIIlLKLd+kT2QvCKOvTaxbkXeJDtkhNNOwIpkqMoAweXY4u0xJEFRxmlm/H2VOu0Fl8j+/DMJay+j8WMasM2FnwkShUMiA+QPihyElG/7gzKEHLkTXlresUDToQRfMdybFBZF/u/8OVWtQAgAAAAAAAUiGr5l2UCDAVDFZwslw4Bw/m6k67AUGJ0iSDwEg2o3idKd4MARq4VsOma16bwFCR66rvleZgoQmSmz3CUWoALhzmtyuFXhGEaQF3tqzUgsxEziKX9DsxlecICiNfyqRu9thooO396pjQYTitzyZ1rkz//uSZPkD9mNRU3OZZVAAAA0gAAABFVkPVc5hM4gAADSAAAAE9M7tH+vdQfSUdiFnF4ZFnCh5hUIMde5K3DcLSOfTt1Gwe7uXUpZqt9bbufq3rt/+WO//LjtPv4TPAhP85rPyVoABEwExWNuxI3ySvMTBHAyBhcDUGV9w6pUYCAecXreYBAKqZT5cYwPARyTAQQhKFmfQ6+rrUccHGwMQ7saxg+346lM0/34rTVAo2wfHN+J+y+4umyyVXH/qx0YMNjuFwzBjrzUpTQH04HlDpy3T/Er6/71aG7tLOA1VUMeudnpVgX+tYfn8xcIgYpGtXu8iVz692lxwjbQs6ZmJgOgQRSPixW0rAyqtt4Nx2xFOerBdEV7SFu/b0Qv/+frV8tTyykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqfQCAAAAAABqtFdpCy482NFwwspgMLodYa1SDWqAwIHdFQBgvzBeiCrgA0IhE4NBbnc76h4s2z2zf7ivKtf+bsbmE9IVV3J9Q+/gsmM45xq7BQP/7kmT8BvXLWlR7mVzgAAANIAAAARgBW0ku5XPAAAA0gAAABMUA9RWTxCesLAGIiFWeUZ+gUoKEyfH6mUslBMHP8bXx932S0VrDsCGDbeJthQPjronGBwEo8fEPCALB8qQ9JDVC2/VVd1Uul89s8/+9f/lSjNvsABKA5FGIsndVq6QoCwYsYE0BUGK7Y0IQeYaoxoOKmBhAWrVjKAIRApXZVtBzsE24lKaebMRNXuNPTWvxQpnO/qVVET0odVbExWQbMlBpuqSVZx4wlD3CXteh6H50ZBA2yENarf3gXsLttpFn9fa88K3jMDajZlGdRrAiBdWU/PcwCgVY3Fl0ZSZ+p2qcCcK6TUXAGNarvZUK5BOLmZpTuWfHbaCCYVI1I49MQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqpJUAEAAB9AABeJgJp1kTHLWAUPMiFsOCbponvxAzeGGSQc1Co0H2WQA+r4x8QJX5znb9WmRyT5VUcOCIrI3oTNo6O/y22J2a/f/83ZREn/+5Jk6Ab1HVbT65hEcAAADSAAAAEVbSdHbmUxwAAANIAAAAR/MKnI4FWUmdSU7vLAjxb28a3aiqzN93M7X0KQsD/ju9uAmn26mvz0b3iKg7KjTbZWDwkMV1qKmJqMHmQ2FAXDxBTJcBNl0fmjAAAwAAAAQJTsGQHHl9jgaMA4oRgZrhEGYkIwCKAoxnNzoswMPhEIAiJi8xYMlzTApvDAu5Fi7SZ3DEPSraRk28ZfFsUX+M25VYm2GK+7fxkdVsZwqtChiT1JywIIkI2hxrOHo2wsCjMSpppypVEY2GLX4znuUQY+Is1LLFJH6FYAaEfOGKs5RXc8refb05XaPB0/rCtnYvfvLHCRABnF4K05G76zZG/ba2/nXjuuSKuFT+pFTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUpAAAAACoAAF4oEZWsKxqZboxkzdtVDEljSiKppGDKZ8AghC/z9xpyHZBQaRBdNnzW5tPpjzeTL301Z//uSZOYA9LREVHuYLHAAAA0gAAABFoUtQ05lM8AAADSAAAAEmE9/3tVppxtfz8tI7qmleGGV2UEgNEI/3uGZ+I11WucZPdLdqxukMkUe2fhyMBH7gw83oBV/1fd/rtUXMyx8XEzViqX7w+381u81qg64FJqx3D47AGAAEgSnHKLk32YpvGdRUIxvGBgBc9pjxGCgkHDwYlACOs/LJk0k7iAUAwFovPSm1SEqR4ER1MyibvNSpfvXLOmqKEUm5dWjESMUWAyuxPyGNjhBg7THehcXkbcQaRmt14cJiVpppDN/HZdTzDZQLMiDKc4ei/IZYNIreNDK62IAETmxRhITMecU9KFVG2Wji0C7PwgQio8VG8BEkM6qnEy1vOfuM3/mVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVSmAYAAACAAABUoAKqun9yWLLzjUtoalKg0plLuGGhx+wG51SihxmEKQ/j2OO98IQurKIjWmZDUg7HX//twluVnerLxojSfCYxp6q//7kmTchPRvTVR7b0cQAAANIAAAARUtNUWO4ROAAAA0gAAABAT3WMqeesugLNnJmkqZ6T13c7dsyhfbmZa7q/K1g7W7V7LUTfliZsgYlHJCwqkaXpFeHPIjjCxKLh4+ULDDt7nDq/UmAAJCGITwoAmsAgAFgcm9nYnDAwOFqhphkTmPzSbR8Z7QdGSBcDAOYLHZAMEakgb7KoOjedE4RgWX7n8bnv+1hrNq5Z3Mu2kE887B0tvsHKhSizsx5riuIRNDhWDSqal7GmWp1DeKCRPtDkpec8mgx9Yu69I6gp+OuBIofuwtP8u9Tuo5HJmWihZqKagy9MZ/fr27FSxFf1fy1OUE/nf/l3Kkzsdyps7NvOraxoLdb7/eVdVcbrERthVMQU1FMy4xMDBVVVWUgAAABJpLQABGcoWEIyBAUMB0BmDgYYmJRmNamJggZOXBicFiqzGjYYNsoZNQriTGgBMJV0wgFHBB5nDRDOM1Q5iRIAPLPuMEIEwc2ALBQCG1vP0i++jsXFO3sTTXfmsR0wEo8bNGoRItzWLADNJQjUx9rzv/+5Jk5IT0cUPTe3gccAAADSAAAAEXJS9AlcwACAAANIKAAARYltbRATG41Cih6eXKx9tW6oAHMZ8s9nCimlH2KS9kTWhYGq4Fm21FgduULyc6NR9472U7ParU3c9WcblWvLKsYgSYf+V08CTFLQV5+H6TWM3b7qtZqS+vSYz93H3HgvF5HUkz/wHNu5GP/////////+5c7///////4S+X25ZSWJfT26SksU9P////4EDGraAAABARclN0elZN4txOjSUTeT4gw9RClUiRbQcoGUAIRj5cuXLjIyWrQUFBQYKCgoKN/wUG/+BQKCisjgoKfF+KCgov//IFFfFBv/4X//Tf/gUK//v/+FX/+kv/8gUV0FBgr4QUCiugoMFPCgoFTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//uSZPmACBVmUmZzIAAAAA0gwAAADew7Vbz2AAgAADSDgAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ=="};n(422);function hw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=document.createElement(e);if(t)for(var r in t)null!==t[r]&&i.setAttribute(r,t[r]);return n&&n.forEach((function(e){if(e)if("string"==typeof e){var t=document.createElement("span");t.innerText=e,i.appendChild(t)}else"string"==typeof e.html?i.innerHTML+=e.html:i.appendChild(e)})),i}var fw=function(){function e(){(0,C._)(this,e),this.storeMap={},this.itemMap={}}return(0,D._)(e,[{key:"setStore",value:function(e,t){this.storeMap=e,this.itemMap=t}},{key:"updateStoreByElements",value:function(e,t){var n=this;e.map((function(e){if(e.type&&"gap"!==e.type&&"ok"!==e.type&&"ok_cancel"!==e.type&&"ok_cancel_other"!==e.type)if("cluster"!==e.type&&"view"!==e.type){if(e.item_id)switch(e.type){case"check_box":case"radio":var i=t.find("#"+e.item_id).is(":checked");n.storeMap[e.item_id].value=i;break;case"static_text":case"button":var r=t.find("#"+e.item_id).text();n.storeMap[e.item_id].value=r;break;case"edit_text":var o=t.find("#"+e.item_id).val();n.storeMap[e.item_id].value=o}}else n.updateStoreByElements(e.elements,t)}))}},{key:"getAlignStyle",value:function(e){var t="";switch(e){case"align_left":t+="text-align:left;";break;case"align_center":t+="text-align:center;";break;case"align_right":t+="text-align:right;"}return t}},{key:"getElementStyle",value:function(e){var t,n="";if(e.width&&!W.isMobile&&(n+="width:"+e.width+"px;"),e.height&&(W.isMobile?n+="min-height:200px;":n+="height:"+e.height+"px;"),e.char_width&&!W.isMobile&&(n+="width:"+10*e.char_width+"px;"),e.char_height&&(n+="height:"+10*e.char_height+"px;"),"edit_text"===e.type){var i="resize:none;";e.width||e.char_width||(i+="width:100%;"),n+=i}else"check_box"===e.type||e.type;return e.align_children&&(n+=this.getAlignStyle(e.align_children)),e.alignment&&(n+=this.getAlignStyle(e.alignment)),e.multiline||"static_text"!==e.type&&"edit_text"!==e.type||(n+="white-space: nowrap;"),(t=e.whiteSpace)&&(n+="white-space: ".concat(t,";")),e.bold&&(n+="font-weight:600;"),e.italic&&(n+="font-style:italic;"),e.border&&(n+="border:"+e.border),n}},{key:"buildWithWrapper",value:function(e,t){var n="js-item-wrapper";return t&&"button"===t.type&&(n+=" btn-wrapper"),hw("div",{class:n},[e])}},{key:"buildCheckBox",value:function(e,t){var n=e.name,i=this.storeMap[e.item_id],r=document.createDocumentFragment();return r.appendChild(hw("input",{type:"checkbox",checked:i&&!0===i.value?i.value:null,id:e.item_id,style:t})),r.appendChild(hw("span",{},[n])),this.buildWithWrapper()}},{key:"buildRadio",value:function(e,t){var n=e.name,i=e.group_id,r=this.storeMap[e.item_id],o=document.createDocumentFragment();return o.appendChild(hw("input",{type:"radio",checked:r&&!0===r.value?r.value:null,name:i,id:e.item_id,style:t})),o.appendChild(hw("span",{},[n])),this.buildWithWrapper(o)}},{key:"buildStaticText",value:function(e,t){var n=e.name?e.name:"";if(n=unescape(n.replace(/\\/g,"%")),e.item_id){var i=this.storeMap[e.item_id];i&&i.value&&(n=i.value+"")}return this.buildWithWrapper(hw("div",{id:e.item_id,style:t},[n]))}},{key:"buildButton",value:function(e,t,n){if(!n){n=e.name?e.name:"",n=unescape(n.replace(/\\/g,"%"));var i=this.storeMap[e.item_id];i&&i.value&&(n=i.value+"")}return n||(n=hw("span",{style:"color: transparent"},["A"])),this.buildWithWrapper(hw("button",{style:t,type:"submit",id:e.item_id,class:"pdf_js_btn btn btn-outline btn-xs btn-circle"},[n]))}},{key:"buildEditText",value:function(e,t){e.readonly;var n,i=this.storeMap[e.item_id],r="";return i&&i.value&&(r=i.value),0==r.length&&(r=e.value),n=e.multiline?e.readonly?hw("div",{style:t+";height:unset",name:"",id:e.item_id,readonly:"true"},[hw("pre",{style:"white-space:pre-line"},[r])]):hw("textarea",{style:t,name:"",id:e.item_id},[r]):e.password?hw("input",{style:t,type:"password",value:r,name:"",id:e.item_id,readonly:e.readonly?"true":null}):e.SpinEdit?hw("input",{style:t,type:"number",value:r,name:"",id:e.item_id,readonly:e.readonly?"true":null}):hw("input",{style:t,type:"text",value:r,name:"",id:e.item_id,readonly:e.readonly?"true":null}),this.buildWithWrapper(n||document.createDocumentFragment())}},{key:"buildListBox",value:function(e,t){}},{key:"buildView",value:function(e,t){var n=[];for(var i in e.elements)n.push(this.JSWindowToHTML(e.elements[i]));var r="js-view-component";return"align_row"===e.align_children&&(r+=" children-in-row"),hw("div",{class:r,style:t},n)}},{key:"buildCluster",value:function(e,t){var n=[];for(var i in e.elements)n.push(this.JSWindowToHTML(e.elements[i]));var r="js-cluster-component";"align_row"===e.align_children&&(r+=" children-in-row");var o=e.name?e.name:"";return hw("div",{class:r,style:t+"position:relative;"},[hw("fieldset",{style:"text-align: left; border-color: gray; border-style: solid; border-width: 1px;"},[hw("legend",{style:"background:var(--fv-primary-bg,white);"},[hw("span",{},[o=unescape(o.replace(/\\/g,"%"))])]),hw("div",{},n)])])}},{key:"buildOkCancelOther",value:function(e,t){var n=document.createDocumentFragment(),i=this.buildButton({item_id:"jscancle",type:"button"},"",e.cancel_name?e.cancel_name:"Cancel"),r=this.buildButton({item_id:"jsok",type:"button"},"",e.ok_name?e.ok_name:"Ok"),o=this.buildButton({item_id:"jsother",type:"button"},"",e.other_name?e.other_name:"Other");if("ok"===e.type)n.appendChild(r);else if("ok_cancel"===e.type)n.appendChild(r),n.appendChild(i);else{if("ok_cancel_other"!==e.type)return n;n.appendChild(r),n.appendChild(o),n.appendChild(i)}return hw("div",{class:"js-buttons",style:t},[n])}},{key:"JSWindowToHTML",value:function(e){e&&e.item_id&&e.type&&(this.itemMap[e.item_id]||(this.itemMap[e.item_id]={}),this.storeMap[e.item_id]||(this.storeMap[e.item_id]={}),this.storeMap[e.item_id].type=e.type,this.itemMap[e.item_id].type=e.type);var t,n=this.getElementStyle(e);switch(e.type){case"button":t=this.buildButton(e,n);break;case"check_box":t=this.buildCheckBox(e,n);break;case"radio":t=this.buildRadio(e,n);break;case"list_box":case"hier_list_box":case"popup":case"gap":break;case"static_text":t=this.buildStaticText(e,n);break;case"edit_text":t=this.buildEditText(e,n);break;case"ok":case"ok_cancel":case"ok_cancel_other":t=this.buildOkCancelOther(e,n);break;case"view":t=this.buildView(e,n);break;case"cluster":t=this.buildCluster(e,n)}return t||document.createDocumentFragment()}},{key:"buildDialogWrapper",value:function(e,t,n){return'<div id="'+e+'" class="js-window-modal modal fade bs" ><div class="js-modal-dialog modal-dialog " style="'+t+'" ><div class="modal-content "><div class="modal-header" ><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><div class="modal-title">'+n.i18n.t("viewer_:pdfjs.windowTitle")+'</div></div><div class="modal-body" ></div><div class="js-warning-footer" ><div class="js-warning" ><span >'+n.i18n.t("viewer_:pdfjs.windowWarning")+"</span></div></div></div></div></div>"}}]),e}(),pw=function(){function e(t,n){(0,C._)(this,e),this.componentUtils=new fw,this.callback=n,this.dialogId="jsWindow",this.monitor=t,this.width=void 0,this.height=void 0,this.storeMap={},this.itemMap={},this.componentUtils.setStore(this.storeMap,this.itemMap)}return(0,D._)(e,[{key:"updateComponents",value:function(){if(this.$dialog)for(var e in this.itemMap){this.itemMap[e].disabled?this.$dialog.find("#"+e).addClass("disabled"):this.$dialog.find("#"+e).removeClass("disabled")}}},{key:"enable",value:function(e){for(var t in e){var n=e[t];this.itemMap[t]||(this.itemMap[t]={}),this.itemMap[t].disabled=!n}this.updateComponents()}},{key:"end",value:function(e){this.callback&&this.callback(e),this.$dialog&&this.$dialog.remove()}},{key:"load",value:function(e){for(var t in e){var n=e[t];this.updateStoreItem(t,n)}}},{key:"store",value:function(){if(!this.$dialog)return{};this.componentUtils.updateStoreByElements(this.monitor.description.elements,this.$dialog);var e={};for(var t in this.storeMap){var n=this.storeMap[t];e[t]=n.value}return e}},{key:"updateStoreItem",value:function(e,t){this.storeMap[e]={value:t}}},{key:"getStore",value:function(){return this.storeMap}},{key:"getCallbacks",value:function(e){var t="";for(var n in e)if("description"!==n&&"initialize"!==n&&"validate"!==n&&"commit"!==n&&"destroy"!==n){var i=e[n];"function"==typeof i&&(this.itemMap[n]||(this.itemMap[n]={}),""!==t&&(t+=","),t+="#"+n,this.itemMap[n].callback=i)}return t}},{key:"initialize",value:function(e){var t=this,n="";void 0!==this.monitor.description.width&&(this.width=this.monitor.description.width,n+="width:"+this.width+"px;"),void 0!==this.monitor.description.height&&(this.height=this.monitor.description.height,n+="min-height:"+this.height+"px;"),this.monitor.initialize(this);var i=document.createDocumentFragment();for(var r in this.monitor.description.elements)i.appendChild(this.componentUtils.JSWindowToHTML(this.monitor.description.elements[r]));var o=this.dialogId,a=this.componentUtils.buildDialogWrapper(o,n,e),s=this.getCallbacks(this.monitor),c=j()(a);return c.find(".modal-body").append(i),this.containerPromise=e.viewerUI.getRootElement().then((function(e){j()(e);return j()(document.body).append(c),j()(document.body)})),this.$dialog=c,this.updateComponents(),c.find("#jsok").off("click").on("click",(function(e){t.monitor.validate&&t.monitor.validate(t),t.monitor.commit&&t.monitor.commit(t),t.monitor.ok&&t.monitor.ok(t),t.monitor.destroy&&t.monitor.destroy(t),t.end("ok")})),c.find("#jscancle,.close").off("click").on("click",(function(e){t.monitor.cancel&&t.monitor.cancel(t),t.monitor.destroy&&t.monitor.destroy(t),t.end("cancel")})),c.find("#jsother").off("click").on("click",(function(e){t.monitor.other&&t.monitor.other(t),t.monitor.destroy&&t.monitor.destroy(t),t.end("other")})),c.find(".modal-dialog").off("click",s).on("click",s,(function(e){for(var n=e.target;!n.id;)n=n.parentElement;var i=n.id;t.itemMap[i].callback&&t.itemMap[i].callback(t)})),!0}},{key:"doModal",value:function(){var e=this;this.containerPromise&&this.containerPromise.then((function(t){t.append(e.$dialog),e.$dialog&&e.$dialog.show()}))}}]),e}();const vw=pw;var gw=function(){function e(){for(var t in(0,C._)(this,e),this)"function"==typeof this[t]&&(this[t].toString=function(){return"function(){[native code]}"})}return(0,D._)(e,[{key:"toString",value:function(){return"[object "+this.constructor.name+"]"}}],[{key:"name",get:function(){return"Object"}}]),e}(),mw=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;(0,C._)(this,n),e=t.call(this);var i=arguments[0];return e.change="",e.changeEx="",e.events=[],e.init(i),e}return(0,D._)(n,[{key:"init",value:function(e){for(var t in e){var n={};n[t]=e[t],this.add(n)}}},{key:"add",value:function(e){for(var t in e)this.events[t]||(this.events[t]=[]),this.events[t]=e[t]}},{key:"dispatch",value:function(){}},{key:"remove",value:function(e){}}],[{key:"name",get:function(){return"event"}}]),n}(gw);const yw=mw;var _w=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"align",get:function(){}},{key:"canResize",get:function(){}},{key:"closeReason",get:function(){}},{key:"ifOffScreen",get:function(){}},{key:"layout",get:function(){}},{key:"monitorType",get:function(){}},{key:"openCode",get:function(){}},{key:"over",get:function(){}},{key:"pageEventNames",get:function(){}},{key:"raiseCode",get:function(){}},{key:"raiseSystem",get:function(){}},{key:"renditionType",get:function(){}},{key:"stauts",get:function(){}},{key:"trace",get:function(){}},{key:"version",get:function(){}},{key:"windowType",get:function(){}},{key:"addStockEvent",value:function(){}},{key:"alertFileNotFount",value:function(){}},{key:"alertSelectFailed",value:function(){}},{key:"argsDWIM",value:function(){}},{key:"canPlayOrAlert",value:function(){}},{key:"computerFloatWinRect",value:function(){}},{key:"constrainRectToScreen",value:function(){}},{key:"createPlayer",value:function(){}},{key:"Events",value:function(e){return new yw(e)}},{key:"getAltTextData",value:function(){}},{key:"getAltTextSettings",value:function(){}},{key:"getAnnotStockEvents",value:function(){}},{key:"getAnnotTraceEvents",value:function(){}},{key:"getPlayers",value:function(){}},{key:"getPlayerStockEvents",value:function(){}},{key:"getPlayerTraceEvents",value:function(){}},{key:"getURLData",value:function(){}},{key:"getURLSettings",value:function(){}},{key:"getWindowBorderSize",value:function(){}},{key:"openPlayer",value:function(){}},{key:"removeStockEvents",value:function(){}},{key:"startPlayer",value:function(){}}],[{key:"name",get:function(){return"AppMedia"}}]),n}(gw);const bw=_w;var ww={yellow:["CMYK",0,0,1,0],white:["G",1],transparent:["T"],red:["RGB",1,0,0],magenta:["CMYK",0,1,0,0],ltGray:["G",.75],green:["RGB",0,1,0],gray:["G",.5],dkGray:["G",.25],cyan:["CMYK",1,0,0,0],blue:["RGB",0,0,1],black:["G",0],equal:function(e,t){},convert:function(e,t){var n,i,r;if(t==e[0])return[].concat(e);switch(e[0]){case"T":n=-1,i=-1,r=-1;break;case"G":n=i=r=e[1];break;case"RGB":n=e[1],i=e[2],r=e[3];break;case"CMYK":n=(1-e[4])*(1-e[1]),i=(1-e[4])*(1-e[2]),r=(1-e[4])*(1-e[3])}switch(t){case"T":return;case"G":return["G",(n+r+i)/3];case"RGB":return["RGB",n,i,r];case"CMYK":var o=1-n,a=1-i,s=1-r,c=Math.min(Math.min(o,a),s);return 0!=c?(temp2=Math.round(rep_v/100*c),Math.round(100*temp2),Math.round(100*(o-temp2)),Math.round(100*(a-temp2)),Math.round(100*(s-temp2))):(Math.round(100*o),Math.round(100*a),Math.round(100*s),0),["CMYK",n,i,r]}}};const kw=ww;var xw=2,Pw=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),(o=t.call(this))._backgroudColor=kw.yellow,o._clickAdvances=!1,o._isFullScreen=!0,o._cursor=xw,o._defaultTransition="",o._escapeExits=!1,o._loop=!1,o._timedelay=3,o._transitions="",o._usePageTiming=!1,o._useTimer=!1,o}return(0,D._)(n,[{key:"backgroudColor",get:function(){return this._backgroudColor},set:function(e){}},{key:"clickAdvances",get:function(){return this._clickAdvances},set:function(e){}},{key:"cursor",get:function(){return this._cursor},set:function(e){}},{key:"defaultTransition",get:function(){return this._defaultTransition},set:function(e){}},{key:"escapeExits",get:function(){return this._escapeExits},set:function(e){}},{key:"isFullScreen",get:function(){return this._isFullScreen},set:function(e){this._isFullScreen=e}},{key:"loop",get:function(){return this._loop},set:function(e){}},{key:"timedelay",get:function(){return this._timedelay},set:function(e){}},{key:"transitions",get:function(){return this._transitions},set:function(e){}},{key:"usePageTiming",get:function(){return this._usePageTiming},set:function(e){}},{key:"useTimer",get:function(){return this._useTimer},set:function(e){}}]),n}(gw);const Cw=Pw;var Dw=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r;return(0,C._)(this,n),(r=t.call(this)).jsEngine=e,r.viewerApp=i,r._calculate=!0,r._fullscreen=!0,r._fs=new Cw,r.dialogQueue=Promise.resolve(),r.viewerApp.eventEmitter.on("will-close-document",(function(){r.modalDialog&&r.modalDialog.end("cancel")})),r}return(0,D._)(n,[{key:"activeDocs",get:function(){return[this.jsEngine.cacheJSDoc]}},{key:"calculate",get:function(){var e=this.jsEngine.getPDFForm();return!e||e.calculationEnabled},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return this._calculate=e,this.viewerApp.setAutoCalculateFieldsFlag(e)}},{key:"constants",get:function(){return{algin:{left:0,center:1,right:2,top:3,bottom:4}}}},{key:"focusRect",get:function(){return this._focusRect},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return this._focusRect=e}},{key:"formsVersion",get:function(){return 7}},{key:"fullscreen",get:function(){return this._fullscreen},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return this._fullscreen=e}},{key:"fs",get:function(){return this._fs}},{key:"runtimeHighlight",get:function(){return this.viewerApp.highlightControls()},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return this.viewerApp.highlightForm(e)}},{key:"runtimeHighlightColor",get:function(){return this.viewerApp.getDisplayHighlightColor(this.viewerApp._runtimeColor,this.viewerApp._runtimeColorOpacity,"RGB")},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return this.viewerApp.setFormHighlightColor(e)}},{key:"viewerVersion",get:function(){return 7}},{key:"viewerType",get:function(){return"Exchange-Pro"}},{key:"viewerVariation",get:function(){return"Business Tools"}},{key:"printerNames",get:function(){return["Web Printer"]}},{key:"platform",get:function(){var e=window.navigator.platform,t=null;return-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(e)?t="MAC":-1!==["Win32","Win64","Windows","WinCE"].indexOf(e)?t="WIN":!t&&/Linux/.test(e)&&(t="UNIX"),t}},{key:"language",get:function(){var e,t=navigator.language||navigator.userLanguage;return[{language:"zh-CN",code:"CHS"},{language:"zh-HK",code:"CHT"},{language:"zh-TW",code:"CHT"},{language:"da",code:"DAN"},{language:"de",code:"DEU"},{language:"en",code:"ENU"},{language:"es",code:"ESP"},{language:"fr",code:"FRA"},{language:"it",code:"ITA"},{language:"ko",code:"KOR"},{language:"ja",code:"JPN"},{language:"nl",code:"NLD"},{language:"nb",code:"NOR"},{language:"pt-BR",code:"PTB"},{language:"fi",code:"SUO"},{language:"sv",code:"SVE"}].some((function(n){t.indexOf(n.language)>-1&&(e=n.code)})),e}},{key:"numPlugIns",get:function(){return 2}},{key:"plugIns",get:function(){return[{name:"Annots",certified:!0,loaded:!0,path:"",version:7},{name:"Forms",certified:!0,loaded:!0,path:"",version:7}]}},{key:"media",get:function(){return new bw(this.jsEngine)}},{key:"popUpMenu",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=this.viewerApp.i18n.t("viewer_:pdfjs.popupMenu"),r={},o=function(e){var t=1;return function(n){var a,s=Object.prototype.toString.call(n);if(s.indexOf("String")>-1&&"-"!==n)a=void 0!==e?"".concat(e,"-").concat(t):String(t),i+="".concat(a,". ").concat(n," \n"),r[a.trim()]=n,t++;else if(s.indexOf("Array")>-1){var c;c=e?"".concat(e,"-").concat(t):String(t),i+="".concat(c,". ").concat(n[0]," \n"),r[c.trim()]=n[0],void 0!==e?n.slice(1).forEach(o("  ".concat(e,"-").concat(t))):n.slice(1).forEach(o("  ".concat(t))),t++}}};t.forEach(o());var a=prompt(i,"");if(null===a)return null;for(var s in r)if(r.hasOwnProperty(s)&&a.trim()===s)return r[s]}},{key:"response",value:function(e){var t=e.cQuestion,n=(e.cTitle,e.cDefault);e.bPassword,e.cLabel;return window.prompt(t,n||"")}},{key:"beep",value:function(e){var t;switch(e){case 0:default:t="error";break;case 1:t="warning"}var n=new Audio(dw[t]);n.addEventListener("load",(function(){n.play()}),!0),n.autoplay=!0}},{key:"alert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!this.jsEngine.getEvent().isSensitiveCheck&&!this.jsEngine.getEvent().isLoading){var i=this.jsEngine.getEvent();if(!i.isSensitiveCheck&&!i.isLoading){var r,o;e&&e.nType;switch(r=n,e&&void 0!==e.nType&&(r=e.nType),o=null==e?"undefined":(0,W.isPlainObject)(e)?e.cMsg+"":e+"",r){default:case 0:return alert(o),0;case 1:return confirm(o)?1:2;case 2:case 3:return confirm(o)?4:3}}}}},{key:"alertAsync",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.alert.apply(this,t)}},{key:"clearInterval",value:function(e){clearInterval(e)}},{key:"clearTimerOut",value:function(e){clearTimeout(e)}},{key:"launchURL",value:function(e){if(this.jsEngine.getEvent().isSensitiveCheck||this.jsEngine.getEvent().isLoading)this.jsEngine.sensitiveOp=!0;else{if(/\w*:\/\/[\s\S]*/.test(e)){if("file"===e.match(/(\w*):\/+[\s\S]*/)[0])return}else e="http://"+e;var t=e.lastIndexOf("@"),n=e;if(-1!=t){n=e.substr(t+1);var i=e.indexOf("//");-1!=i&&(n=e.substr(0,i+2)+n)}var r=this.viewerApp,o=JSON.parse(localStorage.getItem("TRUST_SITE_SET"))||{},a=o.siteList,s=void 0===a?[]:a,c=o.siteRight,u=void 0===c?"always":c,l=o.type,A=void 0===l?"custom":l,d=r.i18n.t("viewer_:pdfjs.launchURLHint"),h=r.i18n.t("viewer_:pdfjs.blockTip");if("custom"===A){var f=s.find((function(e){return n.includes(e.url)}));if(f)return"allow"===(""+f.access.split(" ")[1]).toLowerCase()?window.open(n):r.viewerUI.alert({message:"".concat(h,"\n").concat(Lf.toASCII(n)),level:"warning"});if("always"===u)return r.viewerUI.confirm(d+"\n"+Lf.toASCII(n)).then((function(){window.open(e)}),(function(){}));if("allow"===u)return window.open(n);if("block"===u)return r.viewerUI.alert({message:"".concat(h,"\n").concat(Lf.toASCII(n)),level:"warning"})}else{if("allow"===A)return window.open(n);if("block"===A)return r.viewerUI.alert({message:"".concat(h,"\n").concat(Lf.toASCII(n)),level:"warning"})}}}},{key:"_execDialog",value:function(e){var t=this;return new Promise((function(n,i){var r=new vw(e,(function(e){n(e)}));t.modalDialog=r,r.initialize(t.jsEngine.PDFViewer),r.doModal()}))}},{key:"execDialog",value:function(e,t,n){return this._execDialog(e,t,n)}},{key:"execMenuItem",value:function(){}},{key:"setInterval",value:function(e,t){return setInterval(window.eval(e),t)}},{key:"setTimeOut",value:function(e,t){var n=this;return setTimeout((function(t){return n.jsEngine.exec(e)}),t)}}],[{key:"name",get:function(){return"app"}}]),n}(gw),Ew=new W.QueuedAsyncTaskExecutor;const Sw=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("function"!=typeof e)return Promise.resolve();if(t)return Promise.resolve(e());var n=Ew.exec(e);return n.catch((function(e){return console.error(e)})),n};const Iw={always:0,never:1,tooBig:2,tooSmall:3};function Tw(e){var t;if(e)for(var n=0;n<e.getControlsCount();n++)if(t=e.getControlByIndex(n).getWidget())return t;return t}function Rw(e,t,n,i){if(e)return e[n].apply(e,i);t&&t.length>0&&t.forEach((function(e){return e[n].apply(e,i)}))}var Mw=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),(o=t.call(this)).jsEngine=e,o.field=i,o.fields=r,o.targetField=o.field||o.fields[0],o._readonly="",o._required="",o._value="",o}return(0,D._)(n,[{key:"destroy",value:function(){this.fields=null,this.field=null,this.targetField=null,this.jsEngine=null}},{key:"_update",value:function(e,t){this.field=e,this.fields=t,this.targetField=this.field||this.fields[0]}},{key:"alignment",get:function(){if(!this.targetField)return"";switch(this.targetField.getAlignment()){case 0:return"left";case 1:return"center";case 2:return"right"}},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck){var t=0;switch(e){case"left":t=0;break;case"center":t=1;break;case"right":t=2}return Rw(this.field,this.fields,"setAlignmentWithString",[t,e]),e}}},{key:"borderStyle",get:function(){return this.targetField&&this.targetField.getBorderStyle()},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return Rw(this.field,this.fields,"setBorderStyle",[e]),e}},{key:"charLimit",get:function(){return this.targetField&&this.targetField.getMaxLength()},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return Rw(this.field,this.fields,"setMaxLength",[e]),e}},{key:"comb",get:function(){return!!vn.isComb(this.targetField&&this.targetField.getFlags())},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return Rw(this.field,this.fields,"setComb",[e]),e}},{key:"currentValueIndices",get:function(){return this.targetField&&this.targetField.getValueIndex()},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return Rw(this.field,this.fields,"setValueByIndex",[e]),e}},{key:"defaultValue",get:function(){return this.targetField&&this.targetField.getDefaultValue()},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return Rw(this.field,this.fields,"setDefaultValue",[e]),e}},{key:"display",get:function(){var e=Tw(this.targetField).getFlags();return 2&e?1:4&e?32&e?3:0:2},set:function(e){return Rw(this.field,this.fields,"setWidgetDisplay",[e]),e}},{key:"exportValues",get:function(){return this.targetField&&this.targetField.getExportValues()},set:function(e){var t=this;if(!this.jsEngine.getEvent().isSensitiveCheck){if(this.field.getType()===pn.RadioButton||this.field.getType()===pn.CheckBox){for(var n=function(n){e[n];Sw((function(i){return Rw(t.field,t.fields,"setExportValue",[n,e[n]])}))},i=this.field.getControlsCount(),r=0;r<i;r++)n(r);return this.field.getExportValues()}throw"invalid field type: only radio buttons and check boxes available."}}},{key:"fillColor",get:function(){var e=Tw(this.targetField).getMKProperty("fillColor");return["RGB",e>>16&1,e>>8&1,1&e]},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return null==e&&(e=0),Rw(this.field,this.fields,"setFillColor",[e]),e}},{key:"hidden",get:function(){var e=Tw(this.targetField).getFlags();return!!(2&e||1&e)},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return Rw(this.field,this.fields,"setHidden",[e]),e}},{key:"highlight",get:function(){},set:function(e){this.jsEngine.getEvent().isSensitiveCheck}},{key:"lineWidth",get:function(){},set:function(e){this.jsEngine.getEvent().isSensitiveCheck}},{key:"multiline",get:function(){return!!vn.isMultiline(this.targetField&&this.targetField.getFlags())},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return Rw(this.field,this.fields,"setMultiline",[e]),e}},{key:"name",get:function(){return this.targetField&&this.targetField.getName()}},{key:"numItems",get:function(){if(!this.targetField)return 0;if(this.targetField.getType()===pn.ListBox||this.targetField.getType()===pn.ComboBox)return this.targetField.getOptions().length;throw new Error("invalid field type: only list box and combo box available.")}},{key:"password",get:function(){return!!vn.isPassword(this.targetField&&this.targetField.getFlags())},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return Rw(this.field,this.fields,"setPassword",[e]),e}},{key:"print",get:function(){},set:function(e){this.jsEngine.getEvent().isSensitiveCheck}},{key:"radiosInUnison",get:function(){},set:function(e){this.jsEngine.getEvent().isSensitiveCheck}},{key:"readonly",get:function(){return!!vn.isReadOnly(this.targetField&&this.targetField.getFlags())},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return Rw(this.field,this.fields,"setReadonly",[e]),e}},{key:"required",get:function(){return!!vn.isRequired(this.targetField&&this.targetField.getFlags())},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return Rw(this.field,this.fields,"setRequired",[e]),e}},{key:"type",get:function(){if(!this.targetField)return"unknown";switch(this.targetField.getType()){default:case 0:return"unknown";case 1:return"button";case 2:return"checkbox";case 4:return"combobox";case 5:return"listbox";case 3:return"radiobutton";case 7:return"signature";case 6:return"text"}}},{key:"value",get:function(){if(this.targetField){var e=this.targetField.getValue();return""==e?"":isNaN(e)?e:+e}},set:function(e){var t=this;if(!this.jsEngine.getEvent().isSensitiveCheck&&this.targetField){var n,i=this.jsEngine.PDFViewer.getPDFDocRender().formRender.control,r=this.targetField.getType();if(Array.isArray(e)&&r!=pn.ListBox&&(e=e.join(",")),r===pn.ListBox||r===pn.ComboBox){var o=this.field.getOptions();o.forEach((function(t){t.selected=t.value==e,Array.isArray(e)&&-1!=e.indexOf(t.value)&&(t.selected=!0)})),this.field.setOptions(o)}e:if((n=i&&i.annot.getField())&&this.field&&this.field.getName()===n.getName()||!i||!n||!this.field||this.field.getName()!==n.getName()){Rw(this.field,this.fields,"setValue",[e]);var a=this.field?this.field.form:this.fields&&this.fields[0]?this.fields[0].form:void 0;if(!a)break e;a.tempTimer&&(clearTimeout(a.tempTimer),delete a.tempTimer),a.tempTimer=setTimeout((function(){a.addTask((function(e){return a.calculate(t.field)}),!0),clearTimeout(a.tempTimer),delete a.tempTimer}),100)}return r!==pn.RadioButton&&r!==pn.CheckBox||this.jsEngine.setStatus("calculate",this.targetField),e}}},{key:"valueAsString",get:function(){return this.targetField?this.targetField.getValue().toString():""}},{key:"strokeColor",get:function(){var e=this.targetField.getBorderColor();return["RGB",e>>16&1,e>>8&1,1&e]},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return Rw(this.field,this.fields,"setBorderColor",[e]),e}},{key:"textColor",get:function(){var e=this.targetField&&this.targetField.getDAFontColor();return["RGB",e>>16&1,e>>8&1,1&e]},set:function(e){return Rw(this.field,this.fields,"setDAFontColor",[e]),e}},{key:"userName",get:function(){return this.PDFFieldgetAlternateName()},set:function(e){if(this.field)return this.field.update("alternateName",e);this.fields.forEach((function(t){t.update("alternateName",e)}))}},{key:"rect",get:function(){var e,t=Tw(this.targetField);return[(e=t?t.getRect():this.targetField.rect).left,e.top,e.right,e.bottom]},set:function(e){if(Array.isArray(e)&&!(e.length<4)){if(e[0]>e[2]){var t=e[0];e[0]=e[2],e[2]=t}if(e[3]>e[1]){var n=e[3];e[3]=e[1],e[1]=n}Rw(this.field,this.fields,"setRect",[{left:e[0],top:e[1],right:e[2],bottom:e[3]}])}}},{key:"style",get:function(){return Tw(this.targetField).getMKProperty("normalCaption")},set:function(e){switch(e){case"check":e="4";break;case"cross":e="8";break;case"diamond":e="u";break;case"circle":e="l";break;case"star":e="H";break;case"square":e="n"}return Rw(this.field,this.fields,"setMKProperty",["normalCaption",e])}},{key:"buttonScaleWhen",get:function(){if(this.targetField&&this.targetField.getType()===pn.PushButton){var e=0;switch(Tw(this.targetField).info.iconFit.scaleWayType){case 1:e=0;break;case 4:e=1;break;case 2:e=2;break;case 3:e=3}return e}},set:function(e){if(this.targetField&&this.targetField.getType()===pn.PushButton){var t,n=Tw(this.targetField),i=n.info.iconFit;switch(e){case Iw.always:t="e_ScaleWayAlways",i.scaleWayType=1;break;case Iw.never:t="e_ScaleWayNever",i.scaleWayType=4;break;case Iw.tooBig:t="e_ScaleWayBigger",i.scaleWayType=2;break;case Iw.tooSmall:t="e_ScaleWaySmaller",i.scaleWayType=3;break;default:t="e_ScaleWayAlways",i.scaleWayType=1}var r={scale_way_type:t,is_proportional_scaling:i.isProportionalScaling+"",fit_bounds:i.fitBounds,horizontal_fraction:(100*i.horizontalFraction).toFixed(0),vertical_fraction:(100*i.verticalFraction).toFixed(0)};Sw((function(e){n.setWidgetIconFitOption(r)}))}}},{key:"setItems",value:function(e){if(Array.isArray(e))return Rw(this.field,this.fields,"setItems",[e]),e}},{key:"buttonGetIcon",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Tw(this.targetField)&&Tw(this.targetField).getIconObjNum(e);return"number"==typeof t?{_objNum:t}:t}},{key:"buttonSetIcon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Rw(this.field,this.fields,"setIconObj",[e,t])}},{key:"browseForFileToSubmit",value:function(){}},{key:"buttonGetCaption",value:function(e){switch(e||(e=0),e){case 0:e="normalCaption";break;case 1:e="downCaption";break;case 2:e="rolloverCaption"}return Tw(this.targetField).getMKProperty(e)}},{key:"buttonImportIcon",value:function(e,t){var n=this,i=this;return new Promise((function(e){n.$jsBrowserFile&&n.$jsBrowserFile.remove(),n.$jsBrowserFile=j()('<input id="jsBrowserFile" type="file" style="display: block;visibility:hidden" accept="image/jpg,image/jpeg,image/bmp,image/png"/>'),j()("body").append(n.$jsBrowserFile),n.$jsBrowserFile.off("change").on("change",(function(t){var n=t.target.files[0];if(!n)return-2;var r=new FileReader;r.readAsArrayBuffer(n),r.onload=function(){var t=new Uint8Array(r.result);i.buttonSetIcon(t,0),e(0)}})),n.$jsBrowserFile.click()}))}},{key:"buttonSetCaption",value:function(e,t){if(!this.jsEngine.getEvent().isSensitiveCheck){switch(t||(t=0),Array.isArray(e)&&1===e.length&&(e=e[0]),"string"!=typeof e&&(e+=""),t){case 0:t="normalCaption";break;case 1:t="downCaption";break;case 2:t="rolloverCaption"}Tw(this.targetField)._setMKProperty(t,e),Rw(this.field,this.fields,"setMKProperty",[t,e])}}},{key:"checkThisBox",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.jsEngine.getEvent().isSensitiveCheck){var n=this.field;if(n.getType()===pn.RadioButton||n.getType()===pn.CheckBox){var i=n.getWidget(e);if(!i)return n.getControlByIndex(e).getWidgetAnnot().then((function(e){return r(e)}));r(i)}}function r(e){var i=e.getOnAS();t?(e._setAS(i,e.info.objectNumber),n.setValue(i,e)):n.getValue()===i&&(e._setAS("off",e.controls[0].info.objectNumber),n.setValue("Off",null,!0))}}},{key:"clearItems",value:function(){this.jsEngine.getEvent().isSensitiveCheck||Rw(this.field,this.fields,"clearItems",[])}},{key:"defaultIsChecked",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.jsEngine.getEvent().isSensitiveCheck&&this.targetField&&(this.targetField.getType()===pn.RadioButton||this.targetField.getType()===pn.CheckBox)){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e&&e.getControlByIndex(t).getWidget()}(this.targetField,e),i="Off";t&&(i=n?n.getOnAS():"Yes"),Rw(this.field,this.fields,"setDefaultValue",[i]),Rw(this.field,this.fields,"setValue",[i])}}},{key:"deleteItemAt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.field.getValueIndex();if(!this.jsEngine.getEvent().isSensitiveCheck){if("number"!=typeof e&&(e=parseInt(e)),void 0===e)throw new Error("invalid parameter, expected integer.");Rw(this.field,this.fields,"deleteItems",[e])}}},{key:"getArray",value:function(){}},{key:"getItemAt",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("number"!=typeof e&&(e=parseInt(e)),void 0===e)throw new Error("invalid parameter, expected integer.");var n=this.targetField;if(n.getType()===pn.ListBox||n.getType()===pn.ComboBox){var i=n.getOptions();-1===e&&(e=i.length-1);var r=i[e];return t?r.value:r.label}return""}},{key:"insertItemAt",value:function(e,t,n){if(!this.jsEngine.getEvent().isSensitiveCheck&&this.targetField){var i=this.targetField;i.getType()!==pn.ListBox&&i.getType()!==pn.ComboBox||Rw(this.field,this.fields,"insertItemAt",[e,t,n])}}},{key:"isBoxChecked",value:function(e){if(!this.targetField)return!1;var t=this.targetField;if(t.getType()===pn.RadioButton||t.getType()===pn.CheckBox){var n=t.getWidget(e);if(n)return"Off"!=n.getAS()}return!1}},{key:"isDefaultChecked",value:function(e){if(!this.targetField)return!1;var t=this.targetField;if(t.getType()===pn.RadioButton||t.getType()===pn.CheckBox){var n=t.getWidget(e);if(n){var i=n.getOnAS();return i===t.getDefaultValue()||"1"===i}if(n=t.getControlByIndex(e))return n.info.isDefaultChecked}return!1}},{key:"setAction",value:function(e,t){Rw(this.field,this.fields,"setAction",[-1,t])}},{key:"setFocus",value:function(){var e=this;if(this.targetField){var t=function(e){var t=e.page.info.index,o=function(e){e.page.getIndex()==t&&(n.focus(),i.off(se.renderPageSuccess,o))};i.on(se.renderPageSuccess,o),r.PDFViewer.goToPage(t)},n=this.targetField,i=this.jsEngine.PDFViewer.getEventEmitter(),r=this.jsEngine,o=this.targetField.controls[0].getWidget();if(o)this.jsEngine.PDFViewer.getPDFDocRender().getCurrentPageIndex()==o.getPage().getIndex()?this.targetField.focus():t(o);else Sw((function(n){return e.targetField.controls[0].getWidgetAnnot().then((function(e){e&&t(e)}))}))}}}],[{key:"name",get:function(){return"Field"}}]),n}(gw);const Fw=Mw;const Nw=function(){function e(t,n){(0,C._)(this,e),this.jsEngine=t,this.doc=n,this.params={}}return(0,D._)(e,[{key:"printerName",get:function(){return"Web Printer"},set:function(e){}},{key:"firstPage",get:function(){return void 0!==this.params.firstPage?this.params.firstPage:0},set:function(e){this.params.firstPage=e}},{key:"lastPage",get:function(){return void 0!==this.params.lastPage?this.params.lastPage:this.doc.numPages},set:function(e){this.params.lastPage=e}},{key:"pageHandling",get:function(){return void 0!==this.params.pageHandling?this.params.pageHandling:3},set:function(e){this.params.pageHandling=e}},{key:"constants",get:function(){return{interactionLevel:{automatic:1,full:0,silent:2},handling:{none:1,fit:2,shrink:3,tileAll:4,tileLarge:5,nUp:6,booklet:7},flagValues:{applyOverPrint:131072,applySoftProofSettings:2097152,applyWorkingColorSpaces:262144,emitHalftones:1,emitPostScriptXObjects:524288,emitFormsAsPSForms:4194304,maxJP2KRes:8388608,setPageSize:1024,suppressBG:16,suppressCenter:256,suppressCJKFontSubst:64,suppressCropClip:4,suppressRotate:128,suppressTransfer:8,suppressUCR:32,useTrapAnnots:16777216,usePrintersMarks:33554432},bookletBindings:{Left:0,Right:1,LeftTall:2,RightTall:3},bookletDuplexMode:{BothSides:0,FrontSideOnly:1,BackSideOnly:2},colorOverrides:{auto:0,gray:1,mono:2},fontPolicies:{everyPage:2,jobStart:0,pageRange:1},nUpPageOrders:{Horizontal:0,HorizontalReversed:1,Vertical:2},printContents:{doc:0,docAndComments:1,formFieldsOnly:3},rasterFlagValues:{textToOutline:1,strokesToOutline:2,allowComplexClip:4,preserveOverprint:8},subsets:{all:-3,even:-5,odd:-4},tileMarks:{none:0,west:1,east:2},usages:{auto:0,use:1,noUse:2},duplexTypes:{Simplex:0,DuplexFlipLongEdge:1,DuplexFlipShortEdge:2}}}},{key:"flags",get:function(){return void 0!==this.params.flags?this.params.flags:0},set:function(e){this.params.flags=e}},{key:"interactive",get:function(){return void 0!==this.params.interactive?this.params.interactive:0},set:function(e){this.params.interactive=e}},{key:"fileName",get:function(){return void 0!==this.params.fileName?this.params.fileName:""},set:function(e){this.params.fileName=e}}]),e}();var Lw=function(){function e(t,n,i){(0,C._)(this,e),this.templateObject=t,this.templateHidden=n,this.pdfDoc=i}return(0,D._)(e,[{key:"hidden",get:function(){return this.templateHidden},set:function(e){if(e!==this.templateHidden)return this.pdfDoc?this.pdfDoc.hideTemplate(this.templateObject,e):void 0}},{key:"name",get:function(){return this.templateObject.name}},{key:"spawn",value:function(e,t,n,i){if(this.pdfDoc){if("object"==typeof e){var r=e;e=r.nPage,t=r.bRename,n=r.bOverlay,i=r.oXObject}return i&&"object"==typeof i&&(this.pdfDoc=i.pdfDoc,this.templateObject=i.templateObject,this.templateHidden=i.templateHidden),null==e&&(e=-1),t=!1!==t,n=!0,this.pdfDoc.spawnPage(this.templateObject,e,t,n),this}}}]),e}(),Ow={},jw=function(e){e?delete Ow[e]:Ow={}},Bw=function(e){return Ow[e]||[]},Vw="R",Uw="Group",Hw=function(){function e(t,n,i){(0,C._)(this,e),this.delayValue=!1,this.annot=t,this.annotData=n,this.app=i}return(0,D._)(e,[{key:"_delayOrExec",value:function(e){if(!this.delay)return e();var t,n,i;t=this.annot.getId(),n=e,(i=Bw(t)).push(n),Ow[t]=i}},{key:"type",get:function(){return"Annotation"}},{key:"component",get:function(){return this.app.viewerApp.getPDFPageRender(this.annotData.page).annotsRender.getAnnotRender(this.name).component}},{key:"author",get:function(){return this.annot?this.annot.getTitle():this.annotData.author},set:function(e){var t=this;Sw((function(n){return t._delayOrExec((function(){return t.annot.setTitle(e)}))}))}},{key:"borderEffectIntensity",get:function(){return this.annot?this.annot.getCloudIntensity():this.annotData.borderEffectIntensity},set:function(e){var t=this;this.annot&&(this.annot.info.borderInfo.cloudIntensity=e),Sw((function(n){return t._delayOrExec((function(){return t.annot.setBorderStyle(5,e)}))}))}},{key:"borderEffectStyle",get:function(){return this.annot?5===this.annot.getBorderStyle()?"C":"":this.annotData.borderEffectStyle},set:function(e){var t=this;if(""!==e&&"C"!==e)throw new TypeError('effectStyle either empty string or "C"');this.annot&&(this.annot.info.borderInfo.style="C"===e?5:0),Sw((function(n){return t._delayOrExec((function(){return"C"===e?t.annot.setBorderStyle(5,1):t.annot.setBorderStyle(0,[])}))}))}},{key:"contents",get:function(){return this.annot?this.annot.getContent():this.annotData.contents},set:function(e){var t=this;Sw((function(n){return t._delayOrExec((function(){return t.annot.setContent(e)}))}))}},{key:"creationDate",get:function(){return this.annot?this.annot.getCreateDateTime():this.annotData.creationDate}},{key:"delay",get:function(){return this.delayValue},set:function(e){if(!1===e){if(this.delayValue=!1,this.annot){var t=this.annot.getId();Bw(t).forEach((function(e){e&&e()})),jw(t)}}else!0===e&&(this.delayValue=!0)}},{key:"doc",get:function(){return this.app.jsEngine.jsEnv.globalVariables.doc}},{key:"hidden",get:function(){return this.annot?2==(2&this.annot.getFlags()):this.annotData.hidden||!1},set:function(e){var t=this;Sw((function(n){return t._delayOrExec((function(){var n=t.annot.getFlags();return e?n|=2:n&=-3,t.annot.setFlags(n)}))}))}},{key:"inReplyTo",get:function(){if(!this.annot)return this.annotData.inReplyTo;var e=this.annot.info.IRT;if(e&&"R"===this.annot.info.RT){var t=this.annot.page.annots.find((function(t){return t.getId()==e}));t&&(e=t.getName())}else e="";return e},set:function(e){var t=this;Sw((function(n){t._delayOrExec((function(){t.annot.info.IRT=e}))}))}},{key:"intent",get:function(){return this.annot?this.annot.getIntent():this.annotData.intent},set:function(e){var t=this;this.annot&&(this.annot.info.intent=e),Sw((function(n){return t._delayOrExec((function(){return t.annot.setIntent(e)}))}))}},{key:"lock",get:function(){return this.annot?128==(128&this.annot.getFlags()):this.annotData.lock||!1},set:function(e){var t=this;Sw((function(n){return t._delayOrExec((function(){var n=t.annot.getFlags();return e?n|=128:n&=-129,t.annot.setFlags(n)}))}))}},{key:"modDate",get:function(){return this.annot?this.annot.getModifiedDateTime():this.annotData.modDate},set:function(e){var t=this;Sw((function(n){return t._delayOrExec((function(){return t.annot.setModifiedDateTime(e)}))}))}},{key:"name",get:function(){return this.annot?this.annot.getName():this.annotData.name},set:function(e){var t=this;Sw((function(n){return t._delayOrExec((function(){return t.annot.setUniqueID(e)}))}))}},{key:"noView",get:function(){return this.annot?32==(32&this.annot.getFlags()):this.annotData.noView||!1},set:function(e){var t=this;Sw((function(n){return t._delayOrExec((function(){var n=t.annot.getFlags();return e?n|=32:n&=-33,t.annot.setFlags(n)}))}))}},{key:"opacity",get:function(){return this.annot?this.annot.getOpacity():this.annotData.opacity||1},set:function(e){var t=this;Sw((function(n){return t._delayOrExec((function(){if(Object.prototype.toString.call(e).indexOf("Number")<0)throw new Error("only accept Number");if(e<0||e>1)throw new Error("opacity range: 0 - 1");return t.annot.setOpacity(e)}))}))}},{key:"page",get:function(){return this.annot?this.annot.getPage().getIndex():this.annotData.page},set:function(e){var t=this;Sw((function(n){return t._delayOrExec((function(){var n=t.annot.getPage().getIndex();if(e!=n){var i=t.app.viewerApp.getPDFPageRender(n).annotsRender.getAnnotRender(t.name).component;t.app.viewerApp.getPDFPageRender(e).getPDFPage().then((function(e){return t.moveAnnot([i],t.annot.getPage(),e)}))}}))}))}},{key:"print",get:function(){return this.annot?4==(4&this.annot.getFlags()):this.annotData.print||!1},set:function(e){var t=this;Sw((function(n){return t._delayOrExec((function(){var n=t.annot.getFlags();return e?n|=4:n&=-5,t.annot.setFlags(n)}))}))}},{key:"rect",get:function(){if(!this.annot)return this.annotData.rect;var e=this.annot.getRect(),t=e.left,n=e.right,i=e.top;return[t,e.bottom,n,i]},set:function(e){var t=this;Sw((function(n){return t._delayOrExec((function(){if(!Array.isArray(e))throw new Error("only accept Array");return t.annot.setRect({left:e[0],right:e[2],top:e[3],bottom:e[1]})}))}))}},{key:"readOnly",get:function(){return this.annot?64==(64&this.annot.getFlags()):this.annotData.readOnly||!1},set:function(e){var t=this;Sw((function(n){return t._delayOrExec((function(){var n=t.annot.getFlags();return e?n|=64:n&=-65,t.annot.setFlags(n)}))}))}},{key:"refType",get:function(){if(!this.annot)return this.annotData.refType;this.annot.info.RT},set:function(e){var t=this;Sw((function(n){t._delayOrExec((function(){if(e!==Vw&&e!==Uw)throw new TypeError('refType should be "R" or "Group"');t.annot.info.RT=e}))}))}},{key:"richContents",get:function(){},set:function(e){}},{key:"seqNum",get:function(){return this.annot?this.annot.info.index:0}},{key:"strokeColor",get:function(){return this.annot?this.annot.info.hasBorderColor?(0,W.convertFromNumberToJSColor)(this.annot.info.borderColor):["T"]:this.annotData.strokeColor},set:function(e){var t=this;Sw((function(n){return t._delayOrExec((function(){var n=(0,W.colorConvertor)(e,"int",t.annot.getOpacity());return t.annot.setBorderColor(n)}))}))}},{key:"style",get:function(){return this.annot?this.annot.getBorderStyle():this.annotData.style},set:function(e){var t=this;Sw((function(n){return t._delayOrExec((function(){var n=0,i=0;return"D"==e&&(n=1,i=[3]),t.annot.setBorderStyle(n,i)}))}))}},{key:"subject",get:function(){return this.annot?this.annot.getSubject():this.annotData.subject},set:function(e){var t=this;Sw((function(n){return t._delayOrExec((function(){return t.annot.setSubject(e)}))}))}},{key:"toggleNoView",get:function(){return this.annot?256==(256&this.annot.getFlags()):this.annotData.toggleNoView},set:function(e){var t=this;Sw((function(n){return t._delayOrExec((function(){var n=t.annot.getFlags();return e?n|=256:n&=-257,t.annot.setFlags(n)}))}))}},{key:"popupOpen",get:function(){if("freetext"!==this.type&&"sound"!==this.type&&"fileattachment"!==this.type)return this.annot?this.annot.getPopup().getOpenStatus():this.annotData.popupOpen},set:function(e){var t=this;"freetext"!==this.type&&"sound"!==this.type&&"fileattachment"!==this.type&&Sw((function(n){return t._delayOrExec((function(){return t.annot.getPopup().setOpenStatus(e).then((function(){e&&t.component.showReplyDialog("comment")}))}))}))}},{key:"popupRect",get:function(){if("freetext"!==this.type&&"sound"!==this.type&&"fileattachment"!==this.type){if(!this.annot)return this.annotData.popupRect;var e=this.annot.getPopup().getRect(),t=e.left,n=e.right,i=e.top;return[t,e.bottom,n,i]}},set:function(e){var t=this;"freetext"!==this.type&&"sound"!==this.type&&"fileattachment"!==this.type&&Sw((function(n){return t._delayOrExec((function(){if(!Array.isArray(e))throw new Error("only accept Array");return t.annot.getPopup().setRect({left:e[0],right:e[2],top:e[3],bottom:e[1]})}))}))}},{key:"destroy",value:function(){var e=this;this.annot&&this.annot.getPage().removeAnnotByObjectNumber(this.annot.getId()).then((function(){jw(e.annot.getId()),e.annot=null}))}},{key:"getProps",value:function(){var e=this,t={},n=[],i=Object.getOwnPropertyNames(this.constructor.prototype),r=this;return i.map((function(t){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);i&&!i.get||n.push(t)})),Object.getOwnPropertyNames(this.constructor.prototype.__proto__.__proto__).map((function(t){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype.__proto__.__proto__,t);i&&!i.get||n.push(t)})),n.map((function(e){var n=r.annotData[e];void 0!==n?(t[e]=n,console.log("this."+e+"=",t[e])):console.log("this."+e+'="undefined"')})),t}},{key:"setProps",value:function(e){var t=this,n=[],i=this;Object.getOwnPropertyNames(this.constructor.prototype).map((function(e){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);i&&!i.set||n.push(e)}));var r=Object.getOwnPropertyNames(this.constructor.prototype.__proto__.__proto__);for(var o in r.map((function(e){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype.__proto__.__proto__,e);i&&!i.set||n.push(e)})),i.delay=!0,e)i.annotData[o]=e[o];i.delay=!1}},{key:"getStateInModel",value:function(e){if(this.annot&&"text"===this.annot.info.type)return"Marked"===e?[this.annot.getMarkedState(0)]:"Review"===e?[this.annot.getReviewState(0)]:void 0}},{key:"moveAnnot",value:function(e,t,n){var i=this,r=t.getIndex(),o=n.getIndex(),a=t.doc,s=e.reduce((function(e,t){return t.getRelevanceRenders?(0,M._)(e).concat((0,M._)(t.getRelevanceRenders(!0))):(0,M._)(e).concat([t.annot.getId()])}),[]),c=s.reduce((function(e,n){var i=t.annotIdMap[n],r={},o={};return"popup"!==i.getType()&&(o=r="FreeTextCallout"==i.getIntent()?annotRender.backupProperty.rect:i.getRect()),e[n]={rect:o,oldRect:r},e}),{}),u=Object.keys(c).map((function(e){return Number(e)}));return t.getAnnotsByObjectNumArray(u).then((function(e){var s=e.reduce((function(e,t){return e[t.getUniqueID()]=c[t.getObjectNumber()],e}),{});return a.moveAnnotsToPage(t,n,c).then((function(e){return i.app.viewerApp.collaborate(Nd.MOVE_ANNOTS_BETWEEN_PAGES,{fromPageIndex:r,toPageIndex:o,annots:s}),e}))}))}}]),e}(),zw=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){return(0,C._)(this,n),t.call(this,e,i,r)}return n}(Hw);const Ww=zw;var Gw=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"type",get:function(){return"Caret"}},{key:"caretSymbol",get:function(){},set:function(e){}}]),n}(Ww);const Yw=Gw;var $w=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"type",get:function(){return"Circle"}},{key:"dash",get:function(){return this.annot?this.annot.getBorderInfo().dashes:this.annotData.dash},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){if(Array.isArray(e))return t.annot.setBorderStyle(1,e)}))}))}},{key:"fillColor",get:function(){if(!this.annot)return this.annotData.fillColor;var e=this.annot.getFillColor();return(0,W.convertFromNumberToJSColor)(e)},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=(0,W.colorConvertor)(e,"int",0);return t.annot.setFillColor(n)}))}))}},{key:"width",get:function(){return this.annot?this.annot.getBorderWidth():this.annotData.width},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){return t.annot.setBorderWidth(e)}))}))}}]),n}(Ww),Jw={Paperclip:"Paperclip",PushPin:"PushPin",Graph:"Graph",Tag:"Tag"},qw=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"type",get:function(){return"FileAttachment"}},{key:"attachIcon",get:function(){return this.annot?this.annot.getIconName():this.annotData.attachIcon},set:function(e){var t=this;Jw[e]&&Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){return t.annot.setIconName(e)}))}))}},{key:"point",get:function(){if(!this.annot)return this.annotData.point;var e=this.annot.getRect();return[e.left,e.top]},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){if(e&&Array.isArray(e)&&!(e.length<2))return t.annot.moveTo({left:e[0],top:e[1],action:"move"})}))}))}}]),n}(Ww),Kw=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"type",get:function(){return"FreeText"}},{key:"alignment",get:function(){return this.annot?this.annot.getInfo().justification:this.annotData.alignment},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){return t.annot.setAlignment(e)}))}))}},{key:"callout",get:function(){if(!this.annot)return this.annotData.callout;var e=this.annot.getCalloutLinePoints(),t=[];return e.map((function(e){t.push(e.x,e.y)})),t},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=Bk(e);return t.annot.setCalloutLinePoints(n)}))}))}},{key:"dash",get:function(){return this.annot?this.annot.getBorderInfo().dashes:this.annotData.dash},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){if(Array.isArray(e))return t.annot.setBorderStyle(1,e)}))}))}},{key:"fillColor",get:function(){if(!this.annot)return this.annotData.fillColor;var e=this.annot.getFillColor();return(0,W.convertFromNumberToJSColor)(e)},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=(0,W.colorConvertor)(e,"int",0);return t.annot.setFillColor(n)}))}))}},{key:"lineEnding",get:function(){if(!this.annot)return this.annotData.lineEnding;var e=this.annot.getCalloutLineEndingStyle();return ve[e]},set:function(e){var t=this;e||(e="None"),Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=ge[e];return t.annot.setCalloutLineEndingStyle(n)}))}))}},{key:"richDefaults",get:function(){},set:function(e){}},{key:"rotate",get:function(){if(!this.annot)return this.annotData.rotate;var e=360-this.annot.getRotation();return 360===e&&(e=0),e},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=0;return 0!==e&&(n=360-e),t.annot.setRotation(n)}))}))}},{key:"textFont",get:function(){},set:function(e){}},{key:"textSize",get:function(){return this.annot?this.annot.getDefaultAppearance().textSize:this.annotData.textSize},set:function(e){var t=this;return Sw((function(i){(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=t.annot.getDefaultAppearance();return n.textSize=e,t.annot.setDefaultAppearance(n).then((function(e){}))}))}))}},{key:"width",get:function(){return this.annot?this.annot.getBorderWidth():this.annotData.width||1},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){return t.annot.setBorderWidth(e)}))}))}}]),n}(Ww),Zw=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"type",get:function(){return"Highlight"}},{key:"quads",get:function(){if(!this.annot)return this.annotData.quads;var e=this.annot.getQuadPoints(),t=[];return e.map((function(e){e.map((function(e){t.push(e.x,e.y)}))})),t},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=jk(e);return t.annot.setRect(n)}))}))}}]),n}(Ww),Xw=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"type",get:function(){return"Ink"}},{key:"dash",get:function(){return this.annot?this.annot.getBorderInfo().dashes:this.annotData.dash},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){if(Array.isArray(e))return t.annot.setBorderStyle(1,e)}))}))}},{key:"gestures",get:function(){if(!this.annot)return this.annotData.gestures;var e,t=this.annot.getInkList(),n=[];return t.map((function(t){1===t.type&&(e=[],n.push(e)),e.push([t.x,t.y])})),n},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=Ok(e);return t.annot.setInkList(n)}))}))}},{key:"width",get:function(){return this.annot?this.annot.getBorderWidth():annotData.width||0},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){return t.annot.setBorderWidth(e)}))}))}}]),n}(Ww),Qw=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"type",get:function(){return"Line"}},{key:"arrowBegin",get:function(){if(!this.annot)return this.annotData.arrowBegin;var e=this.annot.getStartStyle();return ve[e]},set:function(e){var t=this;e||(e="None"),Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=ge[e];return t.annot.setEndingStyle(!0,n)}))}))}},{key:"arrowEnd",get:function(){if(!this.annot)return this.annotData.arrowEnd;var e=this.annot.getEndingStyle();return ve[e]},set:function(e){var t=this;e||(e="None"),Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=ge[e];return t.annot.setEndingStyle(!1,n)}))}))}},{key:"dash",get:function(){return this.annot?this.annot.getBorderInfo().dashes:this.annotData.dash},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){if(Array.isArray(e))return t.annot.setBorderStyle(1,e)}))}))}},{key:"doCaption",get:function(){return this.annot?this.annot.hasCaption():this.annotData.doCaption},set:function(e){var t=this;Sw((function(n){return t.annot.enableCaption(e)}))}},{key:"fillColor",get:function(){if(!this.annot)return this.annotData.fillColor;var e=this.annot.getStyleFillColor();return(0,W.convertFromNumberToJSColor)(e)},set:function(e){var t=this;Sw((function(n){return t._delayOrExec((function(){var n=(0,W.colorConvertor)(e,"int",0);return t.annot.setStyleFillColor(n)}))}))}},{key:"leaderExtend",get:function(){return this.annot?this.annot.getLeaderLineExtend():this.annotData.leaderExtend},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){return t.annot.setLeaderLineExtend(e)}))}))}},{key:"leaderLength",get:function(){return this.annot?this.annot.getLeaderLineLength():this.annotData.leaderLength},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){return t.annot.setLeaderLineLength(e)}))}))}},{key:"width",get:function(){return this.annot?this.annot.getBorderWidth():this.annotData.width},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){return t.annot.setBorderWidth(e)}))}))}}]),n}(Ww);const ek=Qw;var tk=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"type",get:function(){return"PolyLine"}},{key:"arrowBegin",get:function(){if(!this.annot)return this.annotData.arrowBegin;var e=this.annot.getStartStyle();return ve[e]},set:function(e){var t=this;e||(e="None"),Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=ge[e];return t.annot.setEndingStyle(!0,n)}))}))}},{key:"arrowEnd",get:function(){if(!this.annot)return this.annotData.arrowEnd;var e=this.annot.getEndingStyle();return ve[e]},set:function(e){var t=this;e||(e="None"),Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(n){var i=ge[e];return t.annot.setEndingStyle(!1,i)}))}))}},{key:"dash",get:function(){return this.annot?this.annot.getBorderInfo().dashes:this.annotData.dash},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){if(Array.isArray(e))return t.annot.setBorderStyle(1,e)}))}))}},{key:"fillColor",get:function(){if(!this.annot)return this.annotData.fillColor;var e=this.annot.getFillColor();return(0,W.convertFromNumberToJSColor)(e)},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=(0,W.colorConvertor)(e,"int",0);return t.annot.setFillColor(n)}))}))}},{key:"vertices",get:function(){if(!this.annot)return this.annotData.vertices;var e=this.annot.getVertexes(),t=[];return e.map((function(e){t.push(e.x,e.y)})),t},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=Bk(e);return t.annot.setVertexes(n)}))}))}}]),n}(Ww),nk=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"type",get:function(){return"Polygon"}},{key:"dash",get:function(){return this.annot?this.annot.getBorderInfo().dashes:this.annotData.dash},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){if(Array.isArray(e))return t.annot.setBorderStyle(1,e)}))}))}},{key:"fillColor",get:function(){if(!this.annot)return this.annotData.fillColor;var e=this.annot.getFillColor();return(0,W.convertFromNumberToJSColor)(e)},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=(0,W.colorConvertor)(e,"int",0);return t.annot.setFillColor(n)}))}))}},{key:"vertices",get:function(){if(!this.annot)return this.annotData.vertices;var e=this.annot.getVertexes(),t=[];return e.map((function(e){t.push(e.x,e.y)})),t},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=Bk(e);return t.annot.setVertexes(n)}))}))}}]),n}(Ww),ik=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"type",get:function(){return"Sound"}},{key:"point",get:function(){if(!this.annot)return this.annotData.point;var e=this.annot.getRect();return[e.left,e.top]},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){if(e&&Array.isArray(e)&&!(e.length<2))return t.annot.moveTo({left:e[0],top:e[1],action:"move"})}))}))}},{key:"soundIcon",get:function(){},set:function(e){}}]),n}(Ww),rk=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"type",get:function(){return"Square"}},{key:"dash",get:function(){return this.annot?this.annot.getBorderInfo().dashes:this.annotData.dash},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){if(Array.isArray(e))return t.annot.setBorderStyle(1,e)}))}))}},{key:"fillColor",get:function(){if(!this.annot)return this.annotData.fillColor;var e=this.annot.getFillColor();return(0,W.convertFromNumberToJSColor)(e)},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=(0,W.colorConvertor)(e,"int",0);return t.annot.setFillColor(n)}))}))}},{key:"width",get:function(){return this.annot,this.annot.getBorderWidth()},set:function(e){var t=this;return Sw((function(i){(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){return t.annot.setBorderWidth(e)}))}))}}]),n}(Ww),ok=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"type",get:function(){return"Squiggly"}},{key:"quads",get:function(){if(!this.annot)return this.annotData.quads;var e=this.annot.getQuadPoints(),t=[];return e.map((function(e){e.map((function(e){t.push(e.x,e.y)}))})),t},set:function(e){var t=this;return Sw((function(i){(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=jk(e);return t.annot.setRect(n)}))}))}}]),n}(Ww),ak={Approved:"Approved",AsIs:"AsIs",Confidential:"Confidential",Departmental:"Departmental",Draft:"Draft",Experimental:"Experimental",Expired:"Expired",Final:"Final",ForComment:"ForComment",ForPublicRelease:"ForPublicRelease",NotApproved:"NotApproved",NotForPublicRelease:"NotForPublicRelease",Sold:"Sold",TopSecret:"TopSecret"},sk=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"type",get:function(){return"Stamp"}},{key:"AP",get:function(){if(!this.annot)return this.annotData.AP;var e=this.annot.getIconName();if(e&&"#"===e[0]){var t=e.substr(1);(t=ak[t])&&(e=t)}return e},set:function(e){}}]),n}(Ww),ck=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"type",get:function(){return"StrikeOut"}},{key:"quads",get:function(){if(!this.annot)return this.annotData.quads;var e=this.annot.getQuadPoints(),t=[];return e.map((function(e){e.map((function(e){t.push(e.x,e.y)}))})),t},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=jk(e);return t.annot.setRect(n)}))}))}}]),n}(Ww),uk=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),(o=t.call(this,e,i,r)).stateModelValue="Review",o}return(0,D._)(n,[{key:"type",get:function(){return"Text"}},{key:"noteIcon",get:function(){return this.annot?this.annot.getIconName():this.annotData.noteIcon||"Note"},set:function(e){var t=this;e||(e="Note"),Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){return t.annot.setIconName(e).then((function(e){}))}))}))}},{key:"point",get:function(){if(!this.annot)return this.annotData.point;var e=this.annot.getRect();return[e.left,e.top]},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){if(e&&Array.isArray(e)&&!(e.length<2))return t.annot.moveTo({left:e[0],top:e[1],action:"move"})}))}))}},{key:"state",get:function(){return this.annot?"Marked"===this.stateModel?this.annot.getMarkedState(0):this.annot.getReviewState(0):this.annotData.state},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){if("Review"===t.stateModelValue){switch(e){case"accepted":case"rejected":case"cancelled":case"completed":case"none":break;default:e="none"}return t.annot.addReviewState(e)}if("Marked"===t.stateModelValue)return"marked"!==e&&"unmarked"!==e&&(e="unmarked"),t.annot.addMarkedState(e)}))}))}},{key:"stateModel",get:function(){return this.stateModelValue},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){return"Marked"!==e&&"Review"!==e&&(e="Review"),t.stateModelValue=e}))}))}}]),n}(Ww),lk=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"type",get:function(){return"Underline"}},{key:"quads",get:function(){if(!this.annot)return this.annotData.quads;var e=this.annot.getQuadPoints(),t=[];return e.map((function(e){e.map((function(e){t.push(e.x,e.y)}))})),t},set:function(e){var t=this;Sw((function(i){return(0,E._)((0,S._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=jk(e);return t.annot.setRect(n)}))}))}}]),n}(Ww),Ak=function(){function e(t,n,i){(0,C._)(this,e),this.annot=t,this.annotData=n,this.app=i}return(0,D._)(e,[{key:"activated",get:function(){return!this.annot&&this.annotData.activated}},{key:"context3D",get:function(){this.activated}},{key:"innerRect",get:function(){}},{key:"name",get:function(){return this.annot?this.annot.getName():this.annotData.name}},{key:"page",get:function(){return this.annot?this.annot.getPage().getIndex():this.annotData.page}},{key:"rect",get:function(){if(!this.annot)return this.annotData.rect;var e=this.annot.getRect(),t=e.left,n=e.right,i=e.top;return[t,e.bottom,n,i]}}]),e}(),dk=function(e,t,n){var i=e.getEvent();if(!i.isSensitiveCheck){var r=i.target.valueAsString;if(i.param.value&&(r=i.param.value),""!=r){var o=_k(r,n);if(!r||!o){i.rc=!1;var a=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return a+=' "'.concat(n,'" '),void t.alertAsync(a)}var s=yk(r,n);if(!s){i.rc=!1;var c=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return c+=' "'.concat(n,'" '),void t.alert(c)}i.value=mk(n,s),i.rc=!0}}},hk=function(e,t,n,i,r,o,a,s){var c=e.getEvent(),u=i;if((u<0||u>3)&&(u=0),c.value){var l=c.value;if(!/^[0-9\.\-]+$/.test(l)){c.rc=!1;var A=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return A+=' "Number" ',void t.alertAsync(A)}var d=c.change,h=l;if(c.willCommit){var f=h.trimLeft();if(0==f.length){c.rc=!0;var p=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return p+=' "Number" ',void t.alertAsync(p)}var v=f;if(v=v.replace(/,/g,"."),!/^[0-9\.\-]+$/.test(v)){var g=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return g+=' "Number" ',t.alert(g),void(c.rc=!1)}c.rc=!0}else{var m=h,y=d||"",_=".";switch(u){case 0:case 1:_=".";break;case 2:case 3:_=","}for(var b=-1!=m.indexOf(_),w=0;w<y.length;w++)if(y[w]!=_)if("-"!=y[w]){if(!/[0-9\.]/.test(y[w]))return void(c.rc=!1)}else{if(bHasSign)return void(c.rc=!1);if(0!=w)return void(c.rc=!1);if(0!=c.selStart)return void(c.rc=!1);bHasSign=!0}else{if(b){c.rc=!1;var k=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return k+=' "Number" ',void t.alertAsync(k)}b=!0}var x,P=m.substr(0,c.selStart);c.selEnd<m.length&&(x=m.substr(c.selEnd)||""),l=h=m=P+y+x,c.rc=!0}}else c.rc=!0};function fk(e,t,n,i){var r=".",o=",",a="";switch(n){case 0:break;case 1:o="";break;case 2:r=",",o=".";break;case 3:r=",",o="";break;case 4:r=",",o=" "}var s=e.length%3;a=e.substr(0,s);for(var c=s;c<e.length;c+=3)0!==a.length&&(a+=o),a+=e.substr(c,3);if(i>0){for(t=t.substring(0,i);t.length<i;)t+="0";a=a+r+t}return a}function pk(e){var t=e.toString().split(".",2);return null==t||t.length<2?(t=null,0):t[1].length}var vk="January[1]February[2]March[3]April[4]May[5]June[6]July[7]August[8]September[9]October[10]November[11]December[12]Jan[1]Feb[2]Mar[3]Apr[4]Jun[6]Jul[7]Aug[8]Sep[9]Oct[10]Nov[11]Dec[12]";function gk(e){var t=new RegExp("(\\w+)\\["+e+"\\]").exec(vk);return t?t[1]:null}var mk=function(e,t){e=e.replace(/%/g,"%69");var n=[],i=t.getFullYear().toString();i="0000"+i,e=(e=e.replace(/([^y])y{4}(?!y)|(^)y{4}(?!y)/g,"$1"+i.substr(i.length-4,4))).replace(/([^y])y{2}(?!y)|(^)y{2}(?!y)/g,"$1"+i.substr(i.length-2,2)),i=gk(t.getMonth()+1),n["%mmmm"]=i,e=e.replace(/([^m])m{4}(?!m)|(^)m{4}(?!m)/g,"$1%mmmm"),n["%mmm"]=i.substr(0,3),e=(e=e.replace(/([^m])m{3}(?!m)|(^)m{3}(?!m)/g,"$1%mmm")).replace(/([^m])m{1}(?!m)|(^)m{1}(?!m)/g,"$1"+(t.getMonth()+1)),1===(i=(t.getMonth()+1).toString()).length&&(i="0"+i),e=e.replace(/([^m])m{2}(?!m)|(^)m{2}(?!m)/g,"$1"+i),i=function(e){var t=new RegExp("(\\w+)\\["+e+"\\]").exec("Sunday[0]Monday[1]Tuesday[2]Wednesday[3]Thursday[4]Friday[5]Saturday[6]");return t?t[1]:null}(t.getDay()),n["%dddd"]=i,e=e.replace(/([^d])d{4}(?!d)|(^)d{4}(?!d)/g,"$1%dddd"),n["%ddd"]=i.substr(0,3),e=(e=e.replace(/([^d])d{3}(?!d)|(^)d{3}(?!d)/g,"$1%ddd")).replace(/([^d])d{1}(?!d)|(^)d{1}(?!d)/g,"$1"+t.getDate()),1===(i=t.getDate().toString()).length&&(i="0"+i),e=(e=e.replace(/([^d])d{2}(?!d)|(^)d{2}(?!d)/g,"$1"+i)).replace(/([^H])H{1}(?!H)|(^)H{1}(?!H)/g,"$1"+t.getHours()),1===(i=t.getHours().toString()).length&&(i="0"+i),e=e.replace(/([^H])H{2}(?!H)|(^)H{2}(?!H)/g,"$1"+i);var r=t.getHours()>12?t.getHours()-12:t.getHours();return 0==r&&(r=12),e=e.replace(/([^h])h{1}(?!h)|(^)h{1}(?!h)/g,"$1"+r),1===(i=r.toString()).length&&(i="0"+i),e=(e=e.replace(/([^h])h{2}(?!h)|(^)h{2}(?!h)/g,"$1"+i)).replace(/([^M])M{1}(?!M)|(^)M{1}(?!M)/g,"$1"+t.getMinutes()),1===(i=t.getMinutes().toString()).length&&(i="0"+i),e=(e=e.replace(/([^M])M{2}(?!M)|(^)M{2}(?!M)/g,"$1"+i)).replace(/([^s])s{1}(?!s)|(^)s{1}(?!s)/g,"$1"+t.getSeconds()),1===(i=t.getSeconds().toString()).length&&(i="0"+i),e=e.replace(/([^s])s{2}(?!s)|(^)s{2}(?!s)/g,"$1"+i),i=function(e){return e>11?"PM":"AM"}(t.getHours()),e=e.replace(/([^t])t{2}(?!t)|(^)t{2}(?!t)/g,"$1"+i),1===i.length&&(i=i.charAt(0)),e=(e=(e=(e=(e=e.replace(/([^t])t{1}(?!t)|(^)t{1}(?!t)/g,"$1"+i)).replace(/%mmmm/g,n["%mmmm"])).replace(/%mmm/g,n["%mmm"])).replace(/%dddd/g,n["%dddd"])).replace(/%ddd/g,n["%ddd"]),n=null,e=e.replace(/%69/g,"%")},yk=function(e,t){return _k(e,t)};function _k(e,t){var n=function(e,t){var n=new Date,i=n.getFullYear(),r=n.getMonth()+1,o=n.getDate(),a=0,s=0,c=0,u=99,l="",A=!1,d=!1,h=["/","-",",","."],f=["/","-",",","."],p=function(e,t){for(var n=function(n,i){var r=e.charAt(n);if(t){var o=f.find((function(e){return e==r}));if(void 0!==o)return{v:!0}}else{var a=h.find((function(e){return e==r}));if(void 0!==a)return{v:!0}}},i=0,r=e.length;i<r;i++){var o=n(i,r);if("object"===(0,F._)(o))return o.v}return!1},v=function(e,t){var n=e;if(t){var i=!0,r=!1,o=void 0;try{for(var a,s=f[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var c=a.value,u=new RegExp("\\"+c,"g");n=n.replace(u,"")}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}else{var l=!0,A=!1,d=void 0;try{for(var p,v=h[Symbol.iterator]();!(l=(p=v.next()).done);l=!0){var g=p.value;u=new RegExp("\\"+g,"g");n=n.replace(u,"")}}catch(e){A=!0,d=e}finally{try{l||null==v.return||v.return()}finally{if(A)throw d}}}return n},g=p(t,!1),m=p(e,!0);g&&!m?t=v(t,!1):!g&&m&&(e=v(e,!0));var y=0,_=0;for(;y<t.length&&!A;){var b=t.charAt(y);switch(b){case"y":case"m":case"d":case"H":case"h":case"M":case"s":case"t":var w=_,k=0,x=null;if(t.charAt(y+1)!==b)switch(b){case"y":y++,_++;break;case"m":r=(x=wk(e,_,2)).nRet,y++,_+=k=x.nSkip;break;case"d":o=(x=wk(e,_,2)).nRet,y++,_+=k=x.nSkip;break;case"H":case"h":a=(x=wk(e,_,2)).nRet,y++,_+=k=x.nSkip;break;case"M":s=(x=wk(e,_,2)).nRet,y++,_+=k=x.nSkip;break;case"s":c=(x=wk(e,_,2)).nRet,y++,_+=k=x.nSkip;break;case"t":l="p"===e.charAt(y)||"P"==e.charAt(y),y++,_++}else if(t.charAt(y+1)===b&&t.charAt(y+2)!==b)switch(b){case"y":i=(x=wk(e,_,4)).nRet,y+=2,_+=k=x.nSkip;break;case"m":x=wk(e,_,2),0!=a?s=x.nRet:r=x.nRet,y+=2,_+=k=x.nSkip;break;case"d":x=wk(e,_,2),(y+=2)>=t.length&&(x=wk(e,_,4)),o=x.nRet,_+=k=x.nSkip;break;case"H":case"h":a=(x=wk(e,_,2)).nRet,y+=2,_+=k=x.nSkip;break;case"M":s=(x=wk(e,_,2)).nRet,y+=2,_+=k=x.nSkip;break;case"s":c=(x=wk(e,_,2)).nRet,y+=2,_+=k=x.nSkip;break;case"t":l=!("p"!==e.charAt(_)&&"P"!=e.charAt(_)||"m"!==e.charAt(_+1)&&"M"!==e.charAt(_+1)),y+=2,_+=2}else if(t.charAt(y+1)===b&&t.charAt(y+2)===b&&t.charAt(y+3)!==b)switch(b){case"m":k=(x=kk(e,_)).nSkip;for(var P=x.swRet,C=!1,D=0;D<12;D++)if(P.toLowerCase()===gk(D+1).substr(0,3).toLowerCase()){r=D+1,y+=3,_+=k,C=!0;break}C||(r=(x=wk(e,_,3)).nRet,y+=3,_+=k=x.nSkip);break;case"y":break;default:y+=3,_+=3}else if(t.charAt(y+1)===b&&t.charAt(y+2)===b&&t.charAt(y+3)===b&&t.charAt(y+4)!==b)switch(b){case"y":i=(x=wk(e,_,4)).nRet,_+=k=x.nSkip,y+=4,i<100&&(i=-1,d=!0);break;case"m":C=!1;k=(x=kk(e,_)).nSkip,P=(P=x.swRet).toLowerCase();for(D=0;D<12;D++){var E=gk(D+1);if((E=E.toLowerCase()).indexOf(P,0)>=0){r=D+1,y+=4,_+=k,C=!0;break}}C||(r=(x=wk(e,_,4)).nRet,y+=4,_+=k=x.nSkip);break;default:y+=4,_+=4}else t.charAt(y)!==e.charAt(_)&&(d=!0,A=!0),y++,_++;w===_&&(d=!0,A=!0);break;default:if(e.length<=_)A=!0;else{var S=bk(t.charAt(y)),I=bk(e.charAt(_));(S&&!I||!S&&I)&&(d=!0,A=!0)}y++,_++}}l&&a<12&&(a+=12);!1===l&&12==a&&(a=0);i>=0&&i<=u&&(i+=2e3);(r<1||r>12)&&(d=!0);(o<1||o>31)&&(d=!0);(a<0||a>23)&&(d=!0);(s<0||s>60)&&(d=!0);(c<0||c>60)&&(d=!0);if(!d)return 2!=r||29!=o||t.match(/y/)||(i&=1048572),new Date(i,r-1,o,a,s,c);return null}(e,t);return null==n&&(n=function(e){for(var t=new Date,n=t.getFullYear(),i=t.getMonth()+1,r=t.getDate(),o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),c=[],u=0;u<6;u++)c[u]=0;var l=!1,A=0,d=0,h=e.length;for(;d<h&&!(A>5);){var f=e.charAt(d);if(bk(f)){var p=wk(e,d,4);c[A++]=p.nRet,d+=p.nSkip}else":"===f&&(l=!0),d++}var v=!0;if(l){if(A<=3)(g=Pk(A,c[0],c[1],c[2],o,a,s))&&(o=g.h,a=g.M,s=g.s,v=!1);else if(4===A){(g=xk(2,c[0],c[1],0,n,i,r))&&(n=g.y,i=g.m,r=g.d,(g=Pk(2,c[2],c[3],0,o,a,s))&&(o=g.h,a=g.M,s=g.s,v=!1))}else if(5===A){if((g=xk(3,c[0],c[1],c[2],n,i,r))&&(n=g.y,i=g.m,r=g.d,(g=Pk(2,c[3],c[4],0,o,a,s))&&(o=g.h,a=g.M,s=g.s,v=!1)),v)(g=xk(2,c[0],c[1],0,n,i,r))&&(n=g.y,i=g.m,r=g.d,(g=Pk(3,c[2],c[3],c[4],o,a,s))&&(o=g.h,a=g.M,s=g.s,v=!1))}else if(6===A){(g=xk(3,c[0],c[1],c[2],n,i,r))&&(n=g.y,i=g.m,r=g.d,(g=Pk(3,c[3],c[4],c[5],o,a,s))&&(o=g.h,a=g.M,s=g.s,v=!1))}}if(v){var g;(g=xk(A,c[0],c[1],c[2],n,i,r))&&(n=g.y,i=g.m,r=g.d,v=A>3)}if(v)return null;return new Date(n,i-1,r,o,a,s)}(e)),n}function bk(e){return e>="0"&&e<="9"}function wk(e,t,n){var i=[];i.nRet=0,i.nSkip=0;for(var r=t,o=e.length;r<o&&!(r-t>10);r++){var a=e.charAt(r);if(!bk(a))break;if(i.nRet=10*i.nRet+(a-"0"),i.nSkip=r-t+1,i.nSkip>=n)break}return i}function kk(e,t){var n=[];n.swRet="",n.nSkip=0;for(var i=t,r=e.length;i<r;i++){var o=e.charAt(i);if(!(o>="a"&&o<="z"||o>="A"&&o<="Z"))break;n.swRet+=o,n.nSkip=i-t+1}return n}function xk(e,t,n,i,r,o,a){var s=[];if(s.y=r,s.m=o,s.d=a,2===e){if(t>=1&&t<=12&&n>=1&&n<=31)return s.m=t,s.d=n,s;if(t>=1&&t<=31&&n>=1&&n<=12)return s.m=n,s.d=t,s}else if(e>=3){if(t>12&&n>=1&&n<=12&&i>=1&&i<=31)return s.y=t,s.m=n,s.d=i,s;if(t>=1&&t<=12&&n>=1&&n<=31&&i>31)return s.y=i,s.m=t,s.d=n,s;if(t>=1&&t<=31&&n>=1&&n<=12&&i>31)return s.y=i,s.m=n,s.d=t,s}return null}function Pk(e,t,n,i,r,o,a){var s=[];if(s.h=r,s.M=o,s.s=a,2===e){if(t>=0&&t<=23&&n>=0&&n<=59)return s.h=t,s.M=n,s.s=0,s}else if(3===e&&t>=0&&t<=23&&n>=0&&n<=59&&i>=0&&i<=59)return s.h=t,s.M=n,s.s=i,s;return null}var Ck=function(e,t,n){for(var i="",r=0,o=0;o<t.length;o++)switch(t[o]){case"9":for(;r<e.length;){var a=r;if(r++,e[a]>="0"&&e[a]<="9"){i+=e[a];break}}if(r>=e.length&&n)return i;break;case"A":if(!(r<e.length))return i;i+=e[r++];break;case"O":var s=r;if(r++,e[s].match(/[0-9a-zA-Z]/)&&(i+=e[s]),r>=e.length&&n)return i;break;case"X":i+=e[r++];break;default:i+=t[o],t[o]==e[r]&&r++}return i},Dk=function(e,t){switch(t){case"9":var n=parseInt(e);return 0<=n&&n<=9;case"A":return/[a-zA-Z]/.test(e);case"O":var i=parseInt(e);return 0<=i&&i<=9||/[a-zA-Z]/.test(e);case"X":case" ":return!0;default:return e===t}},Ek=function(e,t,n){var i=e.getEvent(),r=i.value;if(0!=r.length){var o=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");if(o+=' "'+n+'" ',i.willCommit){if(r.length>n.length)return i.rc=!1,void t.alertAsync(o);var a=0;if((r=Ck(r,n,!0)).length==n.length)for(var s=0;s<r.length&&Dk(r[s],n[a]);s++)a++;return a!=n.length||a!=r.length&&n.length>0?(i.rc=!1,void t.alertAsync(o)):(i.change=r,r)}var c=i.change;if(c&&0!=c.length){var u;i.selStart;if((u=i.selStart<i.selEnd?r.replace(r.substr(i.selStart,i.selEnd),c):r.substr(0,i.selStart)+c+r.substr(i.selEnd)).length>n.length){var l=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return l+=' "'+n+'" ',t.alert(l),void(i.rc=!1)}var A=Ck(u,n);if(A.length>n.length){i.rc=!1;var d=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return d+=' "'+n+'" ',void t.alertAsync(d)}return i.rc=!0,A}i.rc=!0}else i.rc=!0};const Sk={AFSimple_Calculate:function(e,t,n){var i=e.getEvent();if(!i.isSensitiveCheck){var r="",o=0,a=NaN;switch(t){case"AVG":for(var s=0;s<n.length;s++){var c=parseFloat(e.getFieldValue(n[s]));if(!isNaN(c)){var u=pk(c);o=o>u?o:u,isNaN(a)&&(a=0),a+=c}}r=isNaN(a)?"0":a/n.length;break;case"SUM":for(var l=0;l<n.length;l++){var A=parseFloat(e.getFieldValue(n[l]));if(!isNaN(A)){var d=pk(A);o=o>d?o:d,isNaN(a)&&(a=0),a+=A,a=+parseFloat(a.toPrecision(12))}}r=isNaN(a)?"0":a;break;case"PRD":for(var h=NaN,f=0;f<n.length;f++){var p=parseFloat(e.getFieldValue(n[f]));isNaN(p)&&(p=0);var v=pk(p);o=o>v?o:v,isNaN(h)&&(h=1),h*=p}r=isNaN(h)?"0":h;break;case"MIN":for(var g=NaN,m=0;m<n.length;m++){var y=parseFloat(e.getFieldValue(n[m]));if(!isNaN(y)){var _=pk(y);o=o>_?o:_,isNaN(g)&&(g=y),g>y&&(g=y)}}r=isNaN(g)?"0":g;break;case"MAX":for(var b=NaN,w=0;w<n.length;w++){var k=parseFloat(e.getFieldValue(n[w]));if(!isNaN(k)){var x=pk(k);o=o>x?o:x,isNaN(b)&&(b=k),b<k&&(b=k)}}r=isNaN(b)?"0":b}i.valueSetted=!0,i.value=r,i.rc=!0}},AFRange_Validate:function(e,t,n,i,r,o){var a=e.getEvent();if(!a.isSensitiveCheck){var s,c=a.target,u="",l=a.value;s=parseFloat(l),isNaN(s)?a.value=c.value:(n&&r?(s<i||s>o)&&(u="Value should be greater than "+i+" and less than "+o+"."):n?s<i&&(u="Value should be greater than "+i+"."):r&&s>o&&(u="Value should be less than "+o+"."),""!==u?(t.alert(u),a.value=c.value,a.rc=!1):a.rc=!0)}},AFNumber_Format:function(e,t,n,i,r,o,a,s){var c=e.getEvent();if(!c.isSensitiveCheck){var u=c.value;if((c.param.value||0===c.param.value)&&(u=c.param.value),""!==u){if(isNaN(u)){c.value="",c.rc=!1;var l=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return l+=' "Number" ',void t.alertAsync(l)}var A=(u=parseFloat(u))<0?-1:1;if(isNaN(u)){c.value=u,c.rc=!1;var d=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return d+=' "Number" ',void t.alertAsync(d)}var h="";h=(2===r||3===r)&&A<0?"(":"",s&&(h+=a);var f=(u*=A).toString().split(".",2),p=f[0],v="";f.length>1&&(v=f[1]),h+=fk(p,v,i,n),s||(h+=a),(2===r||3===r)&&A<0&&(h+=")"),(0!==r||s)&&(u=Math.abs(u)),1!==r&&3!==r||(A<0?c.engineTarget.setDAFontColor(["RGB",1,0,0]):c.engineTarget.setDAFontColor(["RGB",0,0,0])),A<0&&0===r&&(h="-"+h),c.value=h,c.rc=!0}else c.value=""}},AFTime_Format:function(e,t,n){if("number"==typeof(n=["HH:MM","h:MM tt","HH:MM:ss","h:MM:ss tt"][n])){var i=n;n=i>=0&&i<cFormat.length?cFormat[i]:""}dk(e,t,n)},AFTime_FormatEx:dk,AFDate_FormatEx:function(e,t,n){var i=e.getEvent();if(i.format=n,!i.isSensitiveCheck){n&&0!=n.length||(n="mm/dd/yyyy");var r=i.target.valueAsString;if(i.param.value&&(r=i.param.value),""!=r){if(!r){i.rc=!1;var o=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return o+=' "'.concat(n,'" '),void t.alertAsync(o)}var a=yk(r,n);if(!a){i.rc=!1;var s=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return s+=' "'.concat(n,'" '),void t.alert(s)}i.value=mk(n,a),i.rc=!0}}},AFPercent_Format:function(e,t,n,i){var r=e.getEvent();if(!r.isSensitiveCheck){var o=r.target.value;if(o&&""!=o){if(o=parseFloat(100*o),isNaN(o)){r.value=r.target.value,r.rc=!0;var a=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return a+=' "Percentage" ',void t.alertAsync(a)}var s=o.toString().split(".",2),c=s[0],u="";s.length>1&&(u=s[1]);var l=fk(c,u,i,n)+"%";r.value=l,r.rc=!0}}},AFMergeChange:function(e){var t,n,i=e.value;return e.willCommit?e.value:(t=e.selStart>=0?i.substring(0,e.selStart):"",n=e.selEnd>=0&&e.selEnd<=i.length?i.substring(e.selEnd,i.length):"",t+e.change+n)},AFNumber_Keystroke:hk,AFParseDateEx:yk,AFMakeNumber:function(e){return parseFloat(e)||0},AFDate_KeystrokeEx:function(e,t,n){var i=e.getEvent();if(!i.isSensitiveCheck){var r=i.target.valueAsString;if(r){var o=yk(r,n);if(!o){i.rc=!1;var a=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return a+=' "'.concat(n,'" '),void t.alertAsync(a)}i.value=mk(n,o),i.rc=!0}else i.rc=!0}},AFSpecial_Format:function(e,t,n){var i=e.getEvent(),r=i.value;if(!r||r.length<1)i.rc=!0;else{var o;switch(r=""+r,n){case 0:o="99999";break;case 1:o="99999-9999";break;case 2:o=r.length>=10?"(999) 999-9999":"999-9999";break;case 3:o="999-99-9999"}var a=Ck(r,o);if(a.length!=o.length){i.rc=!1;var s=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return s+=' "'.concat(o,'" '),void t.alertAsync(s)}i.value=a,i.rc=!0}},FXFormatDate:mk,AFSpecial_Keystroke:function(e,t,n){var i=e.getEvent(),r=i.value;if(!(r.length<1)){var o,a=i.change;switch(n){case 0:o="99999";break;case 1:case 3:o="999999999";break;case 2:var s=r;if(0==s.length&&0==a.length)return void(i.rc=!0);if(i.willCommit){var c=s.match(/^(\(\d{3}\)\s?)?\d{3}-?\d{4}$|^(\d{3}\s?)?\d{3}-?\d{4}$/);if(i.rc=!!c,!c){var u=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");u+=' "/^((d{3})s?)?d{3}-?d{4}$|^(d{3}s?)?d{3}-?d{4}$/" ',t.alert(u)}return}var l=i.selStart,A=i.selEnd;if(A<0&&(A=strSrc.length-1),(s=s.substr(0,l)+a+s.substr(A)).length-14>0)return void(i.rc=!1);var d=s.match(/^\(?\d*\)?\s?\d*-?\d*$/);return void(i.rc=!!d)}return Ek(e,t,o)}i.rc=!0},AFPercent_Keystroke:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return hk.apply(void 0,(0,M._)(t))},AFSpecial_KeystrokeEx:function(e,t,n){var i=e.getEvent(),r=Ek(e,t,n);void 0!==r&&(i.target.value=r)},ANSB_None:0,ANSB_Page:1,ANSB_Author:2,ANSB_ModDate:3,ANSB_Type:4,ANFB_ShouldNone:7,ANFB_ShouldPrint:0,ANFB_ShouldView:1,ANFB_ShouldEdit:2,ANFB_ShouldAppearInPanel:3,ANFB_ShouldSummarize:4,ANFB_ShouldExport:5};var Ik=Sk.ANSB_Author,Tk=Sk.ANSB_ModDate,Rk=Sk.ANSB_Type,Mk=Sk.ANFB_ShouldPrint,Fk=Sk.ANFB_ShouldView,Nk=Sk.ANFB_ShouldEdit,Lk={line:ek,circle:$w,square:rk,highlight:Zw,squiggly:ok,underline:lk,strikeout:ck,freetext:Kw,caret:Yw,ink:Xw,stamp:sk,polyline:tk,polygon:nk,text:uk,fileattachment:qw,sound:ik,"3d":Ak},Ok=function(e){var t=[];return e.map((function(e){var n=e[0];if(Array.isArray(n))e.map((function(e,n){var i={};i.type=0===n?1:2,i.x=e[0],i.y=e[1],t.push(i)}));else for(var i=Math.floor(e.length/2),r=e,o=0;o<i;o++){var a=r.slice(2*o,2*o+2),s={};s.type=0===o?1:2,s.x=a[0],s.y=a[1],t.push(s)}})),t},jk=function(e){for(var t,n,i,r,o=Math.floor(e.length/2),a=[],s=[],c=e,u=0;u<2*o;u++)[u]%2==0?s.push(c[u]):a.push(c[u]);return{left:(t=Math).min.apply(t,(0,M._)(s)),bottom:(n=Math).min.apply(n,(0,M._)(a)),right:(i=Math).max.apply(i,(0,M._)(s)),top:(r=Math).max.apply(r,(0,M._)(a))}},Bk=function(e){for(var t=[],n=Math.floor(e.length/2),i=e,r=0;r<n;r++){var o=i.slice(2*r,2*r+2);t.push({x:o[0],y:o[1]})}return t},Vk=function(){function e(t){(0,C._)(this,e),this.pdfViewer=t}return(0,D._)(e,[{key:"getAnnotClass",value:function(e){var t=Lk[e];return t||Hw}},{key:"getAnnots",value:function(e,t,n,i){var r;return r=t===Mk?e.filter((function(e){return e.print})):t===Fk?e.filter((function(e){return!e.noView})):t===Nk?e.filter((function(e){return!e.readOnly})):(0,M._)(e),n===Ik?r.sort((function(e,t){var n=e.author,i=t.author;return n.localeCompare(i)})):n===Tk&&r.sort((function(e,t){var n=e.modDate,i=t.modDate;if(null===n&&null===i)return 0;if(null!==n&&null===i)return 1;if(null===n&&null!==i)return-1;var r=n.getTime(),o=i.getTime();return r>o?1:r<o?-1:0})),n===Rk&&r.sort((function(e,t){var n=e.type,i=t.type;return n.localeCompare(i)})),i?r.reverse():r}},{key:"getAnnot",value:function(e,t,n){var i=e.getType(),r=this.getAnnotClass(i);return r===Hw?null:new r(e,{page:t},n)}},{key:"addAnnot",value:function(e){var t=this,n=e.type=e.type.toLowerCase(),i=null;switch(n){case"line":i=this.buildLineJson(e);break;case"stamp":i=this.buildStampJson(e);break;case"fileattachment":case"text":i=this.buildIconShapeJson(e);break;case"freetext":i=this.buildFreeTextJson(e);break;case"circle":case"square":case"caret":i=this.buildSimpleShapeJson(e),"square"!==n&&"circle"!==n||!e.dash||(i.borderStyle=1,i.borderStyleParam=e.dash);break;case"polyline":case"polygon":case"ink":case"highlight":case"underline":case"strikeout":case"squiggly":i={type:e.type,date:new Date},"polygon"===n&&"PolygonCloud"===e.intent&&(i.intent="PolygonCloud"),"polyline"!==n&&"polygon"!==n&&"ink"!==n||!e.dash||(i.borderStyle=1,i.borderStyleParam=e.dash);break;case"sound":i=this.buildScreenShapeJson(e)}if(!i)return null;i=this.buildJsonKeyValue(e,i);var r=this.getAnnotClass(n);e.creationDate=i.date,e.modDate||(e.modDate=i.date);var o=new r(null,e),a=this.pdfViewer;return Sw((function(){return a.currentPDFDoc.addAnnot(e.page,i).then((function(t){return[a.getPDFPageRender(e.page),t]})).then((function(e){var t=e[0];if(t.isRendered)return e;var n=t.pagesRender;return n.getPageScale(t.index,n.scale).then((function(i){return t.render(i,n.rotate).then((function(){return e}))}))})).then((function(n){var r=(0,R._)(n,2),a=r[0],s=r[1][0],c=a.annotsRender.getAnnotRender(s.getId()).component,u=c.annot;u.info.author=i.author,t.doUpdatePropsAfterAdd(u,e,(function(t){t&&c.redraw(),e.open&&c.showReplyDialog("comment"),o.annot=u}))}))})),o}},{key:"showFileDialog",value:function(e){var t=this;return new Promise((function(n){t.$jsFileAttachment&&t.$jsFileAttachment.remove(),t.$jsFileAttachment=j()('<input id="jsFileAttachment" type="file" style="display: none;"/>'),j()("body").append(t.$jsFileAttachment),t.$jsFileAttachment.off("change").on("change",(function(i){var r=i.target.files[0];if(r){var o=new FileReader;o.readAsArrayBuffer(r),o.onload=function(){var i=new Uint8Array(o.result);e.contentType=r.type,e.buffer=i,e.fileName=r.name;var a=t.addAnnot(e);n(a)}}})),t.$jsFileAttachment.click()}))}},{key:"doUpdatePropsAfterAdd",value:function(e,t,n){n&&n()}},{key:"buildRectByPoint",value:function(e){var t=e[0],n=e[1];return{left:t,bottom:n-20,right:t+20,top:n}}},{key:"buildSimpleShapeJson",value:function(e){var t=jk(e.rect),n=t.left,i=t.bottom,r=t.right,o=t.top;return{type:e.type,date:new Date,rect:{left:n,bottom:i,right:r,top:o}}}},{key:"buildIconShapeJson",value:function(e){var t;t=e.point?this.buildRectByPoint(e.point):jk(e.rect);var n=e.AttachIcon,i=e.noteIcon,r="";switch(e.type){case"fileattachment":r=n;break;case"text":r=i}return{type:e.type,date:new Date,rect:t,icon:r}}},{key:"buildScreenShapeJson",value:function(e){var t;return t=e.point?this.buildRectByPoint(e.point):jk(e.rect),{type:"screen",date:new Date,rect:t}}},{key:"buildStampJson",value:function(e){var t=jk(e.rect),n=t.left,i=t.bottom,r=t.right,o=(t.top,.3*(r-n));return{type:e.type,date:new Date,rect:{left:n,bottom:i,right:r,top:i+o}}}},{key:"buildFreeTextJson",value:function(e){var t={type:e.type,date:new Date};"FreeTextCallout"===e.intent&&e.callout&&(t.calloutLinePoints=Bk(e.callout)),t.defaultAppearance={textColor:0,textSize:0},e.textSize&&(e.textSize>=4||e.textSize<=144)&&(t.defaultAppearance.textSize=e.textSize),e.dash&&(t.borderStyle=1,t.borderStyleParam=e.dash),t.intent=e.intent;var n,i=(0,M._)(e.rect);t.calloutLinePoints&&(n=i).push.apply(n,(0,M._)(e.callout));return t.rect=jk(i),t.innerRect=jk(e.rect),t}},{key:"buildLineJson",value:function(e){var t;if(e.points&&2===e.points.length){var n=e.points[0],i=e.points[1],r=n[0],o=n[1],a=i[0];t={left:r,bottom:i[1],right:a,top:o}}else t=jk(e.rect);e.doCaption&&e.doCaption;var s={type:"line",date:new Date,rect:t,startStyle:ge.None,endStyle:ge.None};return e.intent&&(s.intent=e.intent),e.arrowBegin&&(s.startStyle=ge[e.arrowBegin]),e.arrowEnd&&(s.endStyle=ge[e.arrowEnd]),e.leaderLength&&(s.leaderLineLength=e.leaderLength),e.leaderExtend&&(s.leaderLineExtend=e.leaderExtend),e.dash&&(s.borderStyle=1,s.borderStyleParam=e.dash),s}},{key:"buildFlags",value:function(e,t){return e.hidden?t.flags=2|t.flags:t.flags=-3&t.flags,e.print||void 0===e.print?t.flags=4|t.flags:t.flags=-5&t.flags,e.noView?t.flags=32|t.flags:t.flags=-33&t.flags,e.readOnly?t.flags=64|t.flags:t.flags=-65&t.flags,e.lock?t.flags=128|t.flags:t.flags=-129&t.flags,e.toggleNoView?t.flags=256|t.flags:t.flags=-257&t.flags,t}},{key:"buildCoords",value:function(e,t){var n=[];if(e.quads)for(var i=Math.floor(e.quads.length/8),r=e.quads,o=0;o<i;o++){var a,s,c,u,l=r.slice(8*o,8*o+8),A=(a=Math).min.apply(a,[l[0],l[2],l[4],l[6]]),d=(s=Math).max.apply(s,[l[1],l[3],l[5],l[7]]),h=(c=Math).max.apply(c,[l[0],l[2],l[4],l[6]]),f=(u=Math).min.apply(u,[l[1],l[3],l[5],l[7]]);n.push({left:A,top:d,right:h,bottom:f,rotation:0})}else{var p=jk(e.rect),v=p.left,g=p.bottom,m=p.right,y=p.top;n.push({left:v,top:y,right:m,bottom:g,rotation:0})}return t.coords=n,t}},{key:"calcRectByVertices",value:function(e){var t={},n=0,i=0,r=0,o=0;return e.map((function(e,t){var a=e.x,s=e.y;0===t?(n=a,i=a,r=s,o=s):(n=a<n?a:n,i=a>i?a:i,r=s<r?s:r,o=s>o?s:o)})),t.left=n,t.right=i,t.bottom=r,t.top=o,t}},{key:"buildVertices",value:function(e,t){if(!e.vertices)return t;if("polygon"===e.type||"polyline"===e.type){for(var n=[],i=Math.floor(e.vertices.length/2),r=e.vertices,o=0;o<i;o++){var a=r.slice(2*o,2*o+2);n.push({x:a[0],y:a[1]})}t.vertexes=n,t.rect=this.calcRectByVertices(n)}return t}},{key:"buildFillColor",value:function(e,t){return e.fillColor?("circle"!==e.type&&"square"!==e.type&&"line"!==e.type&&"polygon"!==e.type&&"polyline"!==e.type&&"freetext"!==e.type||(t["interior-color"]=(0,W.colorConvertor)(e.fillColor,"int",0),t.interiorColor=t["interior-color"]),t):t}},{key:"buildGestures",value:function(e,t){if("ink"!==e.type||!e.gestures)return e.rect&&(t.rect=jk(e.rect)),t;var n=Ok(e.gestures);return t.inkList=n,t.rect={left:0,right:0,top:0,bottom:0},t}},{key:"buildStampAP",value:function(e,t){if("stamp"!==e.type)return t;var n,i=this.pdfViewer,r="approved";switch(e.AP&&(r=e.AP.toLowerCase()),r){case"approved":default:n="Approved";break;case"confidential":n="Confidential";break;case"draft":n="Draft";break;case"expired":n="Expired";break;case"final":n="Final"}t.icon=n,t.iconCategory="Static",t.url=Iv(i.libPath,"stamps/",i.getCurrentLanguage(),"StandardStamps",t.icon+".pdf");var o={annotType:"stamp",category:t.iconCategory,name:t.icon,fileType:"pdf",url:t.url};return t.iconInfo=o,t}},{key:"buildJsonKeyValue",value:function(e,t){return e.strokeColor&&(t.color=(0,W.colorConvertor)(e.strokeColor,"int",0),"freetext"===e.type&&(t.defaultAppearance.textColor=t.color)),e.popupOpen&&"freetext"!==e.type&&"sound"!==e.type&&"fileattachment"!==e.type&&(t.open="yes"),e.contents&&(t.contents=e.contents),e.name&&(t.name=e.name),e.author&&(t.title=e.author),e.opacity&&(t.opacity=e.opacity),e.width&&(t.borderWidth=e.width),"C"===e.borderEffectStyle&&(t.borderStyle=5,t.borderStyleParam=0,e.borderEffectIntensity&&(t.borderStyleParam=e.borderEffectIntensity)),t=this.buildFlags(e,t),"highlight"!==e.type&&"strikeout"!==e.type&&"underline"!==e.type&&"squiggly"!==e.type||((t=this.buildCoords(e,t)).rect={left:0,right:0,top:0,bottom:0}),"fileattachment"===e.type?(e.buffer&&(t.buffer=e.buffer,t.fileName=e.fileName),e.attachIcon&&(t.icon=e.attachIcon)):"sound"===e.type&&e.buffer&&(t.multiBuffer=e.buffer,t.fileName=e.fileName,t.contentType=e.contentType),t=this.buildFillColor(e,t),t=this.buildGestures(e,t),t=this.buildStampAP(e,t),t=this.buildVertices(e,t)}}]),e}(),Uk=function(){function e(t,n,i){(0,C._)(this,e),this.id=t,this.info=n,this.doc=i}return(0,D._)(e,[{key:"state",get:function(){return this.info.visible},set:function(e){return this.doc.setLayerNodeVisible(this.id,e),this.info.visible=e}},{key:"name",get:function(){return this.info.name}}]),e}(),Hk=Sk.ANSB_None,zk=Sk.ANFB_ShouldNone,Wk=function(e){return e.jsEngine.getPDFDoc()},Gk=function(e){return e.jsEngine.getPDFForm()},Yk={},$k=function(){for(var e in Yk){Yk[e].destroy(),delete Yk[e]}Yk={}},Jk=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r;return(0,C._)(this,n),(r=t.call(this)).jsEngine=e,r.jsApp=i,r._dirty=!1,r._layout="",r._arrTemplate=new Array,r.printParams=new Nw(r.jsEngine,(0,x._)(r)),r.annotManage=new Vk(i.viewerApp),r}return(0,D._)(n,[{key:"author",get:function(){return Wk(this).getMetadataValue("Author")},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return Wk(this).setMetadataValue("Author",e)}},{key:"calculate",get:function(){return Gk(this).calculationEnabled},set:function(e){return Gk(this).calculationEnabled=e}},{key:"creationDate",get:function(){return Wk(this).getMetadataValue("CreationDate")},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return Wk(this).setMetadataValue("CreationDate",e)}},{key:"dirty",get:function(){return this._dirty},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return this._dirty=e}},{key:"docID",get:function(){return Wk(this).info.fileID.slice(0,2)}},{key:"creator",get:function(){return Wk(this).getMetadataValue("Creator")},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return Wk(this).setMetadataValue("Creator",e)}},{key:"documentFileName",get:function(){return Wk(this).info.fileName}},{key:"external",get:function(){return!1}},{key:"filesize",get:function(){return Wk(this).info.fileSize}},{key:"info",get:function(){var e=function(e){if(!e||"object"!=typeof e)return e;var t={},n=new WeakSet;function i(e){if(!n.has(e))for(var r in n.add(e),e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=e[r];"object"==typeof o&&null!==o?i(o):t[r]=o}}return i(e),t}(Wk(this).metadata);return e}},{key:"icons",get:function(){return Wk(this).getNameTreeIcons()}},{key:"keywords",get:function(){return Wk(this).getMetadataValue("Keywords")}},{key:"layout",get:function(){switch(this.jsEngine.PDFViewer.getPDFDocRender().getViewMode().constructor.getName()){case"single-page-view-mode":return"SinglePage";case"continuous-view-mode":return"OneColumn";case"facing-page-view-mode":return"TwoPageLeft";case"facing-continuous-page-view-mode":return"TwoColumnLeft";case"h-continuous-view-mode":return"OneRow"}}},{key:"modDate",get:function(){return Wk(this).getMetadataValue("ModDate")}},{key:"numFields",get:function(){return Wk(this).getPDFForm().getFieldCount()}},{key:"numPages",get:function(){return Wk(this).getPageCount()}},{key:"path",get:function(){return"c:/fakepath/"+Wk(this).info.fileName}},{key:"pageNum",get:function(){var e=this.jsEngine.PDFViewer,t=e.getCurrentActivatable();return t&&t.annot?t.annot.getPage().getIndex():e.getPDFDocRender().getCurrentViewMode().getCurrentPageIndex()},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return e>=this.numPages&&(e=this.numPages-1),this.jsEngine.PDFViewer.goToPage(e,0,0,!1),e}},{key:"templates",get:function(){}},{key:"addField",value:function(e,t,n,i){switch(t){case"text":t=6;break;case"button":t=1;break;case"combobox":t=4;break;case"listbox":t=5;break;case"checkbox":t=2;break;case"radiobutton":t=3;break;case"signature":return null}if(i[2]<i[0]){var r=i[0];i[0]=i[2],i[2]=r}if(i[3]>i[1]){var o=i[1];i[1]=i[3],i[3]=o}var a=Gk(this).addControl(n,e,t,{left:i[0],top:i[1],right:i[2],bottom:i[3]});return Sw((function(){return a})),this.getField(e)}},{key:"getOCGs",value:function(){var e=[],t=Wk(this).ocgs;for(var n in t.children)qk(t.children[n],e,Wk(this));return e}},{key:"getPrintParams",value:function(){return this.printParams}},{key:"getTemplate",value:function(e){if(!e||""===e)return null;if(this._arrTemplate.length<=0){var t=Wk(this).visibleTemplates;if(t&&t.length>0)for(var n=0;n<t.length;n++){if(e===t[n].name)return new Lw(t[n],!1,Wk(this))}if((t=Wk(this).invisibleTemplates)&&t.length>0)for(var i=0;i<t.length;i++){if(e===t[i].name)return new Lw(t[i],!0,Wk(this))}return null}for(var r=0;r<this._arrTemplate.length;r++){var o=this._arrTemplate[r];if(o.name===e)return o}return null}},{key:"removeTemplate",value:function(e){if(!e||""===e)return!1;if(Wk(this)){var t=this;Wk(this).removeTemplate(e).then((function(n){for(var i=0;i<t._arrTemplate.length;i++){if(t._arrTemplate[i].name===e){t._arrTemplate.splice(i,1);break}}}))}}},{key:"print",value:function(e,t,n,i,r,o,a,s,c){if(!this.jsEngine.PDFViewer.webPDFSRPromise&&!this.jsEngine.getEvent().isSensitiveCheck){var u;u="object"==typeof e?{startIndex:e.firstPage,endIndex:e.lastPage,silent:e.interactive,printType:["page","annot"]}:c?{startIndex:c.firstPage,endIndex:c.lastPage+1,silent:c.interactive,printType:["page","annot"]}:{ui:e,startIndex:t,endIndex:n,silent:i,shrinkToFit:r,asImage:o,reverse:a,printType:["page","annot"]};var l=this.jsEngine.PDFViewer.getPDFDocRender();l&&l.isPrinting()||this.jsEngine.PDFViewer.printPDFDocumentEx(u)}}},{key:"addAnnot",value:function(e){return"FileAttachment"!==e.type&&"Sound"!==e.type?this.annotManage.addAnnot(e):this.annotManage.showFileDialog(e)}},{key:"syncAnnotScan",value:function(){return Wk(this).getAnnots()}},{key:"getAnnots",value:function(e){var t=function(){var e,t=c[u];if(!t)return u++,"continue";var n=Object.keys(t.annotIdMap);if(!n.length)return u++,"continue";var r=n.map((function(e){return{pageIndex:u,annot:t.annotIdMap[e]}}));if((e=l).push.apply(e,(0,M._)(r)),-1!==i)return"break";u++},n=this,i=-1,r=zk,o=Hk,a=!1;e&&(e.nPage>=0&&(i=e.nPage),e.nSortBy>=0&&(o=e.nSortBy),e.nFilterBy>=0&&(r=e.nFilterBy),e.bReverse&&(a=e.bReverse));var s=this.numPages,c=Wk(this).pageCache,u=0,l=[];if(-1!==i&&(u=i),u>=s)return null;do{if("break"===t())break}while(u<s);var A=[];return l.map((function(e){var t=e.pageIndex,i=e.annot,r=n.annotManage.getAnnot(i,t);r&&A.push(r)})),this.annotManage.getAnnots(A,r,o,a)}},{key:"getAnnot",value:function(e,t){var n,i=Wk(this).pageCache;if(!(n=i[e]))return null;var r=Object.keys(n.annotIdMap);if(!r.length)return null;var o=r.map((function(e){return n.annotIdMap[e]})).find((function(e){return e.getName()==t}));return o?this.annotManage.getAnnot(o,e,this.jsApp):null}},{key:"calculateNow",value:function(){}},{key:"closeDoc",value:function(){this.jsEngine.getEvent().isSensitiveCheck||this.jsEngine.closeDoc()}},{key:"deletePages",value:function(e){var t=e.nStart,n=e.nEnd;return void 0===t&&(t=0),void 0===n&&(n=0),t===n?Wk(this).removePages([[t]]):Wk(this).removePages([[t,n],[n]])}},{key:"exportAsFDF",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.aFields,n=e.bAnnotations,i=void 0!==n&&n,r=Wk(this),o=this.documentFileName.replace(/.pdf$/i,".fdf"),a=1;i&&(a=3);var s=Promise.resolve(),c=[];t&&(s=r.getAnnots().then((function(e){e.forEach((function(e){e.forEach((function(e){var n=e.objectNumber,i=e.getPage().getId();if(t.indexOf(n)>-1){var r=c[i]||[];r.push(n),c[i]=r}}))}))}))),s.then((function(){return r.api.exportToFDF(r.id,0,a,c)})).then((function(e){Oh(e,o,"application/vnd.fdf")}))}},{key:"getField",value:function(e){if(!e)return null;var t,n=Wk(this).getPDFForm().getField(e);return n||(t=Wk(this).getPDFForm().getField(e,!0))?Yk[e]?(Yk[e]._update(n,t),Yk[e]):Yk[e]=new Fw(this.jsEngine,n,t):null}},{key:"getNthFieldName",value:function(e){if("number"!=typeof e&&(e=parseInt(e),isNaN(e)))throw new Error("Invalid index number: "+e);return Wk(this).getPDFForm().getFieldByIndex(e).getName()}},{key:"getPageBox",value:function(e,t){return[0,0,612,792]}},{key:"getPageRotation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return 90*Wk(this).pageCache[e].getRotation()}},{key:"getURL",value:function(){}},{key:"importAnFDF",value:function(){var e=this,t="import-an-fdf",n=document.querySelector("."+t);n&&n.remove();var i=document.createElement("label");i.setAttribute("class",t),i.style.display="none";var r=document.createElement("input");r.type="file",r.accept=".fdf",i.addEventListener("change",(function(t){var n=t.target.files[0];Wk(e).importFormFromFile(n,0),i.remove()})),i.appendChild(r),document.body.append(i),setTimeout((function(){i.click()}),100)}},{key:"removeField",value:function(e){delete Yk[e],Gk(this).removeField(e)}},{key:"resetForm",value:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck){var t,n=this.jsEngine.PDFViewer.getCurrentActivatable();n&&n.annot&&(t=n.annot.getField()),Gk(this).resetForm(e,0,t)}}},{key:"submitForm",value:function(e,t,n,i,r,o,a,s,c,u,l,A,d,h,f,p,v,g,m,y,_,b,w,k){var x=this,P=this.jsEngine.PDFViewer;if(!this.jsEngine.getEvent().isSensitiveCheck){var C=0;switch(1===arguments.length&&"object"==typeof arguments[0]&&(e=arguments[0].cURL,t=arguments[0].bFDF,n=arguments[0].bEmpty,i=arguments[0].aFields,r=arguments[0].bGet,o=arguments[0].bAnnotations,a=arguments[0].bXML,s=arguments[0].bIncrChanges,c=arguments[0].bPDF,u=arguments[0].bCanonical,l=arguments[0].bExclNonUserAnnots,A=arguments[0].bExclFKey,d=arguments[0].cPassword,h=arguments[0].bEmbedForm,f=arguments[0].oJavaScript,p=arguments[0].cSubmitAs,v=arguments[0].bInclNMKey,g=arguments[0].aPackets,m=arguments[0].cCharset,y=arguments[0].oXML,_=arguments[0].cPermID,b=arguments[0].cInstID,w=arguments[0].cUsageRights,k=arguments[0].bHTMLForm),r&&(C|=fn.FlagGetMethod),(c||"PDF"==p)&&(C|=fn.FlagSubmitAsPDF),(A||"EXCL"==p)&&(C|=fn.FlagExclFKey),k&&(C|=fn.FlagExportFormat),p){case"FDF":break;case"XFDF":C|=fn.FlagAsXFDF;break;case"HTML":C|=fn.FlagExportFormat;break;case"XDP":case"XML":case"XFD":return void console.error("not support submition format")}var D=P.i18n.t("viewer_:pdfjs.safeModeSubmit",{URL:e,interpolation:{escapeValue:!1}});confirm(D)&&Gk(this).submitForm(e,i,C).catch((function(e){x.jsApp.alert(P.i18n.t("viewer_:error.c-1"))}))}}},{key:"cleanFields",value:function(){Yk={}}},{key:"createIcon",value:function(e,t,n){return{name:"",stream:e,width:t,height:n}}},{key:"getAnnot3D",value:function(e,t){var n=Wk(this).pageCache[e];if(n){var i=Object.keys(n.annotIdMap);if(i.length){var r=i.map((function(e){return n.annotIdMap[e]})).find((function(e){return"3d"===e.getType()&&e.getName()==t}));if(r)return this.annotManage.getAnnot(r,e,this.jsApp)}}}},{key:"getAnnots3D",value:function(e){var t=this,n=this.numPages,i=Wk(this).pageCache;if(!(e>=n||e<0)){var r=i[e];if(r){var o=Object.keys(r.annotIdMap);if(o.length){var a=[];return o.map((function(n){var i=r.annotIdMap[n];if("3d"==i.getType()){var o=t.annotManage.getAnnot(i,e,t.jsApp);o&&a.push(o)}})),a}}}}}],[{key:"name",get:function(){return"Doc"}}]),n}(gw),qk=function(e,t,n){for(var i in e.hasLayer&&t.push(new Uk(e.id,e,n)),e.children)qk(e.children[i],t,n)};var Kk=function(e){switch(Object.prototype.toString.call(e)){case"[object String]":return["true","t","yes","y","on","1"].includes(e.trim().toLowerCase());case"[object Number]":return 1===e.valueOf();case"[object Boolean]":return e.valueOf();default:return!1}},Zk=RegExp("(?:%(?<flag>([+0-]|-\\+))?(?<width>\\d+)?(?<position>\\d+\\$)?(?<precision>\\.\\d+)?(?<conversion>[%BCESb-iosux]))|(\\\\%)","g"),Xk=function(e,t){return t.placeholder},Qk=function(e){var t,n=function(e,t,n){return"-"===n?e.padEnd(t," "):"-+"===n?((Number(e)>=0?"+":"")+e).padEnd(t," "):"+"===n?((Number(e)>=0?"+":"")+e).padStart(t," "):"0"===n?e.padStart(t,"0"):e.padStart(t," ")},i=null!==(t=null==e?void 0:e.formatUnboundExpression)&&void 0!==t?t:Xk,r={};return function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),a=1;a<t;a++)o[a-1]=arguments[a];var s=r[e];s||(s=r[e]=function(e){for(var t,n=[],i=0,r=0,o=null;null!==(t=Zk.exec(e));){t.index>r&&(o={literal:e.slice(r,t.index),type:"literal"},n.push(o));var a=t[0];r=t.index+a.length,"\\%"===a||"%%"===a?o&&"literal"===o.type?o.literal+="%":(o={literal:"%",type:"literal"},n.push(o)):t.groups&&(o={conversion:t.groups.conversion,flag:t.groups.flag||null,placeholder:a,position:t.groups.position?Number.parseInt(t.groups.position,10)-1:i++,precision:t.groups.precision?Number.parseInt(t.groups.precision.slice(1),10):null,type:"placeholder",width:t.groups.width?Number.parseInt(t.groups.width,10):null},n.push(o))}return r<=e.length-1&&(o&&"literal"===o.type?o.literal+=e.slice(r):n.push({literal:e.slice(r),type:"literal"})),n}(e));var c="",u=!0,l=!1,A=void 0;try{for(var d,h=s[Symbol.iterator]();!(u=(d=h.next()).done);u=!0){var f=d.value;if("literal"===f.type)c+=f.literal;else{var p=o[f.position];if(void 0===p)c+=i(e,f,o);else if("b"===f.conversion)c+=Kk(p)?"true":"false";else if("B"===f.conversion)c+=Kk(p)?"TRUE":"FALSE";else if("c"===f.conversion)c+=p;else if("C"===f.conversion)c+=String(p).toUpperCase();else if("i"===f.conversion||"d"===f.conversion)p=String(Math.trunc(p)),null!==f.width&&(p=n(p,f.width,f.flag)),c+=p;else if("e"===f.conversion)c+=Number(p).toExponential();else if("E"===f.conversion)c+=Number(p).toExponential().toUpperCase();else if("f"===f.conversion)null!==f.precision&&(p=Number(p).toFixed(f.precision)),null!==f.width&&(p=n(String(p),f.width,f.flag)),c+=p;else if("o"===f.conversion)c+=(Number.parseInt(String(p),10)>>>0).toString(8);else if("s"===f.conversion)null!==f.width&&(p=n(String(p),f.width,f.flag)),c+=p;else if("S"===f.conversion)null!==f.width&&(p=n(String(p),f.width,f.flag)),c+=String(p).toUpperCase();else if("u"===f.conversion)c+=Number.parseInt(String(p),10)>>>0;else{if("x"!==f.conversion)throw new Error("Unknown format specifier.");p=(Number.parseInt(String(p),10)>>>0).toString(16),null!==f.width&&(p=n(String(p),f.width,f.flag)),c+=p}}}}catch(e){l=!0,A=e}finally{try{u||null==h.return||h.return()}finally{if(l)throw A}}return c}}(),ex=function(){function e(t){(0,C._)(this,e),this.jsGlobalAPI=t}return(0,D._)(e,[{key:"isDigit",value:function(e){return e>="0"&&e<="9"}},{key:"parstDataType",value:function(e){for(var t=!1,n=0;n<e.length;n++){var i=e.substr(n,1);if("%"!==i){if(t){if("c"==i||"C"==i||"d"==i||"i"==i||"o"==i||"u"==i||"x"==i||"X"==i)return 0;if("e"==i||"E"==i||"f"==i||"g"==i||"G"==i)return 1;if("s"==i||"S"==i)return 2;if("."==i||"+"==i||"-"==i||"#"==i||" "==i||"l"==i||this.isDigit(i))continue;break}}else t=!0}return-1}},{key:"printd",value:function(e,t,n){if(!t||(0,T._)(!t,Date)||isNaN(t.getTime()))return"";if(e){if("string"==typeof e)return this.jsGlobalAPI.FXFormatDate(e,t);if("number"==typeof e)switch(e){case 0:var i="D:";return i+=t.getFullYear(),i+=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,i+=t.getDate()<10?"0"+t.getDate():t.getDate(),i+=t.getUTCHours()<10?"0"+t.getUTCHours():t.getUTCHours(),i+=t.getUTCMinutes()<10?"0"+t.getUTCMinutes():t.getUTCMinutes(),i+=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();case 1:i="";return i+=t.getFullYear()+".",i+=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,i+=".",i+=t.getDate()<10?"0"+t.getDate():t.getDate(),i+=" ",i+=t.getUTCHours()<10?"0"+t.getUTCHours():t.getUTCHours(),i+=":",i+=t.getUTCMinutes()<10?"0"+t.getUTCMinutes():t.getUTCMinutes(),i+=":",i+=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();case 2:i="";return i+=t.getFullYear()+"/",i+=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,i+="/",i+=t.getDate()<10?"0"+t.getDate():t.getDate(),i+=" ",i+=t.getUTCHours()<10?"0"+t.getUTCHours():t.getUTCHours(),i+=":",i+=t.getUTCMinutes()<10?"0"+t.getUTCMinutes():t.getUTCMinutes(),i+=":",i+=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();default:return""}return""}return""}},{key:"printf",value:function(e,t){if(!e||!t)return"";(0,T._)(t,Array)||(t=[t]);var n=arguments.length;if(n<1)return"";var i=e,r=(e=e.replace("%+d","%+1d")).indexOf("%,"),o=!1,a=",";if(-1!=r){var s=parseInt(e.substr(r+2,1));if(s>4)return"";switch(s){case 0:o=!0,a=",",".";break;case 1:".";break;case 2:o=!0,a=".",",";break;case 3:","}var c="0",u=e.substr(r+3,1);"0"===u?c="0":"+"===u&&(c="+");var l=0,A=e.indexOf(".",r+4);l=A>r+3?parseInt(e.substr(r+4,A-r-4)):parseInt(e.substr(r+4,1));var d=e.length;if(A>-1&&r+A<d){var h=e.substr(r+1,A-1);e=e.replace(h,"")}else if("."===u&&-1===A){A=r+3;h=e.substr(r+1,A-1);e=e.replace(h,"")}else{var f=d-2;if(!(r+1+f<d&&f>=0))return t;h=e.substr(r+1,f);e=e.replace(h,"")}}var p=0,v=0,g=e;g="S"+g;for(var m=new Array,y=!1;-1!=p;){var _="";_=-1===(v=g.indexOf("%",p+1))?g.substr(p):g.substr(p,v-p),m.push(_),p=v}for(var b="",w="",k=0;k<m.length;k++)if(w=b,w+=m[k],0!==k){if(k>=n)break;var x=void 0;switch(this.parstDataType(w)){case 0:var P=parseInt(t[k-1]);if(isNaN(P)&&(P=0),w.indexOf("%x")>-1){var C=w.split("%x"),D=Qk("%x",P).toLocaleUpperCase();C.splice(1,0,D),x=C.join("")}else x=Qk(w,P);y=!0;break;case 1:var E=parseFloat(t[k-1]);isNaN(E)&&(E=0),x=Qk(w,E),y=!0;break;case 2:var S=parseFloat(t[k-1]);isNaN(S)&&(S=""),x=Qk(w,S)}b=x}else b=w;""===b&&(i.replace("%,","%"),b=i);var I=(b=b.substr(1)).indexOf(".");if(I<0)I=b.length;else{h=(b=b.slice(0,I)+"."+b.slice(I)).substr(I+1,1);b=b.replace(h,"")}if(o&&y)for(var R=I-3;R>0;R-=3)b=b.slice(0,R)+a+b.slice(R);var M=b.length;if(l>M)for(R=0;R<l-M;R++)b=c+b;return b}},{key:"printx",value:function(e,t){if(!e||!t)return"";for(var n=t.length,i=e.length,r="",o=0,a=0;a<i;a++){var s=e[a];switch(s){case"?":r+=t[o],o++;break;case"X":for(;o<n;){if(t[o]>="0"&&t[o]<="9"||t[o]>="a"&&t[o]<="z"||t[o]>="A"&&t[o]<="Z"){r+=t[o],o++;break}o++}break;case"A":for(;o<n;){if(t[o]>="a"&&t[o]<="z"||t[o]>="A"&&t[o]<="Z"){r+=t[o],o++;break}o++}break;case"9":for(;o<n;){if(t[o]>="0"&&t[o]<="9"){r+=t[o],o++;break}o++}break;case"*":r+=t.substring(o),o=n-1;break;case"\\":case"=":break;case">":t=t.toLocaleUpperCase();break;case"<":t=t.toLocaleLowerCase();break;default:r+=s}}return r}},{key:"scand",value:function(e,t){return new Date(t)}}]),e}(),tx=n(4563),nx=n.n(tx);const ix={Times:"Times-Roman",TimesB:"Times-Bold",TimesI:"Times-Italic",TimesBI:"Times-BoldItalic",Helv:"Helvetica",HelvB:"Helvetica-Bold",HelvI:"Helvetica-Oblique",HelvBI:"Helvetica-BoldOblique",Cour:"Courier",CourB:"Courier-Bold",CourI:"Courier-Oblique",CourBI:"Courier-BoldOblique",Symbol:"Symbol",ZapfD:"ZapfDingbats"};var rx=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"setHandler",value:function(e){this.handler=e}},{key:"clear",value:function(){this.impl?this.impl.clear():window.console.clear()}},{key:"show",value:function(){return this.handler("show"),!0}},{key:"hide",value:function(){return!0}},{key:"println",value:function(e){(0,T._)(e,Object)&&(e=e.toString()),window.console.log(e)}}]),n}(gw);var ox={border:{s:"solid",b:"beveled",d:"dashed",i:"inset",u:"underline"},style:{ch:"check",cr:"cross",di:"diamond",ci:"circle",st:"star",sq:"square"},display:{visible:0,hidden:1,noPrint:2,noView:3},global:{setPersistent:function(){}},console:new rx,color:kw,font:ix,scaleWhen:Iw};for(var ax in ox){var sx=function(){};sx.prototype=Object.freeze(ox[ax]),ox[ax]=new sx}var cx=function(){function e(t,n){(0,C._)(this,e),this._JSEngine=t,this._app=n}return(0,D._)(e,[{key:"__destroy__",value:function(){this._app=null,this._JSEngine=null}},{key:"JSEngine",get:function(){if(!this._JSEngine)throw new Error("JSEngine is not initialized or destroyed!");return this._JSEngine}},{key:"app",get:function(){if(!this._app)throw new Error("JSEngine is not initialized or destroyed!");return this._app}},{key:"setJSEvent",value:function(e){window.jsEvent=e,this.jsEvent=e}},{key:"AFSimple_Calculate",value:function(e,t){return Sk.AFSimple_Calculate(this.JSEngine,e,t)}},{key:"AFRange_Validate",value:function(e,t,n,i){return Sk.AFRange_Validate(this.JSEngine,this.app,e,t,n,i)}},{key:"AFNumber_Format",value:function(e,t,n,i,r,o){return Sk.AFNumber_Format(this.JSEngine,this._app,e,t,n,i,r,o)}},{key:"AFTime_Format",value:function(e){return Sk.AFTime_Format(this.JSEngine,this._app,e)}},{key:"AFTime_FormatEx",value:function(e){return Sk.AFTime_FormatEx(this.JSEngine,this._app,e)}},{key:"AFTime_Keystroke",value:function(e){return Sk.AFDate_KeystrokeEx(this.JSEngine,this._app,e)}},{key:"AFTime_KeystrokeEx",value:function(e){return Sk.AFDate_KeystrokeEx(this.JSEngine,this._app,e)}},{key:"AFDate_FormatEx",value:function(e){return Sk.AFDate_FormatEx(this.JSEngine,this._app,e)}},{key:"AFPercent_Format",value:function(e,t){return Sk.AFPercent_Format(this.JSEngine,this._app,e,t)}},{key:"AFMergeChange",value:function(e){return Sk.AFMergeChange(e)}},{key:"AFNumber_Keystroke",value:function(e,t,n,i,r,o){return Sk.AFNumber_Keystroke(this.JSEngine,this._app,e,t,n,i,r,o)}},{key:"AFParseDateEx",value:function(e,t){return Sk.AFParseDateEx(e,t)}},{key:"AFMakeNumber",value:function(e){return Sk.AFMakeNumber(e)}},{key:"AFDate_KeystrokeEx",value:function(e){return Sk.AFDate_KeystrokeEx(this.JSEngine,this._app,e)}},{key:"AFSpecial_Format",value:function(e){return Sk.AFSpecial_Format(this.JSEngine,this.app,e)}},{key:"FXFormatDate",value:function(e,t){return Sk.FXFormatDate(e,t)}},{key:"AFSpecial_Keystroke",value:function(e){return Sk.AFSpecial_Keystroke(this.JSEngine,this._app,e)}},{key:"AFPercent_Keystroke",value:function(e){return Sk.AFPercent_Keystroke(this.JSEngine,this._app,(0,w._)({},e))}},{key:"AFSpecial_KeystrokeEx",value:function(e){return Sk.AFSpecial_KeystrokeEx(this.JSEngine,this._app,e)}}]),e}();Object.keys(Sk).forEach((function(e){"function"!=typeof Sk[e]&&(cx[e]=Sk[e])})),Object.assign(cx.prototype,ox);var ux;(ux=Object).prototype.toSource||Object.defineProperty(ux.prototype,"toSource",{value:function(){if((0,T._)(this,String))return this;var e="({",t=0;for(var n in this)if("toSource"!==n){0!==t&&(e+=","),t++;var i=this[n];"string"==typeof i&&(i='"'+(i=(i=i.replace(/\n/g,"\\n")).replace(/\r/g,"\\r"))+'"'),-1===n.indexOf("~")&&-1===n.indexOf("-")&&-1===n.indexOf(".")||(n="'"+n+"'"),e+=n+":"+i}return e+"})"},writable:!0,configurable:!0,enumerable:!1});var lx=URL.createObjectURL(new Blob([nx()({})],{type:"text/html"})),Ax="ActiveXObject"in self||navigator.userAgent.toLowerCase().match(/msie [\d\.]+/)||navigator.userAgent.toLowerCase().match(/MicroMessenger/i)||navigator.userAgent.toLowerCase().match(/mibrowser/i)||navigator.userAgent.toLowerCase().match(/Html5Plus/i);var dx=Symbol("setDoc"),hx=function(){function e(t,n,i,r){(0,C._)(this,e),this.JSEngine=t;var o=function(e){(0,I._)(o,e);var r=(0,N._)(o);function o(){var e;return(0,C._)(this,o),(e=r.call(this,t,n)).util=new ex((0,x._)(e)),e[dx](i),e.getEvent=function(e){return t.getEvent(e)},e.postRunScripts=function(e){return t.postRunScripts(e)},e}return(0,D._)(o,[{key:dx,value:function(e){var t=this,n=new Proxy(e,{has:function(e,n){return Reflect.has(e,n)||Reflect.has(t,n)},set:function(e,n,i,r){return Reflect.has(t,n)&&!Reflect.has(e,n)?Reflect.set(t,n,i,t):Reflect.set(e,n,i,r)},get:function(e,n,i){return Reflect.has(e,n)?Reflect.get(e,n,i):Reflect.get(t,n,t)}});this.doc=n,this.this=n}}]),o}(cx);this.globalVariables=new o,this.noFrame=Ax||r}return(0,D._)(e,[{key:"setDoc",value:function(e){this.globalVariables[dx](e)}},{key:"init",value:function(){var e,t,n,i=this;if(!this.noFrame)return this.preFrame=document.createElement("iframe"),this.preFrame.style.display="none",this.preFrame.style.position="absolute",this.preFrame.style.top=0,this.enable=!1,new Promise((function(e,t){i.preFrame.onload=e,i.preFrame.onerror=t,i.preFrame.src=lx,document.body.appendChild(i.preFrame)})).then((function(e){i.enable=!0,i.preFrame.contentWindow.initJS(i.globalVariables)}));e=this.globalVariables,t=new function(){var e=this,t=function(t){if(t[0].toLowerCase()!==t[0])return"continue";Object.defineProperty(e,t,{get:function(){return window[t]},set:function(e){window[t]=e}})},n=Object.getOwnPropertyDescriptors(window);for(var i in delete n.self,delete n.top,delete n.parent,delete n.globalThis,delete n.global,n)t(i);this.top=this,this.parent=window,this.self=this,this.globalThis=this,this.global=this},n=function(){var n=["jsEngine","_calculate","_dirty","_layout","_arrTemplate","printParams","annotManage","timeStamp","cleanFields"],i=e.doc;for(var r in i)-1==n.indexOf(r)&&function(e){"function"==typeof i[e]?t[e]=function(){return i[e].apply(i,arguments)}:Object.defineProperty(t,e,{get:function(){return i[e]},set:function(t){i[e]=t}})}(r);return{docClosure:function(n){return new Function("f","globals","window","with(globals){with(globals.doc){eval(f);return function(f){return eval(f);}}}")(n,e,t)}}}(),t.appClosure=e.appClosure=n,t.runJS=e.runJS=function(t,i){var r=e.doc;e.event=i,r.timeStamp=i&&i.timeStamp;var o=function(){try{var i=Array.from(new Set(t.code.split(/\W/))).filter((function(e){r.exec||(r.exec=n.docClosure(""));try{return r.exec(e),!1}catch(e){return!0}}));r.exec=n.docClosure.call(r,t.code),i.forEach((function(t){try{var n=r.exec(t);e[t]=n}catch(e){}}))}catch(e){r.exec=n.docClosure(t.code),console.error(e)}};switch("string"==typeof t.code&&(t.code=t.code.replace(/window\.open/g,"")),t.action){case"execute":r.exec(t.code,t,i);break;case"reset":o();break;default:t.global&&o()}},this.enable=!0}},{key:"exec",value:function(e,t,n,i){var r={action:"execute",code:e,global:t,event:n.event};this.enable||console.error("js env is not ready!!");var o=this.JSEngine.events[r.event];return this.noFrame?this.globalVariables.runJS(r,o):this.preFrame.contentWindow.runJS&&this.preFrame.contentWindow.runJS(r,o),o&&o.rc}},{key:"resetClosure",value:function(e){var t={action:"reset",code:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",event:e.event};this.enable||console.error("js env is not ready!!");var n=this.JSEngine.events[t.event];return this.noFrame?this.globalVariables.runJS(t,n):this.preFrame.contentWindow.runJS&&this.preFrame.contentWindow.runJS(t,n),n.rc}},{key:"destroy",value:function(){this.globalVariables&&(this.globalVariables.__destroy__(),this.globalVariables=null),this.JSEngine=null,!this.noFrame&&this.preFrame&&(document.body.removeChild(this.preFrame),this.preFrame=null)}}]),e}();const fx=hx;var px=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;return(0,C._)(this,n),(e=t.call(this)).change="",e.changeEx="",e.commitKey="",e.fieldFull="",e.keyDown="",e.modifier="",e.name="",e.rc="",e.richChange="",e.richChangeEx="",e.richValue="",e.selEnd="",e.selStart="",e.shift="",e.source="",e.target="",e.targetName="",e.type="",e.willCommit="",e.bExtractDenpends=!1,e.depends=[],e.isLoading=!1,e.isSensitiveCheck=!1,e}return(0,D._)(n,[{key:"value",get:function(){return this.v},set:function(e){this.v=e,this.valueSetted=!0}}],[{key:"name",get:function(){return"event"}}]),n}(gw);const vx=px;var gx=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i,r=function(t){t in(0,x._)(i)||Object.defineProperty((0,x._)(i),t,{get:function(){return e[t]},set:function(n){e[t]=n}})};for(var o in(0,C._)(this,n),(i=t.call(this)).app=e,e)r(o);return i}return(0,D._)(n,[{key:"setActionCallback",value:function(e){this.actionCallback=e}},{key:"alert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;return this.actionCallback&&"function"==typeof this.actionCallback.alert?"object"!=typeof e||Array.isArray(e)||1!==arguments.length?this.actionCallback.alert({cMsg:e,nIcon:t,nType:n,cTitle:i}):this.actionCallback.alert(e):this.app.alert.apply(this.app,arguments)}},{key:"alertAsync",value:function(e){return this.actionCallback&&this.actionCallback.alertAsync?this.actionCallback.alertAsync(e):this.app.alertAsync.apply(this.app,arguments)}}]),n}(W.Proxy.getProxyClass(Dw,(function(e,t,n,i,r){var o=e.actionCallback;switch(r){case"method":return o&&"function"==typeof o[i]?o[i].apply(o,n):t.apply(e.app,n);case"getter":return e.app[i];case"setter":e.app[i]=n[0]}}),null));!function(){function e(t){var n=this;(0,C._)(this,e),this.events={},this.tasks=[],this.curEvent=null,this.PDFViewer=t,this.hasInitAnnots=!1;var i=t.config.enableJS;this.enableJS=null==i||i;var r=new Dw(this,t),o=new gx(r);this.originJSApp=r,this.app=o;var a=new Jk(this,o),s=t.config.noJSFrame;this.jsEnv=new fx(this,o,a,s),setTimeout((function(){n.jsEnv.init()}),0),this.cacheJSDoc=a,this.PDFViewer.eventEmitter.on("open-file-success",(function(e){n.cacheJSDoc=new Jk(n,o),n.cacheJSDoc.dirty=!1,n.jsEnv.setDoc(n.cacheJSDoc),$k(),jw()})),this.PDFViewer.eventEmitter.on("will-close-document",(function(e){n.cacheJSDoc.dirty=!1,n.events={},n.curEvent=null,$k(),jw()})),this.jsEnv.globalVariables.console.setHandler((function(e){"show"==e&&n.PDFViewer.eventEmitter.emit("show-js-console")})),this.PDFViewer.eventEmitter.on("doc-modified",(function(){n.cacheJSDoc.dirty=!0}))}(0,D._)(e,[{key:"setConsoleImpl",value:function(e){this.jsEnv.globalVariables.console=e}},{key:"setActionCallback",value:function(e){if(e){var t=new e(this.originJSApp);t.app||(t.app=this.originJSApp),this.app.setActionCallback(t)}else this.app.setActionCallback(null)}},{key:"setStatus",value:function(e,t){this.status=e,this.eventSource=t}},{key:"getEvent",value:function(e){return e?this.events[e]:this.events[this.cacheJSDoc.timeStamp||this.curEvent]||{}}},{key:"getEnableJS",value:function(){return this.enableJS}},{key:"setEnableJS",value:function(e,t){var n=this.enableJS;if(this.enableJS=e,!n&&e&&t){var i=t.getJsNameTree(),r="";for(var o in i)r+=i[o]+"\n";var a=t.action;a&&a.getScript&&(r+=a.getScript()),this.initEvent(13,null,null,"Init"),this.resetClosure(r)}}},{key:"resetClosure",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.enableJS&&this.jsEnv.resetClosure({event:this.curEvent},e)}},{key:"getPDFDoc",value:function(){return this.PDFViewer.currentPDFDoc}},{key:"getFieldValue",value:function(e){var t=this.getPDFForm().getField(e);return t&&t.getValue()}},{key:"getPDFForm",value:function(){return this.getPDFDoc().getPDFForm()}},{key:"destroyEvent",value:function(e){e.target=null,e.engineTarget=null,e.source=null,e.doc=null}},{key:"initEvent",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};"Init"==i&&(this.events={},this.cacheJSDoc.cleanFields());var o=new vx;o.engineTarget=n,o.name=i;var a=(new Date).valueOf()+""+i+"yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Br()|0;return("x"==e?t:3&t|8).toString(16)}));for(t&&(a+=t.getName()+"_"),this.cacheJSDoc!==n?(o.target=this.cacheJSDoc.getField(n&&n.getName()),o.source=this.cacheJSDoc.getField(t&&t.getName()),n&&(a+=n.getName())):o.target=n,o.type=e,o.rc=!0,o.v="";this.events[a];)a+="p";o.timeStamp=this.curEvent=a,this.events[a]=o,o.changed=!1;var s=void 0;for(var c in Object.defineProperty(o,"change",{get:function(){return s},set:function(e){s=e,o.changed=!0}}),o.param=r,r)o[c]=r[c];switch(i){case yo.FieldKeyStroke:o.v=n.getValue(),o.changeEx=n.getValue(),o.targetName=n.getName();break;case yo.FieldRecalculateValue:case yo.FieldValueChanged:o.v=n.getValue(),o.targetName=n.getName();break;case"WillPrint":break;case"Focus":case yo.AnnotReceiveInputFocus:o.v=n.getValue(),o.targetName=n.getName();break;case"DidPrint":break;case"Blur":case yo.AnnotLoseInputFocus:o.v=n.getValue(),o.targetName=n.getName();break;case"WillSave":break;case"Format":case yo.FieldWillFormat:o.rc=!0,o.v=n.getValue(),o.targetName=n.getName();break;case yo.AnnotMouseButtonPressed:o.v=n.getValue(),o.targetName=n.getName()}return a}},{key:"closeDoc",value:function(){this.PDFViewer.close()}},{key:"postRunScripts",value:function(e){var t="";switch(e.name){case yo.FieldRecalculateValue:if(t=e.rc,void 0!==e.value&&e.valueSetted){var n=e.engineTarget,i=n.getType();if(4===i||5===i){var r=n.getOptions();r.forEach((function(t){t.value==e.value?t.selected=!0:t.selected=!1})),n.setOptions(r,!0),n.updateWidgetsUI(n.form,n.info.name,"setItems")}n.setValue(e.value)}break;case yo.FieldWillFormat:e.rc&&e.engineTarget.showDisplayValue(e.value),t={rc:e.rc,format:e.format,value:e.value};break;case yo.FieldKeyStroke:t=e.change,t={rc:e.rc,format:e.format,change:t};break;case yo.FieldValueChanged:t={rc:e.rc,format:e.format,value:e.value}}return"calculate"==this.status&&(this.getPDFForm().calculate(this.eventSource),this.status=""),this.destroyEvent(e),delete this.events[e.timeStamp],e=null,t}},{key:"handleJavaScripts",value:function(e,t,n){var i,r=this.events[n.event]||{};try{if(this.isBusy=!0,i=this.jsEnv.exec(e,!!t,n),this.isBusy=!1,"boolean"==typeof i)return this.postRunScripts(r)}catch(e){return this.isBusy=!1,r.rc=!0,this.postRunScripts(r),{ret:i=-1,errorInfo:e}}return i}},{key:"delayHandle",value:function(){var e=this,t=this.tasks;setTimeout((function(){if(e.isBusy)e.delayHandle();else for(var n=t.pop();n;)e.exec.apply(e,(0,M._)(n)),n=t.pop()}),10)}},{key:"exec",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e&&0!==e.trim().length&&this.enableJS?(n.event=n.event||this.curEvent,this.handleJavaScripts(e,t,n)):{rc:!0}}},{key:"waitForExecutionTask",value:function(){return(0,P._)((function(){var e;return(0,L.Jh)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,Ew.waitForCurrentRunningTasks()];case 1:return t.sent(),[3,3];case 2:return t.sent(),[3,3];case 3:return t.trys.push([3,5,,6]),[4,Ew.waitUntilQuiet(10)];case 4:return t.sent(),[3,6];case 5:return e=t.sent(),W.LoggerFactory.getLogger("PDFJS",e),[3,6];case 6:return[2]}}))}))()}},{key:"destroy",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){switch(t.label){case 0:return[4,e.waitForExecutionTask()];case 1:return t.sent(),e.PDFViewer=null,e.jsEnv.destroy(),[2]}}))}))()}}])}();const mx=function(){function e(t){(0,C._)(this,e),this.pdfViewer=t,this.stateHandlers={},this.defaultStateHandler=Zf,this.currentStateHandler=Zf,this.register(Zf),this.config=t.config.stateHandlerConfig||(0,z._)({},dn.STATE_HANDLER_HAND,{enableTextSelectionTool:!0,enableAnnotationSelectionTool:!0,enablePasting:!0})}return(0,D._)(e,[{key:"setDefaultStateHandler",value:function(e){this.defaultStateHandler=this.stateHandlers[e]||Zf}},{key:"switchToDefault",value:function(e){return this.switchTo(this.defaultStateHandler.getStateName(),e)}},{key:"currentIsDefaultStateHandler",value:function(){return this.currentStateHandler===this.defaultStateHandler}},{key:"getStateHandlerConfig",value:function(e){return this.config[e]}},{key:"setStateHandlerConfig",value:function(e,t){this.config[e]=t}},{key:"mergeStateHandlerConfig",value:function(e,t){this.config[e]=(0,W.extendOptions)(this.config[e]||{},t)}},{key:"pushStateHandlerConfig",value:function(e,t){var n=this.config[e]||{};this.config[e]=Object.assign(n,t)}},{key:"register",value:function(e){this.stateHandlers[e.getStateName()]=e}},{key:"unregister",value:function(e){var t=this.stateHandlers[e];this.currentStateHandler===t&&this.switchTo(this.defaultStateHandler.getStateName()),delete this.stateHandlers[e]}},{key:"get",value:function(e){return this.stateHandlers[e]||this.defaultStateHandler}},{key:"switchTo",value:function(e,t){var n=this.pdfViewer.eventEmitter,i=this.currentStateHandler,r=this.get(e);if(n.emit(se.beforeSwitchStateHandler,r,i),t&&r.setParams(t,this.pdfViewer),i!==r){this.currentStateHandler=r,e&&this.pdfViewer.activeElement(null),n.emit(se.deactiveStateHandler,i),n.emit(se.switchStateHandler,r,i,t);var o=this.pdfViewer.pdfViewerRender;if(o){var a=o.pdfDocRender;if(a){a.setStateHandler(r);var s=a.pagesRender;if(s){var c=s.pageRenders;if(c){for(var u=0,l=c.length;u<l;u++){c[u].stateHandler&&c[u].setStateHandler(r)}n.emit(se.afterSwitchStateHandler,r,i,t)}}}}}}},{key:"getCurrentStates",value:function(){return this.currentStateHandler}}]),e}();var yx=function(){function e(){(0,C._)(this,e),this.password=null,this.dataURL=null,this.encipherment=null,this.isEncryption=!1}return(0,D._)(e,[{key:"getPassword",value:function(){return this.password}},{key:"setPassword",value:function(e){var t=this.encipherment;this.password=t?t(e):e,this.isEncryption=!!t}},{key:"setEncryptionAlgorithm",value:function(e){this.encipherment=e}},{key:"verify",value:function(e){var t;this.isEncryption?t=this.encipherment(e)===this.password:t=e===this.password;return t}},{key:"getDataURL",value:function(){return this.dataURL}},{key:"setDataURL",value:function(e){this.dataURL=e}},{key:"export",value:function(){return{password:this.password,dataURL:this.dataURL,encipherment:this.encipherment,isEncryption:this.isEncryption}}},{key:"import",value:function(e){this.password=e.password,this.dataURL=e.dataURL,this.encipherment=e.encipherment,this.isEncryption=e.isEncryption}},{key:"base64ToArrayBuffer",value:function(e){for(var t=window.atob(e),n=t.length,i=new Uint8Array(n);n--;)i[n]=t.charCodeAt(n);return i}},{key:"arrayBufferToBase64",value:function(e){for(var t="",n=new Uint8Array(e),i=n.byteLength,r=0;r<i;r++)t+=String.fromCharCode(n[r]);return window.btoa(t)}}]),e}(),_x=function(){function e(t){(0,C._)(this,e),this.pdfViewer=t,this.inkSignList=[],this.currentInkSign=null,this.onceInkSign=null}return(0,D._)(e,[{key:"getList",value:function(){return this.inkSignList}},{key:"push",value:function(e){var t=this.inkSignList.length;return this.inkSignList.push(e),this.pdfViewer.eventEmitter.emit(se.inkSignAdded,this.inkSignList),t}},{key:"delete",value:function(e){this.inkSignList.splice(e,1),this.pdfViewer.eventEmitter.emit(se.inkSignDeleted,this.inkSignList)}},{key:"get",value:function(e){return this.inkSignList[e]}},{key:"addInkSign",value:function(){return new yx}},{key:"setCurrentInkSign",value:function(e){this.currentInkSign=this.inkSignList[e]}},{key:"getCurrentInkSign",value:function(){return this.currentInkSign}},{key:"setOnceInkSign",value:function(e){this.onceInkSign=e}},{key:"getOnceInkSign",value:function(){return this.onceInkSign}},{key:"setCurrentInkSignByImg",value:function(e){var t=this.addInkSign();t.setDataURL(e);var n=this.push(t);this.setCurrentInkSign(n)}}]),e}(),bx=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.render,i=void 0===n?function(e){return e}:n,r=t.payloadFieldName,o=void 0===r?"file":r,a=t.origin,s=void 0===a?"":a,c=t.uploadSnapshotAPIPath,u=t.method,l=void 0===u?"POST":u;(0,C._)(this,e),this.render=i,this.payloadFieldName=o,this.origin=s,this.uploadSnapshotAPIPath=c,this.method=l}return(0,D._)(e,[{key:"uploadImage",value:function(e){var t=this,n=new XMLHttpRequest,i=(0,W.createDeferred)();return n.addEventListener("readystatechange",(function(e){if(4==n.readyState)if(n.status>=200&&n.status<300||304==n.status){if(0===n.responseText.indexOf("/snapshot"))return void i.resolve("".concat(t.origin).concat(n.responseText));i.resolve(n.responseText)}else i.reject(n)})),n.open(this.method,"".concat(this.origin,"/").concat(this.uploadSnapshotAPIPath,"?filefield=").concat(this.payloadFieldName),!0),n.setRequestHeader("Content-Type","image/png"),n.setRequestHeader("X-File-Name","snapshot.png"),n.send(e),i.promise}}]),e}();const wx=bx;var kx=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;return(0,C._)(this,n),(a=t.call(this,o)).name="customRender",a.data=e,a.eUi=i,a.eHandler=r,a.customsRender=o,a}return(0,D._)(n,[{key:"init",value:function(){}},{key:"redraw",value:function(){}},{key:"active",value:function(){}},{key:"unActive",value:function(){}},{key:"destroy",value:function(){}}]),n}(Q),xx=function(){function e(t){(0,C._)(this,e),this.pdfViewer=t,this.matchRules=[],this.getPageCustomData=function(){return[]},this.getCustomDataId=function(){}}return(0,D._)(e,[{key:"registerMatchRule",value:function(e){return this.matchRules.push(e),e}},{key:"unRegisterMatchRule",value:function(e){var t=this.matchRules.indexOf(e);-1!==t&&this.matchRules.splice(t,1)}},{key:"get",value:function(e){for(var t=this.matchRules,n=kx,i=t.length;i--;){var r=t[i];if("function"==typeof r){var o=r(e,n);if(o)return o}}return n}}]),e}(),Px=function(){function e(){(0,C._)(this,e),this.stackArray=[]}return(0,D._)(e,[{key:"push",value:function(e){this.stackArray.push(e)}},{key:"pop",value:function(){return this.stackArray.pop()}},{key:"size",value:function(){return this.stackArray.length}},{key:"clear",value:function(){this.stackArray=[]}},{key:"filter",value:function(e){this.stackArray=this.stackArray.filter(e)}}]),e}(),Cx=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){return(0,C._)(this,n),t.call(this,e,i)}return(0,D._)(n,[{key:"getQuadPoints",value:function(){var e=this.info.quadPoints||[];if(0===e.length){var t=this.getRect(),n=t.left,i=t.top,r=t.right,o=t.bottom;return[[{x:n,y:i},{x:r,y:i},{x:n,y:o},{x:r,y:o}]]}return e}},{key:"isReplace",value:function(){return!1}},{key:"getDeviceQuadPoints",value:function(){for(var e=this.getPDFPage(),t=(e.getHeight(),e.getWidth()),n=this.getQuadPoints(),i=[],r=n.length;r--;){var o=n[r];i[r]=[{x:o[0].x,y:t-o[0].y},{x:o[1].x,y:t-o[1].y},{x:o[2].x,y:t-o[2].y},{x:o[3].x,y:t-o[3].y}]}return i}},{key:"getStartCharIndex",value:function(){return this.info.startCharIndex}},{key:"getStartCharInfo",value:function(){return this.info.startCharInfo}},{key:"getEndCharIndex",value:function(){return this.info.endCharIndex}},{key:"getEndCharInfo",value:function(){return this.info.endCharInfo}},{key:"canAccess",value:function(){return!!this.page.doc.checkPermission(Qt.extract||Qt.extractAccess)}},{key:"getText",value:function(){if(!this.page.doc.checkPermission(Qt.extract||Qt.extractAccess))throw new Error("Permission error");return this.info.text||""}},{key:"getContinuousText",value:function(){if(!this.page.doc.checkPermission(Qt.extract||Qt.extractAccess))throw new Error("Permission error");return this.info.text||""}},{key:"updateQuadPointsByCharIndex",value:function(e,t){var n=this;this.checkModidyPerm();var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.updateAnnotQuadPointsByCharIndex(r.getId(),i.getId(),this.getId(),e,t).then((function(e){if(e)return n.update(en.quadPointsUpdated).then((function(t){return n.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,t,n.getPDFPage()),e}))}))}},{key:"isArea",value:function(){return this.info.isArea}},{key:"exportToJSON",value:function(){for(var e=(0,E._)((0,S._)(n.prototype),"exportToJSON",this).call(this),t=this.getQuadPoints(),i="",r=0;r<t.length;r++){var o=t[r];i+=o[0].x+","+o[0].y+",",i+=o[1].x+","+o[1].y+",",i+=o[2].x+","+o[2].y+",",i+=o[3].x+","+o[3].y+","}return i=i.substr(0,i.length-1),Object.assign({},e,{coords:i})}}]),n}(ur);const Dx=Cx;var Ex={setContent:function(e){var t=e.method;return function(){e.host[t](e.content)}},setBorderColor:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){var n=t.getAnnotRender(o,r).component;n.annot[i](e.color).then((function(){n.updateRender()}))}},setOpacity:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){var n=t.getAnnotRender(o,r).component;n.annot[i](e.opacity).then((function(){n.updateRender()}))}},updateQuadPointsByCharIndex:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){var n=t.getAnnotRender(o,r).component;n.annot[i](e.start,e.end).then((function(){n.isReplace?n.caretAnnot.moveRectByCharIndex(e.end).then((function(){n.getGroupRenders().map((function(e){e.active()}))})):n.active()}))}},setStyleFillColor:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){t.getAnnotRender(o,r).component.annot[i](e.fillColor)}},setFillColor:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){t.getAnnotRender(o,r).component.annot[i](e.fillColor)}},setBorderWidth:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){t.getAnnotRender(o,r).component.annot[i](e.borderWidth)}},setBorderStyle:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){t.getAnnotRender(o,r).component.annot[i](e.borderStyle.style,e.borderStyle.param)}},setCalloutLineEndingStyle:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){var n=t.getAnnotRender(o,r).component;n.annot[i](+e.style).then((function(){n.activeRect(),n.redraw()}))}},setEndingStyle:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){var n=t.getAnnotRender(o,r).component;n.annot[i](e.isBeginning,+e.style).then((function(){n.activeRect(),n.redraw()}))}},enableCaption:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){t.getAnnotRender(o,r).component.annot[i](e.enableCaption)}},setRotation:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){t.getAnnotRender(o,r).component.annot[i]((e.rotation+360)%360)}},setHighlightingMode:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){t.getAnnotRender(o,r).component.annot[i](e.mode)}},setRect:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){var n=t.getAnnotRender(o,r).component;n.annot[i](e.rect).then((function(){n.active()}))}},eraseInk:function(e){e.host.pdfViewer;var t=e.host.annot;t.getObjectNumber(),t.getPDFPage().getIndex()},updateLinePoints:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=(e.method,n.getObjectNumber()),r=n.getPDFPage().getIndex(),o=[];return function(){var n=t.getAnnotRender(r,i).component;o.push(n.annot.setStartPoint(e.startPoint)),o.push(n.annot.setEndPoint(e.endPoint)),Promise.all(o).then((function(){n.active()}))}},setLeaderLineLength:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex(),a=e.leaderLinePoints,s=e.startPoint,c=e.endPoint,u=a.start,l=(a.end,Math.sqrt(Math.pow(s.x-u.x,2)+Math.pow(s.y-u.y,2))),A=!0;return(c.x-s.x)*(u.y-c.y)-(u.x-c.x)*(c.y-s.y)>0&&(A=!1),A&&(l=-l),function(){var e=t.getAnnotRender(o,r).component;e.annot[i](l).then((function(){e.active()}))}},updateVertexes:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex(),a=e.vertexes,s=e.index;return function(){var e=t.getAnnotRender(o,r).component;e.annot[i](s,a[s]).then((function(){e.active()}))}},removeAnnot:function(e,t){var n,i,r=e.host.pdfViewer,o=e.host.annot,a=o.getObjectNumber(),s=o.getPDFPage(),c=s.getIndex(),u=o.getReplies&&o.getReplies()||[],l=[];return u.map((function(e){l.push({id:e.getId(),content:e.getContent(),createTime:new Date(e.getCreateDateTime()).getTime(),modifiedTime:new Date(e.getModifiedDateTime()).getTime()})})),o.isGrouped&&o.isGrouped()?(n=[],o.groupElements.map((function(e,t){n.push(new Ix(e).getJson()),e.isGroupHeader()&&(i=t)}))):n=new Ix(o).getJson(),"before"===t?"redact"===o.getType()?function(){s.markRedactAnnot(n.rects,n.name)}:o.isGrouped&&o.isGrouped()?function(){s.addAnnotGroup(n,i).then((function(){var e=r.getAnnotRender(c,a).component;l.length>0?A(e.annot).then((function(){e.getGroupRenders().map((function(e){e.active()}))})):e.active()}))}:function(){s.addAnnot(n).then((function(){var e=r.getAnnotRender(c,a).component;l.length>0?A(e.annot).then((function(){e.active()})):e.active()}))}:function(){var e=r.getAnnotRender(c,a).component;s.removeAnnot(e.annot)};function A(e){var t=[];return l.map((function(n){t.push(e.addReply(n.content).then((function(e){e.setUniqueID(n.id).then((function(){e.setCreateDateTime(n.createTime).then((function(){e.setModifiedDateTime(n.modifiedTime)}))}))})))})),Promise.all(t)}},addAnnot:function(e,t){var n,i,r=e.host.pdfViewer,o=e.host.annot,a=o.getObjectNumber(),s=o.getPDFPage(),c=s.getIndex();return o.isGrouped&&o.isGrouped()?(n=[],o.groupElements.map((function(e,t){n.push(new Ix(e).getJson()),e.isGroupHeader()&&(i=t)}))):n=new Ix(o).getJson(),"before"===t?function(){s.removeAnnot(o)}:o.isGrouped&&o.isGrouped()?function(){s.addAnnotGroup(n,i).then((function(){r.getAnnotRender(c,a).component.getGroupRenders().map((function(e){e.active()}))}))}:function(){s.addAnnot(n).then((function(){r.getAnnotRender(c,a).component.active()}))}},markRedactAnnot:function(e,t){var n=e.host.pdfViewer,i=e.host.annot,r=i.getObjectNumber(),o=i.getPDFPage(),a=o.getIndex();return"before"===t?function(){o.removeAnnot(i)}:function(){var e=new Ix(i).getJson();o.markRedactAnnot(e.rects,e.name).then((function(){n.getAnnotRender(a,r).component.active()}))}},makeRedactByPages:function(e,t){var n=e.host;return"before"===t?function(){n.map((function(e){e.getPDFPage().removeAnnot(e)}))}:function(){n.map((function(e){e.getPDFPage().markRedactAnnot([e.info.rect],e.id)}))}},placeRedact:function(e,t){var n=e.host;return"before"===t?function(){n.map((function(e){e.getPDFPage().removeAnnot(e)}))}:function(){n.map((function(e){e.getPDFPage().markRedactAnnot([e.info.rect],e.id)}))}},eraser:function(e,t){var n=e.inkArray,i=e.host;return function(){n.map((function(e){i.getAnnotRender(e.annot.getId()).component.annot.setInkList(e.inkList)}))}},updateCalloutPoints:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=(e.method,n.getObjectNumber()),r=n.getPDFPage().getIndex();return function(){var n=t.getAnnotRender(r,i).component;n.annot._setRect(e.rect,!1).then((function(){n.annot.setInnerRectNoAction(e.innerRect).then((function(){n.annot.setCalloutLinePoints(e.calloutLinePoints).then((function(){n.annot.update().then((function(){n.redraw(),n.active()}))}))}))}))}},addReply:function(e,t){var n=e.host,i=e.replyAnnot,r=(e.component,e.pdfViewer),o=n.getPDFPage(),a=o.getIndex(),s=n.getId(),c=i.getId(),u=i.getCreateDateTime(),l=i.getModifiedDateTime();return"before"===t?function(){o.removeAnnot(i)}:function(){r.getAnnotRender(a,s).component.annot.addReply(i.getContent()).then((function(e){e.setUniqueID(c).then((function(){e.setCreateDateTime(new Date(u).getTime()).then((function(){e.setModifiedDateTime(new Date(l).getTime())}))}))}))}},deleteReply:function(e,t){var n=e.host,i=e.replyAnnot,r=e.pdfViewer,o=n.getPDFPage(),a=o.getIndex(),s=i.getId(),c=n.getId(),u=i.getCreateDateTime(),l=i.getModifiedDateTime();return"before"===t?function(){r.getAnnotRender(a,c).component.annot.addReply(i.getContent()).then((function(e){e.setUniqueID(s).then((function(){e.setCreateDateTime(new Date(u).getTime()).then((function(){e.setModifiedDateTime(new Date(l).getTime())}))}))}))}:function(){o.removeAnnotById(s)}},addAction:function(e,t){var n=e.host.pdfViewer,i=e.host.annot,r=i.getObjectNumber(),o=i.getPDFPage().getIndex(),a=i.getAction();return"before"===t?function(){i.removeAction()}:function(){!function(e,t){e.setAction(t.type).then((function(){var n=new Mx(t).toJson();return e.setActionData(n).then((function(){return Tx(e.getAction(),t)}))}))}(n.getAnnotRender(o,r).component.annot,a.info)}}};const Sx=Ex;var Ix=function(){function e(t){(0,C._)(this,e);var n=(0,W.colorConvertor)(t.getBorderColor(),"#");switch(this.json={objectNumber:t.info.objectNumber,name:t.getUniqueID(),rect:t.getRect(),color:n,style:t.getBorderStyle(),contents:t.getContent(),date:new Date(t.getModifiedDateTime()).getTime(),type:t.getType(),flags:t.getFlags()},(0,T._)(t,ur)&&this.markup(t),(0,T._)(t,Dx)&&this.textMarkup(t),t.getType()){case"ink":this.ink(t);break;case"fileattachment":this.fileattachment(t);break;case"polygon":this.polygon(t);break;case"polyline":this.polyline(t);break;case"stamp":this.stamp(t);break;case"freetext":this.freetext(t);break;case"screen":this.screen(t);break;case"line":this.line(t);break;case"redact":this.redact(t);break;case"highlight":this.highlight(t);break;case"link":this.link(t);break;case"square":this.square(t);break;case"circle":this.circle(t)}}return(0,D._)(e,[{key:"markup",value:function(e){this.json=Object.assign({intent:e.getIntent(),opacity:e.getOpacity(),subject:e.getSubject(),title:e.getTitle(),creationTimestamp:new Date(e.getCreateDateTime()).getTime()},this.json)}},{key:"textMarkup",value:function(e){this.json=Object.assign({startCharIndex:e.getStartCharIndex(),endCharIndex:e.getEndCharIndex(),coords:e.getQuadPoints()},this.json)}},{key:"ink",value:function(e){this.json=Object.assign({inkList:e.getInkList(),borderWidth:e.getBorderWidth()},this.json)}},{key:"fileattachment",value:function(e){this.json=Object.assign({fObjNum:e.info.fObjNum},this.json)}},{key:"polygon",value:function(e){this.json=Object.assign(this.json,{vertexes:e.getVertexes(),borderStyle:e.getBorderStyleWithParam().style,borderStyleParam:e.getBorderStyleWithParam().param,fillColor:e.info.fillColor,style:void 0,borderWidth:e.getBorderWidth()})}},{key:"polyline",value:function(e){this.json=Object.assign(this.json,{vertexes:e.getVertexes(),fillColor:e.info.fillColor,borderWidth:e.getBorderWidth(),borderStyle:e.getBorderStyleWithParam().style,borderStyleParam:e.getBorderStyleWithParam().param,style:void 0,startStyle:e.getStartStyle(),endStyle:e.getEndingStyle()})}},{key:"stamp",value:function(e){this.json=Object.assign({icon:e.info.icon,rotate:(e.getRotation()+360)%360,apObjeNum:e.info.apObjeNum},this.json)}},{key:"freetext",value:function(e){this.json=Object.assign(this.json,{calloutLinePoints:e.getCalloutLinePoints(),innerRect:e.getInnerRect(),borderStyle:e.getBorderStyleWithParam().style,borderStyleParam:e.getBorderStyleWithParam().param,style:void 0,"interior-color":e.getFillColor(),interiorColor:e.getFillColor(),borderWidth:e.getBorderWidth(),calloutLineEndingStyle:e.getCalloutLineEndingStyle()})}},{key:"line",value:function(e){var t=e.getMeasureRatio(),n=e.getMeasureUnit(),i=null;t&&n&&(i={unit:n,ratio:t});var r=e.getStartPoint(),o=e.getEndPoint();this.json=Object.assign(this.json,{startStyle:e.getStartStyle(),endStyle:e.getEndingStyle(),enableCaption:e.hasCaption(),startPoint:{x:r.x,y:r.y},endPoint:{x:o.x,y:o.y},measure:i,borderWidth:e.getBorderWidth(),borderStyle:e.getBorderStyleWithParam().style,borderStyleParam:e.getBorderStyleWithParam().param,style:void 0})}},{key:"screen",value:function(e){this.json=Object.assign({apObjNum:e.info.apObjNum,opacity:e.getOpacity(),rotate:{0:0,90:1,180:2,270:3}[e.getRotation()],iObjNum:e.info.iObjNum,aObjNum:e.info.aObjNum,borderWidth:e.getBorderWidth()},this.json)}},{key:"redact",value:function(e){var t=e.info.quadPoints,n=[];t.length>0?t.map((function(e){n.push({left:e[0].x,right:e[3].x,top:e[0].y,bottom:e[3].y})})):n.push(e.info.rect),this.json=Object.assign({rects:n},this.json)}},{key:"highlight",value:function(e){e.info.isArea&&(this.json=Object.assign(this.json,{coords:[e.getRect()],dicts:{AreaHi:"AreaHi"}}),delete this.json.startCharIndex,delete this.json.endCharIndex)}},{key:"link",value:function(e){this.json=Object.assign(this.json,{aObjNum:e.info.aObjNum,borderStyle:e.getBorderStyleWithParam().style,borderStyleParam:e.getBorderStyleWithParam().param,style:void 0,borderWidth:e.getBorderWidth()})}},{key:"circle",value:function(e){this.json=Object.assign(this.json,{fillColor:e.info.fillColor,borderWidth:e.getBorderWidth(),borderStyle:e.getBorderStyleWithParam().style,borderStyleParam:e.getBorderStyleWithParam().param,style:void 0})}},{key:"square",value:function(e){this.json=Object.assign(this.json,{fillColor:e.info.fillColor,borderWidth:e.getBorderWidth(),borderStyle:e.getBorderStyleWithParam().style,borderStyleParam:e.getBorderStyleWithParam().param,style:void 0})}},{key:"getJson",value:function(){return this.json}}]),e}();function Tx(e,t){for(var n=function(n){r.push(e.insertSubAction(n,t.subAction[n].type).then((function(){var i=new Mx(t.subAction[n]).toJson(),r=e.getSubAction(n);return r.setActionData(i).then((function(){return Tx(r,t.subAction[n])}))})))},i=t.subActionCount,r=[],o=0;o<i;o++)n(o);return Promise.all(r)}var Rx,Mx=function(){function e(t){(0,C._)(this,e),this.action=t,this.json={},this[t.type]()}return(0,D._)(e,[{key:"TypeGoto",value:function(){var e=this.action.destination;this.json=Object.assign(e,{type:e.zoomMode})}},{key:"TypeURI",value:function(){var e=this.action.uri;this.json=Object.assign({},{uri:e})}},{key:"TypeJavaScript",value:function(){var e=this.action.javascript;this.json=Object.assign({},{script:e})}},{key:"TypeNamed",value:function(){var e=this.action.name;this.json=Object.assign({},{name:e})}},{key:"TypeHide",value:function(){var e=this.action,t=e.fieldNames,n=e.hideState;this.json=Object.assign({},{fieldNames:t,hideState:n})}},{key:"TypeSubmitForm",value:function(){var e=this.action,t=e.flags,n=e.url,i=e.fieldNames;this.json=Object.assign({},{flags:t,url:n,fieldNames:i})}},{key:"TypeResetForm",value:function(){var e=this.action,t=e.flags,n=e.fieldNames;this.json=Object.assign({},{flags:t,fieldNames:n})}},{key:"TypeGoToR",value:function(){var e=this.action,t=e.destinationName,n=e.destination;this.json=Object.assign({},{destinationName:t,destination:n})}},{key:"toJson",value:function(){return this.json}}]),e}(),Fx=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,null,[{key:"undo",value:function(e){e.before()}},{key:"redo",value:function(e){e.after()}},{key:"createRecord",value:function(e,t){var n=e.method;return Sx[n](e,t)}},{key:"getUniqueId",value:function(e){return e.host&&e.host.annot?e.host.annot.getId():null}}]),e}(),Nx=function(){function e(t){var n=this;(0,C._)(this,e),this.pdfViewer=t,this.undoStack=new Px,this.redoStack=new Px,this.beforeFn=null,this.afterFn=null,this.pdfViewer.eventEmitter.on(se.willCloseDocument,(function(){n.clear()})),this.addEventListener()}return(0,D._)(e,[{key:"addEventListener",value:function(){}},{key:"removeEventListener",value:function(){}},{key:"before",value:function(e){this.beforeFn=Fx.createRecord(e,"before")}},{key:"after",value:function(e){this.afterFn=Fx.createRecord(e,"after"),this.remember(Fx.getUniqueId(e))}},{key:"remember",value:function(e){this.beforeFn&&this.afterFn&&this.undoStack.push({before:this.beforeFn,after:this.afterFn,uniqueId:e})}},{key:"removeById",value:function(e){this.undoStack.filter((function(t){return e!==t.uniqueId})),this.redoStack.filter((function(t){return e!==t.uniqueId}))}},{key:"undo",value:function(){var e=this.undoStack.pop();e&&(this.redoStack.push(e),Fx.undo(e))}},{key:"redo",value:function(){var e=this.redoStack.pop();e&&(this.undoStack.push(e),Fx.redo(e))}},{key:"clear",value:function(){this.undoStack.clear(),this.redoStack.clear()}},{key:"getUndoStack",value:function(){return this.undoStack}},{key:"getRedoStack",value:function(){return this.redoStack}}]),e}(),Lx=(function(){function e(){(0,C._)(this,e)}(0,D._)(e,[{key:"show",value:function(){(0,W.notImplemented)()}},{key:"hide",value:function(){(0,W.notImplemented)()}},{key:"destroy",value:function(){(0,W.notImplemented)()}}])}(),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;return(0,C._)(this,n),(e=t.call(this)).hiddenCallbacks=[],e.shownCallbacks=[],e.isDisabled=!1,e.isRetired=!1,e.isVisible=!1,e.hiddenCallbacks.push((function(){e.isVisible=!1})),e.shownCallbacks.push((function(){e.isVisible=!0})),e}return(0,D._)(n,[{key:"setCurrentTarget",value:function(e){this.currentTarget=e}},{key:"getCurrentTarget",value:function(){return this.currentTarget}},{key:"showAt",value:function(e,t){var n=this;return this.shownCallbacks.forEach((function(e){return e.call(n)})),!0}},{key:"disable",value:function(){this.isDisabled=!0}},{key:"enable",value:function(){this.isDisabled=!1}},{key:"retire",value:function(){this.isRetired=!0}},{key:"restore",value:function(){this.isRetired=!1}},{key:"destroy",value:function(){(0,E._)((0,S._)(n.prototype),"destroy",this).call(this),this.shownCallbacks.length=0,this.hiddenCallbacks.length=0}},{key:"getItem",value:function(){(0,W.notImplemented)()}},{key:"onHidden",value:function(e){"function"==typeof e&&this.hiddenCallbacks.push(e)}},{key:"onShown",value:function(e){"function"==typeof e&&this.shownCallbacks.push(e)}}]),n}(W.Disposable)),Ox=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"prepare",value:function(e){this.pdfViewer=e}},{key:"getRootElement",value:function(){return Promise.resolve(this.pdfViewer.element.parentElement)}},{key:"showReply",value:function(e){(0,W.notImplemented)()}},{key:"showPropertiesInfo",value:function(e){(0,W.notImplemented)()}},{key:"createContextMenu",value:function(e,t,n){(0,W.notImplemented)()}},{key:"alert",value:function(e){}},{key:"confirm",value:function(e){}},{key:"prompt",value:function(e,t,n){}},{key:"promptPassword",value:function(e,t,n){}},{key:"loading",value:function(e){return function(){}}},{key:"createFreeTextTooltip",value:function(e){}},{key:"createTextSelectionTooltip",value:function(e){}},{key:"getPortfolioPreviewer",value:function(e){(0,W.notImplemented)()}},{key:"createDateTimePicker",value:function(e){}},{key:"destroy",value:function(){}},{key:"openDialog",value:function(e){return Promise.resolve()}},{key:"getSignatureUI",value:function(){}},{key:"getActionEditorUI",value:function(){}},{key:"getJSDialogUI",value:function(){}},{key:"getJSDynamicDialogUI",value:function(){}},{key:"getJSPopupMenuUI",value:function(){}}]),e}(),jx=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r;return(0,C._)(this,n),(r=t.call(this)).pdfViewer=e,r.pageRender=i,r.isDisabled=!1,r.eventEmitter=new(bo()),r}return(0,D._)(n,[{key:"on",value:function(e,t){var n=this;return this.eventEmitter.on(e,t),function(){return n.eventEmitter.off(e,t)}}},{key:"showAt",value:function(e,t,n,i){this.eventEmitter.emit("show")}},{key:"hide",value:function(){this.eventEmitter.emit("hide")}},{key:"disable",value:function(){this.isDisabled=!0}},{key:"enable",value:function(){this.isDisabled=!1}},{key:"destroy",value:function(){this.eventEmitter.emit("destroy"),(0,E._)((0,S._)(n.prototype),"destroy",this).call(this)}}]),n}(W.Disposable),Bx=n(3013),Vx=n.n(Bx),Ux=(function(){function e(){(0,C._)(this,e),(0,z._)(this,"APPEARANCEKEY","bookmark_default_appearance"),(0,z._)(this,"pdfViewer",void 0)}(0,D._)(e,[{key:"getBookmarkById",value:function(e){var t;e=parseInt(e);var n=this.pdfViewer.getCurrentPDFDoc();if(n){var i=n.bookmarkRoot,r=function(n){var i=!0,o=!1,a=void 0;try{for(var s,c=n[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var u=s.value;if(t)break;if(u.id==e){t=u;break}u.children&&u.children.length>0&&r(u.children)}}catch(e){o=!0,a=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}};return i&&r(i.children),t}}},{key:"getCurrentPosition",value:function(){var e=this.pdfViewer.getPDFDocRender().pagesRender.viewMode.getVisibleIndexes()||[],t=this.pdfViewer.getDeviceCurrentPosition(),n=t.top,i=t.left,r=t.pageIndex;i=i<0?0:i,n=Math.max(n,Math.max(8,n)),n-=8;var o=this.pdfViewer.pdfViewerRender;if(!o)return Promise.reject("BookmarkService.getCurrentPosition error");var a=o.getViewMode().getName();"single-page-view-mode"!==a&&"continuous-view-mode"!==a||(r=n<0&&e.length>1?e[1]:e[0]);var s=this.pdfViewer.getPDFPageRender(r),c=s.getScale(),u=s.getRotation();return s.getPDFPage().then((function(e){var t;return t=(0,R._)(e.reverseDevicePoint([i,n],c,u),2),i=t[0],{top:n=t[1],left:i,pageIndex:r}}))}},{key:"renameBookmark",value:function(e,t,n){this.getBookmarkById(e).setProperty({title:t},!0);var i=this.pdfViewer.viewerUI.rootComponent.pdfUI.addonInstanceMap.UndoRedoAddon.addon.bookmarkModule,r=this.getBookmarkById(e);i&&i.pushUndoStack("rename",{bookmark:r,newName:t,oldName:n})}},{key:"addBookmark",value:function(e){var t=this,n=e.bookmarkId,i=e.pageIndex,r=e.title,o=e.left,a=void 0===o?0:o,s=e.top,c=void 0===s?0:s,u=e.relationship,l=void 0===u?3:u,A=this.pdfViewer.getCurrentPDFDoc();if(!A)return Promise.reject();var d=localStorage.getItem(this.APPEARANCEKEY);return A.getRootBookmark().then((function(e){return e||(e=A.createRootBookmark()),e})).then((function(e){var o=t.getBookmarkById(parseInt(n));return o||(o=e,l=1),o?(r||(r=t.pdfViewer.i18n.t("sidebar.bookmark.untitled")),void 0===i?t.getCurrentPosition().then((function(e){var n=e.top,i=e.left,a=e.pageIndex;return o.insertBookmark(r,a,n,i,l,t.pdfViewer.getPDFDocRender().scale)})):o.insertBookmark(r,i,c,a,l,t.pdfViewer.getPDFDocRender().scale)):Promise.reject()})).then((function(e){return d&&e.setProperty(JSON.parse(d)),e}))}},{key:"performAction",value:function(e){var t=this,n=this.getBookmarkById(e);n&&n.getAction().then((function(e){return e||n.getDestination()})).then((function(e){e&&t.pdfViewer.actionManager.get(e,t).active()}))}}],[{key:"getName",value:function(){return"bookmark-service"}},{key:"inject",value:function(){return{pdfViewer:eM}}}])}(),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r;return(0,C._)(this,n),(r=t.call(this)).pdfViewer=e,r.pageRender=i,r.topEditBar=null,r}return(0,D._)(n,[{key:"getSelectionInfo",value:function(){var e=(0,W.createDeferred)(),t=this.pdfViewer.getStore().subscribe(we.SELECTION_INFO,(function(n){t(),e.resolve(n)}));return this.addDestroyHook(t),e.promise}},{key:"copy",value:function(){var e,t=this;return this.getSelectionInfo().then((e=(0,P._)((function(e){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[4,(0,W.copyText)(e.text)];case 1:return n.sent()?t.pdfViewer.eventEmitter.emit(se.copyTextSuccess,e.text):t.pdfViewer.eventEmitter.emit(se.copyTextFailed,e.text),[2]}}))})),function(t){return e.apply(this,arguments)}))}},{key:"createTextHighlight",value:function(){return this.createTextMarkupAnnot("highlight")}},{key:"createStrikeout",value:function(){return this.createTextMarkupAnnot("strikeout")}},{key:"createUnderline",value:function(){return this.createTextMarkupAnnot("underline")}},{key:"createBookmark",value:function(){var e=this,t=this.pdfViewer.getCurrentPDFDoc();return this.hasModifyPermissions(t)?this.getSelectionInfo().then((function(t){if(t){t.page.getPDFDoc();var n=t.page.getIndex(),i=t.text,r=t.rectArray[0],o=r.left,a=r.top;e.pdfViewer.eventEmitter.emit("bookmark-create-current-view",{left:o,top:a,title:i,relationship:3,pageIndex:n}),e.pdfViewer.eventEmitter.emit("text-tooltip-click",{type:"createBookmark"})}})):Promise.resolve()}},{key:"createTextMarkupAnnot",value:function(e){var t=this;return this.pageRender.getPDFPage().then((function(n){return t.getSelectionInfo().then((function(i){return n.addAnnot({type:e,rect:{left:0,right:0,top:0,bottom:0},flags:4,coords:i.rectArray,subject:t.pdfViewer.i18n.t("viewer_:annotSubjects."+e[0].toUpperCase()+e.substr(1))}).then((function(n){var i=n[0];t.pdfViewer.eventEmitter.emit(se.addAnnotSuccess,i),t.pdfViewer.eventEmitter.emit("text-tooltip-click",{type:e}),t.pageRender.annotsRender.activeAnnot(i.getId())}))}))}))}},{key:"getBookmarkById",value:function(e,t){var n="",i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var c=a.value;if(n)break;if(c.id==e){n=c;break}c.children&&c.children.length>0&&(n=this.getBookmarkById(e,c.children))}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}},{key:"hasModifyPermissions",value:function(e){var t=e.getPermissions();return 8&t&&32&t}},{key:"getTopEditBar",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){switch(t.label){case 0:return e.topEditBar?[3,2]:[4,e.pdfViewer.viewerUI.rootComponent.pdfUI.getComponentByName("edit-text")];case 1:e.topEditBar=t.sent(),t.label=2;case 2:return[2,e.topEditBar]}}))}))()}},{key:"createEditText",value:function(){var e=this;return(0,P._)((function(){var t;return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[3,2];case 1:t=n.sent(),e.getTopEditBar().then((function(n){e.pageRender.$handler.find(".fv__mark-selection-blank").remove(),n.controller.handle(t.e,!0,t)})),n.label=2;case 2:return[2]}}))}))()}},{key:"clearSelectionInfo",value:function(){this.pdfViewer.getCurrentPDFDoc().clearSelectedInfo(this.pdfViewer)}}]),n}(W.Disposable)),Hx="copy_selected_text",zx="create-text-highlight",Wx="create-strikeout",Gx="create-underline",Yx=[{iconClass:"fv__icon-popup-copy",name:Hx},{iconClass:"fv__icon-toolbar-text-highlight",name:zx},{iconClass:"fv__icon-toolbar-strikeout",name:Wx},{iconClass:"fv__icon-toolbar-underline",name:Gx}].concat([]),$x=Vx()({actions:Yx}),Jx=(new DOMParser).parseFromString($x,"text/html").body.firstElementChild,qx=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r;return(0,C._)(this,n),(r=t.call(this,e,i)).selectionTool=new Ux(e,i),r.init(),r}return(0,D._)(n,[{key:"init",value:function(){var e=this;this.dom=Jx.cloneNode(!0),this.pageRender.$ui.get(0).appendChild(this.dom),this.dom.addEventListener("click",(function(t){if(!t.target.classList.contains("disabled")&&!t.target.parentNode.classList.contains("disabled")){var n=t.target.getAttribute("action");n&&e[n]&&e[n]().then((function(){e.hide()}))}}));var t=function(e){return e===document.activeElement||e.contains(document.activeElement)},n=t(this.dom),i=function(){var i=t(e.dom);n===i||i||e.eventEmitter.emit("blur"),n=i};document.addEventListener("focus",i,{capture:!0}),document.addEventListener("pointerup",i,{capture:!0}),this.addDestroyHook((function(){document.removeEventListener("focus",i,{capture:!0}),document.removeEventListener("pointerup",i,{capture:!0})}))}},{key:Hx,value:function(){return this.selectionTool.copy()}},{key:zx,value:function(){return this.selectionTool.createTextHighlight()}},{key:Wx,value:function(){return this.selectionTool.createStrikeout()}},{key:Gx,value:function(){return this.selectionTool.createUnderline()}},{key:"create-edit-text",value:function(){return this.selectionTool.createEditText()}},{key:"showAt",value:function(e,t){var i=this;(0,E._)((0,S._)(n.prototype),"showAt",this).call(this,e,t),this.dom.style.cssText+="\n            left: ".concat(e,"px;\n            top: ").concat(t,"px;\n        "),Promise.resolve(this.pageRender.docRender.getUserPermission().getValue()).then((function(e){i.dom.querySelectorAll("div>div.fv__selection-tool-tip-item:not(.fv__icon-popup-copy)").forEach((function(t){32&e?t.classList.remove("disabled"):t.classList.add("disabled")})),16&e?i.dom.querySelector("div>div.fv__icon-popup-copy").classList.remove("disabled"):i.dom.querySelector("div>div.fv__icon-popup-copy").classList.add("disabled"),i.dom.classList.add("fv__active"),i.dom.focus()}))}},{key:"hide",value:function(){(0,E._)((0,S._)(n.prototype),"hide",this).call(this),this.dom.classList.remove("fv__active")}},{key:"destroy",value:function(){(0,E._)((0,S._)(n.prototype),"destroy",this).call(this),this.dom.remove(),this.selectionTool.destroy()}}]),n}(jx),Kx=(function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r;return(0,C._)(this,n),(r=t.call(this,e,i)).selectionTool=new Ux(e,i),r.init(),r}(0,D._)(n,[{key:"init",value:function(){}},{key:"showAt",value:function(e,t){(0,E._)((0,S._)(n.prototype),"showAt",this).call(this,e,t)}},{key:"hide",value:function(){(0,E._)((0,S._)(n.prototype),"hide",this).call(this)}},{key:"destroy",value:function(){this.selectionTool.destroy()}}])}(jx),n(564)),Zx=n.n(Kx),Xx=(n(4482),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r;return(0,C._)(this,n),(r=t.call(this)).uniqueClassName=i.uniqueClassName,r.disabledClassName="context-menu-disabled",r.name=e,r}return(0,D._)(n,[{key:"disable",value:function(){if(this.isEnabled()){var e=this.getDOM();e&&e.classList.add(this.disabledClassName)}}},{key:"enable",value:function(){if(!this.isEnabled()){var e=this.getDOM();e&&e.classList.remove(this.disabledClassName)}}},{key:"getDOM",value:function(){return document.querySelector(this.uniqueClassName)}},{key:"isEnabled",value:function(){var e=this.getDOM();return!!e&&e.classList.contains(this.disabledClassName)}}]),n}(function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"disable",value:function(){(0,W.notImplemented)("disable")}},{key:"enable",value:function(){(0,W.notImplemented)("enable")}},{key:"isEnabled",value:function(){return(0,W.notImplemented)("isEnabled"),!1}}]),e}())),Qx=n(5143),eP=n.n(Qx);!function(e){e.PROGRESSING="Progressing",e.SUCCESS="Success",e.FAIL="Fail"}(Rx||(Rx={}));n(9580);var tP=(new DOMParser).parseFromString(eP()(),"text/html").body.firstElementChild,nP=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return(0,C._)(this,n),(e=t.call(this)).pdfViewer=o,e.coverOn=r,e.dom=tP.cloneNode(!0),e.textElement=e.dom.querySelector(".fv__ui-progress-text"),e.updateProgress(i),e}return(0,D._)(n,[{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.coverOn;this.coverOn=e,this.updateProgress(0),e.appendChild(this.dom),this.dom.style.display="block"}},{key:"hide",value:function(){this.dom.style.display="none",this.updateProgress(0)}},{key:"updateProgress",value:function(e,t){var n=this,i="";i=t===Rx.FAIL||t===Rx.SUCCESS?this.pdfViewer.i18n.t("progress.".concat(t)):"number"==typeof e?"".concat(e,"%"):"string"==typeof e?e:"".concat(e.current," / ").concat(e.total),this.textElement.innerText=i,t!==Rx.FAIL&&t!=Rx.SUCCESS||setTimeout((function(){n.hide()}),800)}}]),n}(W.Disposable),iP=function e(t,n){(0,C._)(this,e),(0,z._)(this,"pdfViewer",void 0),(0,z._)(this,"format",void 0),(0,z._)(this,"showYear",void 0),(0,z._)(this,"showMonth",void 0),(0,z._)(this,"showDate",void 0),(0,z._)(this,"showHour",void 0),(0,z._)(this,"showMinute",void 0),(0,z._)(this,"showSeconds",void 0),(0,z._)(this,"showTimePeriod",void 0),(0,z._)(this,"time24Hour",void 0),this.pdfViewer=t,this.format=n,this.showYear=-1!==n.indexOf("Y"),this.showMonth=-1!==n.indexOf("m"),this.showDate=-1!==n.indexOf("D"),this.showHour=-1!==n.toLowerCase().indexOf("h"),this.time24Hour=-1!==n.indexOf("H"),this.showMinute=-1!==n.indexOf("M"),this.showSeconds=-1!==n.toLowerCase().indexOf("s"),this.showTimePeriod=-1!==n.indexOf("t")};const rP=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],oP={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:e=>"undefined"!=typeof console&&console.warn(e),getWeek:e=>{const t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},aP={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:e=>{const t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},sP=aP,cP=(e,t=2)=>`000${e}`.slice(-1*t),uP=e=>!0===e?1:0;function lP(e,t){let n;return function(){clearTimeout(n),n=setTimeout((()=>e.apply(this,arguments)),t)}}const AP=e=>e instanceof Array?e:[e];function dP(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function hP(e,t,n){const i=window.document.createElement(e);return t=t||"",n=n||"",i.className=t,void 0!==n&&(i.textContent=n),i}function fP(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function pP(e,t){return t(e)?e:e.parentNode?pP(e.parentNode,t):void 0}function vP(e,t){const n=hP("div","numInputWrapper"),i=hP("input","numInput "+e),r=hP("span","arrowUp"),o=hP("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?i.type="number":(i.type="text",i.pattern="\\d*"),void 0!==t)for(const e in t)i.setAttribute(e,t[e]);return n.appendChild(i),n.appendChild(r),n.appendChild(o),n}function gP(e){try{if("function"==typeof e.composedPath){return e.composedPath()[0]}return e.target}catch(t){return e.target}}const mP=()=>{},yP=(e,t,n)=>n.months[t?"shorthand":"longhand"][e],_P={D:mP,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:(e,t)=>{e.setHours(parseFloat(t))},H:(e,t)=>{e.setHours(parseFloat(t))},J:(e,t)=>{e.setDate(parseFloat(t))},K:(e,t,n)=>{e.setHours(e.getHours()%12+12*uP(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:(e,t)=>{e.setSeconds(parseFloat(t))},U:(e,t)=>new Date(1e3*parseFloat(t)),W:function(e,t,n){const i=parseInt(t),r=new Date(e.getFullYear(),0,2+7*(i-1),0,0,0,0);return r.setDate(r.getDate()-r.getDay()+n.firstDayOfWeek),r},Y:(e,t)=>{e.setFullYear(parseFloat(t))},Z:(e,t)=>new Date(t),d:(e,t)=>{e.setDate(parseFloat(t))},h:(e,t)=>{e.setHours(parseFloat(t))},i:(e,t)=>{e.setMinutes(parseFloat(t))},j:(e,t)=>{e.setDate(parseFloat(t))},l:mP,m:(e,t)=>{e.setMonth(parseFloat(t)-1)},n:(e,t)=>{e.setMonth(parseFloat(t)-1)},s:(e,t)=>{e.setSeconds(parseFloat(t))},u:(e,t)=>new Date(parseFloat(t)),w:mP,y:(e,t)=>{e.setFullYear(2e3+parseFloat(t))}},bP={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},wP={Z:e=>e.toISOString(),D:function(e,t,n){return t.weekdays.shorthand[wP.w(e,t,n)]},F:function(e,t,n){return yP(wP.n(e,t,n)-1,!1,t)},G:function(e,t,n){return cP(wP.h(e,t,n))},H:e=>cP(e.getHours()),J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:(e,t)=>t.amPM[uP(e.getHours()>11)],M:function(e,t){return yP(e.getMonth(),!0,t)},S:e=>cP(e.getSeconds()),U:e=>e.getTime()/1e3,W:function(e,t,n){return n.getWeek(e)},Y:e=>cP(e.getFullYear(),4),d:e=>cP(e.getDate()),h:e=>e.getHours()%12?e.getHours()%12:12,i:e=>cP(e.getMinutes()),j:e=>e.getDate(),l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:e=>cP(e.getMonth()+1),n:e=>e.getMonth()+1,s:e=>e.getSeconds(),u:e=>e.getTime(),w:e=>e.getDay(),y:e=>String(e.getFullYear()).substring(2)},kP=({config:e=oP,l10n:t=aP,isMobile:n=!1})=>(i,r,o)=>{const a=o||t;return void 0===e.formatDate||n?r.split("").map(((t,n,r)=>wP[t]&&"\\"!==r[n-1]?wP[t](i,a,e):"\\"!==t?t:"")).join(""):e.formatDate(i,r,a)},xP=({config:e=oP,l10n:t=aP})=>(n,i,r,o)=>{if(0!==n&&!n)return;const a=o||t;let s;const c=n;if(n instanceof Date)s=new Date(n.getTime());else if("string"!=typeof n&&void 0!==n.toFixed)s=new Date(n);else if("string"==typeof n){const t=i||(e||oP).dateFormat,o=String(n).trim();if("today"===o)s=new Date,r=!0;else if(/Z$/.test(o)||/GMT$/.test(o))s=new Date(n);else if(e&&e.parseDate)s=e.parseDate(n,t);else{s=e&&e.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);let i,r=[];for(let e=0,o=0,c="";e<t.length;e++){const u=t[e],l="\\"===u,A="\\"===t[e-1]||l;if(bP[u]&&!A){c+=bP[u];const e=new RegExp(c).exec(n);e&&(i=!0)&&r["Y"!==u?"push":"unshift"]({fn:_P[u],val:e[++o]})}else l||(c+=".");r.forEach((({fn:e,val:t})=>s=e(s,t,a)||s))}s=i?s:void 0}}if(s instanceof Date&&!isNaN(s.getTime()))return!0===r&&s.setHours(0,0,0,0),s;e.errorHandler(new Error(`Invalid date provided: ${c}`))};function PP(e,t,n=!0){return!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}const CP=(e,t,n)=>e>Math.min(t,n)&&e<Math.max(t,n),DP={DAY:864e5};function EP(e){let t=e.defaultHour,n=e.defaultMinute,i=e.defaultSeconds;if(void 0!==e.minDate){const r=e.minDate.getHours(),o=e.minDate.getMinutes(),a=e.minDate.getSeconds();t<r&&(t=r),t===r&&n<o&&(n=o),t===r&&n===o&&i<a&&(i=e.minDate.getSeconds())}if(void 0!==e.maxDate){const r=e.maxDate.getHours(),o=e.maxDate.getMinutes();t=Math.min(t,r),t===r&&(n=Math.min(o,n)),t===r&&n===o&&(i=e.maxDate.getSeconds())}return{hours:t,minutes:n,seconds:i}}n(1895);const SP=300;function IP(e,t){const n={config:Object.assign(Object.assign({},oP),RP.defaultConfig),l10n:sP};function i(e){return e.bind(n)}function r(){const e=n.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==n.calendarContainer&&(n.calendarContainer.style.visibility="hidden",n.calendarContainer.style.display="block"),void 0!==n.daysContainer){const t=(n.days.offsetWidth+1)*e.showMonths;n.daysContainer.style.width=t+"px",n.calendarContainer.style.width=t+(void 0!==n.weekWrapper?n.weekWrapper.offsetWidth:0)+"px",n.calendarContainer.style.removeProperty("visibility"),n.calendarContainer.style.removeProperty("display")}}))}function o(e){if(0===n.selectedDates.length){const e=void 0===n.config.minDate||PP(new Date,n.config.minDate)>=0?new Date:new Date(n.config.minDate.getTime()),t=EP(n.config);e.setHours(t.hours,t.minutes,t.seconds,e.getMilliseconds()),n.selectedDates=[e],n.latestSelectedDateObj=e}void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();const t="keydown"===e.type,i=gP(e),r=i;void 0!==n.amPM&&i===n.amPM&&(n.amPM.textContent=n.l10n.amPM[uP(n.amPM.textContent===n.l10n.amPM[0])]);const o=parseFloat(r.getAttribute("min")),a=parseFloat(r.getAttribute("max")),s=parseFloat(r.getAttribute("step")),c=parseInt(r.value,10),u=e.delta||(t?38===e.which?1:-1:0);let l=c+s*u;if(void 0!==r.value&&2===r.value.length){const e=r===n.hourElement,t=r===n.minuteElement;l<o?(l=a+l+uP(!e)+(uP(e)&&uP(!n.amPM)),t&&f(void 0,-1,n.hourElement)):l>a&&(l=r===n.hourElement?l-a-uP(!n.amPM):o,t&&f(void 0,1,n.hourElement)),n.amPM&&e&&(1===s?l+c===23:Math.abs(l-c)>s)&&(n.amPM.textContent=n.l10n.amPM[uP(n.amPM.textContent===n.l10n.amPM[0])]),r.value=cP(l)}}(e);const t=n._input.value;a(),Z(),n._input.value!==t&&n._debouncedChange()}function a(){if(void 0===n.hourElement||void 0===n.minuteElement)return;let e=(parseInt(n.hourElement.value.slice(-2),10)||0)%24,t=(parseInt(n.minuteElement.value,10)||0)%60,i=void 0!==n.secondElement?(parseInt(n.secondElement.value,10)||0)%60:0;var r,o;void 0!==n.amPM&&(r=e,o=n.amPM.textContent,e=r%12+12*uP(o===n.l10n.amPM[1]));const a=void 0!==n.config.minTime||n.config.minDate&&n.minDateHasTime&&n.latestSelectedDateObj&&0===PP(n.latestSelectedDateObj,n.config.minDate,!0);if(void 0!==n.config.maxTime||n.config.maxDate&&n.maxDateHasTime&&n.latestSelectedDateObj&&0===PP(n.latestSelectedDateObj,n.config.maxDate,!0)){const r=void 0!==n.config.maxTime?n.config.maxTime:n.config.maxDate;e=Math.min(e,r.getHours()),e===r.getHours()&&(t=Math.min(t,r.getMinutes())),t===r.getMinutes()&&(i=Math.min(i,r.getSeconds()))}if(a){const r=void 0!==n.config.minTime?n.config.minTime:n.config.minDate;e=Math.max(e,r.getHours()),e===r.getHours()&&t<r.getMinutes()&&(t=r.getMinutes()),t===r.getMinutes()&&(i=Math.max(i,r.getSeconds()))}c(e,t,i)}function s(e){const t=e||n.latestSelectedDateObj;t&&c(t.getHours(),t.getMinutes(),t.getSeconds())}function c(e,t,i){void 0!==n.latestSelectedDateObj&&n.latestSelectedDateObj.setHours(e%24,t,i||0,0),n.hourElement&&n.minuteElement&&!n.isMobile&&(n.hourElement.value=cP(n.config.time_24hr?e:(12+e)%12+12*uP(e%12==0)),n.minuteElement.value=cP(t),void 0!==n.amPM&&(n.amPM.textContent=n.l10n.amPM[uP(e>=12)]),void 0!==n.secondElement&&(n.secondElement.value=cP(i)))}function u(e){const t=gP(e),n=parseInt(t.value)+(e.delta||0);(n/1e3>1||"Enter"===e.key&&!/[^\d]/.test(n.toString()))&&S(n)}function l(e,t,i,r){return t instanceof Array?t.forEach((t=>l(e,t,i,r))):e instanceof Array?e.forEach((e=>l(e,t,i,r))):(e.addEventListener(t,i,r),void n._handlers.push({remove:()=>e.removeEventListener(t,i)}))}function A(){Y("onChange")}function d(e,t){const i=void 0!==e?n.parseDate(e):n.latestSelectedDateObj||(n.config.minDate&&n.config.minDate>n.now?n.config.minDate:n.config.maxDate&&n.config.maxDate<n.now?n.config.maxDate:n.now),r=n.currentYear,o=n.currentMonth;try{void 0!==i&&(n.currentYear=i.getFullYear(),n.currentMonth=i.getMonth())}catch(e){e.message="Invalid date supplied: "+i,n.config.errorHandler(e)}t&&n.currentYear!==r&&(Y("onYearChange"),b()),!t||n.currentYear===r&&n.currentMonth===o||Y("onMonthChange"),n.redraw()}function h(e){const t=gP(e);~t.className.indexOf("arrow")&&f(e,t.classList.contains("arrowUp")?1:-1)}function f(e,t,n){const i=e&&gP(e),r=n||i&&i.parentNode&&i.parentNode.firstChild,o=$("increment");o.delta=t,r&&r.dispatchEvent(o)}function p(e,t,i,r){const o=I(t,!0),a=hP("span","flatpickr-day "+e,t.getDate().toString());return a.dateObj=t,a.$i=r,a.setAttribute("aria-label",n.formatDate(t,n.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===PP(t,n.now)&&(n.todayDateElem=a,a.classList.add("today"),a.setAttribute("aria-current","date")),o?(a.tabIndex=-1,J(t)&&(a.classList.add("selected"),n.selectedDateElem=a,"range"===n.config.mode&&(dP(a,"startRange",n.selectedDates[0]&&0===PP(t,n.selectedDates[0],!0)),dP(a,"endRange",n.selectedDates[1]&&0===PP(t,n.selectedDates[1],!0)),"nextMonthDay"===e&&a.classList.add("inRange")))):a.classList.add("flatpickr-disabled"),"range"===n.config.mode&&function(e){return!("range"!==n.config.mode||n.selectedDates.length<2)&&(PP(e,n.selectedDates[0])>=0&&PP(e,n.selectedDates[1])<=0)}(t)&&!J(t)&&a.classList.add("inRange"),n.weekNumbers&&1===n.config.showMonths&&"prevMonthDay"!==e&&i%7==1&&n.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+n.config.getWeek(t)+"</span>"),Y("onDayCreate",a),a}function v(e){e.focus(),"range"===n.config.mode&&F(e)}function g(e){const t=e>0?0:n.config.showMonths-1,i=e>0?n.config.showMonths:-1;for(let r=t;r!=i;r+=e){const t=n.daysContainer.children[r],i=e>0?0:t.children.length-1,o=e>0?t.children.length:-1;for(let n=i;n!=o;n+=e){const e=t.children[n];if(-1===e.className.indexOf("hidden")&&I(e.dateObj))return e}}}function m(e,t){const i=T(document.activeElement||document.body),r=void 0!==e?e:i?document.activeElement:void 0!==n.selectedDateElem&&T(n.selectedDateElem)?n.selectedDateElem:void 0!==n.todayDateElem&&T(n.todayDateElem)?n.todayDateElem:g(t>0?1:-1);void 0===r?n._input.focus():i?function(e,t){const i=-1===e.className.indexOf("Month")?e.dateObj.getMonth():n.currentMonth,r=t>0?n.config.showMonths:-1,o=t>0?1:-1;for(let a=i-n.currentMonth;a!=r;a+=o){const r=n.daysContainer.children[a],s=i-n.currentMonth===a?e.$i+t:t<0?r.children.length-1:0,c=r.children.length;for(let n=s;n>=0&&n<c&&n!=(t>0?c:-1);n+=o){const i=r.children[n];if(-1===i.className.indexOf("hidden")&&I(i.dateObj)&&Math.abs(e.$i-n)>=Math.abs(t))return v(i)}}n.changeMonth(o),m(g(o),0)}(r,t):v(r)}function y(e,t){const i=(new Date(e,t,1).getDay()-n.l10n.firstDayOfWeek+7)%7,r=n.utils.getDaysInMonth((t-1+12)%12,e),o=n.utils.getDaysInMonth(t,e),a=window.document.createDocumentFragment(),s=n.config.showMonths>1,c=s?"prevMonthDay hidden":"prevMonthDay",u=s?"nextMonthDay hidden":"nextMonthDay";let l=r+1-i,A=0;for(;l<=r;l++,A++)a.appendChild(p(c,new Date(e,t-1,l),l,A));for(l=1;l<=o;l++,A++)a.appendChild(p("",new Date(e,t,l),l,A));for(let r=o+1;r<=42-i&&(1===n.config.showMonths||A%7!=0);r++,A++)a.appendChild(p(u,new Date(e,t+1,r%o),r,A));const d=hP("div","dayContainer");return d.appendChild(a),d}function _(){if(void 0===n.daysContainer)return;fP(n.daysContainer),n.weekNumbers&&fP(n.weekNumbers);const e=document.createDocumentFragment();for(let t=0;t<n.config.showMonths;t++){const i=new Date(n.currentYear,n.currentMonth,1);i.setMonth(n.currentMonth+t),e.appendChild(y(i.getFullYear(),i.getMonth()))}n.daysContainer.appendChild(e),n.days=n.daysContainer.firstChild,"range"===n.config.mode&&1===n.selectedDates.length&&F()}function b(){if(n.config.showMonths>1||"dropdown"!==n.config.monthSelectorType)return;const e=function(e){return!(void 0!==n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&e<n.config.minDate.getMonth())&&!(void 0!==n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()&&e>n.config.maxDate.getMonth())};n.monthsDropdownContainer.tabIndex=-1,n.monthsDropdownContainer.innerHTML="";for(let t=0;t<12;t++){if(!e(t))continue;const i=hP("option","flatpickr-monthDropdown-month");i.value=new Date(n.currentYear,t).getMonth().toString(),i.textContent=yP(t,n.config.shorthandCurrentMonth,n.l10n),i.tabIndex=-1,n.currentMonth===t&&(i.selected=!0),n.monthsDropdownContainer.appendChild(i)}}function w(){const e=hP("div","flatpickr-month"),t=window.document.createDocumentFragment();let i;n.config.showMonths>1||"static"===n.config.monthSelectorType?i=hP("span","cur-month"):(n.monthsDropdownContainer=hP("select","flatpickr-monthDropdown-months"),n.monthsDropdownContainer.setAttribute("aria-label",n.l10n.monthAriaLabel),l(n.monthsDropdownContainer,"change",(e=>{const t=gP(e),i=parseInt(t.value,10);n.changeMonth(i-n.currentMonth),Y("onMonthChange")})),b(),i=n.monthsDropdownContainer);const r=vP("cur-year",{tabindex:"-1"}),o=r.getElementsByTagName("input")[0];o.setAttribute("aria-label",n.l10n.yearAriaLabel),n.config.minDate&&o.setAttribute("min",n.config.minDate.getFullYear().toString()),n.config.maxDate&&(o.setAttribute("max",n.config.maxDate.getFullYear().toString()),o.disabled=!!n.config.minDate&&n.config.minDate.getFullYear()===n.config.maxDate.getFullYear());const a=hP("div","flatpickr-current-month");return a.appendChild(i),a.appendChild(r),t.appendChild(a),e.appendChild(t),{container:e,yearElement:o,monthElement:i}}function k(){fP(n.monthNav),n.monthNav.appendChild(n.prevMonthNav),n.config.showMonths&&(n.yearElements=[],n.monthElements=[]);for(let e=n.config.showMonths;e--;){const e=w();n.yearElements.push(e.yearElement),n.monthElements.push(e.monthElement),n.monthNav.appendChild(e.container)}n.monthNav.appendChild(n.nextMonthNav)}function x(){n.weekdayContainer?fP(n.weekdayContainer):n.weekdayContainer=hP("div","flatpickr-weekdays");for(let e=n.config.showMonths;e--;){const e=hP("div","flatpickr-weekdaycontainer");n.weekdayContainer.appendChild(e)}return P(),n.weekdayContainer}function P(){if(!n.weekdayContainer)return;const e=n.l10n.firstDayOfWeek;let t=[...n.l10n.weekdays.shorthand];e>0&&e<t.length&&(t=[...t.splice(e,t.length),...t.splice(0,e)]);for(let e=n.config.showMonths;e--;)n.weekdayContainer.children[e].innerHTML=`\n      <span class='flatpickr-weekday'>\n        ${t.join("</span><span class='flatpickr-weekday'>")}\n      </span>\n      `}function C(e,t=!0){const i=t?e:e-n.currentMonth;i<0&&!0===n._hidePrevMonthArrow||i>0&&!0===n._hideNextMonthArrow||(n.currentMonth+=i,(n.currentMonth<0||n.currentMonth>11)&&(n.currentYear+=n.currentMonth>11?1:-1,n.currentMonth=(n.currentMonth+12)%12,Y("onYearChange"),b()),_(),Y("onMonthChange"),q())}function D(e){return!(!n.config.appendTo||!n.config.appendTo.contains(e))||n.calendarContainer.contains(e)}function E(e){if(n.isOpen&&!n.config.inline){const t=gP(e),i=D(t),r=t===n.input||t===n.altInput||n.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(n.input)||~e.path.indexOf(n.altInput)),a="blur"===e.type?r&&e.relatedTarget&&!D(e.relatedTarget):!r&&!i&&!D(e.relatedTarget),s=!n.config.ignoredFocusElements.some((e=>e.contains(t)));a&&s&&(void 0!==n.timeContainer&&void 0!==n.minuteElement&&void 0!==n.hourElement&&""!==n.input.value&&void 0!==n.input.value&&o(),n.close(),n.config&&"range"===n.config.mode&&1===n.selectedDates.length&&(n.clear(!1),n.redraw()))}}function S(e){if(!e||n.config.minDate&&e<n.config.minDate.getFullYear()||n.config.maxDate&&e>n.config.maxDate.getFullYear())return;const t=e,i=n.currentYear!==t;n.currentYear=t||n.currentYear,n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth=Math.min(n.config.maxDate.getMonth(),n.currentMonth):n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&(n.currentMonth=Math.max(n.config.minDate.getMonth(),n.currentMonth)),i&&(n.redraw(),Y("onYearChange"),b())}function I(e,t=!0){var i;const r=n.parseDate(e,void 0,t);if(n.config.minDate&&r&&PP(r,n.config.minDate,void 0!==t?t:!n.minDateHasTime)<0||n.config.maxDate&&r&&PP(r,n.config.maxDate,void 0!==t?t:!n.maxDateHasTime)>0)return!1;if(!n.config.enable&&0===n.config.disable.length)return!0;if(void 0===r)return!1;const o=!!n.config.enable,a=null!==(i=n.config.enable)&&void 0!==i?i:n.config.disable;for(let e,t=0;t<a.length;t++){if(e=a[t],"function"==typeof e&&e(r))return o;if(e instanceof Date&&void 0!==r&&e.getTime()===r.getTime())return o;if("string"==typeof e){const t=n.parseDate(e,void 0,!0);return t&&t.getTime()===r.getTime()?o:!o}if("object"==typeof e&&void 0!==r&&e.from&&e.to&&r.getTime()>=e.from.getTime()&&r.getTime()<=e.to.getTime())return o}return!o}function T(e){return void 0!==n.daysContainer&&(-1===e.className.indexOf("hidden")&&-1===e.className.indexOf("flatpickr-disabled")&&n.daysContainer.contains(e))}function R(e){!(e.target===n._input)||!(n.selectedDates.length>0||n._input.value.length>0)||e.relatedTarget&&D(e.relatedTarget)||n.setDate(n._input.value,!0,e.target===n.altInput?n.config.altFormat:n.config.dateFormat)}function M(t){const i=gP(t),r=n.config.wrap?e.contains(i):i===n._input,s=n.config.allowInput,c=n.isOpen&&(!s||!r),u=n.config.inline&&r&&!s;if(13===t.keyCode&&r){if(s)return n.setDate(n._input.value,!0,i===n.altInput?n.config.altFormat:n.config.dateFormat),i.blur();n.open()}else if(D(i)||c||u){const e=!!n.timeContainer&&n.timeContainer.contains(i);switch(t.keyCode){case 13:e?(t.preventDefault(),o(),U()):H(t);break;case 27:t.preventDefault(),U();break;case 8:case 46:r&&!n.config.allowInput&&(t.preventDefault(),n.clear());break;case 37:case 39:if(e||r)n.hourElement&&n.hourElement.focus();else if(t.preventDefault(),void 0!==n.daysContainer&&(!1===s||document.activeElement&&T(document.activeElement))){const e=39===t.keyCode?1:-1;t.ctrlKey?(t.stopPropagation(),C(e),m(g(1),0)):m(void 0,e)}break;case 38:case 40:t.preventDefault();const a=40===t.keyCode?1:-1;n.daysContainer&&void 0!==i.$i||i===n.input||i===n.altInput?t.ctrlKey?(t.stopPropagation(),S(n.currentYear-a),m(g(1),0)):e||m(void 0,7*a):i===n.currentYearElement?S(n.currentYear-a):n.config.enableTime&&(!e&&n.hourElement&&n.hourElement.focus(),o(t),n._debouncedChange());break;case 9:if(e){const e=[n.hourElement,n.minuteElement,n.secondElement,n.amPM].concat(n.pluginElements).filter((e=>e)),r=e.indexOf(i);if(-1!==r){const i=e[r+(t.shiftKey?-1:1)];t.preventDefault(),(i||n._input).focus()}}else!n.config.noCalendar&&n.daysContainer&&n.daysContainer.contains(i)&&t.shiftKey&&(t.preventDefault(),n._input.focus())}}if(void 0!==n.amPM&&i===n.amPM)switch(t.key){case n.l10n.amPM[0].charAt(0):case n.l10n.amPM[0].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[0],a(),Z();break;case n.l10n.amPM[1].charAt(0):case n.l10n.amPM[1].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[1],a(),Z()}(r||D(i))&&Y("onKeyDown",t)}function F(e){if(1!==n.selectedDates.length||e&&(!e.classList.contains("flatpickr-day")||e.classList.contains("flatpickr-disabled")))return;const t=e?e.dateObj.getTime():n.days.firstElementChild.dateObj.getTime(),i=n.parseDate(n.selectedDates[0],void 0,!0).getTime(),r=Math.min(t,n.selectedDates[0].getTime()),o=Math.max(t,n.selectedDates[0].getTime());let a=!1,s=0,c=0;for(let e=r;e<o;e+=DP.DAY)I(new Date(e),!0)||(a=a||e>r&&e<o,e<i&&(!s||e>s)?s=e:e>i&&(!c||e<c)&&(c=e));for(let r=0;r<n.config.showMonths;r++){const o=n.daysContainer.children[r];for(let r=0,u=o.children.length;r<u;r++){const u=o.children[r],l=u.dateObj.getTime(),A=s>0&&l<s||c>0&&l>c;A?(u.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach((e=>{u.classList.remove(e)}))):a&&!A||(["startRange","inRange","endRange","notAllowed"].forEach((e=>{u.classList.remove(e)})),void 0!==e&&(e.classList.add(t<=n.selectedDates[0].getTime()?"startRange":"endRange"),i<t&&l===i?u.classList.add("startRange"):i>t&&l===i&&u.classList.add("endRange"),l>=s&&(0===c||l<=c)&&CP(l,i,t)&&u.classList.add("inRange")))}}}function N(){!n.isOpen||n.config.static||n.config.inline||B()}function L(e){return t=>{const i=n.config[`_${e}Date`]=n.parseDate(t,n.config.dateFormat),r=n.config[`_${"min"===e?"max":"min"}Date`];void 0!==i&&(n["min"===e?"minDateHasTime":"maxDateHasTime"]=i.getHours()>0||i.getMinutes()>0||i.getSeconds()>0),n.selectedDates&&(n.selectedDates=n.selectedDates.filter((e=>I(e))),n.selectedDates.length||"min"!==e||s(i),Z()),n.daysContainer&&(V(),void 0!==i?n.currentYearElement[e]=i.getFullYear().toString():n.currentYearElement.removeAttribute(e),n.currentYearElement.disabled=!!r&&void 0!==i&&r.getFullYear()===i.getFullYear())}}function O(){return n.config.wrap?e.querySelector("[data-input]"):e}function j(){"object"!=typeof n.config.locale&&void 0===RP.l10ns[n.config.locale]&&n.config.errorHandler(new Error(`flatpickr: invalid locale ${n.config.locale}`)),n.l10n=Object.assign(Object.assign({},RP.l10ns.default),"object"==typeof n.config.locale?n.config.locale:"default"!==n.config.locale?RP.l10ns[n.config.locale]:void 0),bP.K=`(${n.l10n.amPM[0]}|${n.l10n.amPM[1]}|${n.l10n.amPM[0].toLowerCase()}|${n.l10n.amPM[1].toLowerCase()})`;void 0===Object.assign(Object.assign({},t),JSON.parse(JSON.stringify(e.dataset||{}))).time_24hr&&void 0===RP.defaultConfig.time_24hr&&(n.config.time_24hr=n.l10n.time_24hr),n.formatDate=kP(n),n.parseDate=xP({config:n.config,l10n:n.l10n})}function B(e){if("function"==typeof n.config.position)return void n.config.position(n,e);if(void 0===n.calendarContainer)return;Y("onPreCalendarPosition");const t=e||n._positionElement,i=Array.prototype.reduce.call(n.calendarContainer.children,((e,t)=>e+t.offsetHeight),0),r=n.calendarContainer.offsetWidth,o=n.config.position.split(" "),a=o[0],s=o.length>1?o[1]:null,c=t.getBoundingClientRect(),u=window.innerHeight-c.bottom,l="above"===a||"below"!==a&&u<i&&c.top>i,A=window.pageYOffset+c.top+(l?-i-2:t.offsetHeight+2);if(dP(n.calendarContainer,"arrowTop",!l),dP(n.calendarContainer,"arrowBottom",l),n.config.inline)return;let d=window.pageXOffset+c.left,h=!1,f=!1;"center"===s?(d-=(r-c.width)/2,h=!0):"right"===s&&(d-=r-c.width,f=!0),dP(n.calendarContainer,"arrowLeft",!h&&!f),dP(n.calendarContainer,"arrowCenter",h),dP(n.calendarContainer,"arrowRight",f);const p=window.document.body.offsetWidth-(window.pageXOffset+c.right),v=d+r>window.document.body.offsetWidth,g=p+r>window.document.body.offsetWidth;if(dP(n.calendarContainer,"rightMost",v),!n.config.static)if(n.calendarContainer.style.top=`${A}px`,v)if(g){const e=function(){let e=null;for(let t=0;t<document.styleSheets.length;t++){const n=document.styleSheets[t];try{n.cssRules}catch(e){continue}e=n;break}return null!=e?e:function(){const e=document.createElement("style");return document.head.appendChild(e),e.sheet}()}();if(void 0===e)return;const t=window.document.body.offsetWidth,i=Math.max(0,t/2-r/2),o=".flatpickr-calendar.centerMost:before",a=".flatpickr-calendar.centerMost:after",s=e.cssRules.length,u=`{left:${c.left}px;right:auto;}`;dP(n.calendarContainer,"rightMost",!1),dP(n.calendarContainer,"centerMost",!0),e.insertRule(`${o},${a}${u}`,s),n.calendarContainer.style.left=`${i}px`,n.calendarContainer.style.right="auto"}else n.calendarContainer.style.left="auto",n.calendarContainer.style.right=`${p}px`;else n.calendarContainer.style.left=`${d}px`,n.calendarContainer.style.right="auto"}function V(){n.config.noCalendar||n.isMobile||(b(),q(),_())}function U(){n._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(n.close,0):n.close()}function H(e){e.preventDefault(),e.stopPropagation();const t=pP(gP(e),(e=>e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")));if(void 0===t)return;const i=t,r=n.latestSelectedDateObj=new Date(i.dateObj.getTime()),o=(r.getMonth()<n.currentMonth||r.getMonth()>n.currentMonth+n.config.showMonths-1)&&"range"!==n.config.mode;if(n.selectedDateElem=i,"single"===n.config.mode)n.selectedDates=[r];else if("multiple"===n.config.mode){const e=J(r);e?n.selectedDates.splice(parseInt(e),1):n.selectedDates.push(r)}else"range"===n.config.mode&&(2===n.selectedDates.length&&n.clear(!1,!1),n.latestSelectedDateObj=r,n.selectedDates.push(r),0!==PP(r,n.selectedDates[0],!0)&&n.selectedDates.sort(((e,t)=>e.getTime()-t.getTime())));if(a(),o){const e=n.currentYear!==r.getFullYear();n.currentYear=r.getFullYear(),n.currentMonth=r.getMonth(),e&&(Y("onYearChange"),b()),Y("onMonthChange")}if(q(),_(),Z(),o||"range"===n.config.mode||1!==n.config.showMonths?void 0!==n.selectedDateElem&&void 0===n.hourElement&&n.selectedDateElem&&n.selectedDateElem.focus():v(i),void 0!==n.hourElement&&void 0!==n.hourElement&&n.hourElement.focus(),n.config.closeOnSelect){const e="single"===n.config.mode&&!n.config.enableTime,t="range"===n.config.mode&&2===n.selectedDates.length&&!n.config.enableTime;(e||t)&&U()}A()}n.parseDate=xP({config:n.config,l10n:n.l10n}),n._handlers=[],n.pluginElements=[],n.loadedPlugins=[],n._bind=l,n._setHoursFromDate=s,n._positionCalendar=B,n.changeMonth=C,n.changeYear=S,n.clear=function(e=!0,t=!0){n.input.value="",void 0!==n.altInput&&(n.altInput.value="");void 0!==n.mobileInput&&(n.mobileInput.value="");n.selectedDates=[],n.latestSelectedDateObj=void 0,!0===t&&(n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth());if(!0===n.config.enableTime){const{hours:e,minutes:t,seconds:i}=EP(n.config);c(e,t,i)}n.redraw(),e&&Y("onChange")},n.close=function(){n.isOpen=!1,n.isMobile||(void 0!==n.calendarContainer&&n.calendarContainer.classList.remove("open"),void 0!==n._input&&n._input.classList.remove("active"));Y("onClose")},n._createElement=hP,n.destroy=function(){void 0!==n.config&&Y("onDestroy");for(let e=n._handlers.length;e--;)n._handlers[e].remove();if(n._handlers=[],n.mobileInput)n.mobileInput.parentNode&&n.mobileInput.parentNode.removeChild(n.mobileInput),n.mobileInput=void 0;else if(n.calendarContainer&&n.calendarContainer.parentNode)if(n.config.static&&n.calendarContainer.parentNode){const e=n.calendarContainer.parentNode;if(e.lastChild&&e.removeChild(e.lastChild),e.parentNode){for(;e.firstChild;)e.parentNode.insertBefore(e.firstChild,e);e.parentNode.removeChild(e)}}else n.calendarContainer.parentNode.removeChild(n.calendarContainer);n.altInput&&(n.input.type="text",n.altInput.parentNode&&n.altInput.parentNode.removeChild(n.altInput),delete n.altInput);n.input&&(n.input.type=n.input._type,n.input.classList.remove("flatpickr-input"),n.input.removeAttribute("readonly"));["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((e=>{try{delete n[e]}catch(e){}}))},n.isEnabled=I,n.jumpToDate=d,n.open=function(e,t=n._positionElement){if(!0===n.isMobile){if(e){e.preventDefault();const t=gP(e);t&&t.blur()}return void 0!==n.mobileInput&&(n.mobileInput.focus(),n.mobileInput.click()),void Y("onOpen")}if(n._input.disabled||n.config.inline)return;const i=n.isOpen;n.isOpen=!0,i||(n.calendarContainer.classList.add("open"),n._input.classList.add("active"),Y("onOpen"),B(t));!0===n.config.enableTime&&!0===n.config.noCalendar&&(!1!==n.config.allowInput||void 0!==e&&n.timeContainer.contains(e.relatedTarget)||setTimeout((()=>n.hourElement.select()),50))},n.redraw=V,n.set=function(e,t){if(null!==e&&"object"==typeof e){Object.assign(n.config,e);for(const t in e)void 0!==z[t]&&z[t].forEach((e=>e()))}else n.config[e]=t,void 0!==z[e]?z[e].forEach((e=>e())):rP.indexOf(e)>-1&&(n.config[e]=AP(t));n.redraw(),Z(!0)},n.setDate=function(e,t=!1,i=n.config.dateFormat){if(0!==e&&!e||e instanceof Array&&0===e.length)return n.clear(t);W(e,i),n.latestSelectedDateObj=n.selectedDates[n.selectedDates.length-1],n.redraw(),d(void 0,t),s(),0===n.selectedDates.length&&n.clear(!1);Z(t),t&&Y("onChange")},n.toggle=function(e){if(!0===n.isOpen)return n.close();n.open(e)};const z={locale:[j,P],showMonths:[k,r,x],minDate:[d],maxDate:[d],clickOpens:[()=>{!0===n.config.clickOpens?(l(n._input,"focus",n.open),l(n._input,"click",n.open)):(n._input.removeEventListener("focus",n.open),n._input.removeEventListener("click",n.open))}]};function W(e,t){let i=[];if(e instanceof Array)i=e.map((e=>n.parseDate(e,t)));else if(e instanceof Date||"number"==typeof e)i=[n.parseDate(e,t)];else if("string"==typeof e)switch(n.config.mode){case"single":case"time":i=[n.parseDate(e,t)];break;case"multiple":i=e.split(n.config.conjunction).map((e=>n.parseDate(e,t)));break;case"range":i=e.split(n.l10n.rangeSeparator).map((e=>n.parseDate(e,t)))}else n.config.errorHandler(new Error(`Invalid date supplied: ${JSON.stringify(e)}`));n.selectedDates=n.config.allowInvalidPreload?i:i.filter((e=>e instanceof Date&&I(e,!1))),"range"===n.config.mode&&n.selectedDates.sort(((e,t)=>e.getTime()-t.getTime()))}function G(e){return e.slice().map((e=>"string"==typeof e||"number"==typeof e||e instanceof Date?n.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:n.parseDate(e.from,void 0),to:n.parseDate(e.to,void 0)}:e)).filter((e=>e))}function Y(e,t){if(void 0===n.config)return;const i=n.config[e];if(void 0!==i&&i.length>0)for(let e=0;i[e]&&e<i.length;e++)i[e](n.selectedDates,n.input.value,n,t);"onChange"===e&&(n.input.dispatchEvent($("change")),n.input.dispatchEvent($("input")))}function $(e){const t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function J(e){for(let t=0;t<n.selectedDates.length;t++)if(0===PP(n.selectedDates[t],e))return""+t;return!1}function q(){n.config.noCalendar||n.isMobile||!n.monthNav||(n.yearElements.forEach(((e,t)=>{const i=new Date(n.currentYear,n.currentMonth,1);i.setMonth(n.currentMonth+t),n.config.showMonths>1||"static"===n.config.monthSelectorType?n.monthElements[t].textContent=yP(i.getMonth(),n.config.shorthandCurrentMonth,n.l10n)+" ":n.monthsDropdownContainer.value=i.getMonth().toString(),e.value=i.getFullYear().toString()})),n._hidePrevMonthArrow=void 0!==n.config.minDate&&(n.currentYear===n.config.minDate.getFullYear()?n.currentMonth<=n.config.minDate.getMonth():n.currentYear<n.config.minDate.getFullYear()),n._hideNextMonthArrow=void 0!==n.config.maxDate&&(n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth+1>n.config.maxDate.getMonth():n.currentYear>n.config.maxDate.getFullYear()))}function K(e){return n.selectedDates.map((t=>n.formatDate(t,e))).filter(((e,t,i)=>"range"!==n.config.mode||n.config.enableTime||i.indexOf(e)===t)).join("range"!==n.config.mode?n.config.conjunction:n.l10n.rangeSeparator)}function Z(e=!0){void 0!==n.mobileInput&&n.mobileFormatStr&&(n.mobileInput.value=void 0!==n.latestSelectedDateObj?n.formatDate(n.latestSelectedDateObj,n.mobileFormatStr):""),n.input.value=K(n.config.dateFormat),void 0!==n.altInput&&(n.altInput.value=K(n.config.altFormat)),!1!==e&&Y("onValueUpdate")}function X(e){const t=gP(e),i=n.prevMonthNav.contains(t),r=n.nextMonthNav.contains(t);i||r?C(i?-1:1):n.yearElements.indexOf(t)>=0?t.select():t.classList.contains("arrowUp")?n.changeYear(n.currentYear+1):t.classList.contains("arrowDown")&&n.changeYear(n.currentYear-1)}return function(){n.element=n.input=e,n.isOpen=!1,function(){const r=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],o=Object.assign(Object.assign({},JSON.parse(JSON.stringify(e.dataset||{}))),t),a={};n.config.parseDate=o.parseDate,n.config.formatDate=o.formatDate,Object.defineProperty(n.config,"enable",{get:()=>n.config._enable,set:e=>{n.config._enable=G(e)}}),Object.defineProperty(n.config,"disable",{get:()=>n.config._disable,set:e=>{n.config._disable=G(e)}});const s="time"===o.mode;if(!o.dateFormat&&(o.enableTime||s)){const e=RP.defaultConfig.dateFormat||oP.dateFormat;a.dateFormat=o.noCalendar||s?"H:i"+(o.enableSeconds?":S":""):e+" H:i"+(o.enableSeconds?":S":"")}if(o.altInput&&(o.enableTime||s)&&!o.altFormat){const e=RP.defaultConfig.altFormat||oP.altFormat;a.altFormat=o.noCalendar||s?"h:i"+(o.enableSeconds?":S K":" K"):e+` h:i${o.enableSeconds?":S":""} K`}Object.defineProperty(n.config,"minDate",{get:()=>n.config._minDate,set:L("min")}),Object.defineProperty(n.config,"maxDate",{get:()=>n.config._maxDate,set:L("max")});const c=e=>t=>{n.config["min"===e?"_minTime":"_maxTime"]=n.parseDate(t,"H:i:S")};Object.defineProperty(n.config,"minTime",{get:()=>n.config._minTime,set:c("min")}),Object.defineProperty(n.config,"maxTime",{get:()=>n.config._maxTime,set:c("max")}),"time"===o.mode&&(n.config.noCalendar=!0,n.config.enableTime=!0);Object.assign(n.config,a,o);for(let e=0;e<r.length;e++)n.config[r[e]]=!0===n.config[r[e]]||"true"===n.config[r[e]];rP.filter((e=>void 0!==n.config[e])).forEach((e=>{n.config[e]=AP(n.config[e]||[]).map(i)})),n.isMobile=!n.config.disableMobile&&!n.config.inline&&"single"===n.config.mode&&!n.config.disable.length&&!n.config.enable&&!n.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(let e=0;e<n.config.plugins.length;e++){const t=n.config.plugins[e](n)||{};for(const e in t)rP.indexOf(e)>-1?n.config[e]=AP(t[e]).map(i).concat(n.config[e]):void 0===o[e]&&(n.config[e]=t[e])}o.altInputClass||(n.config.altInputClass=O().className+" "+n.config.altInputClass);Y("onParseConfig")}(),j(),function(){if(n.input=O(),!n.input)return void n.config.errorHandler(new Error("Invalid input element specified"));n.input._type=n.input.type,n.input.type="text",n.input.classList.add("flatpickr-input"),n._input=n.input,n.config.altInput&&(n.altInput=hP(n.input.nodeName,n.config.altInputClass),n._input=n.altInput,n.altInput.placeholder=n.input.placeholder,n.altInput.disabled=n.input.disabled,n.altInput.required=n.input.required,n.altInput.tabIndex=n.input.tabIndex,n.altInput.type="text",n.input.setAttribute("type","hidden"),!n.config.static&&n.input.parentNode&&n.input.parentNode.insertBefore(n.altInput,n.input.nextSibling));n.config.allowInput||n._input.setAttribute("readonly","readonly");n._positionElement=n.config.positionElement||n._input}(),function(){n.selectedDates=[],n.now=n.parseDate(n.config.now)||new Date;const e=n.config.defaultDate||("INPUT"!==n.input.nodeName&&"TEXTAREA"!==n.input.nodeName||!n.input.placeholder||n.input.value!==n.input.placeholder?n.input.value:null);e&&W(e,n.config.dateFormat);n._initialDate=n.selectedDates.length>0?n.selectedDates[0]:n.config.minDate&&n.config.minDate.getTime()>n.now.getTime()?n.config.minDate:n.config.maxDate&&n.config.maxDate.getTime()<n.now.getTime()?n.config.maxDate:n.now,n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth(),n.selectedDates.length>0&&(n.latestSelectedDateObj=n.selectedDates[0]);void 0!==n.config.minTime&&(n.config.minTime=n.parseDate(n.config.minTime,"H:i"));void 0!==n.config.maxTime&&(n.config.maxTime=n.parseDate(n.config.maxTime,"H:i"));n.minDateHasTime=!!n.config.minDate&&(n.config.minDate.getHours()>0||n.config.minDate.getMinutes()>0||n.config.minDate.getSeconds()>0),n.maxDateHasTime=!!n.config.maxDate&&(n.config.maxDate.getHours()>0||n.config.maxDate.getMinutes()>0||n.config.maxDate.getSeconds()>0)}(),n.utils={getDaysInMonth:(e=n.currentMonth,t=n.currentYear)=>1===e&&(t%4==0&&t%100!=0||t%400==0)?29:n.l10n.daysInMonth[e]},n.isMobile||function(){const e=window.document.createDocumentFragment();if(n.calendarContainer=hP("div","flatpickr-calendar"),n.calendarContainer.tabIndex=-1,!n.config.noCalendar){if(e.appendChild((n.monthNav=hP("div","flatpickr-months"),n.yearElements=[],n.monthElements=[],n.prevMonthNav=hP("span","flatpickr-prev-month"),n.prevMonthNav.innerHTML=n.config.prevArrow,n.nextMonthNav=hP("span","flatpickr-next-month"),n.nextMonthNav.innerHTML=n.config.nextArrow,k(),Object.defineProperty(n,"_hidePrevMonthArrow",{get:()=>n.__hidePrevMonthArrow,set(e){n.__hidePrevMonthArrow!==e&&(dP(n.prevMonthNav,"flatpickr-disabled",e),n.__hidePrevMonthArrow=e)}}),Object.defineProperty(n,"_hideNextMonthArrow",{get:()=>n.__hideNextMonthArrow,set(e){n.__hideNextMonthArrow!==e&&(dP(n.nextMonthNav,"flatpickr-disabled",e),n.__hideNextMonthArrow=e)}}),n.currentYearElement=n.yearElements[0],q(),n.monthNav)),n.innerContainer=hP("div","flatpickr-innerContainer"),n.config.weekNumbers){const{weekWrapper:e,weekNumbers:t}=function(){n.calendarContainer.classList.add("hasWeeks");const e=hP("div","flatpickr-weekwrapper");e.appendChild(hP("span","flatpickr-weekday",n.l10n.weekAbbreviation));const t=hP("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}();n.innerContainer.appendChild(e),n.weekNumbers=t,n.weekWrapper=e}n.rContainer=hP("div","flatpickr-rContainer"),n.rContainer.appendChild(x()),n.daysContainer||(n.daysContainer=hP("div","flatpickr-days"),n.daysContainer.tabIndex=-1),_(),n.rContainer.appendChild(n.daysContainer),n.innerContainer.appendChild(n.rContainer),e.appendChild(n.innerContainer)}n.config.enableTime&&e.appendChild(function(){n.calendarContainer.classList.add("hasTime"),n.config.noCalendar&&n.calendarContainer.classList.add("noCalendar");const e=EP(n.config);n.timeContainer=hP("div","flatpickr-time"),n.timeContainer.tabIndex=-1;const t=hP("span","flatpickr-time-separator",":"),i=vP("flatpickr-hour",{"aria-label":n.l10n.hourAriaLabel});n.hourElement=i.getElementsByTagName("input")[0];const r=vP("flatpickr-minute",{"aria-label":n.l10n.minuteAriaLabel});n.minuteElement=r.getElementsByTagName("input")[0],n.hourElement.tabIndex=n.minuteElement.tabIndex=-1,n.hourElement.value=cP(n.latestSelectedDateObj?n.latestSelectedDateObj.getHours():n.config.time_24hr?e.hours:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(e.hours)),n.minuteElement.value=cP(n.latestSelectedDateObj?n.latestSelectedDateObj.getMinutes():e.minutes),n.hourElement.setAttribute("step",n.config.hourIncrement.toString()),n.minuteElement.setAttribute("step",n.config.minuteIncrement.toString()),n.hourElement.setAttribute("min",n.config.time_24hr?"0":"1"),n.hourElement.setAttribute("max",n.config.time_24hr?"23":"12"),n.hourElement.setAttribute("maxlength","2"),n.minuteElement.setAttribute("min","0"),n.minuteElement.setAttribute("max","59"),n.minuteElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(i),n.timeContainer.appendChild(t),n.timeContainer.appendChild(r),n.config.time_24hr&&n.timeContainer.classList.add("time24hr");if(n.config.enableSeconds){n.timeContainer.classList.add("hasSeconds");const t=vP("flatpickr-second");n.secondElement=t.getElementsByTagName("input")[0],n.secondElement.value=cP(n.latestSelectedDateObj?n.latestSelectedDateObj.getSeconds():e.seconds),n.secondElement.setAttribute("step",n.minuteElement.getAttribute("step")),n.secondElement.setAttribute("min","0"),n.secondElement.setAttribute("max","59"),n.secondElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(hP("span","flatpickr-time-separator",":")),n.timeContainer.appendChild(t)}n.config.time_24hr||(n.amPM=hP("span","flatpickr-am-pm",n.l10n.amPM[uP((n.latestSelectedDateObj?n.hourElement.value:n.config.defaultHour)>11)]),n.amPM.title=n.l10n.toggleTitle,n.amPM.tabIndex=-1,n.timeContainer.appendChild(n.amPM));return n.timeContainer}());dP(n.calendarContainer,"rangeMode","range"===n.config.mode),dP(n.calendarContainer,"animate",!0===n.config.animate),dP(n.calendarContainer,"multiMonth",n.config.showMonths>1),n.calendarContainer.appendChild(e);const t=void 0!==n.config.appendTo&&void 0!==n.config.appendTo.nodeType;if((n.config.inline||n.config.static)&&(n.calendarContainer.classList.add(n.config.inline?"inline":"static"),n.config.inline&&(!t&&n.element.parentNode?n.element.parentNode.insertBefore(n.calendarContainer,n._input.nextSibling):void 0!==n.config.appendTo&&n.config.appendTo.appendChild(n.calendarContainer)),n.config.static)){const e=hP("div","flatpickr-wrapper");n.element.parentNode&&n.element.parentNode.insertBefore(e,n.element),e.appendChild(n.element),n.altInput&&e.appendChild(n.altInput),e.appendChild(n.calendarContainer)}n.config.static||n.config.inline||(void 0!==n.config.appendTo?n.config.appendTo:window.document.body).appendChild(n.calendarContainer)}(),function(){n.config.wrap&&["open","close","toggle","clear"].forEach((e=>{Array.prototype.forEach.call(n.element.querySelectorAll(`[data-${e}]`),(t=>l(t,"click",n[e])))}));if(n.isMobile)return void function(){const e=n.config.enableTime?n.config.noCalendar?"time":"datetime-local":"date";n.mobileInput=hP("input",n.input.className+" flatpickr-mobile"),n.mobileInput.tabIndex=1,n.mobileInput.type=e,n.mobileInput.disabled=n.input.disabled,n.mobileInput.required=n.input.required,n.mobileInput.placeholder=n.input.placeholder,n.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",n.selectedDates.length>0&&(n.mobileInput.defaultValue=n.mobileInput.value=n.formatDate(n.selectedDates[0],n.mobileFormatStr));n.config.minDate&&(n.mobileInput.min=n.formatDate(n.config.minDate,"Y-m-d"));n.config.maxDate&&(n.mobileInput.max=n.formatDate(n.config.maxDate,"Y-m-d"));n.input.getAttribute("step")&&(n.mobileInput.step=String(n.input.getAttribute("step")));n.input.type="hidden",void 0!==n.altInput&&(n.altInput.type="hidden");try{n.input.parentNode&&n.input.parentNode.insertBefore(n.mobileInput,n.input.nextSibling)}catch(e){}l(n.mobileInput,"change",(e=>{n.setDate(gP(e).value,!1,n.mobileFormatStr),Y("onChange"),Y("onClose")}))}();const e=lP(N,50);n._debouncedChange=lP(A,SP),n.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&l(n.daysContainer,"mouseover",(e=>{"range"===n.config.mode&&F(gP(e))}));l(window.document.body,"keydown",M),n.config.inline||n.config.static||l(window,"resize",e);void 0!==window.ontouchstart?l(window.document,"touchstart",E):l(window.document,"mousedown",E);l(window.document,"focus",E,{capture:!0}),!0===n.config.clickOpens&&(l(n._input,"focus",n.open),l(n._input,"click",n.open));void 0!==n.daysContainer&&(l(n.monthNav,"click",X),l(n.monthNav,["keyup","increment"],u),l(n.daysContainer,"click",H));if(void 0!==n.timeContainer&&void 0!==n.minuteElement&&void 0!==n.hourElement){const e=e=>gP(e).select();l(n.timeContainer,["increment"],o),l(n.timeContainer,"blur",o,{capture:!0}),l(n.timeContainer,"click",h),l([n.hourElement,n.minuteElement],["focus","click"],e),void 0!==n.secondElement&&l(n.secondElement,"focus",(()=>n.secondElement&&n.secondElement.select())),void 0!==n.amPM&&l(n.amPM,"click",(e=>{o(e),A()}))}n.config.allowInput&&l(n._input,"blur",R)}(),(n.selectedDates.length||n.config.noCalendar)&&(n.config.enableTime&&s(n.config.noCalendar?n.latestSelectedDateObj:void 0),Z(!1)),r();const a=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!n.isMobile&&a&&B(),Y("onReady")}(),n}function TP(e,t){const n=Array.prototype.slice.call(e).filter((e=>e instanceof HTMLElement)),i=[];for(let e=0;e<n.length;e++){const r=n[e];try{if(null!==r.getAttribute("data-fp-omit"))continue;void 0!==r._flatpickr&&(r._flatpickr.destroy(),r._flatpickr=void 0),r._flatpickr=IP(r,t||{}),i.push(r._flatpickr)}catch(e){console.error(e)}}return 1===i.length?i[0]:i}"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return TP(this,e)},HTMLElement.prototype.flatpickr=function(e){return TP([this],e)});var RP=function(e,t){return"string"==typeof e?TP(window.document.querySelectorAll(e),t):e instanceof Node?TP([e],t):TP(e,t)};RP.defaultConfig={},RP.l10ns={en:Object.assign({},sP),default:Object.assign({},sP)},RP.localize=e=>{RP.l10ns.default=Object.assign(Object.assign({},RP.l10ns.default),e)},RP.setDefaults=e=>{RP.defaultConfig=Object.assign(Object.assign({},RP.defaultConfig),e)},RP.parseDate=xP({}),RP.formatDate=kP({}),RP.compareDates=PP,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(e){return TP(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=RP);const MP=RP;var FP=n(799),NP=n(7821),LP=n(6741),OP=n(1844),jP=n(2805),BP=n(122),VP=n(9088),UP=n(969),HP=n(6679),zP=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r,o,a;(0,C._)(this,n),r=t.call(this,e,i),(0,z._)((0,x._)(r),"input",document.createElement("input")),(0,z._)((0,x._)(r),"dt",void 0),(0,z._)((0,x._)(r),"changeListeners",[]),(0,z._)((0,x._)(r),"disposable",new W.Disposable);var s,c,u,l,A,d,h,f=function(e,t,n,i){if(0!==e.length){var o=new Date(e[0].getTime());o.setMonth(n.currentMonth),o.setFullYear(n.currentYear);var a=new Date(n.formatDate(o,r.format)),s=a;"Invalid Date"===a.toString()&&(s=o),n.setDate(s,!1,r.format),r.dispatchNewValue(s)}};if(r.dt=MP(r.input,{disableMobile:!0,clickOpens:!1,allowInput:!0,enableTime:r.showHour||r.showMinute||r.showSeconds,enableSeconds:r.showSeconds,time_24hr:r.time24Hour,locale:r.resolveFlatpickrLocale(r.pdfViewer.getCurrentLanguage()),closeOnSelect:!1,onYearChange:f,onMonthChange:f,onChange:function(e,t,n){r.dispatchNewValue(e[0])}}),r.disposable.addDestroyHook((function(){r.dt.destroy()}),e.addEventListener(se.changeLanguageSuccess,(function(){MP.localize(r.resolveFlatpickrLocale(r.pdfViewer.getCurrentLanguage()))}))),r.showHour||r.showMinute||r.showSeconds){var p,v,g;if(!r.showHour)null===(p=r.dt.hourElement)||void 0===p||p.classList.add("fv__force-hide");if(!r.showMinute)null===(v=r.dt.minuteElement)||void 0===v||v.classList.add("fv__force-hide");if(!r.showSeconds)null===(g=r.dt.secondElement)||void 0===g||g.classList.add("fv__force-hide")}else{var m;null===(m=r.dt.timeContainer)||void 0===m||m.classList.add("fv__force-hide")}r.showYear||r.showMonth||r.showDate||(null===(s=r.dt.monthNav)||void 0===s||s.classList.add("fv__force-hide"),null===(c=r.dt.innerContainer)||void 0===c||c.classList.add("fv__force-hide"));r.time24Hour?(null===(u=r.dt.amPM)||void 0===u||u.classList.add("fv__force-hide"),null===(l=r.dt.hourElement)||void 0===l||l.setAttribute("min","0"),null===(A=r.dt.hourElement)||void 0===A||A.setAttribute("max","23")):(null===(d=r.dt.hourElement)||void 0===d||d.setAttribute("min","0"),null===(h=r.dt.hourElement)||void 0===h||h.setAttribute("max","12"));var y,_=null===(a=r.dt.timeContainer)||void 0===a||null===(o=a.querySelector(".flatpickr-second"))||void 0===o?void 0:o.parentElement;r.showSeconds||(null==_||_.classList.add("fv__force-hide"),null==_||null===(y=_.previousElementSibling)||void 0===y||y.classList.add("fv__force-hide"));return r}return(0,D._)(n,[{key:"dispatchNewValue",value:function(e){this.changeListeners.slice(0).forEach((function(t){t(W.PDFDate.from(e))}))}},{key:"onChange",value:function(e){var t=this;return this.changeListeners.push(e),function(){var n=t.changeListeners.indexOf(e);n>-1&&t.changeListeners.splice(n,1)}}},{key:"isOpen",value:function(){return this.dt.isOpen}},{key:"open",value:function(e){e.current&&this.dt.setDate(e.current.getDate()),this.dt.isOpen&&this.dt.close(),this.dt.redraw(),this.dt.open(void 0,e.container)}},{key:"close",value:function(){this.dt.isOpen&&this.dt.close()}},{key:"destroy",value:function(){this.disposable.destroy()}},{key:"containsElement",value:function(e){return this.dt.calendarContainer.contains(e)||e===this.dt.calendarContainer}},{key:"resolveFlatpickrLocale",value:function(e){switch(e.toLowerCase()){case"zh-cn":return FP.Mandarin;case"zh-tw":return NP.MandarinTraditional;case"en-us":return MP.l10ns.en;case"ja-jp":return LP.Japanese;case"ko-kr":return OP.Korean;case"de-de":return jP.German;case"fr-fr":return BP.French;case"it-it":return VP.Italian;case"es-es":return UP.Spanish;case"nl-nl":return HP.Dutch}return MP.l10ns.en}}]),n}(iP),WP="all-dialogs-closed",GP=function(){function e(){(0,C._)(this,e),(0,z._)(this,"openDialogCount",0),(0,z._)(this,"eventEmitter",new _o.EventEmitter)}return(0,D._)(e,[{key:"alert",value:function(e){switch(this.dialogShown(),e.type){case $e.JSDialogButtonType.OK:return window.alert(e.message),this.dialogHidden(),Promise.resolve($e.JSDialogButtonID.OK);case $e.JSDialogButtonType.OKCancel:var t=window.confirm(e.message);return this.dialogHidden(),Promise.resolve(t?$e.JSDialogButtonID.OK:$e.JSDialogButtonID.Cancel);case $e.JSDialogButtonType.YesNO:case $e.JSDialogButtonType.YesNoCancel:var n=window.confirm(e.message);return this.dialogHidden(),Promise.resolve(n?$e.JSDialogButtonID.Yes:$e.JSDialogButtonID.NO)}}},{key:"prompt",value:function(e){this.dialogShown();var t=window.prompt(e.question,e.defaultValue);return this.dialogHidden(),Promise.resolve(t||"")}},{key:"msgBox",value:function(e){switch(this.dialogShown(),e.type){case $e.JSDialogButtonType.OK:return window.alert(e.message),this.dialogHidden(),Promise.resolve($e.JSDialogButtonID.OK);case $e.JSDialogButtonType.OKCancel:var t=window.confirm(e.message);return this.dialogHidden(),Promise.resolve(t?$e.JSDialogButtonID.OK:$e.JSDialogButtonID.Cancel);case $e.JSDialogButtonType.YesNO:case $e.JSDialogButtonType.YesNoCancel:var n=window.confirm(e.message);return this.dialogHidden(),Promise.resolve(n?$e.JSDialogButtonID.Yes:$e.JSDialogButtonID.NO)}}},{key:"confirm",value:function(e){var t=window.confirm(e.question);return Promise.resolve(t?$e.JSConfirmButtonID.OK:$e.JSConfirmButtonID.Cancel)}},{key:"printerUI",value:function(e){return(0,P._)((function(){return(0,L.Jh)(this,(function(e){return[2,!1]}))}))()}},{key:"dialogShown",value:function(){this.openDialogCount++}},{key:"dialogHidden",value:function(){var e=1===this.openDialogCount;this.openDialogCount=Math.max(0,this.openDialogCount-1),e&&this.eventEmitter.emit(WP)}},{key:"hasDialogOpen",value:function(){return this.openDialogCount>0}},{key:"onAllDialogClosed",value:function(e){var t=this;return this.eventEmitter.on(WP,e),function(){t.eventEmitter.off(WP,e)}}}]),e}();function YP(e,t){var n=t.reduce((function e(t,n){return t[n.item_id]=n,n.element_array.reduce(e,t)}),{}),i=Array.from(e.querySelectorAll("[data-item-id]")).reduce((function(e,t){var n,i=null===(n=t.dataset)||void 0===n?void 0:n.itemId;return i&&(e[i]=t),e}),{}),r={};for(var o in n){var a=n[o],s=i[o];switch(a.type){case $e.DialogElementType.EDIT_TEXT:var c="";if((0,T._)(s,HTMLInputElement))c=s.value;else if((0,T._)(s,HTMLAreaElement)){var u,l;c=null!==(l=null!==(u=s.textContent)&&void 0!==u?u:s.value)&&void 0!==l?l:""}else c=s.innerText;r[o]={textValue:c};break;case $e.DialogElementType.RADIO:case $e.DialogElementType.CHECK_BOX:r[o]={textValue:s.checked?"true":"false"}}}return r}var $P=function(){function e(){(0,C._)(this,e),(0,z._)(this,"currentOptions",void 0)}return(0,D._)(e,[{key:"open",value:function(e){var t=this;return(0,P._)((function(){var n,i,r,o;return(0,L.Jh)(this,(function(a){return t.currentOptions=e,n=(0,W.createDOM)("button",{class:"fv__js-exec-dialog-close-button"}),i=(0,W.createDOM)("dialog",{class:"fv__js-exec-dialog"},[(0,W.createDOM)("div",{class:"fv__js-exec-dialog-header"},[(0,W.createDOM)("div",{class:"fv__js-exec-dialog-title","data-i18n":"viewer_:pdfjs.windowTitle"}),n]),(0,W.createDOM)("div",{class:"fv__js-exec-dialog-body"},[(0,W.createDOM)("div",{class:"fv__js-exec-dialog-content"},[e.dialogContent]),(0,W.createDOM)("div",{class:"fv__js-exec-dialog-warning","data-i18n":"viewer_:pdfjs.windowWarning"})])]),r=function(){i.querySelectorAll("[data-i18n]").forEach((function(e){var n=e.dataset.i18n;n&&(e.innerText=t.viewer.i18n.t(n))}))},t.viewer.addEventListener(se.changeLanguageSuccess,(function(){r()})),r(),i.addEventListener("close",(function(){i.remove()})),o=function(e){return e.stopPropagation()},i.addEventListener("keydown",o),i.addEventListener("keyup",o),n.addEventListener("click",(function(){e.onClickCancelButton()})),e.addCloseDialogEventListener((function(){i.close(),t.currentOptions=void 0})),document.body.append(i),i.showModal(),[2]}))}))()}},{key:"getElementsValues",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){return e.currentOptions?[2,YP(e.currentOptions.dialogContent,e.currentOptions.config.element_array)]:[2,{}]}))}))()}},{key:"setElementsEnabled",value:function(e){var t,n=null===(t=this.currentOptions)||void 0===t?void 0:t.dialogContent;if(n){var i=Array.from(n.querySelectorAll("[data-item-id]")).reduce((function(e,t){var n,i=null===(n=t.dataset)||void 0===n?void 0:n.itemId;return i&&(e[i]=t),e}),{});for(var r in e){var o=e[r],a=i[r];a&&(a.disabled=!o,a.classList.toggle("fv__js-exec-dialog-element-disabled",!o))}}}}],[{key:"inject",value:function(){return{viewer:"PDFViewer"}}}]),e}();n(3373);function JP(e){return e.reduce((function e(t,n){var i,r;return t[n.id]=n.isSeparator?"------":{name:n.label,disabled:!1===(null===(i=n.extra)||void 0===i?void 0:i.enabled),icon:(null===(r=n.extra)||void 0===r?void 0:r.checked)?"check":void 0,items:n.items.length>0?n.items.reduce(e,{}):void 0},t}),{})}var qP=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"openPopupMenu",value:function(e,t){return(0,P._)((function(){var n,i;return(0,L.Jh)(this,(function(r){return n=new W.Defer,(i=(0,W.createDOM)("div",{id:(0,W.getUniqueId)(),class:"fv__js-popup-menu-container"},[])).addEventListener("click",(function(){n.resolve(void 0)})),n.promise.finally((function(){j()(i).contextMenu("destroy"),i.remove()})),document.body.append(i),j().contextMenu({selector:"#"+i.id,appendTo:i,position:function(t){t.$menu.css({left:e.x,top:e.y})},trigger:"none",callback:function(e){n.resolve(e)},items:JP(t),zIndex:-1,events:{hide:function(){n.resolve(void 0)}}}),j()(i).contextMenu(),[2,n]}))}))()}}]),e}(),KP=new(function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"destroy",value:function(){}}]),n}(Lx)),ZP=[],XP=function(){var e=Zx()({isIE:W.isIE}),t=document.createElement("div");t.innerHTML=e;var n=t.firstElementChild;return t.removeChild(n),n}();var QP=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"prepare",value:function(e){var t=this;(0,E._)((0,S._)(n.prototype),"prepare",this).call(this,e);var i={},r={},o=function(n,o){if(o){var a=o.getStateName(),s=r[a];s&&s.destroy()}var c=n.getStateName(),u=i[c]||(n.getDefaultContextMenuConfig?n.getDefaultContextMenuConfig():void 0);r[c]=t.createContextMenu(c,e.$ui.get(0),u)};this.menus=r,e.eventEmitter.on(se.switchStateHandler,o),e.eventEmitter.once(se.renderFileSuccess,(function(){setTimeout((function(){e.isDestroyed||o(e.getStateHandlerManager().currentStateHandler)}),200)})),e.addDestroyHook((function(){t.menus={}}))}},{key:"createContextMenu",value:function(e,t,n){if(!n||!n.items)return KP;var i=n.items,r=this.pdfViewer.i18n;for(var o in i){var a=i[o];a.nameI18nKey&&(a.name=r.t(a.nameI18nKey));var s=(0,W.getUniqueId)(o);a.className=a.className?a.className+" "+s:s,a.uniqueClassName=s}var c=j()(t),u=new(function(e){(0,I._)(r,e);var t=(0,N._)(r);function r(){return(0,C._)(this,r),t.apply(this,arguments)}return(0,D._)(r,[{key:"destroy",value:function(){this._destroyContextMenu()}},{key:"_destroyContextMenu",value:function(){var e=j().contextMenu.menus;Object.keys(e).forEach((function(t){var n=e[t];n.context===c[0]&&(n.$menu.remove(),delete e[t],j()(n.context).off(n.ns))}))}},{key:"showAt",value:function(e,t){var n=j().Event("contextmenu",{data:{events:{preShow:function(){}}},pageX:e,pageY:t});n.target=c.find(".fv__pdf-page-annot-handler-rect")[0],c.trigger(n)}},{key:"disable",value:function(){(0,E._)((0,S._)(r.prototype),"disable",this).call(this),this._destroyContextMenu()}},{key:"enable",value:function(){(0,E._)((0,S._)(r.prototype),"enable",this).call(this),this._destroyContextMenu(),this.createRealContextmenu()}},{key:"createRealContextmenu",value:function(){var e=n.zIndex;switch(void 0===e?"undefined":(0,F._)(e)){case"number":n.zIndex=function(){return e};case"function":break;default:n.zIndex=function(){return 30}}c.contextMenu(n)}},{key:"getItem",value:function(e){if(e in i)return new Xx(e,i[e])}}]),r}(Lx));return c.on("contextmenu:hide",(function(){u.hiddenCallbacks.forEach((function(e){return e.call(u)}))})),u.createRealContextmenu(),this.pdfViewer.addDestroyHook((function(){u.destroy()})),u}},{key:"alert",value:function(e){return"[object Object]"===Object.prototype.toString.call(e)&&(e=e.message),e=this.pdfViewer.i18n.t(e)||e,window.alert(e),Promise.resolve()}},{key:"confirm",value:function(e){"[object Object]"===Object.prototype.toString.call(e)&&(e=e.message),e=this.pdfViewer.i18n.t(e)||e;var t=window.confirm(e);return t?Promise.resolve(t):Promise.reject("confirm dialog has been cancelled by user!")}},{key:"prompt",value:function(e,t){"[object Object]"===Object.prototype.toString.call(t)&&(t=t.message),t=this.pdfViewer.i18n.t(t)||t;var n=window.prompt(t,e||"");return n?Promise.resolve(n):Promise.reject("prompt dialog has been cancelled by user!")}},{key:"promptPassword",value:function(e,t){t=this.pdfViewer.i18n.t(t)||t;var n=window.prompt(t,e||"");return n?Promise.resolve(n):Promise.reject("prompt dialog has been cancelled by user!")}},{key:"loading",value:function(e){var t=this;return this.renderingDOM=(0===ZP.length&&ZP.push(XP.cloneNode(!0)),ZP.pop()),e.appendChild(this.renderingDOM),function(){t.renderingDOM.parentElement===e&&e.removeChild(t.renderingDOM),ZP.push(t.renderingDOM)}}},{key:"progress",value:function(e,t){return!this.progressTool&&(this.progressTool=new nP(e,t,this.pdfViewer)),this.progressTool.show(t),this.progressTool}},{key:"createFreeTextTooltip",value:function(e){}},{key:"createAnnotTooltip",value:function(e){}},{key:"createTextSelectionTooltip",value:function(e){var t=new qx(this.pdfViewer,e);return this.pdfViewer.addDestroyHook((function(){t.destroy()})),t}},{key:"createDateTimePicker",value:function(e){return new zP(this.pdfViewer,e)}},{key:"destroy",value:function(){Object.values(this.menus).forEach((function(e){return e&&e.destroy()}))}},{key:"getSignDocumentDialog",value:function(){return Promise.resolve({openWith:function(){},hide:function(){},isOpened:function(){return!1},getCurrentSignature:function(){},destroy:function(){}})}},{key:"getJSDialogUI",value:function(){return Promise.resolve(this.pdfViewer.getIoC().getInstanceByClass(GP))}},{key:"getJSDynamicDialogUI",value:function(){return Promise.resolve(this.pdfViewer.getIoC().getInstanceByClass($P))}},{key:"getJSPopupMenuUI",value:function(){return Promise.resolve(this.pdfViewer.getIoC().getInstanceByClass(qP))}}]),n}(Ox);const eC="790cac26@hotfix/11_0_0";var tC="pdf-viewer-keyboard-event-binder",nC=function(){function e(){(0,C._)(this,e),this._keyCodeToStr=[],this._strToKeyCode={}}return(0,D._)(e,[{key:"define",value:function(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}},{key:"keyCodeToStr",value:function(e){return this._keyCodeToStr[e]}},{key:"strToKeyCode",value:function(e){return this._strToKeyCode[e.toLowerCase()]||W.KeyCodes.Unknown}}]),e}(),iC=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,null,[{key:"toString",value:function(e){return rC.keyCodeToStr(e)}},{key:"fromString",value:function(e){return rC.strToKeyCode(e)}}]),e}(),rC=new nC,oC=new nC;!function(){var e=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];n.forEach((function(t){rC.define(e,t),oC.define(e,t)}))};e(W.KeyCodes.Unknown,"unknown"),e(W.KeyCodes.Backspace,"Backspace"),e(W.KeyCodes.Tab,"Tab"),e(W.KeyCodes.Enter,"Enter"),e(W.KeyCodes.Shift,"Shift"),e(W.KeyCodes.Ctrl,"Ctrl"),e(W.KeyCodes.Alt,"Alt"),e(W.KeyCodes.PauseBreak,"PauseBreak"),e(W.KeyCodes.CapsLock,"CapsLock"),e(W.KeyCodes.Escape,"Escape"),e(W.KeyCodes.Space,"Space"),e(W.KeyCodes.PageUp,"PageUp"),e(W.KeyCodes.PageDown,"PageDown"),e(W.KeyCodes.End,"End"),e(W.KeyCodes.Home,"Home"),e(W.KeyCodes.LeftArrow,"LeftArrow","Left"),e(W.KeyCodes.UpArrow,"UpArrow","Up"),e(W.KeyCodes.RightArrow,"RightArrow","Right"),e(W.KeyCodes.DownArrow,"DownArrow","Down"),e(W.KeyCodes.Insert,"Insert"),e(W.KeyCodes.Delete,"Delete"),e(W.KeyCodes.KEY_0,"0"),e(W.KeyCodes.KEY_1,"1"),e(W.KeyCodes.KEY_2,"2"),e(W.KeyCodes.KEY_3,"3"),e(W.KeyCodes.KEY_4,"4"),e(W.KeyCodes.KEY_5,"5"),e(W.KeyCodes.KEY_6,"6"),e(W.KeyCodes.KEY_7,"7"),e(W.KeyCodes.KEY_8,"8"),e(W.KeyCodes.KEY_9,"9"),e(W.KeyCodes.KEY_A,"A"),e(W.KeyCodes.KEY_B,"B"),e(W.KeyCodes.KEY_C,"C"),e(W.KeyCodes.KEY_D,"D"),e(W.KeyCodes.KEY_E,"E"),e(W.KeyCodes.KEY_F,"F"),e(W.KeyCodes.KEY_G,"G"),e(W.KeyCodes.KEY_H,"H"),e(W.KeyCodes.KEY_I,"I"),e(W.KeyCodes.KEY_J,"J"),e(W.KeyCodes.KEY_K,"K"),e(W.KeyCodes.KEY_L,"L"),e(W.KeyCodes.KEY_M,"M"),e(W.KeyCodes.KEY_N,"N"),e(W.KeyCodes.KEY_O,"O"),e(W.KeyCodes.KEY_P,"P"),e(W.KeyCodes.KEY_Q,"Q"),e(W.KeyCodes.KEY_R,"R"),e(W.KeyCodes.KEY_S,"S"),e(W.KeyCodes.KEY_T,"T"),e(W.KeyCodes.KEY_U,"U"),e(W.KeyCodes.KEY_V,"V"),e(W.KeyCodes.KEY_W,"W"),e(W.KeyCodes.KEY_X,"X"),e(W.KeyCodes.KEY_Y,"Y"),e(W.KeyCodes.KEY_Z,"Z"),e(W.KeyCodes.Meta,"Meta"),e(W.KeyCodes.ContextMenu,"ContextMenu"),e(W.KeyCodes.F1,"F1"),e(W.KeyCodes.F2,"F2"),e(W.KeyCodes.F3,"F3"),e(W.KeyCodes.F4,"F4"),e(W.KeyCodes.F5,"F5"),e(W.KeyCodes.F6,"F6"),e(W.KeyCodes.F7,"F7"),e(W.KeyCodes.F8,"F8"),e(W.KeyCodes.F9,"F9"),e(W.KeyCodes.F10,"F10"),e(W.KeyCodes.F11,"F11"),e(W.KeyCodes.F12,"F12"),e(W.KeyCodes.F13,"F13"),e(W.KeyCodes.F14,"F14"),e(W.KeyCodes.F15,"F15"),e(W.KeyCodes.F16,"F16"),e(W.KeyCodes.F17,"F17"),e(W.KeyCodes.F18,"F18"),e(W.KeyCodes.F19,"F19"),e(W.KeyCodes.NumLock,"NumLock"),e(W.KeyCodes.ScrollLock,"ScrollLock"),e(W.KeyCodes.US_SEMICOLON,";",";","OEM_1"),e(W.KeyCodes.US_EQUAL,"=","=","OEM_PLUS"),e(W.KeyCodes.US_COMMA,",",",","OEM_COMMA"),e(W.KeyCodes.US_MINUS,"-","-","OEM_MINUS"),e(W.KeyCodes.US_DOT,".",".","OEM_PERIOD"),e(W.KeyCodes.US_SLASH,"/","/","OEM_2"),e(W.KeyCodes.US_BACKTICK,"`","`","OEM_3"),e(W.KeyCodes.ABNT_C1,"ABNT_C1"),e(W.KeyCodes.ABNT_C2,"ABNT_C2"),e(W.KeyCodes.US_OPEN_SQUARE_BRACKET,"[","[","OEM_4"),e(W.KeyCodes.US_BACKSLASH,"\\","\\","OEM_5"),e(W.KeyCodes.US_CLOSE_SQUARE_BRACKET,"]","]","OEM_6"),e(W.KeyCodes.US_QUOTE,"'","'","OEM_7"),e(W.KeyCodes.OEM_8,"OEM_8"),e(W.KeyCodes.OEM_102,"OEM_102"),e(W.KeyCodes.NUMPAD_0,"NumPad0"),e(W.KeyCodes.NUMPAD_1,"NumPad1"),e(W.KeyCodes.NUMPAD_2,"NumPad2"),e(W.KeyCodes.NUMPAD_3,"NumPad3"),e(W.KeyCodes.NUMPAD_4,"NumPad4"),e(W.KeyCodes.NUMPAD_5,"NumPad5"),e(W.KeyCodes.NUMPAD_6,"NumPad6"),e(W.KeyCodes.NUMPAD_7,"NumPad7"),e(W.KeyCodes.NUMPAD_8,"NumPad8"),e(W.KeyCodes.NUMPAD_9,"NumPad9"),e(W.KeyCodes.NUMPAD_MULTIPLY,"NumPad_Multiply"),e(W.KeyCodes.NUMPAD_ADD,"NumPad_Add"),e(W.KeyCodes.NUMPAD_SEPARATOR,"NumPad_Separator"),e(W.KeyCodes.NUMPAD_SUBTRACT,"NumPad_Subtract"),e(W.KeyCodes.NUMPAD_DECIMAL,"NumPad_Decimal"),e(W.KeyCodes.NUMPAD_DIVIDE,"NumPad_Divide")}();var aC=function(){function e(t,n,i,r,o){(0,C._)(this,e),this.ctrlKey=t,this.shiftKey=n,this.altKey=i,this.metaKey=r,this.keyCode=o}return(0,D._)(e,[{key:"equals",value:function(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}},{key:"isError",value:function(){return this.keyCode===W.KeyCodes.Unknown}},{key:"toString",value:function(){var e=[];return this.ctrlKey&&e.push("ctrl"),this.shiftKey&&e.push("shift"),this.altKey&&e.push("alt"),this.metaKey&&e.push("meta"),e.join("+")+"+"+iC.toString(this.keyCode)}}]),e}(),sC=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,C._)(this,e),this.command=t,this.keybinding=n,this.priority=i}return(0,D._)(e,[{key:"equals",value:function(e){return this.keybinding.equals(e.keybinding)}}]),e}(),cC=function(){function e(){(0,C._)(this,e),this._keybindingRules=[]}return(0,D._)(e,[{key:"registerKeyBindingRule",value:function(e){var t=this._keybindingRules.filter((function(t){return t.equals(e)}));if(t.length>0){var n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.equals(e)){if(s.command===e.command)return void(s.priority=e.priority);throw new Error("shortcut conflict: ".concat(s.command," and ").concat(e.command," has the same keybindings: ").concat(e.keybinding.toString()))}}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}this._keybindingRules.push(e)}},{key:"unRegisterKeyBindingRule",value:function(e){var t=this._keybindingRules.findIndex((function(t){return t.equals(e)}));-1!==t&&this._keybindingRules.splice(t,1)}},{key:"getKeyBindings",value:function(e){return this._keybindingRules.filter((function(t){return t.command===e})).sort((function(e,t){return e.priority>t.priority?-1:1})).reduce((function(e,t){var n=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){if(o.value.equals(t))return}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return e.push(t),e}),[]).map((function(e){return e.keybinding}))}},{key:"getCommandOfKeybinding",value:function(e){var t=this._keybindingRules.filter((function(t){return e.equals(t.keybinding)}));if(t.length>0)return t[0].command}}]),e}(),uC=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,null,[{key:"_readModifiers",value:function(e){e=e.trim().toLowerCase();var t,n,i=!1,r=!1,o=!1,a=!1;do{t=!1,/^ctrl[\+\-]/.test(e)&&(i=!0,e=e.substring(5),t=!0),/^shift[\+\-]/.test(e)&&(r=!0,e=e.substring(6),t=!0),/^alt[\+\-]/.test(e)&&(o=!0,e=e.substring(4),t=!0),/^meta[\+\-]/.test(e)&&(a=!0,e=e.substring(5),t=!0),/^win[\+\-]/.test(e)&&(a=!0,e=e.substring(4),t=!0),/^cmd[\+\-]/.test(e)&&(a=!0,e=e.substring(4),t=!0)}while(t);var s=e.indexOf(" ");return s>0?(n=e.substring(0,s),e=e.substring(s)):(n=e,e=""),{remains:e,ctrl:i,shift:r,alt:o,meta:a,key:n}}},{key:"parseKeybinding",value:function(e){var t=this._readModifiers(e),n=iC.fromString(t.key);return new aC(t.ctrl,t.shift,t.alt,t.meta,n)}}]),e}(),lC=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,C._)(this,e),this.registry=new cC,this.name=n,this.target=t,this.priority=i,this.isActive=!0,this.nextBinders=[],this.emitter=new(bo()),this.beforeEventEmitter=new(bo())}return(0,D._)(e,[{key:"setKeyboard",value:function(e){this.keyboard=e}},{key:"registerKeybinding",value:function(e,t){var n=uC.parseKeybinding(t);this.registry.registerKeyBindingRule(new sC(e,n,0))}},{key:"unRegisterKeybinding",value:function(e,t){var n=uC.parseKeybinding(t);this.registry.unRegisterKeyBindingRule(new sC(e,n,0))}},{key:"getCommandOfKeybinding",value:function(e){return this.registry.getCommandOfKeybinding(e)}},{key:"hasKeybinding",value:function(e){return!!this.getCommandOfKeybinding(e)}},{key:"attach",value:function(e){this.nextBinders.push(e)}},{key:"before",value:function(e,t){var n=this;return this.beforeEventEmitter.on(e,t),function(){n.offBefore(e,t)}}},{key:"offBefore",value:function(e,t){this.beforeEventEmitter.off(e,t)}},{key:"on",value:function(e,t){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!1};return r&&(n=this.before(e,(function(e){("boolean"==typeof r&&r||r(e))&&e.preventDefault()}))),this.emitter.on(e,t),function(){n&&n(),i.off(e,t)}}},{key:"off",value:function(e,t){this.emitter.off(e,t)}},{key:"emit",value:function(e,t){this.emitter.emit(e,t)}},{key:"acceptElement",value:function(e){return e===this.target}},{key:"handleKeydownEvent",value:function(e,t){var n=this.getCommandOfKeybinding(e);return n?(this.beforeEventEmitter.emit(n,t),!0):this.nextBinders.some((function(n){return n.handleKeydownEvent(e,t)}))}},{key:"handleEvent",value:function(e,t){var n=this.getCommandOfKeybinding(e);return n?(this.emit(n,t),!0):this.nextBinders.some((function(n){return n.handleEvent(e,t)}))}}]),e}();function AC(e){var t=document.createElement("img");return new Promise((function(n){t.onload=function(){n(t)},t.src=URL.createObjectURL(e)}))}function dC(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");return pC(e).then(AC).then((function(e){return n.drawImage(e,0,0),t}))}function hC(e){return pC(e).then(AC)}function fC(e){return pC(e).then((function(e){var t=new FileReader;return new Promise((function(n){t.onloadend=function(){n(t.result)},t.readAsArrayBuffer(e)}))}))}function pC(e){if(e.buffer){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d"),i=new(Uint8ClampedArray||Uint8Array)(e.buffer),r=n.createImageData(e.width,e.height);return r.data.set(i),n.putImageData(r,0,0),new Promise((function(e){t.toBlob(e)}))}return e.image?Promise.resolve(e.image):Promise.reject(e)}window.toImage=hC;var vC=function(){function e(t,n,i){(0,C._)(this,e),this.page=n,this.doc=n.doc,this.engine=i,this.info=t}return(0,D._)(e,[{key:"destroy",value:function(){this.page=null,this.doc=null,this.engine=null,this.info=null}},{key:"getId",value:function(){return this.info.id}},{key:"getPDFPage",value:function(){return this.page}},{key:"getBitmap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas",i=this.getPDFPage();return i.doc.api.getGraphicsObjectBitmap(i.getPDFDoc().getId(),i.getId(),this.getId(),e*(0,W.getPtPxRatio)(),t).then((function(e){if(!e.width||!e.height)return null;switch(n||"canvas"){case"canvas":return dC(e);case"image":return hC(e);case"buffer":return fC(e);default:throw new Error("Invalid options.type: ".concat(n))}}))}},{key:"getRect",value:function(){return this.info.rect}},{key:"setRect",value:function(e){var t=this;if(!this.doc.checkPermission(Qt.modify))throw new Error("Permission error");var n=this.getPDFPage();this.info.rect=e;var i=arguments[1];return n.doc.api.setGraphicsObjectRect(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then((function(e){t.afterUpdated(e,i)}))}},{key:"setMatrix",value:function(e){var t=this;if(!this.doc.checkPermission(Qt.modify))throw new Error("Permission error");var n=this.getPDFPage();return this.info.matrix=e,n.doc.api.setGraphicsObjectMatrix(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then((function(e){t.afterUpdated(e)}))}},{key:"getMatrix",value:function(){var e=this.info.matrix;return new nn.Z(e.a,e.b,e.c,e.d,e.e,e.f)}},{key:"getDeviceMatrix",value:function(){var e=this.getMatrix();e.translate(0,-this.getPDFPage().getHeight());var t=(0,G.F2)(1);return e.scale(t,-t),e}},{key:"getType",value:function(){return this.info.type}},{key:"getBorderDashes",value:function(){return gC(this.getType()),this.info.graphState.dashes}},{key:"getBorderStyle",value:function(){return gC(this.getType()),this.info.graphState.dashes.length>0?1:0}},{key:"setBorderStyle",value:function(e,t){var n=this;if(!this.doc.checkPermission(Qt.modify))throw new Error("Permission error");gC(this.getType());var i=this.getPDFPage();return this.info.graphState.dashes=t,i.doc.api.setGraphicsObjectBorderStyle(i.getPDFDoc().getId(),i.getId(),this.getId(),e,t).then((function(e){n.afterUpdated(e)}))}},{key:"getBorderWidth",value:function(){return gC(this.getType()),this.info.graphState.lineWidth}},{key:"setBorderWidth",value:function(e){var t=this;if(gC(this.getType()),!this.doc.checkPermission(Qt.modify))throw new Error("Permission error");var n=this.getPDFPage();return this.info.graphState.lineWidth=e,n.doc.api.setGraphicsObjectBorderWidth(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then((function(e){t.afterUpdated(e)}))}},{key:"getBorderColor",value:function(){return gC(this.getType()),(4278190080|this.info.strokeColor)>>>0}},{key:"setBorderColor",value:function(e){var t=this;if(gC(this.getType()),!this.doc.checkPermission(Qt.modify))throw new Error("Permission error");var n=this.getPDFPage();return n.doc.api.setGraphicsObjectBorderColor(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then((function(e){t.afterUpdated(e)}))}},{key:"getFillColor",value:function(){return gC(this.getType()),(4278190080|this.info.fillColor)>>>0}},{key:"setFillColor",value:function(e){var t=this;if(!this.doc.checkPermission(Qt.modify))throw new Error("Permission error");gC(this.getType());var n=this.getPDFPage();return n.doc.api.setGraphicsObjectFillColor(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then((function(e){t.afterUpdated(e)}))}},{key:"getOpacity",value:function(){return((4278190080&this.info.strokeColor)>>>0)/4278190080}},{key:"setOpacity",value:function(e){var t=this;if(!this.doc.checkPermission(Qt.modify))throw new Error("Permission error");var n=this.getPDFPage();return n.doc.api.setGraphicsObjectOpacity(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then((function(e){t.afterUpdated(e)}))}},{key:"remove",value:function(){if(!this.doc.checkPermission(Qt.modify))throw new Error("Permission error");return this.getPDFPage().removeGraphicsObject(this)}},{key:"moveToPosition",value:function(e,t){var n=this;if(!this.doc.checkPermission(Qt.modify))throw new Error("Permission error");var i=this.getPDFPage();if(-1===Object.values(Ft).findIndex((function(t){return t==e})))throw new Error("Type error");var r=null;return e!=Ft.first&&e!=Ft.last&&(r=t.getId()),i.doc.api.moveGraphicsObjectByPosition(i.getPDFDoc().getId(),i.getId(),this.getId(),e,r).then((function(e){n.afterUpdated(e)}))}},{key:"afterUpdated",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return this.info;if(this.info=e,!n)return this.info;var i=this.page.getBatchProcessor(),r=function(){t.doc.engine.eventEmitter.emit(ae.Z.graphicsUpdated,t.page,t)};return i.isStarted()?i.recordFlushOperation(this,r):r(),this.info}}]),e}(),gC=function(e){if(1!=e&&2!=e&&5!=e)throw new Error("only text, path object are supported")},mC=W.LoggerFactory.getLogger("WebAppLifecycleInvoker"),yC=function(){function e(){(0,C._)(this,e),this.$hooks=[]}return(0,D._)(e,[{key:"addReleaseHook",value:function(e){var t=this;return"function"==typeof e?(this.$hooks.push(e),function(){var n=t.$hooks.indexOf(e);n>-1&&t.$hooks.splice(n,1)}):W.noop}},{key:"prepare",value:function(){}},{key:"generate",value:function(){}},{key:"release",value:function(){var e=[];this.$hooks.forEach((function(t,n){try{!1===t()&&e.push(t)}catch(e){mC.error("An error occurred while release a resource",e)}})),this.$hooks=e}},{key:"expose",value:function(){return{}}},{key:"wrap",value:function(e,t,n){var i=Object.create(e),r=e[t];if("function"!=typeof r)throw new Error("Unable to wrap a member that is not function. Actual type: "+(void 0===r?"undefined":(0,F._)(r)));return i[t]=n(r.bind(i)),i}}],[{key:"resolveInstance",value:function(t){if("object"==typeof t){if(t.invoke)return function(e){(0,I._)(i,e);var n=(0,N._)(i);function i(){return(0,C._)(this,i),n.apply(this,arguments)}return(0,D._)(i,[{key:"prepare",value:function(){"function"==typeof t.prepare&&t.prepare.apply(this,arguments)}},{key:"generate",value:function(){return t.invoke.apply(this,arguments)}}]),i}(e)}else if("function"==typeof t)return W.Reflect.isSubClassOf(t,e)?t:function(e){(0,I._)(i,e);var n=(0,N._)(i);function i(){return(0,C._)(this,i),n.apply(this,arguments)}return(0,D._)(i,[{key:"generate",value:function(){return t.apply(this,arguments)}}]),i}(e);throw new Error("incorrect lifecycle invoker")}}]),e}(),_C=function(){function e(t){(0,C._)(this,e),this.parentManager=t,this.lifeCycles={},this.generators={}}return(0,D._)(e,[{key:"registerLifecycle",value:function(e){var t=this,n=e.constructor,i=n.getName();this.lifeCycles[i]=e,e.initialize();var r=n.depends();r.length>0&&r.forEach((function(n){var r=t.getLifeCycle(n);r.addReleaseHook((function(){e.release()})),r.addDestroyHook((function(){i in t.lifeCycles&&delete t.lifeCycles[i],e.destroy()}))}))}},{key:"registerResourceGenerator",value:function(e,t){this.generators[e]=yC.resolveInstance(t)}},{key:"getLifeCycle",value:function(e){if(e in this.lifeCycles)return this.lifeCycles[e];if(this.parentManager)return this.parentManager.getLifeCycle(e);throw new Error("Incorrect lifecycle name: ".concat(lifecycleName,", please make sure that has been registered via WebAppLifecycleManager.registerLifecycle()!"))}},{key:"getResourceGeneratorClass",value:function(e){if(e in this.generators)return this.generators[e];if(this.parentManager)return this.parentManager.getResourceGeneratorClass(e);throw new Error("Incorrect generator name: ".concat(e,", please make sure that has been registered via WebAppLifecycleManager.registerResourceGenerator(name, generator)!"))}},{key:"generator",value:function(e,t){var n,i=this.getLifeCycle(e),r=i.getResourceGenerator(t);r||(n="string"==typeof t?this.getResourceGeneratorClass(t):yC.resolveInstance(t),i.addResourceGenerator(t,n),r=i.getResourceGenerator(t));return r}},{key:"releaseAll",value:function(){Object.values(this.lifeCycles).forEach((function(e){e.release()}))}},{key:"destroy",value:function(){Object.values(this.lifeCycles).forEach((function(e){e.destroy()}))}}]),e}(),bC=function(){function e(){(0,C._)(this,e),this.keyArray=[],this.valueArray=[]}return(0,D._)(e,[{key:"size",get:function(){return this.keyArray.filter((function(t){return t!==e.NONE})).length}},{key:"set",value:function(t,n){var i=this.keyArray,r=this.valueArray,o=i.indexOf(t);if(-1===o){var a=i.indexOf(e.NONE);-1!==a?o=a:(i.push(t),o=i.length-1)}i[o]=t,r[o]=n}},{key:"get",value:function(e){var t=this.keyArray;return this.valueArray[t.indexOf(e)]}},{key:"delete",value:function(t){var n=this.keyArray,i=this.valueArray,r=n.indexOf(t);r>-1&&(n[r]=e.NONE,i[r]=e.NONE)}},{key:"has",value:function(e){return this.keyArray.indexOf(e)>-1}},{key:"clear",value:function(){this.keyArray.length=0,this.valueArray.length=0}},{key:"keys",value:function(){return this.keyArray.filter((function(t){return t!==e.NONE}))}},{key:"values",value:function(){return this.valueArray.filter((function(t){return t!==e.NONE}))}}],[{key:"NONE",get:function(){return{}}}]),e}(),wC=W.LoggerFactory.getLogger("WebAppLifeCycle"),kC=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;return(0,C._)(this,n),(e=t.call(this)).map=new(Map||bC),e.releaseHooks=[],e}return(0,D._)(n,[{key:"release",value:function(){if(!this.isDestroyed){var e=this.map.values();if(Array.isArray(e))e.forEach((function(e){return e.release()}));else{var t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){r.value.release()}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}this.releaseHooks.forEach((function(e){try{e()}catch(e){wC.error("An error occurred while invoking release hook",e)}})),this.releaseHooks.length=0}}},{key:"getResourceGenerator",value:function(e){if(this.map.has(e))return this.map.get(e)}},{key:"addResourceGenerator",value:function(e,t){if(this.map.has(e))throw new Error("duplicate generator name is not supported now!");this.map.set(e,new t)}},{key:"initialize",value:function(){(0,W.notImplemented)()}},{key:"addReleaseHook",value:function(e){"function"==typeof e&&this.releaseHooks.push(e)}},{key:"destroy",value:function(){this.isDestroyed||(this.release(),this.map.clear(),delete this.map,(0,E._)((0,S._)(n.prototype),"destroy",this).call(this))}}],[{key:"getName",value:function(){(0,W.notImplemented)()}},{key:"depends",value:function(){return[]}}]),n}(W.Disposable),xC=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this)).pdfViewer=e,i}return(0,D._)(n,[{key:"initialize",value:function(){var e=this,t=this.pdfViewer.destroy;this.pdfViewer.destroy=function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.apply(e.pdfViewer,i).then((function(){e.release()}))}}}],[{key:"getName",value:function(){return sb.PDF_VIEWER_ALIVE}},{key:"depends",value:function(){return[sb.BROWSER_RELOAD]}}]),n}(kC),PC=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this)).pdfViewer=e,i}return(0,D._)(n,[{key:"initialize",value:function(){var e=this,t=function(){e.release()};this.pdfViewer.eventEmitter.on(se.willCloseDocument,t),this.addDestroyHook((function(){e.pdfViewer.eventEmitter.off(se.willCloseDocument,t),delete e.pdfViewer}))}}],[{key:"getName",value:function(){return sb.PDF_DOCUMENT_CLOSING}},{key:"depends",value:function(){return[sb.PDF_VIEWER_ALIVE,sb.BROWSER_RELOAD]}}]),n}(kC),CC=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"generate",value:function(e){var t=window.URL||window.webkitURL,n=t.createObjectURL(e);return this.addReleaseHook((function(){return t.revokeObjectURL(n),!0})),n}},{key:"expose",value:function(){return this.getWrappedURL()}},{key:"getWrappedURL",value:function(){var e=this;if(this.WrappedURL)return this.WrappedURL;var t=window.URL||window.webkitURL,n=this.wrap(t,"createObjectURL",(function(){return function(t){return e.generate(t)}}));return this.WrappedURL=n,n.URL=n,n}}]),n}(yC),DC=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"initialize",value:function(){}},{key:"addResourceGenerator",value:function(e,t){var i=this.map.size;(0,E._)((0,S._)(n.prototype),"addResourceGenerator",this).call(this,e,t),this.map.size>i&&this.prepareUnloadEvent()}},{key:"prepareUnloadEvent",value:function(){var e=this;if(!this.prepared)if(this.prepared=!0,"function"!=typeof window.onunload)window.onunload=function(){return e.destroy(),""};else{var t=window.onunload;window.onunload=function(n){return e.destroy(),t.call(window,n)}}}}],[{key:"getName",value:function(){return sb.BROWSER_RELOAD}}]),n}(kC),EC=n(6453),SC=function(){function e(t,n,i){(0,C._)(this,e),(0,z._)(this,"doc",void 0),(0,z._)(this,"field",void 0),(0,z._)(this,"info",void 0),(0,z._)(this,"widget",void 0),this.doc=t,this.field=n,this.info=i}return(0,D._)(e,[{key:"setAlignment",value:function(e){}},{key:"getAlignment",value:function(){return this.info.alignment}},{key:"getExportValue",value:function(){return this.info.exportValue}},{key:"getIndex",value:function(){return this.info.index}},{key:"getField",value:function(){return this.field}},{key:"getWidgetAnnot",value:function(){var e=this;return(0,P._)((function(){var t,n,i,r;return(0,L.Jh)(this,(function(o){switch(o.label){case 0:return t=e.info,n=t.widgetObjNum,i=t.pageIndex,[4,e.doc.getPageByIndex(i)];case 1:return[4,o.sent().getAnnotsByObjectNumArray([n])];case 2:return r=R._.apply(void 0,[o.sent(),1]),[2,r[0]]}}))}))()}}]),e}(),IC=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r;return(0,C._)(this,n),r=t.call(this),(0,z._)((0,x._)(r),"doc",void 0),(0,z._)((0,x._)(r),"info",void 0),(0,z._)((0,x._)(r),"fieldAPI",void 0),(0,z._)((0,x._)(r),"additionalActionAPI",void 0),(0,z._)((0,x._)(r),"eventEmitter",void 0),r.doc=e,r.info=i,r.eventEmitter=new _o.EventEmitter,r.fieldAPI=r.doc.getFormFieldAPI(),r.additionalActionAPI=r.doc.actionAPI,r.updateInfo(i),r}return(0,D._)(n,[{key:"fieldName",get:function(){return this.getName()}},{key:"resQuery",get:function(){return{type:"field",fieldName:this.getName()}}},{key:"setName",value:function(e){var t=this;return(0,P._)((function(){var n,i,r,o,a;return(0,L.Jh)(this,(function(s){switch(s.label){case 0:return[4,t.getWidget(0)];case 1:return n=s.sent(),[4,t.doc.getPDFForm().renameField(n.getWidgetId(),e)];case 2:return 0!==(i=s.sent())?[3,5]:(t.info.fieldName=e,o=Array.from,a={},[4,t.getWidgetsCount()]);case 3:return r=o.apply(Array,[(a.length=s.sent(),a),(c=(0,P._)((function(n,i){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[4,t.getWidget(i)];case 1:return n.sent().info.field.fieldName=e,[2]}}))})),function(e,t){return c.apply(this,arguments)})]),[4,Promise.all(r)];case 4:s.sent(),t.emitPropertyUpdatedEvent(wr.FormFieldPropertyName.NAME,e),s.label=5;case 5:return[2,i]}var c}))}))()}},{key:"getName",value:function(){return this.info.fieldName}},{key:"getObjNumber",value:function(){return this.info.objNumber}},{key:"getControl",value:function(e){var t=this;return(0,P._)((function(){var n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return[4,t.fieldAPI.getControlInfo(t.fieldName,e)];case 1:if(!(n=i.sent()))throw new Error("Could not retrieve control for this index ".concat(e,"!"));return[2,new SC(t.doc,t,n)]}}))}))()}},{key:"getWidget",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[4,t.getControl(e)];case 1:return[2,n.sent().getWidgetAnnot()]}}))}))()}},{key:"getDateTimeFormat",value:function(){return this.fieldAPI.getDatetimeFormat(this.fieldName)}},{key:"getType",value:function(){return this.info.fieldType.type}},{key:"getValue",value:function(){return this.fieldAPI.getValue(this.fieldName)}},{key:"setValue",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.fieldAPI.setValue(this.fieldName,e).then((function(i){i?n&&t.emitPropertyUpdatedEvent(wr.FormFieldPropertyName.VALUE,e):W.LoggerFactory.getLogger("PDFFormField").warn("Warning: The field might be focused. Please use FormFillerEditorAPI instead.")}))}},{key:"updateInfo",value:function(e){this.info=e}},{key:"getFlags",value:function(){return this.info.flags}},{key:"setFlags",value:function(e){var t=this;return this.fieldAPI.setFlag(this.fieldName,e).then((function(){t.info.flags=e,t.emitPropertyUpdatedEvent(wr.FormFieldPropertyName.FLAGS,e)}))}},{key:"updateFlagByOptions",value:function(e){var t=this;return this.fieldAPI.updateFlagByOptions(this.fieldName,e).then((function(e){t.info.flags=e,t.emitPropertyUpdatedEvent(wr.FormFieldPropertyName.FLAGS,e)}))}},{key:"describeFieldFlags",value:function(){return this.fieldAPI.getFlagOptions(this.fieldName)}},{key:"setRequired",value:function(e){return this.updateFlagByOptions({required:e})}},{key:"isRequired",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){switch(t.label){case 0:return[4,e.describeFieldFlags()];case 1:return[2,t.sent().required]}}))}))()}},{key:"isReadonly",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){switch(t.label){case 0:return[4,e.describeFieldFlags()];case 1:return[2,t.sent().readonly]}}))}))()}},{key:"setReadonly",value:function(e){return this.updateFlagByOptions({readonly:e})}},{key:"setTextPassword",value:function(e){return this.updateFlagByOptions({textPassword:e})}},{key:"setTextDoNotScroll",value:function(e){return this.updateFlagByOptions({textDoNotScroll:e})}},{key:"setTextNoSpellCheck",value:function(e){return this.updateFlagByOptions({textDoNotSpellCheck:e})}},{key:"setButtonRadiosInUnison",value:function(e){return this.updateFlagByOptions({buttonRadiosInUnison:e})}},{key:"setTextCombo",value:function(e){return this.updateFlagByOptions({textComb:e})}},{key:"setComboEdit",value:function(e){return this.updateFlagByOptions({comboEdit:e})}},{key:"setTextMultiline",value:function(e){return this.updateFlagByOptions({textMultiline:e})}},{key:"setChoiceMultiSelect",value:function(e){return this.updateFlagByOptions({choiceMultiSelect:e})}},{key:"setDefaultValue",value:function(e){var t=this;return this.fieldAPI.setDefaultValue(this.fieldName,e).then((function(){t.emitPropertyUpdatedEvent(wr.FormFieldPropertyName.DEFAULT_VALUE,e)}))}},{key:"getDefaultValue",value:function(){return this.fieldAPI.getDefaultValue(this.fieldName)}},{key:"setCheckedByDefault",value:function(e){var t=this;return this.fieldAPI.setCheckedByDefault(this.fieldName,e).then((function(){return t.emitPropertyUpdatedEvent(wr.FormFieldPropertyName.CHECKED_BY_DEFAULT,e)}))}},{key:"isCheckedByDefault",value:function(){return this.fieldAPI.isCheckedByDefault(this.fieldName)}},{key:"getAlternateName",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){return[2,e.fieldAPI.getAlternateName(e.fieldName)]}))}))()}},{key:"setAlternateName",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[4,t.fieldAPI.setAlternateName(t.fieldName,e)];case 1:return n.sent(),t.emitPropertyUpdatedEvent(wr.FormFieldPropertyName.ALTERNATE_NAME,e),[2]}}))}))()}},{key:"getMappingName",value:function(){return this.fieldAPI.getMappingName(this.fieldName)}},{key:"setMappingName",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return t.getType()===wr.FieldType.Sign?[2]:[4,t.fieldAPI.setMappingName(t.fieldName,e)];case 1:return n.sent(),t.emitPropertyUpdatedEvent(wr.FormFieldPropertyName.MAPPING_NAME,e),[2]}}))}))()}},{key:"getAlignment",value:function(){return this.fieldAPI.getAlignment(this.fieldName)}},{key:"setAlignment",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return t.getType()===wr.FieldType.Sign?[2]:[4,t.fieldAPI.setAlignment(t.fieldName,e)];case 1:return n.sent(),t.emitPropertyUpdatedEvent(wr.FormFieldPropertyName.ALIGNMENT,e),[2]}}))}))()}},{key:"getOptions",value:function(){return this.fieldAPI.getChoiceOptions(this.fieldName)}},{key:"getMaxLength",value:function(){return this.fieldAPI.getMaxLength(this.fieldName)}},{key:"setMaxLength",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:if(e<0)throw new Error("Invalid maxLength: ".concat(e,", It must be greater than or equals to zero!"));return 0!==e?[3,2]:[4,t.fieldAPI.removeMaxLen(t.fieldName)];case 1:return n.sent(),[3,4];case 2:return[4,t.fieldAPI.setMaxLength(t.fieldName,e)];case 3:n.sent(),n.label=4;case 4:return t.emitPropertyUpdatedEvent(wr.FormFieldPropertyName.MAX_LENGTH,e),[2]}}))}))()}},{key:"getControlByIndex",value:function(e){return this.getControl(e)}},{key:"getWidgetsCount",value:function(){return this.fieldAPI.getControlCount(this.fieldName)}},{key:"setOptions",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[4,t.fieldAPI.setChoiceOptionItems(t.fieldName,e)];case 1:return n.sent(),t.emitPropertyUpdatedEvent(wr.FormFieldPropertyName.CHOICE_OPTION_ITEMS,e),[2]}}))}))()}},{key:"deleteOption",value:function(e){var t=this;return(0,P._)((function(){var n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return[4,t.fieldAPI.deleteChoiceOptionItems(t.fieldName,e)];case 1:return i.sent(),[4,t.getOptions()];case 2:return n=i.sent(),t.emitPropertyUpdatedEvent(wr.FormFieldPropertyName.CHOICE_OPTION_ITEMS,n),[2]}}))}))()}},{key:"insertOption",value:function(e,t){var n=this;return(0,P._)((function(){var i;return(0,L.Jh)(this,(function(r){switch(r.label){case 0:return[4,n.fieldAPI.insertChoiceOptionItemAt(n.fieldName,e,t)];case 1:return r.sent(),[4,n.getOptions()];case 2:return i=r.sent(),n.emitPropertyUpdatedEvent(wr.FormFieldPropertyName.CHOICE_OPTION_ITEMS,i),[2]}}))}))()}},{key:"addOption",value:function(e){var t=this;return(0,P._)((function(){var n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return[4,t.fieldAPI.appendChoiceOptionItem(t.fieldName,e)];case 1:return i.sent(),[4,t.getOptions()];case 2:return n=i.sent(),t.emitPropertyUpdatedEvent(wr.FormFieldPropertyName.CHOICE_OPTION_ITEMS,n),[2]}}))}))()}},{key:"getOptionsSize",value:function(){return this.fieldAPI.getOptionsSize(this.fieldName)}},{key:"updateOption",value:function(e,t){var n=this;return(0,P._)((function(){var i;return(0,L.Jh)(this,(function(r){switch(r.label){case 0:return[4,n.fieldAPI.updateChoiceOption(n.fieldName,e,t)];case 1:return r.sent(),[4,n.getOptions()];case 2:return i=r.sent(),n.emitPropertyUpdatedEvent(wr.FormFieldPropertyName.CHOICE_OPTION_ITEMS,i),[2]}}))}))()}},{key:"moveOption",value:function(e,t){var n=this;return(0,P._)((function(){var i;return(0,L.Jh)(this,(function(r){switch(r.label){case 0:return[4,n.fieldAPI.moveChoiceOption(n.fieldName,e,t)];case 1:return r.sent(),[4,n.getOptions()];case 2:return i=r.sent(),n.emitPropertyUpdatedEvent(wr.FormFieldPropertyName.CHOICE_OPTION_ITEMS,i),[2]}}))}))()}},{key:"selectOption",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[4,t.fieldAPI.selectOption(t.fieldName,e)];case 1:return n.sent(),t.emitPropertyUpdatedEvent(wr.FormFieldPropertyName.SELECT_OPTION_ITEM,e),[2]}}))}))()}},{key:"getValidateActionInfo",value:function(){return this.fieldAPI.getValidateActionInfo(this.getName())}},{key:"setValidateAction",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[4,t.fieldAPI.updateValidateAction(t.getName(),e)];case 1:return n.sent(),t.emitPropertyUpdatedEvent(wr.FormFieldPropertyName.VALIDATE_ACTION,null),t.emitPropertyUpdatedEvent(wr.FormFieldPropertyName.ACTION,null),[2]}}))}))()}},{key:"getFormatActionInfo",value:function(){return this.fieldAPI.getFormatActionInfo(this.getName())}},{key:"setFormatAction",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(e.category){case wr.FormatCategory.NONE:case wr.FormatCategory.CUSTOM:case wr.FormatCategory.DATE:case wr.FormatCategory.NUMBER:case wr.FormatCategory.PERCENTAGE:case wr.FormatCategory.SPECIAL:case wr.FormatCategory.TIME:break;default:throw new Error("Invalid format category: ".concat(e.category))}return[2,t._setFormatAction(e)]}))}))()}},{key:"removeFormatAction",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){return[2,e._setFormatAction({category:wr.FormatCategory.NONE})]}))}))()}},{key:"setNumberFormatAction",value:function(e){return this._setFormatAction(e)}},{key:"setPercentageFormatAction",value:function(e){return this._setFormatAction(e)}},{key:"setDateFormatAction",value:function(e){return this._setFormatAction(e)}},{key:"setTimeFormatAction",value:function(e){return this._setFormatAction(e)}},{key:"setSpecialFormatAction",value:function(e){return this._setFormatAction(e)}},{key:"setCustomFormatAction",value:function(e){return this._setFormatAction(e)}},{key:"_setFormatAction",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[4,t.fieldAPI.updateFormatAction(t.fieldName,e)];case 1:return n.sent(),t.emitPropertyUpdatedEvent(wr.FormFieldPropertyName.FORMAT_ACTION,null),t.emitPropertyUpdatedEvent(wr.FormFieldPropertyName.ACTION,null),[2]}}))}))()}},{key:"getCalculateActionInfo",value:function(){return this.fieldAPI.getCalculateActionInfo(this.getName())}},{key:"setCalculateAction",value:function(e){var t=this;return(0,P._)((function(){var n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return[4,t.fieldAPI.setCalculateAction(t.getName(),e)];case 1:return i.sent(),[4,t.getCalculateActionInfo()];case 2:return n=i.sent(),t.emitPropertyUpdatedEvent(wr.FormFieldPropertyName.CALCULATE_ACTION,n),[2]}}))}))()}},{key:"getSelectionChangeActionInfo",value:function(){return this.fieldAPI.getSelectionChangeActionInfo(this.getName())}},{key:"setSelectionChangeAction",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[4,t.fieldAPI.updateSelectionChangeAction(t.getName(),e)];case 1:return n.sent(),t.emitPropertyUpdatedEvent(wr.FormFieldPropertyName.SELECTION_CHANGE_ACTION,e),[2]}}))}))()}},{key:"getAdditionalAction",value:function(){var e=this;return new $e.AdditionalAction(this.resQuery,this.additionalActionAPI,(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emitPropertyUpdatedEvent(wr.FormFieldPropertyName.ACTION,null)}),(function(){return(0,M._)($e.FieldActionTriggerEventsArray)}))}},{key:"setAdditionalAction",value:function(e,t){var n=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return[4,n.additionalActionAPI.overwriteAction(n.resQuery,e,t)];case 1:return i.sent(),n.emitPropertyUpdatedEvent(wr.FormFieldPropertyName.ACTION,null),[2]}}))}))()}},{key:"getAdditionalActions",value:function(e){return this.getAdditionalAction().getActions(e)}},{key:"moveAdditionalAction",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[4,t.getAdditionalAction().moveAction(e)];case 1:return n.sent(),[2]}}))}))()}},{key:"removeAdditionalAction",value:function(e,t){var n=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(i){return[2,n.getAdditionalAction().removeAction(e,t)]}))}))()}},{key:"appendAdditionalAction",value:function(e,t){var n=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return[4,n.getAdditionalAction().addAction(e,t)];case 1:return i.sent(),[2]}}))}))()}},{key:"emitPropertyUpdatedEvent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.doc,r=this.getName();this.eventEmitter.emit("change",{field:this,propertyName:e,newValue:t,oldValue:n}),i.engine.eventEmitter.emit(ae.Z.formFieldPropertyUpdated,{doc:i,fieldName:r,propertyName:e,newValue:t,oldValue:n})}},{key:"onPropertyChange",value:function(e){var t=this,n=function(t){return e(t)};return this.eventEmitter.on("change",n),function(){t.eventEmitter.off("change",n)}}},{key:"getExtType",value:function(){return this.info.fieldType}},{key:"canEditText",value:function(){var e=this;return(0,P._)((function(){var t,n,i,r,o;return(0,L.Jh)(this,(function(a){switch(a.label){case 0:return t=e.getType()===wr.FieldType.Text,n=e.getType()===wr.FieldType.ComboBox,[4,e.describeFieldFlags()];case 1:return i=a.sent(),r=i.readonly,o=i.comboEdit,r?[2,!1]:[2,t||n&&o]}}))}))()}}]),n}(W.Disposable);function TC(e){var t=new FileReader;return new Promise((function(n,i){t.onload=function(){n(t.result)},t.onerror=i,t.readAsDataURL(e)}))}function RC(e){for(var t=e.split(","),n=t[0].match(/:(.*?);/)[1],i=atob(t[1]),r=i.length,o=new Uint8Array(r);r--;)o[r]=i.charCodeAt(r);return new Blob([o],{type:n})}function MC(e){var t=new FileReader;return new Promise((function(n,i){t.onload=function(){n(t.result)},t.onerror=i,t.readAsArrayBuffer(e)}))}var FC=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r;return(0,C._)(this,n),r=t.call(this,e,i),(0,z._)((0,x._)(r),"doc",void 0),(0,z._)((0,x._)(r),"fieldInfo",void 0),(0,z._)((0,x._)(r),"signatureAPI",void 0),(0,z._)((0,x._)(r),"verificationData",void 0),(0,z._)((0,x._)(r),"verifiedResult",void 0),(0,z._)((0,x._)(r),"signatureService",void 0),(0,z._)((0,x._)(r),"isXFAField",void 0),(0,z._)((0,x._)(r),"isFormField",void 0),r.doc=e,r.fieldInfo=i,r.isXFAField=!1,r.isFormField=!0,r.signatureAPI=e.signatureAPI,r.signatureService=e.signatureService,r}return(0,D._)(n,[{key:"getVerificationData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return t.verificationData&&!e?[3,2]:[4,t.signatureAPI.getVerificationData(t.getName())];case 1:t.verificationData=n.sent(),n.label=2;case 2:return[2,t.verificationData]}}))}))()}},{key:"getVerifyParams",value:function(){var e=this;return(0,P._)((function(){var t,n,i,r,o,a,s,c;return(0,L.Jh)(this,(function(u){switch(u.label){case 0:return[4,e.isSigned()];case 1:return u.sent()?[4,e.getVerificationData()]:[2];case 2:return t=u.sent(),n=t.isByteRangeError,i=t.plainContent,r=t.signedData,o=t.hasDataOutOfScope,[4,e.getFilter()];case 3:return a=u.sent(),[4,e.getSubfilter()];case 4:return s=u.sent(),[4,e.getSigner()];case 5:return c=u.sent(),[2,{filter:a,subfilter:s,signer:c,isByteRangeError:n,plainContent:i,signedData:r,hasDataOutOfScope:o}]}}))}))()}},{key:"verify",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;return(0,P._)((function(){var n,i,r,o,a,s,c,u,l,A,d,h,f,p,v;return(0,L.Jh)(this,(function(g){switch(g.label){case 0:if(n="boolean"==typeof e?{force:e,handler:void 0}:(0,w._)({force:!1},e),i=n.force,(r=n.handler)||(r=t.signatureService.verifyHandler),o=e.verificationData,!r)throw new Error("Cannot verify a signature field [".concat(t.getName(),"] because the verification handler is not specified!"));return i||void 0===t.verifiedResult?[4,t.isSigned()]:[2,t.verifiedResult];case 1:if(!g.sent())throw new Error("Cannot verify an unsigned signature field [".concat(t.getName(),"]"));g.label=2;case 2:return g.trys.push([2,9,,10]),null==o?[3,3]:(A=o,[3,5]);case 3:return[4,t.getVerificationData()];case 4:A=g.sent(),g.label=5;case 5:return s=(a=A).isByteRangeError,c=a.plainContent,u=a.signedData,l=a.hasDataOutOfScope,!s&&c&&u?(h=[t],f=Uint8Array.bind,[4,MC(c)]):[2,bt.verifyErrorByteRange];case 6:return h=h.concat([new(f.apply(Uint8Array,[void 0,g.sent()]))]),p=Uint8Array.bind,[4,MC(u)];case 7:return[4,r.apply(void 0,h.concat([new(p.apply(Uint8Array,[void 0,g.sent()])),l]))];case 8:return d=1024&(d=g.sent())?4:8,l&&(d|=4&d?134217728:268435456),t.verifiedResult=d,[2,d];case 9:if("number"==typeof(v=g.sent()))return[2,v];throw v;case 10:return[2]}}))}))()}},{key:"_getDigitalSignatureInfo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.doc.engine.ensureSideModeLoaded().then((function(i){return e.doc.api.getDigitalSignatureInfo(e.doc.id,e.fieldName,t,n)}))}},{key:"getDigitalSignatureInfo",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this;return new Promise((e=(0,P._)((function(e,r){var o,a,s,c,u,l,A,d,h,f,p,v,g,m;return(0,L.Jh)(this,(function(r){switch(r.label){case 0:return i.isDestroyed?(e({}),[2]):(o={},a={certificateInfo:{subjectChain:[]}},s=i.fieldName,[4,i.signatureAPI.getSignatureInfo(i.fieldName)]);case 1:if(c=r.sent(),u=c.isSigned,l=c.signer,A=l,!u)return[3,5];r.label=2;case 2:return r.trys.push([2,4,,5]),[4,i._getDigitalSignatureInfo(t,n)];case 3:return a=r.sent(),d=a.certificateInfo,h=d.subjectChain,l=(l=(h[h.length-1]||{}).subjectName||"")||A,[3,5];case 4:return f=r.sent(),a={},console.error(f),[3,5];case 5:return p={name:s,isSigned:u,isVisible:c.isVisible},u&&(v={originalSigner:A,signer:l,location},p=(0,w._)({},p,v)),[4,i.getWidget(0)];case 6:return g=r.sent(),m={pageIndex:g?g.getPage().getIndex():0,top:g?g.info.rect.top:0,widgetId:g?g.id:void 0},o=(0,w._)({},p,a,m,c),e(o),[2]}}))})),function(t,n){return e.apply(this,arguments)}))}},{key:"Verify",value:function(e){var t=this;return this.doc.engine.ensureSideModeLoaded().then((function(n){return t.doc.api.VerifySignature(t.doc.id,t.fieldName,e)}))}},{key:"getSignInfo",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){return[2,e.signatureAPI.getSignatureInfo(e.getName())]}))}))()}},{key:"getImage",value:function(){var e=this;return(0,P._)((function(){var t,n,i,r,o,a,s;return(0,L.Jh)(this,(function(c){switch(c.label){case 0:return[4,e.signatureAPI.getSignatureBitmap(e.getName())];case 1:return(t=c.sent())?(n=t.width,i=t.height,r=t.buffer,(o=document.createElement("canvas")).width=n,o.height=i,a=o.getContext("2d"),(s=a.createImageData(n,i)).data.set(new(Uint8ClampedArray||Uint8Array)(r)),a.putImageData(s,0,0),[2,new Promise((function(e){o.toBlob((function(t){e(t||void 0)}),"image/png")}))]):[2]}}))}))()}},{key:"isLast",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){return[2,e.signatureAPI.isLast(e.getName())]}))}))()}},{key:"getSigner",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){return[2,e.signatureAPI.getSigner(e.getName()).then((function(e){return null!=e?e:""}))]}))}))()}},{key:"getSubfilter",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){return[2,e.signatureAPI.getSubFilter(e.getName())]}))}))()}},{key:"getFilter",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){return[2,e.signatureAPI.getFilter(e.getName())]}))}))()}},{key:"getByteRange",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){return[2,e.signatureAPI.getByteRange(e.getName())]}))}))()}},{key:"isSigned",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){return[2,e.signatureAPI.isSigned(e.getName())]}))}))()}},{key:"getMDPAction",value:function(){return this.signatureAPI.getMDPAction(this.fieldName)}},{key:"setMDPAction",value:function(e){var t=this;return(0,P._)((function(){var n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:if(!(0,wr.isValidMDPActionType)(e.type))throw new Error("Invalid MDP action type: ".concat(e.type));return[4,t.getMDPAction()];case 1:return n=i.sent(),[4,t.signatureAPI.setMDPAction(t.fieldName,e)];case 2:return i.sent(),t.emitPropertyUpdatedEvent(wr.FormFieldPropertyName.SIGNATURE_MDP_ACTION,e,n),[2]}}))}))()}},{key:"getSignatureType",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){return[2,e.signatureAPI.getSignatureType(e.getName())]}))}))()}},{key:"getPagingSealConfig",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){return[2,e.signatureAPI.getPagingSealConfig(e.getName())]}))}))()}}]),n}(IC),NC=W.LoggerFactory.getLogger("engine/PDFForm"),LC=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),i=t.call(this),(0,z._)((0,x._)(i),"doc",void 0),(0,z._)((0,x._)(i),"creator",void 0),(0,z._)((0,x._)(i),"fields",void 0),i.doc=e,i.fields=new Set,i.addDestroyHook((function(){i.fields.clear()})),i.formAPI.init({fileName:e.getFileName()}),i.creator=i.doc.widgetCreator,i}return(0,D._)(n,[{key:"formAPI",get:function(){return this.doc.formAPI}},{key:"setDefaultFieldNameGenerator",value:function(e){this.creator.setDefaultFieldTypeNameGenerator(e)}},{key:"getFields",value:function(){var e=this;return(0,P._)((function(){var t;return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[4,e.formAPI.getFields()];case 1:return t=n.sent(),[4,Promise.all(t.map((function(t){return e.getField(t.name)})))];case 2:return[2,n.sent().filter(Boolean)]}}))}))()}},{key:"getFieldsCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.formAPI.getFieldsCount(e)}},{key:"getField",value:function(e){var t=this;return(0,P._)((function(){var n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return[4,t.doc.formAPI.getFieldInfo(e)];case 1:return(n=i.sent())?[2,t.getOrCreateField(e,n)]:[2,void 0]}}))}))()}},{key:"getFieldsByNamePrefix",value:function(e){var t=this;return(0,P._)((function(){var n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return[4,t.formAPI.getFieldNamesByPrefix(e)];case 1:return n=i.sent(),[4,Promise.all(n.map((function(e){return t.getField(e)})))];case 2:return[2,i.sent().filter(Boolean)]}}))}))()}},{key:"fixPageFields",value:function(e){return this.formAPI.fixPageFields(e)}},{key:"getOrCreateField",value:function(e,t){if(t)return t.fieldType.type===wr.FieldType.Sign?new FC(this.doc,t):new IC(this.doc,t)}},{key:"getFieldAtPosition",value:function(e,t,n){var i=this;return(0,P._)((function(){var r;return(0,L.Jh)(this,(function(o){switch(o.label){case 0:if(e<0||e>=i.doc.getPageCount())throw new Error("Invalid page index: ".concat(e));return[4,i.doc.formAPI.getFieldAtPosition(e,t,n)];case 1:return(r=o.sent())?[2,i.getField(r)]:[2]}}))}))()}},{key:"enableCalculate",value:function(e){return this.doc.formAPI.enableCalculate(e)}},{key:"getFieldsInCalculationOrder",value:function(){return this.doc.formAPI.getFieldsInCalculationOrder()}},{key:"hasFieldsInCalculationOrder",value:function(){return this.doc.formAPI.hasFieldsInCalculationOrder()}},{key:"setFieldsInCalculationOrder",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[4,t.doc.formAPI.setFieldsInCalculationOrder(e)];case 1:return n.sent(),t.emitEvents(ae.Z.calculationOrderUpdated,e),[2]}}))}))()}},{key:"resetForm",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),n.doc.engine.eventEmitter.emit("progress-changed","RESET-FORM",0,Rx.PROGRESSING),[4,n.doc.formAPI.resetFieldsValue(e,t,(function(e){var t=function(){switch(e){case-1:return Rx.FAIL;case 100:return Rx.SUCCESS;default:return Rx.PROGRESSING}}();return n.doc.engine.eventEmitter.emit("progress-changed","RESET-FORM",e,t),n.doc.engine.eventEmitter.emit(ae.Z.formReset),Promise.resolve()}))];case 1:return i.sent(),[3,3];case 2:return i.sent(),n.doc.engine.eventEmitter.emit("progress-changed","RESET-FORM",0,Rx.FAIL),[3,3];case 3:return[2]}}))}))()}},{key:"submitForm",value:function(e){var t=this;return(0,P._)((function(){var n,i,r,o,a,s,c,u,l;return(0,L.Jh)(this,(function(A){return n=e.actionData,i=e.requester,r=void 0===i?t._submitFormRequester.bind(t):i,o=(0,$e.describeActionFlags)(n.flags),a=o.exclude,s=o.format,c=o.includeNoValueFields,u=o.includeAnnots,l={fieldNames:n.fieldNames,destination:n.address,format:s,config:{includeOrExcludeFields:!a,includeNoValueFields:c,includeAnnots:u}},[2,t.submitFormByParams(l,r,{query:e.owner,trigger:e.trigger})]}))}))()}},{key:"submitFormByParams",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._submitFormRequester.bind(this),n=arguments.length>2?arguments[2]:void 0,i=this;return(0,P._)((function(){var r,o;return(0,L.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,i.formAPI.submitForm({params:e,fetcher:function(e,n){return t(i.doc,e,n)},progress:function(){i.doc.engine.eventEmitter.emit("progress-changed","SUBMIT-FORM",0,Rx.PROGRESSING)},triggerInfo:n})];case 1:return r=a.sent(),i.doc.engine.eventEmitter.emit("progress-changed","SUBMIT-FORM",0,Rx.SUCCESS),[2,r];case 2:throw o=a.sent(),i.doc.engine.eventEmitter.emit("progress-changed","SUBMIT-FORM",0,Rx.FAIL),o;case 3:return[2]}}))}))()}},{key:"_submitFormRequester",value:function(e,t,n){return(0,P._)((function(){var e,i,r,o;return(0,L.Jh)(this,(function(a){switch(a.label){case 0:if(e=t.destination,e.match(/^(mailto:|ftp:|file:)/i))throw NC.warn("Unsupported submit form destination: ".concat(t.destination,", if you need to support such destinations, please provide application layer custom implementation through the PDFForm.setDefaultSubmitFormFetcher method")),wr.SUBMIT_FORMAT_UNSUPPORTED_DESTINATION_ERROR;return i=t.format,r=t.config.isGetMethod,"html"!==i?[3,2]:[4,n.text()];case 1:o=a.sent(),e+="?"+o,a.label=2;case 2:return[4,fetch(e,{method:r?"GET":"POST",body:n})];case 3:return[2,a.sent().text()]}}))}))()}},{key:"setDefaultSubmitFormRequester",value:function(e){this._submitFormRequester=e}},{key:"emitEvents",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r;(r=this.doc.engine.eventEmitter).emit.apply(r,[e].concat((0,M._)(n)))}},{key:"addTooltipsForAllFormFields",value:function(){return this.formAPI.addTooltipsForAllFormFields()}},{key:"getWidgetAtPoint",value:function(e,t,n){var i=this;return(0,P._)((function(){var r;return(0,L.Jh)(this,(function(o){switch(o.label){case 0:return[4,i.formAPI.getWidgetIdAtPoint(e,t,n)];case 1:return(r=o.sent())?[4,i.doc.query({type:"annot",annotId:r})]:[2];case 2:return[2,o.sent()]}}))}))()}},{key:"duplicateField",value:function(e,t){var n=this;return(0,P._)((function(){var i,r,o,a,s,c;return(0,L.Jh)(this,(function(u){switch(u.label){case 0:return(i=e.getField())?[4,i.getWidgetsCount()]:[2,Promise.reject(new Error("Field not found."))];case 1:return(r=u.sent())>1?[2,Promise.reject(new Error("This field already has ".concat(r," copies. Only one copy is allowed.")))]:t.length<1?[2,Promise.resolve([])]:(o=t.shift(),a=e.getPage(),[4,e.setRect(o)]);case 2:return u.sent(),t.length<1?[2,Promise.resolve([])]:[4,n.doc.formAPI.duplicateField({objNumber:e.getObjectNumber(),pageIndex:a.getIndex()},t)];case 3:return s=u.sent(),[4,a.getUnloadedAnnots()];case 4:return u.sent(),[4,Promise.all(s.map((function(e){return n.doc.query({type:"annot",annotId:e})})))];case 5:return c=u.sent(),n.emitEvents(ae.Z.annotationAdd,c,c[0].getPage()),[2,c]}}))}))()}},{key:"duplicateWidget",value:function(e,t){var n=this;return(0,P._)((function(){var i,r,o;return(0,L.Jh)(this,(function(a){switch(a.label){case 0:return t.length<1?[2,Promise.resolve([])]:(i=n.doc.getPageCount(),t.forEach((function(e){if(e<0||e>=i)throw new Error("Invalid page index: ".concat(e,", page count: ").concat(i))})),r=e.getPage(),[4,n.doc.formAPI.duplicateWidget({objNumber:e.getObjectNumber(),pageIndex:r.getIndex()},t)]);case 1:return o=a.sent(),[4,Promise.all(o.map((s=(0,P._)((function(e){return(0,L.Jh)(this,(function(t){switch(t.label){case 0:return[4,n.doc.getPageByIndex(e.pageIndex)];case 1:return[4,t.sent().getUnloadedAnnots()];case 2:return t.sent(),[2,n.doc.query({type:"annot",annotId:e})]}}))})),function(e){return s.apply(this,arguments)})))];case 2:return a.sent().filter(Boolean).forEach((function(e){n.doc.engine.eventEmitter.emit(ae.Z.annotationAdd,[e],e.getPage())})),[2,o]}var s}))}))()}},{key:"exportToFile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(i){switch(e){case W.FileFormat.xfdf:return[2,n.formAPI.exportToXFDF(t)];case W.FileFormat.fdf:return[2,n.formAPI.exportToFDF(t)];case W.FileFormat.csv:return[2,n.formAPI.exportToCSV(t)];case W.FileFormat.json:return[2,n.formAPI.exportToJSON(t)];case W.FileFormat.text:return[2,n.formAPI.exportToTxt(t)];case W.FileFormat.xml:return[2,n.formAPI.exportToXML(t)];default:throw new Error("Invalid file format: ".concat(e,", only supported formats are 'xfdf', 'fdf', 'csv', 'json', 'text' and 'xml'."))}return[2]}))}))()}},{key:"importFromFile",value:function(e,t,n){var i,r=this;switch(t){case W.FileFormat.xfdf:i=this.importFromXFDF(e,n);break;case W.FileFormat.fdf:i=this.importFromFDF(e,n);break;case W.FileFormat.csv:i=this.importFromCSV(e,n);break;case W.FileFormat.json:i=this.importFromJSON(e,n);break;case W.FileFormat.text:i=this.importFromText(e,n);break;case W.FileFormat.xml:i=this.importFromXML(e,n);break;default:throw new Error("Invalid file format: ".concat(t,", only supported formats are 'xfdf', 'fdf', 'csv', 'json', 'text' and 'xml'."))}return i&&i.then((function(){r.doc.engine.eventEmitter.emit(ae.Z.formImported)}))}},{key:"importFromCSV",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{delimiter:","},n=new Blob([e],{type:"text/csv"});return this.formAPI.importFromCSV(n,t)}},{key:"importFromText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{delimiter:"\n"},n=new Blob([e],{type:"text/csv"});return this.formAPI.importFromTXT(n,(0,k._)((0,w._)({},t),{delimiter:t.delimiter||"\n"}))}},{key:"importFromFDF",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Blob([e],{type:"application/vnd.fdf"});return this.formAPI.importFromFDF(n,t)}},{key:"importFromXFDF",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Blob([e],{type:"application/vnd.xfdf"});return this.formAPI.importFromXFDF(n,t)}},{key:"importFromXML",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Blob([e],{type:"text/xml"});return this.formAPI.importFromXML(n,t)}},{key:"importFromJSON",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=Array.isArray(e)?new Blob([JSON.stringify(e)],{type:"application/json"}):new Blob([e],{type:"application/json"}),this.formAPI.importFromJSON(t,n)}},{key:"internalCopyWidgets",value:function(e,t){var n=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(i){if(!n.doc.checkPermission(Qt.modify)||!n.doc.checkPermission(Qt.annotForm)||!n.doc.checkPermission(Qt.fillForm))throw new Error("Permission error");return[2,n.doc.formAPI.copyControls(e,t)]}))}))()}},{key:"cloneWidgets",value:function(e){var t=this;return(0,P._)((function(){var n,i,r,o,a,s,c,u,l,A;return(0,L.Jh)(this,(function(d){switch(d.label){case 0:return Array.isArray(e)||(e=[e]),[4,t.doc.formAPI.cloneWidgets(e)];case 1:return n=d.sent(),[4,Promise.all(Array.from(new Set(n.map((function(e){return e.pageIndex})))).map((h=(0,P._)((function(e){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[4,t.doc.getPageByIndex(e)];case 1:return[2,n.sent().getUnloadedAnnots()]}}))})),function(e){return h.apply(this,arguments)})))];case 2:d.sent(),i=t.doc.engine.eventEmitter,r=!0,o=!1,a=void 0,d.label=3;case 3:d.trys.push([3,8,9,10]),s=n[Symbol.iterator](),d.label=4;case 4:return(r=(c=s.next()).done)?[3,7]:(u=c.value,[4,t.doc.query({type:"annot",annotId:u})]);case 5:l=d.sent(),i.emit(ae.Z.annotationAdd,[l],l.getPage()),d.label=6;case 6:return r=!0,[3,4];case 7:return[3,10];case 8:return A=d.sent(),o=!0,a=A,[3,10];case 9:try{r||null==s.return||s.return()}finally{if(o)throw a}return[7];case 10:return[2,n]}var h}))}))()}},{key:"setHighlight",value:function(e){return this.formAPI.highlightFormFields(e)}},{key:"isHighlight",value:function(){return this.formAPI.isHighlight()}},{key:"setHighlightColor",value:function(e){return this.formAPI.setHighlightColor(e)}},{key:"getHighlightColor",value:function(){return this.formAPI.getHighlightColor()}},{key:"setRequiredColor",value:function(e){return this.formAPI.setRequiredColor(e)}},{key:"getRequiredColor",value:function(){return this.formAPI.getRequiredColor()}},{key:"onHighlightChanged",value:function(e){var t=this.formAPI.onHighlightChanged(e);return function(){t.then((function(e){e()}))}}},{key:"createPushButton",value:function(e){return this.creator.createPushButton(e)}},{key:"createImageButton",value:function(e){var t;return this.creator.createPushButton((0,k._)((0,w._)({},e),{extra:{imagePath:e.imagePath},actions:[{trigger:$e.ActionTriggerEvents.ANNOT_MOUSE_BUTTON_RELEASED,action:{type:wr.ActionType.javaScript,data:{javascript:"event.target.buttonImportIcon()"}}}].concat(null!==(t=e.actions)&&void 0!==t?t:[])}),!0)}},{key:"createTextField",value:function(e){return this.creator.createTextField(e)}},{key:"createDatetime",value:function(e){var t;return e.timeformat||(e.timeformat="m/d/yyyy"),this.creator.createTextField((0,k._)((0,w._)({},e),{actions:[{trigger:$e.ActionTriggerEvents.FIELD_WILL_FORMAT,action:{type:wr.ActionType.javaScript,data:{javascript:'AFDate_FormatEx("'.concat(e.timeformat,'")')}}},{trigger:$e.ActionTriggerEvents.FIELD_KEY_STROKE,action:{type:wr.ActionType.javaScript,data:{javascript:'AFDate_KeystrokeEx("'.concat(e.timeformat,'")')}}}].concat(null!==(t=e.actions)&&void 0!==t?t:[])}),!0)}},{key:"createCheckbox",value:function(e){return this.creator.createCheckBox(e)}},{key:"createRadioButton",value:function(e){return this.creator.createRadioButton(e)}},{key:"createComboBox",value:function(e){return this.creator.createComboBox(e)}},{key:"createListBox",value:function(e){return this.creator.createListBox(e)}},{key:"createSignature",value:function(e){return this.creator.createSignature(e)}},{key:"renameField",value:function(e,t){var n=this;return(0,P._)((function(){var i,r,o,a;return(0,L.Jh)(this,(function(s){switch(s.label){case 0:return[4,n.doc.query({type:"annot",annotId:e})];case 1:return(i=s.sent())&&(r=i.getField())?(o=r.getName(),[4,r.getWidgetsCount()]):[2,-2];case 2:return s.sent(),[4,n.formAPI.renameField(e,o,t)];case 3:return 0===(a=s.sent())&&(i.info.field.fieldName=t,n.doc.engine.eventEmitter.emit(ae.Z.formFieldRenamed,{doc:n.doc,widgetId:e,oldName:o,newName:t})),[2,a]}}))}))()}},{key:"addSignatureBatch",value:function(e,t){var n=this;return(0,P._)((function(){var i,r,o;return(0,L.Jh)(this,(function(a){switch(a.label){case 0:if(!Array.isArray(e)||0===e.length)return[2,[]];if("string"!=typeof t&&0!==t&&1!==t)throw new Error("Invalid shareVDictType: "+t);return[4,n.formAPI.createSignatureBatch(e,t)];case 1:return i=a.sent(),r=Array.from(new Set(i.map((function(e){return e.pageIndex})))),[4,Promise.all(r.map((s=(0,P._)((function(e){return(0,L.Jh)(this,(function(t){switch(t.label){case 0:return[4,n.doc.getPageByIndex(e)];case 1:return[2,t.sent().getUnloadedAnnots()]}}))})),function(e){return s.apply(this,arguments)})))];case 2:return a.sent(),[4,Promise.all(i.map((function(e){return n.doc.query({type:"annot",annotId:e})})))];case 3:return o=a.sent(),n.doc.engine.eventEmitter.emit(ae.Z.annotationAdd,o,n.doc),[2,o.map((function(e){return e.getField()}))]}var s}))}))()}},{key:"isEmpty",value:function(){return!this.getFieldsCount()}}]),n}(W.Disposable),OC=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,C._)(this,e),this.id=(0,W.getUniqueId)("doc_text_search"),this.pattern=n,this.flags=i,this.doc=t,this.api=t.api,this.startPageIndex=0,this.currentPageIndex=0,this.endPageIndex=t.getPageCount()-1,this.annotTextSearchArr=[],this.currentAnnotTextSearch=null,t.docTextSearchIdMap[this.id]=this}return(0,D._)(e,[{key:"getId",value:function(){return this.id}},{key:"findNext",value:function(){var e=this;this.startPrev=!1;var t=null;return this.getCurrentPageTextSearch().then((function(e){return t=e,e.findNext()})).then((function(n){if(n)return n;if((0,T._)(t,kr)){var i=e.annotTextSearchArr.findIndex((function(t){return t.id==e.currentAnnotTextSearch.id}));return i>-1?i==e.annotTextSearchArr.length-1?(e.currentAnnotTextSearch=null,e.startPageTextSearch=!0):(e.currentAnnotTextSearch=e.annotTextSearchArr[i+1],e.startPageTextSearch=!1):(e.currentAnnotTextSearch=null,e.startPageTextSearch=!0),e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null,e.findNext()}return e.currentPageIndex<e.endPageIndex?(e.currentPageIndex++,e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null,e.startPageTextSearch=!1,e.findNext()):(e.currentPageIndex=e.startPageIndex,e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null,e.startPageTextSearch=!1,null)}))}},{key:"findNexts",value:function(){return this.startPrev=!1,this.findNexts_New()}},{key:"iterationPageFindNext",value:function(e,t,n){var i=this;e.findNext().then((function(r){if(!r)return n(t);t.push(r),i.iterationPageFindNext(e,t,n)}))}},{key:"findPrev",value:function(){var e=this;this.startPrev=!0;var t=null;return this.getCurrentPageTextSearch().then((function(e){return t=e,e.findPrev()})).then((function(n){if(n)return n;if((0,T._)(t,kr)){var i=e.annotTextSearchArr.findIndex((function(t){return t.id==e.currentAnnotTextSearch.id}));return i>-1?0==i?(e.currentAnnotTextSearch=null,e.startPageTextSearch=!0):(e.currentAnnotTextSearch=e.annotTextSearchArr[i-1],e.startPageTextSearch=!1):(e.currentAnnotTextSearch=null,e.startPageTextSearch=!0),e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null,e.findPrev()}return e.currentPageIndex>e.startPageIndex?(e.currentPageIndex--,e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null,e.startPageTextSearch=!1,e.findPrev()):(e.currentPageIndex=e.endPageIndex,e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null,e.startPageTextSearch=!1,null)}))}},{key:"getCurrentPageTextSearch",value:function(){var e=this;return this.currentPageTextSearch?Promise.resolve(this.currentPageTextSearch):this.currentPageTextSearchPromise?this.currentPageTextSearchPromise:this.currentPageTextSearchPromise=this.doc.getPageByIndex(this.currentPageIndex).then((function(t){return e.currentAnnotTextSearch?Promise.resolve(e.currentAnnotTextSearch):e.startPageTextSearch?t.getTextSearch(e.pattern,e.flags):t.getAnnots().then((function(n){var i=[];return n.forEach((function(t){"widget"==t.getType()&&i.push(t.getTextSearch(e.pattern,e.flags))})),i.length?Promise.all(i).then((function(t){return e.annotTextSearchArr=t,e.currentAnnotTextSearch=e.startPrev?t[t.length-1]:t[0],Promise.resolve(e.currentAnnotTextSearch)})):t.getTextSearch(e.pattern,e.flags)}))})).then((function(t){return e.currentPageTextSearch=t,e.currentPageTextSearchPromise=null,t}))}},{key:"setStartPageIndex",value:function(e){this.startPageIndex=e}},{key:"setCurrentPageIndex",value:function(e){e<this.startPageIndex&&(e=this.startPageIndex),e>this.endPageIndex&&(e=this.endPageIndex),this.currentPageIndex!==e&&this.destroy(),this.currentPageIndex=e}},{key:"setEndPageIndex",value:function(e){this.endPageIndex=e}},{key:"destroy",value:function(){var e=this;this.currentPageTextSearch&&this.currentPageTextSearch.destroy(),this.currentPageTextSearch=null,this.currentPageTextSearchPromise&&this.currentPageTextSearchPromise.then((function(t){t.destroy(),e.currentPageTextSearch=null})),this.doc.docTextSearchIdMap[this.id]=null,this.currentPageTextSearchPromise=null}},{key:"findNexts_New",value:function(){var e=this,t={startPageIndex:this.startPageIndex,endPageIndex:this.endPageIndex,currentPageIndex:this.currentPageIndex,pattern:this.pattern,flags:this.flags};return this.api.findNextPageText({path:"jr/doc"},this.doc.getId(),t).then((function(t){return e.currentPageIndex=t.currentPageIndex,{hasMore:t.hasMore,list:t.list.map((function(e){return new ar(e)}))}}))}}]),e}();const jC={None:"none",RC4:"rc4",AES128:"aes128",AES256:"aes256"};var BC=function(){function e(t){(0,C._)(this,e),t?(this.json=t,this.empty=!1):(this.json={contentFormats:{},margin:{left:72,right:36,top:72,bottom:36},textSize:12,textColor:4278190080,hasTextShrinked:!1,hasFixedSized:!1,startPageNumber:1,underline:!1},this.empty=!0)}return(0,D._)(e,[{key:"destroy",value:function(){this.json=null}},{key:"isEmpty",value:function(){return this.empty}},{key:"getContent",value:function(e){return this.json.contentFormats[e]||this.json.contents[e]}},{key:"setFont",value:function(e){this.json.fontId=e,this.json.font=e}},{key:"setContentFormat",value:function(e,t){this.empty=!1,this.json.contentFormats[e]=t}},{key:"setRange",value:function(e){if(e.start<1||e.end<1)throw new Error("page range is wrong.");if(e.filter<0||e.filter>2)throw new Error("Wrong filter.");this.json.range=e}},{key:"setMargin",value:function(e){this.json.margin=e}},{key:"setTextSize",value:function(e){this.json.textSize=e}},{key:"setTextColor",value:function(e){this.json.textColor=e}},{key:"enableTextShrinked",value:function(e){this.json.hasTextShrinked=e}},{key:"enableFixedSizedForPrint",value:function(e){this.json.hasFixedSized=e}},{key:"setStartDisplayingPage",value:function(e){this.json.startPageNumber=e}},{key:"setUnderline",value:function(e){this.json.underline=e}},{key:"getUnderline",value:function(){return this.json.underline}}]),e}(),VC=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,C._)(this,e),this.fileSpec=t}return(0,D._)(e,[{key:"setFileName",value:function(e){this._assetEmptyStringValue("fileName",e),this.fileSpec.fileName=e}},{key:"getChecksum",value:function(){return this.fileSpec.checksum}},{key:"getCreationDateTime",value:function(){return this.fileSpec.creationDateTime}},{key:"getDescription",value:function(){return this.fileSpec.description}},{key:"getDict",value:function(){return this.fileSpec.dict}},{key:"getFileData",value:function(){return this.fileSpec.fileData}},{key:"getFileName",value:function(){return this.fileSpec.fileName}},{key:"getFileSize",value:function(){return this.fileSpec.fileSize}},{key:"getModifiedDateTime",value:function(){return this.fileSpec.modifiedDateTime}},{key:"getSubtype",value:function(){return this.fileSpec.subtype}},{key:"isEmbedded",value:function(){return this.fileSpec.isEmbedded}},{key:"_assetEmptyStringValue",value:function(e,t){if("string"!=typeof t||0==t.length)throw new Error("[Illegal Argument] Invalid ".concat(e,": ").concat(e," is required."))}}]),e}(),UC=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o,a,s){var c;return(0,C._)(this,n),0==arguments.length?(c=t.call(this,it.launch),(0,Gm._)(c)):((c=t.call(this,e,i,r,o,a,s)).fileSpec=c.info.fileSpec&&new VC(c.info.fileSpec)||null,(0,Gm._)(c))}return(0,D._)(n,[{key:"setFileSpec",value:function(e){var t=this;return this.fileSpec=e,this.info.fileSpec=e.fileSpec,this.doc?this.doc.api.setFileSpec({path:"jr/doc/action"},this.doc.id,this.info.objNumber,this.info.fileSpec).then((function(e){return t.updateAction(e)})):Promise.resolve()}},{key:"getFileSpec",value:function(){return this.fileSpec}},{key:"checkOutData",value:function(e){return e&&e.buffer}},{key:"updateAction",value:function(e){return this.fileSpec=e.fileSpec&&new VC(e.fileSpec)||null,(0,E._)((0,S._)(n.prototype),"updateAction",this).call(this,e)}}]),n}(Ym);const HC=UC;var zC=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o,a,s){return(0,C._)(this,n),t.call(this,e,i,r,o,a,s)}return(0,D._)(n,[{key:"getName",value:function(){return this.info.name}},{key:"checkOutData",value:function(e){return e&&e.name}}]),n}(Ym);const WC=zC;var GC=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o,a,s){var c;return(0,C._)(this,n),0==arguments.length?(c=t.call(this,it.javaScript),(0,Gm._)(c)):((c=t.call(this,e,i,r,o,a,s)).info.script&&(c.info.javascript=c.info.script),(0,Gm._)(c))}return(0,D._)(n,[{key:"getScript",value:function(){return this.info.javascript}},{key:"checkOutData",value:function(e){return e&&e.javascript}},{key:"setScript",value:function(e){var t=this;return this.doc?this.doc.api.setActionScript(this.doc.getId(),this.info.objNumber,e).then((function(e){return t.updateAction(e),e})):(this.info.javascript=e,Promise.resolve())}},{key:"exportToJson",value:function(){var e=(0,E._)((0,S._)(n.prototype),"exportToJson",this).call(this);return Object.assign(e,{script:this.getScript()})}}]),n}(Ym);const YC=GC;var $C=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o,a,s){var c;return(0,C._)(this,n),c=e?t.call(this,e,i,r,o,a,s):t.call(this,it.submitForm),(0,Gm._)(c)}return(0,D._)(n,[{key:"getFlags",value:function(){return this.info.flags}},{key:"getURL",value:function(){return this.info.url}},{key:"getFieldNames",value:function(){return this.info.fieldNames}},{key:"checkOutData",value:function(e){return e&&e.fieldNames&&e.url}},{key:"setData",value:function(e,t,n){this.info.flags=e,this.info.url=t,this.info.fieldNames=n}}]),n}(Ym);const JC=$C;var qC=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;if((0,C._)(this,n),0==arguments.length)return e=t.call(this,it.resetForm),(0,Gm._)(e);var i=(0,R._)(arguments,6),r=i[0],o=i[1],a=i[2],s=i[3],c=i[4],u=i[5];return e=t.call(this,r,o,a,s,c,u),(0,Gm._)(e)}return(0,D._)(n,[{key:"getFlags",value:function(){return this.info.flags}},{key:"getFieldNames",value:function(){return this.info.fieldNames}},{key:"checkOutData",value:function(e){return e&&e.fieldNames}},{key:"setFieldNames",value:function(e){var t=this;return this.doc?this.doc.api.setActionFieldNames(this.doc.getId(),this.info.objNumber,e).then((function(e){return t.updateAction(e),e})):(this.info.fieldNames=e,Promise.resolve())}},{key:"setFlags",value:function(e){var t=this;if(!this.doc)return this.info.flags=e,Promise.resolve();if(0!==e&&1!==e)throw new Error("param error. Only 0 or 1 is available.");return this.doc.api.setActionFlags(this.doc.getId(),this.info.objNumber,e).then((function(e){return t.updateAction(e),e}))}},{key:"exportToJson",value:function(){var e=(0,E._)((0,S._)(n.prototype),"exportToJson",this).call(this);return Object.assign(e,{fieldNames:this.getFieldNames(),flags:this.getFlags()})}}]),n}(Ym);const KC=qC;var ZC=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o,a,s){var c;return(0,C._)(this,n),0==arguments.length?(c=t.call(this,it.importData),(0,Gm._)(c)):((c=t.call(this,e,i,r,o,a,s)).fileSpec=c.info.fileSpec&&new VC(c.info.fileSpec)||null,(0,Gm._)(c))}return(0,D._)(n,[{key:"setFileSpec",value:function(e){this.fileSpec=e,this.info.fileSpec=e.fileSpec}},{key:"getFileSpec",value:function(){return this.fileSpec}},{key:"checkOutData",value:function(e){return e&&e.buffer}},{key:"updateAction",value:function(e){return this.fileSpec=e.fileSpec&&new VC(e.fileSpec)||null,(0,E._)((0,S._)(n.prototype),"updateAction",this).call(this,e)}}]),n}(Ym);const XC=ZC;var QC=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o,a,s){var c;return(0,C._)(this,n),0==arguments.length?(c=t.call(this,it.hide),(0,Gm._)(c)):(c=t.call(this,e,i,r,o,a,s),(0,Gm._)(c))}return(0,D._)(n,[{key:"getFieldNames",value:function(){return this.info.fieldNames}},{key:"getHideState",value:function(){return this.info.hideState}},{key:"setFieldNames",value:function(e){var t=this;return this.doc?this.doc.api.setActionFieldNames(this.doc.getId(),this.info.objNumber,e).then((function(e){return t.updateAction(e),e})):(this.info.fieldNames=e,Promise.resolve())}},{key:"setHideState",value:function(e){var t=this;return this.doc?this.doc.api.setActionHideState(this.doc.getId(),this.info.objNumber,e).then((function(e){return t.updateAction(e),e})):(this.info.hideState=e,Promise.resolve())}},{key:"checkOutData",value:function(e){return e&&e.fieldNames&&e.hideState}},{key:"exportToJson",value:function(){var e=(0,E._)((0,S._)(n.prototype),"exportToJson",this).call(this);return Object.assign(e,{fieldNames:this.getFieldNames(),hideState:this.getHideState()})}}]),n}(Ym),eD=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o,a,s){var c;return(0,C._)(this,n),0==arguments.length?(c=t.call(this,it.gotoR),(0,Gm._)(c)):((c=t.call(this,e,i,r,o,a,s)).fileSpec=c.info.fileSpec&&new VC(c.info.fileSpec)||null,(0,Gm._)(c))}return(0,D._)(n,[{key:"getDestinationName",value:function(){return this.info.destinationName}},{key:"setDestination",value:function(e){var t=this;if(!this.doc)return this.info.destination=e,Promise.resolve();if(-1===$m.indexOf(e.zoomMode))throw new Error("param error. ZoomMode is invalid.");return this.doc.api.setDestination({path:"jr/doc/action"},this.doc.id,this.info.objNumber,e).then((function(e){return t.updateAction(e),e}))}},{key:"getDestination",value:function(){return this.info.destination}},{key:"setFileSpec",value:function(e){var t=this;return this.fileSpec=e,this.info.fileSpec=e.fileSpec,this.doc?this.doc.api.setFileSpec({path:"jr/doc/action"},this.doc.id,this.info.objNumber,this.info.fileSpec).then((function(e){return t.updateAction(e),e})):Promise.resolve()}},{key:"getFileSpec",value:function(){return this.fileSpec}},{key:"setNewWindowFlag",value:function(e){var t=this;if(-1===Object.values($e.NewWindowFlag).indexOf(e))throw new Error("param error. flag is invalid.");return this.info.newWindowFlag=e,this.doc?this.doc.api.setNewWindowFlag({path:"jr/doc/action"},this.doc.id,this.info.objNumber,this.info.newWindowFlag).then((function(e){return t.updateAction(e),e})):Promise.resolve()}},{key:"getNewWindowFlag",value:function(){return this.info.newWindowFlag}},{key:"checkOutData",value:function(e){return function(e){var t;t=!!e.type;var n={ZoomXYZ:function(){t=null!=e.pageIndex&&null!=e.left&&null!=e.top&&null!=e.zoomFactor},ZoomFitPage:function(){t=!(null==e.pageIndex)},ZoomFitHorz:function(){t=null!=e.pageIndex&&null!=e.top},ZoomFitVert:function(){t=null!=e.pageIndex&&e.left},ZoomFitRect:function(){t=null!=e.pageIndex&&e.left&&null!=e.top&&null!=e.bottom&&null!=e.right},ZoomFitBBox:function(){t=!(null==e.pageIndex)},ZoomFitBHorz:function(){t=null!=e.pageIndex&&null!=e.top},ZoomFitBVert:function(){t=null!=e.pageIndex&&null!=e.left}};return n[e.type](),t&&e.buffer&&e.newWindowFlag}(e)}},{key:"updateAction",value:function(e){return this.fileSpec=e.fileSpec&&new VC(e.fileSpec)||null,(0,E._)((0,S._)(n.prototype),"updateAction",this).call(this,e)}}]),n}(Ym);var tD=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o,a,s){var c;return(0,C._)(this,n),(c=t.call(this,e,i,r,o,a,s)).rootFile=c.info.rootFile&&new VC(c.info.rootFile)||null,c}return(0,D._)(n,[{key:"getDestinationName",value:function(){return this.info.destinationName}},{key:"getDestination",value:function(){return this.info.destination}},{key:"getRootFile",value:function(){return this.rootFile}},{key:"getNewWindowFlag",value:function(){return this.info.newWindowFlag}},{key:"getTarget",value:function(){return this.info.target}},{key:"getTargetFileInfo",value:function(){var e=this,t=this.getTarget();if(!t)return Promise.resolve(null);Promise.resolve();return t.pageIndex>-1?this.doc.getPageByIndex(t.pageIndex).then((function(e){return e.getAnnots()})).then((function(e){var n=e[t.fileAttachmentAnnotIndex];return Promise.all([n,n.getFileattachmentStream()])})).then((function(e){var t=(0,R._)(e,2),n=t[0],i=t[1],r=n.getFileSpec().fileSpec,o=r.description,a=r.fileName,s=r.fileSize;return{blob:new Blob(i,{type:"application/pdf"}),description:o,fileName:a,fileSize:s}})):this.doc.getNameTree(Lt.EmbeddedFiles).then((function(n){var i=n[t.attachedFileName];if(i){var r=i.objNum,o=i.description,a=i.fileName,s=i.fileSize;return e.doc.getFileSpecStream(r).then((function(e){return{blob:new Blob(e,{type:"application/pdf"}),description:o,fileName:a,fileSize:s}}))}}))}},{key:"checkOutData",value:function(e){return function(e){var t;t=!!e.type;var n={ZoomXYZ:function(){t=null!=e.pageIndex&&null!=e.left&&null!=e.top&&null!=e.zoomFactor},ZoomFitPage:function(){t=!(null==e.pageIndex)},ZoomFitHorz:function(){t=null!=e.pageIndex&&null!=e.top},ZoomFitVert:function(){t=null!=e.pageIndex&&e.left},ZoomFitRect:function(){t=null!=e.pageIndex&&e.left&&null!=e.top&&null!=e.bottom&&null!=e.right},ZoomFitBBox:function(){t=!(null==e.pageIndex)},ZoomFitBHorz:function(){t=null!=e.pageIndex&&null!=e.top},ZoomFitBVert:function(){t=null!=e.pageIndex&&null!=e.left}};return n[e.type](),t&&e.buffer&&e.newWindowFlag}(e)}}]),n}(Ym);var nD=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o,a,s){var c;return(0,C._)(this,n),0==arguments.length?(c=t.call(this,it.thread),(0,Gm._)(c)):((c=t.call(this,e,i,r,o,a,s)).info.dest_thread_index&&(c.info.dest_thread_index=c.info.dest_thread_index),(0,Gm._)(c))}return(0,D._)(n,[{key:"getName",value:function(){return this.info.name}},{key:"checkOutData",value:function(e){return e&&e.name}}]),n}(Ym),iD=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o,a,s){return(0,C._)(this,n),t.call(this,e,i,r,o,a,s)}return(0,D._)(n,[{key:"getName",value:function(){return this.info.name}},{key:"checkOutData",value:function(e){return e&&e.name}},{key:"setOCGState",value:function(e){var t=this,n=this._getLayerIds(e),i=n.hideLayerIds,r=n.visibleLayerIds;return this.doc?this.doc.api.setActionOCGState(this.doc.getId(),this.info.objNumber,i,r).then((function(e){return t.updateAction(e),e})):(this.info.hideLayerIds=i,this.info.visibleLayerIds=r,Promise.resolve())}},{key:"_getLayerIds",value:function(e){var t=[],n=[];function i(e){e.children.length>0&&e.children.forEach((function(e){i(e)})),e.visible?n.push(e.id):t.push(e.id)}for(var r=0;r<e.length;r++)i(e[r]);return{hideLayerIds:t,visibleLayerIds:n}}}]),n}(Ym),rD=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,null,[{key:"createAction",value:function(e,t,n,i,r){if(e)switch(e.type){case"TypeThread":return new nD(e,this,t,n,i,r);case"TypeURI":return new qm(e,this,t,n,i,r);case"TypeLaunch":return new HC(e,this,t,n,i,r);case"TypeNamed":return new WC(e,this,t,n,i,r);case"TypeJavaScript":return new YC(e,this,t,n,i,r);case"TypeSubmitForm":return new JC(e,this,t,n,i,r);case"TypeResetForm":return new KC(e,this,t,n,i,r);case"TypeImportData":return new XC(e,this,t,n,i,r);case"TypeGoto":return new Jm(e,this,t,n,i,r);case"TypeHide":return new QC(e,this,t,n,i,r);case"TypeGoToR":return new eD(e,this,t,n,i,r);case"TypeGoToE":return new tD(e,this,t,n,i,r);case"TypeSetOCGState":return new iD(e,this,t,n,i,r);default:return new Ym(e,this,t,n,i,r)}}}]),e}();const oD=rD;var aD;!function(e){e[e.folder=1]="folder",e[e.file=2]="file"}(aD||(aD={}));var sD=function(){function e(t){(0,C._)(this,e),this.nodeData=t}return(0,D._)(e,[{key:"getNodeType",value:function(){return this.type}}]),e}(),cD=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),(o=t.call(this,r)).type=aD.folder,o.engine=e,o.doc=i,o.api=e.api,o.nodeHandle=r.handle,o.name=r.fileName,o.subNodes=[],o}return(0,D._)(n,[{key:"getSortedSubNodes",value:function(){var e=this,t=this.doc;return this.api.getPortfolioSubNodes(t.getId(),this.nodeHandle).then((function(i){return e.subNodes=[],i.forEach((function(i){if(i.type===aD.folder){var r=new n(e.engine,t,i);e.subNodes.push(r)}if(i.type===aD.file){var o=new uD(e.engine,t,i);e.subNodes.push(o)}})),e.subNodes}))}},{key:"addFiles",value:function(e,t){return this.api.portfolioAddFiles(this.doc.getId(),e,t,this.nodeHandle)}},{key:"createFolder",value:function(e){var t=this;return this.api.portfolioCreateFolder(this.doc.getId(),e,this.nodeHandle).then((function(e){return new n(t.engine,t.doc,e)}))}},{key:"removeSubNodes",value:function(e){return this.api.portfolioRemoveSubNodes(this.doc.getId(),this.nodeHandle,e)}},{key:"changeSubNodesOrder",value:function(e,t){return this.api.changePortfolioSubNodesOrder(this.doc.getId(),this.nodeHandle,e,t)}},{key:"moveSubNodeToSubFolderNode",value:function(e,t){return this.api.portfolioMoveSubNodeToSubFolderNode(this.doc.getId(),this.nodeHandle,e,t)}},{key:"hasSameNameSubNode",value:function(e,t){return this.api.portfolioHasSameNameSubNode(this.doc.getId(),e,t,this.nodeHandle)}},{key:"getName",value:function(){return this.name}},{key:"getDescription",value:function(){return this.description}}]),n}(sD),uD=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),(o=t.call(this,r)).type=aD.file,o.engine=e,o.doc=i,o.api=e.api,o.nodeHandle=r.handle,o.keyName=r.keyName,o}return(0,D._)(n,[{key:"getKeyName",value:function(){return this.keyName}},{key:"getFileStream",value:function(){var e=this.doc,t=[];return this.api.getPortfolioFileStream(e.getId(),this.nodeHandle,(function(e){var n=e.arrayBuffer,i=e.blob;i?t=i:t.push(n)})).then((function(){return Array.isArray(t)?new Blob(t,{type:"application/octet-stream"}):t}))}}]),n}(sD),lD=function(){function e(t,n){(0,C._)(this,e),this.engine=t,this.doc=n,this.api=t.api,this.root=null,this.activedPDFNode=[]}return(0,D._)(e,[{key:"getInfo",value:function(){return this.api.getPortfolioInfo(this.doc.getId())}},{key:"setInfo",value:function(e){return this.api.setPortfolioInfo(this.doc.getId(),e)}},{key:"regenerateTOC",value:function(e){var t=this;return this.api.portfolioRegenerateTOC(this.doc.getId(),e).then((function(e){var n,i=e||{},r=i.oldIndexes,o=i.newPages;if(r.length){t.doc.info.pageCount-=r.length;var a=[],s=[];r.forEach((function(e){var n=t.doc.pageCache[e];a.push(e),t.doc.pageCache.splice(e,1),n&&s.push(n.info.objectNumber)})),t.engine.eventEmitter.emit(ae.Z.pagesRemoved,a,s,t.doc)}t.doc.info.pageCount+=o.length;var c=[];o.forEach((function(e){var n=new Sr(e,t.doc);c.push(n)})),(n=t.doc.pageCache).push.apply(n,(0,M._)(c)),t.doc.updatePageIndex(o[0].index,t.doc.info.pageCount),t.doc.updatePageLabelsByAction("insertPages",[o[0].index,c.length]),t.engine.eventEmitter.emit(ae.Z.insertPages,c)}))}},{key:"hasSameNameSubNode",value:function(e,t,n){return this.api.portfolioHasSameNameSubNode(this.doc.getId(),e,t,n)}},{key:"getStream",value:function(e){return this.api.getPortfolioStream(this.doc.getId(),e)}},{key:"getTreeNode",value:function(){var e=this;return this.api.getPortfolioTreeNode(this.doc.getId()).then((function(t){return e.treeNode=t,t.type===aD.folder&&(e.root=new cD(e.engine,e.doc,t)),t.type===aD.file&&(e.root=new uD(e.engine,e.doc,t)),Promise.resolve(e.root)}))}},{key:"getInitialNodePath",value:function(){var e=this;return this.api.getPortfolioInitialNodePath(this.doc.getId()).then((function(t){if(!Array.isArray(t))return[];var n=t.map((function(t){return t.type===aD.folder?new cD(e.engine,e.doc,t):t.type===aD.file?new uD(e.engine,e.doc,t):void 0}));return e.root=n[0],n}))}},{key:"sendSortFolioParam",value:function(e,t){return this.api.sendSortFolioParam(this.doc.getId(),e,t).then((function(e){if(e)return!0}))}},{key:"getFolioNodePDFDoc",value:function(){var e=this;return this.api.getFolioNodePDFDoc(this.doc.getId()).then((function(t){for(var n=[],i=0;i<=t.length-1;i++)n.push(new dE(t[i],e.engine,{}));return n}))}},{key:"recordPDFFileByPortFolioNode",value:function(e){var t=this,n=this.doc,i=[];for(var r in e)i.push(e[r].handle);return this.api.recordPDFFileByPortFolioNode(n.getId(),i).then((function(e){var n=e.filter((function(e){return-1===e.indexOf("password")}));if(0===e.filter((function(e){return-1!==e.indexOf("password")})).length){for(var i=[],r=0;r<=n.length-1;r++)i.push(new dE(n[r],t.engine,{}));t.activedPDFNode=i}else t.activedPDFNode=["password"]}))}},{key:"getPDFFileByPortFolioNode",value:function(e){var t=this;return(0,P._)((function(){var n,i;return(0,L.Jh)(this,(function(r){switch(r.label){case 0:if(n=[],0==e.length)return[2,[]];for(i=0;i<e.length;i++)("1"==e[i].type||"2"==e[i].type&&".pdf"===e[i].FileName.substr(-4).toLowerCase())&&n.push(e[i]);return 0==n.length?[2,[]]:[4,t.recordPDFFileByPortFolioNode(n)];case 1:return r.sent(),[2,t.activedPDFNode]}}))}))()}},{key:"getActivedPDFFileByPortFolioNode",value:function(){return this.activedPDFNode}}]),e}();const AD=function(e,t){return new Proxy(t,{doc:e,api:e.api,get:function(e,t){var n=this;if("then"!==t)return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t in e?e[t]:n.api.changeEditingProperty(n.doc.id,t,r)}}})};const dD=Object.assign({},se,{addTextMarkupSuccess:"add-text-markup-success",fullscreenchange:"fullscreenchange",appendCommentListGroup:"apppend-commentlist-group",destroyCommentListGroup:"destroy-commentlist-group",appendCommentListComment:"append-commentlist-comment",appendCommentListReply:"append-commentlist-reply",destroyCommentListComment:"destroy-commentlist-comment",destroyCommentListReply:"destroy-commentlist-reply",InkImageSelected:"ink-image-selected",applicationDestroyed:"uiextension-destroyed",addReplySuccess:"add-reply-success",deleteReplySuccess:"delete-reply-success",addActionSuccess:"add-action-success",addContentSuccess:"add-content-success",markRedactionSuccess:"mark-redaction-success",addReviewStateSuccess:"add-review-state-success",addMarkedStateSuccess:"add-marked-state-success",addonLoaded:"pdfui-init-process-addon-loaded",initializationCompleted:"pdfui-intialization-completed",commentGroupAnnotationsUpdated:"pdfui-comment-group-annotations-updated",bookmarkSelected:"bookmark-selected",stampSelectedChange:"stampSelectedChange",languageChange:"languageChange",ribbonLoadFinish:"ribbonLoadFinish",editPropertiesAction:"editPropertiesAction",loupeLocked:"loupeLocked",loupeScaleChange:"loupeScaleChange",loupeRedBoxMoved:"loupeRedBoxMoved",enterReadMode:"enterReadMode",exitReadMode:"exitReadMode",toggleStatusBar:"toggleStatusBar",statusBarChange:"statusBarChange",switchNavigationPanel:"switchNavigationPanel",toggleNavigationPanels:"toggleNavigationPanels",resetNavigationPanels:"resetNavigationPanels",toggleAutoScroll:"toggleAutoScroll",changePortfolioLayout:"changePortfolioLayout",compareFilterChange:"compare-filter-change",undoRedoStoreChange:"undo-redo-store-change"});var hD=function(){function e(t,n){(0,C._)(this,e),(0,z._)(this,"json",void 0),(0,z._)(this,"api",void 0),(0,z._)(this,"doc",void 0),this.json=n,this.api=t.api,this.doc=t}return(0,D._)(e,[{key:"update",value:function(e,t){for(var n=this,i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];return this.api.changePEProperty(this.doc.id,e,t,r).then((function(e){var t=(0,R._)(e,2),i=t[0],r=t[1];return Promise.all([n.doc.getPageByIndex(i),r])})).then((function(e){var t=(0,R._)(e,2),i=t[0],r=t[1];return n.doc.engine.eventEmitter.emit(ae.Z.graphicsUpdated,i),n.api.handlePageEditorEvent(n.doc.id,"GetUndoManager",void 0,!1).then((function(e){n.doc.engine.eventEmitter.emit(dD.undoRedoStoreChange,e,"pageEditor",!1)})),r}))}},{key:"getHeight",value:function(){return this.json.height}},{key:"setHeight",value:function(e){return this.json.height=e,this.update("SetHeight",0,e)}},{key:"setWidth",value:function(e){return this.json.height=e,this.update("SetWidth",0,e)}},{key:"getWidth",value:function(){return this.json.width}},{key:"getOpacity",value:function(){return this.json.opacity}},{key:"setOpacity",value:function(e){return this.json.opacity=e,this.update("SetOpacity",0,e)}},{key:"rotate",value:function(e){return this.update("Rotate",0,e)}},{key:"flip",value:function(e){return this.update("Flip",0,e)}},{key:"align",value:function(e){return this.update("Align",0,{type:"GraphicsObjectAlignmentType",value:e})}},{key:"center",value:function(e){return this.update("Center",0,{type:"PageCenterAlignmentType",value:e})}},{key:"changeRenderingOrder",value:function(e){return this.update("ChangeRenderingOrder",0,{type:"RenderingOrder",value:e})}},{key:"canChangeRenderingOrder",value:function(e){return this.update("CanChangeRenderingOrder",0,{type:"RenderingOrder",value:e})}},{key:"getXPosition",value:function(){return this.json.xPosition}},{key:"setXPosition",value:function(e){return this.update("SetXPosition",0,e)}},{key:"getYPosition",value:function(){return this.json.yPosition}},{key:"setYPosition",value:function(e){return this.update("SetYPosition",0,e)}},{key:"shear",value:function(e){return e=e*Math.PI/180,this.update("Shear",0,e)}},{key:"move",value:function(e,t,n){return this.update("Move",0,{type:"EditorPage",value:e},{type:"PointF",value:t},n)}},{key:"distribute",value:function(e){return this.update("Distribute",0,e)}},{key:"size",value:function(e){return this.update("Size",0,e)}},{key:"scale",value:function(e,t){return this.update("Scale",0,e,t)}},{key:"clearClipPath",value:function(){return this.update("ClearClipPath",0)}},{key:"editClipPath",value:function(){return this.update("EditClipPath",0)}},{key:"addClipPath",value:function(e){return this.update("AddClipPath",0,{value:e})}},{key:"cut",value:function(){return this.update("Cut",0)}},{key:"copy",value:function(){return this.update("Copy",0)}},{key:"delete",value:function(){return this.update("Delete",0)}},{key:"getType",value:function(){return this.json.type}}]),e}(),fD=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"getFontName",value:function(){return this.json.fontName}},{key:"setFont",value:function(e,t,n,i){return this.update("SetFont",1,e,t,n,i)}},{key:"hasStroke",value:function(){var e=this.getTextMode();if(1==e||2==e)return!0}},{key:"hasFill",value:function(){var e=this.getTextMode();return!(0!=e&&2!=e&&!this.json.count)}},{key:"getFontSize",value:function(){return this.json.fontSize}},{key:"getFillColor",value:function(){return this.json.fillColor}},{key:"getStrokeColor",value:function(){return this.json.strokeColor}},{key:"setFontSize",value:function(e){return this.json.fontSize=e,this.update("SetFontSize",1,e)}},{key:"setColorSpace",value:function(e,t){this.json[e]=t}},{key:"setFillColor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return this.json.fillColor=e,void 0!==n&&(this.json.fillColor=n),this.update("SetFillColor",1,this.hasFill(),{type:"Color",value:e,space:this.json.fillColorSpace},t)}},{key:"setStrokeColor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return this.json.strokeColor=e,void 0!==n&&(this.json.strokeColor=n),this.update("SetStrokeColor",1,this.hasStroke(),{type:"Color",value:e,space:this.json.strokeColorSpace},t)}},{key:"getHorizontalScale",value:function(){return this.json.horizontalScale}},{key:"getCharSpace",value:function(){return this.json.charSpace}},{key:"getWordSpace",value:function(){return this.json.wordSpace}},{key:"canRemoveTextKerning",value:function(){return this.json.canRemoveTextKerning}},{key:"canMergeText",value:function(){return this.json.canMergeText}},{key:"canSplitText",value:function(){return this.json.canSplitText}},{key:"canText2Path",value:function(){return this.json.canText2Path}},{key:"isWordSpaceValid",value:function(){return this.json.isWordSpaceValid}},{key:"getFontIsBold",value:function(){return this.json.fontIsBold}},{key:"getFontIsItalic",value:function(){return this.json.fontIsItalic}},{key:"setHorizontalScale",value:function(e){return this.json.horizontalScale=e,this.update("SetHorizontalScale",1,e)}},{key:"setCharSpace",value:function(e){return this.json.charSpace=e,this.update("SetCharSpace",1,e)}},{key:"setWordSpace",value:function(e){return this.json.wordSpace=e,this.update("SetWordSpace",1,e)}},{key:"getTextMode",value:function(){return this.json.textMode}},{key:"setTextMode",value:function(e){return this.json.textMode=e,this.update("SetTextMode",1,e)}},{key:"removeTextKerning",value:function(){return this.update("RemoveTextKerning",1)}},{key:"mergeText",value:function(){return this.update("MergeText",1)}},{key:"splitText",value:function(e){return this.update("SplitText",1,{type:"Int32Array",value:e})}}]),n}(hD),pD=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"getLineWidth",value:function(){return this.json.lineWidth}},{key:"setLineWidth",value:function(e){return this.json.lineWidth=e,this.update("SetLineWidth",2,e)}},{key:"getMiterLimit",value:function(){return this.json.miterLimit}},{key:"setMiterLimit",value:function(e){return this.json.miterLimit=e,this.update("SetMiterLimit",2,e)}},{key:"getLineCap",value:function(){return this.json.lineCap}},{key:"setLineCap",value:function(e){return this.json.lineCap=e,this.update("SetLineCap",2,{type:"LineCap",value:e})}},{key:"getLineJoin",value:function(){return this.json.lineJoin}},{key:"setLineJoin",value:function(e){return this.json.lineJoin=e,this.update("SetLineJoin",2,{type:"LineJoin",value:e})}},{key:"getLineStyle",value:function(){return this.json.lineStyle}},{key:"setLineStyle",value:function(e){return this.json.lineStyle=e,this.update("SetLineStyle",2,{type:"FloatArray",value:e})}},{key:"getFillColor",value:function(){return this.json.fillColor}},{key:"setFillColor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return"string"==typeof e&&(e="transparent"==e?0:parseInt(e.replace("#",""),16)),0==e&&1!=this.json.fillColorSpace&&(i=!1),this.json.fillColor=e,void 0!==n&&(this.json.fillColor=n),this.update("SetFillColor",2,i,{type:"Color",value:e,space:this.json.fillColorSpace},t)}},{key:"setColorSpace",value:function(e,t){this.json[e]=t}},{key:"getStrokeColor",value:function(){return this.json.strokeColor}},{key:"setStrokeColor",value:function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.json.strokeColor=e,void 0!==n&&(this.json.strokeColor=n),this.update("SetStrokeColor",2,i,{type:"Color",value:e,space:this.json.strokeColorSpace},t)}}]),n}(hD),vD=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"changeShadingColor",value:function(e){return this.update("ChangeShadingColor",4,e)}},{key:"changeColorUndoStart",value:function(){return this.update("ChangeColorUndoStart",4)}},{key:"changeColorUndoEnd",value:function(){return this.update("ChangeColorUndoEnd",4)}},{key:"changeColorUndoCancel",value:function(){return this.update("ChangeColorUndoCancel",4)}},{key:"editReferenceLine",value:function(){return this.update("EditReferenceLine",4)}},{key:"setGridientCursorColor",value:function(e){return this.update("SetGridientCursorColor",4,e)}},{key:"getGridientCursorColor",value:function(){return this.update("GetGridientCursorColor",4)}},{key:"getGridientColorAt",value:function(e){return this.update("GetGridientColorAt",4,e)}},{key:"getGridientCursorLocation",value:function(){return this.update("GetGridientCursorLocation",4)}},{key:"getGridientCursorIndex",value:function(){return this.update("GetGridientCursorIndex",4)}},{key:"setGradientColorShowRect",value:function(e){return this.update("SetGradientColorShowRect",4,{type:"RectF",value:e})}},{key:"addGradientCursorInfoBefore",value:function(e){return this.update("AddGradientCursorInfoBefore",4,{type:"RectF",value:e})}},{key:"addGradientCursorInfoExcute",value:function(e){return this.update("AddGradientCursorInfoExcute",4,{type:"RectF",value:e})}},{key:"addGradientCursorInfoEnd",value:function(){return this.update("AddGradientCursorInfoEnd",4)}},{key:"addGradientCursorInfoDblClk",value:function(e){return this.update("AddGradientCursorInfoDblClk",4,{type:"RectF",value:e})}},{key:"delGradientCursorInfo",value:function(){return this.update("DelGradientCursorInfo",4)}},{key:"defaultGradientDataInit",value:function(){return this.update("DefaultGradientDataInit",4)}},{key:"setGradientCurrentInfo",value:function(e){return this.update("SetGradientCurrentInfo",4,{type:"ShadingColorArray",value:e})}},{key:"getGradientColor",value:function(){return this.update("GetGradientColor",4)}},{key:"renderGridient",value:function(e,t){return this.update("RenderGridient",4,e,t)}}]),n}(hD),gD=function(){function e(t){var n=this;(0,C._)(this,e),(0,z._)(this,"doc",void 0),(0,z._)(this,"notifier",void 0),(0,z._)(this,"workflow",void 0),(0,z._)(this,"filter",1),this.doc=t,t.api.registerWorkflow("out",this.workflow=function(e){var t=n.notifier[e.type];t&&t(e.msg)}),t.addDestroyHook((function(e){n.doc.api.unregisterWorkflow("out",n.workflow),n.destroy()}))}return(0,D._)(e,[{key:"createText",value:function(){return this.postOperation("CreateText")}},{key:"createPath",value:function(e){return this.postOperation("CreatePath",{type:"DrawType",value:e})}},{key:"createImage",value:function(e){var t=this;return this.postOperation("CreateImage",{type:"Image",value:e}).then((function(e){return t.postOperation("GetUndoManager",!1,!1).then((function(e){t.doc.engine.eventEmitter.emit(dD.undoRedoStoreChange,e,"pageEditor",!1)})),e})).then((function(e){return"number"==typeof e?t.doc.getPageByIndex(e).then((function(e){return t.doc.engine.eventEmitter.emit(ae.Z.graphicsUpdated,e),!0})):e}))}},{key:"createShading",value:function(e){return this.postOperation("CreateShading",{type:"DrawType",value:e})}},{key:"setObjectFilter",value:function(e){return this.filter=e,this.postOperation("SetGraphicsObjectFilter",{type:"GraphicsObjectFilter",value:e})}},{key:"text2Path",value:function(){return this.postOperation("Text2Path")}},{key:"endEdit",value:function(){return this.postOperation("EndEdit")}},{key:"startEdit",value:function(){return this.postOperation("StartEdit")}},{key:"setNotifier",value:function(e){this.notifier=e}},{key:"getActiveObject",value:function(){var e=this;return this.postOperation("GetGraphicsObjectUtils").then((function(t){return function(e,t){switch(t.type){case 1:return new fD(e,t);case 2:return new pD(e,t);case 3:case 5:return new hD(e,t);case 4:return new vD(e,t)}}(e.doc,t)}))}},{key:"getSelection",value:function(){return this.postOperation("GetSelection")}},{key:"hasSelection",value:function(){return this.postOperation("HasSelection")}},{key:"getEditingObject",value:function(){return this.postOperation("GetGraphicsObjectEditor").then((function(e){return e&&void 0!==e.type?e:void 0}))}},{key:"createEditingObjectProxy",value:function(e){return AD(this.doc,e)}},{key:"triggerPopMenuAction",value:function(e){var t=this.doc,n=t.id;return t.api.triggerPopMenuAction(n,e)}},{key:"postOperation",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r,o=this.doc,a=o.id;return(r=o.api).handlePageEditorEvent.apply(r,[a,e,void 0].concat((0,M._)(n)))}},{key:"destroy",value:function(){var e=this;["doc","workflow","notifier"].forEach((function(t){return e[t]=null}))}},{key:"copy",value:function(){return this.postOperation("Copy")}},{key:"canPaste",value:function(){return this.postOperation("CanPaste")}},{key:"paste",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.postOperation.apply(this,["Paste"].concat((0,M._)(n))).then((function(t){return e.doc.getPageByIndex(t)})).then((function(t){e.doc.engine.eventEmitter.emit(ae.Z.graphicsUpdated,t)}))}},{key:"undoRedo",value:function(e,t){var n=this;return this.postOperation("Undo",e,t).then((function(){n.postOperation("GetUndoManager",e,t).then((function(t){n.doc.engine.eventEmitter.emit(dD.undoRedoStoreChange,t,"pageEditor",e)}))}))}},{key:"getDefaultProperty",value:function(e){return this.postOperation("getDefaultProperty",e)}},{key:"getActiveObjectProperty",value:function(e){return this.postOperation("getLastProperty",e)}}]),e}(),mD=function(){function e(t){var n=this;if((0,C._)(this,e),(0,z._)(this,"doc",void 0),(0,z._)(this,"notifier",void 0),(0,z._)(this,"workflow",void 0),t.touchup)return t.touchup;this.doc=t,t.api.registerWorkflow("touchup",this.workflow=function(e){if(n.notifier){var t=n.notifier[e.type];t&&t(e.msg)}}),t.addDestroyHook((function(e){n.doc.api.unregisterWorkflow("touchup",n.workflow),n.destroy()})),t.touchup=this}return(0,D._)(e,[{key:"setNotifier",value:function(e){this.notifier=e}},{key:"handleEvent",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r,o=this.doc;return(r=o.api).handleTouchUpEvent.apply(r,[o.getId(),e].concat((0,M._)(n))).then((function(e){return o.engine.eventEmitter.emit(dD.undoRedoStoreChange,e,"touchUp"),e}))}},{key:"handleFindReplaceEvent",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r,o=this.doc;return(r=o.api).handleFindReplaceEvent.apply(r,[o.getId(),e].concat((0,M._)(n))).then((function(t){return"ReplaceAll"===e&&o.engine.eventEmitter.emit(dD.undoRedoStoreChange,t,"clearAll"),t}))}},{key:"triggerTUPopMenuAction",value:function(e,t){var n=this.doc,i=n.id;return n.api.triggerTUPopMenuAction(i,e,t)}},{key:"destroy",value:function(){var e=this;["doc","workflow","notifier"].forEach((function(t){return e[t]=null}))}}]),e}(),yD=function(){function e(t,n){var i=this;(0,C._)(this,e),this.engine=t,this.api=t.api,this.docId=n.id,this.pdfDoc=n,this.getArticleListPromise=this.api.construct({path:"jr/doc/article",className:"PDFArticle",wasm:16},this.docId).then((function(e){return i.objId=e.objId,i.articleList=e.json}))}return(0,D._)(e,[{key:"destroy",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){switch(t.label){case 0:return[4,e.getArticleListPromise];case 1:return t.sent(),[4,e.api.destroy({path:"jr/doc/article"},e.docId,e.objId)];case 2:return t.sent(),e.engine=null,e.api=null,e.docId=null,e.pdfDoc=null,[2]}}))}))()}},{key:"getArticleList",value:function(){var e=this;return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(this.articleList="",this.getArticleListPromise=this.api.construct({path:"jr/doc/article",className:"PDFArticle"},this.docId).then((function(t){return e.objId=t.objId,e.articleList=t.json}))),this.articleList&&this.articleList.length>0?Promise.resolve(this.articleList):this.getArticleListPromise}},{key:"getThread",value:function(e){return this.getArticleList().then((function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.objNum===e)return i}}))}},{key:"getBead",value:function(e,t){return this.getThread(e).then((function(e){for(var n=e.children||[],i=0;i<n.length;i++){var r=n[i];if(r.objNum===t)return r}}))}},{key:"updateBeadRect",value:function(e,t,n){var i=this;return this.getArticleListPromise.then((function(){return i.api.updateBeadRect({path:"jr/doc/article"},i.docId,i.objId,e,t,n)}))}},{key:"insertThread",value:function(e){var t=this,n=e||{},i=n.title,r=void 0===i?"":i,o=n.subject,a=void 0===o?"":o,s=n.author,c=void 0===s?"":s,u=n.keywords,l=void 0===u?"":u;return this.pdfDoc.info.hasArticle=!0,this.getArticleListPromise.then((function(){return t.api.insertThread({path:"jr/doc/article"},t.docId,t.objId,{title:r,subject:a,author:c,keywords:l}).then((function(e){return e&&(t.articleList.push(e),t.engine.eventEmitter.emit(ae.Z.articleThreadAdded,e)),e}))}))}},{key:"updateThread",value:function(e){var t=this,n=e||{},i=n.objNum,r=n.title,o=n.subject,a=n.author,s=n.keywords;return this.getThread(i).then((function(e){return t.api.updateThread({path:"jr/doc/article"},t.docId,t.objId,{objNum:i,title:r,subject:o,author:a,keywords:s}).then((function(n){return n&&(Object.assign(e,n),t.engine.eventEmitter.emit(ae.Z.articleThreadUpdated,n)),n}))}))}},{key:"removeThread",value:function(e){var t=this;return this.getThread(e).then((function(n){return t.api.removeThread({path:"jr/doc/article"},t.docId,t.objId,e).then((function(e){return e&&(t.getArticleList(!0),t.engine.eventEmitter.emit(ae.Z.articleThreadRemoved,n)),e}))}))}},{key:"insertBead",value:function(e,t,n,i){var r=this;return this.pdfDoc.info.hasArticle=!0,this.getThread(n).then((function(o){return r.api.insertBead({path:"jr/doc/article"},r.docId,r.objId,e,n,t,i).then((function(e){return e&&(o.children||(o.children=[]),void 0===i?(o.children.push(e),r.engine.eventEmitter.emit(ae.Z.articleBeadAdded,o,[e])):(r.articleList="",r.getThread(n).then((function(e){r.engine.eventEmitter.emit(ae.Z.articleBeadAdded,e,e.children)})))),{thread:o,bead:e}}))}))}},{key:"removeBead",value:function(e,t){var n=this;return this.getThread(e).then((function(i){return n.api.removeBead({path:"jr/doc/article"},n.docId,n.objId,e,t).then((function(r){return r&&(n.engine.eventEmitter.emit(ae.Z.articleBeadRemoved,[t],i),1===i.children.length?n.removeThread(e):(n.getArticleList(!0),n.getThread(e).then((function(e){n.engine.eventEmitter.emit(ae.Z.articleBeadUpdated,e,e.children)})))),r}))}))}},{key:"mergeThread",value:function(e,t){var n=this;return this.getThread(t).then((function(i){return n.api.mergeThread({path:"jr/doc/article"},n.docId,n.objId,e,t).then((function(t){return t&&(i.children=t.children,n.engine.eventEmitter.emit(ae.Z.articleThreadUpdated,t),n.removeThread(e)),t}))}))}}]),e}();const _D=yD;var bD,wD,kD="progress",xD=function(){function e(t){(0,C._)(this,e),(0,z._)(this,"store",new W.Store),(0,z._)(this,"cancelCallback",void 0),this.cancelCallback=t}return(0,D._)(e,[{key:"cancel",value:function(){this.cancelCallback()}},{key:"onProgress",value:function(e){var t=this;return this.store.subscribe(kD,(function(n){e.call(t,n)}))}},{key:"updateProgress",value:function(e){this.store.dispatch(kD,e)}},{key:"getCurrentProgress",value:function(){var e=this.store.getCurrentValue(kD);return e?e.percent:0}}]),e}();function PD(e,t){var n=t.getCurrentPageLabelInfo(0).then((function(e){return!0===e.hasLabel}));e.hasPageLabel=n,e.hasPageLabel.then((function(){e.hasPageLabelStatus="done"})),e.hasPageLabelStatus="pending"}function CD(e,t){"done"===e.hasPageLabelStatus&&PD(e,t)}!function(e){e.UNINITIALIZED="uninitialized",e.PENDING="pending",e.DONE="done"}(bD||(bD={}));var DD=!1;function ED(e){if(!e)return!1;switch(e.type){case"aplication/json":case"text/json":return!0}return!("string"!=typeof e.name||!e.name.toLowerCase().endsWith(".json"))}function SD(e){return!!e&&("application/vnd.fdf"===e.type||"string"==typeof e.name&&e.name.toLowerCase().endsWith(".fdf"))}function ID(e){if(!e)return!1;switch(e.type){case"application/vnd.xfdf":case"application/vnd.adobe.xfdf":return!0}return"string"==typeof e.name&&e.name.toLowerCase().endsWith(".xfdf")}function TD(e){return e>=1073741824?"".concat(Math.floor(e/1073741824)," G"):e>=1048576?"".concat(Math.floor(e/1048576)," M"):e>=1024?"".concat(Math.floor(e/1024)," KB"):"".concat(e," B")}function RD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY/MM/DD HH:mm:ss";if(!e)return"";var n="";return e.lastModified?n=Ye(new Date(e.lastModified),t,""):e.lastModifiedDate&&(n=Ye(e.lastModifiedDate,t,"")),n}var MD,FD=function(e){return new Promise((function(t){var n,i,r,o,a=null,s=document.createElement("canvas"),c=s.getContext("2d",{willReadFrequently:!0}),u=new Image;u.onload=function(){var e=u.width,l=u.height;s.width=e,s.height=l,c.drawImage(u,0,0),a=c.getImageData(0,0,e,l);for(var A=0;A<a.data.length;A+=4){n=a.data[A],i=a.data[A+1],r=a.data[A+2],o=a.data[A+3],Math.sqrt(Math.pow(n-255,2)+Math.pow(i-255,2)+Math.pow(r-255,2)+Math.pow(o-255,2))<=60&&(a.data[A]=0,a.data[A+1]=0,a.data[A+2]=0,a.data[A+3]=0)}c.putImageData(a,0,0),t(s.toDataURL("image/png"))},u.src=e}))};function ND(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/png",n="",i=new Uint8Array(e),r=i.byteLength,o=0;o<r;o++)n+=String.fromCharCode(i[o]);return"data:".concat(t,";base64,").concat(window.btoa(n))}function LD(e){/^data\:.*?base64,/.test(e)&&(e=e.replace(/^data\:.*?base64,/,""));for(var t=window.atob(e),n=t.length,i=new Uint8Array(n);n--;)i[n]=t.charCodeAt(n);return i}function OD(e){return e<0||isNaN(e)}function jD(){throw new Error("Param error: Index is out of the valid range.")}function BD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"get";if(!Array.isArray(e))throw new Error("Param error. Only array is available.");if(0===e.length)throw new Error("Param error. Non-valid array.");if(e.forEach((function(e){if(!Array.isArray(e))throw new Error("Param error. Only array is available.");if(1!==e.length&&2!==e.length)throw new Error("Param error. Non-valid array.");1===e.length?OD(e[0])&&jD():2===e.length&&(OD(e[0])||OD(e[1]))&&jD()})),"insert"===n){var i=Ah(e).sort((function(e,t){return e-t})),r=t+i.length;e.forEach((function(e){e.some((function(e){return e>r}))&&jD()}))}else if("remove"===n){var o=t-1;e.forEach((function(e){e.some((function(e){return e>o}))&&jD()}))}else e.forEach((function(e){e.some((function(e){return e>=t}))&&jD()}))}!function(e){e[e.FIRST_CHILD=0]="FIRST_CHILD",e[e.LAST_CHILD=1]="LAST_CHILD",e[e.PREVIOUS_SIBLING=2]="PREVIOUS_SIBLING",e[e.NEXT_SIBLING=3]="NEXT_SIBLING",e[e.FIRST_SIBLING=4]="FIRST_SIBLING",e[e.LAST_SIBLING=5]="LAST_SIBLING"}(MD||(MD={}));var VD=$e.ZoomMode,UD=function(){function e(t){(0,C._)(this,e),(0,z._)(this,"doc",void 0),this.doc=t}return(0,D._)(e,[{key:"emitEvent",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r;(r=this.doc.engine.eventEmitter).emit.apply(r,[e].concat((0,M._)(n)))}},{key:"getBookmarkChildren",value:function(e){return this.doc.api.getBookmarkChildren({path:"jr/doc"},this.doc.id,e)}},{key:"insertBookmark",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return t.assertPermission(),t.assertRelationship(e.relationship),t.assertPageIndex(e.destination.pageIndex),[4,t.doc.api.insertBookmark({path:"jr/doc"},t.doc.id,e)];case 1:return[2,n.sent()]}}))}))()}},{key:"insertBookmarkTree",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){return t.assertPermission(),t.assertRelationship(e.relationship),e.destination&&t.assertPageIndex(e.destination.pageIndex),[2,t.doc.api.insertBookmarkTree({path:"jr/doc"},t.doc.id,e)]}))}))()}},{key:"getBookmarkData",value:function(e){return this.doc.api.getBookmarkData({path:"jr/doc"},this.doc.id,e)}},{key:"getProperties",value:function(e){return this.doc.api.getBookmarkProperties({path:"jr/doc"},this.doc.id,e)}},{key:"setProperties",value:function(e,t){var n=this;return(0,P._)((function(){var i;return(0,L.Jh)(this,(function(r){switch(r.label){case 0:return n.assertPermission(),void 0!==(i=t.color)&&(i=(0,W.colorConvertor)(i,"int"),t.color=i),[4,n.doc.api.setBookmarkProperty(n.doc.id,e,t)];case 1:return[2,r.sent()]}}))}))()}},{key:"remove",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return t.assertPermission(),[4,t.doc.api.removeBookmark(t.doc.id,e)];case 1:return[2,n.sent()]}}))}))()}},{key:"moveTo",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return t.assertPermission(),[4,t.doc.api.moveBookmark(t.doc.id,e.srcId,e.destId,e.relationship)];case 1:return n.sent(),[2]}}))}))()}},{key:"setDestination",value:function(e,t){var n=this;return(0,P._)((function(){var i;return(0,L.Jh)(this,(function(r){switch(r.label){case 0:return[4,n.doc.api.setBookmarkDestination(n.doc.id,e,t)];case 1:return(i=r.sent())?[2,n.doc.engine.actionFactory.createAction(i,n.doc,n.doc.api,n.doc.engine.eventEmitter,n)]:[2]}}))}))()}},{key:"getDestination",value:function(e){var t=this;return(0,P._)((function(){var n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return[4,t.doc.api.getBookmarkDestination(t.doc.id,e)];case 1:return(n=i.sent())?[2,t.doc.engine.actionFactory.createAction(n,t.doc,t.doc.api,t.doc.engine.eventEmitter,t)]:[2]}}))}))()}},{key:"getAction",value:function(e){var t=this;return(0,P._)((function(){var n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return[4,t.doc.api.getBookmarkAction(t.doc.id,e)];case 1:return(n=i.sent())?[2,t.doc.engine.actionFactory.createAction(n,t.doc,t.doc.api,t.doc.engine.eventEmitter,t)]:[2]}}))}))()}},{key:"setAction",value:function(e,t){return this.doc.api.setBookmarkAction(this.doc.getId(),e,t)}},{key:"removeAction",value:function(e,t){return this.doc.api.removeBookmarkAction(this.doc.getId(),e,t)}},{key:"addBookmarksFromStructureRoles",value:function(e,t){var n=this;return this.doc.api.addBookmarksFromStructureRoles(this.doc.getId(),e,t).then((function(e){return n.doc.engine.eventEmitter.emit(se.structureBookmarkAdded),e}))}},{key:"assertPermission",value:function(){if(!this.doc.checkPermission(Qt.assemble))throw new Error("Invalid operation on Bookmark, currently does not have editing permissions.")}},{key:"assertRelationship",value:function(e){switch(e){case 0:case 4:case 1:case 5:case 3:case 2:return;default:throw new Error("Invalid relationship value: ".concat(e,"."))}}},{key:"assertPageIndex",value:function(e){var t=this.doc.getPageCount();if(!(e>=0&&e<t))throw new Error("Invalid page index: ".concat(e))}}]),e}(),HD=(n(7460),function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,C._)(this,e),this.doc=t,this.engine=t.engine,this.info=n}return(0,D._)(e,[{key:"destroy",value:function(){this.engine=null,this.doc=null,this.info=null}},{key:"setPageMode",value:function(e){if(!Bt[e])throw new Error("Param error: Mode is invalid");return this.setViewPreference("PageMode",e)}},{key:"getPageMode",value:function(){return this.info.uiLayout}},{key:"setPageLayout",value:function(e){if(!Ut[e])throw new Error("Param error: Layout is invalid");return this.setViewPreference("PageLayout",e)}},{key:"getPageLayout",value:function(){return this.info.pageLayout}},{key:"setViewPreference",value:function(e,t){var n=this;return this.doc.setViewPreference(e,t).then((function(i){switch(e){case"PageMode":n.info.uiLayout=t;break;case"PageLayout":n.info.pageLayout=t;break;default:n.info.viewerPreference[e]=t}}))}}]),e}()),zD=function(){function e(t,n){(0,C._)(this,e),(0,z._)(this,"doc",void 0),(0,z._)(this,"formAPI",void 0),(0,z._)(this,"queueTask",void 0),(0,z._)(this,"fieldTypeNameGenerator",void 0),this.doc=t,this.formAPI=n,this.queueTask=new W.QueuedAsyncTaskExecutor}return(0,D._)(e,[{key:"setDefaultFieldTypeNameGenerator",value:function(e){this.fieldTypeNameGenerator=e}},{key:"createPushButton",value:function(e,t){var n=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(i){return[2,n.createControl((0,k._)((0,w._)({},e),{fieldType:{type:wr.FieldType.PushButton,isImage:t}}))]}))}))()}},{key:"createTextField",value:function(e,t){var n=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(i){return[2,n.createControl((0,k._)((0,w._)({},e),{fieldType:{type:wr.FieldType.Text,isDateOrTime:t}}))]}))}))()}},{key:"createCheckBox",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){return[2,t.createControl((0,k._)((0,w._)({},e),{fieldType:{type:wr.FieldType.CheckBox}}))]}))}))()}},{key:"createRadioButton",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){return[2,t.createControl((0,k._)((0,w._)({},e),{fieldType:{type:wr.FieldType.RadioButton}}))]}))}))()}},{key:"createComboBox",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){return[2,t.createControl((0,k._)((0,w._)({},e),{fieldType:{type:wr.FieldType.ComboBox}}))]}))}))()}},{key:"createListBox",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){return[2,t.createControl((0,k._)((0,w._)({},e),{fieldType:{type:wr.FieldType.ListBox}}))]}))}))()}},{key:"createSignature",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){return t.checkParmas(e.pageIndex,e.pdfRect,!1),[2,t.queueTask.exec((0,P._)((function(){var n,i,r,o,a,s,c;return(0,L.Jh)(this,(function(u){switch(u.label){case 0:return[4,t.doc.getPageByIndex(e.pageIndex)];case 1:if(!(n=u.sent()))throw new Error("Invalid page index ".concat(e.pageIndex));return i=(e.rotate+n.getRotation())%4,r=e.fieldName,[4,t.resolveFieldTypeName({type:wr.FieldType.Sign})];case 2:return o=u.sent(),[4,t.formAPI.addSignature({fieldName:r,fieldTypeName:o,rotate:i,pdfRect:e.pdfRect,pageIndex:e.pageIndex})];case 3:return a=u.sent().objNumber,[4,n.getUnloadedAnnots()];case 4:return u.sent(),[4,n.getAnnotsByObjectNumArray([a])];case 5:return s=u.sent(),(c=n.doc.engine.eventEmitter).emit(se.annotationAdded,s,n),c.emit(se.formWidgetCreated,s,n),[2,s[0]]}}))})))]}))}))()}},{key:"createControl",value:function(e){this.checkParmas(e.pageIndex,e.pdfRect);var t=this;return this.queueTask.exec((0,P._)((function(){var n,i,r,o,a,s,c,u;return(0,L.Jh)(this,(function(l){switch(l.label){case 0:return[4,t.doc.getPageByIndex(e.pageIndex)];case 1:if(!(n=l.sent()))throw new Error("Invalid page index ".concat(e.pageIndex));return i=(e.rotate+n.getRotation())%4,r=e.fieldName,(a=e.fieldTypeName)?[3,3]:[4,t.resolveFieldTypeName(e.fieldType)];case 2:a=l.sent(),l.label=3;case 3:return o=a,[4,t.formAPI.addControl((0,k._)((0,w._)({},e),{fieldName:r,fieldTypeName:o,rotate:i,fieldType:e.fieldType,extra:e.extra,actions:e.actions}))];case 4:return s=l.sent().objNumber,[4,n.getUnloadedAnnots()];case 5:return l.sent(),[4,n.getAnnotsByObjectNumArray([s])];case 6:return c=l.sent(),(u=n.doc.engine.eventEmitter).emit(se.annotationAdded,c,n),u.emit(se.formWidgetCreated,c,n),[2,c[0]]}}))})))}},{key:"resolveFieldTypeName",value:function(e){var t=this;return(0,P._)((function(){var n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return t.fieldTypeNameGenerator?[4,t.fieldTypeNameGenerator(e)]:[3,2];case 1:return n=i.sent(),[3,3];case 2:n="",i.label=3;case 3:return[2,n]}}))}))()}},{key:"checkParmas",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e<0||e>=this.doc.getPageCount())throw new Error("Invalid page index ".concat(e));var i=t.left,r=t.top,o=t.right,a=t.bottom;(0,W.assertThat)((0,W.isValidNumber)(i),"Invalid pdfRect, left should be a number"),(0,W.assertThat)((0,W.isValidNumber)(o),"Invalid pdfRect, right should be a number"),(0,W.assertThat)((0,W.isValidNumber)(r),"Invalid pdfRect, top should be a number"),(0,W.assertThat)((0,W.isValidNumber)(a),"Invalid pdfRect, bottom should be a number"),n&&((0,W.assertThat)(i<o,"Invalid pdfRect, left should be less than right"),(0,W.assertThat)(r>a,"Invalid pdfRect, top should be greater than bottom"))}}]),e}(),WD="bookmark-added-event",GD="bookmark-deleted-event",YD="bookmark-moved-event",$D="bookmark-properties-updated-event",JD=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;return(0,C._)(this,n),e=t.apply(this,arguments),(0,z._)((0,x._)(e),"rootBookmarksPromise",void 0),(0,z._)((0,x._)(e),"permissionStore",new W.ValueStore(!1)),(0,z._)((0,x._)(e),"bookmarkChildrenStore",new W.ValueStore),(0,z._)((0,x._)(e),"bookmarkDataMap",new Map),(0,z._)((0,x._)(e),"currentCutBookmarkNodeInfo",void 0),(0,z._)((0,x._)(e),"pasteBookmarkStore",new W.ValueStore),(0,z._)((0,x._)(e),"pdfDocDefer",new W.Defer),(0,z._)((0,x._)(e),"eventEmitter",new _o.EventEmitter),e}return(0,D._)(n,[{key:"switchDoc",value:function(e){var t=this;this.pdfDocDefer.resolve(e),(0,W.noop)(e.bookmarkActionAPI);var n=e.checkPermission(Qt.assemble);this.permissionStore.dispatch(!!n);var i=function(){var n=e.checkPermission(Qt.assemble);t.permissionStore.dispatch(!!n)};e.engine.eventEmitter.on(ae.Z.permissionChanged,i),e.addDestroyHook((function(){e.engine.eventEmitter.off(ae.Z.permissionChanged,i),t.rootBookmarksPromise=void 0,t.pdfDocDefer=new W.Defer,t.bookmarkDataMap.clear(),t.pasteBookmarkStore.remove(),t.clearCutBookmark()}))}},{key:"onPermissionChange",value:function(e){return this.permissionStore.subscribe(e)}},{key:"getPermission",value:function(){var e=this.permissionStore.getCurrentValue();if(void 0===e){var t=this.pdfDocDefer.resolveValue;if(t)return!!t.checkPermission(Qt.assemble)}return!!e}},{key:"onBookmarkChildrenReloaded",value:function(e){return this.bookmarkChildrenStore.subscribe((function(t){if(t)return e(t.parentId,t.children)}))}},{key:"reloadBookmarkChildren",value:function(e){var t=this;return(0,P._)((function(){var n,i;return(0,L.Jh)(this,(function(r){switch(r.label){case 0:return n=t.getBookmarkChildren(e),void 0===e&&(t.rootBookmarksPromise=n),[4,n];case 1:return i=r.sent(),[4,t.bookmarkChildrenStore.dispatch({parentId:e,children:i})];case 2:return r.sent(),[2]}}))}))()}},{key:"getBookmarkHierarchy",value:function(){var e=this;return(0,P._)((function(){var t,n,i,r,o,a,s,c,u;return(0,L.Jh)(this,(function(l){switch(l.label){case 0:return[4,e.getFirstLevelBookmarks()];case 1:t=l.sent(),A=(0,P._)((function(t){var i,r,o,a,s,c,u,l,A,d,h;return(0,L.Jh)(this,(function(f){switch(f.label){case 0:return(null==(r=e.bookmarkDataMap.get(t))||null===(i=r.children)||void 0===i?void 0:i.length)?(a=r.children,[3,3]):[3,1];case 1:return[4,e.getBookmarkChildren(t)];case 2:a=f.sent(),f.label=3;case 3:o=a,s=!0,c=!1,u=void 0,f.label=4;case 4:f.trys.push([4,9,10,11]),l=o[Symbol.iterator](),f.label=5;case 5:return(s=(A=l.next()).done)?[3,8]:(d=A.value,[4,n(d.id)]);case 6:d.children=f.sent(),f.label=7;case 7:return s=!0,[3,5];case 8:return[3,11];case 9:return h=f.sent(),c=!0,u=h,[3,11];case 10:try{s||null==l.return||l.return()}finally{if(c)throw u}return[7];case 11:return[2,o]}}))})),n=function(e){return A.apply(this,arguments)},i=!0,r=!1,o=void 0,l.label=2;case 2:l.trys.push([2,7,8,9]),a=t[Symbol.iterator](),l.label=3;case 3:return(i=(s=a.next()).done)?[3,6]:(c=s.value,[4,n(c.id)]);case 4:c.children=l.sent(),l.label=5;case 5:return i=!0,[3,3];case 6:return[3,9];case 7:return u=l.sent(),r=!0,o=u,[3,9];case 8:try{i||null==a.return||a.return()}finally{if(r)throw o}return[7];case 9:return[2,t]}var A}))}))()}},{key:"getBookmarkChildren",value:function(e){var t=this;return(0,P._)((function(){var n,i,r,o;return(0,L.Jh)(this,(function(a){switch(a.label){case 0:return[4,t.getBookmarkAPI()];case 1:return(n=a.sent())?[4,n.getBookmarkChildren(e)]:[2,[]];case 2:return i=a.sent(),r=i.map((function(e){var n=t.bookmarkDataMap.get(e.id),i=(0,w._)({},n||{},e);return t.bookmarkDataMap.set(e.id,i),i})),e&&(o=t.bookmarkDataMap.get(e))&&(r.length>0&&(o.hasChild=!0),o.children=r),[2,r]}}))}))()}},{key:"getBookmarkData",value:function(e){return this.bookmarkDataMap.get(e)}},{key:"getParentBookmarkId",value:function(e){var t=Array.from(this.bookmarkDataMap.values()).find((function(t){var n;return!!(null===(n=t.children)||void 0===n?void 0:n.find((function(t){return t.id===e})))}));return null==t?void 0:t.id}},{key:"getFirstLevelBookmarks",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){return[2,e.rootBookmarksPromise=e.rootBookmarksPromise||e.getBookmarkChildren(void 0)]}))}))()}},{key:"addBookmark",value:function(e){var t=this;return(0,P._)((function(){var n,i,r,o,a,s,c;return(0,L.Jh)(this,(function(u){switch(u.label){case 0:if("number"!=typeof e.destId)switch(e.relationship){case MD.FIRST_CHILD:case MD.LAST_CHILD:break;default:throw new Error("When destId is not defined, relationship must be 'BookmarkRelationship.FIRST_CHILD' or 'BookmarkRelationship.LAST_CHILD'")}return[4,t.pdfDocDefer.isSettled];case 1:return(u.sent()?t.pdfDocDefer.promise:void 0)?[4,t.getBookmarkAPI()]:[2];case 2:return(n=u.sent())?(i=localStorage.getItem("bookmark_default_appearance"),r=e.title,o=e.destination||{},[4,n.insertBookmarkTree({newBookmarkId:e.newBookmarkId,destId:e.destId,relationship:e.relationship,title:r,destination:o,color:e.color?(0,W.colorConvertor)(e.color,"int"):void 0,style:e.style,children:null!==(a=e.children)&&void 0!==a?a:[]})]):[2];case 3:return s=u.sent(),i?[4,n.setProperties(s,JSON.parse(i))]:[3,5];case 4:u.sent(),u.label=5;case 5:return[4,n.getBookmarkData(s)];case 6:return c=u.sent(),t.bookmarkDataMap.set(s,c),t.emitEvent(WD,{bookmarkId:s,data:c,options:e}),t.triggerDocModified(),[2,s]}}))}))()}},{key:"addBookmarkFromId",value:function(e,t){var n=this;return(0,P._)((function(){var i,r;return(0,L.Jh)(this,(function(o){switch(o.label){case 0:return[4,n.getBookmarkAPI()];case 1:return(i=o.sent())?[4,i.getBookmarkData(e)]:[2];case 2:return r=o.sent(),n.bookmarkDataMap.set(e,r),n.emitEvent(WD,{bookmarkId:e,data:r,options:t}),n.triggerDocModified(),[2,e]}}))}))()}},{key:"deleteBookmark",value:function(e){var t=this;return(0,P._)((function(){var n,i,r,o,a,s;return(0,L.Jh)(this,(function(c){switch(c.label){case 0:return[4,t.getBookmarkAPI()];case 1:return(r=c.sent())?(o=t.getParentBookmarkId(e),[4,r.remove(e)]):[2];case 2:if(!c.sent())throw new Error("Unable to delete bookmark for unknown reason!");return a=t.getBookmarkData(e),s=function(e){var n,i=t.getBookmarkData(e);i&&(null===(n=i.children)||void 0===n||n.forEach((function(e){return s(e.id)})),t.bookmarkDataMap.delete(e))},s(e),(null===(n=t.currentCutBookmarkNodeInfo)||void 0===n?void 0:n.id)!==e&&(null===(i=t.currentCutBookmarkNodeInfo)||void 0===i?void 0:i.parentId)!==e||t.clearCutBookmark(),t.reloadBookmarkChildren(o),t.emitEvent(GD,{bookmarkId:e,data:a}),t.triggerDocModified(),[2]}}))}))()}},{key:"setDestination",value:function(e,t){var n=this;return(0,P._)((function(){var i,r,o,a,s;return(0,L.Jh)(this,(function(c){switch(c.label){case 0:return[4,n.getBookmarkAPI()];case 1:return c.sent()?[4,n.getBookmarkData(e)]:[2];case 2:return i=c.sent(),r=i?{pageIndex:i.page,top:i.top,left:i.left,zoomMode:i.zoomMode,zoomFactor:i.zoomFactor}:{},o=(0,w._)({},r,t),[4,n.setProperties(e,{destination:o})];case 3:return a=c.sent(),(s=n.bookmarkDataMap.get(e))&&(s.page=o.pageIndex,s.top=o.top||0,s.left=o.left||0,s.zoomMode=o.zoomMode,s.zoomFactor=o.zoomFactor),[2,a]}}))}))()}},{key:"performAction",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){return[2,t.triggerAction(e)]}))}))()}},{key:"triggerAction",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[4,t.getBookmarkActionAPI()];case 1:return[2,n.sent().triggerAction(e)]}}))}))()}},{key:"appendAction",value:function(e,t){var n=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return[4,n.getBookmarkActionAPI()];case 1:return[4,i.sent().appendAction(e,t)];case 2:return i.sent(),[2]}}))}))()}},{key:"removeAction",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[4,t.getBookmarkActionAPI()];case 1:return[4,n.sent().removeAction(e)];case 2:return n.sent(),[2]}}))}))()}},{key:"updateAction",value:function(e,t,n){var i=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(r){switch(r.label){case 0:return[4,i.getBookmarkActionAPI()];case 1:return[4,r.sent().updateAction(e,t,n)];case 2:return r.sent(),[2]}}))}))()}},{key:"getActions",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[4,t.getBookmarkActionAPI()];case 1:return[2,n.sent().getActionData(e)]}}))}))()}},{key:"renameBookmark",value:function(e,t){var n=this;return(0,P._)((function(){var i,r;return(0,L.Jh)(this,(function(o){switch(o.label){case 0:return[4,n.getBookmarkAPI()];case 1:return o.sent()?(i=n.bookmarkDataMap.get(e))&&i.title===t?[2]:[4,n.setProperties(e,{title:t})]:[2];case 2:return r=o.sent(),(i=n.bookmarkDataMap.get(e))&&(i.title=t),[2,r]}}))}))()}},{key:"setColor",value:function(e,t){var n=this;return(0,P._)((function(){var i,r,o;return(0,L.Jh)(this,(function(a){switch(a.label){case 0:return[4,n.getBookmarkAPI()];case 1:return a.sent()?(i=n.bookmarkDataMap.get(e))&&i.color===t?[2]:[4,n.setProperties(e,{color:(0,W.colorConvertor)(t,"int")})]:[2];case 2:return r=a.sent(),(i=n.bookmarkDataMap.get(e))&&(o=r.newProperties.color,i.color=void 0===o?void 0:(0,W.colorConvertor)(o,"#")),[2,r]}}))}))()}},{key:"setFontStyle",value:function(e,t){var n=this;return(0,P._)((function(){var i,r;return(0,L.Jh)(this,(function(o){switch(o.label){case 0:return[4,n.getBookmarkAPI()];case 1:return o.sent()?[4,n.setProperties(e,{style:t})]:[2];case 2:return i=o.sent(),(r=n.bookmarkDataMap.get(e))&&(r.style=t),[2,i]}}))}))()}},{key:"setProperties",value:function(e,t){var n=this;return(0,P._)((function(){var i,r,o,a,s,c;return(0,L.Jh)(this,(function(u){switch(u.label){case 0:return[4,n.getBookmarkAPI()];case 1:return[4,(i=u.sent()).setProperties(e,t)];case 2:return r=u.sent(),o=r.oldProperties,a=r.newProperties,[4,i.getBookmarkData(e)];case 3:return(s=u.sent())&&n.bookmarkDataMap.set(e,s),n.rootBookmarksPromise?[4,n.rootBookmarksPromise]:[3,5];case 4:c=u.sent(),n.rootBookmarksPromise=Promise.resolve(c.map((function(e){return n.getBookmarkData(e.id)}))),u.label=5;case 5:return n.emitEvent($D,{bookmarkId:e,oldProperties:o,newProperties:a}),n.triggerDocModified(),[2,{oldProperties:o,newProperties:a}]}}))}))()}},{key:"cutBookmark",value:function(e,t){this.currentCutBookmarkNodeInfo={id:e,parentId:t}}},{key:"clearCutBookmark",value:function(){this.currentCutBookmarkNodeInfo=void 0}},{key:"getCurrentCutBookmarkNodeInfo",value:function(){return this.currentCutBookmarkNodeInfo}},{key:"pasteCutBookmark",value:function(e,t,n){var i=this;return(0,P._)((function(){var r,o,a;return(0,L.Jh)(this,(function(s){switch(s.label){case 0:return i.currentCutBookmarkNodeInfo?(r=i.currentCutBookmarkNodeInfo,o=r.id,a=r.parentId,[4,i.moveBookmark(o,a,e,t,n)]):[2];case 1:return s.sent(),[4,i.pasteBookmarkStore.dispatch({destId:e,srcId:o,relationship:n,srcParentId:a,destParentId:t})];case 2:return s.sent(),i.clearCutBookmark(),[2]}}))}))()}},{key:"moveBookmark",value:function(e,t,n,i,r){var o=this;return(0,P._)((function(){var a,s;return(0,L.Jh)(this,(function(c){switch(c.label){case 0:return[4,o.getBookmarkAPI()];case 1:return(a=c.sent())&&o.bookmarkDataMap.get(e)?[4,a.moveTo({destId:n,srcId:e,relationship:r})]:[2];case 2:switch(c.sent(),s=[],r){case MD.FIRST_CHILD:case MD.LAST_CHILD:s.push(o.reloadBookmarkChildren(n));break;case MD.FIRST_SIBLING:case MD.LAST_SIBLING:case MD.NEXT_SIBLING:case MD.PREVIOUS_SIBLING:i!==t&&s.push(o.reloadBookmarkChildren(i))}return s.push(o.reloadBookmarkChildren(t)),[4,Promise.all(s)];case 3:return c.sent(),o.emitEvent(YD,{destId:n,srcId:e,relationship:r,srcParentId:t,destParentId:i}),o.triggerDocModified(),[2]}}))}))()}},{key:"onPasteCutBookmark",value:function(e){return this.pasteBookmarkStore.subscribe(e)}},{key:"getBookmarkActionAPI",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){switch(t.label){case 0:return[4,e.pdfDocDefer.promise];case 1:return[2,t.sent().bookmarkActionAPI]}}))}))()}},{key:"getBookmarkAPI",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){switch(t.label){case 0:return[4,e.pdfDocDefer.promise];case 1:return[2,t.sent().getBookmarkAPI()]}}))}))()}},{key:"onBookmarkDeleted",value:function(e){return this.registerEvent(GD,e)}},{key:"onBookmarkAdded",value:function(e){return this.registerEvent(WD,e)}},{key:"onBookmarkMoved",value:function(e){return this.registerEvent(YD,e)}},{key:"onBookmarkPropertiesUpdated",value:function(e){return this.registerEvent($D,e)}},{key:"registerEvent",value:function(e,t){var n=this;return this.eventEmitter.on(e,t),function(){n.eventEmitter.off(e,t)}}},{key:"emitEvent",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r;(r=this.eventEmitter).emit.apply(r,[e].concat((0,M._)(n)))}},{key:"rebuildBookmarkTree",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){switch(t.label){case 0:return e.bookmarkDataMap.clear(),e.pasteBookmarkStore.remove(),e.clearCutBookmark(),[4,e.bookmarkChildrenStore.dispatch({children:[]})];case 1:return t.sent(),e.reloadBookmarkChildren(),[2]}}))}))()}},{key:"triggerDocModified",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){switch(t.label){case 0:return[4,e.pdfDocDefer.promise];case 1:return[4,t.sent().setDocModified()];case 2:return t.sent(),[2]}}))}))()}}]),n}(W.Disposable),qD=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;return(0,C._)(this,n),e=t.apply(this,arguments),(0,z._)((0,x._)(e),"pdfViewer",void 0),(0,z._)((0,x._)(e),"updateDestination",e.setDestination),e}return(0,D._)(n,[{key:"switchDoc",value:function(e){this.bookmarkEngineService.switchDoc(e)}},{key:"onPermissionChange",value:function(e){return this.bookmarkEngineService.onPermissionChange(e)}},{key:"getPermission",value:function(){return this.bookmarkEngineService.getPermission()}},{key:"onBookmarkChildrenReloaded",value:function(e){return this.bookmarkEngineService.onBookmarkChildrenReloaded(e)}},{key:"reloadBookmarkChildren",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){return[2,t.bookmarkEngineService.reloadBookmarkChildren(e)]}))}))()}},{key:"getBookmarkHierarchy",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){return[2,e.bookmarkEngineService.getBookmarkHierarchy()]}))}))()}},{key:"getBookmarkChildren",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){return[2,t.bookmarkEngineService.getBookmarkChildren(e)]}))}))()}},{key:"getBookmarkData",value:function(e){return this.bookmarkEngineService.getBookmarkData(e)}},{key:"getParentBookmarkId",value:function(e){return this.bookmarkEngineService.getParentBookmarkId(e)}},{key:"getFirstLevelBookmarks",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){return[2,e.bookmarkEngineService.getFirstLevelBookmarks()]}))}))()}},{key:"getDestination",value:function(){var e=this;return(0,P._)((function(){var t;return(0,L.Jh)(this,(function(n){if(!(t=e.pdfViewer.pdfViewerRender))throw new Error("BookmarkService.getDestination failed: PDFViewer.pdfViewerRender is not defined!");return[2,t.getCurrentDestination()]}))}))()}},{key:"addBookmark",value:function(e){var t=this;return(0,P._)((function(){var n,i,r,o,a,s,c,u;return(0,L.Jh)(this,(function(l){switch(l.label){case 0:return i=t.pdfViewer,r=e.title||i.i18n.t("sidebar.bookmark.untitled"),[4,t.getDestination()];case 1:return o=l.sent(),a=(0,w._)({},o,e.destination||{}),s=i.getPDFDocRender().scale,"zoomFactor"in a||(a.zoomFactor=isFinite(s)?s:0),u={newBookmarkId:e.newBookmarkId,destId:e.destId,relationship:e.relationship,title:r,destination:a,color:e.color?(0,W.colorConvertor)(e.color,"int"):void 0,style:e.style,children:null!==(c=null===(n=e.children)||void 0===n?void 0:n.map((function e(t){var n;return{newBookmarkId:t.newBookmarkId,title:t.title||i.i18n.t("sidebar.bookmark.untitled"),destination:t.destination,color:t.color?(0,W.colorConvertor)(t.color,"int"):void 0,style:t.style,children:null===(n=t.children)||void 0===n?void 0:n.map(e)}})))&&void 0!==c?c:[]},[2,t.bookmarkEngineService.addBookmark(u)]}}))}))()}},{key:"addBookmarkFromId",value:function(e,t){var n=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(i){return[2,n.bookmarkEngineService.addBookmarkFromId(e,t)]}))}))()}},{key:"deleteBookmark",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){return[2,t.bookmarkEngineService.deleteBookmark(e)]}))}))()}},{key:"setDestination",value:function(e,t){var n=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return t?[3,2]:[4,n.getDestination()];case 1:t=i.sent(),i.label=2;case 2:return[2,n.bookmarkEngineService.setDestination(e,t)]}}))}))()}},{key:"performAction",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){return[2,t.triggerAction(e)]}))}))()}},{key:"triggerAction",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){return[2,t.bookmarkEngineService.triggerAction(e)]}))}))()}},{key:"appendAction",value:function(e,t){var n=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(i){return[2,n.bookmarkEngineService.appendAction(e,t)]}))}))()}},{key:"removeAction",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){return[2,t.bookmarkEngineService.removeAction(e)]}))}))()}},{key:"updateAction",value:function(e,t,n){var i=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(r){return[2,i.bookmarkEngineService.updateAction(e,t,n)]}))}))()}},{key:"getActions",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){return[2,t.bookmarkEngineService.getActions(e)]}))}))()}},{key:"renameBookmark",value:function(e,t){var n=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(i){return[2,n.bookmarkEngineService.renameBookmark(e,t)]}))}))()}},{key:"setColor",value:function(e,t){var n=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(i){return[2,n.bookmarkEngineService.setColor(e,t)]}))}))()}},{key:"setFontStyle",value:function(e,t){var n=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(i){return[2,n.bookmarkEngineService.setFontStyle(e,t)]}))}))()}},{key:"cutBookmark",value:function(e,t){return this.bookmarkEngineService.cutBookmark(e,t)}},{key:"clearCutBookmark",value:function(){return this.bookmarkEngineService.clearCutBookmark()}},{key:"getCurrentCutBookmarkNodeInfo",value:function(){return this.bookmarkEngineService.getCurrentCutBookmarkNodeInfo()}},{key:"pasteCutBookmark",value:function(e,t,n){var i=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(r){return[2,i.bookmarkEngineService.pasteCutBookmark(e,t,n)]}))}))()}},{key:"moveBookmark",value:function(e,t,n,i,r){var o=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(a){return[2,o.bookmarkEngineService.moveBookmark(e,t,n,i,r)]}))}))()}},{key:"onPasteCutBookmark",value:function(e){return this.bookmarkEngineService.onPasteCutBookmark(e)}},{key:"onBookmarkDeleted",value:function(e){return this.bookmarkEngineService.onBookmarkDeleted(e)}},{key:"onBookmarkAdded",value:function(e){return this.bookmarkEngineService.onBookmarkAdded(e)}},{key:"onBookmarkMoved",value:function(e){return this.bookmarkEngineService.onBookmarkMoved(e)}},{key:"onBookmarkPropertiesUpdated",value:function(e){return this.bookmarkEngineService.onBookmarkPropertiesUpdated(e)}},{key:"emitEvent",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r;(r=this.bookmarkEngineService).emitEvent.apply(r,[e].concat((0,M._)(n)))}},{key:"registerEvent",value:function(e,t){return this.bookmarkEngineService.registerEvent(e,t)}},{key:"rebuildBookmarkTree",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){return[2,e.bookmarkEngineService.rebuildBookmarkTree()]}))}))()}}],[{key:"inject",value:function(){return{pdfViewer:eM,bookmarkEngineService:JD}}}]),n}(W.Disposable),KD=function(){function e(){(0,C._)(this,e),(0,z._)(this,"verifyHandler",(function(){throw new Error("Please specify verifyHandler before verifying the signature via SignatureService.setVerifyHandler method!")}))}return(0,D._)(e,[{key:"setVerifyHandler",value:function(e){this.verifyHandler=e}}]),e}(),ZD=[48,49,50,51,52,53,54,55,56,57,97,98,99,100,101,102],XD=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,C._)(this,n),(r=t.call(this)).id=e,r.engine=i,r.parameters=o,r.api=i.api,r.pageCache=[],r.pagePromiseCache=[],r.info={fileName:o.fileName,pageSizes:{},XFARemoved:!1},r.pdfaEditable=!1,r.visibleTemplates=[],r.invisibleTemplates=[],r.metadata={FileName:o.fileName},r.docModified=!1,r.docChangeMark=0;var a=[];for(var s in ae.Z)switch(s){case"layerVisibleChange":case"layerVisibleChanged":case"drmEncryptFailed":case"docModified":case"annotationLoaded":case"annotLoaded":case"obtainsPageFromEngine":case"permissionChanged":case"formReloaded":case"paragraphTextOnActivate":case"paragraphTextOnDeactivate":case"paragraphTextEnterEdit":case"objectStartEdit":case"objectEndEdit":case"action-updated":case"invalidRect":case"pdfDocCreated":break;default:a.push(ae.Z[s])}var c=function(){r.engine.eventEmitter.emit(ae.Z.docModified,(0,x._)(r)),r.docModified=!0};r.docModifiedHandler=c;var u=an(100,c);return a.map((function(e){r.engine.eventEmitter.on(e,u)})),r.engine.eventEmitter.on(se.willCloseDocument,r.willCloseDocument=function(){a.map((function(e){r.engine.eventEmitter.removeListener(e,u)}))}),r.permissionFactory={},r.pageIdMap={},r.docTextSearchIdMap={},r.isXFAHighlighted=!0,r.spawnPageExecutor=new W.QueuedAsyncTaskExecutor,r._pageLabelInfo={hasPageLabelStatus:"uninitialized",hasPageLabel:Promise.resolve(!1)},r.otherOptions={renderConfigLineWeight:!1,disableSavePrompt:!1,isOpenNewFileAfterClose:!1},r.selectedInfo=null,r.bookmarkAPI=new UD((0,x._)(r)),r.formFieldAPI=r.obtainRemoteAPI(wr.FORM_FIELD_API_CHANNEL_ID),r.formAPI=r.obtainRemoteAPI(wr.FORM_API_CHANNEL_ID),r.widgetCreator=new zD((0,x._)(r),r.formAPI),r.form=new LC((0,x._)(r)),r.form.ownsTo((0,x._)(r)),r.signatureAPI=r.obtainRemoteAPI(wr.FORM_SIGNATURE_API_CHANNEL_ID),r.formWidgetAPI=r.obtainRemoteAPI(wr.FORM_WIDGET_PROPERTY_API_CHANNEL_ID),r.actionAPI=r.obtainRemoteAPI($e.ADDITIONAL_ACTION_API_CHANNEL_ID),r.additionalActionAPI=r.actionAPI,r.annotActionAPI=r.obtainRemoteAPI($e.ANNOT_ACTION_API_CHANNEL_ID),r.bookmarkActionAPI=r.obtainRemoteAPI($e.BOOKMARK_ACTION_API_CHANNEL_ID),r.esignCNAPI=r.obtainRemoteAPI(wr.ESIGN_CN_API_CHANNEL_ID),r.signatureService=r.engine.ioc.getInstanceByClass(KD),r.bookmarkService=r.engine.ioc.getInstanceByClass(JD),r.engine.eventEmitter.emit(ae.Z.pdfDocCreated,(0,x._)(r)),r}return(0,D._)(n,[{key:"getFormFieldAPI",value:function(){return this.formFieldAPI}},{key:"getFormWidgetAPI",value:function(){return this.formWidgetAPI}},{key:"checkNoAdditionPerm",value:function(e){return void 0!==this.permissionFactory.additional&&!(this.permissionFactory.additional(this)&e)}},{key:"checkPermission",value:function(e){var t=void 0!==this.permissionFactory.standard?this.permissionFactory.standard(this):-1;return this.getPermissionsSync()&t&e}},{key:"isOwner",value:function(){return this.info.isOwner}},{key:"isDocModified",value:function(){return this.docModified}},{key:"setDocModified",value:function(){this.docModifiedHandler()}},{key:"getId",value:function(){return this.id}},{key:"getNameTreeIcons",value:function(){return this.info.icons}},{key:"getFileName",value:function(){return this.info.fileName}},{key:"createCertificateFile",value:function(e){return this.api.createCertificateFile(this.id,e)}},{key:"getCertificateSerials",value:function(){return this.api.getCertificateSerials(this.id)}},{key:"parseByCertificate",value:function(e){var t=this;return this.api.parseByCertificate(this.id,e).then((function(e){return t.afterParseHandler(e)}))}},{key:"parseByPassword",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={};if(n.encryptPassword&&(i.encryptPassword=n.encryptPassword),n.annotsJson){var r=$t.JSONToFDF(n.annotsJson);i.fdf={file:r}}return n.fdf&&(i.fdf=n.fdf),n.drm&&(i.drm=n.drm),n.fileOpen&&(i.fileOpen=n.fileOpen),n.idJWT&&(i.idJWT=n.idJWT),n.webPluginSecurity&&(0,T._)(n.webPluginSecurity,Array)&&n.webPluginSecurity.length>0&&(i.webPluginSecurity=n.webPluginSecurity||[]),n.cdrm&&(i.cdrm=n.cdrm),this.api.parsePDFDocByPassword(this.id,e,i).then((function(e){return t.afterParseHandler(e)}))}},{key:"parse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,,5,6]),e.certificateInfo?[4,t.parseByCertificate(e.certificateInfo,e)]:[3,2];case 1:case 3:return[2,n.sent()];case 2:return[4,t.parseByPassword(e.password,e)];case 4:return[3,6];case 5:return t.bookmarkService.switchDoc(t),[7];case 6:return[2]}}))}))()}},{key:"afterParseHandler",value:function(e){var t=e.code,n=e.info;return 0!==t?Promise.reject(e):(this.info=Object.assign(this.info,n),this.pageCache=new Array(this.info.pageCount),this.info.action&&(this.action=this.engine.actionFactory.createAction(this.info.action,this,this.api,this.engine.eventEmitter,this)),this)}},{key:"getJsNameTree",value:function(){return this.info.jsNameTree}},{key:"getMetadata",value:function(){var e=this;return this.api.getMetadata(this.id).then((function(t){return e.metadata=Object.assign(e.metadata,t)})).catch((function(){return e.metadata}))}},{key:"getMetadataValue",value:function(e){return this.metadata[e]}},{key:"flatten",value:function(e){if(!(0!=this.info.fileType||this.checkPermission(Qt.annotForm)&&this.checkPermission(Qt.modify)&&this.checkPermission(Qt.assemble)))throw new Error("Permission error");for(var t=[],n=this.getPageCount(),i=0;i<n;i++){var r=this.getPageByIndex(i).then((function(t){return t.flatten(e)}));t.push(r)}return Promise.all(t)}},{key:"setMetadataValue",value:function(e,t){var n=this;if(!this.checkPermission(Qt.modify))throw new Error("Permission error");var i=Promise.resolve();return this.metadata.custom&&this.metadata.custom.hasOwnProperty(e)&&(i=this.api.removeMetadata(this.id,e).then((function(){delete n.metadata.custom[e]}))),i.then((function(){n.api.setMetadataValue(n.id,e,t).then((function(e){return n.getMetadata()})).then((function(){return n.engine.eventEmitter.emit(ae.Z.metaDataChanged,n),n}))}))}},{key:"reloadPDFForm",value:function(){return Promise.resolve(this.form)}},{key:"loadPDFForm",value:function(){return Promise.resolve(this.form)}},{key:"getPDFForm",value:function(){return this.form}},{key:"getPageCount",value:function(){return this.info.pageCount}},{key:"getPageCountAsync",value:function(){return this.info.pageCount||this.api.getPageCountAsync(this.id)}},{key:"getFileVersion",value:function(){return this.api.getFileVersion(this.id).then((function(e){return(void 0!==e?e:14)/10}))}},{key:"isLinearized",value:function(){return this.api.isLinearized(this.id)}},{key:"hasForm",value:function(){return this.api.hasForm(this.id)}},{key:"setCustomPermission",value:function(e,t){this.permissionFactory[e]=t}},{key:"getPermission",value:function(){return this.getPermissions()}},{key:"getPermissions",value:function(){return this.getPermissionsSync()}},{key:"getPermissionsSync",value:function(){if(this.permissionFactory.replaceStandard)return this.info.userPermissions=this.permissionFactory.replaceStandard(this),this.info.userPermissions;if(this.info.isOwner)return 4294967292;var e=-1;return(this.info.sigPerms||[]).forEach((function(t){return e&=t})),(e&this.info.userPermissions)>>>0}},{key:"hasSignature",value:function(){return(this.info.sigPerms||[]).length}},{key:"getStdCipherOptions",value:function(){return this.api.getStdCipherOptions(this.id)}},{key:"getPDFDocInfo",value:function(){return this.api.getPDFDocInfoById(this.id)}},{key:"getBookmarksJson",value:function(){return this.api.getBookmarks(this.id)}},{key:"getBookmarkChildren",value:function(e){return this.api.getBookmarkChildren({path:"jr/doc"},this.id,e)}},{key:"getBookmarkAPI",value:function(){return this.bookmarkAPI}},{key:"getBlankPageIndexes",value:function(){return this.api.getBlankPageIndexes(this.id)}},{key:"getCurFileSymbolId",value:function(){return this.api.getCurFileSymbolId(this.id)}},{key:"getFadeOutBackground",value:function(e){return this.api.getFadeOutBackground(this.id,e)}},{key:"getConvertToMono",value:function(e){return this.api.getConvertToMono(this.id,e)}},{key:"convertImageToBlackWhite",value:function(e){var t=this;return(0,P._)((function(){var n,i;return(0,L.Jh)(this,(function(r){switch(r.label){case 0:return[4,t.getConvertToMono(e)];case 1:return n=r.sent(),i=ND(n[0]),[2,FD(i)]}}))}))()}},{key:"getLayerNodesJson",value:function(){var e=this;return this.isDestroyed?Promise.resolve():this.ocgs?Promise.resolve(this.ocgs):this.api.getLayerNodes(this.id).then((function(t){return e.ocgs=t}))}},{key:"getRootLayerNodeChildrenCount",value:function(){return this.isDestroyed?Promise.resolve(0):this.api.getRootLayerNodeChildrenCount({path:"jr/doc"},this.id)}},{key:"getAllLayerNodeChildrenCount",value:function(){return this.isDestroyed?Promise.resolve(0):this.api.getAllLayerNodeChildrenCount({path:"jr/doc"},this.id)}},{key:"setLayerNodeVisible",value:function(e,t){var n=this,i=this.getLayerNodeById(e);return i.visible===t?Promise.resolve(!0):(i.visible=t,this.api.setLayerNodeVisiable(this.id,e,t).then((function(e){return e&&n.engine.eventEmitter.emit(ae.Z.layerVisibleChange,n),e})))}},{key:"setLayerNodeVisiable",value:function(e,t){return this.setLayerNodeVisible(e,t)}},{key:"isPageLoaded",value:function(e){return!!this.pageCache[e]||!!this.pagePromiseCache[e]}},{key:"getPageRotation",value:function(e){return this.api.getPageRotation({path:"jr/doc"},this.id,e)}},{key:"getPageByIndex",value:function(e){var t,n=this,i=this.pageCache;if(t=i[e])return Promise.resolve(t);var r=this.pagePromiseCache;return r[e]=r[e]||this.api.getPageInfoByIndex(this.id,e).then((function(t){var o=i[e]=new Sr(t,n);return n.engine.eventEmitter.emit(ae.Z.obtainsPageFromEngine,o),delete r[e],o}))}},{key:"getLoadedPageByIndex",value:function(e){return this.pageCache[e]}},{key:"getPageById",value:function(e){return this.pageIdMap[e]||null}},{key:"getCurrentDocTextSearch",value:function(){var e=Object.keys(this.docTextSearchIdMap);return this.docTextSearchIdMap[e[e.length-1]]||null}},{key:"getDocTextSearchById",value:function(e){return this.docTextSearchIdMap[e]||null}},{key:"destroy",value:function(){var e,t=this;this.isDestroyed=!0,this.engine.removeDoc(this.id),(e=this.form)&&e.destroy(),this.form=null,this.pageIdMap={},this.docTextSearchIdMap={};for(var i=this.pageCache,r=0,o=i.length;r<o;r++){var a=i[r];a&&a.destroy(),i[r]=null}var s=this.HF;return s&&s.destroy(),this.HF=null,this.preferencePromise=null,this.viewPreference&&this.viewPreference.destroy(),this.permissionFactory={},this.engine.eventEmitter.off(se.willCloseDocument,this.willCloseDocument),this.willCloseDocument=null,this.pdfPortfolio=null,(0,E._)((0,S._)(n.prototype),"destroy",this).call(this),Promise.resolve().then((function(){return t.api.destroyDoc(t.getId())}))}},{key:"releasePage",value:function(e){this.api.destroyPage({path:"jr/doc"},this.id,e)}},{key:"getDocBuffer",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.hasSignature()?1:0;n&&e.activeElement(null);var r=[];return Promise.resolve((e._saveBefore||function(){})()).then((function(){return t.getStream((function(e){var t=e.arrayBuffer;r.push(t)}),i,n).then((function(){return r}))}))}},{key:"getStream",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;if(this.checkNoAdditionPerm(1))throw new Error("Permission error, download disabled");return this.api.getPDFDocStream(this.id,e,t,n)}},{key:"getFile",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{flags:0,fileName:this.getFileName(),progressHandler:tr},n=t.flags,i=void 0===n?0:n,r=t.fileName,o=void 0===r?this.getFileName():r,a=t.progressHandler,s=void 0===a?tr:a;if(this.checkNoAdditionPerm(qe.download))throw new Error("Permission denied! Missing additional download permission.");var c=this.info.fileSize,u=0,l=function(e){var t=e.current,n=e.total,i=void 0===n?100:n,r=e.status;s({current:t,total:i,status:r})};l({current:u,status:Rx.PROGRESSING});var A,d=[],h=0,f=function(e){var t=e.blob,n=e.arrayBuffer,i=e.offset,r=e.size;u=Math.floor(i/c*99),l({current:u,status:Rx.PROGRESSING}),n?(d.push({arrayBuffer:n,offset:i}),h=Math.max(i+r,h)):A=t};return e.api.getPDFDocStream(e.id,f,i).then((function(){if(A)return[A];var e=new Uint8Array(h);return d.forEach((function(t){var n=t.arrayBuffer,i=t.offset;e.set(new Uint8Array(n),i)})),e})).then((function(e){try{return l({current:100,status:Rx.SUCCESS}),new File([e],o,{type:"application/pdf"})}catch(n){e.name=o;var t=new Date;return e.lastModified=t.getTime(),e.lastModifiedDate=t,e.webkitRelativePath="",e}})).catch((function(t){l({current:u,status:Rx.FAIL}),e.engine.eventEmitter.emit(se.progressChanged,"getFileProgress",100,Rx.FAIL)}))}},{key:"exportAnnotsToFDF",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(0!==e&&1!==e)throw new Error("File type error, only 0 or 1 available, current is "+e);var n=arguments[2],i={};if(t)for(var r in t.forEach((function(e){var t;i[e.page.getId()]||(i[e.page.getId()]=new Set),t=i[e.page.getId()],iE(e,t,n)})),i)i[r]=Array.from(i[r]);return this.api.exportToFDF(this.id,e,2,i)}},{key:"exportXFAToFile",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W.FileFormat.xdp;if(!(this.isStaticXFA()||this.isDynamicXFA()))throw new Error("The document is not XFA document.");return this.api.exportXFAForm({path:"jr/doc"},this.id,e)}},{key:"importXFAFromFile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:W.FileFormat.xdp;if(!(this.isStaticXFA()||this.isDynamicXFA()))throw new Error("The document is not XFA document.");var n,i=this;return this.api.importXFAForm({path:"jr/doc"},this.id,e,t).then((n=(0,P._)((function(e){return(0,L.Jh)(this,(function(t){return i.engine.eventEmitter.emit(ae.Z.xfaFormImported,i),[2,e]}))})),function(e){return n.apply(this,arguments)}))}},{key:"exportFormToFile",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W.FileFormat.fdf;switch(e){case 0:e=W.FileFormat.fdf;break;case 1:e=W.FileFormat.xfdf;break;case 2:e=W.FileFormat.xml;break;case 3:e=W.FileFormat.csv;break;case 4:e=W.FileFormat.text;break;case 5:e=W.FileFormat.json;break;case W.FileFormat.fdf:case W.FileFormat.xfdf:case W.FileFormat.xml:case W.FileFormat.csv:case W.FileFormat.text:case W.FileFormat.json:break;default:throw new Error("Invalid file type ".concat(format,", It must be 'fdf', 'xfdf', 'xml', 'csv', 'text' or 'json'"))}return this.form.exportToFile(e)}},{key:"exportToFDF",value:function(e,t){return this.api.exportToFDF(this.id,e,2).then((function(e){return new Uint8Array(e)}))}},{key:"exportDataToFDF",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(0!==e&&1!==e)throw new Error("File type error, only 0 or 1 available, current is "+e);return this.api.exportToFDF(this.id,e,t)}},{key:"exportToStardardXml",value:function(e,t,n){return this.api.exportToStardardXml(this.id,e,t,n)}},{key:"exportToImage",value:function(e,t,n,i){return this.api.exportToImage(this.id,e,t,n,i)}},{key:"exportToTxt",value:function(e,t,n){return this.api.exportToTxt(this.id,e,t,n)}},{key:"exportImageObjectToImage",value:function(e,t,n,i){return this.api.exportImageObjectToImage(this.id,e,t,n,i)}},{key:"cancelExport",value:function(){return this.api.cancelExport(this.id)}},{key:"importAnnotsFromFDF",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.checkPermission(Qt.annotForm))throw new Error("Permission error");return this.api.importFromFDF(this.id,e,2).then((function(){for(var e=function(e,t){var r=n[e];if(!r)return"continue";i.push(r.getUnloadedAnnots().then((function(e){return{page:r,newAnnots:e}})))},n=t.pageCache,i=[],r=0,o=n.length;r<o;r++)e(r);return Promise.all(i)})).then((function(e){t.engine.eventEmitter.emit(ae.Z.annotationImported,t,e),!n&&t.engine.eventEmitter.emit(ae.Z.annotationImportedEx,t,e)}))}},{key:"resetXFAForm",value:function(){var e,t=this;return this.api.resetXFAForm({path:"jr/doc"},this.id).then((e=(0,P._)((function(e){return(0,L.Jh)(this,(function(n){return t.engine.eventEmitter.emit(ae.Z.xfaFormReset,t),[2,e]}))})),function(t){return e.apply(this,arguments)}))}},{key:"setHighlightXFAFields",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return t.isXFAHighlighted===e?[2]:(t.isXFAHighlighted=e,[4,t.api.highlightXFAFields({path:"jr/doc"},t.id,e)]);case 1:return n.sent(),[2]}}))}))()}},{key:"isHighlightXFAFields",value:function(){return this.isXFAHighlighted}},{key:"importFormFromFile",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"UTF-8",i=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(r){switch(r.label){case 0:if(!i.checkPermission(Qt.annotForm+Qt.fillForm))throw new Error("Permission error");switch(t){case 0:t=W.FileFormat.fdf;break;case 1:t=W.FileFormat.xfdf;break;case 2:t=W.FileFormat.xml;break;case 3:t=W.FileFormat.csv;break;case 4:t=W.FileFormat.text;break;case 5:t=W.FileFormat.json;break;case W.FileFormat.fdf:case W.FileFormat.xfdf:case W.FileFormat.xml:case W.FileFormat.csv:case W.FileFormat.text:case W.FileFormat.json:break;default:throw new Error("Invalid file type ".concat(t,", It must be 'fdf', 'xfdf', 'xml', 'csv', 'text' or 'json'"))}r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i.form.importFromFile(e,t,{encoding:n})];case 2:return r.sent(),i.engine.eventEmitter.emit(ae.Z.formFieldImported,i),i.engine.eventEmitter.emit(ae.Z.docModified,i),[3,4];case 3:throw r.sent();case 4:return[2]}}))}))()}},{key:"importFromFDFFile",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(1===n)return this.form.importFDF();var i=e,r=!1;if((0,T._)(e,Uint8Array)&&e.length>52428800){var o=new Blob([e],{type:"arraybuffer"});i=URL.createObjectURL(o),r=!0}return this.api.importFromFDFFile(this.id,i,-1,n).then((function(e){for(var n=function(e,t){var n=i[e];if(!n)return"continue";r.push(n.getUnloadedAnnots().then((function(e){return{page:n,newAnnots:e}})))},i=t.pageCache,r=[],o=0,a=i.length;o<a;o++)n(o);return Promise.all(r)})).then((function(e){r&&URL.revokeObjectURL(i);var o=ae.Z.annotationImported;1==n&&(o=ae.Z.annotationImported),t.engine.eventEmitter.emit(o,t,e)}),(function(e){console.error("some error happened. Please check fdf file exists.",e)}))}},{key:"exportAnnotsToJSON",value:function(e){var t=this,n=Promise.resolve();if(e&&0!=e.length){var i={},r=e.map((function(e,t){var n=e.exportToJSON();return"stamp"!=n.type&&"fileattachment"!=n.type||(i[t]={page:n.page,index:e.getId()}),n}));n=Promise.all([r,this.getAnnotsRawData(i)])}else n=this.getAnnots().then((function(e){for(var n={},i=[],r=0,o=e.length;r<o;r++)for(var a=e[r],s=0,c=a.length;s<c;s++){var u=a[s].getType();if("widget"!=u&&"popup"!=u&&"watermark"!=u){var l=a[s].exportToJSON();i.push(l),"stamp"!=l.type&&"fileattachment"!=l.type||(n[i.length-1]={page:r,index:a[s].getId()})}}return Promise.all([i,t.getAnnotsRawData(n)])}));return n.then((function(e){var t=(0,R._)(e,2),n=t[0];return t[1].forEach((function(e){return n[e.index].raw=e.raw})),n}))}},{key:"getAnnotsRawData",value:function(e){return e.length>0?[]:this.api.getAnnotsRawData(this.id,e)}},{key:"importAnnotsFromJSON",value:function(e){if(!this.checkPermission(Qt.annotForm))throw new Error("Permission error");var t=$t.JSONToFDF(e);return this.importAnnotsFromFDF(t)}},{key:"getPageAnnots",value:function(e){return rE(e,this.getPageCount()),this.getPageByIndex(e).then((function(e){return e.getAnnots()}))}},{key:"getPageAnnotsIdList",value:function(e){return rE(e,this.getPageCount()),this.getPageByIndex(e).then((function(e){return Object.keys(e.annotIdMap).map((function(e){return+e}))}))}},{key:"hasAnnots",value:function(e){return this.api.hasAnnots({path:"jr/doc"},this.id,e)}},{key:"getAllPageAnnotCount",value:function(){return this.api.getAllPageAnnotCount({path:"jr/doc"},this.id)}},{key:"getAllAnnotsData",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){return[2,e.api.getAllAnnotsData({path:"jr/doc"},e.id)]}))}))()}},{key:"getAnnots",value:function(){var e=this;return(0,P._)((function(){var t;return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[4,e.getAllPageAnnotCount()];case 1:return t=n.sent(),[2,Promise.all(Array(e.getPageCount()).fill(null).map((function(n,i){return t[i]?e.getPageAnnots(i):[]})))]}}))}))()}},{key:"addAnnots",value:function(e){var t=this;e=e.map((function(e){var n=e.page;if(void 0===n)throw"page is required.";e.type&&(e=br(e,t.engine.getUserCommentConfig()));var i=t.engine.getDefaultAnnotConfig()(e.type,e.intent);return e.groupElements&&(e.groupElements=e.groupElements.map((function(e){e=br(e,t.engine.getUserCommentConfig());var n=t.engine.getDefaultAnnotConfig()(e.type,e.intent);return(0,W.extendOptions)({},n,e)}))),(0,W.extendOptions)({page:n},i,e)}));var n=this.getId(),i=0,r="addAnnots",o=se.progressChanged,a=e.filter((function(e){return!!e.states&&e.states.length>0})).map((function(e){return e.name}));return this.api.addAnnots(n,e,(function(e){i=e,t.engine.eventEmitter.emit(o,r,Number(i.toFixed(2)),Rx.PROGRESSING)})).then((function(e){var n=(100-i)/(e.length+1);return Promise.all(e.map((function(e){return t.getPageByIndex(e.page).then((function(s){return s.getUnloadedAnnots().then((function(t){return s.getAnnotsByIdArray(a).then((function(e){return e.flatMap((function(e){return e.getMarkedStates()})).reduce((function(e,t){return e[t.objectNumber]=t,e}),{})})).then((function(t){var n=s.annotIdMap;return e.annots.map((function(e){return n[e]||t[e]}))}))})).then((function(e){i+=n;for(var a=[],c=s.annotIdMap,u=t.engine.eventEmitter,l=0,A=e.length;l<A;l++){var d=e[l];d.getType()===Xi.text?d.isStateAnnot()?(a.length&&(u.emit(ae.Z.annotationAdd,a,s),a=[]),u.emit(1===d.info.stateMode?ae.Z.annotationMarkedStateAnnotAdded:ae.Z.annotationReviewStateAnnotAdded,d,c[d.info.IRT]),u.emit(ae.Z.annotationUpdated,[d],s,en.replyAdded)):d.isReplyAnnot()?(a.length&&(u.emit(ae.Z.annotationAdd,a,s),a=[]),u.emit(ae.Z.annotationReplyAdded,d,c[d.info.IRT]),u.emit(ae.Z.annotationUpdated,[d],s,en.markedStateUpdated)):a.push(d):a.push(d)}return a.length&&u.emit(ae.Z.annotationAdd,a,s),u.emit(o,r,Number(i.toFixed(2)),Rx.PROGRESSING),e}))}))})))})).then((function(e){t.engine.eventEmitter.emit(o,r,100,Rx.SUCCESS);var n=[];return e.forEach((function(e){n=n.concat(e)})),n})).catch((function(e){throw t.engine.eventEmitter.emit(o,r,Number(i.toFixed(2)),Rx.FAIL),e}))}},{key:"getAnnotIdMap",value:function(){for(var e=this,t=[],n={},i=0,r=this.getPageCount();i<r;i++)t.push(function(t){return e.getPageByIndex(t).then((function(e){Object.assign(n,e.annotIdMap)}))}(i));return Promise.all(t).then((function(){return n}))}},{key:"getTextSearch",value:function(e,t){return new OC(this,e,t)}},{key:"addAnnot",value:function(e,t){if(!this.checkPermission(Qt.annotForm))throw new Error("Permission error");return rE(e,this.getPageCount()),this.getPageByIndex(e).then((function(e){return e.addAnnot(t)}))}},{key:"addAnnotGroup",value:function(e,t,n){if(!this.checkPermission(Qt.annotForm))throw new Error("Permission error");return rE(e,this.getPageCount()),this.getPageByIndex(e).then((function(e){return e.addAnnotGroup(t,n)}))}},{key:"setOpenAction",value:function(e,t){var n=this;if(!this.checkPermission(Qt.modify))throw new Error("Permission error");return this.api.setDocOpenAction(this.getId(),e,t).then((function(i){return i&&n.engine.eventEmitter.emit(ae.Z.docOpenActionUpdated,n,e,t),i}))}},{key:"getOpenAction",value:function(){return this.api.getDocOpenActionData({path:"jr/doc"},this.getId())}},{key:"doOpenAction",value:function(){return this.api.doDocOpenAction({path:"jr/doc"},this.getId())}},{key:"removeOpenAction",value:function(){var e=this;return this.api.removeOpenAction({path:"jr/doc"},this.id).then((function(t){return e.engine.eventEmitter.emit(ae.Z.docOpenActionRemoved,e),t}))}},{key:"getSecurityType",value:function(){return this.api.getSecurityType(this.id)}},{key:"checkCertificatePassword",value:function(e,t){return this.api.checkCertificatePassword(this.id,e,t)}},{key:"setCertificateAndPermission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jC.AES256,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!this.checkPermission(Qt.modify))throw new Error("Permission error");return this.api.setCertificateAndPermission(this.id,e,t,n)}},{key:"setPasswordAndPermission",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4294967292,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:jC.AES256,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=arguments[5];if(!this.checkPermission(Qt.modify))throw new Error("Permission error");return this.api.setPasswordAndPermission(this.id,e,t,i,r,o).then((function(s){return(a&&(a.userPassword||a.ownerPassword)||e&&-1!=e||t&&-1!=t)&&s&&(n.setPasswordType(t||e&&!t?3:2),n.setHasOwnerPassword(!!t),n.info.oriPerm=i,n.engine.eventEmitter.emit(ae.Z.docPasswordChanged,n,{userPassword:e,ownerPassword:t,permission:i,cipherType:r,isEncryptMetadata:o})),s}))}},{key:"removeSecurity",value:function(){if(!this.checkPermission(Qt.modify))throw new Error("Permission error");var e,t=this;return this.api.removeSecurity(this.id).then((e=(0,P._)((function(e){return(0,L.Jh)(this,(function(n){return e&&(t.info.oriPerm=4294967295,t.engine.eventEmitter.emit(ae.Z.removePwdAndPerm,t)),[2,e]}))})),function(t){return e.apply(this,arguments)}))}},{key:"isCorrectPassword",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se;return this.checkPassword(e).then((function(e){return 0!==e}))}},{key:"getViewerPreference",value:function(){return this.preferencePromise||(this.preferencePromise=this.api.getViewerPreference(this.id).catch((function(){return{pageLayout:"Default",uiLayout:"Default",language:"Default",viewerPreference:{}}})))}},{key:"setViewPreference",value:function(e,t){return this.preferencePromise=null,this.api.setViewPreference(this.id,e,t)}},{key:"getViewPreference",value:function(){var e=this;return this.viewPreference?Promise.resolve(this.viewPreference):this.getViewerPreference().then((function(t){return e.viewPreference=new HD(e,t)}))}},{key:"checkPassword",value:function(e){var t=this;return this.api.checkPassword(this.id,e).then((function(e){return 3===e&&(t.info.isOwner=!0),t.engine.eventEmitter.emit(ae.Z.permissionChanged,t),e}))}},{key:"getTypeByPassword",value:function(e){var t=this;return this.api.checkPassword(this.id,e).then((function(e){return 3===e&&(t.info.isOwner=!0),e}))}},{key:"getUserPassword",value:function(e){return this.api.getUserPassword(this.id,e)}},{key:"getPasswordType",value:function(){return Promise.resolve(this.info.passwordType)}},{key:"setPasswordType",value:function(e){return this.info.passwordType=e}},{key:"isOwnerPassword",value:function(){return 3===this.info.passwordType}},{key:"hasOwnerPassword",value:function(){return!!this.info.hasOwnerPassword}},{key:"setHasOwnerPassword",value:function(e){this.info.hasOwnerPassword=!!e}},{key:"getUserPermissions",value:function(){return this.info.userPermissions}},{key:"makeRedactByPages",value:function(e){if(!this.checkPermission(Qt.annotForm))throw new Error("Permission error");for(var t=[],n=0;n<e.length;n++){var i=e[n],r=this.getPageByIndex(i).then((function(e){var t;if(!e.isVirtual())return t=1==e.info.rotation||3==e.info.rotation?{left:0,top:0,right:e.getHeight(),bottom:e.getWidth()}:{left:0,top:0,right:e.getWidth(),bottom:e.getHeight()},e.markRedactAnnot([t])}));t.push(r)}return Promise.all(t).then((function(e){return e.filter(Boolean)}))}},{key:"movePageTo",value:function(e,t){var n=this;if(!this.checkPermission(Qt.modify))throw new Error("Permission error");this.info.pageSizes={};var i=this.getPageCount();if(e<0||t<0||e>=i||t>=i)throw new Error("Param error: PageIndex or DestIndex is out of the valid range.");return this.getPageByIndex(e).then((function(i){return n.api.movePageTo(n.id,i.getId(),t).then((function(i){if(i){var r=n.pageCache[e];n.pageCache.splice(e,1),n.pageCache.splice(t,0,r);var o=Math.min(e,t),a=Math.max(e,t);n.updatePageIndex(o,a),n.engine.eventEmitter.emit(ae.Z.pageMoved,e,t)}return i}))}))}},{key:"insertBlankPages2",value:function(e,t,n){var i=this;return(0,P._)((function(){var r,o,a;return(0,L.Jh)(this,(function(s){switch(s.label){case 0:if(!i.checkPermission(Qt.assemble|Qt.modify))throw new Error("Permission error");if(i.info.pageSizes={},i.getPageCount(),"number"!=typeof t||"number"!=typeof n)throw new Error("param error. Only number is available.");return[4,i.api.insertBlankPages2(i.id,e,t,n)];case 1:return r=s.sent(),[4,i.api.getLayerNodes(i.id)];case 2:return o=s.sent(),delete i.ocgs,i.ocgs=o,a=r.reduce((function(e,t){if(!t)return!1;i.info.pageCount++;var n=new Sr(t,i),r=t.index;return i.pageCache.splice(r,0,n),i.updatePageIndex(r+1,i.info.pageCount-1),(0,M._)(e).concat([n])}),[]),i.updatePageLabelsByAction("insertPagesByRange",[r.map((function(e){return e.index}))]),i.engine.eventEmitter.emit(ae.Z.insertPages,a),[2,a]}}))}))()}},{key:"insertPage",value:function(e,t,n){var i=this;if(!this.checkPermission(Qt.assemble|Qt.modify))throw new Error("Permission error");this.info.pageSizes={};var r=this.getPageCount();if(e<0||e>r)throw new Error("Param error: PageIndex is out of the valid range.");if("number"!=typeof t||"number"!=typeof n)throw new Error("param error. Only number is available.");return this.api.insertPage(this.id,e,t,n).then((function(e){return delete i.ocgs,i.api.getLayerNodes(i.id).then((function(e){return i.ocgs=e})).then((function(t){return e}))})).then((function(e){if(!e)return!1;i.info.pageCount++;var t=new Sr(e,i);return i.pageCache.splice(e.index,0,t),i.updatePageIndex(e.index+1,i.info.pageCount-1),i.engine.eventEmitter.emit(ae.Z.pageAdded,t),t}))}},{key:"loadInsertPage",value:function(e,t){this.info.pageCount++;var n=new Sr(t,this);this.pageCache.splice(t.index,0,n),this.updatePageIndex(t.index+1,this.info.pageCount-1),this.engine.eventEmitter.emit(ae.Z.pageAdded,n)}},{key:"showNameTreePageAtTheEnd",value:function(){var e=this;return this.api.showNameTreePageAtTheEnd(this.id).then((function(t){return delete e.ocgs,e.api.getLayerNodes(e.id).then((function(t){return e.ocgs=t})).then((function(e){return t}))})).then((function(t){if(!t)return!1;e.info.pageCount++;var n=new Sr(t,e);return e.pageCache.splice(t.index,0,n),e.engine.eventEmitter.emit(ae.Z.pageAdded,n),e.engine.eventEmitter.emit(ae.Z.pagesLabelNeedUpdate,n),n}))}},{key:"removePage",value:function(e){var t=this;if(!this.checkPermission(Qt.assemble|Qt.modify))throw new Error("Permission error");this.info.pageSizes={};var n=this.getPageCount();if(e<0||e>=n)throw new Error("Param error: PageIndex is out of the valid range.");if(1==n)throw new Error("Not allowed to remove the only page.");var i=[];return this.pageCache[e]||i.push(this.getPageByIndex(e)),Promise.all(i).then((function(n){return t.api.removePage(t.id,e).then((function(n){if(n){t.info.pageCount--;var i=t.pageCache[e].info.objectNumber;t.pageCache.splice(e,1),t.updatePageIndex(e,t.info.pageCount-1),t.engine.eventEmitter.emit(ae.Z.pageRemoved,e,i,t),t.removePageStatus=!0}return n}))}))}},{key:"cleanupRemovedPages",value:function(e,t){this.info.pageSizes={},this.info.pageCount-=t-e+1;for(var n=[],i=e;i<=t;i++){var r=this.pageCache[i];if(r){var o=r.info.objectNumber;n.push(o)}else n.push(void 0)}var a=t-e+1;this.pageCache.splice(e,a),this.updatePageIndex(e,this.info.pageCount-a),this.engine.eventEmitter.emit(ae.Z.pagesRemoved,e===t?[[e]]:[[e,t+1]],n,this)}},{key:"hideNameTreePage",value:function(e,t){var n=this;return this.api.hideNameTreePage(this.id,e).then((function(t){if(t){var i=e;e<0&&(i=n.info.pageCount-1),n.info.pageCount--;var r=n.pageCache[i]&&n.pageCache[i].info.objectNumber,o=n.pageCache[i];n.pageCache.splice(e,1),n.updatePageIndex(e,n.info.pageCount-1),n.engine.eventEmitter.emit(ae.Z.pageRemoved,i,r,n),n.engine.eventEmitter.emit(ae.Z.pagesLabelNeedUpdate),n.removePageStatus=!0,o&&o.destroy()}return t}))}},{key:"updatePageIndex",value:function(e,t){for(var n=e;n<=t;n++)this.pageCache[n]&&(this.pageCache[n].info.index=n);this.pageCache.forEach((function(e){e&&e.annots.forEach((function(e){"link"!=e.info.type&&"screen"!=e.info.type||e._update(1)}))}))}},{key:"applyRedaction",value:function(){var e=this;if(!this.checkPermission(Qt.annotForm)||!this.checkPermission(Qt.modify))throw new Error("Permission error");return this.registerProgressFlow("applyRedaction"),this.api.applyRedaction(this.id).then((function(t){var n=function(n){var r=t[n],o=e.getPageByIndex(r.pageIndex).then((function(t){var n=t.clearAnnotIds(r.removedAnnotIds).filter((function(e){return e}));return e.engine.eventEmitter.emit(ae.Z.annotationRemoved,n,t),{pageIndex:r.pageIndex,removedAnnots:r.removedAnnotIds}}));i.push(o)};if(!t)return!1;for(var i=[],r=0;r<t.length;r++)n(r);return Promise.all(i).then((function(t){return e.engine.eventEmitter.emit(ae.Z.applyRedaction,t),t}))}))}},{key:"drmEncrypt",value:function(e){var t=this;if(!this.checkPermission(Qt.modify))throw new Error("Permission error");return this.api.drmEncrypt(this.getId(),e).then((function(e){return t.info=Object.assign(t.info,e),t.engine.eventEmitter.emit(ae.Z.drmEncryptSuccess,t),t}),(function(e){return t.engine.eventEmitter.emit(ae.Z.drmEncryptFailed,e,t),Promise.reject(e)}))}},{key:"getTemplates",value:function(){var e=this;if(this.isDestroyed)return Promise.resolve();this.api.getTemplates(this.id).then((function(t){t&&(e.visibleTemplates=t.visibleArr,e.invisibleTemplates=t.invisibleArr)}))}},{key:"hideTemplate",value:function(e,t){var n=this,i=this;if(!t)return this.api.hideTemplate(this.id,e,t).then((function(){i.visibleTemplates.push(e);for(var t=-1,n=0;n<i.invisibleTemplates.length;n++){var r=i.invisibleTemplates[n];if(r.name===e.name&&r.objNum===e.objNum){t=n;break}}i.invisibleTemplates.splice(t,1)}));for(var r=this,o=function(o){r.getPageByIndex(o).then((function(r){r.info.objectNumber===e.objNum&&i.removePage(o).then((function(){return i.api.hideTemplate(n.id,e,t).then((function(){i.invisibleTemplates=i.invisibleTemplates.push(e);for(var t=-1,n=0;n<i.visibleTemplates.length;n++){var r=i.visibleTemplates[n];if(r.name===e.name&&r.objNum===e.objNum){t=n;break}}i.visibleTemplates.splice(t,1)}))}))}))},a=this.getPageCount(),s=0;s<a;s++)o(s)}},{key:"spawnPage",value:function(e,t,n,i){var r=this,o=this.spawnPageExecutor.insert((function(){return r.api.spawnPage(r.id,e,t,n,i).then((function(e){return delete r.ocgs,r.api.getLayerNodes(r.id).then((function(e){return r.ocgs=e})).then((function(t){return e}))})).then((function(e){if(!e)return!1;r.info.pageCount++;var t=new Sr(e,r);return r.pageCache.splice(e.index,0,t),r.updatePageIndex(e.index+1,r.info.pageCount-1),t})).then((function(e){return!!e&&(r.engine.eventEmitter.emit(se.spawnPageSuccess),e)}))}));return this.spawnPageExecutor.execInverse((function(){return o.then((function(e){var t=(0,R._)(e,1)[0];if(!t)return!1;r.engine.eventEmitter.emit(ae.Z.pageAdded,t)}))})),o.then((function(e){return(0,R._)(e,1)[0]}))}},{key:"removeTemplate",value:function(e){var t=this;return this.api.removeTemplate(this.id,e).then((function(n){for(var i=-1,r=0;r<t.invisibleTemplates.length;r++){if(t.invisibleTemplates[r].name===e){i=r;break}}t.invisibleTemplates.splice(i,1),i=-1;for(var o=0;o<t.visibleTemplates.length;o++){if(t.visibleTemplates[o].name===e){i=o;break}}return t.visibleTemplates.splice(i,1),Promise.resolve()}))}},{key:"getPageSizes",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getPageCount()-t;return t<0&&(t=0),t+n>this.getPageCount()&&(n=this.getPageCount()-t),this.api.getPageSizes(this.id,t,n).then((function(t){return Object.assign(e.info.pageSizes,t),t}))}},{key:"getPageSizesByIndex",value:function(e){return this.api.getPageSizes(this.id,e,1).then((function(e){return e}))}},{key:"getPageSize",value:function(e){var t=this.pageCache[e];if(t)return{width:t.getWidth(),height:t.getHeight()};var n=this.info.pageSizes;return n[e]?Object.assign({},n[e]):void 0}},{key:"getEstimatedPageSize",value:function(e){var t=this.info.pageSizes,n=Object.keys(t);if(n.length>0)return Object.assign({},t[n.pop()])}},{key:"getPageSizesSync",value:function(){var e=this;return 0==Object.keys(this.info.pageSizes).length&&this.pageCache.forEach((function(t,n){t&&(e.info.pageSizes[n]={width:t.getWidth(),height:t.getHeight()})})),this.info.pageSizes}},{key:"isPageSameSize",value:function(){var e=this.getPageSizesSync(),t=new Set(Object.values(e).map((function(e){return e.width})));return this.pageSameSize=1==t.size}},{key:"updatePageSize",value:function(e,t,n){var i=this.info.pageSizes;i[e]&&(i[e].width=t,i[e].height=n)}},{key:"insertPages",value:function(e){var t=this,n=e.destIndex,i=e.file,r=e.password,o=void 0===r?"":r,a=e.flags,s=void 0===a?0:a,c=e.layerName,u=void 0===c?"":c,l=e.startIndex,A=e.endIndex;if(!this.checkPermission(Qt.assemble|Qt.modify))throw new Error("Permission error");var d=this.getPageCount();if(n<0||n>d)throw new Error("Param error: Index is out of the valid range.");if(1==s&&!u)throw new Error("Param error: If parameter flags is 1, parameter layerName should not be empty");return this.api.startImportPages(this.id,n,i,o,s,u,l,A).then((function(e){return delete t.ocgs,t.api.getLayerNodes(t.id).then((function(e){return t.ocgs=e})).then((function(t){return e}))})).then((function(e){var i;t.info.pageSizes={},t.info.pageCount+=e.length;var r=[];return e.forEach((function(e){var n=new Sr(e,t);r.push(n)})),(i=t.pageCache).splice.apply(i,[n,0].concat((0,M._)(r))),t.updatePageIndex(n,t.info.pageCount-1),t.updatePageLabelsByAction("insertPages",[n,e.length]),t.engine.eventEmitter.emit(ae.Z.importPages,r),r}))}},{key:"mergePDFDoc",value:function(e){var t=e||{},n=t.insertIndex,i=t.doc,r=t.pages;if(!i)return Promise.reject(new Error("Missing required option: doc"));var o=this.getPageCount();"number"!=typeof n&&(n=o),n=Math.max(0,Math.min(o,n)),Array.isArray(r)?r.sort((function(e,t){return e>t?1:-1})):r=Array(i.getPageCount()).fill(0).map((function(e,t){return t}));var a=i.getPageCount();for(var s in r){var c=r[s];if(c<0||c>=a)return Promise.reject(new Error("Incorrect page index: ".concat(c,", it must be greater than or equal to 0 or less then total page count ").concat(a)))}return this.importPagesFromPDFDocs({destIndex:n,srcDocs:[{srcDocId:i.getId(),srcPages:r}],layerName:e.layerName})}},{key:"importPagesFromPDFDocs",value:function(e){var t=e.destIndex,n=e.srcDocs,i=void 0===n?[]:n,r=e.layerName,o=void 0===r?"":r,a=this;return(0,P._)((function(){var e,n,r,s,c,u;return(0,L.Jh)(this,(function(l){switch(l.label){case 0:if(!a.checkPermission(Qt.assemble|Qt.modify))throw new Error("Permission error");if(n=a.getPageCount(),t<0||t>n)throw new Error("Param error: Index is out of the valid range.");return[4,a.api.importPagesFromPDFDocs(a.id,t,i,o)];case 1:return r=l.sent(),s=r.pagesJson,c=r.errs,0===s.length?[2,{pages:[],errs:c}]:(delete a.ocgs,[4,a.api.getLayerNodes(a.id)]);case 2:return a.ocgs=l.sent(),a.info.pageSizes={},a.info.pageCount+=s.length,u=s.map((function(e){return new Sr(e,a)})),(e=a.pageCache).splice.apply(e,[t,0].concat((0,M._)(u))),a.updatePageIndex(t,a.info.pageCount-1),a.updatePageLabelsByAction("insertPages",[t,s.length]),a.engine.eventEmitter.emit(ae.Z.importPages,u),[2,{pages:u,errs:c}]}}))}))()}},{key:"exportPagesToPDFDocs",value:function(e){var t=e.srcPages,n=e.destDocs,i=void 0===n?[]:n,r=e.layerName,o=void 0===r?"":r,a=e.bookmarkTitle,s=void 0===a?"":a,c=this;return(0,P._)((function(){var e;return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[4,c.api.exportPagesToPDFDocs(c.id,t,i.map((function(e){var t=e.destDoc,n=e.destIndex;return{destDocId:t.getId(),destIndex:n}})),o,s)];case 1:return e=n.sent(),[4,Promise.all(e.map((r=(0,P._)((function(e){var t,n,i,r;return(0,L.Jh)(this,(function(o){switch(o.label){case 0:return t=e.docId,n=e.name,i={},t?[4,c.engine.getPDFDocByCacheId(t)]:[3,2];case 1:return r=o.sent(),[3,3];case 2:r=null,o.label=3;case 3:return[2,(i.doc=r,i.name=n,i)]}}))})),function(e){return r.apply(this,arguments)})))];case 2:return[2,n.sent()]}var r}))}))()}},{key:"getPDFDocById",value:function(e){return this.engine.getPDFDocByCacheId(e)}},{key:"extractPages",value:function(e){if(!this.checkPermission(Qt.extract))throw new Error("Permission error");var t=[],n=this.getPageCount();if((0,T._)(!e,Array))throw new Error("Param error. Only array is available.");if(0===e.length)throw new Error("Param error. Non-valid array.");return e.forEach((function(e){if((0,T._)(!e,Array))throw new Error("Param error. Only array is available.");if(0===e.length||e.length>2)throw new Error("Param error. Non-valid array.");if(isNaN(e[0])||e[0]<0||e[0]>=n)throw new Error("Param error: Index is out of the valid range.");if(e[1]&&(isNaN(e[1])||e[1]<0||e[1]>=n))throw new Error("Param error: Index is out of the valid range.")})),this.api.extractPages(this.id,e,(function(e){var n=e.arrayBuffer;t.push(n)}),undefined,undefined).then((function(e){return t}))}},{key:"copyPages",value:function(e,t){var n=this.getPageCount();if(!(0,W.isInteger)(t)||t>n)throw new Error("Param error: ToPageIndex is out of the valid range.");if(!Array.isArray(e))throw new Error("Param error. Only array is available.");if(0===e.length)throw new Error("Param error. Non-valid array.");return e.forEach((function(e){if(!Array.isArray(e))throw new Error("Param error. Only array is available.");if(0===e.length||e.length>2)throw new Error("Param error. Non-valid array.");if(!(0,W.isInteger)(e[0])||e[0]<0||e[0]>=n)throw new Error("Param error: Index is out of the valid range.");if(e[1]&&(!(0,W.isInteger)(e[1])||e[1]<=e[0]||e[1]>=n))throw new Error("Param error: Index is out of the valid range.")})),this.api.copyPages(this.id,e,t).then(this._importPagesAndUpdate.bind(this,t))}},{key:"_importPagesAndUpdate",value:function(e,t){var n=this;return(0,P._)((function(){var i,r;return(0,L.Jh)(this,(function(o){return n.info.pageSizes={},n.info.pageCount+=t.length,r=[],t.forEach((function(e){var t=new Sr(e,n);r.push(t)})),(i=n.pageCache).splice.apply(i,[e,0].concat((0,M._)(r))),n.updatePageIndex(e,n.info.pageCount-1),n.updatePageLabelsByAction("insertPages",[e,t.length]),n.engine.eventEmitter.emit(ae.Z.importPages,r),[2,r]}))}))()}},{key:"saveCopyPagesData",value:function(e){return this.api.saveCopyPagesData(this.id,e)}},{key:"pastePages",value:function(e){return this.api.pastePages(this.id,e).then(this._importPagesAndUpdate.bind(this,e))}},{key:"embedAllPageThumbnail",value:function(e){var t=this,n=function(i){e(i),(1===i||-1===i)&&t.api.workerPromise.off("embeddingProgress",n)};return this.api.workerPromise.on("embeddingProgress",n),this.api.embedAllPageThumbnail(this.id).then((function(e){e&&t.engine.eventEmitter.emit(ae.Z.docModified,t)}))}},{key:"removeEmbeddedPageThumbnail",value:function(e){var t=this,n=function(i){e(i),1!==i&&-1!==i||t.api.workerPromise.off("removingProgress",n)};return this.api.workerPromise.on("removingProgress",n),this.api.removeEmbeddedPageThumbnail(this.id).then((function(e){e&&(t.engine.eventEmitter.emit(ae.Z.removeEmbeddedPageThumbnail),t.removePageStatus=!0)}))}},{key:"cancelEmbedAllPageThumbnail",value:function(){return this.api.cancelEmbedAllPageThumbnail(this.id)}},{key:"cancelRemoveEmbeddedPageThumbnail",value:function(){return this.api.cancelRemoveEmbeddedPageThumbnail(this.id)}},{key:"setPagesBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.indexes,n=e.width,i=e.height,r=e.offsetX,o=e.offsetY,a=e.boxes,s=e.removeWhiteMargin;if(!Array.isArray(t))return Promise.reject(new Error("Missing require parameter or incorrect type: 'indexes'"));var c=this.getPageCount();for(var u in t){var l=t[u];if(!(0,W.isNumberInRange)(l,0,c,!0,!1))return Promise.reject(new Error("Incorrect page index: ".concat(l,", it must be in the range of 0 to ").concat(c-1,". indexes: [").concat(t.join(","),"]")))}return this.setAllBoxesByIndexes(t,n,i,r,o,a||{},s)}},{key:"getAllBoxesByPageIndex",value:function(e){var t=this.getPageCount();if(!(0,W.isNumberInRange)(e,0,t,!0,!1))return Promise.reject(new Error("Incorrect page index: ".concat(e,", it must be in the range of 0 to ").concat(t-1)));if(0!=this.info.fileType)throw new Error("Permission error");if(!this.checkPermission(Qt.modify))throw new Error("Permission error");return this.api.getAllBoxes(this.id,e).then((function(e){return e}))}},{key:"setAllBoxesByIndexes",value:function(e,t,n,i,r,o,a){var s=this;if(0!=this.info.fileType)throw new Error("Permission error");if(!this.checkPermission(Qt.modify))throw new Error("Permission error");return this.api.setAllBoxesByIndexes(this.id,e,t,n,i,r,o,a).then((function(e){var t=[];return e.forEach((function(e){var n=e.index;s.updatePageSize(n,e.width,e.height);var i=s.pageCache,r=i[n];r?r._updateInfo(e):r=new Sr(e,s),i[n]=r,t.push(r)})),s.engine.eventEmitter.emit(ae.Z.pagesBoxChange,t),t}))}},{key:"getPageFormat",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;if("batesNumbering"!==e&&!this.checkPermission(Qt.modify))throw new Error("Permission error");return this.api.getPageFormat(this.id,e,t,n,i,r,o).then((function(e){return e}))}},{key:"getPageFormatThumb",value:function(e,t,n,i,r,o,a){if(!this.checkPermission(Qt.modify))throw new Error("Permission error");return this.api.getPageFormatThumb(this.id,e,t,n,i,r,o,a).then((function(e){return e}))}},{key:"addPageFormat",value:function(e,t,n){var i=this;if(!this.checkPermission(Qt.modify))throw new Error("Permission error");return this.api.addPageFormat(this.id,e,t,n).then((function(t){if(t>0&&"watermark"==e){var n=[],r=!0,o=!1,a=void 0;try{for(var s,c=i.pageCache[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var u=s.value;if(u){var l=u.getAnnots(!0);n.push(l)}}}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return Promise.all(n).then((function(){return i.setDocModified(),t}))}return i.setDocModified(),t}))}},{key:"removeAllPageFormat",value:function(e){var t=this;if(!this.checkPermission(Qt.modify))throw new Error("Permission error");return this.api.removeAllPageFormat(this.id,e).then((function(n){if(n>0&&"watermark"==e){var i=[],r=!0,o=!1,a=void 0;try{for(var s,c=t.pageCache[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var u=s.value;if(u){var l=u.getAnnots(!0);i.push(l)}}}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return Promise.all(i).then((function(){return t.setDocModified(),n}))}return n>0&&t.setDocModified(),n}))}},{key:"extractPrintPages",value:function(e){return this.api.extractPrintPages(this.id,e).then((function(e){return e}))}},{key:"getHeaderFooter",value:function(){var e=this;return this.HF?Promise.resolve(this.HF):this.getPageFormat("headerfooter").then((function(t){if(t.res>0){var n=vr(t.old,e.getPageCount());return e.HF=new BC(n)}return null}))}},{key:"updateHeaderFooter",value:function(e){var t=this;if(!this.checkPermission(Qt.modify))throw new Error("Permission error");var n=pr(e,0,this.getPageCount());return this.getPageFormat("headerfooter").then((function(i){var r=!1;return i.res>0&&(r=!0),t.addPageFormat("headerfooter",n,r).then((function(i){if(i>0){var r=vr(n,t.getPageCount());return t.HF?t.HF.json=r:t.HF=new BC(r),e.json=r,t.engine.eventEmitter.emit(ae.Z.headerFooterUpdated,e.range),t.engine.eventEmitter.emit(ae.Z.docModified,t),r}return i}))}))}},{key:"addHeaderFooter",value:function(e){var t=this;if(e.isEmpty())return Promise.resolve();if(!this.checkPermission(Qt.modify))throw new Error("Permission error");var n=pr(e,0,this.getPageCount());return this.getPageFormat("headerfooter").then((function(i){return t.addPageFormat("headerfooter",n).then((function(i){if(i>0){var r=vr(n,t.getPageCount());return t.HF?t.HF.json=r:t.HF=new BC(r),e.json=r,t.engine.eventEmitter.emit(ae.Z.headerFooterAdded,e.range),t.engine.eventEmitter.emit(ae.Z.docModified,t),r}return i}))}))}},{key:"removeHeaderFooter",value:function(){var e=this;if(!this.checkPermission(Qt.modify))throw new Error("Permission error");return delete this.HF,this.getPageFormat("headerfooter").then((function(t){return e.removeAllPageFormat("headerfooter").then((function(t){return e.engine.eventEmitter.emit(ae.Z.headerFooterUpdated),e.engine.eventEmitter.emit(ae.Z.docModified),t}))}))}},{key:"addWatermark",value:function(e){var t=this,n=0,i="addWatermark",r=se.progressChanged,o=e.type,a=e.text;if("text"!==o&&"bitmap"!==o)throw new Error("Param error:Type error");if("text"===o&&sn(a))throw new Error("Param error:Strings that are all space characters are invalid");if(e.useRelativeScale&&e.isMultiline)throw new Error("Param error: UseRelativeScale and isMultiline cannot be set to true at the same time");if(e.pageStart<0||e.pageStart>=this.getPageCount()||e.pageEnd<0||e.pageEnd>=this.getPageCount()||e.pageStart>e.pageEnd)throw new Error("Param error: Invalid pageStart or pageEnd");if(!this.checkPermission(Qt.modify))throw new Error("Permission error");this.engine.eventEmitter.emit(r,i,n,Rx.PROGRESSING);var s=gr(e,0,e.pageStart,e.pageEnd,this.getPageCount());return this.getPageFormat("watermark").then((function(o){return t.engine.eventEmitter.emit(r,i,n+=30,Rx.PROGRESSING),t.addPageFormat("watermark",s).then((function(o){if(t.engine.eventEmitter.emit(r,i,n+=30,Rx.PROGRESSING),o>0){var a=e.pageStart,c=e.pageEnd;return t.engine.eventEmitter.emit(ae.Z.watermarksAdded,a,c,s.isKeep),t.engine.eventEmitter.emit(r,i,100,Rx.SUCCESS),o}return t.engine.eventEmitter.emit(r,i,n,Rx.FAIL),o}))})).catch((function(e){throw t.engine.eventEmitter.emit(r,i,n,Rx.FAIL),e}))}},{key:"removeAllWatermarks",value:function(){var e=this;return this.removeAllPageFormat("watermark").then((function(t){return t>0&&e.engine.eventEmitter.emit(ae.Z.watermarkRemoved),t>=0}))}},{key:"removeSignature",value:function(e){if(!(this.checkPermission(Qt.annotForm)&&this.checkPermission(Qt.fillForm)&&this.checkPermission(Qt.modify)))throw new Error("Permission error");if(!e)throw new Error("Invalid param fieldName: ".concat(e,"."));var t=this;return(this.form?Promise.resolve():this.loadPDFForm()).then((0,P._)((function(){var n,i,r,o;return(0,L.Jh)(this,(function(a){switch(a.label){case 0:return[4,t.form.getField(e)];case 1:if(!(n=a.sent()))throw new Error("Can not find field.");if(!(0,T._)(n,FC))throw new Error("Unsupported field type: ".concat(pdfField.getType(),"."));return[4,n.getSignatureType()];case 2:return a.sent()!==wr.SignatureType.PagingSeal?[3,5]:[4,n.getWidget(0)];case 3:return i=a.sent(),[4,t.removePagingSealSignature({pagingSigObjNum:i.getId()})];case 4:return a.sent(),[2,!0];case 5:return[4,n.getWidgetsCount()];case 6:r=a.sent(),o=0,a.label=7;case 7:return o<r?[4,n.getWidget(o)]:[3,11];case 8:return[4,a.sent().remove()];case 9:a.sent(),a.label=10;case 10:return o++,[3,7];case 11:return[2,!0];case 12:return[2]}}))})))}},{key:"sign",value:function(e,t){var n,i=this,r=arguments,o=0,a="sign",s=se.progressChanged;try{if(this.engine.eventEmitter.emit(s,a,o,Rx.PROGRESSING),!this.checkPermission(Qt.annotForm)&&!this.checkPermission(Qt.fillForm))throw new Error("Permission error");var c=Promise.resolve();if(!e.fieldName&&void 0===e.pageIndex&&e.pagingSigConfig&&(c=c.then((function(){return uE(e.pagingSigConfig,i).then((function(){return lE(e.pagingSigConfig).then((function(t){e.pagingSigConfig=t}))}))}))),e.defaultContentsLength||(e.defaultContentsLength=7942),e.defaultContentsLength<4098)throw new Error("The default length of signature contents should not be less than 4098, in bytes");var u=e.rect;if(u&&!e.noCheckRect){var l=u.left,A=u.right,d=u.top,h=u.bottom;if(A<=l||d<=h)throw new Error("Signature rect error.")}if(!(e.filter&&e.subfilter||"string"==typeof e.shareVDictType))throw new Error("Filter and Subfilter can't be null.");e.timeFormat=Object.assign({},{format:"YYYY.MM.DD HH:mm:ss Z",timeZoneOptions:{separator:"'"}},e.timeFormat);var f=e.image;if(void 0!==f&&(e.inkSign=f,delete e.image),!this.isDynamicXFA()){var p=this;c=c.then((n=(0,P._)((function(t){var n,i,r,c,u;return(0,L.Jh)(this,(function(t){switch(t.label){case 0:if(Array.isArray(e.pageIndex)&&Array.isArray(e.rect)){if(0===e.pageIndex.length||0===e.rect.length)throw new Error("pageIndex and rect should not be empty array.");if(e.pageIndex.length!==e.rect.length)throw new Error("pageIndex and rect should have the same length.");if(1!==e.pageIndex.length)return n=e.pageIndex.map((function(t,n){return{pageIndex:t,rect:e.rect[n]}})),[2,p.form.addSignatureBatch(n,e.shareVDictType).then((function(t){return p.engine.eventEmitter.emit(s,a,o+=20,Rx.PROGRESSING),delete e.pageIndex,delete e.rect,delete e.fieldName,e.fieldNames=t.map((function(e){return e.getName()})),new Promise((function(e){return setTimeout((function(){e()}),50)}))}))];e.pageIndex=e.pageIndex[0],e.rect=e.rect[0]}return(i=e.fieldName)?[4,p.form.getField(e.fieldName)]:[3,2];case 1:if(!(r=t.sent())||r.getType()!=pn.Sign)throw new Error("Field type error: not a signature.");return[3,3];case 2:if(void 0!==(c=e.pageIndex)&&void 0!==e.rect)return rE(c,p.getPageCount()),u=(e.rotation||0)/90%4,[2,p.widgetCreator.createSignature({pageIndex:e.pageIndex,pdfRect:e.rect,fieldName:i,rotate:u}).then((function(t){var n=t.getField();return p.engine.eventEmitter.emit(s,a,o+=20,Rx.PROGRESSING),delete e.pageIndex,delete e.rect,e.fieldName=n.getName(),new Promise((function(e){return setTimeout((function(){e()}),50)}))}))];t.label=3;case 3:return[2]}}))})),function(e){return n.apply(this,arguments)}))}return c.then((function(t){return i.api.signDoc(i.id,e,r[2])})).then((function(t){return i.engine.eventEmitter.emit(s,a,o+=20,Rx.PROGRESSING),"pageIndex"in e?i.getPageByIndex(e.pageIndex).then((function(e){return Promise.all([e,e.getUnloadedAnnots()])})).then((function(e){var t=(0,R._)(e,2),n=t[0],r=t[1];i.engine.eventEmitter.emit(ae.Z.annotationAdd,r,n)})).then((function(e){return t})):t})).then((function(n){if(i.engine.eventEmitter.emit(s,a,o+=20,Rx.PROGRESSING),e.native)return[n];if(0===e.shareVDictType)return[];for(var r=[],c=0,u=0;u<n.byteRange.length;u+=2){var l=n.byteRange[u],A=n.byteRange[u+1];c||(c=l+A+1);var d=n.buffer.slice(l,l+A);r.push(d)}var h=new Blob(r);return Promise.all([n,t(e,h),c])})).then((function(t){var n=(0,R._)(t,3),r=n[0],o=n[1],c=n[2];if(e.native)return i.engine.eventEmitter.emit(s,a,100,Rx.SUCCESS),r;if(0!==e.shareVDictType){if(o.byteLength>e.defaultContentsLength)throw new Error("Signed data is larger than the default length, in bytes");var u=new Uint8Array(o).reduce((function(e,t){return e.push(ZD[(240&t)>>>4]),e.push(ZD[15&t]),e}),[]);return i.engine.eventEmitter.emit(s,a,100,Rx.SUCCESS),new Blob([r.buffer.slice(0,c),new Uint8Array(u),r.buffer.slice(c+u.length)],{type:"application/pdf"})}i.engine.eventEmitter.emit(s,a,100,Rx.SUCCESS)})).catch((function(e){throw i.engine.eventEmitter.emit(s,a,o,Rx.FAIL),e}))}catch(e){throw this.engine.eventEmitter.emit(s,a,o,Rx.FAIL),e}}},{key:"signForESignCN",value:function(e,t){if(!this.checkPermission(Qt.annotForm)&&!this.checkPermission(Qt.fillForm))throw new Error("Permission error");return this.esignCNAPI.sign({signInfo:e,digestSignHandler:t})}},{key:"isESignCNSignature",value:function(e,t){return this.api.isESignCNSignature(this.id,e,t)}},{key:"addPagingSealSignature",value:function(e){var t=this;this.engine.eventEmitter.emit(se.progressChanged,"addPagingSealSignature",0,Rx.PROGRESSING);var n=(e||{}).pagingSigConfig;return uE(n,this).then((function(){return lE(n)})).then((function(e){return t.engine.eventEmitter.emit(se.progressChanged,"addPagingSealSignature",20,Rx.PROGRESSING),t.api.addPagingSealSignature(t.id,{pagingSigConfig:e})})).then((function(e){if(e&&e.pagingSigObjNum){t.engine.eventEmitter.emit(se.progressChanged,"addPagingSealSignature",40,Rx.PROGRESSING);var i=e.pagingSigObjNum,r=e.addedObjNums;return Promise.resolve().then((function(){t.engine.eventEmitter.emit(se.progressChanged,"addPagingSealSignature",60,Rx.PROGRESSING);var e=[],o=!0,a=!1,s=void 0;try{for(var c,u=function(){var i=c.value;if(!i)return"continue";var o=i.getIndex();if(o+1<n.pageRange[0]||o+1>n.pageRange[1])return"continue";var a=i.getUnloadedAnnots().then((function(e){var n=e.filter((function(e){return r.includes(e.getId())}));t.engine.eventEmitter.emit(ae.Z.annotationAdded,n,i)}));e.push(a)},l=t.pageCache[Symbol.iterator]();!(o=(c=l.next()).done);o=!0)u()}catch(e){a=!0,s=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw s}}return t.engine.eventEmitter.emit(se.progressChanged,"addPagingSealSignature",80,Rx.PROGRESSING),Promise.all(e).then((function(){return t.engine.eventEmitter.emit(se.progressChanged,"addPagingSealSignature",100,Rx.SUCCESS),i}))}))}t.engine.eventEmitter.emit(se.progressChanged,"addPagingSealSignature",40,Rx.FAIL)})).catch((function(e){throw t.engine.eventEmitter.emit(se.progressChanged,"addPagingSealSignature",100,Rx.FAIL),e}))}},{key:"updatePagingSealSignature",value:function(e){var t=this,n=e||{},i=n.pagingSigConfig,r=n.pagingSigObjNum;return uE(i,this).then((function(){if(!r)throw new Error("Invalid param pagingSigObjNum: ".concat(r,"."));return t.getAllPagingSealSignatures(r).then((function(e){if(!e.length)throw new Error("Can not find param pagingSigObjNum: ".concat(r," associated paging seal signature in current document."))}))})).then((function(){return lE(i)})).then((function(e){return t.api.updatePagingSealSignature(t.id,{pagingSigConfig:e,pagingSigObjNum:r})})).then((function(e){if(e&&e.pagingSigObjNum){var n=e.pagingSigObjNum,i=e.removedObjNums,r=e.addedObjNums,o=[],a=!0,s=!1,c=void 0;try{for(var u,l=function(){var e=u.value;if(!e)return"continue";var n=e.getAnnots().then((function(n){var r=n.filter((function(e){return i.includes(e.getId())}));r.length&&t.engine.eventEmitter.emit(ae.Z.annotationRemoved,r,e)}));o.push(n);var a=e.getAnnots(!0).then((function(n){var i=n.filter((function(e){return r.includes(e.getId())}));i.length&&t.engine.eventEmitter.emit(ae.Z.annotationAdded,i,e)}));o.push(a)},A=t.pageCache[Symbol.iterator]();!(a=(u=A.next()).done);a=!0)l()}catch(e){s=!0,c=e}finally{try{a||null==A.return||A.return()}finally{if(s)throw c}}return Promise.all(o).then((function(){return n}))}}))}},{key:"getAllPagingSealSignatures",value:function(e){return this.api.getAllPagingSealSignatures(this.id,e)}},{key:"removePagingSealSignature",value:function(e){var t=this;if(!(this.checkPermission(Qt.annotForm)&&this.checkPermission(Qt.fillForm)&&this.checkPermission(Qt.modify)))throw new Error("Permission error");var n=(e||{}).pagingSigObjNum;if(!n)throw new Error("Invalid param pagingSigObjNum: ".concat(n,"."));return this.getAllPagingSealSignatures(n).then((function(e){if(!e.length)throw new Error("Can not find param pagingSigObjNum: ".concat(n," associated paging seal signature in current document."))})).then((function(){return t.api.removePagingSealSignature(t.id,{pagingSigObjNum:n})})).then((function(e){if(e&&e.removedObjNums){var n=e.removedObjNums,i=[],r=!0,o=!1,a=void 0;try{for(var s,c=function(){var e=s.value;if(!e)return"continue";var r=e.getAnnots().then((function(i){var r=i.filter((function(e){return n.includes(e.getId())}));return r.length&&t.engine.eventEmitter.emit(ae.Z.annotationRemoved,r,e),e.getAnnots(!0)}));i.push(r)},u=t.pageCache[Symbol.iterator]();!(r=(s=u.next()).done);r=!0)c()}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return Promise.all(i).then((function(){}))}}))}},{key:"getAllPagingSigsInfo",value:function(e){return this.api.getAllPagingSigsInfo(this.id,e)}},{key:"getOriginalStream",value:function(){return this.api.getOriginalStream(this.id)}},{key:"verifySignature",value:function(e,t){return this.api.getOriginalStream(this.id).then((function(e){return(0,T._)(e,Blob)?new Promise((function(t,n){var i=new FileReader;i.onloadend=function(e){t(i.result)},i.readAsArrayBuffer(e)})):Promise.resolve(e)})).then((n=(0,P._)((function(n){var i,r,o,a,s,c,u,l,A,d,h,f,p;return(0,L.Jh)(this,(function(v){switch(v.label){case 0:return[4,e.getByteRange()];case 1:if(4!=(i=v.sent()).length)return[2,Promise.resolve(64)];for(r=new Uint8Array(n),o=new Uint8Array(i[1]+i[3]),a=0,s=0;s<i.length;s+=2)c=i[s],u=i[s+1],o.set(r.slice(c,c+u),a),a+=u;for(l=i[2]-i[1]-2,A=i[0]+i[1]+1,d=[],h=A;h<A+l;h+=2)f=parseInt(String.fromCharCode(r[h]),16)<<4,p=parseInt(String.fromCharCode(r[h+1]),16),d.push(f+p);return[2,t(e,o,new Uint8Array(d),r.byteLength>i[2]+i[3])]}}))})),function(e){return n.apply(this,arguments)})).then((function(e){return+e}));var n}},{key:"attachFile",value:function(e){if(!this.checkPermission(Qt.modify))throw new Error("Permission error");return this.api.attachFile(this.id,e).then((function(e){return e}))}},{key:"getFontsInfo",value:function(){return this.api.getFontsInfo(this.id)}},{key:"getLayerNodeByIdBAK",value:function(e){var t=(e=e.toString()).split("-");try{for(var n=this.ocgs,i=0;i<t.length;i++)n=n.children[t[i]];return n}catch(e){return null}}},{key:"getLayerNodeById",value:function(e){if(!e&&0!==e)return"";var t,n=function(i){if(i&&i.id===e+"")t=i;else if(i.children&&i.children.length>0)for(var r=0;r<i.children.length&&!t;r++){var o=i.children[r];n(o)}};return n(this.ocgs),t}},{key:"getAdditionalAction",value:function(){if(0===arguments.length){var e=this;return new $e.AdditionalAction({type:"doc"},this.additionalActionAPI,(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];switch(t){case"add":var o;(o=e.engine.eventEmitter).emit.apply(o,[ae.Z.docAdditionalActionAdded,e].concat((0,M._)(i)));break;case"set":case"update":var a;(a=e.engine.eventEmitter).emit.apply(a,[ae.Z.docAdditionalActionUpdated,e].concat((0,M._)(i)));break;case"remove":var s;(s=e.engine.eventEmitter).emit.apply(s,[ae.Z.docAdditionalActionRemoved,e].concat((0,M._)(i)))}}),(function(){return(0,M._)($e.DocActionTriggerEventsArray)}))}var t=arguments[0];return this.AdditionalActions[t]}},{key:"triggerAdditionalAction",value:function(e){return this.getAdditionalAction().triggerAction(e)}},{key:"loadAdditionalActions",value:function(){var e=this;return this.api.getDocAdditionalActions(this.id).then((function(t){for(var n in e.AdditionalActions={},t)e.AdditionalActions[n]=oD.createAction(t[n],e,e.api,e.engine.eventEmitter,e);return e.AdditionalActions}))}},{key:"hasArticle",value:function(){return this.info.hasArticle}},{key:"getPdfArticle",value:function(){return this.pdfArticle||(this.pdfArticle=new _D(this.engine,this)),this.pdfArticle}},{key:"getStructureRoles",value:function(){var e=this.getId();return this.api.getStructureRoles(e)}},{key:"resetEngineInstance",value:function(e){var t=this,n=(this.engine,this.parameters),i={range:{docId:this.id},headers:{}};n.idJWT&&(i.headers.jwt=n.idJWT),n.password&&(i.headers["x-auth-doc"]=btoa(n.password));var r,o,a=this.api,s=(0,W.createDeferred)();return a.resetEngine(this.id).then((function(t){var o=(0,R._)(t,2),a=o[0],s=o[1];return r=s,i.range.url=a,e.getPDFDocByHttpRangeRequest(i,n)})).then((function(e){return e.parse(n)})).then((function(n){return o=n,e.api.syncDataCache(t.id,r)})).then((function(){t.engine=e,t.api=e.api,s.resolve(o)}),(function(){s.reject(t)})),s.promise}},{key:"setColors",value:function(e){var t=this;return this.api.setDocColors(this.getId(),e).then((function(){t.info.readColors=e}))}},{key:"getColors",value:function(){return this.info.readColors||{background:4294967295,foreground:4278190080}}},{key:"setPageDisplayPreferences",value:function(e){return this.api.setPageDisplayPreferences(this.getId(),e)}},{key:"renderTemplatesByObjNum",value:function(e){return this.api.renderTemplatesByObjNum(this.id,Number(e))}},{key:"getNameTree",value:function(e){return this.api.getNameTree(this.id,Number(e))}},{key:"addNameTreeObj",value:function(e,t,n){return this.api.addNameTreeObj(this.id,Number(e),String(t),Number(n))}},{key:"removeNameTreeObj",value:function(e,t){return this.api.removeNameTreeObj(this.id,Number(e),String(t))}},{key:"replaceNameTreeObj",value:function(e,t,n){return this.api.replaceNameTreeObj(this.id,Number(e),String(t),Number(n))}},{key:"renameNameTreeObj",value:function(e,t,n){return this.api.renameNameTreeObj(this.id,Number(e),String(t),String(n))}},{key:"getPageIndexByObjNum",value:function(e){return this.api.getPageIndexByObjNum(this.id,Number(e))}},{key:"nameTreeTemplatesToPages",value:function(e){return this.api.nameTreeTemplatesToPages(this.id,String(e))}},{key:"nameTreePagesToTemplates",value:function(e){return this.api.nameTreePagesToTemplates(this.id,String(e))}},{key:"addFileSpec",value:function(e,t,n){return this.api.addFileSpec(this.id,String(e),t,n)}},{key:"setFileSpecDesc",value:function(e,t){var n=this;return this.api.setFileSpecDesc(this.id,String(e),Number(t)).then((function(i){return i&&n.engine.eventEmitter.emit(ae.Z.documentAttachmentModify,{desc:e,objNum:t}),i}))}},{key:"getFileSpecStream",value:function(e){var t=[];return this.api.getFileSpecStream(this.id,Number(e),(function(e){var n=e.arrayBuffer,i=e.blob;e.offset,e.size;i?t=i:t.push(n)})).then((function(){return t}))}},{key:"getFileSpecStreamByName",value:function(e){var t=[];return this.api.getFileSpecStreamByName(this.id,e,(function(e){var n=e.arrayBuffer,i=e.blob;e.offset,e.size;i?t=i:t.push(n)})).then((function(){return t}))}},{key:"addEmbeddedFileByAttachments",value:function(e,t){var n=this;return this.api.addEmbeddedFileByAttachments(this.id,String(e),Number(t)).then((function(e){return e&&n.engine.eventEmitter.emit(ae.Z.documentAttachmentAdd),e}))}},{key:"setEmbeddedFileByAttachments",value:function(e,t){var n=this;return this.api.setEmbeddedFileByAttachments(this.id,String(e),Number(t)).then((function(e){return e&&n.engine.eventEmitter.emit(ae.Z.documentAttachmentModify),e}))}},{key:"removeEmbeddedFileByAttachments",value:function(e){var t=this;return this.api.removeEmbeddedFileByAttachments(this.id,String(e)).then((function(e){return e&&t.engine.eventEmitter.emit(ae.Z.documentAttachmentRemove),e}))}},{key:"moveAnnotsToPage",value:function(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=Object.keys(n).map((function(e){return+e})),a=o.map((function(t){return e.annotIdMap[t]})).filter((function(e){return!!e})),s="widget"!=a[0].getType();return this.api.moveAnnotsToPage(this.id,e.getId(),t.getId(),n).then((function(c){return Promise.resolve(e.clearAnnotIds(o)).then((function(e){return t.getUnloadedAnnots()})).then((function(o){if("popup"===o[0].info.type){var c=o[0];o[0]=o[1],o[1]=c}var u=i.engine.eventEmitter;return u.emit(ae.Z.annotationRemoved,a,e),u.emit(ae.Z.annotationAdd,o,t),r||(u.emit(ae.Z.moveAnnotsToPages,e,t,n,s),u.emit(ae.Z.annotationMovedPosition,o,t,o[o.length-1])),u.emit("updatePageAnnot",e,a,t,o),o}))}))}},{key:"getInfo",value:function(){var e=this;return this.api.getPDFDictInfo(this.id).then((function(t){return new Ar(e,t.id,e.engine)}))}},{key:"getInfos",value:function(){return this.api.getInfos(this.id)}},{key:"hasDocIsWrapped",value:function(){return this.api.hasDocIsWrapped(this.id)}},{key:"getPageLabels",value:function(e){return this.api.getPageLabels(this.id,e)}},{key:"autoRecognitionForm",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={isSetTooltip:!0};return Promise.all([this.isXFA(),this.readonly()]).then((function(i){var r=(0,R._)(i,2),o=r[0],a=r[1];if(!e.checkPermission(Qt.modify|Qt.fillForm)||o||a||!e.isOwner())throw new Error("Permission error");var s=0,c="autoRecognitionForm",u=se.progressChanged;return e.engine.eventEmitter.emit(u,c,s+=30,Rx.PROGRESSING),e.api.autoRecognitionForm(e.id,Object.assign({},n,t)).then((function(t){var n=[];return 0===t?(e.engine.eventEmitter.emit(u,c,100,Rx.SUCCESS),t):(e.engine.eventEmitter.emit(ae.Z.recognitionForm,e),e.reloadPDFForm().then((function(i){e.engine.eventEmitter.emit(u,c,s+=30,Rx.PROGRESSING);var r=!0,o=!1,a=void 0;try{for(var l,A=function(){var t=l.value;if(!t)return"continue";var i=t.getUnloadedAnnots().then((function(n){return n&&n.length>0&&e.engine.eventEmitter.emit(ae.Z.annotationAdd,n,t),Promise.resolve()}));n.push(i)},d=e.pageCache[Symbol.iterator]();!(r=(l=d.next()).done);r=!0)A()}catch(e){o=!0,a=e}finally{try{r||null==d.return||d.return()}finally{if(o)throw a}}return Promise.all(n).then((function(){return e.engine.eventEmitter.emit(u,c,100,Rx.SUCCESS),e.engine.eventEmitter.emit(ae.Z.permissionChanged,e),t}))})))}))}))}},{key:"isStaticXFA",value:function(){return 1==this.info.fileType&&!this.info.XFARemoved}},{key:"isDynamicXFA",value:function(){return 2==this.info.fileType}},{key:"isXFA",value:function(){return Promise.resolve(0!=this.info.fileType)}},{key:"isXFARemoved",value:function(){return this.info.XFARemoved}},{key:"removeXFA",value:function(){var e=this;return this.api.removeXFA(this.id).then((function(t){return!!t&&(e.info.XFARemoved=!0,e.engine.eventEmitter.emit(ae.Z.xfaFormRemoved,e),!0)}))}},{key:"pdfPortfolio",get:function(){if(this.isPortfolio())return this._pdfPortfolio||(this._pdfPortfolio=new lD(this.engine,this)),this._pdfPortfolio},set:function(e){this._pdfPortfolio=e}},{key:"isPortfolio",value:function(){return this.info.isPortfolio}},{key:"getXfaWidgetData",value:function(e){return this.api.getXfaWidgetData({path:"jr/doc"},this.id,e)}},{key:"startPageEdit",value:function(e,t,n,i){return this.pageEditing?Promise.resolve():(this.pageEditing=!0,this.engine.eventEmitter.emit(ae.Z.objectStartEdit),this.api.handlePageEditorEvent(this.id,"StartEdit",!1,e,t,n,i))}},{key:"endPageEdit",value:function(){return this.pageEditing=!1,this.engine.eventEmitter.emit(ae.Z.objectEndEdit),this.api.handlePageEditorEvent(this.id,"EndEdit")}},{key:"startFormDesignerAssit",value:function(){return this.api.startFormDesignerAssit(this.id)}},{key:"stopFormDesignerAssit",value:function(){return this.api.stopFormDesignerAssit(this.id)}},{key:"reversePages",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this;return(0,P._)((function(){var i,r,o,a,s,c,u,l,A,d,h,f;return(0,L.Jh)(this,(function(p){switch(p.label){case 0:return(i=n.engine.eventEmitter).emit(ae.Z.pagesReverseStart),[4,n.api.reversePages(n.id,e)];case 1:if(r=p.sent(),(a=r.length)>0){for(s=n.getPageCount(),c=n.pageCache,u=0;u<Math.ceil(a/2);u++)if(l=r[u],A=r[a-1-u],l!==A){if(!(d=c[l]))break;h=c[A],c[l]=h,c[A]=d}f=Math.min(e[e.length-1]+1,s-1),n.updatePageIndex(0,f),o=c.map((function(e){return null==e?void 0:e.getId()})),t&&i.emit(ae.Z.pagesReversed,e,o)}return[4,n.getPageSizes()];case 2:return p.sent(),[2,o]}}))}))()}},{key:"reversePagesWithMovePages",value:function(e){var t=this;return(0,P._)((function(){var n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return e.length>1?[4,t.reversePages(e,!1)]:[3,2];case 1:n=i.sent(),i.label=2;case 2:return[4,t.updatePageLabelsByAction("reversePages",[Array.from(e,(function(e,t){return t}))])];case 3:return i.sent(),n&&t.engine.eventEmitter.emit(ae.Z.pagesReversed,e,n),[2,n]}}))}))()}},{key:"movePagesTo",value:function(e){var t,n,i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this.getPageCount();if(!e||0===e.length||(t=Math).min.apply(t,(0,M._)(e.flat()))<0||(n=Math).max.apply(n,(0,M._)(e.flat()))>o-1)throw new Error("Param error: pageRange is out of the valid range.");if(isNaN(r)||r<0||r>o)throw new Error("Param error: Index is out of the valid range.");var a=[];return e.forEach((function(e){for(var t=e[0];t<=e[e.length-1];t++)a.push(t)})),e=Array.from(new Set(a.sort((function(e,t){return e-t})))),this.api.movePagesTo(this.id,e,r).then((function(t){if(t){var n=Ah(e).sort((function(e,t){return e-t}));return i.pageCache=t.reduce((function(e,t,n){var r=i.pageIdMap[t];return r&&(r.info.index=n),e[n]=r,e}),[]),i.updatePageIndex(Math.min(r,n[0]),Math.max(r,n[n.length-1])),i.engine.eventEmitter.emit(ae.Z.pagesMoved,e,r,t),i.getPageSizes().then((function(e){return t}))}}))}},{key:"movePagesToThenUpdatePageLabel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this;return(0,P._)((function(){var i,r;return(0,L.Jh)(this,(function(o){switch(o.label){case 0:return[4,n.movePagesTo(e,t)];case 1:return i=o.sent(),r=e.reduce((function(e,t){var n=(0,R._)(t,2),i=n[0],r=n[1];if(void 0===r)e.push(i);else{for(var o,a=[];i<=r;)a.push(i++);(o=e).push.apply(o,(0,M._)(a))}return e}),[]),e=Array.from(new Set(r.sort((function(e,t){return e-t})))),n.updatePageLabelsByAction("movePages",[e,t]),[2,i]}}))}))()}},{key:"startReplacePages",value:function(e,t,n,i){var r=this,o=[];return i.forEach((function(e){for(var t=e[0];t<=e[e.length-1];t++)o.push(t)})),i=Array.from(new Set(o.sort((function(e,t){return e-t})))),this.api.startReplacePages(this.id,e,t,n,i).then((function(n){var i;if(n&&n.error)return n;r.info.pageSizes={},r.info.pageCount-=t,r.info.pageCount+=n.length;var o=[];n.forEach((function(e){var t=new Sr(e,r);o.push(t)})),(i=r.pageCache).splice.apply(i,[e,t].concat((0,M._)(o))),r.updatePageIndex(e,r.info.pageCount-1);var a=new Array(t).fill(0).map((function(t,n){return e+n}));return r.engine.eventEmitter.emit(ae.Z.pagesReplace,{delPageRange:a,pages:o}),n}))}},{key:"setPageTransition",value:function(e,t,n,i){var r=[];return i.forEach((function(e){for(var t=e[0];t<=e[e.length-1];t++)r.push(t-1)})),i=Array.from(new Set(r.sort((function(e,t){return e-t})))),this.api.setPageTransition(this.id,e,t,n,i)}},{key:"getPageTransitionByIndex",value:function(e){return this.api.getPageTransitionByIndex(this.id,e)}},{key:"getStampTypeByPageIndex",value:function(e){return this.api.getStampTypeByPageIndex(this.id,e)}},{key:"removePages",value:function(e){var t=this;if(!this.checkPermission(Qt.assemble|Qt.modify))throw new Error("Permission error");this.info.pageSizes={};var n=this.getPageCount();if(1===n)throw new Error("Not allowed to remove the only page.");BD(e,n,"remove");for(var i=Ah(e).sort((function(e,t){return t-e})),r=[],o=0;o<i.length;o++){var a=i[o];this.pageCache[a]||r.push(this.getPageByIndex(a))}return Promise.all(r).then((function(n){return t.api.removePages(t.id,e).then((function(n){var r=[];return i.forEach((function(e){t.info.pageCount--,r.push(t.pageCache[e].info.objectNumber),t.pageCache.splice(e,1),t.updatePageIndex(e,t.info.pageCount-1)})),t.updatePageLabelsByAction("deletePages",[e]),t.engine.eventEmitter.emit(ae.Z.pagesRemoved,e,r,t),t.removePageStatus=!0,t.getPageSizes().then((function(e){return n}))}))}))}},{key:"insertBlankPages",value:function(e,t,n){var i=this;if(!this.checkPermission(Qt.assemble|Qt.modify))throw new Error("Permission error");this.info.pageSizes={};var r=this.getPageCount();if("number"!=typeof t||"number"!=typeof n)throw new Error("param error. Only number is available.");return BD(e,r,"insert"),this.api.insertBlankPages(this.id,e,t,n).then((function(e){var t=[];return e.forEach((function(e){t.push(Promise.resolve((delete i.ocgs,i.api.getLayerNodes(i.id).then((function(e){return i.ocgs=e})).then((function(t){return e})).then((function(e){if(!e)return!1;i.info.pageCount++;var t=new Sr(e,i);return i.pageCache.splice(e.index,0,t),i.updatePageIndex(e.index+1,i.info.pageCount-1),t})))))})),aE(t).then((function(t){return i.updatePageLabelsByAction("insertPagesByRange",[e.map((function(e){return e.index}))]),i.engine.eventEmitter.emit(ae.Z.insertPages,t),t})).then((function(e){return i.getPageSizes().then((function(t){return e}))}))}))}},{key:"rotatePages",value:function(e,t){var n=this;if(!this.checkPermission(Qt.assemble|Qt.modify))throw new Error("Permission error");if(Object.values(At).every((function(e){return e!==t})))throw new Error("rotation parameter error");var i=this.getPageCount();BD(e,i,"get");var r=Ah(e);return oE(this,r).then((function(i){var r=i.map((function(e){return e.getRotation()}));return n.api.rotatePages(n.id,e,t).then((function(e){var o=[];return i.forEach((function(e){n.pageCache[e.getIndex()].info.rotation=t,o.push(e.updateInfo()),o.push(n.getPageSizes())})),Promise.all(o).then((function(e){n.engine.eventEmitter.emit(ae.Z.pagesRotated,i,t,r)}))}))}))}},{key:"isPageLabelSetting",value:function(){return function(){var e=localStorage.getItem("PAGE_DISPLAY_DATA");if(wD===e)return DD;var t=!0;return e&&(t=JSON.parse(e).logicalPageNumChecked||!1),wD=e,DD=t}()}},{key:"checkDocHasPageLabel",value:function(){return e=this._pageLabelInfo,t=this,"uninitialized"===e.hasPageLabelStatus&&PD(e,t),e.hasPageLabel;var e,t}},{key:"checkDocIsUseLogicPage",value:function(){return this.api.checkDocIsUseLogicPage(this.id)}},{key:"getPageIndexByLabelText",value:function(e){return this.api.getPageIndexByLabelText(this.id,e)}},{key:"getCurrentPageLabelInfo",value:function(e){return this.api.getCurrentPageLabelInfo(this.id,e)}},{key:"formatPageNumbers",value:function(e,t){var n=this;return this.api.formatPageNumbers(this.id,!1,e,t).then((function(e){return CD(n._pageLabelInfo,n),n.engine.eventEmitter.emit(ae.Z.pagesLabelChange),e}))}},{key:"formatPageNumbersExtendNumbering",value:function(e){var t=this;return this.api.formatPageNumbers(this.id,!0,e).then((function(e){return CD(t._pageLabelInfo,t),t.engine.eventEmitter.emit(ae.Z.pagesLabelChange),e}))}},{key:"updatePageLabelsByAction",value:function(e,t){var n=this;return(0,P._)((function(){var i;return(0,L.Jh)(this,(function(r){switch(r.label){case 0:return[4,n.api.updatePageLabelsByAction(n.id,e,t)];case 1:return i=r.sent(),CD(n._pageLabelInfo,n),n.engine.eventEmitter.emit(ae.Z.pagesLabelChange),[2,i]}}))}))()}},{key:"getPageEditor",value:function(){return this.pageEditor?this.pageEditor:this.pageEditor=new gD(this)}},{key:"getTouchup",value:function(){return new mD(this)}},{key:"getJoinSplit",value:function(){return new mD(this)}},{key:"getSpellCheck",value:function(){return new mD(this)}},{key:"updateEncryptedEngineDocForMIP",value:function(e){return this.api.updateEncryptedEngineDocForMIP(this.id,e)}},{key:"GetUnprotectedPDFDoc",value:function(e,t,n){return this.api.GetUnprotectedPDFDoc(this.id,e,t,n)}},{key:"StartSaveRawDataTobeEncrypted",value:function(e){return this.api.StartSaveRawDataTobeEncrypted(this.id,e)}},{key:"StartSaveasFromMIPEncryptedPDF",value:function(e,t){return this.api.StartSaveasFromMIPEncryptedPDF(this.id,e,t)}},{key:"StartSaveasFromMIPLabel",value:function(e,t,n,i,r,o){return this.api.StartSaveasFromMIPLabel(this.id,e,t,n,i,r,o)}},{key:"getAppliedMIPLabelID",value:function(){return this.api.getAppliedMIPLabelID(this.id)}},{key:"removeAppliedMIPLabel",value:function(){return this.api.removeAppliedMIPLabel(this.id)}},{key:"checkIsMIPProtected",value:function(){return this.api.checkIsMIPProtected(this.id)}},{key:"isCPDF",value:function(){return this.api.isCPDF(this.id)}},{key:"getDocURI",value:function(){return this.api.getDocURI(this.id)}},{key:"getVersionID",value:function(){return this.api.getVersionID({path:"jr/doc"},this.id)}},{key:"convertToCPDF",value:function(e,t,n,i){return this.api.convertToCPDF(this.id,e,t,n,i).then()}},{key:"removeCDocId",value:function(e,t,n,i){return this.api.removeCDocId(this.id,e,t,n,i).then()}},{key:"removeLayerNode",value:function(e){var t=this;if(!this.checkPermission(Qt.assemble|Qt.modify))throw new Error("Permission error");if(!e&&0!==e)return Promise.resolve(!1);var n=this.getLayerNodeById(e);if(n.isLocked)throw new Error("The destination layer node is locked");return(n.hasLayer?this.getLayerRelatedAnnots(e).then((function(n){return n&&n.length>0&&AE(t,n).then((function(e){e.forEach((function(e){e.page.removeAnnotById(e.id)}))})),t.api.removeLayerNode(t.id,e)})):this.api.removeLayerNode(this.id,e)).then((function(n){return n&&(t.engine.eventEmitter.emit(ae.Z.layerRemoved,t),t.engine.eventEmitter.emit(ae.Z.layerVisibleChange,t),cE(t.ocgs,[e])),n}))}},{key:"flattenLayers",value:function(){var e=this,t=[],n=function(e){if(e&&e.hasLayer&&!1===e.visible&&t.push(e),e.children&&e.children.length>0)for(var i=0;i<e.children.length;i++)n(e.children[i])};n(this.ocgs);var i=[];return t.forEach((function(t){i.push(e.getLayerRelatedAnnots(t.id))})),Promise.all(i).then((function(t){return t&&t.length>0&&(t=t.reduce((function(e,t){return e=e.concat(t)}),[]),AE(e,t).then((function(e){e.forEach((function(e){e.page.removeAnnotById(e.id)}))}))),e.api.flattenLayers(e.id)})).then((function(t){return t&&(e.ocgs.children=[]),t}))}},{key:"getVisiblePageLayers",value:function(e){var t=this,n=[];return e.forEach((function(e){var i=t.pageCache[e];i&&n.push(t.api.getLayersByPage(t.id,i.getId()))})),Promise.all(n).then((function(e){var t=[];return e.forEach((function(e){t=t.concat(e)})),t}))}},{key:"updateLayerInfo",value:function(e){if(!e.id&&0!==e.id)return Promise.resolve(!1);var t=this.getLayerNodeById(e.id);return this.api.updateLayerInfo(this.id,e).then((function(n){return n&&Object.assign(t,e),n}))}},{key:"mergeLayers",value:function(e,t){var n=this;return e&&0!==e.length&&t?(e=e.filter((function(e){return e!==t})),this.api.mergeLayers(this.id,e,t).then((function(i){return i&&(cE(n.ocgs,e),n.engine.eventEmitter.emit(ae.Z.layerMerged,e,t)),i}))):Promise.resolve(!1)}},{key:"getLayerRelatedAnnots",value:function(e){return this.api.getLayerRelatedAnnots(this.id,e)}},{key:"layerMoveTo",value:function(e,t,n){var i=this;return this.api.layerMoveTo(this.id,e,t,n).then((function(e){return e?(i.ocgs="",i.getLayerNodesJson().then((function(){return e}))):e}))}},{key:"addLayerNode",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.index,r=n.name,o=n.hasLayer,a=void 0!==o&&o;if(!this.checkPermission(Qt.assemble|Qt.modify))throw new Error("Permission error");var s=this.getLayerNodeById(e);if(!s)throw new Error("ParentLayerId is invalid");if(s.isLocked)throw new Error("The destination layer node is locked");if(!r)throw new Error("name is required");if(i<0||i>s.children.length)throw new Error("index is invalid");return this.api.addChild({path:"jr/doc/layer"},this.id,e,{index:i,name:r,hasLayer:a}).then((function(e){return i>=s.children.length?s.children.push(e):(s.children.splice(i,0,e),s.children.forEach((function(e,t){s.isRoot?e.id=t+"":e.id=s.id+"-"+t}))),t.engine.eventEmitter.emit(ae.Z.layerAdded,e),e}))}},{key:"addLayerGraphicObject",value:function(e,t,n){if(!this.checkPermission(Qt.assemble|Qt.modify))throw new Error("Permission error");var i=this.getLayerNodeById(e);if(!i)throw new Error("LayerNodeId is invalid");if(i.isLocked)throw new Error("The destination layer node is locked");if("number"!=typeof t)return Promise.reject(new Error("Options missing: 'pageIndex'"));var r=this.getPageCount();return t<0||t>=r?Promise.reject(new Error("Range of 'pageIndex' must be between 0 to ".concat(r-1,"(inclusive), but actual: ").concat(t,"."))):i.hasLayer?this.api.addGraphicObject({path:"jr/doc/layer"},this.id,e,t,n).then((function(e){return e})):Promise.resolve(!1)}},{key:"removeLayerGraphicObject",value:function(e,t,n){if(!this.checkPermission(Qt.assemble|Qt.modify))throw new Error("Permission error");var i=this.getLayerNodeById(e);if(!i)throw new Error("LayerNodeId is invalid");if(i.isLocked)throw new Error("The destination layer node is locked");if("number"!=typeof t)return Promise.reject(new Error("Options missing: 'pageIndex'"));var r=this.getPageCount();return t<0||t>=r?Promise.reject(new Error("Range of 'pageIndex' must be between 0 to ".concat(r-1,"(inclusive), but actual: ").concat(t,"."))):i.hasLayer?this.api.removeGraphicObject({path:"jr/doc/layer"},this.id,e,t,n).then((function(e){return e})):Promise.resolve(!1)}},{key:"removeMetadata",value:function(e){var t=this;if(e&&0!==e.length){var n=[];return e.forEach((function(e){n.push(t.api.removeMetadata(t.id,e).then((function(){t.metadata.hasOwnProperty(e)&&delete t.metadata[e],t.metadata.custom&&t.metadata.custom.hasOwnProperty(e)&&delete t.metadata.custom[e]})))})),Promise.all(n).then((function(e){return t.engine.eventEmitter.emit(ae.Z.metaDataChanged,t),!0}))}}},{key:"getDestinationsArray",value:function(){var e=this.getId();return this.api.getDestinationsArray(e)}},{key:"getTabOrder",value:function(e){return this.api.getTabOrder(this.id,e)}},{key:"setTabOrder",value:function(e,t){var n=this;return this.api.setTabOrder(this.id,e,t).then((function(e){return n.engine.eventEmitter.emit(ae.Z.docModified,n),e}))}},{key:"setStructureOrder",value:function(e,t){var n=this,i=function(t){if(0!==t.length)return n.api.setStructureOrder(n.id,e,t).then((function(e){return n.engine.eventEmitter.emit(ae.Z.docModified,n),e}))};return t?i(t):this.getPageAnnotsIdList(e).then(i)}},{key:"getEmbeddedFontData",value:function(){return this.api.getEmbeddedFontData(this.id)}},{key:"computeAuditSpace",value:function(){return this.api.computeAuditSpace(this.id)}},{key:"optimizer",value:function(e,t){var n=this;return this.api.optimizer(this.id,e,t).then((function(e){return{fileName:n.info.fileName,buffer:e}}))}},{key:"optimizeScannedPDF",value:function(e,t){var n=this,i=this.getPageCount(),r=e.pageRange;if(r){(r+="").endsWith(",")&&(r=r.slice(0,r.length-1));var o=r.split(",").map((function(e){var t=e.split("-");if(t.length>1){var n,r;e=[];for(var o=(n=Math).min.apply(n,(0,M._)(t)),a=Math.min((r=Math).max.apply(r,(0,M._)(t)),i),s=o;s<=a;s++)e.push(s);e=e.join(",")}return e}));o=o.join(",").split(",").map((function(e){return e-1})),r=Array.from(new Set(o.sort((function(e,t){return e-t})))),e.pageRange=r}return this.api.optimizeScannedPDF(this.id,e,t).then((function(e){return!!e&&{fileName:n.info.fileName,buffer:e}}))}},{key:"importAsLayer",value:function(e){var t=this;return e.targetFileName||(e.targetFileName=this.metadata.FileName||this.metadata.Title),this.api.importAsLayer(this.id,e).then((function(e){return e&&(t.ocgs=e,t.engine.eventEmitter.emit(ae.Z.layerVisibleChange,t)),e}))}},{key:"previewImportLayer",value:function(e){return this.api.previewImportLayer(this.id,e)}},{key:"reloadLayer",value:function(){return this.api.reloadLayer(this.id)}},{key:"exportMeasureData",value:function(e){var t=this;return this.api.exportMeasureData(this.id,e).then((function(e){var n=t.info.fileName||"Untitled.pdf";return{fileName:n=n.substr(0,n.lastIndexOf("."))+".csv",buffer:e}}))}},{key:"setRenderConfigLineWeight",value:function(e){return this.api.setRenderConfigLineWeight(this.id,e)}},{key:"search",value:function(e,t,n,i){return this.api.searchDoc(this.id,e,t,n,i)}},{key:"generateDocHash",value:function(e){return this.api.generateDocHash(this.id,e)}},{key:"getSignIdForEvidence",value:function(){return this.api.getSignIdForEvidence(this.id)}},{key:"getDocAuditTrail",value:function(e){var t=this;return this.getAssignInfoForESignCN().then((function(n){var i=[],r=n&&n.recipients;return r&&r.length>0&&(i=r.reduce((function(e,t){var n=t.annots&&t.annots.map((function(e){return(0,k._)((0,w._)({},e),{assignUserName:t.userName,assignUserEmail:t.email,company:t.company})}))||[];return(0,M._)(e).concat((0,M._)(n))}),[]).filter((function(e){return"FullSignature"===e.type}))),t.api.getDocAuditTrail(t.id,e,i).then((function(e){return e}))}))}},{key:"updatePropAuthDictForESignCN",value:function(e){var t=e.fieldName,n=e.willingnessInfo;return this.api.updatePropAuthDictForESignCN(this.id,t,n)}},{key:"assignSignerForESignCN",value:function(e){return e=function(e){return e.recipients=e.recipients.map((function(e){var t,n=e.email,i=e.mobile,r=e.company,o=e.companyId;n&&(t="Email"),i&&(t="Phone"),r&&(t="Company"),o&&(t="EnterpriseId");var a=[n,i,r,o].filter((function(e){return!!e}));return a.length>1&&(t="All"),e.authType=t,e})),e}(e),this.api.assignSignerForESignCN(this.id,e)}},{key:"getAssignInfoForESignCN",value:function(){return this.api.getAssignInfoForESignCN(this.id)}},{key:"checkFieldWhetherFill",value:function(e){return this.api.checkFieldWhetherFill(this.id,e)}},{key:"getOrderOfSignFlowFile",value:function(){return this.api.getOrderOfSignFlowFile(this.id)}},{key:"setESignCNFlowSignMode",value:function(e){return this.api.setESignCNFlowSignMode(this.id,e)}},{key:"getESignCNFlowSignMode",value:function(){return this.api.getESignCNFlowSignMode(this.id)}},{key:"isESignCNFile",value:function(){return this.api.isESignCNFile(this.id)}},{key:"getESignCNMode",value:function(e){return this.api.getESignCNMode(this.id,e)}},{key:"setSignatureAP",value:function(e){var t=e.pageIndex,n=e.annotId,i=e.inkSignBuffer,r=e.pagingSigObjNum;return this.api.setSignatureAP(this.id,t,n,i,r)}},{key:"getFlowSignInfo",value:function(){return this.api.getFlowSignInfo(this.id)}},{key:"addAuditTrail",value:function(){return this.api.addAuditTrail(this.id)}},{key:"convertToTextMarkup",value:function(e){var t=this;return this.api.convertToTextMarkup(this.id,e).then((function(e){e.forEach((function(e){var n=t.pageCache[e];n&&n.getUnloadedAnnots().then((function(e){return t.engine.eventEmitter.emit(ae.Z.annotationAdd,e,n)}))}))}))}},{key:"redactSearch",value:function(e,t,n,i,r){var o=this;return this.api.redactSearch(this.id,e,t,n,i,r).then((function(e){var t=[];return e.forEach((function(e){var n=o.pageCache[e];n&&t.push(n.getUnloadedAnnots().then((function(e){o.engine.eventEmitter.emit(ae.Z.annotationAdd,e,n)})))})),Promise.all(t)}))}},{key:"isScannedDoc",value:function(){return this.api.isScannedDoc(this.id)}},{key:"getCompareFileFilterNums",value:function(){return this.api.getCompareFileFilterNums(this.id)}},{key:"canEditPdfa",value:function(){var e=!!this.info.pdfaid;return e&&!this.pdfaEditable}},{key:"readonly",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){return[2,e.canEditPdfa()]}))}))()}},{key:"isPdfaDoc",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){switch(t.label){case 0:return e.metadata.pdfaid?[3,2]:[4,e.getMetadata()];case 1:t.sent(),t.label=2;case 2:return[2,!!e.metadata.pdfaid]}}))}))()}},{key:"setPdfaEditable",value:function(e){var t=this;this.pdfaEditable!==e&&(e&&this.api.removePDFAID(this.id).then((function(e){t.metadata.pdfaid="",t.info.userPermissions=t.getUserPermissions()|Qt.annotForm|Qt.extract,t.engine.eventEmitter.emit(ae.Z.permissionChanged,t)})),this.pdfaEditable=e)}},{key:"getText",value:function(e){var t=this;if(!this.checkPermission(Qt.extract))throw new Error("Permission error");if(this.isStaticXFA()||this.isDynamicXFA())throw new Error("File type error, current is XFA documents");var n=this.getPageCount();sE(e,n-1);var i=(0,W.getUniqueId)("task_progress"),r=new xD((function(){t.api.cancelTaskProgress(t.id,i)}));return this.api.getText(this.id,e,i,(function(e){r.updateProgress(e)})),r}},{key:"createSummarizeComments",value:function(e,t){var n=this.getId();return this.api.createSummarizeComments(n,e,t)}},{key:"sanitize",value:function(){var e=this;return Promise.all([this.isXFA(),this.readonly()]).then((function(t){var n=(0,R._)(t,2),i=n[0],r=n[1];if(!e.checkPermission(Qt.assemble|Qt.modify)|i|r)throw new Error("Permission error");return e.engine.eventEmitter.emit(se.showLoading,!0),e.hiddenDataSanitizeDocument().then((function(t){e.engine.eventEmitter.emit(se.showLoading,!1)}))}))}},{key:"hiddenDataSanitizeDocument",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){switch(t.label){case 0:return[4,e.api.hiddenDataSanitizeDocument(e.id)];case 1:return t.sent(),e.otherOptions.disableSavePrompt=!0,[2]}}))}))()}},{key:"removeHiddenData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(Array.isArray(t)&&0!==t.length){var n=Object.values(Vt).reduce((function(e,t){return e[t]=!1,e}),{});return t.forEach((function(e){if(!Object.values(Vt).includes(e))throw new Error("Invalid type: ".concat(e));n[e]=!0})),Promise.all([this.isXFA(),this.readonly()]).then((function(t){var i=(0,R._)(t,2),r=i[0],o=i[1];if(!e.checkPermission(Qt.assemble|Qt.modify)|r|o)throw new Error("Permission error");return e.engine.eventEmitter.emit(se.showLoading,!0),e.hiddenDataRemoveHiddenInfo(n).then((function(t){e.engine.eventEmitter.emit(se.showLoading,!1)}))}))}}},{key:"hiddenDataRemoveHiddenInfo",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[4,t.api.hiddenDataRemoveHiddenInfo(t.id,e)];case 1:return n.sent(),t.otherOptions.disableSavePrompt=!0,[2]}}))}))()}},{key:"getLRContentForChatWithDoc",value:function(e){return this.api.getLRContentForChatWithDoc(this.id,e)}},{key:"getDocPurText",value:function(){return this.api.getDocPurText(this.id)}},{key:"docCanDoOcr",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.api.docCanDoOcr(this.id,e)}},{key:"fetchContentByType",value:function(e){return this.api.fetchContentByType(this.id,e)}},{key:"searchText",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.getPageCount();return sE(e,i-1),this.search(e,t,n,!1).then((function(e){var t={},n=!0,i=!1,r=void 0;try{for(var o,a=Object.entries(e)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=(0,R._)(o.value,2),c=s[0],u=s[1],l=[],A={};u.forEach((function(e){var t=e.rects,n=e.word;A={rects:t,word:n},l.push(A)})),t[c]=l}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return t}))}},{key:"getPageMediaBoxSizeTemp",value:function(e){var t=this;return(0,P._)((function(){var n;return(0,L.Jh)(this,(function(i){return(n=t.pageCache[e])?[2,Promise.resolve({mediaWidth:n.getMediaWidth(),mediaHeight:n.getMediaHeight()})]:[2,t.api.getPageMediaBoxSize({path:"jr/doc"},t.id,e)]}))}))()}},{key:"calcPageContentBBoxTemp",value:function(e,t){var n=this;return(0,P._)((function(){var i;return(0,L.Jh)(this,(function(r){return(i=n.pageCache[e])?[2,i.calcPageContentBBox(t)]:[2,n.api.calcPageContentBBoxTemp({path:"jr/doc"},n.id,e,t)]}))}))()}},{key:"getPageBitmapByPageIndex",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:["page"],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"view",a=this,s=arguments;return(0,P._)((function(){var c,u;return(0,L.Jh)(this,(function(l){return c=s[5]||"",u=s[6],[2,a.api.getBitmapByPageIndex({path:"jr/doc"},a.id,e,t,n,i,r,o,c,!1,u)]}))}))()}},{key:"getPageBasicInfo",value:function(e){var t=this;return(0,P._)((function(){var n,i;return(0,L.Jh)(this,(function(r){switch(r.label){case 0:return(n=t.pageCache[e])?[2,Promise.resolve({width:n.getWidth(),height:n.getHeight(),rotation:n.getRotation()})]:[3,1];case 1:return(i=t.info.pageSizes[e])?[3,3]:[4,t.api.getPageSize({path:"jr/doc"},t.id,e)];case 2:i=r.sent(),r.label=3;case 3:return[2,{width:i.width,height:i.height,rotation:i.rotation}];case 4:return[2]}}))}))()}},{key:"getPxPageBasicInfo",value:function(e){var t=this;return(0,P._)((function(){var n,i,r,o;return(0,L.Jh)(this,(function(a){switch(a.label){case 0:return(n=t.pageCache[e])?[2,Promise.resolve({width:n.getPxWidth(),height:n.getPxHeight(),rotation:n.getRotation()})]:[3,1];case 1:return(i=t.info.pageSizes[e])?[3,3]:[4,t.api.getPageSize({path:"jr/doc"},t.id,e)];case 2:i=a.sent(),a.label=3;case 3:return r=(0,G.F2)(i.width),o=(0,G.F2)(i.height),[2,{width:r,height:o,rotation:i.rotation}];case 4:return[2]}}))}))()}},{key:"loadThumbnailTemp",value:function(e){var t=this;return(0,P._)((function(){var n,i,r,o,a,s,c,u,l,A,d,h,f;return(0,L.Jh)(this,(function(p){switch(p.label){case 0:return n=e.pageIndex,i=e.scale,r=e.rotation,o=e.type,a=e.width,s=e.height,"number"!=typeof n?[2,Promise.reject(new Error("Options missing: 'pageIndex'"))]:(c=t.getPageCount(),n<0||n>=c?[2,Promise.reject(new Error("Range of 'pageIndex' must be between 0 to ".concat(c-1,"(inclusive), but actual: ").concat(n,".")))]:i?[3,2]:[4,t.getPxPageBasicInfo(n)]);case 1:u=p.sent(),l=u.width,A=u.height,a||s||(a=200,s=300),d=a/l,h=s/A,i=isNaN(d)?h:isNaN(h)?d:Math.min(d,h),f=Math.min(Ne/l,Le/A),i/=f,p.label=2;case 2:return[2,t.api.getThumbTemp({path:"jr/doc",transfer:!0},t.id,n,r||0,i).then((function(e){switch(o||"canvas"){case"canvas":return QD(e);case"image":return eE(e).then((function(e){return t.addDestroyHook((function(){URL.revokeObjectURL(e.src)})),e}));case"buffer":return tE(e);default:throw new Error("Invalid options.type: ".concat(o))}}))]}}))}))()}},{key:"loadThumbnail",value:function(e){var t=this,n=e.pageIndex,i=e.scale,r=e.rotation,o=e.type,a=e.width,s=e.height;if("number"!=typeof n)return Promise.reject(new Error("Options missing: 'pageIndex'"));var c=this.getPageCount();return n<0||n>=c?Promise.reject(new Error("Range of 'pageIndex' must be between 0 to ".concat(c-1,"(inclusive), but actual: ").concat(n,"."))):this.getPageByIndex(n).then((function(e){if(!e)throw new Error("Cannot obtains the page of index: ".concat(n));if(!i){var c=e.getPxWidth(),u=e.getPxHeight();a||s||(a=200,s=300);var l=a/c,A=s/u;i=isNaN(l)?A:isNaN(A)?l:Math.min(l,A);var d=Math.min(Ne/c,Le/u);i/=d}return e.getThumb(r||0,i).then((function(e){switch(o||"canvas"){case"canvas":return QD(e);case"image":return eE(e).then((function(e){return t.addDestroyHook((function(){URL.revokeObjectURL(e.src)})),e}));case"buffer":return tE(e);default:throw new Error("Invalid options.type: ".concat(o))}}))}))}},{key:"verifyDocSignature",value:function(e){var t=this,n=this.getId();return this.engine.ensureSideModeLoaded().then((function(i){return t.api.verifyDocSignature(n,e)}))}},{key:"setSelectedInfo",value:function(e){this.selectedInfo=e}},{key:"clearSelectedInfo",value:function(e){this.selectedInfo=null,e&&(e.getStore().dispatch(we.SELECTION_INFO,null),e.getPDFDocRender().pagesRender.pageRenders.forEach((function(e){e.$handler.find(".fv__mark-selection-blank").remove()})))}},{key:"updateTextSelectInfo",value:function(){if(!this.selectedInfo||this.selectedInfo.type!=Rt.Text)return Promise.resolve([]);var e=this.selectedInfo.selectedPages,t=[],n=!0,i=!1,r=void 0;try{for(var o,a=function(){var e=o.value,n=e.pageRender.getPDFPage().then((function(t){return t.getTextByIndex(e.characterIndexStart,e.characterIndexEnd)})).then((function(t){e.text=t}));t.push(n)},s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)a()}catch(e){i=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}return Promise.all(t)}},{key:"addTextSelectedInfo",value:function(e,t,n,i){var r=this,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0,c={pageRender:e,characterIndexStart:t,characterIndexEnd:n,rectArray:i,text:arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0};if(this.selectedInfo&&this.selectedInfo.type==Rt.Text){this.selectedInfo.e=o,this.selectedInfo.panStartEvent=a,this.selectedInfo.panMoveArr=s;var u=this.selectedInfo.selectedPages,l=!1;for(var A in u)if(u[A].pageRender.index==e.index)return void(u[A]=c);for(var d in u)if(u[d].pageRender.index>e.index){u.splice(Number(d),0,c),l=!0;break}l||u.push(c)}else this.selectedInfo={type:Rt.Text,selectedPages:[c],e:o,panStartEvent:a,panMoveArr:s,getText:function(){var e="";return r.selectedInfo.selectedPages.forEach((function(t){e=(""==e?"":e+"\r\n")+t.text})),e}}}},{key:"clearAllDesignerAssistCache",value:function(){return this.api.clearAllDesignerAssistCache(this.getId())}},{key:"removeEmbeddedFileByName",value:function(e){return this.removeEmbeddedFileByAttachments(e)}},{key:"removeAllEmbeddedFiles",value:function(){var e=this;return this.api.removeAllEmbeddedFiles(this.getId()).then((function(t){return t&&e.engine.eventEmitter.emit(ae.Z.documentAttachmentRemove),t}))}},{key:"getEmbeddedFileNames",value:function(){return this.api.getEmbeddedFileNames(this.getId())}},{key:"addEmbeddedFile",value:function(e,t){var n=this;if(!this.checkPermission(Qt.modify))throw new Error("Permission error");return!(!t||!t.data)&&this.api.addEmbeddedFile({path:"jr/doc"},this.id,e,t).then((function(e){return e&&n.engine.eventEmitter.emit(ae.Z.docAttachmentAdded),e}))}},{key:"setEmbeddedFile",value:function(e,t){var n=this;if(!this.checkPermission(Qt.modify))throw new Error("Permission error");return!(!e||0===e.length||!t)&&this.api.setEmbeddedFile({path:"jr/doc"},this.id,e,t).then((function(e){return e&&n.engine.eventEmitter.emit(ae.Z.documentAttachmentModify),e}))}},{key:"getEmbeddedFile",value:function(e){return e&&0!==e.length?this.api.getEmbeddedFile({path:"jr/doc"},this.id,e):null}},{key:"compareWith",value:function(e,t,n){var i=this;this._validateCompareWithParams(e,t);var r="function"==typeof n,o=r?(0,W.getUniqueId)("compare-progress"):null;if(t.stringResource=t.stringResource||{},r){var a=function(e){100===e&&i.api.workerPromise.off(o,a),n(e)};this.api.workerPromise.on(o,a)}return this.api.comparePDFDocuments(this.getId(),e.getId(),t,o).then((function(e){var n=e.docId,r=e.parameters;return i.engine.createPDFDocById(n,Object.assign({},{fileName:t.resultFileName||"The result of Comparison.pdf"},r))}))}},{key:"_validateCompareWithParams",value:function(e,t){var n=this.getPageCount(),i=e.getPageCount(),r=t.basePageRange,o=t.otherPageRange,a=function(e,t,n){var i=e.from,r=e.end;(0,W.assertThat)((0,W.isNumberInRange)(i,0,t,!0,!1),"[".concat(n,"]: The starting page index must be between 0 and ").concat(t)),(0,W.assertThat)((0,W.isNumberInRange)(r,0,t,!0,!1),"[".concat(n,"]: The ending page index must be between 0 and ").concat(t)),(0,W.assertThat)((0,W.isValidRange)(i,r,!0),"[".concat(n,"]: The starting page index must be less than or equal to the ending page index: from: ").concat(i,", end: ").concat(r))};r?Array.isArray(r)?(t.basePageRange={from:r[0],end:r[1]},a(t.basePageRange,n,"basePageRange")):a(r,n,"basePageRange"):t.basePageRange={from:0,end:n-1},o?Array.isArray(o)?(t.otherPageRange={from:o[0],end:o[1]},a(t.otherPageRange,n,"otherPageRange")):a(o,i,"otherPageRange"):t.otherPageRange={from:0,end:i-1}}},{key:"isCompareDoc",value:function(){return this.info.isCompareDoc}},{key:"getComparisonFilterCountSummary",value:function(){return this.getCompareFileFilterNums()}},{key:"hasFixedPageFields",value:function(e){return this.api.hasFixedPageFields(this.getId(),e)}},{key:"signForESignUS",value:function(e,t,n,i){var r=this;if(!this.checkPermission(Qt.annotForm)&&!this.checkPermission(Qt.fillForm)){var o=new Error("Permission error");throw i(o),o}return this.api.signForESignUS({path:"jr/doc",transfer:!0},this.id,e,t).then((function(e){for(var t=[],n=0,i=0;i<e.byteRange.length;i+=2){var r=e.byteRange[i],o=e.byteRange[i+1];n||(n=r+o+1);var a=e.buffer.slice(r,r+o);t.push(a)}var s=new Blob(t),c=new FileReader;return Promise.all([new Promise((function(t,n){c.onload=function(){t(new Uint8Array(c.result))},c.onerror=function(e){return n(e)},c.readAsArrayBuffer(e.buffer)})),s.arrayBuffer(),n])}),i).then((function(e){var t=(0,R._)(e,3),o=t[0],a=t[1],s=t[2];return r.generateDocHash(a).then((function(e){var t=function(e){for(var t,n=e.split(""),i=new Uint8Array(e.length/2),r=function(e){for(var t,n=e.length,i=new Array(n),r=0;r<n;r++)48<=(t=e.charCodeAt(r))&&t<58?t-=48:t=(223&t)-65+10,i[r]=t;return i.reduce((function(e,t){return 16*e+t}),0)},o="",a=0,s=0;s<n.length;s++)o+=n[s],s>0&&s%2==1&&(i[a++]=r(o),o="");return window.btoa((t=String).fromCharCode.apply(t,(0,M._)(i)))}(e);return Promise.all([n(t),o,s])}),i).then((function(e){var t=(0,R._)(e,3),n=t[0],i=t[1],r=t[2],o=i,a=LD(n).reduce((function(e,t){return e.push(ZD[(240&t)>>>4]),e.push(ZD[15&t]),e}),[]);o.set(a,r);var s=ND(o,"").replace("data:;base64,","");return[new Blob([o],{type:"application/pdf"}),s]}))}))}},{key:"getSignaturesInfo",value:function(){return this.api.getSignaturesInfo({path:"jr/doc"},this.id)}},{key:"getFontCount",value:function(){return this.api.getFontCount({path:"jr/doc"},this.id)}},{key:"getFont",value:function(e){return this.api.getFont({path:"jr/doc"},this.id,e)}},{key:"addFillSignSignaturesToDoc",value:function(e,t,n){return(0,P._)((function(){var i,r,o,a,s,c,u,l,A,d,h,f,p,v,g,m,y,_,b,w,k,x,P,C,D,E,S,I,T,R,F,N,O,j,B,V,U,H,z,W,G,Y,$;return(0,L.Jh)(this,(function(L){switch(L.label){case 0:return i=e.viewerUI.rootComponent.pdfUI,r=i.customs,o=r.startSDKSpan,a=r.otelService,o?[4,o("addFillSignSignaturesToDoc")]:[3,2];case 1:u=L.sent(),l=u.end,A=u.span,s=l,c=A,L.label=2;case 2:if(L.trys.push([2,17,18,19]),d=function(e){for(var t=window.atob(e),n=t.length,i=new Uint8Array(n);n--;)i[n]=t.charCodeAt(n);return i},h=function(){var e=window.localStorage.getItem("CurFileSymbolId");if(e){var t=JSON.parse(window.sessionStorage.getItem("signedList")||"[]");if(t.length){var n=JSON.parse(window.localStorage.getItem("signedFileList")||"[]");n.find((function(t){return t.fileId===e}))?n.forEach((function(n){n.fileId===e&&(n.signedList=(0,M._)(new Set((0,M._)(n.signedList).concat((0,M._)(t)))))})):n.push({fileId:e,signedList:t}),window.localStorage.setItem("signedFileList",JSON.stringify(n))}}},p=null==e||null===(f=e.customs)||void 0===f?void 0:f.getOnlineSignManger(),v=p.getList(),t||(t=v),"string"==typeof t&&(g=v.find((function(e){return e.id===t})),t=g?[g]:[]),!t.length)return[2];m={},y=!0,_=!1,b=void 0,L.label=3;case 3:L.trys.push([3,14,15,16]),w=t[Symbol.iterator](),L.label=4;case 4:if(y=(k=w.next()).done)return[3,13];x=k.value,x.signType,P=x.styleId,C=x.id,x.groupId,D=x.dataURL,E=x.rect,S=x.pageIndex,I=JSON.parse(window.sessionStorage.getItem("signedList")||"[]"),T=!1,R=e.getPDFPageRender(S),L.label=5;case 5:return L.trys.push([5,10,,11]),[4,R.getPDFPage()];case 6:return(F=L.sent())?(N=d(D.replace(/^data\:.*?base64,/,"")),[4,R.getSignaturePDFRect(C,m)]):[3,9];case 7:return O=(O=L.sent())||E,[4,F.addImage(N,O,R.getRotation())];case 8:L.sent(),T=!0,L.label=9;case 9:return[3,11];case 10:return L.sent(),e.eventEmitter.emit("needSomeTipToShow","noPermission"),n&&n(),[2];case 11:T&&(R.$handler.find("#".concat(C)).remove(),I.push(P),j=(0,M._)(new Set(I)),window.sessionStorage.setItem("signedList",JSON.stringify(j))),L.label=12;case 12:return y=!0,[3,4];case 13:return[3,16];case 14:return B=L.sent(),_=!0,b=B,[3,16];case 15:try{y||null==w.return||w.return()}finally{if(_)throw b}return[7];case 16:if(m=null,d=null,v.length===t.length)p.clear(),e.getStateHandlerManager().switchTo(Zf.getStateName());else{V=!0,U=!1,H=void 0;try{for(z=function(){var e=G.value,t=v.findIndex((function(t){return t.id===e.id}));p.delete(t)},W=t[Symbol.iterator]();!(V=(G=W.next()).done);V=!0)z()}catch(e){U=!0,H=e}finally{try{V||null==W.return||W.return()}finally{if(U)throw H}}}return p.getList().length||(i.eventEmitter.emit("no-sign-apply"),window.sessionStorage.removeItem("curMouseClickSignRecord")),Y=!1,JSON.parse(window.localStorage.getItem("pdfSignConfig")||"{}").isFlatteDocumentWhenApplyingAllSignatures&&"fill-sign"===i.activeMainPageTab.name&&(Y=!0),Y&&i.eventEmitter.emit("flatten-from-apply-all-fillSign"),h(),h=null,n&&n(),[3,19];case 17:return $=L.sent(),a&&a.setSpanException(c,$),[3,19];case 18:return s&&s(),[7];case 19:return[2]}}))}))()}},{key:"getLastSaveFlags",value:function(){return this.api.getLastSaveFlags({path:"jr/doc"},this.id)}},{key:"saveWinlessData",value:function(){var e=[];return this.pageEditor&&e.push(this.pageEditor.endEdit()),this.touchup&&this.touchup.handleEvent("generateContent"),Promise.all(e)}},{key:"customProtectDoc",value:function(e){return this.api.customProtectDoc(this.getId(),e)}},{key:"drawTextString",value:function(e){if(e)return this.api.drawTextString(this.id,e)}},{key:"getWordCount",value:function(){return this.registerProgressFlow("getWordCount"),this.api.getAllWordCount({path:"jr/doc"},this.id)}},{key:"registerProgressFlow",value:function(e){var t=this,n=se.progressChanged,i=function(r){!function(r){var o;switch(r.state){case"start":case"progress":o=Rx.PROGRESSING;break;case"end":o=Rx.SUCCESS;break;case"error":o=Rx.FAIL}t.engine.eventEmitter.emit(n,e,r.progress,o),"end"!==r.state&&"error"!==r.state||t.api.unregisterWorkflow(e,i)}(r.msg)};this.api.registerWorkflow(e,i)}},{key:"loadAdvEditorConfigFile",value:function(e,t){var n=this;return this.advEditorConfigFile&&this.advEditorConfigFile[t]?Promise.resolve(!0):(this.advEditorConfigFile=this.advEditorConfigFile||{},this.advEditorConfigFile[t]=e,this.api.loadAdvEditorConfigFile(this.getId(),this.advEditorConfigFile[t],t).then((function(e){return!e&&delete n.advEditorConfigFile[t],e})))}},{key:"setAdvEditorTextToolStyle",value:function(e){return this.api.setAdvEditorTextToolStyle(this.getId(),e)}},{key:"setAdvEditorEditingObjectToolStyle",value:function(e){return this.api.setAdvEditorEditingObjectToolStyle(this.getId(),e)}},{key:"insertXfaPage",value:function(e){this.info.pageCount++;var t=new Sr(e,this);this.pageCache.splice(e.index,0,t),this.updatePageIndex(e.index+1,this.info.pageCount-1),this.engine.eventEmitter.emit(ae.Z.pageAdded,t)}},{key:"removeXfaPage",value:function(e){var t;this.info.pageCount--,this.pageCache[e]&&(t=this.pageCache[e].info.objectNumber,this.pageCache.splice(e,1),this.updatePageIndex(e,this.info.pageCount-1)),this.engine.eventEmitter.emit(ae.Z.pageRemoved,e,t,this)}},{key:"createMessageChannel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.api.workerPromise.createMessageChannel(e+this.getId(),t);return n.ownsTo(this),n}},{key:"defineRemoteAPI",value:function(e,t){this.createMessageChannel(e,t)}},{key:"obtainRemoteAPI",value:function(e){return this.createMessageChannel(e).remoteImplementation}},{key:"has3DAnnots",value:function(){return this.api.has3DAnnots({path:"jr/doc"},this.id)}},{key:"updatePagingSealInfo",value:function(e){var t=this;if(!this.checkPermission(Qt.annotForm)&&!this.checkPermission(Qt.fillForm))throw new Error("Permission error");var n=e.pagingSigConfig,i=e.pagingSigObjNum;if(!n)throw new Error("Invalid param pagingSigConfig: ".concat(n,"."));if(!i)throw new Error("Invalid param pagingSigObjNum: ".concat(i,"."));if("number"!=typeof n.offset||n.offset<0)throw new Error("Invalid param pagingSigConfig.offset: ".concat(n.offset,"."));if("number"!=typeof n.firstPagePercent||n.firstPagePercent<=0||n.firstPagePercent>=1)throw new Error("Invalid param pagingSigConfig.firstPagePercent: ".concat(n.firstPagePercent,"."));return this.getAllPagingSealSignatures(i).then((function(e){if(!e.length)throw new Error("Can not find param pagingSigObjNum: ".concat(i," associated paging seal signature in current document."))})).then((function(e){return t.api.updatePagingSealInfo({path:"jr/doc"},t.id,{pagingSigConfig:n,pagingSigObjNum:i})})).then((function(e){if(e)return AE(t,e).then((function(e){return Promise.all(e.map((function(e){return e.update()}))).then((function(){return t.engine.eventEmitter.emit(ae.Z.pagingSealUpdated,e),i}))}))}))}},{key:"setTabOrderType",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[4,t.api.setTabOrderType({path:"jr/doc"},t.id,e)];case 1:return n.sent(),t.engine.eventEmitter.emit(ae.Z.tabOrderTypeUpdated,e),[2]}}))}))()}},{key:"getTabOrderType",value:function(){return this.api.getTabOrderType({path:"jr/doc"},this.id)}},{key:"query",value:function(e){var t=this;return(0,P._)((function(){var n,i,r,o,a;return(0,L.Jh)(this,(function(s){switch(s.label){case 0:switch(e.type){case"doc":return[3,1];case"page":return[3,2];case"annot":return[3,3];case"bookmark":return[3,6];case"field":return[3,7]}return[3,8];case 1:return[2,t];case 2:return[2,t.getPageByIndex(e.pageIndex)];case 3:return n=e.annotId,i=n.pageIndex,r=n.objNumber,[4,t.getPageByIndex(i)];case 4:return(o=s.sent())?[4,o.getAnnotsByObjectNumArray([r])]:[2];case 5:return a=R._.apply(void 0,[s.sent(),1]),[2,a[0]];case 6:return[2,t.bookmarkService.getBookmarkData(e.objNumber)];case 7:return[2,t.form.getField(e.fieldName)];case 8:return[2]}}))}))()}},{key:"executeSignatureJavaScript",value:function(e,t){return this.api.executeSignatureJavaScript({path:"jr/doc"},this.id,e,t)}},{key:"executeJavaScript",value:function(e){return this.api.executeJavaScript({path:"jr/doc"},this.id,e)}},{key:"executeActions",value:function(e){return this.actionAPI.executeActions(e)}},{key:"hasRedactAnnot",value:function(e){return this.api.hasRedactAnnot({path:"jr/doc"},this.id,e)}},{key:"isRedactExist",value:function(){return this.api.isRedactExist({path:"jr/doc"},this.id)}},{key:"undoAnnotActionOperation",value:function(){var e=this;return(0,P._)((function(){var t;return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[4,e.annotActionAPI.undoOperation()];case 1:return t=n.sent(),[4,e._handleActionUndoRedoOperation(t)];case 2:return n.sent(),[2]}}))}))()}},{key:"redoAnnotActionOperation",value:function(){var e=this;return(0,P._)((function(){var t;return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[4,e.annotActionAPI.redoOperation()];case 1:return t=n.sent(),[4,e._handleActionUndoRedoOperation(t)];case 2:return n.sent(),[2]}}))}))()}},{key:"_handleActionUndoRedoOperation",value:function(e){var t=this;return(0,P._)((function(){var n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return e?"annot"===e.type?[3,1]:[3,3]:[2];case 1:return[4,t.query(e)];case 2:return(n=i.sent())&&n.emitPropertyUpdateEvent(en.actionOrderChanged),[3,3];case 3:return[2]}}))}))()}}]),n}(W.Disposable);function QD(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");return nE(e).then(AC).then((function(e){return n.drawImage(e,0,0),URL.revokeObjectURL(e.src),t}))}function eE(e){return nE(e).then(AC)}function tE(e){return nE(e).then((function(e){var t=new FileReader;return new Promise((function(n){t.onloadend=function(){n(t.result)},t.readAsArrayBuffer(e)}))}))}function nE(e){if(e.buffer){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d"),i=new(Uint8ClampedArray||Uint8Array)(e.buffer),r=n.createImageData(e.width,e.height);return r.data.set(i),n.putImageData(r,0,0),new Promise((function(e){t.toBlob(e)}))}return e.image?Promise.resolve(e.image):Promise.reject(e)}var iE=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t.add(e.getId()),e.isMarkup()){var i=e.getReplies();i.forEach((function(e){return iE(e,t)})),(i=e.getMarkedStates()).forEach((function(e){return t.add(e.getId())})),(i=e.getReviewStates()).forEach((function(e){return t.add(e.getId())})),n&&e.isReplace&&e.isReplace()&&(i=e.getGroupElements()).forEach((function(e){return t.add(e.getId())}))}},rE=function(e,t){if((e|t-1-e)<0)throw new Error("Page range error.")},oE=function(e,t){var n=[];return t.forEach((function(t){n.push(e.getPageByIndex(t))})),Promise.all(n)},aE=function(e){var t=[];return e.reduce((function(n,i,r){return n.then((function(n){return i.then((function(n){return t[r]=n,r==e.length-1?t:i}))}))}),Promise.resolve())},sE=function(e,t){if(!Array.isArray(e))throw new Error("Param error. Only array is available.");if(0===e.length)throw new Error("Param error. Non-valid array.");e.forEach((function(e){if(isNaN(e)||e<0||e>t)throw new Error("Param error: Index is out of the valid range.")}))},cE=function(e,t){var n=function(e){if(e.children&&e.children.length>0)for(var i=e.children.length-1;i>-1;i--){n(e.children[i])&&e.children.splice(i,1)}return t.indexOf(e.id)>-1?e:null},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.children&&e.children.length>0&&e.children.forEach((function(n,r){n.id=t?r+"":e.id+"-"+r,i(n)}))};n(e),i(e,!0)},uE=function(e,t){try{if(!t.checkPermission(Qt.annotForm)&&!t.checkPermission(Qt.fillForm))throw new Error("Permission error");if(!e)throw new Error("Invalid param pagingSigConfig: ".concat(e,"."));if(!e.pageRange||"number"!=typeof e.pageRange[0]||e.pageRange[0]<1||"number"!=typeof e.pageRange[1]||e.pageRange[1]>t.getPageCount()||e.pageRange[0]>=e.pageRange[1])throw new Error("Invalid param pagingSigConfig.pageRange: ".concat(e.pageRange,"."));if(!["left","top","right","bottom"].includes(e.position))throw new Error("Invalid param pagingSigConfig.position: ".concat(e.position,"."));if("number"!=typeof e.width||e.width<0)throw new Error("Invalid param pagingSigConfig.width: ".concat(e.width,"."));if("number"!=typeof e.height||e.height<0)throw new Error("Invalid param pagingSigConfig.height: ".concat(e.height,"."));if("number"!=typeof e.offset||e.offset<0)throw new Error("Invalid param pagingSigConfig.offset: ".concat(e.offset,"."));if("number"!=typeof e.firstPagePercent||e.firstPagePercent<=0||e.firstPagePercent>=1)throw new Error("Invalid param pagingSigConfig.firstPagePercent: ".concat(e.firstPagePercent,"."));if(e.isDisplayMultipleSeal&&("number"!=typeof e.pageCountForEachSeal||e.pageCountForEachSeal<2))throw new Error("Invalid param pagingSigConfig.pageCountForEachSeal: ".concat(e.pageCountForEachSeal,"."))}catch(e){return Promise.reject(e)}var n=e.pageRange[0]-1;return t.getPageSizesByIndex(n).then((function(t){var i=t[n];if(("left"===e.position||"right"===e.position?e.offset+e.height>i.height:e.offset+e.width>i.width)||e.width>i.width||e.height>i.height)throw new Error("Paging seal signature out of page.")}))},lE=function(e){var t,n;e=(0,k._)((0,w._)({},e),{sealPosition:null!==(t=e.position)&&void 0!==t?t:e.sealPosition,sealOffset:null!==(n=e.offset)&&void 0!==n?n:e.sealOffset});var i=Promise.resolve(e);return"string"==typeof e.image&&e.image.length>0&&(i=fetch(e.image).then((function(e){return e.blob().then((function(e){return new Promise((function(t){var n=new Image;n.src=URL.createObjectURL(e),n.onload=function(){URL.revokeObjectURL(n.getAttribute("src"));var i=new FileReader;i.readAsArrayBuffer(e),i.onloadend=function(){t(i.result)}},n.onerror=function(){URL.revokeObjectURL(n.getAttribute("src")),t()}}))}))})).then((function(t){return t&&(e.inkSign=t),e}))),delete e.position,delete e.offset,delete e.image,i},AE=function(e,t){return e.getAnnots().then((function(e){for(var n=[],i=0;i<e.length&&n.length!==t.length;i++)for(var r=e[i],o=0;o<r.length&&n.length!==t.length;o++){var a=r[o];t.indexOf(a.objectNumber)>-1&&n.push(a)}return n}))};const dE=XD;var hE=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){return(0,C._)(this,n),t.call(this,e,i)}return n}(Dx);const fE=hE;var pE=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){return(0,C._)(this,n),t.call(this,e,i)}return(0,D._)(n,[{key:"isReplace",value:function(){return"Replace"===this.info.typeAlias}}]),n}(Dx);const vE=pE;var gE=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){return(0,C._)(this,n),t.call(this,e,i)}return n}(Dx);const mE=gE;var yE=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){return(0,C._)(this,n),t.call(this,e,i)}return n}(Dx);const _E=yE;var bE=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){return(0,C._)(this,n),t.call(this,e,i)}return(0,D._)(n,[{key:"getEndPoint",value:function(){return this.info.endPoint}},{key:"setEndPoint",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setLineEndPoint(i.getId(),n.getId(),this.getId(),e.x,e.y).then((function(e){return t.update(en.endPointUpdated)})).then((function(){t.info.endPoint=e,t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],n)}))}},{key:"getStartPoint",value:function(){return this.info.startPoint}},{key:"setStartPoint",value:function(e){var t=this;this.checkModidyPerm();var n=!arguments[1],i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setLineStartPoint(r.getId(),i.getId(),this.getId(),e.x,e.y).then((function(e){return t.update(n&&en.startPointUpdated)})).then((function(){t.info.startPoint=e,n&&t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],i)}))}},{key:"getEndingStyle",value:function(){return this.info.endingStyle}},{key:"getStartStyle",value:function(){return this.info.startStyle}},{key:"setEndingStyle",value:function(e,t){var n=this;this.checkModidyPerm();var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setAnnotEndingStyle(r.getId(),i.getId(),this.getId(),e,t).then((function(e){return n.update(en.endingStyleUpdated)})).then((function(){e?n.info.startStyle=t:n.info.endingStyle=t,n.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[n],i)}))}},{key:"flip",value:function(){var e=this,t=this.getStartPoint(),n=this.getEndPoint(),i=this.getPDFPage(),r=i.getPDFDoc();return r.api.setLinePoints({path:"jr/doc/page/annot"},r.getId(),i.getId(),this.getId(),n.x,n.y,t.x,t.y).then((function(t){return e.update(en.PointsUpdated)})).then((function(){e.info.startPoint=n,e.info.endPoint=t,e.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[e],i)}))}},{key:"hasCaption",value:function(){return!!this.info.hasCaption}},{key:"enableCaption",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.enableCaption({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(en.enableCaptionUpdated)})).then((function(){t.info.hasCaption=e,t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],n)}))}},{key:"getCaptionPoint",value:function(){var e=this.getCaptionOffset(),t=this.getLeaderLinePoints(),n=t.start,i=t.end,r=new im(n.x,n.y),o=new im(i.x,i.y),a=this.getLeaderLineOffset();if(a>0){var s=this.getLeaderLineLength()>0?1:-1,c=r.move(a,o),u=o.move(a,r);r=c.rotate(s*-Math.PI/2,r),o=u.rotate(s*Math.PI/2,o)}var l=r.distanceTo(o),A=r.move(l/2,o),d=A;if(0!==e.x||0!==e.y){var h=A.move(e.y,r).rotate(Math.PI/2,A),f=Math.PI/2;f=e.y>0?-Math.PI/2:Math.PI/2,d=h.move(e.x,A).rotate(f,h)}return d}},{key:"setContent",value:function(e){var t=this;return(0,E._)((0,S._)(n.prototype),"setContent",this).call(this,e).then((function(e){return e&&t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],t.getPDFPage()),t.updateInfo(t.info),e}))}},{key:"getStyleFillColor",value:function(){return this.info.styleFillColor}},{key:"setStyleFillColor",value:function(e){var t=this;this.checkModidyPerm(),0!==e&&(e=(0,W.colorConvertor)(e,"int"));var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotFillColor(i.getId(),n.getId(),this.getId(),e).then((function(i){return i&&(t.info.styleFillColor=e,t.info.fillColor=e,t.eventEmitter.emit(ae.Z.annotationUpdated,[t],n,en.styleFillColorUpdated),t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],n)),t.updateInfo(t.info),i}))}},{key:"getLeaderLineLength",value:function(){return this.info.leaderLineLength||0}},{key:"getLeaderLineExtend",value:function(){return this.info.leaderLineExtensionLength||0}},{key:"setLeaderLineExtend",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotLeaderLineExtend(i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(en.leaderLineExtendUpdated)})).then((function(){t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],n)}))}},{key:"getLeaderLineOffset",value:function(){return this.info.leaderLineOffset}},{key:"setLeaderLineOffset",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotLeaderLineOffset(i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(en.leaderLineOffsetUpdated)})).then((function(){t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],n)}))}},{key:"getCaptionPos",value:function(){return this.info.capPos}},{key:"calculateLeaderLine",value:function(){var e=this.getStartPoint(),t=this.getEndPoint(),n=t.y-e.y,i=t.x-e.x,r=this.k=-1/(n/i),o=Math.atan(r),a=this.getLeaderLineLength(),s=1,c=1;isFinite(r)?0==i?s=c=a<0?n>0?1:-1:n<0?1:-1:i>0?n>0?(s=a>0?-1:1,c=a>0?1:-1):c=s=a>0?1:-1:n>0?c=s=a>0?-1:1:(s=a>0?1:-1,c=a>0?-1:1):s=c=a>0?i>0?1:-1:i<0?1:-1;var u=s*Math.abs(Math.cos(o)*a),l=c*Math.abs(Math.sin(o)*a);this.leaderSartPoit={x:e.x+u,y:e.y+l},this.leaderEndPoint={x:t.x+u,y:t.y+l},this.Sb=this.leaderSartPoit.y-this.k*this.leaderSartPoit.x,this.Eb=this.leaderEndPoint.y-this.k*this.leaderEndPoint.x}},{key:"getLeaderLinePoints",value:function(){return this.leaderSartPoit||this.calculateLeaderLine(),{start:this.leaderSartPoit,end:this.leaderEndPoint}}},{key:"_update",value:function(){var e=this;return(0,E._)((0,S._)(n.prototype),"_update",this).call(this).then((function(t){return e.calculateLeaderLine(),e}))}},{key:"update",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._update().then((function(){var i=t.getPDFPage();return n&&e&&t.eventEmitter.emit(ae.Z.annotationUpdated,[t],i,e),t}))}},{key:"setLeaderLineLength",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotLeaderLineLength(i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(en.leaderLineLengthUpdated)})).then((function(){t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],n)}))}},{key:"getMeasureInfo",value:function(){return""}},{key:"getCaptionOffset",value:function(){return this.info.captionOffset}},{key:"setCaptionOffset",value:function(e,t){var n=this;this.checkModidyPerm();var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setAnnotCaptionOffset(r.getId(),i.getId(),this.getId(),e,t).then((function(){return n.update(en.leaderCaptionOffsetUpdated)})).then((function(){n.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[n],i)}))}},{key:"exportToJSON",value:function(){var e=(0,E._)((0,S._)(n.prototype),"exportToJSON",this).call(this),t=this.info.startPoint,i=this.info.endPoint,r=this.info.leaderLineLength,o=this.info.leaderLineExtensionLength,a=this.info.leaderLineOffset,s=this.info.captionOffset,c=this.hasCaption()?"yes":"no",u=this.getCaptionColor();if(u=(0,W.convertFromNumberToHex)(16777215&u),this.info.styleFillColor){var l=(0,W.convertFromNumberToHex)(16777215&this.info.styleFillColor);e["interior-color"]=l,e.interiorColor=l}return Object.assign({},e,{start:t.x+","+t.y,end:i.x+","+i.y,head:ve[this.info.startStyle],tail:ve[this.info.endingStyle],leaderLength:r,leaderExtend:o,leaderOffset:a,captionOffset:s,caption:c,captionColor:u})}},{key:"getMeasureRatio",value:function(){return this.info.measureRatio}},{key:"setMeasureRatio",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.userSpaceValue,i=void 0===n?1:n,r=t.userSpaceUnit,o=void 0===r?"inch":r,a=t.realValue,s=void 0===a?1:a,c=t.realUnit,u=void 0===c?"inch":c;this.checkModidyPerm();var l=this.getPDFPage(),A=l.getPDFDoc(),d=Object.keys(Si);if(!d.includes(o)||!d.includes(u))throw new Error("Param error. Please refer to Annot_Unit_Type");return this.page.doc.api.setMeasureRatio(A.getId(),l.getId(),this.getId(),{userSpaceValue:i,userSpaceUnit:o,realValue:s,realUnit:u}).then((function(){return e.update(en.measureRatioUpdated)})).then((function(){var t=e.getPDFPage();e.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[e],t)}))}},{key:"getMeasureUnit",value:function(){return this.info.measureUnit}},{key:"setMeasureUnit",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setMeasureUnit(i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(en.measureUnitUpdated)})).then((function(){t.info.measureUnit=e;var n=t.getPDFPage();t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],n)}))}},{key:"setCaptionColor",value:function(e){var t=this;if(null==e)return Promise.resolve(!1);this.checkModidyPerm(),isNaN(e)&&(e=(0,W.colorConvertor)(e,"int",1));var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setCaptionColor({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then((function(e){return e?t.update(en.captionColorUpdated).then((function(){return t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],n),e})):e}))}},{key:"getCaptionColor",value:function(){return this.info.captionColor}}]),n}(ur);const wE=bE;var kE=function(){function e(t,n){(0,C._)(this,e),(0,z._)(this,"startPoint",void 0),(0,z._)(this,"points",void 0),this.startPoint=t,this.points=n}return(0,D._)(e,[{key:"isEmpty",value:function(){return 0===this.points.length}},{key:"optimize",value:function(){var t=Array.from(new Set(this.points.map((function(e){return JSON.stringify(e)})))).map((function(e){return JSON.parse(e)}));if(1===t.length){var n=t[0];"lineTo"===n.type&&n.x===this.startPoint.x&&n.y===this.startPoint.y&&(t.length=0)}return new e(this.startPoint,t)}}]),e}(),xE=function(){function e(t,n){(0,C._)(this,e),(0,z._)(this,"startPoint",void 0),(0,z._)(this,"points",void 0),this.startPoint=t,this.points=n}return(0,D._)(e,[{key:"getSegments",value:function(){return this.points.reduce((function(e,t){var n=e[e.length-1];return"lineTo"===t.type||"cubicBezierTo"==t.type?n.points.push(t):e.push(new kE(t,[])),e}),[new kE(this.startPoint,[])])}},{key:"toPointArray",value:function(){return[this.startPoint].concat(this.points)}},{key:"toVertexesArray",value:function(){return this.toPointArray().flatMap((function(e){return"cubicBezierTo"===e.type?e.operands.map((function(e){return{type:e.closeFigure?fe.BEZIER_TO_CLOSE_FIGURE:fe.BEZIER_TO,x:e.x,y:e.y}})):[{x:e.x,y:e.y,type:"lineTo"===e.type?e.closeFigure?fe.LINE_TO_CLOSE_FIGURE:fe.LINE_TO:fe.MOVE_TO}]}))}},{key:"updatePoint",value:function(e,t){!function(e){if((0,W.isValidNumber)(e.x)&&(0,W.isValidNumber)(e.y))return!0;throw new Error("Incorrect point: ".concat(JSON.stringify(e)))}(t);var n=[this.startPoint].concat(this.points.flatMap((function(e){return"cubicBezierTo"===e.type?e.operands:e})));n[e].x=t.x,n[e].y=t.y}},{key:"toGSDKPath",value:function(e){var t=new e.Path,n=e.PointF;return this.toPointArray().forEach((function(e){switch(e.type){case"moveTo":t.MoveTo(new n(e.x,e.y));break;case"lineTo":t.LineTo(new n(e.x,e.y)),e.closeFigure&&t.CloseFigure();break;case"cubicBezierTo":var i=e.operands;t.CubicBezierTo(new n(i[0].x,i[0].y),new n(i[1].x,i[1].y),new n(i[2].x,i[2].y));break;default:throw new Error("Incorrect point: ".concat(JSON.stringify(e),", its type must be one of 'moveTo', 'lineTo' or 'cubicBezier'"))}})),t}}],[{key:"fromGSDKPath",value:function(t,n){var i=t.GetPointCount();if(0===i)return null;for(var r=n.PointType,o=[],a=0;;){var s=t.GetPointType(a),c=t.GetPoint(a);switch(s){case r.e_TypeLineTo:case r.e_TypeLineToCloseFigure:o.push({type:"lineTo",x:c.x,y:c.y,closeFigure:s===r.e_TypeLineToCloseFigure}),a++;break;case r.e_TypeMoveTo:o.push({type:"moveTo",x:c.x,y:c.y}),a++;break;case r.e_TypeBezierTo:for(var u=[],l=a+3;a<l;a++){var A=t.GetPoint(a);u.push({x:A.x,y:A.y,closeFigure:t.GetPointType(a)===r.e_TypeBezierToCloseFigure})}o.push({type:"cubicBezierTo",operands:u})}if(a>=i-1)break}return new e(o[0],o.slice(1))}},{key:"fromPointArray",value:function(t){if(t.length<2)throw new Error("Invalid path point array! The point count must be greater than 2");if("moveTo"!==t[0].type)throw new Error("Invalid path point array!, The type of first point must be 'moveTo'");return new e(t[0],t.slice(1))}}]),e}();function PE(e){return!e||e.length<1?"":e.map((function(e){return"moveTo"===e.type||"lineTo"===e.type?[e.x,e.y].join(","):e.operands.flatMap((function(e){return[e.x,e.y]})).join(",")})).join(";")}var CE=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){return(0,C._)(this,n),t.call(this,e,i)}return(0,D._)(n,[{key:"getVertexes",value:function(){return this.info.vertexes}},{key:"getStyleFillColor",value:function(){return this.info.fillColor}},{key:"setStyleFillColor",value:function(e){return this.checkModidyPerm(),(0,E._)((0,S._)(n.prototype),"setFillColor",this).call(this,e)}},{key:"updateVertexes",value:function(e,t){var n=this,i=t.x,r=t.y;this.checkModidyPerm();var o=this.getPDFPage(),a=o.getPDFDoc();return this.page.doc.api.updateAnnotVertexes(a.getId(),o.getId(),this.getId(),e,i,r).then((function(){return n.info[e]={x:i,y:r},n.update(en.vertexesUpdated)})).then((function(){n.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[n],n.getPDFPage())}))}},{key:"setVertexes",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotVertexes(i.getId(),n.getId(),this.getId(),e).then((function(){return t.info.vertexes=e,t.update(en.vertexesUpdated)})).then((function(){t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],t.getPDFPage())}))}},{key:"getMeasureInfo",value:function(){return""}},{key:"getEndingStyle",value:function(){return this.info.endingStyle}},{key:"setEndingStyle",value:function(e,t){var n=this;this.checkModidyPerm();var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setAnnotEndingStyle(r.getId(),i.getId(),this.getId(),e,t).then((function(){e?n.info.startStyle=t:n.info.endingStyle=t,n.eventEmitter.emit(ae.Z.annotationUpdated,[n],i,en.endingStyleUpdated),n.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[n],n.getPDFPage())})).then((function(e){return n._update()}))}},{key:"getStartStyle",value:function(){return this.info.startStyle}},{key:"exportToJSON",value:function(){for(var e=(0,E._)((0,S._)(n.prototype),"exportToJSON",this).call(this),t=this.info.vertexes,i="",r=0;r<t.length;r++)i+=t[r].x+","+t[r].y+";";if(i=i.substr(0,i.length-1),this.info.fillColor){var o=(0,W.convertFromNumberToHex)(16777215&this.info.fillColor);e["interior-color"]=o,e.interiorColor=o}if("PolyLineDimension"===this.getIntent()){e.caption=this.hasCaption()?"yes":"no";var a=this.getCaptionColor();e.captionColor=(0,W.convertFromNumberToHex)(16777215&a)}return Object.assign({},e,{head:ve[this.info.startStyle],tail:ve[this.info.endingStyle],vertices:i,path:PE(this.info.path)})}},{key:"getMeasureRatio",value:function(){return this.info.measureRatio}},{key:"setMeasureRatio",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.userSpaceValue,i=void 0===n?1:n,r=t.userSpaceUnit,o=void 0===r?"inch":r,a=t.realValue,s=void 0===a?1:a,c=t.realUnit,u=void 0===c?"inch":c;this.checkModidyPerm();var l=this.getPDFPage(),A=l.getPDFDoc(),d=Object.keys(Si);if(!d.includes(o)||!d.includes(u))throw new Error("Param error. Please refer to Annot_Unit_Type");return this.page.doc.api.setMeasureRatio(A.getId(),l.getId(),this.getId(),{userSpaceValue:i,userSpaceUnit:o,realValue:s,realUnit:u}).then((function(){return e.update(en.measureRatioUpdated)})).then((function(){var t=e.getPDFPage();e.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[e],t)}))}},{key:"getMeasureUnit",value:function(){return this.info.measureUnit}},{key:"setMeasureUnit",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setMeasureUnit(i.getId(),n.getId(),this.getId(),e,2).then((function(){return t.update(en.measureUnitUpdated)})).then((function(){var e=t.getPDFPage();t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],e)}))}},{key:"hasCaption",value:function(){return!!this.info.hasCaption}},{key:"enableCaption",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.enableCaption({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(en.enableCaptionUpdated)})).then((function(){t.info.hasCaption=e,t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],n)}))}},{key:"setCaptionColor",value:function(e){var t=this;if(null==e)return Promise.resolve(!1);this.checkModidyPerm(),isNaN(e)&&(e=(0,W.colorConvertor)(e,"int",1));var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setCaptionColor({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then((function(e){return e?t.update(en.captionColorUpdated).then((function(){return t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],n),e})):e}))}},{key:"getCaptionColor",value:function(){return this.info.captionColor}},{key:"getPath",value:function(){return this.info.path?xE.fromPointArray(this.info.path):null}},{key:"getPathVertexes",value:function(){var e=this.getPath();return e?e.toVertexesArray():[]}},{key:"updatePathVertex",value:function(e,t){var n=this,i=this.getPDFPage(),r=i.getPDFDoc();return this.api.updatePathPoint({path:"jr/doc/page/annot"},r.getId(),i.getId(),this.getId(),e,t).then((function(){return n.update(en.pathUpdated).then((function(){n.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[n],i)}))}))}}]),n}(ur);const DE=CE;var EE=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){return(0,C._)(this,n),t.call(this,e,i)}return(0,D._)(n,[{key:"getVertexes",value:function(){return this.info.vertexes}},{key:"updateVertexes",value:function(e,t){var n=this;this.checkModidyPerm();var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.updateAnnotVertexes(r.getId(),i.getId(),this.getId(),e,t.x,t.y).then((function(){return n.update(en.vertexesUpdated)})).then((function(){n.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[n],n.getPDFPage())}))}},{key:"setVertexes",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotVertexes(i.getId(),n.getId(),this.getId(),e).then((function(){return t.info.vertexes=e,t.update(en.vertexesUpdated)})).then((function(){t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],t.getPDFPage())}))}},{key:"getMeasureInfo",value:function(){return""}},{key:"exportToJSON",value:function(){for(var e=(0,E._)((0,S._)(n.prototype),"exportToJSON",this).call(this),t=this.info.vertexes,i="",r=0;r<t.length;r++)i+=t[r].x+","+t[r].y+";";if(i=i.substr(0,i.length-1),this.info.fillColor){var o=(0,W.convertFromNumberToHex)(16777215&this.info.fillColor);e["interior-color"]=o,e.interiorColor=o}if("PolygonDimension"===this.getIntent()){e.measureRatio=this.info.measureRatio,e.measureConversionFactor=this.info.measureConversionFactor,e.measureUnit=this.info.measureUnit,e.caption=this.hasCaption()?"yes":"no";var a=this.getCaptionColor();e.captionColor=(0,W.convertFromNumberToHex)(16777215&a)}var s=PE(this.info.path);return Object.assign({},e,{vertices:i,path:s})}},{key:"getFillColor",value:function(){return this.info.fillColor}},{key:"setFillColor",value:function(e){return this.checkModidyPerm(),(0,E._)((0,S._)(n.prototype),"setFillColor",this).call(this,e)}},{key:"getMeasureRatio",value:function(){return this.info.measureRatio}},{key:"setMeasureRatio",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.userSpaceValue,i=void 0===n?1:n,r=t.userSpaceUnit,o=void 0===r?"inch":r,a=t.realValue,s=void 0===a?1:a,c=t.realUnit,u=void 0===c?"inch":c;this.checkModidyPerm();var l=this.getPDFPage(),A=l.getPDFDoc(),d=Object.keys(Si);if(!d.includes(o)||!d.includes(u))throw new Error("Param error. Please refer to Annot_Unit_Type");return this.page.doc.api.setMeasureRatio(A.getId(),l.getId(),this.getId(),{userSpaceValue:i,userSpaceUnit:o,realValue:s,realUnit:u}).then((function(){return e.update(en.measureRatioUpdated)})).then((function(){var t=e.getPDFPage();e.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[e],t)}))}},{key:"getMeasureUnit",value:function(){return this.info.measureUnit}},{key:"setMeasureUnit",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setMeasureUnit(i.getId(),n.getId(),this.getId(),e,2).then((function(){return t.update(en.measureUnitUpdated)})).then((function(){var e=t.getPDFPage();t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],e)}))}},{key:"hasCaption",value:function(){return!!this.info.hasCaption}},{key:"enableCaption",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.enableCaption({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(en.enableCaptionUpdated)})).then((function(){t.info.hasCaption=e,t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],n)}))}},{key:"setCaptionColor",value:function(e){var t=this;if(null==e)return Promise.resolve(!1);this.checkModidyPerm(),isNaN(e)&&(e=(0,W.colorConvertor)(e,"int",1));var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setCaptionColor({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then((function(e){return e?t.update(en.captionColorUpdated).then((function(){return t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],n),e})):e}))}},{key:"getCaptionColor",value:function(){return this.info.captionColor}},{key:"getPath",value:function(){return this.info.path?xE.fromPointArray(this.info.path):null}},{key:"getPathVertexes",value:function(){var e=this.getPath();return e?e.toVertexesArray():[]}},{key:"updatePathVertex",value:function(e,t){var n=this,i=this.getPDFPage(),r=i.getPDFDoc();return this.api.updatePathPoint({path:"jr/doc/page/annot"},r.getId(),i.getId(),this.getId(),e,t).then((function(){return n.update(en.pathUpdated).then((function(){n.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[n],i)}))}))}}]),n}(ur);const SE=EE;var IE=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){return(0,C._)(this,n),t.call(this,e,i)}return(0,D._)(n,[{key:"getFlags",value:function(){return(0,E._)((0,S._)(n.prototype),"getFlags",this).call(this)}},{key:"getIconName",value:function(){return this.info.iconName||"Note"}},{key:"setIconName",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotIconName(i.getId(),n.getId(),this.getId(),e).then((function(e){return e?t.update(en.iconNameUpdated).then((function(){return t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],t.getPDFPage()),e})):e}))}},{key:"getState",value:function(){return this.info.state}},{key:"setState",value:function(e){var t=this;if(this.checkModidyPerm(),!this.isStateAnnot())return Promise.reject(new Error("Cannot set state name if it is not a state type annotation!"));if(this.getState()===e)return Promise.resolve(!0);var n=this.info.state,i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setStateName(r.getId(),i.getId(),this.getId(),e).then((function(i){return t.info.state=e,t.eventEmitter.emit(ae.Z.stateAnnotNameUpdated,t,t.getPDFPage(),n,e),i}))}},{key:"isStateAnnot",value:function(){return this.info.isStateAnnot}},{key:"isReplyAnnot",value:function(){return!this.isStateAnnot()&&"R"===this.info.RT}},{key:"exportToJSON",value:function(){var e=(0,E._)((0,S._)(n.prototype),"exportToJSON",this).call(this),t={icon:this.info.iconName};if(this.info.isStateAnnot){t.statemodel=1==this.info.stateMode?"Marked":"Review";var i=this.page.annotIdMap[this.info.IRT];t.inreplyto=i&&i.getName();var r=this.info.state;t.state=r.charAt(0).toUpperCase()+r.slice(1),delete e.contents,delete e.color}return Object.assign({},e,t)}}]),n}(ur);const TE=IE;var RE=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){return(0,C._)(this,n),t.call(this,e,i)}return(0,D._)(n,[{key:"getInnerRect",value:function(){return this.info.innerRect}},{key:"getFillColor",value:function(){return this.info.fillColor}},{key:"setFillColor",value:function(e){return this.checkModidyPerm(),(0,E._)((0,S._)(n.prototype),"setFillColor",this).call(this,e)}},{key:"exportToJSON",value:function(){var e=(0,E._)((0,S._)(n.prototype),"exportToJSON",this).call(this),t=this.info.rect,i=this.info.innerRect,r={fringe:[i.left-t.left,i.bottom-t.bottom,t.right-i.right,t.top-i.top].toString()};if(this.info.fillColor){var o=(0,W.colorConvertor)(16777215&this.info.fillColor,"#");e["interior-color"]=o,e.interiorColor=o}if("CircleDimension"===this.getIntent()){r.measureRatio=this.getMeasureRatio(),r.measureConversionFactor=this.getMeasureConversionFactor(),r.measureUnit=this.getMeasureUnit(),r.caption=this.hasCaption()?"yes":"no";var a=this.getCaptionColor();r.captionColor=(0,W.colorConvertor)(16777215&a,"#")}return Object.assign({},e,r)}},{key:"getMeasureRatio",value:function(){return this.info.measureRatio}},{key:"setMeasureRatio",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.userSpaceValue,i=void 0===n?1:n,r=t.userSpaceUnit,o=void 0===r?Si.inch:r,a=t.realValue,s=void 0===a?1:a,c=t.realUnit,u=void 0===c?Si.inch:c;this.checkModidyPerm();var l=this.getPDFPage(),A=l.getPDFDoc(),d=Object.keys(Si);if(!d.includes(o)||!d.includes(u))throw new Error("Param error. Please refer to Annot_Unit_Type");return this.page.doc.api.setMeasureRatio(A.getId(),l.getId(),this.getId(),{userSpaceValue:i,userSpaceUnit:o,realValue:s,realUnit:u}).then((function(){return e.update(en.measureRatioUpdated)})).then((function(){var t=e.getPDFPage();e.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[e],t)}))}},{key:"getMeasureUnit",value:function(){return this.info.measureUnit}},{key:"setMeasureUnit",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setMeasureUnit(i.getId(),n.getId(),this.getId(),e,2).then((function(){return t.update(en.measureUnitUpdated)})).then((function(){var e=t.getPDFPage();t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],e)}))}},{key:"getMeasureConversionFactor",value:function(){return this.info.measureConversionFactor}},{key:"setMeasureConversionFactor",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setMeasureConversionFactor(i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(en.measureConversionFactorUpdated)})).then((function(){var e=t.getPDFPage();t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],e)}))}},{key:"hasCaption",value:function(){return!!this.info.hasCaption}},{key:"enableCaption",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.enableCaption({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(en.enableCaptionUpdated)})).then((function(){t.info.hasCaption=e,t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],n)}))}},{key:"setCaptionColor",value:function(e){var t=this;if(null==e)return Promise.resolve(!1);this.checkModidyPerm(),isNaN(e)&&(e=(0,W.colorConvertor)(e,"int",1));var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setCaptionColor({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then((function(e){return e?t.update(en.captionColorUpdated).then((function(){return t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],n),e})):e}))}},{key:"getCaptionColor",value:function(){return this.info.captionColor}}]),n}(ur),ME=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r;return(0,C._)(this,n),(r=t.call(this,e,i)).updateFileSpec(),r}return(0,D._)(n,[{key:"getIconName",value:function(){return this.info.iconName||"PushPin"}},{key:"setIconName",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotIconName(i.getId(),n.getId(),this.getId(),e).then((function(e){return e?t.update(en.iconNameUpdated).then((function(){return t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],t.getPDFPage()),e})):e}))}},{key:"exportToJSON",value:function(){var e=(0,E._)((0,S._)(n.prototype),"exportToJSON",this).call(this),t={icon:this.info.iconName};return Object.assign({},e,t)}},{key:"update",value:function(e){var t=this;return(0,E._)((0,S._)(n.prototype),"update",this).call(this,e).then((function(e){return t.updateFileSpec(),e}))}},{key:"updateFileSpec",value:function(){var e=this.info;this.fileSpec=e.fileSpec&&new VC(e.fileSpec)||null}},{key:"getFileSpec",value:function(){return this.fileSpec}},{key:"getFileattachmentStream",value:function(){var e=this.getPDFPage(),t=e.getPDFDoc(),n=[];return this.page.doc.api.getFileattachmentStream(t.getId(),e.getId(),this.getId(),(function(e){var t=e.arrayBuffer,i=e.blob;i?n=i:n.push(t)})).then((function(){return n}))}}]),n}(ur);const FE=ME;var NE=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){return(0,C._)(this,n),t.call(this,e,i)}return(0,D._)(n,[{key:"getInnerRect",value:function(){return this.info.innerRect}},{key:"exportToJSON",value:function(){var e=(0,E._)((0,S._)(n.prototype),"exportToJSON",this).call(this),t=this.info.rect,i=this.info.innerRect,r=[i.left-t.left,i.bottom-t.bottom,t.right-i.right,t.top-i.top].toString();return delete e.style,delete e.width,delete e.dashPhase,delete e.intensity,Object.assign({},e,{fringe:r})}},{key:"moveRectByCharIndex",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.moveCaretRectByCharIndex(i.getId(),n.getId(),this.getId(),e).then((function(e){return e?t.update(en.rectUpdated).then((function(){return t.eventEmitter.emit(ae.Z.annotationMovedPosition,[t],t.getPDFPage(),t),e})):e}))}}]),n}(ur);const LE=NE;var OE=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){return(0,C._)(this,n),t.call(this,e,i)}return(0,D._)(n,[{key:"getFillColor",value:function(){return this.info.fillColor}},{key:"setFillColor",value:function(e){return(0,E._)((0,S._)(n.prototype),"setFillColor",this).call(this,e)}},{key:"getInnerRect",value:function(){return this.info.innerRect}},{key:"exportToJSON",value:function(){var e=(0,E._)((0,S._)(n.prototype),"exportToJSON",this).call(this),t=this.info.rect,i=this.info.innerRect,r=[i.left-t.left,i.bottom-t.bottom,t.right-i.right,t.top-i.top].toString();if(this.info.fillColor){var o=(0,W.colorConvertor)(16777215&this.info.fillColor,"#");e["interior-color"]=o,e.interiorColor=o}var a={fringe:r};return"CustomDimension"===this.getIntent()&&(a.measureRatio=this.getMeasureRatio(),a.measureConversionFactor=this.getMeasureConversionFactor(),a.measureUnit=this.getMeasureUnit()),Object.assign({},e,a)}},{key:"getMeasureRatio",value:function(){return this.info.measureRatio}},{key:"setMeasureRatio",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.userSpaceValue,i=void 0===n?1:n,r=t.userSpaceUnit,o=void 0===r?Si.inch:r,a=t.realValue,s=void 0===a?1:a,c=t.realUnit,u=void 0===c?Si.inch:c;this.checkModidyPerm();var l=this.getPDFPage(),A=l.getPDFDoc(),d=Object.keys(Si);if(!d.includes(o)||!d.includes(u))throw new Error("Param error. Please refer to Annot_Unit_Type");return this.page.doc.api.setMeasureRatio(A.getId(),l.getId(),this.getId(),{userSpaceValue:i,userSpaceUnit:o,realValue:s,realUnit:u}).then((function(){return e.update(en.measureRatioUpdated)})).then((function(){var t=e.getPDFPage();e.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[e],t)}))}},{key:"getMeasureUnit",value:function(){return this.info.measureUnit}},{key:"setMeasureUnit",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setMeasureUnit(i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(en.measureUnitUpdated)})).then((function(){var e=t.getPDFPage();t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],e)}))}},{key:"getMeasureConversionFactor",value:function(){return this.info.measureConversionFactor}},{key:"setMeasureConversionFactor",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setMeasureConversionFactor(i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(en.measureConversionFactorUpdated)})).then((function(){var e=t.getPDFPage();t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],e)}))}}]),n}(ur),jE=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){(0,C._)(this,n);var r=t.call(this,e,i);return-1===e.borderColor&&"FreeTextTypewriter"!==e.intent&&(e.borderColor=16711680),r}return(0,D._)(n,[{key:"setIsEditting",value:function(e){var t=this.getPDFPage(),n=t.getPDFDoc();return this.page.doc.api.setAnnotIsEditing({path:"jr/doc/page"},n.getId(),t.getId(),this.getId(),e)}},{key:"setAlignment",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAlignment(i.getId(),n.getId(),this.getId(),e).then((function(){return t.info.justification=e,t.eventEmitter.emit(ae.Z.annotationUpdated,[t],n,en.alignmentUpdated),t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],t.getPDFPage()),t.updateInfo(t.info),e}))}},{key:"getAlignment",value:function(){return this.info.justification}},{key:"getInnerRect",value:function(){return Object.assign({},this.info.innerRect)}},{key:"setInnerRectNoAction",value:function(e){var t=this;this.info.innerRect=e;var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotInnerRect(i.getId(),n.getId(),this.getId(),e).then((function(){var e=t.getGroupElements();0==e.length&&(e=[t]);for(var n=[],i=0,r=e.length;i<r;i++){var o=e[i];n[i]=o._update()}return Promise.all(n)}))}},{key:"getIntent",value:function(){var e=(0,E._)((0,S._)(n.prototype),"getIntent",this).call(this);return e||(e="FreeTextTextbox"),e}},{key:"setInnerRect",value:function(e){var t=this;this.checkModidyPerm(),this.info.innerRect=e;var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotInnerRect(i.getId(),n.getId(),this.getId(),e).then((function(e){return e?t.update(en.innerRectUpdated).then((function(){return t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],t.getPDFPage()),e})):e}))}},{key:"getDefaultAppearance",value:function(){var e=Object.assign({},this.info.defaultAppearance);return delete e.flags,e}},{key:"getFillColor",value:function(){return"FreeTextTypewriter"==this.info.intent?0:this.info.fillColor}},{key:"setFillColor",value:function(e){var t=this;this.checkModidyPerm(),e=0===e?0:(0,W.colorConvertor)(e,"int");var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotFillColor(i.getId(),n.getId(),this.getId(),e).then((function(i){return i&&(t.info.fillColor=e,t.eventEmitter.emit(ae.Z.annotationUpdated,[t],n,en.fillColorUpdated),t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],n),t.updateInfo(t.info)),i}))}},{key:"getCalloutLinePoints",value:function(){return this.info.calloutLinePoints}},{key:"setCalloutLinePoints",value:function(e){var t=this;return this._setCalloutLinePoints(e).then((function(e){return t._update()})).then((function(e){var n=t.getPDFPage();t.eventEmitter.emit(ae.Z.annotationUpdated,[t],n,en.calloutLinePointsUpdated),t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],n)}))}},{key:"_setCalloutLinePoints",value:function(e){var t=this;this.checkModidyPerm(),this.info.calloutLinePoints=e;var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setCalloutLinePoints(i.getId(),n.getId(),this.getId(),e).then((function(e){return t._update()}))}},{key:"updateCalloutFigure",value:function(e,t,n){var i=this;this.checkModidyPerm(),this.info.calloutLinePoints=n;var r=this.getPDFPage(),o=r.getPDFDoc();return this.page.doc.api.updateCalloutFigure(o.getId(),r.getId(),this.getId(),e,t,n).then((function(){var e=i.getGroupElements();0==e.length&&(e=[i]);for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];t[n]=o.updateRectData()}return Promise.all(t)})).then((function(){var e=i.getPDFPage();i.eventEmitter.emit(ae.Z.annotationUpdated,[i],i.getPDFPage(),en.rectUpdated),i.eventEmitter.emit(ae.Z.annotationUpdated,[i],i.getPDFPage(),en.innerRectUpdated),i.eventEmitter.emit(ae.Z.annotationUpdated,[i],i.getPDFPage(),en.calloutLinePointsUpdated),i.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[i],e)}))}},{key:"updateRectFigure",value:function(e,t){var n=this;this.checkModidyPerm();var i=this.info.rect,r=this.info.innerRect;e=cn(e),this.info.rect=e,this.info.innerRect=t;var o=this.getPDFPage(),a=o.getPDFDoc();return this.page.doc.api.updateRectFigure(a.getId(),o.getId(),this.getId(),e,t).then((function(e){return e?n.update(en.rectUpdated).then((function(e){return n.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[n],n.getPDFPage()),!0})):(n.info.rect=i,n.info.innerRect=r,e)}))}},{key:"getCalloutLineEndingStyle",value:function(){return this.info.calloutLineEndingStyle}},{key:"setEndingStyle",value:function(e,t){return this.setCalloutLineEndingStyle(t)}},{key:"setCalloutLineEndingStyle",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setCalloutLineEndingStyle(i.getId(),n.getId(),this.getId(),e).then((function(){t.info.calloutLineEndingStyle=e,t.eventEmitter.emit(ae.Z.annotationUpdated,[t],n,en.calloutLineEndingStyleUpdated),t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],t.getPDFPage()),t.updateInfo(t.info)}))}},{key:"_setRect",value:function(e,t){var i=this,r=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(o){return[2,(0,E._)((0,S._)(n.prototype),"_setRect",i).call(r,e,t)]}))}))()}},{key:"setTextSize",value:function(e){var t=this.getDefaultAppearance();return t.textSize=e,this.setDefaultAppearance(t)}},{key:"setDefaultAppearance",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc(),r=(e=Object.assign({},this.info.defaultAppearance,e)).textColor,o=e.textSize;if("number"!=typeof r||"number"!=typeof o)throw new Error("param error. Only number is available.");if(r=(4278190080|r)>>>0,this.engine.configuration.annotation.syncTextScaling){if(o<=0||!isFinite(o))throw new Error("Text size is overflow, it should not be negative and infinite.")}else if(o<6||o>40)throw new Error("Text size is overflow. Available range is 6 to 40.");return e.textColor=r,e.textSize=o,this.page.doc.api.setDefaultAp(i.getId(),n.getId(),this.getId(),e).then((function(){return t._update()})).then((function(){t.eventEmitter.emit(ae.Z.annotationUpdated,[t],n,en.defaultAppearanceUpdated),t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],t.getPDFPage())}))}},{key:"getFontColor",value:function(){return 0==this.info.defaultAppearance.textColor?"#000000":(0,W.colorConvertor)(16777215&this.info.defaultAppearance.textColor,"#",0)}},{key:"setFontColor",value:function(e){var t=this,n=this.getPDFPage(),i=n.getPDFDoc();return e=(0,W.colorConvertor)(e,"int",1),this.info.defaultAppearance.textColor=e,this.page.doc.api.setDefaultAp(i.getId(),n.getId(),this.getId(),this.info.defaultAppearance).then((function(){t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],t.getPDFPage())}))}},{key:"exportToJSON",value:function(){var e=(0,E._)((0,S._)(n.prototype),"exportToJSON",this).call(this);e.justification=this.info.justification;var t="";this.info.fontName&&(t+="/"+this.info.fontName+" "),null!=this.info.defaultAppearance.textSize&&(t+=this.info.defaultAppearance.textSize+" Tf ");var i=(0,W.convertFromNumberToRGBA)(this.getBorderColor());switch(t+=(i.r/255).toFixed(2)+" "+(i.g/255).toFixed(2)+" "+(i.b/255).toFixed(2)+" rg",e.defaultappearance=t,e.fontColor=(0,W.colorConvertor)(16777215&this.info.defaultAppearance.textColor,"#",0),this.info.fillColor&&(i=(0,W.convertFromNumberToHex)(16777215&this.info.fillColor),e["interior-color"]=i,e.interiorColor=i),this.info.intent){case"FreeTextCallout":var r=this.info.rect,o=this.info.innerRect,a=[o.left-r.left,o.bottom-r.bottom,r.right-o.right,r.top-o.top].toString(),s=this.info.calloutLinePoints,c=s[0].x+","+s[0].y;c+=","+s[1].x+","+s[1].y,c+=","+s[2].x+","+s[2].y;var u=ve[this.info.calloutLineEndingStyle];return Object.assign({},e,{fringe:a,callout:c,head:u});case"FreeTextTypewriter":break;default:var l=this.info.rect,A=this.info.innerRect,d=[A.left-l.left,A.bottom-l.bottom,l.right-A.right,l.top-A.top].toString();return Object.assign({},e,{fringe:d})}return e}},{key:"setContent",value:function(e){var t=this;return this.checkModidyPerm(),this.info.RC="",this._setContent(e).then((function(e){return t.getPDFPage().getAnnotsByObjectNumArray([e])})).then((function(e){return t.update(en.contentUpdated).then((function(e){return t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,e,t.getPDFPage()),e}))}))}},{key:"getWoff",value:function(){var e=this.getPDFPage();return e.doc.api.getAnnotWoff(e.getPDFDoc().getId(),e.getId(),this.getId())}},{key:"getRotation",value:function(){return this.info.rotation||0}},{key:"setRotation",value:function(e){var t=this,n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotRotation(i.getId(),n.getId(),this.getId(),e).then((function(e){return n.getAnnotsByObjectNumArray(e)})).then((function(n){for(var i=0;i<n.length;i++)n[i].info.rotation=e;return t.info.rotation=e,n})).then((function(e){var i=[],r=!0,o=!1,a=void 0;try{for(var s,c=e[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var u=s.value;i.push(u.update())}}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return Promise.all(i).then((function(i){return t.eventEmitter.emit(ae.Z.annotationUpdated,e,n,en.rotationUpdated),t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,e,n),e}))}))}},{key:"setAppearanceWithoutFontFamily",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc(),r=(e=Object.assign({},this.info.defaultAppearance,e)).textColor,o=e.textSize;if("number"!=typeof r||"number"!=typeof o)throw new Error("param error. Only number is available.");if(r=(4278190080|r)>>>0,this.engine.configuration.annotation.syncTextScaling){if(o<=0||!isFinite(o))throw new Error("Text size is overflow, it should not be negative and infinite.")}else if(o<6||o>40)throw new Error("Text size is overflow. Available range is 6 to 40.");return e.textColor=r,e.textSize=o,this.page.doc.api.setDefaultAp(i.getId(),n.getId(),this.getId(),Object.assign({},e,{font:void 0})).then((function(){return t._update()})).then((function(){t.info.defaultAppearance=e,t.eventEmitter.emit(ae.Z.annotationUpdated,[t],n,en.defaultAppearanceUpdated),t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],t.getPDFPage())}))}}]),n}(ur);const BE=jE;var VE=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){return(0,C._)(this,n),t.call(this,e,i)}return(0,D._)(n,[{key:"getInnerRect",value:function(){return this.getRect()}},{key:"exportToJSON",value:function(){var e=(0,E._)((0,S._)(n.prototype),"exportToJSON",this).call(this);return e.icon=this.info.iconName,e}},{key:"getIconName",value:function(){return this.info.iconName||""}},{key:"setImage",value:function(e){var t=this;return function(e){return fetch(e).then((function(e){return e.blob().then((function(e){return{url:URL.createObjectURL(e),size:e.size}}))})).catch((function(e){throw new Error("Could not load image!")}))}(e).then((function(e){var n=t.getPDFPage(),i=n.getPDFDoc(),r=e.url,o=e.size;return t.page.doc.api.setAnnotAPBitmap(i.getId(),n.getId(),t.getId(),r,o).then((function(e){t.update(en.imageUpdated)}))}))}},{key:"getImage",value:function(e){var t=this.getPDFPage(),n=t.getPDFDoc();return this.page.doc.api.getBitmapBuffer(n.getId(),t.getId(),this.getId()).then((function(t){if(!t.width||!t.height)return null;switch(e||"canvas"){case"canvas":return dC(t);case"image":return hC(t);case"buffer":return fC(t);default:throw new Error("Invalid options.type: ".concat(e))}}))}},{key:"getRotation",value:function(){return this.info.rotation<0&&(this.info.rotation+=360),this.info.rotation}},{key:"setRotation",value:function(e){var t=this,n=this.getPDFPage(),i=n.getPDFDoc();return e<0&&(e+=360),this.page.doc.api.setAnnotRotation(i.getId(),n.getId(),this.getId(),e).then((function(e){return n.getAnnotsByObjectNumArray(e)})).then((function(n){for(var i=0;i<n.length;i++)n[i].info.rotation=e;return t.info.rotation=e,n})).then((function(e){var i=[],r=!0,o=!1,a=void 0;try{for(var s,c=e[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var u=s.value;i.push(u.update())}}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return Promise.all(i).then((function(i){return t.eventEmitter.emit(ae.Z.annotationUpdated,e,n,en.rotationUpdated),t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,e,n),e}))}))}}]),n}(ur);const UE=VE;var HE=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r;return(0,C._)(this,n),r=t.call(this,e,i),e.action&&(r.action=r.page.doc.engine.actionFactory.createAction(e.action,i.doc,r.page.doc.api,r.eventEmitter,(0,x._)(r))),r}return(0,D._)(n,[{key:"getFlags",value:function(){return-2&(0,E._)((0,S._)(n.prototype),"getFlags",this).call(this)}},{key:"getAction",value:function(){return this.action}},{key:"getActionPromise",value:function(){return Promise.resolve(this.action)}},{key:"getAdditionalAction",value:function(){var e=this;return new $e.AdditionalAction(this.resQuery,this.additionalActionAPI,(function(t){switch(t){case"set":e.emitPropertyUpdateEvent(en.actionDataUpdated),e.emitPropertyUpdateEvent(en.additionalActionDataUpdated);break;case"remove":e.emitPropertyUpdateEvent(en.additionalActionDataRemoved);break;case"update":e.emitPropertyUpdateEvent(en.additionalActionDataUpdated);break;case"add":e.emitPropertyUpdateEvent(en.actionDataUpdated),e.emitPropertyUpdateEvent(en.additionalActionDataAdded)}}),(function(){return(0,M._)($e.AnnotActionTriggerEventsArray)}))}},{key:"getHighlightingMode",value:function(){return this.info.highlightingMode}},{key:"setHighlightingMode",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setHighlightingMode(i.getId(),n.getId(),this.getId(),e).then((function(e){return n.getAnnotsByObjectNumArray(e)})).then((function(e){for(var t=[],n=0,i=e.length;n<i;n++)t.push(e[n]._update());return Promise.all(t)})).then((function(e){return t.eventEmitter.emit(ae.Z.annotationUpdated,e,n,en.highlightingModeUpdated),t.eventEmitter.emit(ae.Z.annotationMovedPosition,e,n,t),e}))}},{key:"hasPA",value:function(){return this.api.linkHasPA(this.page.doc.getId(),this.page.getId(),this.getId())}},{key:"resetAByPA",value:function(){var e=this;return this.api.linkResetAByPA(this.page.doc.getId(),this.page.getId(),this.getId()).then((function(t){if(t)return e.update(en.actionDataUpdated).then((function(){e.action=e.page.doc.engine.actionFactory.createAction(e.info.action,e.page.doc,e.page.doc.api,e.eventEmitter,e)}))}))}},{key:"setAction",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yo.AnnotMouseButtonReleased,r=arguments.length>2?arguments[2]:void 0;if(this.checkModidyPerm(),(0,W.isPlainObject)(arguments[0]))return(0,E._)((0,S._)(n.prototype),"setAction",this).call(this,arguments[0]);var o=this.getPDFPage(),a=o.getPDFDoc();return e=e.info?e.info:e,this.page.doc.api.setAction(a.getId(),o.getId(),this.getId(),e,i,r).then((function(e){return t.action?e.type!==t.action.getType()?t.action=t.page.doc.engine.actionFactory.createAction(e,t.page.doc,t.page.doc.api,t.eventEmitter,t):t.action.updateAction(e):t.action=t.page.doc.engine.actionFactory.createAction(e,t.page.doc,t.page.doc.api,t.eventEmitter,t),t.update(en.addAction)})).then((function(){return t.eventEmitter.emit(ae.Z.actionAdd,t),!0}))}},{key:"setActionData",value:function(e,t){var n=this;return e.setActionData(t).then((function(){return n.update(en.actionDataUpdated).then((function(e){return!0}))}))}},{key:"removeAction",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1?arguments[1]:void 0;if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return(0,E._)((0,S._)(n.prototype),"removeAction",this).call(this,arguments[0]);var r=0,o=0;i&&(r=0,o=i.info.objNumber),delete this.info.action,delete this.action;var a=this.page,s=a.doc;return s.api.removeAction(s.getId(),a.getId(),this.getId(),t,r,o).then((function(t){var n=t[0];return n&&(e.info.action=n,e.action=oD.createAction(n,e.page.getPDFDoc())),e.eventEmitter.emit(ae.Z.annotationUpdated,[e],e.getPDFPage(),en.actionDataUpdated),e.eventEmitter.emit(ae.Z.actionRemove,e),!0}))}},{key:"moveAction",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.moveAction(i.getId(),n.getId(),this.getId(),e).then((function(e){return t.update(en.moveAction)}))}}]),n}(An);const zE=HE;var WE=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){return(0,C._)(this,n),t.call(this,e,i)}return(0,D._)(n,[{key:"getInkList",value:function(){return this.info.inkList}},{key:"setInkList",value:function(e){var t=this;if(this.isDeleted())return Promise.resolve();this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setInkList(i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(en.inkListUpdated).then((function(){t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],t.getPDFPage())}))})).then((function(){return!0}))}},{key:"exportToJSON",value:function(){var e=(0,E._)((0,S._)(n.prototype),"exportToJSON",this).call(this),t=this.info.inkList,i="[";if(t.length>0){for(var r=0;r<t.length;r++)0!=r&&1==t[r].type&&(i=i.substr(0,i.length-1),i+="],["),i+=t[r].x+","+t[r].y+";";i=i.substr(0,i.length-1)+"]"}else i="[]";return Object.assign({},e,{inklist:i})}}]),n}(ur);const GE=WE;var YE=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r;return(0,C._)(this,n),r=t.call(this,e,i),e.action&&(r.action=r.page.doc.engine.actionFactory.createAction(e.action,i.doc,r.page.doc.api,r.eventEmitter,(0,x._)(r))),r}return(0,D._)(n,[{key:"getFlags",value:function(){return-2&(0,E._)((0,S._)(n.prototype),"getFlags",this).call(this)}},{key:"getAction",value:function(){return this.getActionPromise()}},{key:"getActionPromise",value:function(){var e=this,t=this.getPDFPage(),n=t.getPDFDoc();return this.page.doc.api.getAction(n.getId(),t.getId(),this.getId()).then((function(t){if(t&&"TypeUnknown"!==t.type)return e.action=e.page.doc.engine.actionFactory.createAction(t,n,e.page.doc.api,e.eventEmitter,e),e.action}))}},{key:"getOpacity",value:function(){return this.info.opacity}},{key:"getRotation",value:function(){return this.info.rotation}},{key:"setRotation",value:function(e){var t=this,n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotRotation(i.getId(),n.getId(),this.getId(),e).then((function(e){return n.getAnnotsByObjectNumArray(e)})).then((function(n){var i=0;for(n.length;i--;)n[i].info.rotation=e;return t.info.rotation=e,n})).then((function(e){return t.eventEmitter.emit(ae.Z.annotationUpdated,e,n,en.rotationUpdated),t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,e,n),e}))}},{key:"setOpacity",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return e=+e,this.page.doc.api.setAnnotOpacity(i.getId(),n.getId(),this.getId(),e).then((function(e){return n.getAnnotsByObjectNumArray(e)})).then((function(n){var i=0;for(n.length;i--;)n[i].info.opacity=e;return t._update().then((function(){return n}))})).then((function(e){return t.eventEmitter.emit(ae.Z.annotationUpdated,e,n,en.opacityUpdated),t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,e,n),e}))}},{key:"setRect",value:function(e){var t=this,n=this.info.rect;this.info.rect=e;var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setAnnotRect(r.getId(),i.getId(),this.getId(),e).then((function(r){return t.eventEmitter.emit(ae.Z.invalidRect,new Xt(n.left,n.bottom,n.right,n.top),new Xt(e.left,e.bottom,e.right,e.top),t.info.type,t.info,i),r?(t.eventEmitter.emit(ae.Z.annotationUpdated,[t],i,en.rectUpdated),t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],i),!0):r}))}},{key:"moveTo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.left,i=t.top,r=Object.assign({},this.info.rect),o=r.right,a=r.bottom,s=n-r.left,c=i-r.top,u=this.info.rect={left:n,top:i,right:o+s,bottom:a+c},l=this.getPDFPage(),A=l.getPDFDoc().getId(),d=l.getId(),h=this.getId();return this.page.doc.api.moveAnnotTo(A,d,h,{left:n,top:i}).then((function(e){return l.getAnnotsByObjectNumArray(e)})).then((function(t){e.eventEmitter.emit(ae.Z.invalidRect,new Xt(r.left,r.bottom,r.right,r.top),new Xt(u.left,u.bottom,u.right,u.top),e.info.type,e.info,l),e.eventEmitter.emit(ae.Z.annotationUpdated,t,l,en.rectUpdated),e.eventEmitter.emit(ae.Z.annotationMovedPosition,t,l,e)}))}},{key:"removeAction",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1?arguments[1]:void 0;if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return(0,E._)((0,S._)(n.prototype),"removeAction",this).call(this,arguments[0]);var r=0,o=0;i?(r=0,o=i.info.objNumber):delete this.info.AA[t],"-1"==t?(delete this.info.action,delete this.action):(delete this.info.AA[t],this.engineActions&&delete this.engineActions[t]);var a=this.page,s=a.doc;return s.api.removeAction(s.getId(),a.getId(),this.getId(),t,r,o).then((function(n){var i=n[0];return i?"-1"==t?(e.info.action=i,e.action=oD.createAction(i,e.page.getPDFDoc())):(e.info.AA[t]=i,e.engineActions[t]=oD.createAction(i,e.page.getPDFDoc())):(delete e.info.action,delete e.action),e.eventEmitter.emit(ae.Z.annotationUpdated,[e],e.getPDFPage(),en.actionDataUpdated),e.eventEmitter.emit(ae.Z.actionRemove,e),!0}))}},{key:"setImage",value:function(e){var t=this,n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setImage(i.getId(),n.getId(),this.getId(),e).then((function(e){return t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],n),t.update(en.imageUpdated),e}))}},{key:"setTitle",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setTitle(i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(en.titleUpdated)}))}},{key:"getAdditionalAction",value:function(){var e=this;if(0===arguments.length)return new $e.AdditionalAction(this.resQuery,this.additionalActionAPI,(function(t){switch(t){case"set":e.emitPropertyUpdateEvent(en.actionDataUpdated),e.emitPropertyUpdateEvent(en.additionalActionDataUpdated);break;case"remove":e.emitPropertyUpdateEvent(en.additionalActionDataRemoved);break;case"update":e.emitPropertyUpdateEvent(en.additionalActionDataUpdated);break;case"add":e.emitPropertyUpdateEvent(en.actionDataUpdated),e.emitPropertyUpdateEvent(en.additionalActionDataAdded)}}));var t=arguments[0];if(-1==t)return this.action;if(!this.engineActions)for(var n in this.engineActions={},this.info.AA)this.engineActions[n]=oD.createAction(this.info.AA[n],this.page.getPDFDoc());return this.engineActions[t]}},{key:"setAdditionalAction",value:function(e,t){return this.setAction(t,e)}},{key:"setAction",value:function(e,t,i){var r=this;if(!e)throw new Error("No Action!");if((0,W.isPlainObject)(arguments[0]))return(0,E._)((0,S._)(n.prototype),"setAction",this).call(this,arguments[0]);var o=this.page,a=o.doc;return this.engineActions||this.getAdditionalAction(11),this.page.doc.api.setAction(a.getId(),o.getId(),this.getId(),e.info,t,i).then((function(n){e.init(n,r.page.doc.engine.actionFactory,a,r.page.doc.api,r.page.doc.engine.eventEmitter,r);var s=!1;return-1==t&&r.info.action&&(s=!0),-1!=t&&r.engineActions[t]&&(s=!0),i&&s?-1==t?r.action.appendSubAction(e):r.engineActions[t].appendSubAction(e):-1==t?(r.info.action=e.info,r.action=e):(r.info.AA[t]=e.info,r.engineActions[t]=e),r.eventEmitter.emit(ae.Z.annotationUpdated,[r],o,en.addAction),n}))}},{key:"setActionData",value:function(e,t){var n=this;return e.setActionData(t).then((function(){return n.update(en.actionDataUpdated).then((function(e){return!0}))}))}},{key:"getImage",value:function(e){var t=this.getPDFPage(),n=t.getPDFDoc();return this.page.doc.api.getBitmapBuffer(n.getId(),t.getId(),this.getId()).then((function(t){if(!t.width||!t.height)return null;switch(e||"canvas"){case"canvas":return dC(t);case"image":return hC(t);case"buffer":return fC(t);default:throw new Error("Invalid options.type: ".concat(e))}}))}},{key:"moveAction",value:function(e){var t=this,n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.moveAction(i.getId(),n.getId(),this.getId(),e).then((function(e){return t.update(en.moveAction).then((function(e){t.updateAdditionalAction()}))}))}},{key:"updateAdditionalAction",value:function(){for(var e in this.engineActions={},this.info.AA)this.engineActions[e]=oD.createAction(this.info.AA[e],this.page.getPDFDoc())}}]),n}(An),$E=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r;return(0,C._)(this,n),r=t.call(this,e,i),e.action&&(r.action=r.page.doc.engine.actionFactory.createAction(e.action,i.doc,r.page.doc.api,r.eventEmitter,(0,x._)(r))),r}return(0,D._)(n,[{key:"getIconName",value:function(){return this.info.iconName||"Speaker"}},{key:"exportToJSON",value:function(){var e=(0,E._)((0,S._)(n.prototype),"exportToJSON",this).call(this);return e.rate=this.info.soundObj&&this.info.soundObj.sampleRate,e}}]),n}(ur);const JE=$E;var qE=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){return(0,C._)(this,n),t.call(this,e,i)}return(0,D._)(n,[{key:"getFlags",value:function(){return-2&(0,E._)((0,S._)(n.prototype),"getFlags",this).call(this)}},{key:"getOpenStatus",value:function(){return this.info.openStatus}},{key:"setOpenStatus",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setPopupOpenStatus(i.getId(),n.getId(),this.getId(),e).then((function(){t.info.openStatus=e;var i=[t];return t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,i,n),i}))}},{key:"exportToJSON",value:function(){var e=this.info.flag,t="";for(var n in ye)e&1<<parseInt(n)&&(t+=ye[n]+",");var i=this.info.name,r=this.page.getIndex(),o=this.info.openStatus?"yes":"no",a=this.info.rect;return{flags:t,name:i,page:r,open:o,rect:a.left+","+a.bottom+","+a.right+","+a.top,type:"popup"}}}]),n}(An),KE={Courier:0,"Courier-Bold":1,"Courier-BoldOblique":2,"Courier-Oblique":3,Helvetica:4,"Helvetica-Bold":5,"Helvetica-BoldOblique":6,"Helvetica-Oblique":7,"Times-Roman":8,"Times-Bold":9,"Times-BoldItalic":10,"Times-Italic":11,Symbol:12,ZapfDingbats:13};function ZE(e){return KE[e]}function XE(e){for(var t in KE)if(KE[t]==e)return t;return""}var QE={FoxitFixedOTF:"Courier","FoxitFixedOTF-Bold":"Courier-Bold","FoxitFixedOTF-Italic":"Courier-Oblique","FoxitFixedOTF-BoldItalic":"Courier-BoldOblique",FoxitSansOTF:"Helvetica","FoxitSansOTF-Italic":"Helvetica-Oblique","FoxitSansOTF-Bold":"Helvetica-Bold","FoxitSansOTF-BoldItalic":"Helvetica-BoldOblique","FoxitSansPS-BoldItalic":"Helvetica-BoldOblique",FoxitSerifOTF:"Times-Roman","FoxitSerifOTF-Italic":"Times-Italic","FoxitSerifOTF-Bold":"Times-Bold","FoxitSerifOTF-BoldItalic":"Times-BoldItalic",FoxitSymbolOTF:"Symbol",FoxitDingbatsOTF:"ZapfDingbats"},eS=[{name:"Times Roman",value:"Times-Roman"},{name:"Times Bold",value:"Times-Bold"},{name:"Times Italic",value:"Times-Italic"},{name:"Times BoldItalic",value:"Times-BoldItalic"},{name:"Helvetica",value:"Helvetica"},{name:"Helvetica Bold",value:"Helvetica-Bold"},{name:"Helvetica Oblique",value:"Helvetica-Oblique"},{name:"Helvetica BoldOblique",value:"Helvetica-BoldOblique"},{name:"Courier",value:"Courier"},{name:"Courier Bold",value:"Courier-Bold"},{name:"Courier Oblique",value:"Courier-Oblique"},{name:"Courier BoldOblique",value:"Courier-BoldOblique"},{name:"Symbol",value:"Symbol"},{name:"ZapfDingbats",value:"ZapfDingbats"}],tS=function(e){return eS.some((function(t){return t.value.toLowerCase()===e.toLowerCase()}))},nS=function(e){return eS.find((function(t){return t.value.toLowerCase()===e.toLowerCase()}))},iS=[{name:"Courier",value:"Courier"},{name:"Helvetica",value:"Helvetica"},{name:"Times Roman",value:"Times-Roman"},{name:"Symbol",value:"Symbol"},{name:"ZapfDingbats",value:"ZapfDingbats"}],rS=[{name:"黑体",value:"SimHei,STHeiti,Noto Serif Hebrew"},{name:"楷体",value:"CESI_KT_GB2312,KaiTi,STKaiti"},{name:"仿宋",value:"FangSong,STFangSong,CESI_FS_GB13000"},{name:"宋体",value:"SimSun,STSong,CESI_SS_GB13000"}],oS=[{name:"Noto Sans SC Regular",family:"Noto Sans SC Regular"},{name:"Noto Sans",family:"Noto Sans"},{name:"Noto Sans Tibetan",family:"Noto Sans Tibetan"},{name:"Noto Sans CJK TC Medium",family:"Noto Sans CJK TC Medium"},{name:"Noto Sans Mono CJK KR Regular",family:"Noto Sans Mono CJK KR Regular"},{name:"Noto Sans CJK KR DemiLight",family:"Noto Sans CJK KR DemiLight"},{name:"Noto Sans Thai",family:"Noto Sans Thai"},{name:"Noto Sans Cherokee",family:"Noto Sans Cherokee"},{name:"Noto Sans CJK JP Regular",family:"Noto Sans CJK JP Regular"},{name:"Noto Sans CJK JP Thin",family:"Noto Sans CJK JP Thin"},{name:"Noto Sans CJK TC Thin",family:"Noto Sans CJK TC Thin"},{name:"Noto Sans SC Thin",family:"Noto Sans SC Thin"},{name:"Noto Sans Tai Le",family:"Noto Sans Tai Le"},{name:"Noto Sans Thaana",family:"Noto Sans Thaana"},{name:"Noto Sans SC Light",family:"Noto Sans SC Light"},{name:"Noto Sans SC Medium",family:"Noto Sans SC Medium"},{name:"Noto Sans CJK KR Medium",family:"Noto Sans CJK KR Medium"},{name:"Noto Serif Lao",family:"Noto Serif Lao"},{name:"Noto Sans TC Light",family:"Noto Sans TC Light"},{name:"Noto Sans Phags Pa",family:"Noto Sans Phags Pa"},{name:"Noto Sans Telugu",family:"Noto Sans Telugu"},{name:"Noto Sans Yi",family:"Noto Sans Yi"},{name:"Noto Sans Canadian Aboriginal",family:"Noto Sans Canadian Aboriginal"},{name:"Noto Sans Khmer",family:"Noto Sans Khmer"},{name:"Noto Sans Syriac Eastern",family:"Noto Sans Syriac Eastern"},{name:"Noto Serif Thai",family:"Noto Serif Thai"},{name:"Noto Sans Hebrew",family:"Noto Sans Hebrew"},{name:"Noto Sans CJK JP Medium",family:"Noto Sans CJK JP Medium"},{name:"Noto Sans SC Black",family:"Noto Sans SC Black"},{name:"Noto Sans Lao",family:"Noto Sans Lao"},{name:"Noto Sans Tamil",family:"Noto Sans Tamil"},{name:"Noto Sans Gujarati",family:"Noto Sans Gujarati"},{name:"Noto Sans Sinhala",family:"Noto Sans Sinhala"},{name:"Noto Sans CJK TC DemiLight",family:"Noto Sans CJK TC DemiLight"},{name:"Noto Sans Ethiopic",family:"Noto Sans Ethiopic"},{name:"Noto Serif Khmer",family:"Noto Serif Khmer"},{name:"Noto Sans CJK TC Light",family:"Noto Sans CJK TC Light"},{name:"Noto Sans CJK KR Light",family:"Noto Sans CJK KR Light"},{name:"Noto Sans CJK KR Thin",family:"Noto Sans CJK KR Thin"},{name:"Noto Sans CJK KR",family:"Noto Sans CJK KR"},{name:"Noto Sans CJK SC DemiLight",family:"Noto Sans CJK SC DemiLight"},{name:"Noto Sans CJK JP Light",family:"Noto Sans CJK JP Light"},{name:"Noto Sans Mono CJK SC Regular",family:"Noto Sans Mono CJK SC Regular"},{name:"Noto Sans Mono CJK TC Regular",family:"Noto Sans Mono CJK TC Regular"},{name:"Noto Naskh Arabic",family:"Noto Naskh Arabic"},{name:"Noto Sans Mongolian",family:"Noto Sans Mongolian"},{name:"Noto Sans Mono CJK JP Regular",family:"Noto Sans Mono CJK JP Regular"},{name:"Noto Sans CJK JP DemiLight",family:"Noto Sans CJK JP DemiLight"}],aS=[{text:"Helvetica",value:4},{text:"Courier",value:0},{text:"Courier-Bold",value:1},{text:"Courier-BoldOblique",value:2},{text:"Courier-Oblique",value:3},{text:"Helvetica-Bold",value:5},{text:"Helvetica-BoldOblique",value:6},{text:"Helvetica-Oblique",value:7},{text:"Times-Bold",value:9},{text:"Times-BoldItalic",value:10},{text:"Times-Italic",value:11}],sS=[{text:"宋体",name:"SimSun",style:34,charset:134},{text:"楷体",name:"KaiTi",style:32,charset:134}],cS=function(){return"Helvetica"},uS={ANSI:0,Default:1,Symbol:2,Shift_JIS:128,Hangeul:129,GB2312:134,ChineseBig5:136,Thai:222,EasternEuropean:238,Russian:204,Greek:161,Turkish:162,Vietnamese:163,Hebrew:177,Arabic:178,Baltic:186},lS=function(e){return AS.filter((function(t){var n=(0,R._)(t,3)[2];return 0!=(e&n)})).map((function(e){return(0,R._)(e,1)[0]}))},AS=[[uS.ANSI,1,1],[uS.EasternEuropean,1,2],[uS.Greek,1,8],[uS.Turkish,1,16],[uS.Hebrew,1,32],[uS.Arabic,1,64],[uS.Baltic,1,128],[uS.Vietnamese,1,256],[uS.Default,1,512],[uS.Thai,1,65536],[uS.Shift_JIS,1,1<<17],[uS.GB2312,1,1<<18],[uS.Hangeul,1,1<<19],[uS.ChineseBig5,1,1<<20]],dS=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){return(0,C._)(this,n),t.call(this,e,i)}return(0,D._)(n,[{key:"isArea",value:function(){return this.info.isArea}},{key:"getRects",value:function(){var e=[];return this.info.quadPoints&&this.info.quadPoints.length>0?this.info.quadPoints.forEach((function(t){e.push({left:t[0].x,top:t[0].y,right:t[3].x,bottom:t[3].y})})):e.push(this.info.rect),e}},{key:"apply",value:function(){var e=this,t=this.getPDFPage(),n=t.getPDFDoc();if(!n.checkPermission(Qt.annotForm)||!n.checkPermission(Qt.modify))throw new Error("Permission error");return this.page.doc.api.redactApply(n.getId(),t.getId(),this.getId()).then((function(n){var i=t.clearAnnotIds(n);e.page.doc.engine.eventEmitter.emit(ae.Z.annotationRemoved,i,t);var r=[{pageIndex:t.getIndex(),removedAnnots:n}];return e.eventEmitter.emit(ae.Z.applyRedaction,r),r}))}},{key:"getOverlayText",value:function(){return this.info.overlayText}},{key:"setOverlayText",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setRedactOverlayText(i.getId(),n.getId(),this.getId(),e).then((function(n){return n?t.update(en.overlayTextUpdated).then((function(){return t.info.overlayText=e,n})):n}))}},{key:"removeOverlayText",value:function(){var e=this;this.checkModidyPerm();var t=this.getPDFPage(),n=t.getPDFDoc();return this.page.doc.api.removeRedactOverlayText(n.getId(),t.getId(),this.getId()).then((function(t){return t?e.update(en.overlayTextUpdated).then((function(){return delete e.info.overlayText,t})):t}))}},{key:"getOverlayTextAlignment",value:function(){return this.info.justification}},{key:"setOverlayTextAlignment",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setRedactOverlayTextAlignment(i.getId(),n.getId(),this.getId(),e).then((function(n){return n?t.update(en.overlayTexAlignmentUpdated).then((function(){return t.info.justification=e+"",n})):n}))}},{key:"getRepeat",value:function(){return this.info.isRepeat}},{key:"setRepeat",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setRedactRepeat(i.getId(),n.getId(),this.getId(),e).then((function(n){return n?t.update(en.repeatUpdated).then((function(){return t.info.isRepeat=e,n})):n}))}},{key:"enableAutoFontSize",value:function(){this.setAutoFontSize(!0)}},{key:"isAutoFontSize",value:function(){var e=this.getPDFPage(),t=e.getPDFDoc();return t.api.isAutoFontSize({path:"jr/doc/page/annot"},t.getId(),e.getId(),this.getId())}},{key:"setAutoFontSize",value:function(e){var t=this;if(!e)return!1;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setRedactAutoFontSize(i.getId(),n.getId(),this.getId(),e).then((function(n){return n?t.update(en.autoFontSizeUpdated).then((function(){return t.info.isAutoFontSize=e,n})):n}))}},{key:"getAutoFontSize",value:function(){return this.info.isAutoFontSize}},{key:"getDefaultAppearance",value:function(){var e=Object.assign({},this.info.defaultAppearance);return delete e.flags,e}},{key:"setDefaultAppearance",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc(),r=Object.assign({},this.info.defaultAppearance,e);return e.textColor&&(r.textColor=(0,W.colorConvertor)(e.textColor,"int",1)),e.textSize&&"number"==typeof e.textSize&&e.textSize<0&&(r.textSize=0),void 0===KE[r.fontName]&&(r.fontName="Helvetica"),this.page.doc.api.setRedactDefaultAppearance(i.getId(),n.getId(),this.getId(),r).then((function(e){return e?t.update(en.redactDefaultAppearanceUpdated).then((function(){return t.info.fontName=r.fontName,delete r.fontName,t.info.defaultAppearance=r,e})):e}))}},{key:"setOpacity",value:function(e,t){var n=this;this.checkModidyPerm();var i=this.getPDFPage(),r=i.getPDFDoc();return this.info.onlyForFill=t,this.page.doc.api.setRedactOpacity(r.getId(),i.getId(),this.getId(),e,t).then((function(t){return t&&(n.info.opacity=e,n.eventEmitter.emit(ae.Z.annotationUpdated,[n],i,en.opacityUpdated)),n.updateInfo(n.info),t}))}},{key:"getFillColor",value:function(){return(0,E._)((0,S._)(n.prototype),"getFillColor",this).call(this)}},{key:"setFillColor",value:function(e){var t=this;e=0===e?0:(0,W.colorConvertor)(e,"int");var n=this.getPDFPage(),i=n.getPDFDoc();return i.api.setRedactAnnotFillColor(i.getId(),n.getId(),this.getId(),e,this.info.onlyForFill).then((function(e){return e?t.update(en.fillColorUpdated).then((function(){return t.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[t],n),e})):e}))}},{key:"getApplyFillColor",value:function(){return this.info.applyFillColor}},{key:"setRedactApplyFillColor",value:function(e){var t=this;this.checkModidyPerm(),e=(0,W.colorConvertor)(e,"int",1);var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setRedactApplyFillColor(i.getId(),n.getId(),this.getId(),e).then((function(n){return n?t.update(en.applyFillColorUpdated).then((function(){return t.info.applyFillColor=e,n})):n}))}},{key:"exportToJSON",value:function(){var e=(0,E._)((0,S._)(n.prototype),"exportToJSON",this).call(this);e["interior-color"]=(0,W.convertFromNumberToHex)(16777215&this.getApplyFillColor()),e.interiorColor=e["interior-color"];for(var t=this.info.quadPoints,i="",r=0;r<t.length;r++){var o=t[r];i+=o[0].x+","+o[0].y+",",i+=o[1].x+","+o[1].y+",",i+=o[2].x+","+o[2].y+",",i+=o[3].x+","+o[3].y+","}e.coords=i.substr(0,i.length-1),e["overlay-text"]=this.info.overlayText,e.overlayText=this.info.overlayText;var a="";this.info.fontName&&(a+="/"+this.info.fontName+" "),null!=this.info.defaultAppearance.textSize&&(a+=this.info.defaultAppearance.textSize+" Tf ");var s=(0,W.convertFromNumberToRGBA)(this.info.defaultAppearance.textColor);return a+=(s.r/255).toFixed(2)+" "+(s.g/255).toFixed(2)+" "+(s.b/255).toFixed(2)+" RG",e.defaultappearance=a,e.fontColor=(0,W.colorConvertor)(16777215&this.info.defaultAppearance.textColor,"#",0),e.justification=this.info.justification,e.repeat=this.info.isRepeat?"yes":"no",e}},{key:"getRedactionCode",value:function(){return this.info.overlayCode}},{key:"getRedactAppearance",value:function(){return this.info}},{key:"setRedactAppearance",value:function(e){var t=this,n=e.applyFillColor,i=e.isAutoFontSize,r=e.textColor,o=e.defaultAppearance,a=e.textSize,s=e.fontName,c=e.justification,u=e.isRepeat,l=e.overlayText,A=e.redactionCode;this.checkModidyPerm(),!r&&o&&(r=o.textColor),!a&&o&&(a=o.textSize),void 0!==n&&(n=(0,W.colorConvertor)(n,"int",1)),void 0!==r&&(r=(0,W.colorConvertor)(r,"int",1));var d=this.getPDFPage(),h=d.getPDFDoc(),f={applyFillColor:n,isAutoFontSize:i,textColor:r,textSize:a,fontName:s,overlayText:l,justification:c,isRepeat:u,redactionCode:A};return this.page.doc.api.setRedactAppearance(h.getId(),d.getId(),this.getId(),f).then((function(e){if(e){var o="";return void 0!==n&&(o=en.fillColorUpdated),void 0===s&&void 0===r&&void 0===a&&void 0===l||(o=en.redactDefaultAppearanceUpdated),void 0!==i&&(o=en.autoFontSizeUpdated),void 0!==c&&(o=en.overlayTexAlignmentUpdated),void 0!==A&&(t.info.overlayCode=A),void 0!==u&&(o=en.repeatUpdated),void 0!==l&&(o=en.overlayTextUpdated),o&&t.update(o).then((function(){return e}))}return e}))}},{key:"setViewRotate",value:function(e){return this.page.doc.api.setViewRotate({path:"jr/doc/page/annot"},this.page.doc.getId(),this.page.getId(),this.getId(),e/90)}}]),n}(ur);const hS=dS;var fS=function(){function e(t){(0,C._)(this,e)}return(0,D._)(e,[{key:"get",value:function(e,t){switch(e.type){case Xi.highlight:return new fE(e,t);case Xi.squiggly:return new _E(e,t);case Xi.strikeOut:return new vE(e,t);case Xi.underline:return new mE(e,t);case Xi.line:return new wE(e,t);case Xi.polyLine:return new DE(e,t);case Xi.polygon:return new SE(e,t);case Xi.fileAttachment:return new FE(e,t);case Xi.text:return new TE(e,t);case Xi.circle:return new RE(e,t);case Xi.caret:return new LE(e,t);case Xi.freeText:return new BE(e,t);case Xi.ink:return new GE(e,t);case Xi.sound:return new JE(e,t);case Xi.square:return new OE(e,t);case Xi.stamp:return new UE(e,t);case Xi.link:return new zE(e,t);case Xi.widget:return new Cr(e,t);case Xi.screen:return new YE(e,t);case Xi.popup:return new qE(e,t);case Xi.redact:return new hS(e,t);default:return new An(e,t)}}}]),e}();const pS=fS;var vS={0:{id:"0",name:"StandardID_e_StdIDCourier",isBold:!1,isItalic:!1},1:{id:"1",name:"StandardID_e_StdIDCourierB",isBold:!0,isItalic:!1},2:{id:"2",name:"StandardID_e_StdIDCourierBI",isBold:!0,isItalic:!0},3:{id:"3",name:"StandardID_e_StdIDCourierI",isBold:!1,isItalic:!0},4:{id:"4",name:"StandardID_e_StdIDHelvetica",isBold:!1,isItalic:!1},5:{id:"5",name:"StandardID_e_StdIDHelveticaB",isBold:!0,isItalic:!1},6:{id:"6",name:"StandardID_e_StdIDHelveticaBI",isBold:!0,isItalic:!0},7:{id:"7",name:"StandardID_e_StdIDHelveticaI",isBold:!1,isItalic:!0},8:{id:"8",name:"StandardID_e_StdIDTimes",isBold:!1,isItalic:!1},9:{id:"9",name:"StandardID_e_StdIDTimesB",isBold:!0,isItalic:!1},10:{id:"10",name:"StandardID_e_StdIDTimesBI",isBold:!0,isItalic:!0},11:{id:"11",name:"StandardID_e_StdIDTimesI",isBold:!1,isItalic:!0},12:{id:"12",name:"StandardID_e_StdIDSymbol",isBold:!1,isItalic:!1},13:{id:"13",name:"StandardID_e_StdIDZapfDingbats",isBold:!1,isItalic:!1}},gS=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){return(0,C._)(this,n),t.call(this,e,i,r)}return(0,D._)(n,[{key:"put",value:function(e){}},{key:"isBold",value:function(){var e=this.info.textState.font;if(e.isStandard){if(vS[e.standardId])return vS[e.standardId].isBold;console.warn("No configuration found for standard font: ",e)}return e.isBold||262144==(262144&e.styles)}},{key:"isItalic",value:function(){var e=this.info.textState.font;if(e.isStandard){if(vS[e.standardId])return vS[e.standardId].isItalic;console.warn("No configuration found for standard font: ",e)}return e.isItalic||64==(64&e.styles)}},{key:"getText",value:function(){return this.info.textState.text}},{key:"getFontInfo",value:function(){return this.info.textState.font}},{key:"setText",value:function(e){var t=this;if(!this.doc.checkPermission(Qt.modify))throw new Error("Permission error");if(this.getText()===e)return Promise.resolve();var n=this.getPDFPage();return n.doc.api.setTextObjectChar(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then((function(e){t.afterUpdated(e)}))}},{key:"setItalic",value:function(e){var t=this;if(!this.doc.checkPermission(Qt.modify))throw new Error("Permission error");if(this.isItalic()===e)return Promise.resolve();var n=this.getPDFPage();return n.doc.api.setTextObjectItalic(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then((function(e){t.afterUpdated(e)}))}},{key:"setBold",value:function(e){var t=this;if(!this.doc.checkPermission(Qt.modify))throw new Error("Permission error");if(this.isBold()===e)return Promise.resolve();var n=this.getPDFPage();return n.doc.api.setTextObjectBold(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then((function(e){t.afterUpdated(e)}))}},{key:"getFontSize",value:function(){return this.info.textState.size}},{key:"setFontSize",value:function(e){var t=this;if(!this.doc.checkPermission(Qt.modify))throw new Error("Permission error");if(this.getFontSize()===e)return Promise.resolve();var n=this.getPDFPage();return n.doc.api.setTextObjectFontSize(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then((function(e){t.afterUpdated(e)}))}},{key:"setStandardFont",value:function(e){var t=this;if(!this.doc.checkPermission(Qt.modify))throw new Error("Permission error");var n=this.info.textState.font;if(!n||n.isStandard&&e===n.stardardId)return Promise.resolve();var i=this.getPDFPage();return i.doc.api.setTextObjectStandardFont(i.getPDFDoc().getId(),i.getId(),this.getId(),e).then((function(e){t.afterUpdated(e)}))}},{key:"setFontByName",value:function(e,t,n){var i=this;if(!this.doc.checkPermission(Qt.modify))throw new Error("Permission error");if(!this.info.textState.font)return Promise.resolve();var r=this.getPDFPage();return r.doc.api.setTextObjectFontByName(r.getPDFDoc().getId(),r.getId(),this.getId(),e,t,n).then((function(e){i.afterUpdated(e)}))}},{key:"getWoff",value:function(){var e=this.getPDFPage();return e.doc.api.getTextObjectWoff(e.getPDFDoc().getId(),e.getId(),this.getId())}}]),n}(vC);const mS=gS;var yS=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){return(0,C._)(this,n),t.call(this,e,i,r)}return(0,D._)(n,[{key:"getFillMode",value:function(){return this.info.fillMode}},{key:"setBorderColor",value:function(e){if(!this.doc.checkPermission(Qt.modify))throw new Error("Permission error");return this.info.needStroke=0!==e,(0,E._)((0,S._)(n.prototype),"setBorderColor",this).call(this,e)}},{key:"getPathPoints",value:function(){return this.info.path}},{key:"needStroke",value:function(){return this.info.needStroke}}]),n}(vC),_S=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){return(0,C._)(this,n),t.call(this,e,i,r)}return(0,D._)(n,[{key:"setRotation",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!t)return Promise.resolve(this.info);if(!this.doc.checkPermission(Qt.modify))throw new Error("Permission error");var n=this.getPDFPage();return n.doc.api.setImageObjectRotation(n.getPDFDoc().getId(),n.getId(),this.getId(),t).then((function(t){return e.afterUpdated(t)}))}},{key:"getStream",value:function(){var e=this.getPDFPage();return e.doc.api.getImageObjectStream(e.getPDFDoc().getId(),e.getId(),this.getId())}}]),n}(vC),bS=function(){function e(t){(0,C._)(this,e),this.engine=t}return(0,D._)(e,[{key:"get",value:function(e,t){if(!e)return null;var n=this.engine;switch(e.type){case 1:return new mS(e,t,n);case 2:return new yS(e,t,n);case 3:return new _S(e,t,n);case void 0:return null;default:return new vC(e,t,n)}}}]),e}(),wS=n(7147),kS="foxit-default-annot-prop",xS=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r,o){var a;return(0,C._)(this,n),(a=t.call(this)).ioc=o,a.api=new EC.Z(e),a.storage=r.storage,a.annotManager=new pS,a.actionFactory=oD,a.graphicsObjectManager=new bS((0,x._)(a)),a.eventEmitter=i,a.userName=null,a.userConfig={},a.pdfDocCacheMap=new Map,a.clientId=null,a.defaultAnnotConfig=function(){},a.fxjseActionCallback=null,a}return(0,D._)(n,[{key:"setFXJSEActionCallback",value:function(e){this.fxjseActionCallback=e}},{key:"defineRemoteAPI",value:function(e,t){throw new Error("Not implemented")}},{key:"obtainRemoteAPI",value:function(e){throw new Error("Not implemented")}},{key:"init",value:function(){var e=this;return this.api.init().then((function(t){return e.clientId=t.clientId,e.initMessageChannels(),t})).catch((function(e){return Promise.reject(e.error)}))}},{key:"initMessageChannels",value:function(){var e=this.ioc.getInstanceByClass(wS.J);e.init(this),this.defineRemoteAPI($e.FXJSE_ACTION_CALLBACK_API,e),this.uiStateManagerAPI=this.obtainRemoteAPI($e.UI_STATE_MANAGER_API)}},{key:"setIcons",value:function(e){return this.api.setIcons(e)}},{key:"addIcon",value:function(e){return this.api.addIcon(e)}},{key:"removeIcon",value:function(e,t,n){return this.api.removeIcon(e,t,n)}},{key:"removePDFDocById",value:function(e){if(this.pdfDocCacheMap.has(e)){var t=this.pdfDocCacheMap.get(e);t&&(this.pdfDocCacheMap.delete(e),t.destroy())}}},{key:"createPDFDocById",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.pdfDocCacheMap.has(e)?t=this.pdfDocCacheMap.get(e):(t=new dE(e,this,n),this.pdfDocCacheMap.set(e,t)),t}},{key:"removeDoc",value:function(e){this.pdfDocCacheMap.delete(e)}},{key:"getPDFDocByFile",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.fileName=n.fileName||e.name||"",this.api.getPDFDocIdByFile(e,{fileName:n.fileName,isDecryptMipFlow:n.isDecryptMipFlow,jwt:n.jwt,ReadBlockOption:n.ReadBlockOption}).then((function(e){return t.createPDFDocById(e,n)}))}},{key:"checkCertificatePassword",value:function(e,t){return this.api.checkCertificatePassword(e,t)}},{key:"getCertificateInfo",value:function(e,t){return this.api.getCertificateInfo(e,t)}},{key:"createNewDocEx",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"untitled.pdf",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{height:842,width:595};return this.api.createNewDocEx(t,n,i).then((function(n){var i=e.createPDFDocById(n.id,{fileName:t});return Object.assign(i.info,n),i}))}},{key:"createNewDoc",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"untitled.pdf",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{height:842,width:595};return this.api.createNewDoc(t,n,i).then((function(n){return e.getPDFDocByFile(n,{fileName:t})})).then((function(e){return e.parse({password:""})}))}},{key:"createNewPortfolioDoc",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Portfolio.pdf";return this.api.createNewPortfolioDoc(e,t,i).then((function(e){return n.getPDFDocByFile(e,{fileName:i})})).then((function(e){return e.parse({password:""})}))}},{key:"getPDFDocByChunk",value:function(e,t,n){var i=this;return this.api.getPDFDocIdByChunk(e,t).then((function(e){return i.createPDFDocById(e,n)}))}},{key:"getPDFDocByHttpRangeRequest",value:function(e,t){var n=this;return this.api.getPDFDocIdByHttpRangeRequest(e,{jwt:t.jwt}).then((function(e){return n.createPDFDocById(e,t)}))}},{key:"getPDFDocByArrayBuffer",value:function(e,t){var n=this;return this.api.getPDFDocIdByArrayBuffer(e).then((function(e){return n.createPDFDocById(e,t)}))}},{key:"getPDFDocByCacheId",value:function(e,t){return this.pdfDocCacheMap.has(e)?Promise.resolve(this.pdfDocCacheMap.get(e)):this.getPDFDocById(e,t)}},{key:"getPDFDocById",value:function(e,t){return Promise.resolve(this.createPDFDocById(e,t))}},{key:"setUserConfig",value:function(e){this.userConfig=e||{}}},{key:"getUserConfig",value:function(){return this.userConfig}},{key:"getUserCommentConfig",value:function(){return this.userConfig.commentPreference||{}}},{key:"setUserName",value:function(e){var t=this;return this.api.setUserName(e).then((function(n){t.userName=e}))}},{key:"getUserName",value:function(){var e=this;return this.userName?Promise.resolve(this.userName):this.api.getUserName().then((function(t){return e.userName=t,t}))}},{key:"setDynamicInfoFormula",value:function(e,t){return this.api.setDynamicInfoFormula(e,t)}},{key:"getDynamicInfoFormula",value:function(){return this.api.getDynamicInfoFormula()}},{key:"setDigitalTimeFormat",value:function(e){return this.api.setDigitalTimeFormat(e)}},{key:"setDigitalInfo",value:function(e){return this.api.setDigitalInfo(e)}},{key:"getUtils",value:function(){return a}},{key:"getDefaultAnnotConfig",value:function(){var e=this;return function(t,n){var i=e.defaultAnnotConfig(t,n),r=e.getAnnotDefaultProperty(t,n);return(0,W.extendOptions)({},i,r)}}},{key:"setDefaultAnnotConfig",value:function(e){this.defaultAnnotConfig=e}},{key:"initADPs",value:function(){return this.ADPs||(this.ADPs=this.storage.getItem(kS)||{}),this.ADPs}},{key:"getAnnotDefaultProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.initADPs(),this.ADPs[e+t]||{}}},{key:"setAnnotDefaultProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.initADPs(),Object.assign(this.ADPs,(0,z._)({},e+t,n)),this.storage.setItem(kS,this.ADPs)}},{key:"setTabOrder",value:function(e,t,n){return this.api.setTabOrder(e,t,n)}},{key:"getTabOrder",value:function(e,t){return this.api.getTabOrder(e,t)}},{key:"setStructureOrder",value:function(e,t,n){return this.api.setStructureOrder(e,t,n)}},{key:"getAllModuleLicenseRight",value:function(){return this.api.getAllModuleLicenseRight().then((function(e){return e}))}},{key:"getPDFDocFromImageFile",value:function(e){var t,n,i,r,o=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.fileName=a.fileName||e.name||"",this.api.getPDFDocFromImageFile(e).then((function(e){var t=e.docId;return n=e.width,i=e.height,r=e.buffer,o.createPDFDocById(t,a).parse({password:""})})).then((function(e){return t=e,e.getPageByIndex(0)})).then((function(e){return e.addImage(r,{left:0,top:i,right:n,bottom:0})})).then((function(e){if(e)return t;throw new Error("faied to insert image")})).catch((function(e){return e&&console.error(e),Promise.reject(e)}))}},{key:"ensureSideModeLoaded",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"openssl";return this.api.ensureSideModeLoaded(e)}}]),n}(W.Disposable);const PS=xS;var CS,DS=[],ES=function(){function e(){(0,C._)(this,e),this.container=document.createElement("div"),this.container.className="fv__printer-container";var t=document.createElement("style");t.innerHTML="\n            .fv__printer-container {\n                display: none;\n                position: fixed;\n                top: 0;\n                left: 0;\n            }\n            @media print {\n                * {\n                    display: none!important;\n                }\n                html, body {\n                    width: 100% !important;\n                    height: 100% !important;\n                    max-width: none !important;\n                }\n                html {\n                    display: block! important;\n                }\n\n                body {\n                    display: block! important;\n                    overflow: visible !important;\n                    padding: 0;\n                    margin: 0 !important;\n                }\n                .fv__printer-container {\n                    display: block !important;\n                    height: 100%;\n                    width: 100%;\n                    padding: 0;\n                    top: 0;\n                    bottom: 0;\n                    left: 0;\n                    right: 0;\n                    position: absolute;\n                }\n\n                .fv__printer-container img {\n                    display: block !important;\n                    max-width: 100%;\n                    max-height: 100%;\n                    height: 100%;\n                    width: 100%;\n                    object-fit: contain;\n                    page-break-after: always;\n                    padding: 0;\n                    margin: 0;\n                }\n            }\n        ",this.styleElement=t,this.imageCache=[]}return(0,D._)(e,[{key:"setTitle",value:function(e){this.title=e}},{key:"appendImage",value:function(e){return this.imageCache.push(this.createImageDOM(this.imageCache.length,e))}},{key:"getImageCache",value:function(){return this.imageCache}},{key:"clearImageCache",value:function(){this.imageCache=[]}},{key:"createImageDOM",value:function(e,t){var n=document.createElement("img");n.setAttribute("data-index",e);var i=new W.Defer;return n.onload=function(){i.resolve(n)},n.onerror=function(e){i.reject(e)},n.src=t,i.promise}},{key:"print",value:function(e,t,n){var i=this;return(0,P._)((function(){var n,r,o,a,s,c,u;return(0,L.Jh)(this,(function(l){switch(l.label){case 0:return W.isIE&&e&&function(){var e="HKEY_CURRENT_USER",t="\\Software\\Microsoft Internet Explorer\\PageSetup ";try{var n,i=new ActiveXObject("WScript.Shell");n="header",i.RegWrite(e+t+n,""),n="footer",i.RegWrite(e+t+n,"")}catch(e){console.error(e)}}(),DS.forEach((function(e){return e()})),i.container.innerHTML="",e&&((r=document.createElement("style")).innerHTML="\n                @media print {\n                    img:after, a:after {\n                        content: none !important;\n                    }\n                        @page {\n                            size: auto;\n                            margin: 0;\n                        }\n                }\n            ",i.container.appendChild(r)),[4,Promise.all(t||i.imageCache)];case 1:return o=l.sent(),a=document.createDocumentFragment(),(n=a).append.apply(n,(0,M._)(o)),i.container.appendChild(i.styleElement),i.container.appendChild(a),document.body.appendChild(i.container),s=document.title,c=new W.Defer,window.addEventListener("beforeprint",(function(){i.title&&(document.title=i.title)}),{once:!0}),u=function(){document.title=s,i.imageCache.length=0,i.container.innerHTML="",i.container.remove(),c.resolve()},W.isDesktop?window.addEventListener("afterprint",(function(){u()}),{once:!0}):DS.push(u),window.print(),[4,c.promise];case 2:return l.sent(),[2]}}))}))()}}]),e}();function SS(e,t){var n,i=(0,M._)(e.data.annots);if(t.action===Nd.REMOVE_ANNOT){for(var r=t.data.slice(0),o=0;o<r.length;){for(var a=r[o],s=a.annotId,c=a.pageIndex,u=!1,l=0;l<i.length;){var A=i[l];A.name===s&&A.page===c?(i.splice(l,1),u=!0):l++}u?r.splice(o,1):o++}var d=[];return i.length>0&&d.push({version:Math.min(e.version,t.version),fileId:e.fileId,action:Nd.UPDATE_ANNOT,data:{annots:i}}),r.length>0&&d.push({version:Math.max(e.version,t.version),fileId:e.fileId,action:t.action,data:r}),d}return(n=i).push.apply(n,(0,M._)(t.data.annots)),[{version:Math.max(e.version,t.version),fileId:e.fileId,action:Nd.UPDATE_ANNOT,format:e.format,data:{annots:i}}]}function IS(e){var t=e;return!(t.action!==Nd.UPDATE_ANNOT&&t.action!==Nd.CREATE_ANNOT||t.format&&t.format!==CS.json)}function TS(e){return e.action===Nd.REMOVE_ANNOT}!function(e){e.json="json",e.fdf="fdf"}(CS||(CS={}));var RS=n(1550);var MS=n(2251);function FS(e){var t="function"==typeof Map?new Map:void 0;return FS=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return(0,RS._)(e,arguments,(0,S._)(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),(0,MS._)(i,e)},FS(e)}var NS,LS=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this,e)).name="CollaborationDataError",i}return n}(FS(Error)),OS=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this,'No handler found for collaboration action: "'.concat(e.action,'", that will be ignored!'))).name="NoHandlerFoundForCollaborationDataError",i}return n}(FS(Error)),jS=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;return(0,C._)(this,n),(e=t.call(this,"No files area currently open, cannot handling the received collaboration data")).name="PDFDocumentNotOpeningError",e}return n}(FS(Error)),BS=function(){function e(t){(0,C._)(this,e),(0,z._)(this,"handler",void 0),this.handler=t.reduce((function(e,t){return new VS(t,e)}))}return(0,D._)(e,[{key:"accept",value:function(e){return Promise.resolve(!0)}},{key:"receive",value:function(e,t){return this.handler.receive(e,t)}}]),e}(),VS=function(){function e(t,n){(0,C._)(this,e),(0,z._)(this,"handler",void 0),(0,z._)(this,"prevHandler",void 0),this.handler=t,this.prevHandler=n}return(0,D._)(e,[{key:"accept",value:function(e){return Promise.resolve(!0)}},{key:"receive",value:function(e,t){return this.handler.receive(e,this.prevHandler||t)}}]),e}();!function(e){e.FROM_FILE="from-file",e.FROM_URL="from-url"}(NS||(NS={}));var US=W.LoggerFactory.getLogger("Collaboration");function HS(e,t){return e<15}var zS=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r;(0,C._)(this,n),r=t.call(this),(0,z._)((0,x._)(r),"pdfViewer",void 0),(0,z._)((0,x._)(r),"builtInHandlerInstances",void 0),(0,z._)((0,x._)(r),"userHandlerInstances",void 0),(0,z._)((0,x._)(r),"version",void 0),(0,z._)((0,x._)(r),"queuedExecutor",void 0),(0,z._)((0,x._)(r),"sessionDefer",void 0),(0,z._)((0,x._)(r),"isOpenedFromOtherClient",void 0),(0,z._)((0,x._)(r),"localDataOnDisconnected",void 0),(0,z._)((0,x._)(r),"communicator",void 0),(0,z._)((0,x._)(r),"continueToConnect",void 0),(0,z._)((0,x._)(r),"annotationDataFormat",void 0),r.pdfViewer=e,r.builtInHandlerInstances=[],r.userHandlerInstances=[],r.version=0,r.queuedExecutor=new W.QueuedAsyncTaskExecutor,r.sessionDefer=(0,W.createDeferred)(),r.isOpenedFromOtherClient=!1,r.localDataOnDisconnected=[],r.communicator=i.communicator,r.annotationDataFormat=i.annotationFormat||"json",r.continueToConnect=i.continueToConnect||HS;var o=i.handlerClasses;return Array.isArray(o)&&o.forEach((function(e){r.registerUserHandler(e)})),r}return(0,D._)(n,[{key:"registerBuiltInHandler",value:function(e){this.builtInHandlerInstances.push(new e(this.pdfViewer))}},{key:"registerUserHandler",value:function(e){this.userHandlerInstances.push(new e(this.pdfViewer))}},{key:"registerCollabDataHandler",value:function(e,t){if("function"==typeof e){if(!e.prototype.accept||!e.prototype.receive)throw new Error("Illegal collaboration data handler: "+e);this.registerUserHandler(e)}else"string"==typeof e&&"function"==typeof t&&this.registerUserHandler(function(){function n(){(0,C._)(this,n)}return(0,D._)(n,[{key:"accept",value:function(t){return Promise.resolve(t.action===e)}},{key:"receive",value:function(e,n){return t.call(this,e,(function(e){return n?n.receive(e):Promise.resolve()}))}}]),n}())}},{key:"prepare",value:function(){var e=this;this.communicator.registerMessageReceiver((function(t){e.queuedExecutor.exec((function(){return e.handleServerMessage(t)}))}));var t=function(t){e.collaborateAddAnnotation(t)},n={},i=function(e){var t,i=e.annot;"link"!==i.info.type&&"screen"!==i.info.type&&(t=i.isGrouped&&i.isGrouped()?i.getGroupElements():[i],n[i.getId()]={action:Nd.REMOVE_ANNOT,data:t.map((function(e){return{annotId:e.getUniqueID(),pageIndex:e.getPDFPage().getIndex()}}))})},r=function(t,i){var r=i.getId(),o=n[r];o&&e.send(o),delete n[r]},o=function(t){var n=t.annot;e.collaborateUpadteAnnotation(n)},a=function(t,n){e.shareAndSyncCurrentFile(t,n)},s=function(){e.isOpenedFromOtherClient=!1,e.version=0,e.communicator.disconnect(),e.sessionDefer=(0,W.createDeferred)()},c=function(e){e.normalize()},u=this.pdfViewer.eventEmitter;u.on(se.addAnnotSuccess,t),u.on(se.removeActionAnnotationBefore,i),u.on(se.removeActiveAnnotationSuccess,r),u.on(se.updateActiveAnnotation,o),u.on(se.openFileSuccess,a),u.on(se.willCloseDocument,s),u.on(se.obtainsPageFromEngine,c),this.addDestroyHook((function(){u.off(se.addAnnotSuccess,t),u.off(se.removeActionAnnotationBefore,i),u.off(se.removeActiveAnnotationSuccess,r),u.off(se.updateActiveAnnotation,o),u.off(se.openFileSuccess,a),u.off(se.willCloseDocument,s),u.off(se.obtainsPageFromEngine,c)}))}},{key:"shareAndSyncCurrentFile",value:function(e,t){var n=this;return this.isOpenedFromOtherClient?this.sessionDefer.promise.then((function(t){return n.sync().then((function(){return n.communicator.connect(t.shareId),e}))})):(delete t.options.password,this.communicator.createSession(e,t).then((function(e){return n.sessionDefer.resolve({shareId:e,openFileParams:t}),n.communicator.connect(e)})).then((function(){return n.sync()})))}},{key:"collaborateUpadteAnnotation",value:function(e){var t,n=this;if(t=(t=e.isGrouped&&e.isGrouped()?e.getGroupElements():[e]).filter((function(e){return"screen"!==e.info.type&&"link"!==e.info.type})),0!==t.length)if("json"===this.annotationDataFormat)e.page.doc.exportAnnotsToJSON(t).then((function(e){n.send({action:Nd.UPDATE_ANNOT,format:CS.json,data:{annots:e}})}));else{var i="xfdf"===this.annotationDataFormat;e.page.doc.exportAnnotsToFDF(i?at.xfdf:at.fdf,t).then((function(e){return TC(e)})).then((function(e){n.send({action:Nd.UPDATE_ANNOT,format:CS.fdf,data:{fdf:e,annots:t.map((function(e){return{page:e.page.getIndex(),id:e.getUniqueID()}}))}})}))}}},{key:"collaborateAddAnnotation",value:function(e){var t,n=this;if(t=(t="function"==typeof e.isGrouped&&e.isGrouped()?e.getGroupElements():[e]).filter((function(e){return"screen"!==e.info.type&&"link"!==e.info.type})),0!==t.length)if("json"===this.annotationDataFormat)e.page.doc.exportAnnotsToJSON(t).then((function(e){n.send({action:Nd.CREATE_ANNOT,data:{annots:e}})}));else{var i="xfdf"===this.annotationDataFormat;e.page.doc.exportAnnotsToFDF(i?at.xfdf:at.fdf,t).then((function(e){return TC(e)})).then((function(e){n.send({action:Nd.CREATE_ANNOT,format:CS.fdf,data:{fdf:e,annots:t.map((function(e){return{page:e.page.getIndex(),id:e.getUniqueID()}}))}})}))}}},{key:"getSessionInfo",value:function(){return this.sessionDefer.promise}},{key:"getShareId",value:function(){return this.sessionDefer.promise.then((function(e){return e.shareId}))}},{key:"send",value:function(e){var t=this;return this.communicator?this.queuedExecutor.exec((function(){return t.reconnectIfNecessary().then((function(){return t.sessionDefer.promise})).then((function(e){return t.localDataOnDisconnected.length>0?t.sync().then((function(){return e})):e})).then((function(n){var i=t.localDataOnDisconnected.concat(e).map((function(e){var i=t.pdfViewer.getCurrentPDFDoc(),r=(0,k._)((0,w._)({},e),{version:++t.version,fileId:i.info.fileID});return t.communicator.send(n,JSON.stringify(r))}));return t.localDataOnDisconnected.length=0,Promise.all(i)}),(function(n){return t.localDataOnDisconnected.push(e),Promise.reject(n)}))})):Ce}},{key:"openFileByShareId",value:function(e){var t,n=this;return this.communicator.getSessionInfo(e).then((t=(0,P._)((function(e){var t,i,r,o;return(0,L.Jh)(this,(function(a){switch(a.label){case 0:if(!e)throw(t=new Error("Unexpected session info for opening file: "+JSON.stringify(e))).error=Je.collaborationSession,t;switch(n.sessionDefer.resolve(e),(i=e.openFileParams).type){case NS.FROM_FILE:return[3,1];case NS.FROM_URL:return[3,3]}return[3,4];case 1:return n.isOpenedFromOtherClient=!0,[4,i.file()];case 2:return r=a.sent(),[2,n.pdfViewer.openPDFByFile(r,i.options||{})];case 3:return n.isOpenedFromOtherClient=!0,[2,n.pdfViewer.openPDFByHttpRangeRequest({range:i.range,size:i.size},i.options)];case 4:throw(o=new Error("Unexpected session info for opening file:"+JSON.stringify(i))).error=Je.collaborationSession,o;case 5:return[2]}}))})),function(e){return t.apply(this,arguments)}))}},{key:"destroy",value:function(){(0,E._)((0,S._)(n.prototype),"destroy",this).call(this),this.communicator.destroy()}},{key:"reconnectIfNecessary",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=function(n){if(!e.continueToConnect(t,n))throw new Error("Failed to reconnect to the collaboration server");return e.reconnectIfNecessary(t+1)};return this.communicator.isConnected().then((function(t){return!!t||e.sessionDefer.promise.then((function(t){var i=t.shareId;return e.communicator.connect(i).then((function(){return e.communicator.isConnected()})).then((function(e){if(!e)return n(i)}),(function(e){return W.LoggerFactory.getLogger("COLLABORATION").error("An error occurred while connect to the collaboration server",e),n(i)}))}))}))}},{key:"sync",value:function(){var e=this;return this.sessionDefer.promise.then((function(t){var n=t.shareId;return e.communicator.getLostData(n,e.version)})).then((function(t){if(t&&0!==t.length)return e.version=t[t.length-1].version,function(e){if(e.length<1)return e;for(var t=[e[0]],n=1,i=e.length;n<i;n++){var r,o=t[t.length-1],a=e[n];IS(o)&&(IS(a)||TS(a))?((r=t).splice.apply(r,[t.length-1,1].concat((0,M._)(SS(o,a)))),0===t.length&&(n<i-1&&t.push(e[n+1]),n++)):t.push(a)}return t.forEach((function(e){e.action===Nd.UPDATE_ANNOT&&(e.data.annots=e.data.annots.reduceRight((function(e,t){var n=e.findIndex((function(e){return e.name===t.name}));return-1===n&&e.push(t),e}),[]))})),t}(t).reduce((function(t,n){return e.findHandler(n).then((function(e){var i=(0,R._)(e,2),r=i[0],o=i[1];return r?t.finally((function(){return r.receive(n,o)})):(US.warn(new OS(n)),t)}))}),Ce)}))}},{key:"findHandlerAsync",value:function(e,t,n){var i=function(e,t,r){return r>=e.length?Promise.resolve(void 0):e[r].accept(t).then((function(o){if(o&&n(e[r]))return;return i(e,t,r+1)}))};return i(e,t,0)}},{key:"findFirstHandlerAsync",value:function(e,t){var n=(0,W.createDeferred)();return this.findHandlerAsync(e,t,(function(e){return n.resolve(e),!0})),n.promise}},{key:"findAllMatchHandlersAsync",value:function(e,t){var n=[];return this.findHandlerAsync(e,t,(function(e){return n.push(e),!1})).then((function(){return n}))}},{key:"findHandler",value:function(e){var t=this;return this.findAllMatchHandlersAsync(this.userHandlerInstances,e).then((function(n){return t.findFirstHandlerAsync(t.builtInHandlerInstances,e).then((function(e){switch(n.length){case 0:return[e,e];case 1:return[n[0],e]}return[new BS(n),e]}))}))}},{key:"handleServerMessage",value:function(e){var t=this,n=this.pdfViewer.getCurrentPDFDoc();if(!n)throw new jS;var i=n.info.fileID,r=JSON.parse(e);if(!this.isSameFileID(r.fileId,i))throw new LS("File id not match! remote: ".concat(r.fileId,", local: ").concat(i));return this.findHandler(r).then((function(n){var i=(0,R._)(n,2),o=i[0],a=i[1];if(o)return r.version-t.version!=1?t.sync():(t.version=r.version,o.receive(r,a));throw new LS("No handler found for the collaboration data: "+e)}))}},{key:"isSameFileID",value:function(e,t){return e.length===t.length&&!e.some((function(e){return-1===t.indexOf(e)}))}}]),n}(W.Disposable),WS=function(){function e(t){(0,C._)(this,e),(0,z._)(this,"action",void 0),this.action=t}return(0,D._)(e,[{key:"accept",value:function(e){return Promise.resolve(e.action===this.action)}}]),e}(),GS=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),i=t.call(this,Nd.CREATE_ANNOT),(0,z._)((0,x._)(i),"pdfViewer",void 0),i.pdfViewer=e,i}return(0,D._)(n,[{key:"receive",value:function(e,t){var n=this,i=this.pdfViewer.getCurrentPDFDoc();if(function(e){return e.format===CS.fdf}(e)){var r=RC(e.data.fdf);return i.importAnnotsFromFDF(r).then((function(){e.data.annots.forEach((function(e){var t=e.page,i=e.id,r=n.pdfViewer.getAnnotRender(t,i);r&&r.redraw(!1,!0)}))}))}var o=e.data.annots.filter((function(e){return"link"!==e.type&&"screen"!==e.type}));return i.importAnnotsFromJSON(o)}}]),n}(WS);var YS=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),i=t.call(this,Nd.REMOVE_ANNOT),(0,z._)((0,x._)(i),"pdfViewer",void 0),i.pdfViewer=e,i}return(0,D._)(n,[{key:"receive",value:function(e,t){var n=this.pdfViewer.getCurrentPDFDoc();return Promise.all(e.data.map((function(e){return n.getPageByIndex(e.pageIndex).then((function(t){return"string"==typeof e.annotId?t.removeAnnotById(e.annotId):t.removeAnnotByObjectNumber(e.annotId)}))}))).then(tr)}}]),n}(WS),$S=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),i=t.call(this,Nd.UPDATE_ANNOT),(0,z._)((0,x._)(i),"pdfViewer",void 0),i.pdfViewer=e,i}return(0,D._)(n,[{key:"receive",value:function(e,t){var n=this,i=this.pdfViewer.getCurrentPDFDoc();if(function(e){return e.format===CS.fdf}(e)){var r=RC(e.data.fdf);return i.importAnnotsFromFDF(r).then((function(){e.data.annots.forEach((function(e){var t=e.page,i=e.id,r=n.pdfViewer.getAnnotRender(t,i);if(r){r.redraw(!1,!0);var o=r.component;o&&o.isActive&&o.active()}}))}))}var o=e.data.annots.filter((function(e){return"link"!==e.type&&"screen"!==e.type}));return i.importAnnotsFromJSON(o).then((function(e){o.forEach((function(e){var t=n.pdfViewer.getAnnotRender(e.page,e.name);if(t){t.redraw(!1,!0);var i=t.component;i&&i.isActive&&i.active()}}))}))}}]),n}(WS);var JS,qS,KS,ZS=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),i=t.call(this,Nd.PPO_INSERT_PAGE),(0,z._)((0,x._)(i),"pdfViewer",void 0),i.pdfViewer=e,i}return(0,D._)(n,[{key:"receive",value:function(e,t){var n=this.pdfViewer.getCurrentPDFDoc(),i=e.data,r=i.pageIndex,o=i.width,a=i.height;return n.insertPage(r,o,a)}}]),n}(WS),XS=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),i=t.call(this,Nd.PPO_REMOVE_PAGE),(0,z._)((0,x._)(i),"pdfViewer",void 0),i.pdfViewer=e,i}return(0,D._)(n,[{key:"receive",value:function(e,t){return this.pdfViewer.getCurrentPDFDoc().removePage(e.data.pageIndex)}}]),n}(WS),QS=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),i=t.call(this,Nd.PPO_ROTATE_PAGE),(0,z._)((0,x._)(i),"pdfViewer",void 0),i.pdfViewer=e,i}return(0,D._)(n,[{key:"receive",value:function(e,t){var n=this.pdfViewer.getCurrentPDFDoc(),i=Math.floor((e.data.angle%360+360)%360/90)%4;return n.getPageByIndex(e.data.pageIndex).then((function(e){return e.setRotation(i)}))}}]),n}(WS),eI=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),i=t.call(this,Nd.PPO_MOVE_PAGE),(0,z._)((0,x._)(i),"pdfViewer",void 0),i.pdfViewer=e,i}return(0,D._)(n,[{key:"receive",value:function(e,t){var n=this,i=this.pdfViewer.getCurrentPDFDoc(),r=e.data,o=r.sourceIndex,a=r.destIndex;return i.movePageTo(o,a).then((function(){n.pdfViewer.goToPage(a,0,0,!1)}))}}]),n}(WS),tI=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),i=t.call(this,Nd.ADD_REPLY),(0,z._)((0,x._)(i),"pdfViewer",void 0),i.pdfViewer=e,i}return(0,D._)(n,[{key:"receive",value:function(e,t){var n=e.data,i=n.pageIndex,r=n.annotId,o=n.reply;return this.pdfViewer.getCurrentPDFDoc().getPageByIndex(i).then((function(e){return"string"==typeof r?e.getAnnotsByIdArray([r]):e.getAnnotsByObjectNumArray([r])})).then((function(e){var t=(0,R._)(e,1)[0];if(t)return t.addReply(o)}))}}]),n}(WS),nI=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),i=t.call(this,Nd.REMOVE_REPLY),(0,z._)((0,x._)(i),"pdfViewer",void 0),i.pdfViewer=e,i}return(0,D._)(n,[{key:"receive",value:function(e,t){var n=this.pdfViewer.getCurrentPDFDoc(),i=e.data,r=i.pageIndex,o=i.replyId;return n.getPageByIndex(r).then((function(e){return"string"==typeof o?e.removeAnnotById(o):e.removeAnnotByObjectNumber(o)}))}}]),n}(WS),iI=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),i=t.call(this,Nd.ADD_REVIEW_STATE),(0,z._)((0,x._)(i),"pdfViewer",void 0),i.pdfViewer=e,i}return(0,D._)(n,[{key:"receive",value:function(e,t){var n=e.data,i=n.pageIndex,r=n.annotId,o=n.stateAnnotJSON;return this.pdfViewer.getCurrentPDFDoc().getPageByIndex(i).then((function(e){return"string"==typeof r?e.getAnnotsByIdArray([r]):e.getAnnotsByObjectNumArray([r])})).then((function(e){var t=(0,R._)(e,1)[0];if(t)return t.addReviewState(o)}))}}]),n}(WS),rI=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),i=t.call(this,Nd.UPDATE_ANNOT_CONTENT),(0,z._)((0,x._)(i),"pdfViewer",void 0),i.pdfViewer=e,i}return(0,D._)(n,[{key:"receive",value:function(e,t){var n=e.data,i=n.pageIndex,r=n.annotId,o=n.content;return this.pdfViewer.getCurrentPDFDoc().getPageByIndex(i).then((function(e){return"string"==typeof r?e.getAnnotsByIdArray([r]):e.getAnnotsByObjectNumArray([r])})).then((function(e){var t=(0,R._)(e,1)[0];if(t)return t.setContent(o)}))}}]),n}(WS),oI=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,C._)(this,e),(0,z._)(this,"permissions",void 0),(0,z._)(this,"noPermission",void 0),this.permissions=t,this.noPermission=n}return(0,D._)(e,[{key:"has",value:function(e){return!this.noPermission&&(0===this.permissions.length||(this.permissions.indexOf(n_.fully)>-1||this.permissions.indexOf(e)>-1))}},{key:"ignorable",value:function(){return!this.noPermission&&0===this.permissions.length}},{key:"isModifiable",value:function(){return this.has(n_.modifiable)}},{key:"isPlayable",value:function(){return this.has(n_.playable)}},{key:"isAdjustable",value:function(){return this.has(n_.adjustable)}},{key:"isEditable",value:function(){return this.has(n_.editable)}},{key:"isDeletable",value:function(){return this.has(n_.deletable)}},{key:"isAttachmentDownloadable",value:function(){return this.has(n_.attachmentDownloadable)}},{key:"isRedactionApplicable",value:function(){return!0}},{key:"isReplyable",value:function(){return this.has(n_.replyable)}},{key:"equalsTo",value:function(t){if(!t||!(0,T._)(t,e))return!1;var n=this.permissions,i=t.permissions;return n.length===i.length&&(this.noPermission===t.noPermission&&!n.some((function(e){return-1===i.indexOf(e)})))}}],[{key:"fully",value:function(){return JS||(JS=new e([n_.fully])),JS}},{key:"ignorable",value:function(){return qS||(qS=new e([])),qS}},{key:"none",value:function(){return KS||(KS=new e([],!0)),KS}},{key:"union",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(n.every((function(e){return e.ignorable()})))return e.ignorable();if(n.some((function(e){return e.noPermission})))return e.none();var r=Array.from(new Set(n.map((function(e){return e.permissions})).flat())).filter((function(e){return n.every((function(t){return t.has(e)}))}));return new e(r)}}]),e}(),aI=W.LoggerFactory.getLogger("AnnotationAuthorityManager"),sI=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i){var r;(0,C._)(this,n),r=t.call(this),(0,z._)((0,x._)(r),"pdfViewer",void 0),(0,z._)((0,x._)(r),"getAnnotPermissionCallback",void 0),(0,z._)((0,x._)(r),"store",void 0),(0,z._)((0,x._)(r),"cachedAnnots",void 0),(0,z._)((0,x._)(r),"isUpdateAllAfterImport",void 0),r.pdfViewer=e,r.getAnnotPermissionCallback=i,r.store=new W.Store,r.cachedAnnots={},r.isUpdateAllAfterImport=!1;var o=function(e){Array.isArray(e)&&e.length>0&&e.forEach((function(e){var t=r.generateKey(e);delete r.cachedAnnots[t]}))},a=function(e,t){o(t)},s=function(e){e.forEach((function(e){return r.update(e)}))},c=function(e){r.update(e)},u=function(e,t){r.isUpdateAllAfterImport?r.updateAll():t.forEach((function(e){e.newAnnots.forEach((function(e){return r.update(e)}))}))},l=function(e,t,n){t.forEach((function(e){r.update(e)}))},A=function(e){e.forEach((function(e){r.update(e)}))};return e.eventEmitter.on(se.annotationRemoved,o),e.eventEmitter.on(se.flattenAnnotation,a),e.eventEmitter.on(se.annotationAdd,s),e.eventEmitter.on(se.annotationImported,u),e.eventEmitter.on(se.annotationLoaded,l),e.eventEmitter.on(se.annotationReplyAdd,c),e.eventEmitter.on(se.annotationUpdated,A),r.addDestroyHook((function(){e.eventEmitter.off(se.annotationRemoved,o),e.eventEmitter.off(se.flattenAnnotation,a),e.eventEmitter.off(se.annotationAdd,s),e.eventEmitter.off(se.annotationImported,u),e.eventEmitter.off(se.annotationLoaded,l),e.eventEmitter.off(se.annotationReplyAdd,c),e.eventEmitter.on(se.annotationUpdated,A),r.clear(),r.store.destroy()})),r}return(0,D._)(n,[{key:"getPermission",value:function(e){if(!e.page||e.isDestroyed)return Promise.resolve(oI.none());var t=this.generateKey(e);return this.store.has(t)||this.update(e),this.store.takeWhile(t)}},{key:"update",value:function(e){var t=this;if(!e||e.isDestroyed)return Promise.resolve(oI.none());var n=this.generateKey(e);if(e.isDeleted()){var i=Promise.resolve(oI.ignorable());return this.store.dispatch(n,i),delete this.cachedAnnots[n],i}var r=this.store.getCurrentValue(n)||Ce,o=(this.getAnnotPermissionCallback(e)||Ce).then((function(n){var i;return i=n?0===n.length?oI.none():new oI(n):oI.ignorable(),r.then((function(n){if(!i.equalsTo(n))try{t.pdfViewer.eventEmitter.emit(se.annotationPermissionChanged,e,i,n)}catch(e){aI.error("An error occurred inside the listener of ViewerEvents.annotationPermissionChanged",e)}})),i}));return this.store.dispatch(n,o),this.cachedAnnots[n]=e,o}},{key:"setAnnotPermissionCallback",value:function(e){this.getAnnotPermissionCallback=e}},{key:"subscribe",value:function(e,t){var n=this.generateKey(e);return this.store.subscribe(n,(function(n){n.then((function(n){t(n,e)}))}))}},{key:"updateAll",value:function(){var e=this;return Promise.all(Object.keys(this.cachedAnnots).filter((function(t){var n=e.cachedAnnots[t].isDeleted();return n&&delete e.cachedAnnots[t],!n})).map((function(t){return e.update(e.cachedAnnots[t])})))}},{key:"generateKey",value:function(e){return"".concat(e.page.getId(),"/").concat(e.getId())}},{key:"clear",value:function(){this.store.clear(),this.cachedAnnots={}}},{key:"setUpdateAllAfterImported",value:function(e){this.isUpdateAllAfterImport=e}}]),n}(W.Disposable),cI=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),i=t.call(this,Nd.MOVE_ANNOTS_BETWEEN_PAGES),(0,z._)((0,x._)(i),"pdfViewer",void 0),i.pdfViewer=e,i}return(0,D._)(n,[{key:"receive",value:function(e,t){var n=this.pdfViewer.getCurrentPDFDoc();return Promise.all([n.getPageByIndex(e.data.fromPageIndex),n.getPageByIndex(e.data.toPageIndex)]).then((function(t){var i=(0,R._)(t,2),r=i[0],o=i[1],a=e.data.annots,s=Object.keys(a);return r.getAnnotsByIdArray(s).then((function(e){var t=e.reduce((function(e,t){return e[t.getObjectNumber()]=a[t.getUniqueID()],e}),{});return n.moveAnnotsToPage(r,o,t)}))}))}}]),n}(WS),uI=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),i=t.call(this,Nd.ADD_MARKED_STATE),(0,z._)((0,x._)(i),"pdfViewer",void 0),i.pdfViewer=e,i}return(0,D._)(n,[{key:"receive",value:function(e,t){var n=e.data,i=n.pageIndex,r=n.annotId,o=n.stateAnnotJSON;return this.pdfViewer.getCurrentPDFDoc().getPageByIndex(i).then((function(e){return e.getAnnotsByObjectNumArray([r])})).then((function(e){var t=(0,R._)(e,1)[0];if(t)return t.addMarkedState(o)}))}}]),n}(WS),lI=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),i=t.call(this,Nd.IMPORT_ANNOTATIONS_FILE),(0,z._)((0,x._)(i),"pdfViewer",void 0),i.pdfViewer=e,i}return(0,D._)(n,[{key:"receive",value:function(e,t){for(var n=e.data.file,i=atob(n),r=new Uint8Array(new ArrayBuffer(i.length)),o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return this.pdfViewer.getCurrentPDFDoc().importAnnotsFromFDF(r)}}]),n}(WS),AI=n(9960);function dI(e){return/^[\d\(\)\.\-\s]*\d+[\d\(\)\.\-\s]*$/.test(e)}function hI(e){var t=e.getFlags();return e.getType()===pn.Text&&!vn.isPassword(t)&&!vn.isHidden(t)&&!vn.isReadOnly(t)}function fI(e){return{text:e}}var pI,vI=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,C._)(this,e);var n=this.dbName="autocomplete",i=this.primaryName="text";this.db=new AI.IndexDBStore(n,Ie+n,1,i),this.pdfViewer=t}return(0,D._)(e,[{key:"getFormEntries",value:function(){var e=this;return this.pdfViewer?this.pdfViewer.getCurrentPDFDoc().loadPDFForm().then((function(t){var n=[],i=t.fields,r=e.pdfViewer.getAutoCompleteSetting().rememberNumericalData,o=!0,a=!1,s=void 0;try{for(var c,u=i[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var l=c.value;if(hI(l)){var A=l.getValue();if(!r&&dI(A))continue;n.push(fI(l.getValue()))}}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}return n})):Promise.resolve([])}},{key:"getDbEntries",value:function(){return this.db.getAll()}},{key:"getAllEntries",value:function(){var e=this;return Promise.all([this.getFormEntries(),this.getDbEntries()]).then((function(t){var n=(0,R._)(t,2),i=n[0],r=n[1];i=i||[],r=r||[];var o={},a=!0,s=!1,c=void 0;try{for(var u,l=i[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var A=u.value;o[A[e.primaryName]]=A}}catch(e){s=!0,c=e}finally{try{a||null==l.return||l.return()}finally{if(s)throw c}}var d=!0,h=!1,f=void 0;try{for(var p,v=r[Symbol.iterator]();!(d=(p=v.next()).done);d=!0){var g=p.value;o[g[e.primaryName]]=g}}catch(e){h=!0,f=e}finally{try{d||null==v.return||v.return()}finally{if(h)throw f}}return Object.values(o)}))}},{key:"saveDbEntry",value:function(e){!this.pdfViewer.getAutoCompleteSetting().rememberNumericalData&&dI(e)||this.db.add(fI(e))}},{key:"clearDbEntries",value:function(){return this.db.clear()}},{key:"deleteEntry",value:function(e){return this.db.remove(e)}}]),e}(),gI=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"set",value:function(e){(0,E._)((0,S._)(n.prototype),"dispatch",this).call(this,"change",e)}},{key:"get",value:function(){return(0,E._)((0,S._)(n.prototype),"getCurrentValue",this).call(this,"change")}},{key:"onchange",value:function(e){return(0,E._)((0,S._)(n.prototype),"subscribe",this).call(this,"change",(function(t){e(t)}))}}]),n}(W.Store);!function(e){e.playing="playing",e.paused="paused",e.stopped="stopped"}(pI||(pI={}));var mI=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;return(0,C._)(this,n),e=t.call(this),(0,z._)((0,x._)(e),"status",pI.stopped),(0,z._)((0,x._)(e),"currentPlayingOptions",void 0),(0,z._)((0,x._)(e),"statusStore",new gI),e}return(0,D._)(n,[{key:"pause",value:function(){this.status===pI.playing&&(this.status=pI.paused,this.statusStore.set(this.status),this.doPause())}},{key:"resume",value:function(){this.status===pI.paused&&(this.status=pI.playing,this.statusStore.set(this.status),this.doResume())}},{key:"stop",value:function(){this.status!==pI.stopped&&(this.status=pI.stopped,this.statusStore.set(this.status),this.currentPlayingOptions=void 0,this.doStop())}},{key:"play",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{rate:1,pitch:1,volume:1};this.currentPlayingOptions=n,this.status=pI.playing,this.statusStore.set(this.status);var i,r,o=[],a=new W.QueuedAsyncTaskExecutor,s=new W.QueuedAsyncTaskExecutor,c=!1,u=!1,l=this.statusStore.onchange((function(e){(u=e===pI.stopped)&&(clearTimeout(r),a.cancel(),s.cancel(),l&&l())})),A=!0,d=!1,h=void 0;try{for(var f,p=function(){var e=f.value;a.exec((function(){if(!u)return e.then((function(e){var t;if(!u){var n=e.text.split(" ");if(0===n.length){if(!i)return;n[0]=i,i=void 0}else i&&("-"===i[i.length-1]?n[0]=i.substr(0,i.length-1)+n[0]:n.unshift(i),i=void 0);i=n[n.length-1],n.splice(-1,1),(t=o).push.apply(t,(0,M._)(n))}}))}))},v=e[Symbol.iterator]();!(A=(f=v.next()).done);A=!0)p()}catch(e){d=!0,h=e}finally{try{A||null==v.return||v.return()}finally{if(d)throw h}}return a.waitForCurrentRunningTasks().then((function(){c=!0,i&&(o.push(i),i=void 0)})),new Promise((function(e,n){var i=function(){if(u)s.waitForCurrentRunningTasks().then(e,n);else{if(o.length>0){var a=function(e){var t=[];return e.split(/[\n\t\.。;，]+|\s{2}/).forEach((function(e){var n;-1===e.indexOf(",")?t.push(e):(n=t).push.apply(n,(0,M._)(e.replace(/\d+(,\d{3})+|,/g,(function(e){return","===e?",,":e})).split(",,")))})),t}(o.join(" "));a.forEach((function(n){n&&s.exec((function(){return t.speakText(n,t.currentPlayingOptions)})).finally((function(){u&&e()}))}))}o.length=0,c?s.waitForCurrentRunningTasks().then(e,n):r=setTimeout(i)}};r=setTimeout(i)}))}},{key:"updateOptions",value:function(e){this.currentPlayingOptions&&(Object.assign(this.currentPlayingOptions,e),this.onCurrentPlayingOptionsUpdated())}}],[{key:"extend",value:function(e){var t=function(t){(0,I._)(i,t);var n=(0,N._)(i);function i(){return(0,C._)(this,i),n.apply(this,arguments)}return(0,D._)(i,[{key:"init",value:function(){return this.safeCall("init")}},{key:"supported",value:function(){var t=e.supported;if("function"==typeof t)return t.apply(this);throw new Error("Method not implementated: supported")}},{key:"beforePlay",value:function(){this.safeCall("beforePlay")}},{key:"getVoices",value:function(){return this.safeCall("getVoices")}},{key:"doPause",value:function(){return this.safeCall("doPause")}},{key:"doResume",value:function(){return this.safeCall("doResume")}},{key:"doStop",value:function(){return this.safeCall("doStop")}},{key:"speakText",value:function(e,t){return this.safeCall("speakText",e,t)}},{key:"onCurrentPlayingOptionsUpdated",value:function(){return this.safeCall("onCurrentPlayingOptionsUpdated")}},{key:"safeCall",value:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var o=e[t];if("function"==typeof o)return o.apply(this,i)}}]),i}(n);for(var i in e)i in t.prototype||(t.prototype[i]=e[i]);return t}}]),n}(function(){function e(){(0,C._)(this,e),this.init()}return(0,D._)(e,[{key:"init",value:function(){}}]),e}());var yI=window.speechSynthesis,_I=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;return(0,C._)(this,n),e=t.apply(this,arguments),(0,z._)((0,x._)(e),"prepared",!1),(0,z._)((0,x._)(e),"loadedVoicesPromise",void 0),e}return(0,D._)(n,[{key:"prepare",value:function(){return this.prepared?Promise.resolve():(this.prepared=!0,this.supported()?this.loadVoices().then((function(){var e=new SpeechSynthesisUtterance(" ");yI.speak(e),yI.cancel()})):Promise.resolve())}},{key:"getVoices",value:function(){return this.loadVoices().then((function(e){return e.map((function(e){return{name:e.name,lang:e.lang}}))}))}},{key:"beforePlay",value:function(){var e=new SpeechSynthesisUtterance(" ");yI.speak(e)}},{key:"play",value:function(e,t){var i=this;return this.prepare().finally((function(){return(0,E._)((0,S._)(n.prototype),"play",i).call(i,e,t)}))}},{key:"supported",value:function(){return"object"==typeof window.speechSynthesis&&"function"==typeof window.SpeechSynthesisUtterance}},{key:"doPause",value:function(){yI.pause()}},{key:"doResume",value:function(){yI.resume()}},{key:"doStop",value:function(){yI.cancel()}},{key:"speakText",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.currentPlayingOptions,i=new SpeechSynthesisUtterance(e);return new Promise((function(e,r){var o=function(){i.removeEventListener("end",a),i.removeEventListener("error",r)},a=function(){e(),o()};i.addEventListener("end",a),i.addEventListener("error",(function(e){r(e),o()}));var s=Promise.resolve();if(n){i.rate=n.rate,i.pitch=n.pitch,i.lang=n.lang||i.lang;var c=n.voice;switch(void 0===c?"undefined":(0,F._)(c)){case"string":s=s.then((function(){return t.getVoiceByName(c)})).then((function(e){e&&(i.voice=e)}));break;case"object":i.voice=c}i.volume=n.volume}s.then((function(){switch(yI.speak(i),t.status){case pI.stopped:e(),yI.cancel();break;case pI.paused:yI.pause()}}))}))}},{key:"onCurrentPlayingOptionsUpdated",value:function(){}},{key:"getVoiceByName",value:function(e){return this.loadVoices().then((function(t){return t.find((function(t){return t.name===e||t.voiceURI===e}))}))}},{key:"loadVoices",value:function(){var e=this;return(0,P._)((function(){var t;return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return e.loadedVoicesPromise?[4,e.loadedVoicesPromise]:[3,2];case 1:if((t=n.sent()).length>0)return[2,t];n.label=2;case 2:return[2,e.loadedVoicesPromise=new Promise((function(e){var t=0;!function n(){if(!yI)return e([]);var i=yI.getVoices();i&&i.length>0?e(i):t<20?(t++,setTimeout(n,100)):e([])}()}))]}}))}))()}}]),n}(mI),bI=function(){},wI="viewer--read-page-start",kI="viewer--read-page-end",xI=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),i=t.call(this),(0,z._)((0,x._)(i),"pdfViewer",void 0),(0,z._)((0,x._)(i),"speechSynthesis",void 0),(0,z._)((0,x._)(i),"defaultOptions",void 0),(0,z._)((0,x._)(i),"stopHook",void 0),(0,z._)((0,x._)(i),"statusStore",void 0),(0,z._)((0,x._)(i),"eventEmitter",void 0),i.pdfViewer=e,i.speechSynthesis=new _I,i.defaultOptions={rate:1,pitch:1,volume:1,external:{}},i.stopHook=bI,i.statusStore=new gI,i.eventEmitter=new _o,i}return(0,D._)(n,[{key:"setSpeechSynthesis",value:function(e){this.speechSynthesis.stop(),this.speechSynthesis=e,this.statusStore.set(pI.stopped)}},{key:"supported",value:function(){return this.speechSynthesis.supported()}},{key:"getVoices",value:function(){return this.speechSynthesis.getVoices?this.speechSynthesis.getVoices():Promise.resolve([])}},{key:"beforeRead",value:function(){if(this.speechSynthesis.beforePlay)return this.speechSynthesis.beforePlay()}},{key:"afterRead",value:function(){}},{key:"readPage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.readPages([e],t)}},{key:"readPages",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.pdfViewer.getCurrentPDFDoc().getPageCount()-1;e.forEach((function(e){if(e<0||e>i)throw new Error("Invalid page index: ".concat(e,",page index should range between 0 and ").concat(i))}));var r=new W.QueuedAsyncTaskExecutor;return this.stopHook=function(){t.stopHook=bI,r.cancel()},this.speechSynthesis.status=pI.playing,this.statusStore.set(this.status),e.forEach((function(e){r.exec((function(){return t.eventEmitter.emit(wI,e),t.doReadPage(e,n).finally((function(){t.eventEmitter.emit(kI,e)}))}))})),r.waitForCurrentRunningTasks().finally((function(){t.isStopped()||t.stop()}))}},{key:"readText",value:function(e,t){var n=this,i=Object.assign({},this.defaultOptions,t,{external:Object.assign({},this.defaultOptions.external,(null==t?void 0:t.external)||{})}),r=function(){return n.isStopped()};return this.speechSynthesis.status=pI.playing,this.statusStore.set(this.status),this.speechSynthesis.play(function(){return(0,L.Jh)(this,(function(t){switch(t.label){case 0:return r()?[2]:[4,Promise.resolve({text:e.text,pageIndex:e.pageIndex,rect:e.rect})];case 1:return t.sent(),[2]}}))}(),i).finally((function(){if(!r())return n.stop()}))}},{key:"pause",value:function(){this.speechSynthesis.pause(),this.statusStore.set(this.status)}},{key:"resume",value:function(){this.speechSynthesis.resume(),this.statusStore.set(this.status)}},{key:"stop",value:function(){this.speechSynthesis.stop(),this.statusStore.set(this.status),this.stopHook()}},{key:"status",get:function(){return this.speechSynthesis.status}},{key:"setDefaultOptions",value:function(e){Object.assign(this.defaultOptions,e)}},{key:"setVolume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultOptions.volume;this.defaultOptions.volume=e,this.isStopped()||this.speechSynthesis.updateOptions({volume:e})}},{key:"setRate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultOptions.rate;this.defaultOptions.rate=e,this.isStopped()||this.speechSynthesis.updateOptions({rate:e})}},{key:"setVoice",value:function(e){this.defaultOptions.voice=e,this.isStopped()||this.speechSynthesis.updateOptions({voice:e})}},{key:"updatePlayingOptions",value:function(e){return!this.isStopped()&&(this.speechSynthesis.updateOptions(e),!0)}},{key:"isStopped",value:function(){return this.status===pI.stopped}},{key:"isPlaying",value:function(){return this.status===pI.playing}},{key:"onStatusChange",value:function(e){return this.statusStore.onchange(e.bind(this))}},{key:"onReadPageStart",value:function(e){var t=this;return this.eventEmitter.addListener(wI,e),function(){t.eventEmitter.removeListener(wI,e)}}},{key:"onReadPageEnd",value:function(e){var t=this;return this.eventEmitter.on(kI,e),function(){t.eventEmitter.removeListener(kI,e)}}},{key:"doReadPage",value:function(e,t){var n=this,i=function(){return n.isStopped()};if(i())return Ce;var r=this.pdfViewer.getCurrentPDFDoc(),o=r.getPageCount();return e>=o?Ce:r.getPageByIndex(e).then((function(r){if(r&&!i())return r.getTextRectCount().then((function(o){var a=Object.assign({},n.defaultOptions,t,{external:Object.assign({},n.defaultOptions.external,t.external||{})});try{return n.speechSynthesis.play(function(){var t;return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return o<=0?[4,Promise.resolve().then((function(){return{text:"blank",pageIndex:e,rect:{}}}))]:[3,2];case 1:return n.sent(),[3,6];case 2:t=0,n.label=3;case 3:return t<o?i()?[2]:[4,r.getTextByRectIndex(t).then((function(t){return{text:t.text,pageIndex:e,rect:t.rect}}))]:[3,6];case 4:n.sent(),n.label=5;case 5:return t++,[3,3];case 6:return[2]}}))}(),a)}finally{n.statusStore.set(n.status)}}))}))}}]),n}(W.Disposable),PI=function(){function e(){(0,C._)(this,e),(0,z._)(this,"service",void 0),(0,z._)(this,"executor",new W.QueuedAsyncTaskExecutor),(0,z._)(this,"viewer",void 0)}return(0,D._)(e,[{key:"allInjected",value:function(){this.service=new xI(this.viewer)}},{key:"supported",value:function(){return this.service.supported()}},{key:"setSpeechSynthesis",value:function(e){this.service.setSpeechSynthesis(e)}},{key:"readPages",value:function(e,t){var n=this;return this.stop(),this.executor.exec((function(){return n.service.readPages(e,t)}))}},{key:"readText",value:function(e,t){var n=this;return this.stop(),this.executor.exec((function(){return n.service.readText(e,t)}))}},{key:"stop",value:function(){this.executor.cancel(),this.service.stop()}},{key:"pause",value:function(){this.service.pause()}},{key:"resume",value:function(){this.service.resume()}},{key:"setVolume",value:function(e){this.service.setVolume(e)}},{key:"setRate",value:function(e){this.service.setRate(e)}},{key:"setVoice",value:function(e){this.service.setVoice(e)}},{key:"getVoices",value:function(){return this.service.getVoices()}},{key:"beforeRead",value:function(){return this.service.beforeRead()}},{key:"afterRead",value:function(){return this.service.afterRead()}},{key:"status",get:function(){return this.service.status}},{key:"onStatusChange",value:function(e){return this.service.onStatusChange(e)}},{key:"updatePlayingOptions",value:function(e){return this.service.updatePlayingOptions(e)}},{key:"onReadPageStart",value:function(e){return this.service.onReadPageStart(e)}},{key:"onReadPageEnd",value:function(e){return this.service.onReadPageEnd(e)}}],[{key:"inject",value:function(){return{viewer:eM}}}]),e}(),CI=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"execute",value:function(e){var t=e.keyboard;t.setup(Hd);var n=function(){},i=function(e){n(),n=t.activeContext(e.getStateName())};e.eventEmitter.on(se.switchStateHandler,i),this.addDestroyHook((function(){e.eventEmitter.off(se.switchStateHandler,i)})),t.activeContext(yn)}}]),n}(W.Disposable),DI=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;return(0,C._)(this,n),e=t.apply(this,arguments),(0,z._)((0,x._)(e),"undoActivation",(function(){})),e}return(0,D._)(n,[{key:"execute",value:function(e){var t=this,n=e.getKeyboard();n.withContext(Od.SELECTION,(function(n){t.addDestroyHook(n.keydown(Ld.SELECT_ALL,(function(){t.selectAllAnnotOrWidget(e)}),{interceptors:[(0,W.excludeEditableElementInterceptor)(),(0,W.preventDefaultInterceptor)()]}))})),n.withContext(Od.ACTIVATION_ANY,(function(n){t.addDestroyHook(n.keyup(Ld.UNSELECT_OBJECT,(function(){e.activateElement(),t.undoActivation()})),n.keydown(Ld.SELECT_ALL,(function(){t.selectAllAnnotOrWidget(e)}),{interceptors:[(0,W.excludeEditableElementInterceptor)(),(0,W.preventDefaultInterceptor)()]}),n.keydown(Ld.COPY_ACTIVATE_ELEMENT,(function(t){e.isShortcutKeyEnabled()&&(e.currentPDFDoc.checkPermission(Qt.extract)&&e.copy());t.preventDefault()}),{interceptors:[(0,W.excludeEditableElementInterceptor)()]}),n.keydown(Ld.CUT_ACTIVATE_ELEMENT,(function(t){e.isShortcutKeyEnabled()&&e.cut(),t.preventDefault()}),{interceptors:[(0,W.excludeEditableElementInterceptor)()]}))}));var i=function(){t.handleOnActivationChanged(e,n)},r=e.eventEmitter;r.on(se.activeElementChanged,i),this.addDestroyHook((function(){r.off(se.activeElementChanged,i)}))}},{key:"selectAllAnnotOrWidget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this;return(0,P._)((function(){var i,r,o,a,s,c;return(0,L.Jh)(this,(function(u){switch(u.label){case 0:return r=new K,null===(i=window.getSelection())||void 0===i||i.removeAllRanges(),t.length?(t.forEach((function(t){var n=e.getAnnotRender(t.getPDFPage().getIndex(),t.getId()).component;n&&(t.isGrouped&&t.isGrouped()?"widget"===t.getType()&&n.isDesignMode&&r.add(n):r.add(n))})),[2]):t&&0!==t.length?[3,2]:[4,n.getAnnotsOfCurrentPage(e)];case 1:t=u.sent(),u.label=2;case 2:if(!t||0===t.length)return[2];if(o=e.getStateHandlerManager().getCurrentStates().getStateName(),a=Object.keys(mi).indexOf(o)>=0||o===Zn||o===ei,t.forEach((function(t){var n=e.getAnnotRender(t.getPDFPage().getIndex(),t.getId()).component;if(n)if("widget"===t.getType())n.isDesignMode&&r.add(n);else if(a){t.isGrouped&&t.isGrouped()?n.getGroupRenders().forEach((function(e){r.add(e.component)})):r.add(n)}})),e.bindMultiSelectActiveEvents(r),s=e.activationManager,a?s.activeOnly(r):r.hasActivations()&&s.active(r),e.getPDFDocRender().setCurrentAnnotHandler(),(c=e.getAllActivatedElements().map((function(e){return e.annotsRender.getAnnotRender(e.getId())}))).length){if(1===c.length)return[2,e.eventEmitter.emit(se.activeAnnotation,c[0])];e.eventEmitter.emit(se.activeMultipleAnnotations,c)}return e.eventEmitter.emit(se.activeElementChanged),[2]}}))}))()}},{key:"handleOnActivationChanged",value:function(e,t){var n=e.getAllActivatedElements();if(0===n.length)this.undoActivation();else{var i=0,r=0,o=0;n.forEach((function(e){e.annot?e.annot.getType()===Xi.widget?i++:r++:e.graphicsObject&&o++}));var a,s=[i,r,o].filter((function(e){return 0!==e})).length;1===s?i>0?a=Od.ACTIVATION_WIDGET:r>0?a=Od.ACTIVATION_ANNOTATION:o>0&&(a=Od.ACTIVATION_GRAPH_OBJ):s>1&&(a=Od.ACTIVATION_ANY),a&&(this.undoActivation(),this.undoActivation=t.activeContext(a))}}},{key:"getAnnotsOfCurrentPage",value:function(e){var t,n=e.currentPDFDoc;if(!n)return Promise.resolve([]);var i=e.getPDFDocRender().getCurrentPageIndex(),r=null===(t=e.getPDFPageRender(i))||void 0===t?void 0:t.annotsRender;return n.getPageByIndex(i).then((function(e){return e.getAnnots().then((function(e){return e.filter((function(e){return"popup"!==e.getType()&&"watermark"!==e.getType()&&"R"!==e.info.RT&&!e.info.IRT&&(!r.annotFiltered||r.showAnnots.has(e.id))}))}))}))}}]),n}(W.Disposable),EI=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"execute",value:function(e){e.getKeyboard().withContext(Od.BASIC_STATE_HANDLER,(function(t){t.keydown(Ld.SWITCH_TO_HAND_STATE,(function(){e.getStateHandlerManager().switchTo(yn)}))}))}}]),n}(W.Disposable),SI=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;(0,C._)(this,n),i=t.call(this),(0,z._)((0,x._)(i),"level",-1),(0,z._)((0,x._)(i),"componentClasses",[]);return e.eventEmitter.on(se.openFileSuccess,(function(e){i.componentClasses.forEach((function(t){i.getComponentInstance(t,e)}))})),e.eventEmitter.on(se.willCloseDocument,(function(){i.destroyComponents()})),i}return(0,D._)(n,[{key:"onInject",value:function(e){}},{key:"generateInstanceName",value:function(){return(0,W.getUniqueId)("pdf-doc-lifecycle")}},{key:"define",value:function(e){this.componentClasses.indexOf(e)>-1||this.componentClasses.push(e)}}]),n}(W.BasicIoCStrategy),II=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"execute",value:function(e){var t=e.getIoC(),n=t.getStrategy(W.IoCScope.SINGLETON),i={PDFViewer:e,Keyboard:e.keyboard,EventEmitter:e.eventEmitter,Store:e.store,AnnotManager:e.annotManager,StateHandlerManager:e.stateHandlerManager,ViewerUI:e.viewerUI,LifeCycleManager:e.lifeCycleManager,ActivationManager:e.activationManager};for(var r in i)n.registerComponentInstance(i[r]),n.registerComponentInstanceByName(i[r],r);t.setStrategy("PDF_DOC_LIFE_CYCLE_SCOPE_STRATEGY",new SI(e))}}]),n}(W.Disposable);var TI=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:localStorage;(0,C._)(this,e),(0,z._)(this,"prefix",void 0),(0,z._)(this,"storage",void 0),this.prefix=t,this.storage=n}return(0,D._)(e,[{key:"setItem",value:function(e,t){this.storage.setItem(this.getKey(e),JSON.stringify(t))}},{key:"getItem",value:function(e){var t=this.storage.getItem(this.getKey(e));return t&&JSON.parse(t)}},{key:"getKey",value:function(e){return this.prefix+e}}]),e}(),RI=function(){function e(){(0,C._)(this,e),(0,z._)(this,"viewer",void 0)}return(0,D._)(e,[{key:"loadPDFDocByHttpRangeRequest",value:function(e,t){var n=this,i=e.range.url;if(!t.fileName&&i.endsWith(".pdf")){var r=i.lastIndexOf("/"),o=i.substring(r+1);o=decodeURIComponent(o),t.fileName=o}if(!Rv(i)){var a=Pv();e.range.url=Dv(a).join(i).absolute()}return this.viewer.getWebPDFJR().then((function(i){return i.getPDFDocByHttpRangeRequest(e,t).then((function(e){return n._parseDoc(e,t)}))}))}},{key:"loadPDFDocByFile",value:function(e,t){var n=this;return this.viewer.getWebPDFJR().then((function(i){return i.getPDFDocByFile(e,t).then((function(e){return n._parseDoc(e,t)}))}))}},{key:"_parseDoc",value:function(e,t){return Promise.resolve(function(e,t){if(e&&"function"==typeof e.getJWT)return e.getJWT(t)}(t)).then((function(n){t.idJWT=n||t.jwt;var i=t.errorHandler||function(e,t,n){throw n},r=function(t){return e.parse(t).catch((function(n){return i(e,t,n,r)}))};return r(t)}))}}],[{key:"inject",value:function(){return{viewer:eM}}}]),e}();var MI=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),i=t.call(this,Nd.PPO_REMOVE_PAGES),(0,z._)((0,x._)(i),"pdfViewer",void 0),i.pdfViewer=e,i}return(0,D._)(n,[{key:"receive",value:function(e,t){return this.pdfViewer.getCurrentPDFDoc().removePages(e.data.pageRange)}}]),n}(WS),FI=(n(9672),function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this,e)).cursorStyle="fv__cursor-crosshair",i}return(0,D._)(n,[{key:"pageHandler",value:function(e){var t=this;if(this.pageRender=e,W.isIOS)0===e.index&&(setTimeout((function(){t.pdfViewer.getStateHandlerManager().switchTo("hand")}),100),this.pdfViewer.viewerUI.alert("Unsupported now. Comming soon."));else{var n=e.$handler;n.addClass(this.cursorStyle);var i=this.$imageInput=j()('<input id="imageInput" type="file" style="visibility: hidden;" accept=".gif,.jpeg,.jpg,.png,.svg"/>');n.append(i);var r,o=n[0],a=this.hammer=new(Kr().Manager)(o,{recognizers:[[Kr().Pan,{direction:Kr().DIRECTION_ALL}]]});a.on("panstart",(function(e){var t=ff(o,e);r=[t.x,t.y]})),a.on("panmove",(function(e){var t=o.getBoundingClientRect(),i=e.srcEvent,a=NI(r,t,i),s=["top:"+a.top+"px","left:"+a.left+"px","height:"+(a.bottom-a.top)+"px","width:"+(a.right-a.left)+"px"].join(";"),c=n.find(".fv__mark-image-blank");if(0===c.length){var u=j()(document.createDocumentFragment());u.append('<div class="fv__mark-image-blank" style="'+s+'"></div>'),n.append(u)}else c.css({top:a.top,left:a.left,width:a.right-a.left,height:a.bottom-a.top})})),a.on("panend",(function(t){var i=o.getBoundingClientRect(),a=t.srcEvent,s=NI(r,i,a);n.find(".fv__mark-image-blank").remove(),n.find("#imageInput").off("click"),n.find("#imageInput").off("change").on("change",(function(t){var n=t.target.files[0];return e.getPDFPage().then((function(i){var r=e.getRotation(),o=new FileReader,a=i.reverseDeviceRect(s,e.getScale(),r);o.readAsArrayBuffer(n),o.onload=function(){var n=new Uint8Array(o.result),s=((i.getRotationAngle()+r)%360+360)%360;0!=s&&(s=(360-s)%360),i.addAnnot({flags:4,type:"screen",rect:a,rotation:s,buffer:n}).then((function(n){t.target.value="";var i=n[0];n[0].info.annotScreenDetailType="screen_img";var r=e.annotsRender.getAnnotRender(i.getId()).component;e.pdfViewer.eventEmitter.emit(se.addAnnotSuccess,r.annot),e.annotsRender.activeAnnot(i.getId())})).catch((function(e){}))}})).catch((function(e){}))})).click()}))}}},{key:"destroyPageHandler",value:function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.$imageInput&&this.$imageInput.remove()}},{key:"out",value:function(){this.destroyPageHandler()}}],[{key:"getStateName",value:function(){return En}}]),n}(nf));function NI(e,t,n){var i,r=df(n),o=hf(n),a=[r-t.left,o-t.top],s=e[0],c=e[1],u=a[0],l=a[1];return u<s&&(i=s,s=u,u=i),l<c&&(i=c,c=l,l=i),{left:s,top:c,right:u,bottom:l}}var LI=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this,e)).file=null,i}return(0,D._)(n,[{key:"pageHandler",value:function(e){var t=this,n=this;this.pageRender=e;var i=this.$handler=e.$handler,r=i[0],o=this.hammer=new(Kr().Manager)(r,{recognizers:[[Kr().Tap],[Kr().Pan,{direction:Kr().DIRECTION_ALL}]]}),a=j()('<img style="position: absolute;top:-'+i.height()+"px;left:-"+i.width()+'px;border:2px solid transparent"></img>');i.append(a);var s=0,c=0;this.pdfViewer.eventEmitter.on(se.addEditImage,this.loadFile=function(e){var n=new FileReader;t.file=e,n.readAsDataURL(e),n.onload=function(e){a.prop({src:e.target.result});var t=new Image;t.onload=function(){a.css({top:-t.height,left:-t.width}),s=t.width,c=t.height},t.src=e.target.result}}),i.on("mousemove mousewheel",(function(e){var t=r.getBoundingClientRect(),n=e.clientX-t.left,i=e.clientY-t.top;a.css({top:i,left:n})})),i.on("mouseleave",(function(e){a.css({top:-c,left:-s})})),e.getPDFPage().then((function(t){e.getScale();var i=e.getRotation();o.on("tap",(function(r){var o={},s=a.width(),c=a.height();o.top=parseFloat(a.css("top")),o.left=parseFloat(a.css("left")),o.right=o.left+s*e.getScale(),o.bottom=o.top+c*e.getScale(),a.remove();var u=new FileReader;u.readAsArrayBuffer(n.file),u.onload=function(r){var a=new Uint8Array(r.target.result),s=t.reverseDeviceRect(o,e.getScale(),e.getRotation());t.addImage(a,s,i).then((function(){n.pdfViewer.getStateHandlerManager().switchTo(Zf.getStateName())}))}}))}))}},{key:"destroyPageHandler",value:function(){this.$handler.off("mousemove mousewheel mouseleave"),this.$handler.empty(),this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.pdfViewer.eventEmitter.off(se.addEditImage,this.loadFile)}},{key:"out",value:function(){this.destroyPageHandler()}}],[{key:"getStateName",value:function(){return Sn}}]),n}(nf);n(6110);var OI=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this,e)).cursorStyle="fv__cursor-crosshair",i}return(0,D._)(n,[{key:"pageHandler",value:function(e){var t=this;this.pageRender=e;var n=e.$handler;n.addClass(this.cursorStyle);var i,r=n[0],o=this.hammer=new(Kr().Manager)(r,{recognizers:[[Kr().Pan,{direction:Kr().DIRECTION_ALL}]]});o.on("panstart",(function(e){var t=ff(r,e);i=[t.x,t.y]})),o.on("panmove",(function(e){var t=r.getBoundingClientRect(),o=e.srcEvent,a=jI(i,t,o),s=["top:"+a.top+"px","left:"+a.left+"px","width:"+(a.bottom-a.top)+"px","height:"+(a.right-a.left)+"px"].join(";"),c=n.find(".fv__mark-link-blank");if(0===c.length){var u=j()(document.createDocumentFragment());u.append('<div class="fv__mark-link-blank" style="'+s+'"></div>'),n.append(u)}else c.css({top:a.top,left:a.left,width:a.right-a.left,height:a.bottom-a.top})})),o.on("panend",(function(o){var a=r.getBoundingClientRect(),s=o.srcEvent,c=jI(i,a,s);return e.getPDFPage().then((function(i){var r=i.reverseDeviceRect(c,e.getScale(),e.getRotation()),o=t.pdfViewer.getDefaultAnnotConfig()("link");i.addAnnot({type:"link",rect:r,color:o.color?o.color:"0000FF"}).then((function(i){n.find(".fv__mark-link-blank").remove();var r=t.pageRender.getAnnotRender(i[0].getId()).component;r.showCreateDialog();t.pdfViewer;W.isMobile&&t.pdfViewer.getStateHandlerManager().switchTo(Zf.getStateName()),e.pdfViewer.eventEmitter.emit(se.addAnnotSuccess,r.annot)}))}))}))}},{key:"destroyPageHandler",value:function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle)}},{key:"out",value:function(){this.destroyPageHandler()}}],[{key:"getStateName",value:function(){return In}}]),n}(nf);function jI(e,t,n){var i,r=df(n),o=hf(n),a=[r-t.left,o-t.top],s=e[0],c=e[1],u=a[0],l=a[1];return u<s&&(i=s,s=u,u=i),l<c&&(i=c,c=l,l=i),{left:s,top:c,right:u,bottom:l}}n(1051);var BI=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this,e)).throttleTaskExecutor=new W.ThrottleAsyncTaskExecutor(100,!0),i}return(0,D._)(n,[{key:"pageHandler",value:function(e){var t=this;this.pageRender=e;var n=e.doc,i=this.pdfViewer=e.pdfViewer,r=i.viewerUI.rootComponent.pdfUI,o=e.$handler.addClass("fv__select-text-image-state-handler"),a=o[0];this.eventEmitter=i.eventEmitter;var s=this.tooltip=i.viewerUI.createTextSelectionTooltip(e),c=this.hammer=new(Kr().Manager)(a,{recognizers:[[Kr().Pan,{direction:Kr().DIRECTION_ALL,threshold:0}]]});c.add(new(Kr().Tap)({event:"doubletap",taps:2})),c.add(new(Kr().Tap)({event:"singletap"})),c.get("doubletap").recognizeWith("singletap"),c.get("singletap").requireFailure("doubletap"),c.on("singletap",(function(e){t.textSelectionHandler.lookUpQuick||zf(i),s&&s.hide()})),c.on("doubletap",(function(e){return t.eventEmitter.emit(se.doubleTapPage,e)}));var u=j()('<div class="fv__selection-state-contextmenu-container fv__contextmenu-container"></div>'),l=o.find(".fv__mark-selection-blank");l&&l.length>0?u.insertBefore(l[0]):o.append(u),u.data("hand-state",this),this.$contextmenuContainer=u,o.on("mousemove",this.mousemove.bind(this)),this.textSelectionHandler=new Wf(c,e,s,Xn),r.openDialog("fv--selected-image-contextmenu").then((function(r){var a="click.image.".concat(e.index);j()(r.element).find("[component-type=contextmenu-item]").off(a).on(a,(function(r){var o=n.selectedInfo;if(o&&o.pageRender===e&&!j()(r.currentTarget).hasClass("disabled"))switch(j()(r.currentTarget).attr("component-name")){case"fv--contextmenu-item-copy":t.doImageCopy();break;case"fv--contextmenu-item-saveImageAs":t.doExportImageObjAs();break;case"fv--contextmenu-item-bookmark":t.textSelectionHandler.createBookmark(e);break;case"fv--contextmenu-item-editImage":zf(i),s&&s.hide(),i.stateHandlerManager.switchTo("page-editor"),t.pdfViewer.getEventEmitter().once("pageeditor-started",(function(n){setTimeout((function(){e.docRender.stateHandler.triggerClick(t.lastEvent,1)}),300)}))}})),o.on("contextmenu",".fv__mark-selection-blank[type=".concat(Rt.Image,"]"),(function(e){e.preventDefault();var n=r.getComponentByName("fv--contextmenu-item-bookmark");t.hasModifyPermissions(t.pageRender)?n.unlock():n.lock(),r.showAt(e.pageX,e.pageY)})),o.on("mouseup",t.mouseup=function(e){3===e.which&&t.eventEmitter.emit(se.rightClickPage,e)})})),r.openDialog("fv--selected-rectangle-contextmenu").then((function(i){var r="click.rectangle.".concat(e.index);j()(i.element).find("[component-type=contextmenu-item]").off(r).on(r,(function(i){var r=n.selectedInfo;if(r&&r.pageRender===e&&!j()(i.currentTarget).hasClass("disabled")&&"fv--contextmenu-item-exportSelectionAs"===j()(i.currentTarget).attr("component-name"))t.doExportSelectionRectangle()})),o.on("contextmenu",".fv__mark-selection-blank[type=rectangle]",(function(e){e.preventDefault();var n=t.checkPerm("checkExtractAccess"),r=i.getComponentByName("fv--contextmenu-item-exportSelectionAs");n?r.enable():r.disable(),i.showAt(e.pageX,e.pageY)}))})),r.eventEmitter.on("text-tooltip-click",(function(e){"highlight"===e.type&&t.pdfViewer.getPDFDocRender().pagesRender.pageRenders.forEach((function(e){e.$handler.find(".fv__mark-selection-blank").remove()}))}))}},{key:"offHammer",value:function(){this.hammer&&this.hammer.off("panstart"),this.hammer&&this.hammer.off("panmove"),this.hammer&&this.hammer.off("panend")}},{key:"destroy",value:function(){this.throttleTaskExecutor.cancel()}},{key:"destroyPageHandler",value:function(){this.tooltip&&this.tooltip.hide(),this.hammer&&this.hammer.destroy(),this.pageRender&&this.pageRender.$handler.removeClass("fv__select-text-image-state-handler"),this.pageRender.$handler.off("mouseup",this.mouseup),this.$contextmenuContainer&&this.$contextmenuContainer.remove(),this.tooltip&&this.tooltip.destroy(),this.eventEmitter.off("text-tooltip-click"),this.textSelectionHandler.destroy(),this.pageRender.$handler.off("mousemove")}},{key:"docHandler",value:function(e){var t=this;(0,E._)((0,S._)(n.prototype),"docHandler",this).call(this,e);var i=this.pdfViewer,r=e.doc;i.getKeyboard().withContext(Xn,(function(e){t.__off__copy__event__&&t.__off__copy__event__(),t.__off__copy__event__=e.keydown(Ld.COPY_TEXT_IMAGE,(function(){if(r.selectedInfo){var e=r.selectedInfo.type;e===Rt.Text?t.doTextCopy():e===Rt.Image&&t.doImageCopy()}})),t.offSelectAllEvent&&t.offSelectAllEvent(),t.offSelectAllEvent=e.keydown(Ld.SELECT_ALL,(function(){var e=i.getPDFDocRender().getPDFPageRender(i.getPDFDocRender().getCurrentPageIndex());t.textSelectionHandler.doTextSelectAll(e,r.selectedInfo)}),{interceptors:[(0,W.preventDefaultInterceptor)()]}),t.offAddBookmarkEvent&&t.offAddBookmarkEvent(),t.offAddBookmarkEvent=e.keydown(Ld.ADD_BOOKMARK,(function(){var e=i.getPDFDocRender().getPDFPageRender(i.getPDFDocRender().getCurrentPageIndex());t.hasModifyPermissions(e)&&r.checkPermission(Ph.checkAssemble)&&t.textSelectionHandler.createBookmark(e)}),{interceptors:[(0,W.preventDefaultInterceptor)()]})}));var o=null;e.$container.on("mouseleave",".fv__mark-selection-blank, .fv--ui-text-selection-tooltip",(function(e){clearTimeout(o),o=setTimeout((function(){var e=i.getPDFDocRender();if(e){var t=e.getPDFPageRender(i.getPDFDocRender().getCurrentPageIndex());t&&t.stateHandler&&t.stateHandler.tooltip&&t.stateHandler.tooltip.hide()}}),1e3)})).on("mouseenter",".fv__mark-selection-blank, .fv--ui-text-selection-tooltip",(function(e){clearTimeout(o)}))}},{key:"destroyDocHandler",value:function(){var e=this;(0,E._)((0,S._)(n.prototype),"destroyDocHandler",this).call(this),this.__off__copy__event__&&this.__off__copy__event__(),this.__off__copy__event__=tr,["offCopyEvent","offSelectAllEvent","offAddBookmarkEvent","undoSwitchKbBinder"].forEach((function(t){e[t]&&e[t](),e[t]=tr}))}},{key:"out",value:function(){this.destroyPageHandler()}},{key:"doImageCopy",value:function(){var e=this.pdfViewer.currentPDFDoc;e.selectedInfo&&e.selectedInfo.graphicsObject&&e.selectedInfo.graphicsObject.getStream().then((function(e){var t=new Blob([e],{type:"image/png"}),n=[new ClipboardItem((0,z._)({},t.type,t))];navigator.clipboard.write(n)}))}},{key:"doExportImageObjAs",value:function(){var e=this.pdfViewer.viewerUI.rootComponent.pdfUI;if(!(e.customs&&e.customs.isAccountExpired&&e.customs.isAccountExpired(!0))){var t=this.pageRender.doc;t.selectedInfo&&e.customs&&e.customs.showSaveAsDialog&&e.customs.showSaveAsDialog("convert-pdf-to-png","",t.selectedInfo)}}},{key:"doExportSelectionRectangle",value:function(){var e=this.pdfViewer.viewerUI.rootComponent.pdfUI;if(!(e.customs&&e.customs.isAccountExpired&&e.customs.isAccountExpired(!0,{btnName:"fv--contextmenu-item-exportSelectionAs",tabName:"convert_tab"}))){var t=this.pageRender,n=t.$handler.get(0).getBoundingClientRect(),i=t.$handler.find(".fv__mark-selection-blank.rectangle").get(0).getBoundingClientRect();t.reverseDeviceRect({left:i.left-n.left,right:i.right-n.left,top:i.top-n.top,bottom:i.bottom-n.top}).then((function(n){var i;i=[n],e.customs&&e.customs.showSaveAsDialog&&e.customs.showSaveAsDialog("convert-pdf-to-word",JSON.stringify([{pageIndex:t.index,rectArray:i}]))}))}}},{key:"hasModifyPermissions",value:function(e){var t=e.doc.getPermissions();return 8&t&&32&t}},{key:"checkPerm",value:function(e){return this.pageRender.docRender.getUserPermission()[e]()}},{key:"doTextCopy",value:function(){var e=this,t=this.pdfViewer.currentPDFDoc,n=t.selectedInfo.getText?t.selectedInfo.getText():void 0;void 0!==n&&(0,W.copyText)(n).then((function(t){e.pdfViewer.eventEmitter.emit(t?se.copyTextSuccess:se.copyTextFailed,n)}))}},{key:"mousemove",value:function(e){var t=this;this.textSelectionHandler&&this.textSelectionHandler.isTextSelectionToolEnabledInHandState()&&(this.textSelectionHandler.isTextSelecting()||(this.mousemoveEvent=e,this.throttleTaskExecutor.exec((function(){return t.mousemoveHandler(e)}))))}},{key:"mousemoveHandler",value:function(e){var t=this,n=this.pageRender,i={x:e.originalEvent.layerX,y:e.originalEvent.layerY};return n.getTextContinueRectAtDevicePoints([i.x,i.y],[i.x+5,i.y+5],-1,-1).then((function(i){if(null==i?void 0:i[0]){var r={x:e.originalEvent.layerX,y:e.originalEvent.layerY};if(r.x!=t.mousemoveEvent.originalEvent.layerX&&r.y!=t.mousemoveEvent.originalEvent.layerY)return;n.$handler.removeClass("fv__cursor-grab").addClass("fv__cursor-text"),t.pdfViewer.eventEmitter.emit("can-scroll",!1)}else n.$handler.removeClass("fv__cursor-text")}))}}],[{key:"getStateName",value:function(){return Xn}},{key:"getDefaultContextMenuConfig",value:function(){return{selector:".fv__selection-state-contextmenu-container"}}}]),n}(nf),VI=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this,e)).cursorStyle="fv__cursor-crosshair",i}return(0,D._)(n,[{key:"pageHandler",value:function(e){var t=this;this.pageRender=e;var n=e.$handler.get(0);n.classList.add(this.cursorStyle);var i=new Hammer.Manager(n);this.hammer=i,i.add(new Hammer.Pan),e.getPDFPage().then((function(r){t.page=r,i.on("panstart",(function(i){var o=ff(n,i),a={x:o.x+i.deltaX,y:o.y+i.deltaY},s=t._resolvePointsToRect(r,o,a);t.pdfViewer.eventEmitter.emit(se.createSnapshotArea,e,s),t.startPoint={x:s.left,y:s.top}})),i.on("panmove",(function(n){var i={x:t.startPoint.x+n.deltaX,y:t.startPoint.y+n.deltaY},o=t._resolvePointsToRect(r,t.startPoint,i);t.pdfViewer.eventEmitter.emit(se.updateSnapshotArea,e,o)})),i.on("panend",(function(n){var i={x:t.startPoint.x+n.deltaX,y:t.startPoint.y+n.deltaY},o=t._resolvePointsToRect(r,t.startPoint,i);t.pdfViewer.eventEmitter.emit(se.stabilizedSnapshotArea,e,o)}))}))}},{key:"_resolvePointsToRect",value:function(e,t,n){var i=this.pageRender.getShowWidth(),r=this.pageRender.getShowHeight();return{left:Math.max(0,Math.min(t.x,n.x)),right:Math.min(i,Math.max(t.x,n.x)),top:Math.max(0,Math.min(t.y,n.y)),bottom:Math.min(r,Math.max(t.y,n.y))}}},{key:"destroyPageHandler",value:function(){(this.hammer&&this.hammer.destroy(),this.pageRender)&&this.pageRender.$handler.get(0).classList.remove(this.cursorStyle)}}],[{key:"getStateName",value:function(){return"snapshot-tool"}}]),n}(nf);var UI=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this,e)).destroyHooks=[],i.destroyDocHooks=[],i.cursorStyle="fv__cursor-loupe",i.offsetX=0,i.offsetY=0,i.updatePosition=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=null;return function(){var i=this,r=arguments;n||(n=setTimeout((function(){e.apply(i,r),n=null}),t))}}(i.updatePosition.bind((0,x._)(i))),i}return(0,D._)(n,[{key:"docHandler",value:function(){var e,t,n=this,i=null;W.isChrome&&(e="wheel",t=function(e){var t=e.screenX,r=e.screenY,o=document.elementFromPoint(t,r);if(o&&o.className.indexOf(n.cursorStyle)&&i!==o){var a=new MouseEvent("mouseover");o.dispatchEvent(a),i=o}},document.addEventListener(e,t),n.destroyHooks.push((function(){document.removeEventListener(e,t)})))}},{key:"pageHandler",value:function(e){var t=this;this.pageRender=e;var n=e.$handler.get(0);e.$handler.removeClass("fv__cursor-grab").addClass(this.cursorStyle);var i=this.areaRenderer=e.getPageAreaRenderer(255,400,1,!1),r=(document.getElementsByClassName("fv__pdf-viewer-layout"),function(e,i){n.addEventListener(e,i),t.destroyHooks.push((function(){n.removeEventListener(e,i)}))});r("click",(function(e){t.pdfViewer.eventEmitter.emit(se.startUpdatePageAreaRenderer,i),t.offsetX=e.offsetX,t.offsetY=e.offsetY,t.updatePosition()})),r("mouseover",(function(e){t.pdfViewer.eventEmitter.emit(se.createPageAreaRenderer,i),setTimeout((function(){t.pdfViewer.eventEmitter.emit(se.switchPageAreaRenderer,i)}))})),r("mousemove",(function(e){t.offsetX=e.offsetX,t.offsetY=e.offsetY,t.updatePosition()})),r("wheel",(function(e){t.offsetX=e.offsetX,t.offsetY=e.offsetY,t.updatePosition()}))}},{key:"updatePosition",value:function(){this.areaRenderer.setPosition(this.offsetX,this.offsetY),this.areaRenderer.update()}},{key:"destroyDocHandler",value:function(){this.destroyDocHooks.forEach((function(e){return e()})),this.pdfViewer.eventEmitter.emit(se.destroyPageAreaRenderer),this.destroyPageHandler()}},{key:"destroyPageHandler",value:function(){this.pageRender&&this.pageRender.$handler.removeClass(this.cursorStyle),this.destroyHooks.forEach((function(e){return e()})),this.updatePosition=null}}],[{key:"getStateName",value:function(){return Kn}}]),n}(nf),HI=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){return(0,C._)(this,n),t.call(this,e)}return(0,D._)(n,[{key:"pageHandler",value:function(e){var t=this;this.pageRender=e,this.pdfViewer=e.pdfViewer,this.selectMarkIsVisible=!1;var n=this.tooltip=this.pdfViewer.viewerUI.createTextSelectionTooltip(e),i=e;e.$ui.addClass("fv__annot-container-zindex-up");var r=i.$handler;r.addClass("fv__select-text-annotation-state-handler");var o,a=r[0],s=e.pdfViewer.eventEmitter;o=function(i){i==e&&t.pdfSelectRectArray&&t.selectMarkIsVisible&&e.getPDFPage().then((function(i){var r=e.transformRectArray(i,t.pdfSelectRectArray);t.showSelectMark(r);var o=r[0];o&&n.showAt((o.left+o.right)/2,o.top,t.selectText,r)}))},s.on(se.renderPageSuccess,o),t.removeRenderPageSuccessEvent=function(){s.off(se.renderPageSuccess,o)};var c,u=this.hammer=new(Kr().Manager)(a,{recognizers:[[Kr().Pan,{direction:Kr().DIRECTION_ALL}]]});u.add(new(Kr().Tap)({event:"doubletap",taps:2})),u.add(new(Kr().Tap)({event:"singletap"})),u.get("doubletap").recognizeWith("singletap"),u.get("singletap").requireFailure("doubletap"),u.on("singletap",(function(i){t.hideSelectMark(),n.hide();var r=e.annotsRender;r?(r.unActiveAnnot(),s.emit(se.tapPage,i)):s.emit(se.tapPage,i)})),u.on("doubletap",(function(i){t.hideSelectMark(),n.hide();var r=e.annotsRender;r?(r.unActiveAnnot(),s.emit(se.doubleTapPage,i)):s.emit(se.doubleTapPage,i)})),n.on("hide",(function(){t.hideSelectMark()}));var l,A,d=-1,h=-1;u.on("panstart",(function(n){if(!1!==t.panStart(n,t)){d=-1,h=-1,l=void 0;var i=e.annotsRender;i&&i.unActiveAnnot();var r=ff(a,n);c=[r.x,r.y],t.hideSelectMark(),A=new ue}})),u.on("panmove",(function(e){!1!==t.panMove(e,t)&&A.push((function(){var n=t.pageRender,i=[c[0]+e.deltaX,c[1]+e.deltaY];return t.getTextRect(c,i,d,h).then((function(e){var t;return(t=e[0])&&"string"==typeof t.text&&(d=t.start,h=t.end),Promise.all([n.getPDFPage(),e])})).then((function(e){var t=(0,R._)(e,2),i=t[0],r=t[1];return n.transformRectArray(i,r)})).then((function(e){t.showSelectMark(e)}))}))})),u.on("panend",(function(i){if(!1!==t.panEnd(i,t)){A.end(),A=null;var r=of(c,i.deltaX,i.deltaY),o=[c[0]+i.deltaX,c[1]+i.deltaY];return t.getTextRect(c,o,d,h).then((function(t){var n;return(n=t[0])&&"string"==typeof n.text&&(d=n.start,h=n.end,l=n.text),Promise.all([e.getPDFPage(),t])})).then((function(o){var a=(0,R._)(o,2),s=a[0],c=a[1];t.pdfSelectRectArray=c;var u=e.transformRectArray(s,c);t.showSelectMark(u),("string"==typeof l?Promise.resolve(l):t.getTextChar(r)).then((function(e){t.pdfViewer.getStore().dispatch(we.SELECTION_INFO,{page:s,text:e,rectArray:c}),t.selectText=e,t.pdfViewer.eventEmitter.emit(se.selectText,{page:s,text:e,rectArray:c,e:i})}));var A=u[0];A&&n.showAt((A.left+A.right)/2,A.top,t.selectText,u)}))}}));var f=j()('<div class="fv__selection-state-contextmenu-container fv__contextmenu-container"></div>');r.append(f),f.data("hand-state",this),this.$contextmenuContainer=f}},{key:"getTextRect",value:function(e,t,n,i){return this.pageRender.getTextContinueRectAtDevicePoints(e,t,n,i)}},{key:"getTextChar",value:function(e){return this.pageRender.getTextContinuousCharAtDeviceRect(e)}},{key:"showSelectMark",value:function(e){this.selectMarkIsVisible=!0;var t=this.pageRender.$handler;t.find(".fv__mark-selection-blank").remove();for(var n=j()(document.createDocumentFragment()),i=0,r=e.length;i<r;i++){var o=e[i],a=["top:"+o.top+"px","left:"+o.left+"px","height:"+(o.bottom-o.top)+"px","width:"+(o.right-o.left)+"px"].join(";");n.append('<mark class="fv__mark-selection-blank" style="'+a+'"></mark>')}t.append(n)}},{key:"hideSelectMark",value:function(){this.selectMarkIsVisible=!1,this.pdfViewer.getStore().dispatch(we.SELECTION_INFO,null),this.pageRender.$handler.find(".fv__mark-selection-blank").remove()}},{key:"copyText",value:function(){}},{key:"panStart",value:function(){}},{key:"panMove",value:function(){}},{key:"panEnd",value:function(){}},{key:"destroyPageHandler",value:function(){this.hammer&&this.hammer.destroy(),this.pageRender.$ui.removeClass("fv__annot-container-zindex-up"),this.pageRender.$handler.off("mouseup",this.mouseup).removeClass("fv__select-annotation-state-handler"),this.$contextmenuContainer&&this.$contextmenuContainer.remove(),this.pageRender.annotsRender&&this.pageRender.annotsRender.unActiveAnnot(),this.hideSelectMark(),this.tooltip.destroy(),this.removeRenderPageSuccessEvent()}},{key:"out",value:function(){this.destroyPageHandler()}}],[{key:"getStateName",value:function(){return Zn}},{key:"getDefaultContextMenuConfig",value:function(){return{selector:".fv__selection-state-contextmenu-container"}}}]),n}(nf),zI=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){return(0,C._)(this,n),t.call(this,e)}return(0,D._)(n,[{key:"pageHandler",value:function(e){var t=this;this.pageRender=e;var n,i=e.$handler[0],r=this.hammer=new(Kr().Manager)(i,{recognizers:[[Kr().Pan,{direction:Kr().DIRECTION_ALL}]]});r.on("panstart",(function(e){if(!1!==t.panStart(e,t)){var r=e.srcEvent,o=df(r),a=hf(r);n=rf(i,o,a),t.hideToolTip(),t.hideSelectMark()}})),r.on("panmove",(function(e){!1!==t.panMove(e,t)&&t.getTextRect(of(n,e.deltaX,e.deltaY)).then((function(e){t.showSelectMark(e)}))})),r.on("panend",(function(e){!1!==t.panEnd(e,t)&&t.getTextRect(of(n,e.deltaX,e.deltaY)).then((function(e){t.showToolTip(e)}))}))}},{key:"getTextRect",value:function(e){return this.pageRender.getTextContinueRectAtDeviceRect(e)}},{key:"showSelectMark",value:function(e){var t=this.pageRender.$handler;t.find(".mark-select-text-blank").remove();for(var n=$(document.createDocumentFragment()),i=0,r=e.length;i<r;i++){var o=e[i],a=["top:"+o.top+"px","left:"+o.left+"px","width:"+(o.bottom-o.top)+"px","height:"+(o.right-o.left)+"px"].join(";");n.append('<mark class="mark-highlight-blank" style="'+a+'"></mark>')}t.append(n)}},{key:"hideSelectMark",value:function(){this.pageRender.$handler.find(".mark-highlight-blank").remove()}},{key:"showToolTip",value:function(){}},{key:"hideToolTip",value:function(){}},{key:"panStart",value:function(){}},{key:"panMove",value:function(){}},{key:"panEnd",value:function(){}},{key:"destroyPageHandler",value:function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.off("mouseup",this.mouseup).removeClass("fv__select-text-state-handler"),this.hideToolTip();try{this.hideSelectMark()}catch(e){}}},{key:"out",value:function(){this.destroyPageHandler()}}],[{key:"getStateName",value:function(){return Qn}}]),n}(nf);const WI=zI;var GI=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),(i=t.call(this,e,"square")).pdfViewer=e,i.cursorStyle="fv__cursor-marquee",i.destroyHooks=[],i}return(0,D._)(n,[{key:"start",value:function(e,t){var n=t.left,i=t.top;this.shapeControl||(this.shapeControl=new Ng({resizable:!1,enableDiagonally:!0}),this.shapeControl.active(e.$handler,{left:n,top:i,width:0,height:0},{left:n,top:i,right:n,bottom:i}))}},{key:"pageHandler",value:function(e){var t=this;this.pageRender=e;var n=e.$handler.get(0);e.$handler.addClass(this.cursorStyle);var i,r=this.hammer=new(Kr().Manager)(n);e.$handler;r.add(new(Kr().Pan)({direction:Kr().DIRECTION_ALL}));var o,a=!1,s=this;r.on("panstart",(o=(0,P._)((function(t){var r,o,c,u,l,A;return(0,L.Jh)(this,(function(d){switch(d.label){case 0:return r=s.pdfViewer.getPDFViewerRender(),a=!0,[4,r.getScaleRatio()];case 1:return o=d.sent(),a=!1,t.srcEvent.ctrlKey||t.srcEvent.metaKey?(c=s.pdfViewer.config.minScale,o<=c&&(a=!0)):(u=s.pdfViewer.config.maxScale,o>=u&&(a=!0)),a||(r&&r.disableDragToScroll(),s.startPoint=ff(n,t),l=s.startPoint.x,A=s.startPoint.y,s.start(e,{left:l,top:A}),i=new ue),[2]}}))})),function(e){return o.apply(this,arguments)})),r.on("panmove",(function(n){if(!a){var r=e.$handler[0].getClientRects()[0],o=r.width,s=r.height;t.currentPoint={x:t.calibrationNumber({num:t.startPoint.x+n.deltaX,max:o}),y:t.calibrationNumber({num:t.startPoint.y+n.deltaY,max:s})},i.push((function(){return t.adjust(t.shapeControl,t.startPoint,t.currentPoint)}))}})),r.on("panend",(function(n){if(!a){var r=t.pdfViewer.getPDFViewerRender();r&&r.enableDragToScroll();var o=e.$handler[0].getClientRects()[0],s=o.width,c=o.height;if(!t.isStart&&t.shapeControl){var u=(0,R._)(n.pointers,1)[0];t.currentPoint={x:t.calibrationNumber({num:t.startPoint.x+n.deltaX,max:s}),y:t.calibrationNumber({num:t.startPoint.y+n.deltaY,max:c})},t.isStart=!0,setTimeout((function(){t.isStart=!1}),500),i.push((function(){return t.adjust(t.shapeControl,t.startPoint,t.currentPoint)})),u.ctrlKey||u.metaKey?t.pdfViewer.eventEmitter.emit(se.marqueeZoomOut,t.shapeControl.shape.shape,t.pageRender.index):t.pdfViewer.eventEmitter.emit(se.marqueeZoomIn,t.shapeControl.shape.shape,t.pageRender.index),t.shapeControl.destroy(),t.shapeControl=null}}})),r.on("pancancel",(function(e){var n=t.pdfViewer.getPDFViewerRender();n&&n.enableDragToScroll(),i.end(),t.shapeControl.destroy(),t.shapeControl=null}));var c=function(e,i){n.addEventListener(e,i),t.destroyHooks.push((function(){n.removeEventListener(e,i)}))};c("click",(function(n){if(!t.isStart&&!a){t.isStart=!0,setTimeout((function(){t.isStart=!1}),500);var i=n.layerX,r=n.layerY;t.start(e,{left:i,top:r}),t.shapeControl.shape.shape.clientX=n.clientX,t.shapeControl.shape.shape.clientY=n.clientY,n.ctrlKey||n.metaKey?t.pdfViewer.eventEmitter.emit(se.marqueeZoomOut,t.shapeControl.shape.shape,t.pageRender.index):t.pdfViewer.eventEmitter.emit(se.marqueeZoomIn,t.shapeControl.shape.shape,t.pageRender.index),t.shapeControl.destroy(),t.shapeControl=null}})),c("contextmenu",(function(e){e.stopPropagation(),e.preventDefault()}))}},{key:"adjust",value:function(e,t,n){var i=t.x,r=t.y,o=n.x,a=n.y;if(e){var s,c,u=Math.abs(i-o),l=Math.abs(r-a),A={left:s=Math.min(i,o),top:c=Math.min(r,a),width:u=Math.max(u,1),height:l=Math.max(l,1)},d={left:s,top:c,right:s+u,bottom:c+l};e._applyAnnotBoundary(A),e.shape.boundary=d,e.shape.shape=A,e._updatePreviewer()}}},{key:"calibrationNumber",value:function(e){var t=e.num,n=e.min,i=void 0===n?0:n,r=e.max;return t<0?i:t>r?r:t}},{key:"docHandler",value:function(e){document.addEventListener("keydown",this.keydownEventListener=function(t){(t.ctrlKey||t.metaKey)&&e.pagesRender.pageRenders.forEach((function(e){e.$handler.get(0).style.cssText+="cursor: -webkit-zoom-out;cursor: zoom-out"}))},{capture:!0}),document.addEventListener("keyup",this.keyupEventListener=function(t){switch(t.keyCode){case W.KeyCodes.Ctrl:case W.KeyCodes.Meta:e.pagesRender.pageRenders.forEach((function(e){e.$handler.get(0).style.cursor=null}))}},{capture:!0})}},{key:"destroyDocHandler",value:function(){document.removeEventListener("keydown",this.keydownEventListener,{capture:!0}),document.removeEventListener("keyup",this.keyupEventListener,{capture:!0})}},{key:"destroyPageHandler",value:function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.pageRender.$handler.off("mousedown"),this.destroyHooks.forEach((function(e){return e()}))}}],[{key:"getStateName",value:function(){return Jn}}]),n}(nf),YI=n(973),$I=n.n(YI),JI=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"execute",value:function(e){var t=this,n=e.getStore(),i=e.ioc.getInstanceByClass(or).onMeasurementInfoChange((function(e){var r=t.getMeasurementInfo(e),o=r.displayUnit,a={distance:0,deltaX:0,deltaY:0,scale:r.scale,angle:0,displayUnit:o,perimeter:0,area:0,userSpaceUnit:r.userSpaceUnit};n.dispatch("measurementData",a),i()}))}},{key:"getMeasurementInfo",value:function(e){var t=e[qi],n=e[Ji],i=e[Ki],r=e.realUnit;return{userSpaceScale:t,userSpaceUnit:n,scale:"".concat(t," ").concat(n.name," = ").concat(i," ").concat(r.name),displayUnit:r,realScale:i,realUnit:r}}}]),n}(W.Disposable);function qI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((function(e){return e/t.length})).reduce((function(e,t){return e+t}))}var KI=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"isWhite",value:function(){return!this.a||255===this.r&&255===this.g&&255===this.b}},{key:"averageLightnessColor",value:function(){return qI(this.r,this.g,this.b)}},{key:"lightnessAverageWith",value:function(e){return qI(this.averageLightnessColor(),e.averageLightnessColor())}},{key:"mix",value:function(e,t,i){return new n(this.r*t+e.r*(1-t),this.g*t+e.g*(1-t),this.b*t+e.g*(1-t),i)}},{key:"cloneRGB",value:function(e){return new n(this.r,this.g,this.b,e)}},{key:"clone",value:function(){return new n(this.r,this.g,this.b,this.a)}},{key:"asArray",value:function(){return[this.r,this.g,this.b,this.a]}},{key:"grey",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.a,t=this.averageRGB()/2,i=Math.ceil(127.5)+t;return new n(i,i,i,e)}},{key:"averageRGB",value:function(){return qI(this.r,this.g,this.b)}}],[{key:"fromHSLA",value:function(e,t,i,r){var o=(0,R._)(W.Color.convertHSL2rgb(e,t,i),3);return new n(o[0],o[1],o[2],r)}},{key:"fromRGB",value:function(e){return n.fromRGBA(e,255)}},{key:"fromARGB",value:function(e){if(e<=16777215)return n.fromRGBA(e,255);var t=255&e>>24,i=16777215&e;return n.fromRGBA(i,t)}},{key:"fromRGBA",value:function(e,t){return new n(e>>16&255,e>>8&255,255&e,t)}},{key:"fromColor",value:function(e){return(0,T._)(e,n)?e:new n(e.r,e.g,e.b,e.a)}}]),n}(W.Color);(0,z._)(KI,"TRANSPARENT",KI.fromARGB(0)),(0,z._)(KI,"WHITE",KI.fromARGB(4294967295));var ZI=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"toChannelIndex",value:function(){return-1}},{key:"toPixelIndex",value:function(){return-1}},{key:"toCoords",value:function(){return{x:-1,y:-1,width:-1}}},{key:"isValid",value:function(){return!1}}]),e}(),XI=function(){function e(t,n,i){(0,C._)(this,e),(0,z._)(this,"x",void 0),(0,z._)(this,"y",void 0),(0,z._)(this,"width",void 0),this.x=t,this.y=n,this.width=i}return(0,D._)(e,[{key:"toChannelIndex",value:function(){return new QI(this.toPixelIndex(),this.width).toChannelIndex()}},{key:"toPixelIndex",value:function(){return this.y*this.width+this.x}},{key:"toCoords",value:function(){return{x:this.x,y:this.y,width:this.width}}},{key:"isValid",value:function(){return!0}}]),e}(),QI=function(){function e(t,n){(0,C._)(this,e),(0,z._)(this,"pixelIndex",void 0),(0,z._)(this,"width",void 0),this.pixelIndex=t,this.width=n}return(0,D._)(e,[{key:"toChannelIndex",value:function(){return 4*this.pixelIndex}},{key:"toPixelIndex",value:function(){return this.pixelIndex}},{key:"toCoords",value:function(){var e=this.pixelIndex,t=this.width;return{x:e%t,y:Math.floor(e/t),width:t}}},{key:"isValid",value:function(){return!0}}]),e}(),eT=function(){function e(t,n){(0,C._)(this,e),(0,z._)(this,"channelIndex",void 0),(0,z._)(this,"width",void 0),this.channelIndex=t,this.width=n}return(0,D._)(e,[{key:"toChannelIndex",value:function(){return this.channelIndex}},{key:"toPixelIndex",value:function(){return Math.floor(this.channelIndex/4)}},{key:"toCoords",value:function(){var e=this.toPixelIndex();return new QI(e,this.width).toCoords()}},{key:"isValid",value:function(){return!0}}]),e}(),tT=function(){function e(t){(0,C._)(this,e),(0,z._)(this,"data",void 0),t.buffer?this.data={data:new(Uint8ClampedArray||Uint8Array)(t.buffer),width:t.width,height:t.height}:this.data=t}return(0,D._)(e,[{key:"coords",value:function(e,t){return e>=this.data.width||t>=this.data.height?new ZI:new XI(e,t,this.data.width)}},{key:"pixelIndex",value:function(e){return 4*e>=this.data.data.length?new ZI:new QI(e,this.data.width)}},{key:"forEach",value:function(e){var t=this;this.forEachLocation((function(n){var i=t.getPixelColorAt(n);e(n,i)}))}},{key:"forEachLocation",value:function(e){for(var t=this.data.data,n=this.data.width,i=0;i<t.length;i+=4)e(new eT(i,n))}},{key:"getCoordsByPixelIndex",value:function(e){var t=this.data.width;return{x:e%t,y:Math.floor(e/t)}}},{key:"getPixelColorAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:KI.WHITE;if(!e.isValid())return t;var n=this.data.data,i=e.toChannelIndex();return new KI(n[i],n[i+1],n[i+2],n[i+3])}},{key:"updatePixelColor",value:function(e,t){if(e.isValid()){var n=e.toCoords(),i=n.x,r=n.y;this.data.data.set(t.asArray(),this.coords(i,r).toChannelIndex())}}}]),e}();function nT(e,t,n){var i=document.createElement("canvas"),r=i.getContext("2d");return i.width=e,i.height=t,i.style.width="".concat(e/n,"px"),i.style.height="".concat(t/n,"px"),i.style.backgroundColor="white",r.fillStyle="white",i}var iT,rT=function(){function e(t,n){(0,C._)(this,e),(0,z._)(this,"x",void 0),(0,z._)(this,"y",void 0),this.x=t,this.y=n}return(0,D._)(e,[{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"mult",value:function(t){return new e(this.x*t,this.y*t)}},{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"negate",value:function(){return new e(-this.x,-this.y)}},{key:"substract",value:function(t){return new e(this.x-t.x,this.y-t.y)}},{key:"normalize",value:function(){var t=this.length();return 0===t?new e(0,0):new e(this.x/t,this.y/t)}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"perp",value:function(){return new e(this.y,-this.x)}},{key:"segment",value:function(t){return{from:this,to:t,dir:new e(t.x-this.x,t.y-this.y)}}},{key:"rotate",value:function(t){var n=Math.sin(t),i=Math.cos(t);return new e(this.x*i+this.y*n,-this.x*n+this.y*i)}}]),e}(),oT=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"resolveDiffColor",value:function(e,t,n,i){var r=i.sourceOpacity,o=i.targetOpacity;if(i.showDiffColor){var a=t.lightnessAverageWith(n),s=a*((Math.abs(t.r-n.r)+Math.abs(t.g-n.g)+Math.abs(t.b-n.b))/255/3),c=a+s,u=Math.max(r,o);return new W.Color(c,a-s,c,u)}if(o>r){var l=r;return t.mix(n,l,o)}return n.cloneRGB(r)}},{key:"combinePixels",value:function(e,t,n){var i=this,r=t.width,o=t.height,a=n.showDiffColor,s=n.targetOpacity,c=n.sourceOpacity,u=n.canvasMultiplier,l=KI.fromRGB(n.targetDiffColor),A=KI.fromRGB(n.sourceDiffColor),d=new tT(e),h=new tT(t),f=nT(Math.max(t.width,e.width),Math.max(t.height,e.height),u),p=f.getContext("2d"),v=p.createImageData(f.width,f.height),g=new tT(v),m=KI.fromARGB(n.backgroundColor),y=function(e,t,u){var d=e.x,h=e.y;if(u.isSameAs(m)&&t.isSameAs(m))return u.cloneRGB(0);if(a&&t.isSameAs(u))return u.grey(u.a);if(d<=r&&h<=o){if(t.isSameAs(m)){var f=s;return a?i.handleDiffColor(l,u,f):u.cloneRGB(f)}if(u.isSameAs(m)){var p=c;return a?i.handleDiffColor(A,t,p):t.cloneRGB(p)}return KI.fromColor(i.resolveDiffColor(e,t,u,n))}return u},_=y;if("function"==typeof n.blendColorResolver){var b=n.blendColorResolver,w=function(e){return y(e.pos,KI.fromColor(e.sourceColor),KI.fromColor(e.targetColor))};_=function(e,t,i){var r=b({pos:e,sourceColor:t,targetColor:i,combinePixelsOptions:n,callBuiltin:w});return"number"==typeof r?KI.fromARGB(r):KI.fromColor(r)}}return g.forEachLocation((function(e){var t=e.toCoords(),n=h.getPixelColorAt(h.coords(t.x,t.y),m),i=d.getPixelColorAt(d.coords(t.x,t.y),m),r=_(t,n,i);g.updatePixelColor(e,r)})),p.putImageData(v,0,0),f}},{key:"handleDiffColor",value:function(e,t,n){var i=t.averageRGB(),r=Math.min(e.r,e.g,e.b);return new KI(e.r==r?i:e.r,e.g==r?i:e.g,e.b==r?i:e.b,n)}},{key:"transformBitmap",value:function(e,t,n,i){var r=this;if(!n)return{bitmap:e,expandX:0,expandY:0};var o=n.rotate,a=void 0===o?0:o,s=n.translateX,c=void 0===s?0:s,u=n.translateY,l=void 0===u?0:u,A=n.contentX,d=void 0===A?0:A,h=n.contentY,f=void 0===h?0:h;if(i=i||{width:0,height:0},0===a){var p=Math.max(i.width,e.width+Math.abs(c)),v=Math.max(i.height,e.height+Math.abs(l)),g=nT(p,v,1).getContext("2d",{willReadFrequently:!0});g.fillStyle=KI.fromRGB(t).toCSS_Hex(),g.fillRect(0,0,p,v);var m=this.createImageDataByPageBitmap(g,e),y=Math.max(0,c),_=Math.max(0,l);return g.putImageData(m,y,_),{bitmap:g.getImageData(0,0,p,v),expandX:c<0?-c:0,expandY:l<0?-l:0}}var b=function(){var t=nT(e.width,e.height,1),n=t.getContext("2d"),i=r.createImageDataByPageBitmap(n,e);return n.putImageData(i,0,0),t}(),w=this.getTransformedBox(e.width,e.height,{rotate:a,translateX:c,translateY:l,contentX:d,contentY:f}),k=w.width,x=w.height,P=w.expandX,C=w.expandY,D=w.renderX,E=w.renderY,S=Math.max(k,i.width),I=Math.max(x,i.height),T=nT(S,I,1).getContext("2d",{desynchronized:!1,willReadFrequently:!0});return T.fillStyle=KI.fromRGB(t).toCSS_Hex(),T.fillRect(0,0,S,I),T.translate(D,E),T.rotate(a),T.translate(-d,-f),T.drawImage(b,0,0),{bitmap:T.getImageData(0,0,S,I),expandX:P,expandY:C}}},{key:"createImageDataByPageBitmap",value:function(e,t){if((0,T._)(t,ImageData))return t;var n=e.createImageData(t.width,t.height);return t.buffer?n.data.set(new(Uint8ClampedArray||Uint8Array)(t.buffer),0):n.data.set(t.data),n}},{key:"getTransformedBox",value:function(e,t,n){var i,r,o,a,s=n.rotate,c=n.translateY,u=n.translateX,l=n.contentX,A=n.contentY,d=new rT(l=l||0,A=A||0),h=d.mult(-1),f=new rT(e,0).substract(d),p=new rT(e,t).substract(d),v=[h,f,new rT(0,t).substract(d),p].map((function(e){return e.rotate(-s)})),g=v.map((function(e){return e.x})),m=v.map((function(e){return e.y})),y=(i=Math).min.apply(i,(0,M._)(g)),_=(r=Math).max.apply(r,(0,M._)(g)),b=(o=Math).min.apply(o,(0,M._)(m)),w=(a=Math).max.apply(a,(0,M._)(m))-b,k=_-y+Math.abs(u),x=w+Math.abs(c),P=Math.abs(y)+(u<0?0:u),C=Math.abs(b)+(c<0?0:c),D=(y<0?-y:0)+(u<0?-u:0),E=(b<0?-b:0)+(c<0?-c:0);return c>0&&c<E?(E-=c,x-=c,C-=c):c>0&&c>E&&(x-=E,C-=E,E=0),u>0&&u<D?(D-=u,k-=u,P-=u):u>0&&u>D&&(k-=D,P-=D,D=0),{width:k,height:x,renderX:P,renderY:C,expandX:D,expandY:E}}}]),e}();!function(e){e[e.RED=16711680]="RED",e[e.GREEN=65280]="GREEN",e[e.BLUE=255]="BLUE",e[e.MAGENTA=16711935]="MAGENTA",e[e.YELLOW=16776960]="YELLOW",e[e.CYAN=65535]="CYAN"}(iT||(iT={}));var aT=function(){function e(){(0,C._)(this,e),(0,z._)(this,"showDiffColor",void 0),(0,z._)(this,"targetOpacity",void 0),(0,z._)(this,"sourceOpacity",void 0),(0,z._)(this,"targetDiffColor",void 0),(0,z._)(this,"sourceDiffColor",void 0),(0,z._)(this,"backgroundColor",void 0),(0,z._)(this,"blendColorResolver",void 0),(0,z._)(this,"store",new W.Store),this.resetToDefault()}return(0,D._)(e,[{key:"setShowDiffColor",value:function(e){this.showDiffColor=e,this.store.dispatch("showDiffColor",e)}},{key:"setTargetOpacity",value:function(e){this._set("targetOpacity",e)}},{key:"setSourceOpacity",value:function(e){this._set("sourceOpacity",e)}},{key:"setTargetDiffColor",value:function(e){this._set("targetDiffColor",e)}},{key:"setSourceDiffColor",value:function(e){this._set("sourceDiffColor",e)}},{key:"setBlendColorResolver",value:function(e){this._set("blendColorResolver",e)}},{key:"_set",value:function(e,t){this[e]=t,this.store.dispatch(e,t)}},{key:"onChange",value:function(e,t){return this.store.subscribe(e,t)}},{key:"extractAllOptions",value:function(){return{showDiffColor:this.showDiffColor,targetOpacity:this.targetOpacity,sourceOpacity:this.sourceOpacity,sourceDiffColor:this.sourceDiffColor,targetDiffColor:this.targetDiffColor,backgroundColor:this.backgroundColor,blendColorResolver:this.blendColorResolver}}},{key:"resetToDefault",value:function(){this.setShowDiffColor(!1),this.setTargetOpacity(255),this.setSourceOpacity(255),this.setTargetDiffColor(iT.BLUE),this.setSourceDiffColor(iT.RED),this.setBlendColorResolver(void 0),this.backgroundColor=4294967295}}],[{key:"scope",value:function(){return W.IOC_SHARED_SINGLETON}}]),e}(),sT=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"createCompareResultDoc",value:function(e){var t=e.pdfViewer,n=e.sourceDoc,i=e.targetDoc,r=e.fileName,o=e.onprogress,a=this;return(0,P._)((function(){var e,s,c,u,l,A,d,h,f;return(0,L.Jh)(this,(function(p){switch(p.label){case 0:return[4,t.getWebPDFJR()];case 1:return e=p.sent(),"function"!=typeof o&&(o=function(){}),s=a.getPageSize(n,i,0),o(0),[4,e.createNewDoc(r,t.getUserName(),s)];case 2:c=p.sent(),u=Math.max(n.getPageCount(),i.getPageCount()),o(1/u),l=1,p.label=3;case 3:return l<u?(A=c.getPageCount(),[4,a.getPageSize(n,i,l)]):[3,7];case 4:return d=p.sent(),h=d.width,f=d.height,[4,c.insertPage(A-1,h,f)];case 5:p.sent(),o(l/u),p.label=6;case 6:return l++,[3,3];case 7:return c.info.isOverlayComparisonDoc=!0,c.fromDoc=n,c.otherDoc=i,o(1),[2,c]}}))}))()}},{key:"comparePageBitmap",value:function(e,t){var n=e.getIoC().getInstanceByClass(oT),i=e.getIoC().getInstanceByClass(aT),r=(0,W.extendOptions)({canvasMultiplier:1},i.extractAllOptions(),t.combinePixelsOptions),o=n.transformBitmap(t.targetBitmap,r.backgroundColor,t.transformation),a=o.bitmap,s=o.expandX,c=o.expandY,u=n.transformBitmap(t.sourceBitmap,r.backgroundColor,{translateX:s,translateY:c},{width:a.width,height:a.height}).bitmap;return n.combinePixels(a,u,r)}},{key:"getPageSize",value:function(e,t,n){var i=this;return(0,P._)((function(){var r,o,a,s,c,u;return(0,L.Jh)(this,(function(l){switch(l.label){case 0:return[4,i.getPageByIndex(e,n)];case 1:return r=l.sent(),[4,i.getPageByIndex(t,n)];case 2:return o=l.sent(),a=null==r?void 0:r.getWidth(),s=null==r?void 0:r.getHeight(),c=null==o?void 0:o.getWidth(),u=null==o?void 0:o.getHeight(),[2,{width:Math.max(a,c),height:Math.max(s,u)}]}}))}))()}},{key:"getPageByIndex",value:function(e,t){var n=e.getPageCount();if(!(t<0||t>n))return e.getPageByIndex(t)}}],[{key:"scope",value:function(){return W.IOC_SHARED_SINGLETON}}]),e}(),cT=function(){function e(){(0,C._)(this,e),(0,z._)(this,"pdfViewer",void 0)}return(0,D._)(e,[{key:"compareImageData",value:function(e){return this.getSharedOverlayComparisonService().comparePageBitmap(this.pdfViewer,e)}},{key:"getSharedOverlayComparisonService",value:function(){return this.pdfViewer.getIoC().getInstanceByClass(sT)}}],[{key:"inject",value:function(){return{pdfViewer:eM}}}]),e}(),uT=function(){function e(){(0,C._)(this,e),(0,z._)(this,"pdfViewerInstances",new Set),(0,z._)(this,"usedInstanceIds",new Set)}return(0,D._)(e,[{key:"addPDFViewerInstance",value:function(e){var t=this;return this.pdfViewerInstances.add(e),this.usedInstanceIds.add(e.instanceId),function(){t.removePDFViewerInstance(e)}}},{key:"removePDFViewerInstance",value:function(e){this.pdfViewerInstances.delete(e)}},{key:"isMultipleCase",value:function(){return this.pdfViewerInstances.size>1}},{key:"hasPDFViewerInstance",value:function(){return this.pdfViewerInstances.size>0}},{key:"isUsedInstanceId",value:function(e){return Array.from(this.pdfViewerInstances).some((function(t){return t.instanceId===e}))}},{key:"getNextInstanceId",value:function(){if(this.pdfViewerInstances.size>0)return"pdfviewer-instance-"+this.usedInstanceIds.size}}],[{key:"scope",value:function(){return W.IoCScope.SHARED_SINGLETON}}]),e}(),lT=["de-DE","en-US","es-419","fr-FR","it-IT","ja-JP","ko-KR","nl-NL","zh-CN","zh-TW"],AT=lT.map((function(e){return e.toLowerCase().split("-")}));function dT(e){if("string"!=typeof e)return"en-US";var t,n=e.toLowerCase();if(n.indexOf("-")>-1){var i=n.split("-");t=function(e){return e[0]===i[0]&&e[1]===i[1]}}else t=function(e){return e[0]===n||e[1]===n};var r=AT.findIndex(t);return-1!==r?lT[r]:"en-US"}var hT=function(){function e(t){(0,C._)(this,e),(0,z._)(this,"events",void 0),this.events={}}return(0,D._)(e,[{key:"setCallback",value:function(e,t){this.events[e]=t}},{key:"getCallback",value:function(e){return this.events[e]}},{key:"removeCallback",value:function(e){delete this.events[e]}},{key:"clear",value:function(){this.events={}}},{key:"setEmbeddedGotoCallback",value:function(e){this.setCallback(it.gotoE,e)}},{key:"setSubmitFormCallback",value:function(e){this.setCallback(it.submitForm,e)}}]),e}(),fT=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"execute",value:function(e){var t=W.CLIPBOARD_DATA_TYPES.PLAIN,n=W.CLIPBOARD_DATA_TYPES.HTML,i=W.CLIPBOARD_DATA_TYPES.FILES,r=function(r){if(!(0,W.isEditableElement)(document.activeElement)&&e.isShortcutKeyEnabled()&&r.clipboardData&&r.clipboardData.items){if(W.keyboardStatus.isShiftDown)return r.preventDefault(),!1;var o=e.getStateHandlerManager().getCurrentStates(),a=e.getStateHandlerManager().getStateHandlerConfig(o.getStateName());if(!a||a.enablePasting){var s=[],c=r.clipboardData;if(c&&c.items){var u=c.items,l=c.types,A=l[0],d=0;if(l.length>1){var h=l.indexOf(n);h>-1&&(d=h,A=n)}switch(A){case t:u[d].getAsString((function(t){var n;try{if("number"==typeof(n=JSON.parse(t)))throw new Error("Pure number")}catch(e){n=[{type:"string",value:t}]}n.some((function(e){var t=e.value;return"string"===e.type&&"widget"===t.type&&7===t.fieldType}))?e.viewerUI.alert({message:"form-designer:dialog.typeError",level:"warning"}):e.paste(n).then((function(){e.getCurrentPDFDoc()}))}));break;case n:var f=c.getData(n);if(f){var p=[{type:"html",value:f}];e.paste(p).then((function(){e.getCurrentPDFDoc()}))}break;case i:s=[{type:"file",value:u[d].getAsFile()}],e.paste(s)}}}}};document.addEventListener("paste",r),this.addDestroyHook((function(){document.removeEventListener("paste",r)}))}}]),n}(W.Disposable),pT=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;return(0,C._)(this,n),e=t.apply(this,arguments),(0,z._)((0,x._)(e),"viewer",void 0),(0,z._)((0,x._)(e),"eventEmitter",new _o.EventEmitter),e}return(0,D._)(n,[{key:"allInjected",value:function(){var e=this;this.ownsTo(this.viewer),this.eventEmitter.emit("change"),this.addDestroyHook((function(){e.eventEmitter.removeAllListeners()}))}},{key:"updateGetAnnotComponentConfig",value:function(e){if("function"!=typeof e)throw new Error("The 'getAnnotComponentConfig' option must be a function.");this.viewer.customs.getAnnotComponentConfig=e,this.eventEmitter.emit("change")}},{key:"onGetAnnotComponentConfigUpdated",value:function(e){var t=this,n=function(){e(t.viewer)};return this.eventEmitter.on("change",n),function(){t.eventEmitter.off("change",n)}}}],[{key:"inject",value:function(){return{viewer:eM}}}]),n}(W.Disposable),vT=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FoxitWebPDFSDKForWeb";(0,C._)(this,e),(0,z._)(this,"defaultDatabaseName",void 0),(0,z._)(this,"STORE_NAME",void 0),(0,z._)(this,"databasePromise",void 0),(0,z._)(this,"removeEventListeners",void 0),(0,z._)(this,"changeEventListeners",void 0),(0,z._)(this,"pdfViewer",void 0),(0,z._)(this,"isClosed",void 0),(0,z._)(this,"notConnected",void 0),(0,z._)(this,"databaseDefer",void 0),(0,z._)(this,"waitQueue",void 0),this.defaultDatabaseName=t,this.STORE_NAME="data",this.removeEventListeners=new Set,this.changeEventListeners=new Set,this.isClosed=!1,this.notConnected=!0,this.waitQueue=new W.QueuedAsyncTaskExecutor}return(0,D._)(e,[{key:"connectDB",value:function(){var e,t,n=this,i=(null===(t=this.pdfViewer)||void 0===t||null===(e=t.customs)||void 0===e?void 0:e.storageDatabaseName)||this.defaultDatabaseName,r=window.indexedDB.open(i,1);this.databaseDefer=(0,W.createDeferred)(),this.databasePromise=this.databaseDefer.promise,this.notConnected=!1,r.onerror=function(){n.databaseDefer.reject(r.error)},r.onsuccess=function(){n.databaseDefer.resolve(r.result),r.result.onclose=function(){n.notConnected=!0}},r.onupgradeneeded=function(){r.result.createObjectStore(n.STORE_NAME).createIndex("id,feature,key",["id","feature","key"],{unique:!0})}}},{key:"useStore",value:function(e){var t=this;return(0,P._)((function(){var n,i;return(0,L.Jh)(this,(function(r){if(t.isClosed)throw new Error("Unable to execute storage operations after the driver has been closed!");var o;return t.notConnected&&t.connectDB(),o=(0,P._)((function(){var n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return[4,t.databasePromise];case 1:return n=i.sent(),[2,e((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return n.transaction([t.STORE_NAME],e?"readonly":"readwrite").objectStore(t.STORE_NAME)}))]}}))})),n=function(){return o.apply(this,arguments)},i=n(),t.waitQueue.exec((function(){return i})),[2,i]}))}))()}},{key:"get",value:function(e,t){var n=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(i){return[2,n.useStore((function(i){return n.getValue(i(!0),e,t)}))]}))}))()}},{key:"onChange",value:function(e){var t=this,n={callback:e};return this.changeEventListeners.add(n),function(){t.changeEventListeners.delete(n)}}},{key:"remove",value:function(e,t){var n=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return[4,n.useStore((r=(0,P._)((function(i){var r,o;return(0,L.Jh)(this,(function(a){switch(a.label){case 0:return r=i().delete(IDBKeyRange.only(n.generateKeyArray(e,t))),o=(0,W.createDeferred)(),r.onerror=function(){return o.reject(r.error)},r.onsuccess=function(){return o.resolve()},[4,o.promise];case 1:return a.sent(),n.dispatchRemoveEvent(e,t),[2]}}))})),function(e){return r.apply(this,arguments)}))];case 1:return i.sent(),[2]}var r}))}))()}},{key:"removeAll",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[4,t.useStore((i=(0,P._)((function(n){var i;return(0,L.Jh)(this,(function(r){switch(r.label){case 0:return[4,t.getAllKeys(n(!0),e)];case 1:return i=r.sent(),[4,Promise.all(i.map(function(){var i=(0,P._)((function(i){var r,o;return(0,L.Jh)(this,(function(a){switch(a.label){case 0:return r=n().delete(IDBKeyRange.only(i)),o=(0,W.createDeferred)(),r.onerror=function(){return o.reject(r.error)},r.onsuccess=function(){return o.resolve()},[4,o.promise];case 1:return a.sent(),t.dispatchRemoveEvent(e,i),[2]}}))}));return function(e){return i.apply(this,arguments)}}()))];case 2:return r.sent(),[2]}}))})),function(e){return i.apply(this,arguments)}))];case 1:return n.sent(),[2]}var i}))}))()}},{key:"set",value:function(e,t,n){var i=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(r){switch(r.label){case 0:return[4,i.useStore((o=(0,P._)((function(r){var o,a,s,c,u,l;return(0,L.Jh)(this,(function(A){switch(A.label){case 0:return o=r(),[4,i.has(o,e,t)];case 1:return(a=A.sent())?[4,i.getValue(o,e,t)]:[3,3];case 2:return c=A.sent(),[3,4];case 3:c=void 0,A.label=4;case 4:return(s=c)===n||JSON.stringify(s)===JSON.stringify(n)?[2]:(u=a?o.put(n,i.generateKeyArray(e,t)):o.add(n,i.generateKeyArray(e,t)),l=(0,W.createDeferred)(),u.onerror=function(){console.error("idb store error: ",e,t,n,a,s),l.reject(u.error)},u.onsuccess=function(){return l.resolve()},[4,l.promise]);case 5:return A.sent(),i.dispatchChangeEvent({context:e,key:t,oldValue:s,newValue:n}),[2]}}))})),function(e){return o.apply(this,arguments)}))];case 1:return r.sent(),[2]}var o}))}))()}},{key:"getAll",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){return[2,t.useStore((i=(0,P._)((function(n){var i,r;return(0,L.Jh)(this,(function(o){switch(o.label){case 0:return[4,t.getAllKeys(n(),e)];case 1:return i=o.sent(),r={},i.length?[4,Promise.all(i.map(function(){var e=(0,P._)((function(e){var t,i,o,a;return(0,L.Jh)(this,(function(s){switch(s.label){case 0:return t=n(),i=t.get(IDBKeyRange.only(e)),o=(0,W.createDeferred)(),i.onerror=function(){return o.reject(i.error)},i.onsuccess=function(){return o.resolve(i.result)},[4,o.promise];case 1:return a=s.sent(),r[e[2]]=a,[2]}}))}));return function(t){return e.apply(this,arguments)}}()))]:[2,r];case 2:return o.sent(),[2,r]}}))})),function(e){return i.apply(this,arguments)}))];var i}))}))()}},{key:"onRemove",value:function(e){var t=this,n={type:"remove",callback:e};return this.removeEventListeners.add(n),function(){t.removeEventListeners.delete(n)}}},{key:"close",value:function(){var e=this;return(0,P._)((function(){var t;return(0,L.Jh)(this,(function(n){switch(n.label){case 0:if(e.isClosed)return[2];e.isClosed=!0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.databasePromise];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return t?[4,e.waitQueue.waitForCurrentRunningTasks()]:[2];case 5:return n.sent(),[4,e.waitQueue.waitUntilQuiet(10)];case 6:return n.sent(),t.close(),[2]}}))}))()}},{key:"has",value:function(e,t,n){var i=this;return(0,P._)((function(){var r,o;return(0,L.Jh)(this,(function(a){return r=e.getKey(IDBKeyRange.only(i.generateKeyArray(t,n))),o=(0,W.createDeferred)(),r.onerror=function(){return o.reject(r.error)},r.onsuccess=function(){return o.resolve(!!r.result)},[2,o.promise]}))}))()}},{key:"generateKeyArray",value:function(e,t){return[e.id||"",e.feature||""].concat(2===arguments.length?[t||""]:[])}},{key:"getValue",value:function(e,t,n){var i=IDBKeyRange.only(this.generateKeyArray(t,n)),r=e.get(i),o=(0,W.createDeferred)();return r.onerror=function(){return o.reject(r.error)},r.onsuccess=function(){return o.resolve(r.result)},o.promise}},{key:"getAllKeys",value:function(e,t){var n=this;return(0,P._)((function(){var i,r,o,a,s;return(0,L.Jh)(this,(function(c){switch(c.label){case 0:return i=e.getAllKeys(IDBKeyRange.lowerBound(n.generateKeyArray(t))),r=(0,W.createDeferred)(),i.onerror=function(){return r.reject(i.error)},i.onsuccess=function(){return r.resolve(i.result)},[4,r.promise];case 1:return o=c.sent(),a=t.id||"",s=t.feature||"",[2,o.filter((function(e){return e[0]===a&&e[1]===s}))]}}))}))()}},{key:"dispatchRemoveEvent",value:function(e,t){this.removeEventListeners.forEach((function(n){(0,n.callback)({context:e,key:t})}))}},{key:"dispatchChangeEvent",value:function(e){this.changeEventListeners.forEach((function(t){(0,t.callback)((0,w._)({},e))}))}}],[{key:"inject",value:function(){return{pdfViewer:eM}}}]),e}(),gT=function(){function e(){(0,C._)(this,e),(0,z._)(this,"pdfViewer",void 0)}return(0,D._)(e,[{key:"getAll",value:function(e){return this.getStorageDriverImpl().getAll(e)}},{key:"get",value:function(e,t){return this.getStorageDriverImpl().get(e,t)}},{key:"set",value:function(e,t,n){return this.getStorageDriverImpl().set(e,t,n)}},{key:"removeAll",value:function(e){return this.getStorageDriverImpl().removeAll(e)}},{key:"remove",value:function(e,t){return this.getStorageDriverImpl().remove(e,t)}},{key:"onChange",value:function(e){return this.getStorageDriverImpl().onChange(e)}},{key:"onRemove",value:function(e){return this.getStorageDriverImpl().onRemove(e)}},{key:"getStorageDriverImpl",value:function(){var e=this.pdfViewer.customs.storageDriver;if(e)return this.getStorageDriverImpl=function(){return e},e;var t=this.pdfViewer.getIoC().getInstanceByClass(vT);return this.getStorageDriverImpl=function(){return t},t}},{key:"close",value:function(){return this.getStorageDriverImpl().close()}},{key:"isClosed",get:function(){return this.getStorageDriverImpl().isClosed}}],[{key:"inject",value:function(){return{pdfViewer:eM}}}]),e}(),mT=function(){function e(){(0,C._)(this,e),(0,z._)(this,"pdfViewer",void 0),(0,z._)(this,"driverWrapper",void 0)}return(0,D._)(e,[{key:"driver",get:function(){if(this.driverWrapper.isClosed)throw new Error("Unable to execute storage operations after the driver has been closed!");return this.driverWrapper}},{key:"getAll",value:function(e){var t=this;return(0,P._)((function(){var n;return(0,L.Jh)(this,(function(i){return n=t.getContext(e),[2,t.driver.getAll(n)]}))}))()}},{key:"get",value:function(e,t){var n=this;return(0,P._)((function(){var i;return(0,L.Jh)(this,(function(r){return i=n.getContext(e),[2,n.driver.get(i,t)]}))}))()}},{key:"set",value:function(e,t,n){var i=this;return(0,P._)((function(){var r;return(0,L.Jh)(this,(function(o){return r=i.getContext(e),[2,i.driver.set(r,t,n)]}))}))()}},{key:"remove",value:function(e,t){var n=this;return(0,P._)((function(){var i;return(0,L.Jh)(this,(function(r){return i=n.getContext(e),[2,n.driver.remove(i,t)]}))}))()}},{key:"removeAll",value:function(e){var t=this;return(0,P._)((function(){var n;return(0,L.Jh)(this,(function(i){return n=t.getContext(e),[2,t.driver.removeAll(n)]}))}))()}},{key:"getContext",value:function(e){return{feature:e,id:this.pdfViewer.getInstanceId(),pdfViewer:this.pdfViewer}}},{key:"onChange",value:function(e){return this.driver.onChange((function(t){e((0,w._)({},t))}))}},{key:"onRemove",value:function(e){return this.driver.onRemove((function(t){e((0,w._)({},t))}))}},{key:"destroy",value:function(){if(!this.driverWrapper.isClosed)return this.driver.close()}}],[{key:"inject",value:function(){return{pdfViewer:eM,driverWrapper:gT}}}]),e}();const yT={ActionCallback:{alert:function(e){var t=e.message;e.title,e.type,e.icon;return function(e,t,n,i){return new Promise((function(t){window.alert(e),t(1)}))}(t)},response:function(e){e.question,e.title,e.defaultValue,e.label,e.isPassword}}},_T={XFAAppProvider:{msgBox:function(e){var t=e.message;e.title,e.iconType,e.buttonType;return new Promise((function(e){window.alert(t),e(1)}))},response:function(e){e.question,e.title,e.defaultAnswer,e.isPassword}}};var bT,wT={};var kT=W.LoggerFactory.getLogger("ServiceWorker"),xT="Your service worker registration has failed, potentially resulting in the inability to utilize features like XFA and 3D. Please confirm whether your current environment supports service workers, and double-check the configuration of the scope option and Service-Worker-Allowed response header. Original reason: ";function PT(){return PT=(0,P._)((function(e,t,n,i){var r,o,a,s,c;return(0,L.Jh)(this,(function(u){switch(u.label){case 0:if(r=Object.assign({},yT,_T,function(e,t){var n=-1,i=!1;return Object.assign({},e,{XFADocProvider:{GetCurrentPageIndex:function(){try{if(i&&-1!==n)return n;var e=t.getPDFDocRender();return e?e.getCurrentPageIndex():-1}catch(e){return-1}},SetCurrentPage:function(e){e.doc;var r=e.pageIndex;i=!0,n=r,t.goToPage(r).finally((function(){i=!1}))}}})}({},e),function(e){return{LocalFont:{getLocalFontInfos:(0,P._)((function(){return(0,L.Jh)(this,(function(t){switch(t.label){case 0:return bT?[4,bT]:[3,2];case 1:case 3:return[2,t.sent()];case 2:return[4,bT=e.getLocalFontInfos()]}}))})),getLocalFontBlobUrl:(t=(0,P._)((function(e){var t,n,i,r;return(0,L.Jh)(this,(function(o){switch(o.label){case 0:return[4,queryLocalFonts({postscriptNames:[e]})];case 1:return t=o.sent(),(n=t[0])?[4,n.blob()]:[2,""];case 2:return i=o.sent(),r=URL.createObjectURL(i),wT[e]=r,[2,r]}}))})),function(e){return t.apply(this,arguments)})}};var t}(e),i),!("serviceWorker"in navigator))return[2,Promise.resolve(!1)];u.label=1;case 1:return u.trys.push([1,5,,6]),[4,t.registration?Promise.resolve(t.registration):ST(t)];case 2:return o=u.sent(),[4,navigator.serviceWorker.ready];case 3:return u.sent(),navigator.serviceWorker.startMessages(),a=function(){},l=(0,P._)((function(){var i,c,u,l;return(0,L.Jh)(this,(function(A){switch(A.label){case 0:return a(),[4,CT(o,n,r)];case 1:return i=A.sent(),c=i.cleanup,(u=i.serviceWorker).addEventListener("statechange",function(){var e=(0,P._)((function(){var e,i,r;return(0,L.Jh)(this,(function(a){switch(a.label){case 0:return"redundant"!==u.state?[2]:(u.removeEventListener("statechange",n),e=t.url,[4,navigator.serviceWorker.getRegistrations()]);case 1:return i=a.sent(),r=i.find((function(t){return(t.installing||t.waiting||t.active).scriptURL===e})),r&&(o=r,s()),[2]}}))}));function n(){return e.apply(this,arguments)}return n}()),l=e.addDestroyHook(c),window.addEventListener("beforeunload",c),a=function(){l(),window.removeEventListener("beforeunload",c)},[2]}}))})),s=function(){return l.apply(this,arguments)},[4,s()];case 4:return u.sent(),navigator.serviceWorker.addEventListener("message",function(){var e=(0,P._)((function(e){return(0,L.Jh)(this,(function(t){return(0,W.isPlainObject)(e.data)&&"re-init-client"===e.data.id&&s(),[2]}))}));return function(t){return e.apply(this,arguments)}}()),[2,!0];case 5:return c=u.sent(),kT.warn(xT,c),[2,!1];case 6:return[2]}var l}))})),PT.apply(this,arguments)}function CT(e,t,n){return DT.apply(this,arguments)}function DT(){return DT=(0,P._)((function(e,t,n){var i,r,o,a;return(0,L.Jh)(this,(function(s){switch(s.label){case 0:return[4,ET(e)];case 1:return i=s.sent(),r=new W.Defer,(o=new MessageChannel).port2.addEventListener("message",(function(e){var o=e.data||{};if(o.clientId===t)if("init-client-success"!==o.id){var a=o.type,s=n[a],c=o.action;if(s&&s[c]){var u=o.id;Promise.resolve(s[c](o.data)).then((function(e){i.postMessage({id:u,data:e})}),(function(e){i.postMessage({id:u,error:e})}))}}else r.resolve()})),o.port2.start(),a=function(){i.postMessage({id:"destroy-client",data:{clientId:t}}),o.port2.close()},i.postMessage({id:"init-client",data:{port:o.port1,clientId:t}},[o.port1]),[4,r.promise];case 2:return s.sent(),[2,{serviceWorker:i,cleanup:function(){return a()}}]}}))})),DT.apply(this,arguments)}function ET(e){var t=new W.Defer,n=e.installing||e.waiting||e.active;if(n)if("activated"===n.state)t.resolve(n);else{var i=function(e){"activated"===e.target.state&&(n.removeEventListener("statechange",i),t.resolve(n))};n.addEventListener("statechange",i)}else t.reject(new Error("No Service Worker found"));return t.promise}function ST(e){return(window.__DEVELOPER_GUIDE_MODE__?window.top.navigator.serviceWorker:navigator.serviceWorker).register(e.url,Object.assign({scope:"/"},e.options))}var IT=n(9901),TT=n.n(IT),RT=n(2843),MT=n.n(RT),FT=[".mp3",".wav",".ogg"],NT=FT.concat([".mp4",".m4a",".mov",".avi"]),LT=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){var o;return(0,C._)(this,n),o=t.call(this),(0,z._)((0,x._)(o),"eContainer",void 0),(0,z._)((0,x._)(o),"annot",void 0),(0,z._)((0,x._)(o),"pdfViewer",void 0),(0,z._)((0,x._)(o),"$container",void 0),(0,z._)((0,x._)(o),"eventEmitter",void 0),(0,z._)((0,x._)(o),"rendition",void 0),(0,z._)((0,x._)(o),"player",void 0),(0,z._)((0,x._)(o),"blob",void 0),o.eContainer=e,o.annot=i,o.pdfViewer=r,o.pdfViewer=r,o.annot=i,o.$container=j()(o.eContainer),o.eventEmitter=new(bo()),o}return(0,D._)(n,[{key:"isSupport",value:function(e){if("fileName"in e){var t=this.getFileExt(e.fileName);return Promise.resolve(NT.indexOf(t)>-1)}return Promise.resolve(!1)}},{key:"init",value:function(e){var t=this;return this.rendition=e,this.isSupport({buffer:e.buffer,fileName:e.fileName}).then((function(n){if(n){var i=t.createUrlfromData(e);t.createDom(t.getFileExt(e.fileName),i),t.updatePlayerRect()}else t.alertUnsupportMsg();return Promise.resolve()}))}},{key:"getFileExt",value:function(e){var t=e.substr(e.lastIndexOf(".")).toLowerCase();return t.indexOf("?")>0&&(t=t.substr(0,t.indexOf("?"))),t}},{key:"createUrlfromData",value:function(e){var t=e.buffer,n=e.fileName,i=e.contentType;if(!t)return n;var r=this.pdfViewer.resourceGenerator(sb.PDF_DOCUMENT_CLOSING,cb.OBJECT_URL).expose().URL,o=t;return this.blob=new Blob([o.buffer],{type:i}),r.createObjectURL(this.blob)}},{key:"createDom",value:function(e,t){var n=this,i="";if(FT.indexOf(e)>-1){var r=W.isMobile||W.isSafari?"":"fv__hide";this.$container.addClass(r),i=TT()({type:"audio",url:t})}else i=MT()({url:t});this.$container.append(i),this.player=this.$container[0].querySelector(".fv__player"),(W.isIE||W.isEdge)&&this.$container.addClass("IE-player");var o=this.$container[0].querySelector(".fv__close-video").parentNode;o.addEventListener("click",(function(e){n.player&&n.player.pause&&n.player.pause(),n.$container.hide(),e.stopPropagation()})),o.addEventListener("mousedown",(function(e){e.stopPropagation()})),o.addEventListener("pointerdown",(function(e){e.stopPropagation()})),o.addEventListener("touchstart",(function(e){e.stopPropagation()}));var a=function(e){n.eventEmitter.emit("play",n.annot)},s=function(e){n.eventEmitter.emit("pause",n.annot)},c=function(e){n.eventEmitter.emit("ended",n.annot)},u=function(e){e.preventDefault()};this.player.addEventListener("play",a),this.player.addEventListener("pause",s),this.player.addEventListener("ended",c),this.player.addEventListener("click",u),this.addDestroyHook((function(){n.player.removeEventListener("play",a),n.player.removeEventListener("pause",s),n.player.removeEventListener("ended",c),n.player.removeEventListener("click",u)}))}},{key:"on",value:function(e,t){var n=this;return this.eventEmitter.on(e,t),function(){return n.eventEmitter.off(e,t)}}},{key:"play",value:function(){var e=this;if(this.player)if(this.player.paused){this.pdfViewer.eventEmitter.emit("startPlayMultimedia");var t=this.player.play();void 0!==t&&t.then((function(){W.isSafari&&e.player.play()})).catch((function(t){W.isSafari||(e.alertUnsupportMsg(),e.$container.remove())}))}else this.player.pause()}},{key:"pause",value:function(){this.player&&this.player.pause()}},{key:"updatePlayerRect",value:function(){var e=this.pdfViewer.getPDFPageRender(0),t=e.getScale(),n=e.getRotation(),i=this.annot.getDeviceRect(t,n);return this.player?(this.$container.css({left:i.left+"px",top:i.top+"px",width:i.right-i.left+"px",height:i.bottom-i.top+"px"}),i):i}},{key:"alertUnsupportMsg",value:function(){this.pdfViewer.viewerUI.alert({message:this.pdfViewer.i18n.t("viewer_:contextmenu.annot.noSptPlayPlsDownload_websdk"),level:"warning",isHTML:!0})}},{key:"download",value:function(){if(!this.blob)return this.alertUnsupportMsg();this.rendition&&this.rendition.fileName&&this.blob.type&&Oh(this.blob,this.rendition.fileName,this.blob.type)}}]),n}(W.Disposable);const OT="f4fff59420c345078f53993ccc857787",jT="96a209106acdabc0cbf77626923fc185";var BT,VT,UT="FoxitWebPDFSDKForWeb_localFontInfo",HT="info",zT=1;function WT(e){return GT.apply(this,arguments)}function GT(){return GT=(0,P._)((function(e){return(0,L.Jh)(this,(function(e){return VT?[2,VT]:[2,Promise.resolve().then(n.bind(n,9960)).then((function(e){return new(0,e.IndexDBStore)(HT,UT,zT).getAll()})).then((t=(0,P._)((function(e){var t,n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:if(!e.length)return[2];e=e.sort((function(e,t){return e-t})).map((function(e){return e.value})),t=e.map((function(e){return e.split(",")[3]})),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,queryLocalFonts({postscriptNames:t})];case 2:return n=i.sent(),VT={infos:n.map((function(n){var i=t.indexOf(n.postscriptName);return e[i]})),datas:n.map((function(t,n){var i=e[n].split(",");return{postscriptName:t.postscriptName,fullName:t.fullName,family:t.family,style:t.style,cFamily:i[1],cFullName:i[7]}}))},[2,VT];case 3:return i.sent(),[3,4];case 4:return[2]}}))})),function(e){return t.apply(this,arguments)}))];var t}))})),GT.apply(this,arguments)}function YT(e,t){return $T.apply(this,arguments)}function $T(){return($T=(0,P._)((function(e,t){return(0,L.Jh)(this,(function(e){return[2,Promise.resolve().then(n.bind(n,9960)).then((function(e){var n=new(0,e.IndexDBStore)(HT,UT,zT);return n.clear().then((function(){return n.addItems(t.map((function(e,t){return{id:t,value:e}})))}))}))]}))}))).apply(this,arguments)}function JT(e){return qT.apply(this,arguments)}function qT(){return qT=(0,P._)((function(e){var t,n,i,r,o,a,s,c,u,l,A,d,h,f,p,v,g,m,y,_,b=arguments;return(0,L.Jh)(this,(function(w){switch(w.label){case 0:t=b.length>1&&void 0!==b[1]?b[1]:function(){},n=b.length>2&&void 0!==b[2]?b[2]:eR,i=e.libPath,o=function(){},w.label=1;case 1:return w.trys.push([1,15,,16]),[4,queryLocalFonts()];case 2:r=w.sent(),w.label=3;case 3:return w.trys.push([3,5,,6]),[4,n(e)];case 4:return o=w.sent(),[3,6];case 5:return w.sent(),[3,6];case 6:return"function"!=typeof o&&(o=function(){}),o(0),a=document.createElement("script"),BT=BT||new Promise((function(e,t){a.onload=(0,P._)((function(){var n;return(0,L.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Tool({locateFile:function(e){return i+(/\/$/.test(i)?"":"/")+e+"?h="+jT}})];case 1:return e.apply(void 0,[r.sent()]),[3,3];case 2:return n=r.sent(),o(-1),t(n),[3,3];case 3:return[2]}}))})),a.onerror=function(e){o(-1),t(e)}})),a.src=i+(/\/$/.test(i)?"":"/")+"tool.js?v="+OT,document.body.appendChild(a),[4,BT];case 7:s=w.sent(),c=r.length,u=0,l=[],A=[],d=[],h=0,w.label=8;case 8:if(!(h<c))return[3,14];w.label=9;case 9:return w.trys.push([9,12,,13]),[4,(f=r[h]).blob()];case 10:return p=w.sent(),v=l[h]={postscriptName:f.postscriptName,fullName:f.fullName,family:f.family,style:f.style},[4,KT(s,f.postscriptName,p)];case 11:return g=w.sent(),m=g.split(","),v.cFamily=m[1],v.cFullName=m[7],A[h]=g,u++,o(u/c),[3,13];case 12:return w.sent(),d.push(h),[3,13];case 13:return h++,[3,8];case 14:for(y=d.length;y--;)_=d[y],A.splice(_,1),l.splice(_,1);return o(1),t(e,A),[2,{infos:A,datas:l}];case 15:return w.sent(),o(-1),[2,{}];case 16:return[2]}}))})),qT.apply(this,arguments)}function KT(e,t,n){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,P._)((function(e,t,n){var i,r,o,a;return(0,L.Jh)(this,(function(s){switch(s.label){case 0:return[4,n.arrayBuffer()];case 1:return i=s.sent(),r=new Uint8Array(i),o=e.StreamCallback.implement({GetSize:function(){return i.byteLength},GetPosition:function(){return 0},ReadBlock:function(t,n,i){var o=r.slice(n,n+i);return e.HEAPU8.set(o,t),!0},Release:function(){i=null,r=null}}),a=e.GetFontInformation(0,t,o),o.delete(),i=null,r=null,[2,a]}}))})),ZT.apply(this,arguments)}function XT(e){return QT.apply(this,arguments)}function QT(){return(QT=(0,P._)((function(e){var t;return(0,L.Jh)(this,(function(n){return(t=document.createElement("dialog")).setAttribute("open","open"),t.classList.add("fv__dialog"),t.innerHTML="\n        <div>\n            <p>".concat(e.i18n.t("viewer_:font.load"),'</p>\n            <button class="confirm">').concat(e.i18n.t("viewer_:dialog.actionDialog.OK"),'</button>\n            <button class="cancel">').concat(e.i18n.t("viewer_:dialog.actionDialog.Cancel"),"</button>\n        </div>\n    "),document.body.appendChild(t),[2,new Promise((function(e,n){t.querySelector(".confirm").onclick=function(){e(!0),t.remove()},t.querySelector(".cancel").onclick=function(){e(!1),t.remove()}}))]}))}))).apply(this,arguments)}function eR(e){var t,n=Promise.resolve(e.viewerUI.progress()).then((function(e){return(t=e).show(),t}));return function(e){-1!==e&&1!==e||n.then((function(e){e.hide()})),t&&t.updateProgress((100*e).toFixed()+"%")}}var tR=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;(0,C._)(this,n),e=t.call(this),(0,z._)((0,x._)(e),"callbacks",new Set);var i=function(t){var n=t.data;if(n&&"object"==typeof n&&"precache-event"===n.type){var i=n.event;i&&"object"==typeof i&&e.callbacks.forEach((function(e){e(i)}))}};return window.navigator.serviceWorker&&(window.navigator.serviceWorker.addEventListener("message",i),e.addDestroyHook((function(){window.navigator.serviceWorker.removeEventListener("message",i)}))),e}return(0,D._)(n,[{key:"getPrecacheURL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:131072,n=new URL("/__foxitwebsdk-load-file__",location.href);n.searchParams.set("file",e);var i=t;return n.searchParams.set("chunk-size",i+""),n.href}},{key:"startPrecache",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:131072,n=arguments.length>2?arguments[2]:void 0,i=this;return(0,P._)((function(){var r,o;return(0,L.Jh)(this,(function(a){switch(a.label){case 0:return r=i.getPrecacheURL(e,t),(o=new Headers(n)).set("Range","bytes=0-1"),[4,fetch(r,{headers:o})];case 1:return[4,a.sent().blob()];case 2:return a.sent(),[2]}}))}))()}},{key:"dropPrecache",value:function(e){return(0,P._)((function(){var t,n;return(0,L.Jh)(this,(function(i){return null===(n=navigator.serviceWorker)||void 0===n||null===(t=n.controller)||void 0===t||t.postMessage({type:"precache-event",event:{action:"drop",originalURL:e}}),[2]}))}))()}},{key:"stopPrecacheTask",value:function(e){return(0,P._)((function(){var t,n;return(0,L.Jh)(this,(function(i){return null===(n=navigator.serviceWorker)||void 0===n||null===(t=n.controller)||void 0===t||t.postMessage({type:"precache-event",event:{action:"stop",originalURL:e}}),[2]}))}))()}},{key:"onPrecacheEvent",value:function(e){var t=this,n=e.bind(this);return this.callbacks.add(n),function(){t.callbacks.delete(n)}}}]),n}(W.Disposable),nR="widget-data-changed",iR="refresh-page",rR="mousedown-widget",oR="mouseup-widget",aR="click-widget",sR="right-click-widget",cR="mouseover-widget",uR="mouseleave-widget",lR="keydown-widget",AR="keyup-widget",dR=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;return(0,C._)(this,n),e=t.apply(this,arguments),(0,z._)((0,x._)(e),"_controllerAPI",void 0),(0,z._)((0,x._)(e),"focusOnControl",void 0),(0,z._)((0,x._)(e),"virtualWidgetElement",document.createElement("label")),(0,z._)((0,x._)(e),"editorAPI",void 0),(0,z._)((0,x._)(e),"manualFocusControl",void 0),(0,z._)((0,x._)(e),"mouseOverControl",void 0),(0,z._)((0,x._)(e),"currentFocusWidgetAnnotComponent",void 0),(0,z._)((0,x._)(e),"fieldAPI",void 0),(0,z._)((0,x._)(e),"formAPI",void 0),(0,z._)((0,x._)(e),"signatureAPI",void 0),(0,z._)((0,x._)(e),"designModeStore",new W.ValueStore(wr.FormDesignMode.NONE)),(0,z._)((0,x._)(e),"eventEmitter",new(bo())),(0,z._)((0,x._)(e),"virtualWidgetElementVisibilityChecker",new W.VisibilityChecker(e.virtualWidgetElement,{root:document.body})),(0,z._)((0,x._)(e),"mousedownControlInfo",void 0),(0,z._)((0,x._)(e),"renderThrottleExecutor",new W.ThrottleAsyncTaskExecutor(100,!0)),(0,z._)((0,x._)(e),"formInteractionEventInterceptors",[]),(0,z._)((0,x._)(e),"_submitFormRequester",void 0),(0,z._)((0,x._)(e),"_currentStateHandlerSupportsInteraction",!0),e}return(0,D._)(n,[{key:"controllerAPI",get:function(){if(!this._controllerAPI)throw new Error("Unable to perform this operation, there are currently no open documents");return this._controllerAPI}},{key:"allInjected",value:function(){var e=this;this.pdfViewer.getViewerUI().getJSDialogUI().then((function(t){e.javascriptUI=t,t.onAllDialogClosed((function(){e.focusOnControl&&e.virtualWidgetElement.focus({preventScroll:!0})}))}));var t=this.pdfViewer.getCurrentPDFDoc();t&&(this.initFormAPI(t),this.switchPDFDoc(t));var n=this.virtualWidgetElement;n.setAttribute("tabindex","-1"),n.classList.add("fv__widget-focus-element");var i,r=this;this.addDestroyHook(this.pdfViewer.addEventListener(se.pdfDocCreated,(function(t){e.initFormAPI(t)})),this.pdfViewer.addEventListener(se.openFileSuccess,(function(t){e.switchPDFDoc(t)})),this.pdfViewer.addEventListener(se.willCloseDocument,(function(){e._controllerAPI=void 0})),this.pdfViewer.addEventListener(se.zoomToSuccess,(function(){e.focusOnControl&&e.updateWidgetElementRect(e.focusOnControl)})),this.pdfViewer.addEventListener(se.formFieldPropertyUpdated,(function(){e.renderThrottleExecutor.exec((function(){return e.rerenderVisiblePages()}))})),this.pdfViewer.addEventListener(se.renderPageSuccess,(i=(0,P._)((function(e){var t,n;return(0,L.Jh)(this,(function(i){return e.annotsRender?((t=r.getDesignMode())!==wr.FormDesignMode.NONE?t!==wr.FormDesignMode.ALL_WIDGET_TYPES&&e.annotsRender.constructAllWidgetRenders((function(e){var n,i=null===(n=e.getField())||void 0===n?void 0:n.getType();if(!i)return!1;switch(i){case wr.FieldType.Text:return t===wr.FormDesignMode.TEXT_AND_DATE;case wr.FieldType.Sign:return t===wr.FormDesignMode.SIGNATURE;case wr.FieldType.RadioButton:return t===wr.FormDesignMode.RADIO_BUTTON;case wr.FieldType.PushButton:return t===wr.FormDesignMode.PUSH_BUTTON_AND_IMAGE;case wr.FieldType.ListBox:return t===wr.FormDesignMode.LIST_BOX;case wr.FieldType.ComboBox:return t===wr.FormDesignMode.COMBO_BOX;case wr.FieldType.CheckBox:return t===wr.FormDesignMode.CHECK_BOX}return!0})):r.needToResolveFocusIssue()&&(null===(n=e.annotsRender)||void 0===n||n.constructAllWidgetRenders((function(e){var t,n=null===(t=e.getField())||void 0===t?void 0:t.getType();return n===wr.FieldType.Text||n===wr.FieldType.ComboBox}))),[2]):[2]}))})),function(e){return i.apply(this,arguments)})),this.pdfViewer.addEventListener([se.pwdAndPermRemoved,se.permissionChanged,se.docPasswordChanged,se.openFileSuccess,se.documentClosed,se.afterSwitchStateHandler],(function(){e.updateInteractionStatus()})),this.onClickWidget((function(t){var n=e.pdfViewer.getCurrentPDFDoc();n&&n.query({type:"annot",annotId:t}).then((function(t){t&&e.pdfViewer.eventEmitter.emit(se.tapField,t)}))})))}},{key:"needToResolveFocusIssue",value:function(){return W.isTablet||W.isMobile}},{key:"updateInteractionStatus",value:function(){this.toggleInteractionEvent(this.computeInteractionEventStatus())}},{key:"computeInteractionEventStatus",value:function(){if(!this._currentStateHandlerSupportsInteraction)return!1;var e=this.pdfViewer.getPDFDocRender();if(!e)return!1;if(this.getDesignMode()!==wr.FormDesignMode.NONE)return!1;var t=e.doc.isOwner(),n=!e.doc.isDynamicXFA();return t||n}},{key:"initFormAPI",value:function(e){var t=this;e.form.setDefaultFieldNameGenerator((function(e){var n=function(){switch(e.type){case wr.FieldType.Text:return e.isDateOrTime?9:e.type;case wr.FieldType.PushButton:return e.isImage?8:e.type}return e.type}();return t.pdfViewer.i18n.t("viewer_:form.prefix."+n)})),this._submitFormRequester&&e.form.setDefaultSubmitFormRequester(this._submitFormRequester)}},{key:"switchPDFDoc",value:function(e){var t=this,n=e.createMessageChannel(wr.FILLER_CONTROLLER_CHANNEL_ID);this._controllerAPI=n.remoteImplementation;var i=e.createMessageChannel(wr.FORM_FILLER_EDITOR_API_CHANNEL_ID);this.editorAPI=i.remoteImplementation,this.fieldAPI=e.formFieldAPI,this.formAPI=e.formAPI,this.signatureAPI=e.signatureAPI,e.addDestroyHook((function(){t._controllerAPI=void 0,t.editorAPI=void 0,t.fieldAPI=void 0}))}},{key:"rerenderVisiblePages",value:function(){var e=this;return(0,P._)((function(){var t,n;return(0,L.Jh)(this,(function(i){return(t=e.pdfViewer.getPDFDocRender())&&(n=t.pagesRender)?(n.setRenderFlags(1),t.setRebuildAnnotsFlag(!1),n.renderVisiblePages(),[2]):[2]}))}))()}},{key:"rerenderArea",value:function(e,t,n){var i=this;return(0,P._)((function(){var e,r,o,a,s;return(0,L.Jh)(this,(function(c){return(e=i.pdfViewer.getPDFDocRender())?e.doc.isDynamicXFA()?[2]:e.getVisiblePageIndexes().includes(t)?(i.eventEmitter.emit(iR,t),r=e.pagesRender,o=r.getPDFPageRender(t),(a=o.annotsRender)&&o.page?(s=o.page.getDeviceRect(n,o.scale*W.dpr,o.rotate),null==a||a.updateRender(s,!0),[2,Promise.resolve(!0)]):[2]):[2]:[2]}))}))()}},{key:"setHighlightFields",value:function(e){var t=this;return(0,P._)((function(){var n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return[4,null===(n=t.formAPI)||void 0===n?void 0:n.highlightFormFields(e)];case 1:return i.sent(),t.rerenderVisiblePages(),t.pdfViewer.eventEmitter.emit(se.setFromFieldHighlight,e),[2]}}))}))()}},{key:"isHighlightFormFields",value:function(){var e,t;return null!==(t=null===(e=this.formAPI)||void 0===e?void 0:e.isHighlight())&&void 0!==t?t:Promise.resolve(!1)}},{key:"setHighlightColor",value:function(e){var t;if(!isFinite(e))throw new Error("Incorrect color format: ".concat(e));return null===(t=this.formAPI)||void 0===t?void 0:t.setHighlightColor(e)}},{key:"getHighlightColor",value:function(){var e,t;return null!==(t=null===(e=this.formAPI)||void 0===e?void 0:e.getHighlightColor())&&void 0!==t?t:Promise.resolve(0)}},{key:"handleOnFocus",value:function(e){var t=this;return(0,P._)((function(){var n,i,r,o,a,s;return(0,L.Jh)(this,(function(c){switch(c.label){case 0:return i=t.focusOnControl,(0,un.isSameAnnotId)(e,t.manualFocusControl)&&(t.manualFocusControl=void 0),t.focusOnControl=e,!(r=t.pdfViewer.getPDFDocRender())||r.isDestroyed||r.doc.isDynamicXFA()?[2]:[4,r.pagesRender.getLoadedPDFPageRender(e.pageIndex)];case 1:return!(o=c.sent())||o.isDestroyed?[2]:[4,t.getWidgetAnnotComponent(e)];case 2:return(a=c.sent())?(t.updateWidgetElementRectByAnnotComponent(o,a),t.virtualWidgetElement.className="fv__widget-focus-element",(s=a.annot.getField())?(t.virtualWidgetElement.setAttribute("field-type",wr.FieldType[s.getType()]),[4,s.canEditText()]):[2]):[2];case 3:if(c.sent()){t.virtualWidgetElement.classList.add("fv__cursor-text");try{t.virtualWidgetElement.contentEditable="plaintext-only"}catch(e){t.virtualWidgetElement.contentEditable="true"}t.virtualWidgetElement.style.pointerEvents="unset"}else t.virtualWidgetElement.removeAttribute("contenteditable"),t.virtualWidgetElement.style.pointerEvents="none";return a.$ui.append(t.virtualWidgetElement),t.virtualWidgetElement.focus({preventScroll:!0}),t.currentFocusWidgetAnnotComponent=a,[4,a.handleOnGotFocus()];case 4:return c.sent(),t.eventEmitter.emit("focus",t.focusOnControl,i),t.pdfViewer.eventEmitter.emit(se.focusOnControl,a.annot),null===(n=t.pdfViewer.getPDFViewerRender())||void 0===n||n.disableDragToScroll(),[2]}}))}))()}},{key:"updateWidgetElementRect",value:function(e){var t=this;return(0,P._)((function(){var n,i;return(0,L.Jh)(this,(function(r){switch(r.label){case 0:return[4,t.pdfViewer.getPDFPageRender(e.pageIndex)];case 1:return n=r.sent(),[4,t.getWidgetAnnotComponent(e)];case 2:return(i=r.sent())?(t.updateWidgetElementRectByAnnotComponent(n,i),[2]):[2]}}))}))()}},{key:"updateWidgetElementRectByAnnotComponent",value:function(e,t){var n=t.getPDFAnnot().getDeviceRect(e.scale,e.rotate);this.virtualWidgetElement.style.cssText+="\n            left: ".concat(n.left,"px;\n            top: ").concat(n.top,"px;\n            width: ").concat(n.right-n.left,"px;\n            height: ").concat(n.bottom-n.top,"px;\n        ")}},{key:"handleOnBlur",value:function(e){var t=this;return(0,P._)((function(){var n,i,r,o;return(0,L.Jh)(this,(function(a){switch(a.label){case 0:return r=t.focusOnControl,(null===(n=t.focusOnControl)||void 0===n?void 0:n.objNumber)===e.objNumber&&(t.focusOnControl=void 0,t.eventEmitter.emit("focus",void 0,r)),[4,t.getWidgetAnnotComponent(e)];case 1:return o=a.sent(),t.virtualWidgetElement.textContent="",t.virtualWidgetElement.remove(),[4,null==o?void 0:o.handleOnLostFocus()];case 2:return a.sent(),null===(i=t.pdfViewer.getPDFViewerRender())||void 0===i||i.enableDragToScroll(),[2]}}))}))()}},{key:"handleOnMouseOver",value:function(e){var t=this;return(0,P._)((function(){var n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return t.mouseOverControl=e,[4,t.getWidgetAnnotComponent(e)];case 1:return[4,null==(n=i.sent())?void 0:n.handleOnMouseOver()];case 2:return i.sent(),t.eventEmitter.emit(cR,e),[2]}}))}))()}},{key:"handleOnMouseLeave",value:function(e){var t=this;return(0,P._)((function(){var n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return(0,un.isSameAnnotId)(e,t.mouseOverControl)&&(t.mouseOverControl=void 0),[4,t.getWidgetAnnotComponent(e)];case 1:return[4,null==(n=i.sent())?void 0:n.handleOnMouseLeave()];case 2:return i.sent(),t.eventEmitter.emit(uR,e),[2]}}))}))()}},{key:"getMouseOverControl",value:function(){return this.mouseOverControl}},{key:"hasFocus",value:function(){return!!this.focusOnControl}},{key:"canRemoveFocus",value:function(e){return(!this.javascriptUI||!this.javascriptUI.hasDialogOpen())&&(!this.currentFocusWidgetAnnotComponent||this.currentFocusWidgetAnnotComponent.canRemoveFocus(e))}},{key:"setFocus",value:function(e){var t=this;return(0,P._)((function(){var n,i,r,o,a,s,c,u,l;return(0,L.Jh)(this,(function(A){switch(A.label){case 0:if(n=e.pageIndex,i=e.objNumber,!(r=t.pdfViewer.getCurrentPDFDoc()))throw new Error("Document not opening!");return[4,r.getPageByIndex(n)];case 1:return[4,A.sent().getAnnotsByObjectNumArray([i])];case 2:if(o=R._.apply(void 0,[A.sent(),1]),!(a=o[0]))throw new Error("Widget not found: page index ".concat(n,", widget id: ").concat(i));return[4,a.getControl()];case 3:if(!(s=A.sent()))throw new Error("Control not exist: page index ".concat(n,", widget id: ").concat(i));return c=s.getIndex(),u={pageIndex:n,controlIndex:c,objNumber:i},t.manualFocusControl=u,t.controllerAPI.setFocus(u),[4,t.getWidgetAnnotComponent({pageIndex:n,objNumber:i})];case 4:return[4,null==(l=A.sent())?void 0:l.handleOnGotFocus()];case 5:return A.sent(),[2]}}))}))()}},{key:"removeFocus",value:function(){var e=this;return Promise.resolve(this.controllerAPI.removeFocus()).finally((function(){e.focusOnControl&&e.handleOnBlur(e.focusOnControl)}))}},{key:"getWidgetAnnotComponent",value:function(e){var t=this;return(0,P._)((function(){var n,i,r,o;return(0,L.Jh)(this,(function(a){switch(a.label){case 0:return!(n=t.pdfViewer.getPDFDocRender())||n.isDestroyed?[2]:[4,n.pagesRender.getLoadedPDFPageRender(e.pageIndex)];case 1:return!(i=a.sent())||i.isDestroyed?[2]:[4,i.renderedDefered.promise];case 2:return a.sent(),(r=i.getAnnotRender(e.objNumber))?[3,5]:[4,i.getPDFPage()];case 3:return(o=a.sent())?o.annotsPromise?[3,5]:[4,o.getAnnots()]:[2];case 4:a.sent(),r=i.getAnnotRender(e.objNumber),a.label=5;case 5:return[2,null==r?void 0:r.component]}}))}))()}},{key:"onFocusChange",value:function(e){var t=this;return this.eventEmitter.on("focus",e),function(){t.eventEmitter.off("focus",e)}}},{key:"getDesignMode",value:function(){return this.designModeStore.getCurrentValue()||wr.FormDesignMode.NONE}},{key:"setAutoHighlightControl",value:function(e){var t=this;return(0,P._)((function(){var n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return[4,null===(n=t.formAPI)||void 0===n?void 0:n.setAutoHighlightControl(e)];case 1:return i.sent(),[2]}}))}))()}},{key:"setDesignMode",value:function(e){var t=this;return(0,P._)((function(){var n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return t.designModeStore.dispatch(e),[4,null===(n=t.formAPI)||void 0===n?void 0:n.setDesignMode(e)];case 1:return i.sent(),t.updateInteractionStatus(),t.rerenderVisiblePages(),[2]}}))}))()}},{key:"onDesignModeChange",value:function(e){return this.designModeStore.subscribe(e)}},{key:"isMatchCurrentEditType",value:function(e){var t,n,i=null===(t=e.getField())||void 0===t?void 0:t.getType();return void 0!==i&&(0,wr.isFieldTypeMatchDesignMode)(i,null!==(n=this.designModeStore.getCurrentValue())&&void 0!==n?n:wr.FormDesignMode.NONE)}},{key:"handleOnMouseDown",value:function(e,t){var n=this;return(0,P._)((function(){var i,r;return(0,L.Jh)(this,(function(o){switch(o.label){case 0:return n.mousedownControlInfo={time:e.timestamp,button:e.button,control:t},n.eventEmitter.emit(rR,t,e),[4,n.getWidgetAnnotComponent(t)];case 1:return(i=o.sent())&&i.handleOnMouseDown(null!==(r=e.button)&&void 0!==r?r:wr.FormMouseEventButtonType.LEFT_BUTTON),n.pdfViewer.activateElement(null),[2]}}))}))()}},{key:"handleOnMouseUp",value:function(e,t){var n=this;return(0,P._)((function(){var i,r,o,a;return(0,L.Jh)(this,(function(s){switch(s.label){case 0:return n.eventEmitter.emit(oR,t,e),[4,n.getWidgetAnnotComponent(t)];case 1:if((r=s.sent())&&r.handleOnMouseUp(null!==(o=e.button)&&void 0!==o?o:wr.FormMouseEventButtonType.LEFT_BUTTON),(0,un.isSameAnnotId)(null===(i=n.mousedownControlInfo)||void 0===i?void 0:i.control,t)){if(a=n.mousedownControlInfo.time,n.mousedownControlInfo=void 0,e.timestamp-a>200)return[2];e.button===wr.FormMouseEventButtonType.LEFT_BUTTON?n.eventEmitter.emit(aR,t,e):e.button===wr.FormMouseEventButtonType.RIGHT_BUTTON&&n.eventEmitter.emit(sR,t,e)}else n.mousedownControlInfo=void 0;return[2]}}))}))()}},{key:"handleOnKeyDown",value:function(e,t){var n=this;return(0,P._)((function(){var i;return(0,L.Jh)(this,(function(r){switch(r.label){case 0:return n.eventEmitter.emit(lR,t,e),t?[4,n.getWidgetAnnotComponent(t)]:[3,2];case 1:(i=r.sent())&&i.handleOnKeyDown(e),r.label=2;case 2:return[2]}}))}))()}},{key:"handleOnKeyUp",value:function(e,t){var n=this;return(0,P._)((function(){var i;return(0,L.Jh)(this,(function(r){switch(r.label){case 0:return e.keyCode===W.KeyCodes.Tab&&t&&(0,un.isSameAnnotId)(n.focusOnControl,t)&&(n.virtualWidgetElementVisibilityChecker.isVisible||n.virtualWidgetElement.scrollIntoView({block:"nearest"})),n.eventEmitter.emit(AR,t,e),t?[4,n.getWidgetAnnotComponent(t)]:[3,2];case 1:(i=r.sent())&&i.handleOnKeyUp(e),r.label=2;case 2:return[2]}}))}))()}},{key:"onMouseDownWidget",value:function(e){return this.onInteractionEvent(rR,e)}},{key:"onMouseUpWidget",value:function(e){return this.onInteractionEvent(oR,e)}},{key:"onClickWidget",value:function(e){return this.onInteractionEvent(aR,e)}},{key:"onRightClickWidget",value:function(e){return this.onInteractionEvent(sR,e)}},{key:"onMouseOverWidget",value:function(e){return this.onInteractionEvent(cR,e)}},{key:"onMouseLeaveWidget",value:function(e){return this.onInteractionEvent(uR,e)}},{key:"onKeyDown",value:function(e){return this.onInteractionEvent(lR,e)}},{key:"onKeyUp",value:function(e){return this.onInteractionEvent(AR,e)}},{key:"onInteractionEvent",value:function(e,t){return this.onSomeEvent(e,t)}},{key:"removeWidget",value:function(e,t){var n=this;return(0,P._)((function(){var i,r;return(0,L.Jh)(this,(function(o){return i=n.pdfViewer.getPDFPageRender(e),r=i.getAnnotRender(t),r.component.removeAnnot(),[2]}))}))()}},{key:"appendInteractionEventInterceptor",value:function(e){var t=this,n=function(t,n){return e(t,n)};return this.formInteractionEventInterceptors.push(n),function(){var e=t.formInteractionEventInterceptors.indexOf(n);e>-1&&t.formInteractionEventInterceptors.splice(e,1)}}},{key:"invokeGestureInterceptor",value:function(e,t){var n=this;return(0,P._)((function(){var i,r;return(0,L.Jh)(this,(function(o){switch(o.label){case 0:return i=new W.Defer,r=n.formInteractionEventInterceptors.reduceRight((function(t,n){return function(){return n(e,t)}}),(function(){return t().then((function(e){i.resolve(e)})),i.promise})),[4,r()];case 1:return o.sent(),i.isSettled?[4,i.promise]:[3,3];case 2:return[2,{setelled:!0,value:o.sent()}];case 3:return[2,{setelled:!1}];case 4:return[2]}}))}))()}},{key:"setDefaultSubmitFormRequester",value:function(e){var t;this._submitFormRequester=e;var n=this.pdfViewer.getCurrentPDFDoc();null==n||null===(t=n.form)||void 0===t||t.setDefaultSubmitFormRequester(e)}},{key:"handleOnDataChanged",value:function(e){var t=this;return(0,P._)((function(){var n;return(0,L.Jh)(this,(function(i){return(n=t.pdfViewer.getCurrentPDFDoc())?(t.pdfViewer.eventEmitter.emit(se.formValueChanged),t.eventEmitter.emit(nR,n,e),[2]):[2]}))}))()}},{key:"onDataChanged",value:function(e){return this.onSomeEvent(nR,e)}},{key:"onRefreshPage",value:function(e){return this.onSomeEvent(iR,e)}},{key:"onSomeEvent",value:function(e,t){var n=this;return this.eventEmitter.on(e,t),function(){n.eventEmitter.off(e,t)}}},{key:"getEditorAPI",value:function(){return this.editorAPI}},{key:"setInteractionSupport",value:function(e){this._currentStateHandlerSupportsInteraction=e,this.updateInteractionStatus()}},{key:"toggleInteractionEvent",value:function(e){var t=this.pdfViewer.getPDFDocRender();t&&t.formFillerModule.toggleInteractionEvent(e)}},{key:"isInteractionEventEnabled",value:function(){var e=this.pdfViewer.getPDFDocRender();return!!e&&e.formFillerModule.isInteractionEventEnabled()}}],[{key:"inject",value:function(){return{pdfViewer:"PDFViewer",delegateEventService:Uo}}}]),n}(W.Disposable);function hR(){return(hR=(0,P._)((function(e){var t,n,i,r;return(0,L.Jh)(this,(function(o){return t=e.pdfViewer,e.doc,n=e.actionData,i=n.data,r=i.destination,[2,t.setDestination(r)]}))}))).apply(this,arguments)}function fR(){return fR=(0,P._)((function(e){var t,n,i,r,o,a,s,c,u,l,A,d,h,f,p,v;return(0,L.Jh)(this,(function(g){switch(g.label){case 0:t=e.doc,n=e.actionData.data,r=(i=n).fieldNames,o=!0,a=!1,s=void 0,g.label=1;case 1:g.trys.push([1,12,13,14]),c=r[Symbol.iterator](),g.label=2;case 2:return(o=(u=c.next()).done)?[3,11]:(l=u.value,[4,t.form.getField(l)]);case 3:return(A=g.sent())?[4,A.getWidgetsCount()]:[3,10];case 4:d=g.sent(),h=0,g.label=5;case 5:return h<d?[4,A.getWidget(h)]:[3,10];case 6:return(f=g.sent())?[4,f.getFlags()]:[3,9];case 7:return p=g.sent(),i.hideState?p|=tn.hidden:p&=~tn.hidden,[4,f.setFlags(p,!1)];case 8:g.sent(),g.label=9;case 9:return h++,[3,5];case 10:return o=!0,[3,2];case 11:return[3,14];case 12:return v=g.sent(),a=!0,s=v,[3,14];case 13:try{o||null==c.return||c.return()}finally{if(a)throw s}return[7];case 14:return[2]}}))})),fR.apply(this,arguments)}function pR(){return(pR=(0,P._)((function(e){var t,n,i;return(0,L.Jh)(this,(function(r){return t=e.pdfViewer,n=t.i18n.t("ui_:dialog.actionDialog.selectAction.file"),i=t.i18n.t("alert.browserRestriction-actionTriggered-websdk"),t.viewerUI.alert({message:'"'.concat(n,'" ').concat(i),level:"warning"}),[2]}))}))).apply(this,arguments)}function vR(){return(vR=(0,P._)((function(e){var t,n,i,r;return(0,L.Jh)(this,(function(o){switch(o.label){case 0:return t=e.doc,n=e.actionData.data,r="number"==typeof(i=n).flags&&!!(i.flags&fn.FlagExclude),[4,t.getPDFForm().resetForm(i.fieldNames,r)];case 1:return o.sent(),[2]}}))}))).apply(this,arguments)}function gR(){return(gR=(0,P._)((function(e){var t,n,i,r,o,a,s,c;return(0,L.Jh)(this,(function(u){return t=e.pdfViewer,n=e.actionData.data,i=n.uri,/^file:\//i.test(i)?[2]:(r=/^mailto:/i.test(i),o=i.lastIndexOf("@"),a=i,-1==o||r||(a=i.substr(o+1),-1!=(s=i.indexOf("//"))&&(a=i.substr(0,s+2)+a)),c=t.i18n.t("viewer_:pdfjs.launchURLHint"),[2,t.viewerUI.confirm(c+"\n"+Lf.toASCII(a)).then((function(){return i.startsWith("http://")||i.startsWith("https://")?window.open(i):window.open("http://".concat(i)),!0}),(function(){return!1}))])}))}))).apply(this,arguments)}function mR(){return(mR=(0,P._)((function(e){var t,n,i,r,o,a,s,c;return(0,L.Jh)(this,(function(u){switch(u.label){case 0:return t=e.pdfViewer,n=e.doc,i=e.actionData.data,(r=i).isDestThreadInCurrentDoc?(o=r.destThreadIndex,[4,n.getPdfArticle().getArticleList()]):[2];case 1:return a=u.sent(),(s=a[o])?(c=t.getPDFDocRender())?(c.startReadMode(s),[2]):[2]:[2]}}))}))).apply(this,arguments)}function yR(){return yR=(0,P._)((function(e){var t,n,i,r,o,a,s,c;return(0,L.Jh)(this,(function(u){switch(u.label){case 0:return t=e.pdfViewer,n=e.doc,i=e.actionData.data,r=i.visibleLayerNodeObjNums,o=i.hiddenLayerNodeObjNums,[4,n.getLayerNodesJson()];case 1:return a=u.sent(),s=_R(a.children),c=function(e){return function(i){var r=s.get(i);"string"==typeof r&&(n.setLayerNodeVisiable(r,e),t.eventEmitter.emit("layer-action-actived",{id:r,visible:e}))}},r.forEach(c(!0)),o.forEach(c(!1)),[2]}}))})),yR.apply(this,arguments)}function _R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;return e.forEach((function(e){e.children&&_R(e.children,t),void 0!==e.objNum&&t.set(e.objNum,e.id)})),t}var bR={HandMenuItem:"[icon-class=fv__icon-toolbar-hand]",FirstPage:"[icon-class=fv__icon-float-bar-first-page]",PrevPage:"[icon-class=fv__icon-float-bar-previous-page]",NextPage:"[icon-class=fv__icon-float-bar-next-page]",LastPage:"[icon-class=fv__icon-float-bar-last-page]",PrevView:"[icon-class=fv__icon-float-bar-previous-view]",NextView:"[icon-class=fv__icon-float-bar-next-view]",ZoomViewIn:"[icon-class=fv__icon-float-bar-zoom-in]",ZoomViewOut:"[icon-class=fv__icon-float-bar-zoom-out]",ActualSize:".float-bar .fv__ui-editable_zoom_dropdown .fv__ui-dropdown-list li:nth-child(7)",FitPage:".float-bar .fv__ui-editable_zoom_dropdown .fv__ui-dropdown-list li:nth-child(1)",FitVisible:".float-bar .fv__ui-editable_zoom_dropdown .fv__ui-dropdown-list li:nth-child(3)",FitWidth:".float-bar .fv__ui-editable_zoom_dropdown .fv__ui-dropdown-list li:nth-child(2)",SinglePage:"[icon-class=fv__icon-toolbar-single-page]",OneColumn:"[icon-class=fv__icon-toolbar-continuous-page]",TwoPages:"[icon-class=fv__icon-toolbar-double-page]",TwoColumns:"[icon-class=fv__icon-toolbar-facing-continuous-page]",GeneralInfo:"[icon-class=fv__icon-properties]",GeneralPrefs:"[icon-class=fv__icon-toolbar-preferences]",AddFileAttachment:"[icon-class=fv__icon-toolbar-doc-attachment]",ExtractPages:"[icon-class=fv__icon-toolbar-extract-pages]",ReplacePages:"[icon-class=fv__icon-toolbar-replace-pages]",DeletePages:"[icon-class=fv__icon-toolbar-delete-pages]",CropPages:"[icon-class=fv__icon-toolbar-crop-pages]",RotatePages:"[icon-class=fv__icon-toolbar-rotate-multiple]","Annots:Tool:InkMenuItem":"[icon-class=fv__icon-toolbar-pencil]",SaveAs:"[icon-class=fv__icon-toolbar-download]",FullScreen:"[icon-class=fv__icon-float-bar-full-screen]"},wR={ShowHideBookmarks:1,ShowHideThumbnailss:2,ShowHideAnnotManager:3,ShowHideOptCont:4,ShowHideFileAttachment:5},kR={GoToPage:".fv__ui-grouplist-item [name=gotopage-input]",ZoomViewTo:'[name="editable-zoom-dropdown"] .fv__ui-dropdown-editor'},xR={Find:function(){var e=j()("[name=fv--search-choose-type-advanced]"),t=j()("[name=fv--search-bar-type-list-button]");if(e.length)e[0].click();else{var n=document.createElement("style");n.innerHTML='[component-name="fv--search-choose-search-type"] { opacity: 0; }',document.head.appendChild(n),t.length&&t[0].click(),setTimeout((function(){document.head.removeChild(n),(e=j()("[name=fv--search-choose-type-advanced]")).length&&e[0].click()}),0)}},Print:function(){var e=this,t=setInterval((function(){if(j()(".custom-bar-box .W_PRINT").length){clearInterval(t);var n=e.viewerUI.rootComponent.getComponentByName("print-button");n&&n.controller.handle()}}),100)}};function PR(){return(PR=(0,P._)((function(e){var t,n,i,r,o,a;return(0,L.Jh)(this,(function(s){return t=e.pdfViewer,e.doc,n=e.actionData,i=n.data,(null===(r=t.customs)||void 0===r?void 0:r.namedActionCallback)?(a=null===(o=t.customs)||void 0===o?void 0:o.namedActionCallback,Promise.resolve(a(i.name)).then((function(e){!1!==e&&function(e,t){if(bR[e]){var n=j()(bR[e]);if(n.hasClass("active")||n.hasClass("disabled"))return;var i=n[0];setTimeout((function(){i&&i.click()}),200)}if(kR[e]&&j()(kR[e]).each((function(){j()(this).hasClass("disabled")||j()(this)[0].focus()})),wR[e]){var r=j()(".fv__ui-sidebar-nav a").eq(wR[e]-1);if(r.hasClass("active"))return;var o=r[0];o&&o.click()}xR[e]&&(0,T._)(xR[e],Function)&&xR[e].apply(t,[])}(i.name,t)})),[2]):[2]}))}))).apply(this,arguments)}var CR=function(){function e(t,n){(0,C._)(this,e),(0,z._)(this,"doc",void 0),(0,z._)(this,"pdfViewer",void 0),this.doc=t,this.pdfViewer=n}return(0,D._)(e,[{key:"execute",value:function(e){var t=this;return(0,P._)((function(){var n,i,r;return(0,L.Jh)(this,(function(o){switch(o.label){case 0:return n=t.pdfViewer,i=t.doc,r=n.customs.actionExecutor,[4,Promise.all(e.actions.map((a=(0,P._)((function(n){var o,a,s;return(0,L.Jh)(this,(function(c){switch(c.label){case 0:return o=Object.freeze({pdfViewer:t.pdfViewer,doc:i,actionData:n,trigger:e.trigger,ownerQuery:e.query}),n.type===$e.ActionType.javaScript?[2,e.executeJavaScript(n.data)]:"function"!=typeof r?[3,2]:[4,r(o)];case 1:if(c.sent())return[2];c.label=2;case 2:return(a=t.pdfViewer.getActionCallbackManager())&&(s=a.getCallback(n.type))?[2,s(o)]:(function(e){switch(e.actionData.type){case $e.ActionType.goto:return function(e){return hR.apply(this,arguments)}(e);case $e.ActionType.uri:return function(e){return gR.apply(this,arguments)}(e);case $e.ActionType.launch:return function(e){return pR.apply(this,arguments)}(e);case $e.ActionType.hide:return function(e){return fR.apply(this,arguments)}(e);case $e.ActionType.importData:return function(e){var t=e.pdfViewer,n=t.i18n.t("ui_:dialog.actionDialog.selectAction.import"),i=t.i18n.t("alert.browserRestriction-actionTriggered-websdk");return t.viewerUI.alert({message:'"'.concat(n,'" ').concat(i),level:"warning"})}(e);case $e.ActionType.resetForm:return function(e){return vR.apply(this,arguments)}(e);case $e.ActionType.submitForm:return function(e){var t=e.ownerQuery,n=e.trigger,i=e.pdfViewer,r=e.doc,o=e.actionData.data,a=o.address;if(a&&/^(mailto:)|(ftp:)|(file:)/.test(a)){var s=i.i18n.t("ui_:dialog.actionDialog.selectAction.submit"),c=i.i18n.t("alert.browserRestriction-actionTriggered-websdk");return i.viewerUI.alert({message:'"'.concat(s,'" ').concat(c),level:"warning"})}if(t)return r.getPDFForm().submitForm({owner:t,trigger:n,actionData:o});throw new Error("Could not execute submit form action: missing ownerQuery option!")}(e);case $e.ActionType.gotoR:return function(e){var t=e.pdfViewer,n=(e.doc,e.actionData.data.fileSpec.fileName||""),i=t.i18n.t("viewer_:dialog.action.remoteGoto.message");t.viewerUI.alert({message:i+"("+n+")",level:"warning"})}(e);case $e.ActionType.thread:return function(e){return mR.apply(this,arguments)}(e);case $e.ActionType.named:return function(e){return PR.apply(this,arguments)}(e);case $e.ActionType.gotoE:return function(e){var t=e.pdfViewer,n=(e.doc,e.actionData.data);n.destination&&!n.rootFile&&t.setDestination(n.destination)}(e);case $e.ActionType.setOCGState:!function(e){yR.apply(this,arguments)}(e)}}(o),[2])}}))})),function(e){return a.apply(this,arguments)})))];case 1:return o.sent(),[2]}var a}))}))()}}]),e}();var DR,ER=32,SR=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"allInjected",value:function(){this.init()}},{key:"launchURL",value:function(e){var t=this;return(0,P._)((function(){var n,i,r,o;return(0,L.Jh)(this,(function(a){switch(a.label){case 0:return[4,t.init()];case 1:return a.sent(),n=t.viewer.i18n.t("viewer_:pdfjs.launchURLHint"),[3,3];case 2:return i=a.sent(),[3,5];case 3:return[4,t.javascriptUI.confirm({title:"",question:"".concat(n,"\n").concat(e.url)})];case 4:i=a.sent(),a.label=5;case 5:return i===$e.JSConfirmButtonID.OK&&(r=window.open("about:blank"))&&(o=e.url,/^https?:\/\//i.test(o)||(o="http://"+o),r.location.href=o),[2,i===$e.JSConfirmButtonID.OK]}}))}))()}},{key:"alert",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[4,t.init()];case 1:return n.sent(),[2,t.javascriptUI.alert(e)]}}))}))()}},{key:"prompt",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[4,t.init()];case 1:return n.sent(),[2,t.javascriptUI.prompt(e)]}}))}))()}},{key:"print",value:function(e){var t=e.startPageIndex,n=e.endPageIndex,i=e.flags&ER;return this.viewer.print({isPortfolio:!1,pages:Array.from({length:n-t},(function(e,n){return t+n})),printType:["page"].concat(i?["annot"]:[]),progress:void 0,printer:void 0,rangeType:"allPDF"}).then((function(){return!0}))}},{key:"init",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){switch(t.label){case 0:return e.javascriptUI?[3,2]:[4,e.viewerUI.getJSDialogUI()];case 1:e.javascriptUI=t.sent(),t.label=2;case 2:return[2]}}))}))()}},{key:"printLineConsole",value:function(e){return(0,P._)((function(){return(0,L.Jh)(this,(function(e){return[2]}))}))()}}],[{key:"inject",value:function(){return{viewerUI:"ViewerUI",viewer:"PDFViewer"}}}]),e}(),IR=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"allInjected",value:function(){}},{key:"prompt",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[4,t.init()];case 1:return n.sent(),[2,t.javascriptUI.prompt(e)]}}))}))()}},{key:"msgBox",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return[4,t.init()];case 1:return n.sent(),[2,t.javascriptUI.msgBox(e)]}}))}))()}},{key:"init",value:function(){var e=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(t){switch(t.label){case 0:return e.javascriptUI?[3,2]:[4,e.viewer.getViewerUI().getJSDialogUI()];case 1:e.javascriptUI=t.sent(),t.label=2;case 2:return[2]}}))}))()}}],[{key:"inject",value:function(){return{viewer:"PDFViewer"}}}]),e}();!function(e){e.OK="ok",e.CANCEL="cancel",e.OTHER="other"}(DR||(DR={}));var TR=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;return(0,C._)(this,n),e=t.call(this),(0,z._)((0,x._)(e),"dialog",void 0),(0,z._)((0,x._)(e),"listeners",new Set),e.addDestroyHook((function(){e.listeners.clear()})),e}return(0,D._)(n,[{key:"setEndValue",value:function(e){var t=e.reason;this.listeners.forEach((function(e){e(t)})),this.listeners.clear()}},{key:"addCloseDialogEventListener",value:function(e){var t=this;return this.listeners.add(e),function(){t.listeners.delete(e)}}},{key:"setCurrentDialog",value:function(e){this.dialog=e}},{key:"getElementsValue",value:function(){var e=this;return(0,P._)((function(){var t,n,i;return(0,L.Jh)(this,(function(r){switch(r.label){case 0:return[4,null===(t=e.dialog)||void 0===t?void 0:t.getElementsValues()];case 1:return i=null!==(n=r.sent())&&void 0!==n?n:Promise.resolve({}),[2,JSON.stringify(i)]}}))}))()}},{key:"setElementsEnabled",value:function(e){var t;null===(t=this.dialog)||void 0===t||t.setElementsEnabled(e)}}],[{key:"inject",value:function(){return{syncGeneratorInvoker:W.SyncGeneratorInvoker}}}]),n}(W.Disposable),RR=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"execute",value:function(e){var t=e.customs.syncMsg,n=e.ioc;t.ActionCallback||(t.ActionCallback=n.getInstanceByClass(SR)),t.XFAAppProvider||(t.XFAAppProvider=n.getInstanceByClass(IR)),t.DialogEventCallback||(t.DialogEventCallback=n.getInstanceByClass(TR)),t.SyncGeneratorInvoker||(t.SyncGeneratorInvoker=n.getInstanceByClass(W.SyncGeneratorInvoker))}}]),n}(W.Disposable),MR=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"execute",value:function(e){var t=this;this.addDestroyHook(e.addEventListener("languageChangeFinished",(function(){t.setJSMessages(e)}))),e.i18n.on("loaded",(function(){t.setJSMessages(e)}))}},{key:"setJSMessages",value:function(e){return(0,P._)((function(){var t;return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return t=e.i18n.t("viewer_:JSMessages",{returnObjects:!0}),[4,e.getWebPDFJR()];case 1:return n.sent().api.setJSMessages({path:"jr"},t),[2]}}))}))()}}]),n}(W.Disposable),FR=(n(7057),function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"build",value:function(e){var t,n=this,i=NR({domName:"div",classNames:["fv__js-exec-dialog-element","fv__js-exec-dialog-element-dialog","fv__js-exec-dialog-element-alignment-children-"+(e.align_children||"align_left")],attrs:{"aria-label":e.name}}),r=e.element_array.map((function(e){return n.buildElement(e)}));return(t=i).append.apply(t,(0,M._)(r)),i}},{key:"buildElement",value:function(e){var t,n,i=this;switch(e.type){case $e.DialogElementType.VIEW:n=this.buildLinkView(e);break;case $e.DialogElementType.GAP:n=this.buildLinkGap(e);break;case $e.DialogElementType.LINK_TEXT:n=this.buildLinkText(e);break;case $e.DialogElementType.POPUP:n=this.buildLinkPopup(e);break;case $e.DialogElementType.LINK_GROUP:n=this.buildLinkGroup(e);break;case $e.DialogElementType.BUTTON:n=this.buildButton(e);break;case $e.DialogElementType.CHECK_BOX:n=this.buildCheckBox(e);break;case $e.DialogElementType.RADIO:n=this.buildRadio(e);break;case $e.DialogElementType.LIST_BOX:n=this.buildListBox(e);break;case $e.DialogElementType.HIER_LIST_BOX:n=this.buildHierListBox(e);break;case $e.DialogElementType.STATIC_TEXT:n=this.buildStaticText(e);break;case $e.DialogElementType.EDIT_TEXT:n=this.buildEditText(e);break;case $e.DialogElementType.OK:n=this.buildOKButton(e);break;case $e.DialogElementType.OK_CANCEL:n=this.buildOKCancelButton(e);break;case $e.DialogElementType.OK_CANCEL_OTHER:n=this.buildOKCancelOtherButton(e);break;case $e.DialogElementType.CLUSTER:n=this.buildCluster(e);break;case $e.DialogElementType.IMAGE:n=this.buildImage(e);break;case $e.DialogElementType.PROGRESS_BAR:n=this.buildProgressBar(e)}if(!n)return document.createElement("div");var r=n.root,o=n.wrapper,a=e.element_array.map((function(e){return i.buildElement(e)}));return(t=o).append.apply(t,(0,M._)(a)),r}},{key:"buildButton",value:function(e){var t=this.buildElementDOM({domName:"button",element:e,props:{innerText:e.name}});return{root:t,wrapper:t}}},{key:"buildCheckBox",value:function(e){var t=this.buildElementDOM({domName:"label",element:e}),n=NR({domName:"input",attrs:{type:"checkbox","data-item-id":e.item_id}}),i=NR({domName:"span",props:{innerText:e.name}});return t.append(n,i),{root:t,wrapper:t}}},{key:"buildRadio",value:function(e){var t=(e.additional_attributes||{}).groupId,n=this.buildElementDOM({domName:"label",element:e}),i=NR({domName:"input",attrs:{type:"radio",name:t,"data-item-id":e.item_id}}),r=NR({domName:"span",props:{innerText:e.name}});return n.append(i,r),{root:n,wrapper:n}}},{key:"buildListBox",value:function(e){var t=this.buildElementDOM({domName:"select",element:e,attrs:{multiple:""}});return{root:t,wrapper:t}}},{key:"buildHierListBox",value:function(e){var t=this.buildElementDOM({domName:"div",element:e});return{root:t,wrapper:t}}},{key:"buildStaticText",value:function(e){var t=(e.additional_attributes||{}).multiline,n=this.buildElementDOM({domName:"div",element:e,classNames:[t?"fv__js-exec-dialog-element-static_text-multiline":"fv__js-exec-dialog-element-static_text-oneline"],props:{innerText:t?e.name:e.name.replace(/[\r\n]/g,"")}});return{root:n,wrapper:n}}},{key:"buildEditText",value:function(e){var t=e.additional_attributes||{},n=t.multiline,i=t.text,r=t.isPassword,o=t.isReadonly,a=this.buildElementDOM({domName:n?o?"div":"textarea":"input",element:e,classNames:[o?"fv__js-exec-dialog-element-edit_text-readonly":"",n?"fv__js-exec-dialog-element-edit_text-multiline":"fv__js-exec-dialog-element-edit_text-oneline"],attrs:{type:r?"password":"text",value:i},props:{innerText:n?i:null,readOnly:o}});if(!n){var s=document.createElement("span");s.classList.add("fv__js-exec-dialog-element-edit_text-measure"),s.innerText=null==i?void 0:i.replace(/[\r\n]/g,"");var c=document.createDocumentFragment();return c.append(a,s),{root:c,wrapper:a}}return{root:a,wrapper:a}}},{key:"buildOKButton",value:function(e){var t=this.buildElementDOM({domName:"button",element:e,props:{innerText:"OK"},attrs:{"data-button-type":"ok"}});return{root:t,wrapper:t}}},{key:"buildOKCancelButton",value:function(e){var t=this.buildElementDOM({domName:"div",element:e});return t.append(NR({domName:"button",props:{innerText:"Cancel"},attrs:{"data-button-type":"cancel"}}),NR({domName:"button",props:{innerText:"OK"},attrs:{"data-button-type":"ok"}})),{root:t,wrapper:t}}},{key:"buildOKCancelOtherButton",value:function(e){var t=this.buildElementDOM({domName:"div",element:e}),n=e.additional_attributes,i=n.okName,r=(n.okWidth,n.cancelName),o=(n.cancelWidth,n.otherName);n.otherWidth;return t.append(NR({domName:"button",props:{innerText:null!=o?o:"OK"},attrs:{"data-button-type":"other"}}),NR({domName:"button",props:{innerText:null!=r?r:"Cancel"},attrs:{"data-button-type":"cancel"}}),NR({domName:"button",props:{innerText:null!=i?i:"OK"},attrs:{"data-button-type":"ok"}})),{root:t,wrapper:t}}},{key:"buildCluster",value:function(e){var t=this.buildElementDOM({domName:"fieldset",element:e});return t.append(NR({domName:"legend",props:{innerText:e.name}})),{root:t,wrapper:t}}},{key:"buildImage",value:function(e){var t=this.buildElementDOM({domName:"div",element:e});return{root:t,wrapper:t}}},{key:"buildProgressBar",value:function(e){var t=this.buildElementDOM({domName:"div",element:e});return{root:t,wrapper:t}}},{key:"buildLinkText",value:function(e){var t=this.buildElementDOM({domName:"div",element:e});return{root:t,wrapper:t}}},{key:"buildLinkGroup",value:function(e){var t=this.buildElementDOM({domName:"div",element:e});return{root:t,wrapper:t}}},{key:"buildLinkPopup",value:function(e){var t=this.buildElementDOM({domName:"div",element:e});return{root:t,wrapper:t}}},{key:"buildLinkGap",value:function(e){var t=this.buildElementDOM({domName:"span",element:e});return{root:t,wrapper:t}}},{key:"buildLinkView",value:function(e){var t=this.buildElementDOM({domName:"div",element:e});return{root:t,wrapper:t}}},{key:"buildElementDOM",value:function(e){var t,n=e.domName,i=e.element,r=e.classNames,o=e.attrs,a=e.props;return NR({domName:n,classNames:(0,M._)(this.buildElementClassNames(i)).concat((0,M._)(null!=r?r:[])),attrs:(0,k._)((0,w._)({"data-item-id":i.item_id},o),{style:this.buildElementStyleVars(i)+" "+(null!==(t=null==o?void 0:o.style)&&void 0!==t?t:"")}),props:(0,w._)({},a)})}},{key:"buildElementClassNames",value:function(e){var t=["fv__js-exec-dialog-element","fv__js-exec-dialog-element-"+e.type];return e.align_children&&t.push("fv__js-exec-dialog-element-alignment-children-"+e.align_children),e.alignment&&t.push("fv__js-exec-dialog-element-alignment-self-"+e.alignment),e.bold&&t.push("fv__js-exec-dialog-element-bold"),e.italic&&t.push("fv__js-exec-dialog-element-italic"),e.font&&t.push("fv__js-exec-dialog-element-font-"+e.font),t}},{key:"buildElementStyleVars",value:function(e){var t={"--fv-js-exec-dialog-element-char-height":e.char_height||"auto","--fv-js-exec-dialog-element-char-width":e.char_width||"auto","--fv-js-exec-dialog-element-width":e.width||"auto","--fv-js-exec-dialog-element-height":e.height||"auto"};return Object.keys(t).map((function(e){return"".concat(e,": ").concat("number"==typeof t[e]?t[e]+"px":t[e])})).join(";")}}]),e}());function NR(e){var t=e.domName,n=e.classNames,i=e.attrs,r=void 0===i?{}:i,o=e.props,a=void 0===o?{}:o,s=document.createElement(t);for(var c in null==n||n.filter(Boolean).forEach((function(e){s.classList.add(e)})),r)s.setAttribute(c,r[c]+"");for(var u in a)s[u]=a[u];return s}var LR,OR=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"showDialog",value:function(e){var t=this;return(0,P._)((function(){var n,i,r,o,a,s,c;return(0,L.Jh)(this,(function(u){switch(u.label){case 0:return n=new FR,[4,t.viewer.viewerUI.getJSDynamicDialogUI()];case 1:return r=u.sent(),o=t.viewer.ioc.getInstanceByClass(TR),a=new W.Defer,s=(0,k._)((0,w._)({get dialogContent(){return i||(i=n.build(e.config)),i}},e),{addCloseDialogEventListener:function(e){return o.addCloseDialogEventListener(e)}}),t.registerEvents(s),null==r||r.open(s),c=o.addCloseDialogEventListener((function(e){a.resolve("ok"===e),c()})),r&&o.setCurrentDialog(r),[2,a.promise]}}))}))()}},{key:"registerEvents",value:function(e){var t=e.dialogContent;t.addEventListener("click",(function(t){if((0,T._)(t.target,HTMLElement)&&"BUTTON"===t.target.nodeName){switch(t.target.dataset.buttonType){case"ok":return void e.onClickOKButton();case"cancel":return void e.onClickCancelButton();case"other":return void e.onClickOtherButton()}var n=t.target.dataset.itemId;n&&e.callFunction(n)}}),{capture:!0}),t.addEventListener("change",(function(t){var n=t.target;if((0,T._)(n,HTMLInputElement)){var i=n.dataset.itemId;i&&e.callFunction(i)}}),{capture:!0})}}],[{key:"inject",value:function(){return{viewer:"PDFViewer"}}}]),e}(),jR=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"gotoPage",value:function(e,t){return"number"==typeof t?this.pdfViewer.goToPage(t):this.pdfViewer.setDestination(t)}},{key:"scroll",value:function(e){var t=this;return(0,P._)((function(){var n,i,r,o,a,s,c,u,l,A,d,h,f;return(0,L.Jh)(this,(function(p){switch(p.label){case 0:return n=t.pdfViewer.getPDFViewerRender(),i=null==n?void 0:n.pdfDocRender,n&&i?(r=i.getCurrentPageIndex(),o=i.getPDFPageRender(r),a=n.getViewBoxRect(),s=a.right-a.left,c=a.bottom-a.top,[4,o.transformPoint({point:e,srcType:Kd.pdf,destType:Kd.page})]):[2];case 1:return u=p.sent(),l=u.x-s/2,A=u.y-c/2,[4,o.transformPoint({point:{x:l,y:A},srcType:Kd.page,destType:Kd.pdf})];case 2:return d=p.sent(),h=d.x,f=d.y,t.pdfViewer.goToPage(r,f,h),[2]}}))}))()}},{key:"popupMenu",value:function(e){var t=this;return(0,P._)((function(){var n,i,r;return(0,L.Jh)(this,(function(o){switch(o.label){case 0:return[4,t.pdfViewer.getViewerUI().getJSPopupMenuUI()];case 1:return(n=o.sent())?(i=W.globalPointerStatus.getPoint(),[2,null!==(r=null==n?void 0:n.openPopupMenu(i,e))&&void 0!==r?r:Promise.resolve()]):[2]}}))}))()}},{key:"browseFile",value:function(e){return(0,P._)((function(){return(0,L.Jh)(this,(function(t){return[2,(0,W.openFilePicker)({accept:e,timeoutMs:12e4})]}))}))()}},{key:"saveAs",value:function(e,t,n){var i=this;return(0,P._)((function(){var r,o;return(0,L.Jh)(this,(function(a){return r=i.pdfViewer.currentPDFDoc,o=null==r?void 0:r.getFileName(),o=i.getFileName(o||"download.pdf",t),Oh(e,o,n),[2]}))}))()}},{key:"getFileName",value:function(e,t){var n=e.lastIndexOf(".");return-1!==n&&(e=e.substring(0,n)),e+=t}},{key:"documentWillCloseByJS",value:function(e,t,n,i,r){var o=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(e){return o.pdfViewer.close(),[2]}))}))()}},{key:"invalidateRect",value:function(e,t,n){var i=this;return(0,P._)((function(){var r,o,a;return(0,L.Jh)(this,(function(s){if(r=i.pdfViewer.getPDFPageRender(e)){if(!(o=r.annotsRender)||!r.page)return[2];(a=r.page.getDeviceRect(t,r.scale*W.dpr,r.rotate)).hasHighlight=n,null==o||o.updateRender(a,!0)}return[2]}))}))()}}],[{key:"inject",value:function(){return{pdfViewer:"PDFViewer"}}}]),e}(),BR=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,[{key:"print",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){switch(n.label){case 0:return e.showUI?[4,t.pdfViewer.getViewerUI().getJSDialogUI()]:[3,3];case 1:return[4,n.sent().printerUI(e)];case 2:return[2,n.sent()];case 3:return[4,t.pdfViewer.printEx({type:e.type,pageRange:e.pages,reverse:e.reverse,progress:!0})];case 4:n.sent(),n.label=5;case 5:return[2,!0]}}))}))()}}],[{key:"inject",value:function(){return{pdfViewer:"PDFViewer"}}}]),e}(),VR=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"execute",value:function(e){return(0,P._)((function(){var t,n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return[4,e.getWebPDFJR()];case 1:return t=i.sent(),n=e.getIoC(),t.defineRemoteAPI($e.DIALOG_CALLBACK_CHANNEL_ID,n.getInstanceByClass(OR)),t.defineRemoteAPI($e.PRINT_EVENT_CALLBACK_API_CHANNEL_ID,n.getInstanceByClass(BR)),t.setFXJSEActionCallback(n.getInstanceByClass(jR)),[2]}}))}))()}}]),n}(W.Disposable),UR=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;return(0,C._)(this,n),e=t.apply(this,arguments),(0,z._)((0,x._)(e),"customSpellChecker",void 0),(0,z._)((0,x._)(e),"toggleCustomSpellChecker",void 0),e}return(0,D._)(n,[{key:"allInjected",value:function(){this.apiPromise=this.pdfViewer.getWebPDFJR().then((function(e){return e.obtainRemoteAPI(W.SPELL_CHECKER_API_CHANNEL_ID)}));var e=this;this.pdfViewer.getWebPDFJR().then((function(t){t.defineRemoteAPI(W.CUSTOM_SPELL_CHECKER_REMOTE_API,{check:function(t){return!!e.customSpellChecker&&e.customSpellChecker.check(t)},getSuggestedWords:function(t){return e.customSpellChecker?e.customSpellChecker.getSuggestedWords(t):[]}})}))}},{key:"setSpellChecker",value:function(e){return this.customSpellChecker=e,this.apiPromise.then((function(t){return t.toggleCustomSpellChecker(!!e)}))}},{key:"appendDictionaries",value:function(e){return this.apiPromise.then((function(t){return t.appendDictionaries(e)}))}},{key:"replaceDictionary",value:function(e,t){return this.apiPromise.then((function(n){return n.replaceDictionary(e,t)}))}},{key:"updateLanguagePatterns",value:function(e){return this.apiPromise.then((function(t){return t.updateLanguagePatterns(e)}))}},{key:"check",value:function(e){return this.apiPromise.then((function(t){return t.check(e)}))}},{key:"getSuggestedWords",value:function(e){return this.apiPromise.then((function(t){return t.getSuggestedWords(e)}))}}],[{key:"inject",value:function(){return{pdfViewer:"PDFViewer"}}}]),n}(W.Disposable),HR=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"execute",value:function(e){return(0,P._)((function(){var t,n,i;return(0,L.Jh)(this,(function(r){switch(r.label){case 0:return[4,e.afterInitialized()];case 1:return r.sent(),[4,e.getWebPDFJR()];case 2:return t=r.sent(),(n=t.uiStateManagerAPI).setLibPath(e.libPath),i=function(e){n.setLanguage(e)},e.addEventListener(se.changeLanguageSuccess,i),e.addEventListener(se.renderPageSuccess,(function(e){var t=e.docRender;e.index===t.getCurrentPageIndex()&&(requestIdleCallback||setTimeout)((0,P._)((function(){var e,i;return(0,L.Jh)(this,(function(r){switch(r.label){case 0:return(e=t.viewerRender).isDestroyed||t.isDestroyed?[2]:[4,e.getCurrentDestination()];case 1:return i=r.sent(),n.setPageScale(i),[2]}}))})))})),e.addEventListener(se.changeViewModeSuccess,(function(e){var t=e.getName();n.setLayoutMode(t)})),e.addEventListener(se.pageNumberChange,(function(e){n.setCurrentPage(e-1)})),e.element.addEventListener("pointermove",(function(t){if((0,T._)(t.target,Element)){var i=t.target.closest(".fv__pdf-page-layout");if(i){var r=+(i.getAttribute("data-index")||"")||-1;if(!(r<0)){var o=e.getPDFPageRender(r);o&&o.transformPoint({srcType:Kd.viewport,destType:Kd.pdf,point:{x:t.clientX,y:t.clientY}}).then((function(e){n.setMousePosition(e.x,e.y)}))}}}})),e.addEventListener(se.afterDocumentRotation,(function(e,t){n.setViewerRotation(e)})),e.addEventListener("visiblePagesChange",(function(e,t){n.setVisiblePages(e.doc.getId(),t)})),i(e.getCurrentLanguage()),[2]}}))}))()}}]),n}(W.Disposable),zR=function(){},WR=function(){return-1},GR="JR",YR="canvas",$R={annotRenderingMode:{square:YR,highlight:YR,caret:YR,squiggly:YR,underline:YR,strikeout:YR,choiceButton:YR,pushButton:YR,radioButton:YR,textField:YR,comboBox:YR,note:YR,fileAttachment:YR,sound:YR,freetext:YR,redact:YR},highPerformance:!1,enableSignature:!1},JR="undefined",qR={destroyCurrentDoc:!0},KR="granted",ZR="denied",XR="prompt",QR=function(e){(0,I._)(i,e);var t=(0,N._)(i);function i(){var e,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=(r.preloadJR,r.preloadSR,r.libPath),a=r.jr,s=r.sr,c=r.i18n,u=r.i18nOptions,l=r.eventEmitter,A=void 0===l?new(bo()):l,d=r.minScale,h=void 0===d?.01:d,f=r.maxScale,p=void 0===f?10:f,v=r.defaultScale,g=void 0===v?"fitWidth":v,m=r.scaleFrequency,y=void 0===m?0:m,_=r.tileSize,b=void 0===_?1e6:_,w=r.tileCache,k=void 0===w?2:w,P=r.getTileSize,D=void 0===P?null:P,E=r.StateHandlers,S=void 0===E?[]:E,I=r.customs,T=void 0===I?{}:I,R=(r.keymap,r.Viewmodes),N=void 0===R?[]:R,L=r.enableJS,O=void 0===L||L,j=r.enableSafeMode,B=r.stateHandlerConfig,V=r.watermarkConfig,U=r.actionOptions,H=void 0===U?{}:U,z=r.defaultViewMode,G=void 0===z?"continuous-view-mode":z,Y=r.snapshotServer,$=void 0===Y?new wx({uploadSnapshotAPIPath:"snapshot/upload"}):Y,J=r.collaboration,q=void 0===J?{enable:!1,annotationFormat:"fdf",communicator:null,handlerClasses:[],continueToConnect:function(e,t){return e<15}}:J,K=r.highPerformance,X=void 0!==K&&K,Q=r.annotRenderingMode,ee=(r.defaultKeyboardEventBinder,r.defaultAnnotConfig),te=r.enableSignature,ne=r.enableShortcutKey,ie=void 0===ne||ne,re=r.enable3DInteraction,oe=void 0===re||re,ae=r.enableLoad3DModule,ce=void 0===ae||ae,ue=r.engineMode,le=void 0===ue?GR:ue,Ae=r.sharedWorker,de=void 0!==Ae&&Ae,he=r.showCommentList,fe=void 0!==he&&he,pe=r.showAnnotTooltip,ve=void 0!==pe&&pe,ge=r.showFormFieldTooltip,me=void 0!==ge&&ge,ye=r.showMeasurementInfoPanel,_e=void 0===ye||ye,be=r.viewerUI,we=r.applicationContext,ke=r.instanceId,xe=r.messageSyncServiceWorker;(0,C._)(this,i),(n=t.call(this)).enableOpenAction=!0,n.enablePageAction=!0,n.ioc=we||new W.ApplicationContextImpl,n.keyboard=new W.KeyboardImpl,n.$constructorOptions=arguments[0],n.tileCache=Number(k)>0?!0===k?Number.MAX_VALUE:Number(k):0;var Pe=n.ioc.getInstanceByClass(uT);if(!("instanceId"in arguments[0])&&Pe.hasPDFViewerInstance()&&(ke=Pe.getNextInstanceId()),Pe.isUsedInstanceId(ke))throw new Error("There are already instances of PDFViewer that use this instanceId: ".concat(ke,", please change it to other value."));if(n.instanceId=ke,n.localStorage=new TI(ke),n.isMultipleSelectionAvilable=!0,n.addDestroyHook(Pe.addPDFViewerInstance((0,x._)(n))),o)if(Rv(o));else{o=Dv(Pv()).join(o).absolute(!1)}else o=Dv(Pv()).absoluteDir();"/"!==o[o.length-1]&&(o+="/"),n.libPath=o;var Ce="jr-engine/gsdk";(a=a||{}).licenseKey=a.licenseKey||"",a.licenseSN=a.licenseSN||"",a.l=a.l||"";var De=a.workerPath||"";De?Rv(De)||(De=Iv(o,De)):De=o;var Ee=a.enginePath;a.workerPath=De,a.enginePath=Ee,a.enginePath=a.enginePath||Ce,Ee?Rv(Ee)||(Ee=Iv(o,Ee)):Ee=o+Ce,a.enginePath=Ee;var Se=a.fontPath;Se?Rv(Se)||(Se=Iv(o,Se)):Se=Iv(o,"../external/brotli"),a.brotli=Object.assign({core:!0},a.brotli),a.fontPath=Se,a.fontInfoPath&&!Rv(a.fontInfoPath)&&(a.fontInfoPath=Iv(o,a.fontInfoPath)),xe=xe||{};var Ie=location.href.match(/^\w+\:\/\//)?location:window.parent.location,Te=new URL(xe.syncBaseUrl||"/__foxitwebsdk-syncmsg__",Ie).href;xe.syncBaseUrl=Te,xe.url=xe.url||Tv(De,"MessageWorker.js")+"?b="+Te+"&h=0.5673215246487509",a.syncBaseUrl=Te,n.snapshotServer=$;var Re=navigator&&/DingTalk/.test(navigator.userAgent);n.localFontsPermission=Re?"denied":"prompt";var Me=(s=s||{}).workerPath||"";Me=Me?Rv(Me)?De:Iv(o,Me):o,s.workerPath=Me;var Fe=(u=(0,W.extendOptions)({initOption:{ns:"viewer_"}},u)).path;Fe?Rv(Fe)||(Fe=Iv(o,Fe)):Fe=o+"locales",u.absolutePath=u.absolutePath||Fe,n.i18n=c||kv(u),function(e){if(!e.$$overrided){e.$$overrided=!0;var t=e.t;e.t=function(n,i){if(!n)return n;switch(void 0===n?"undefined":(0,F._)(n)){case"number":case"symbol":case"bigint":case"boolean":case"function":return n;case"string":break;default:if(!Array.isArray(n))return n}return e.exists(n,i)?t.call(e,n,i):n}}}(n.i18n),le=le.toUpperCase(),-1===[GR,"SR","MIX"].indexOf(le)&&(le=GR);var Ne={},Le=!0;switch(n.customs=Object.assign({closeDocBefore:zR,closeDocAfter:zR,getDocPermissions:WR,beforeRenderPDFDoc:zR,executeNavigationAction:zR,getAnnotComponentConfig:function(){return{}},storageDriver:void 0,cemicircleCloudy:!1,syncTextScaling:!1,getLocalFontMapFromCache:WT,setLocalFontMapToCache:YT,confirmLocalFont:XT,actionExecutor:void 0,syncMsg:{},spellChecker:{dictionaries:{en_US:Tv(n.libPath,"./spell-checker/dictionaries/en_US/")}}},T),le){case"SR":Q||(Ne=$R.annotRenderingMode),(void 0===X?"undefined":(0,F._)(X))!==JR&&X,Le=(void 0===te?"undefined":(0,F._)(te))!==JR&&te,document.body.classList.add("fv__viewer-sr__"),n.pdfEngine=n.getWebPDFSR();break;case"MIX":document.body.classList.add("fv__viewer-sr__"),n.pdfEngine=n.getWebPDFSR(),n.mixPdfJREngine=n.getWebPDFJR();break;default:n.pdfEngine=n.getWebPDFJR()}var Oe=(0,x._)(n);n.actionOptions=Object.assign({remoteGotoActionInit:function(){var e=window.opener;if(e){var t=function(e){if(e.source!==window){var t=e.data,n=t.foxitSdkActionType,i=t.foxitSdkActionUrl,r=t.foxitSdkActionFileName,o=t.top,a=(t.bottom,t.left),s=(t.right,t.pageIndex),c=t.zoomFactor,u=t.zoomMode;"TypeGoToR"===n&&Oe.openPDFByHttpRangeRequest({range:{url:i}},{fileName:r}).then((function(){A.once(se.renderPageSuccess,(function(){switch(u){case"ZoomXYZ":var e=c;0===e?Oe.goToPage(s,o,a,0!==o):Oe.zoomTo(e,!1).then((function(){Oe.goToPage(s,o,a,0!==o)}));break;case"ZoomFitHorz":Oe.zoomTo("fitWidth",!1).then((function(){Oe.goToPage(s,o,a,0!==o)}));break;case"ZoomFitPage":Oe.zoomTo("fitHeight",!1).then((function(){Oe.goToPage(s,o,a,0!==o)}))}}))}))}};e.postMessage({isReady:!0},window.location.origin),window.addEventListener("message",t,!1),Oe.addDestroyHook((function(){window.removeEventListener("message",t,!1)}))}}},H),ie?n.keyboard.enable():n.keyboard.disable(),n.keyboardListeners=[];for(var je=n.viewModeManager=new Ov((0,x._)(n)),Be=0,Ve=N.length;Be<Ve;Be++)je.register(N[Be]);n.defaultAnnotConfig=ee||function(){return{}},j=void 0===j||j,n.config={sr:s,jr:a,minScale:h,maxScale:p,defaultScale:g,tileSize:b,getTileSize:D,enableJS:O,enableSafeMode:j,defaultViewMode:G,stateHandlerConfig:B,watermarkConfig:V,scaleFrequency:y,highPerformance:!1,annotRenderingMode:Object.assign({highlight:"canvas",choiceButton:"native",pushButton:"native",textField:"native",comboBox:"native",note:"native",fileAttachment:"native",sound:"native",freetext:"native",square:"canvas"},Ne,Q),enableSignature:Le,sizeCount:1e5,enableShortcutKey:ie,enable3DInteraction:oe,enableLoad3DModule:ce,engineMode:le,sharedWorker:de,printSetting:{quality:100,showHeaderFooter:!0},autoCompleteSetting:{level:"off",rememberNumericalData:!0},showCommentList:fe,showAnnotTooltip:ve,showFormFieldTooltip:me,showMeasurementInfoPanel:_e,messageSyncServiceWorker:xe},n.eventEmitter=A,n.store=new W.Store,n.mementoManager=new Nx((0,x._)(n));var Ue=n.annotManager=new zb((0,x._)(n));"SR"===le&&Ue.setViewerAnnotFlag((function(e){var t=e.getType();return-1===["text","caret","freetext","fileattachment","highlight","ink","line","circle","square","polygon","polyline","squiggly","strikeout","underline","widget","redact","stamp"].indexOf(t)?tn.locked|tn.readOnly:0})),n.actionManager=new Aw((0,x._)(n)),n.inkSignManager=new _x((0,x._)(n)),n.viewerUI=be||new QP;var He=n.stateHandlerManager=new mx((0,x._)(n));n.viewerUI.prepare((0,x._)(n)),n.customRenderManager=new xx((0,x._)(n));var ze=[FI,LI,OI,BI,VI,UI,HI,WI,GI];(e=S).push.apply(e,(0,M._)(ze));for(var We=0,Ge=S.length;We<Ge;We++)He.register(S[We]);return n.annotsEventMaps=[],n._annotMouseEventCallback=n._annotMouseEventCallback.bind((0,x._)(n)),n._runtimeColor=["RGB",.55,.55,1],n._runtimeColorOpacity=.5,n._runtimeColorRequired=["RGB",.55,.55,1],n._runtimeColorOpacityRequired=1,n._highlightControls=!0,n._highlightControlsUI=!0,n.lifeCycleManager=new _C,n.lifeCycleManager.registerLifecycle(new DC),n.lifeCycleManager.registerLifecycle(new xC((0,x._)(n))),n.lifeCycleManager.registerLifecycle(new PC((0,x._)(n))),n.lifeCycleManager.registerResourceGenerator(cb.OBJECT_URL,CC),n.activationManager=new Z,n.collaborationOptions=q,n._collaborationDefer=(0,W.createDeferred)(),n.initializeDefer=(0,W.createDeferred)(),n.initializers=[new II,new CI,new DI,new EI,new JI,new fT,new RR,new MR,new VR,new HR],n.initializers.forEach((function(e){e.execute((0,x._)(n))})),n.multimediaPlayers=[LT],n.editPDFAPermission=XR,n}return(0,D._)(i,[{key:"resourceGenerator",value:function(e,t){return this.lifeCycleManager.generator(e,t)}},{key:"getDefaultAnnotConfig",value:function(){return(this.webPDFJR||this.webPDFSR).getDefaultAnnotConfig()||zR}},{key:"setDefaultAnnotConfig",value:function(e){(this.webPDFJR||this.webPDFSR).setDefaultAnnotConfig(e)}},{key:"_annotMouseEventCallback",value:function(e){this.annotsEventMaps.map((function(t){t&&t(e)}))}},{key:"startListenAnnotMouseEvent",value:function(){this.cleanListenAnnotMouseEvent(),document.addEventListener("mouseup",this._annotMouseEventCallback,{capture:!0})}},{key:"stopListenAnnotMouseEvent",value:function(){this.cleanListenAnnotMouseEvent(),document.removeEventListener("mouseup",this._annotMouseEventCallback,{capture:!0})}},{key:"addListenAnnotMouseEvent",value:function(e){var t=this;return this.annotsEventMaps.push(e),function(){t.offListenAnnotMouseEvent(e)}}},{key:"offListenAnnotMouseEvent",value:function(e){for(var t=this.annotsEventMaps,n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}}},{key:"cleanListenAnnotMouseEvent",value:function(){this.annotsEventMaps=[]}},{key:"changeLanguage",value:function(e){var t=this,n=dT(e);return e!==n&&(LOGGER.warn("You have entered an illegal language code: ".concat(e,", which will be automatically converted to a valid language code: ").concat(n)),e=n),new Promise((function(n,i){t.i18n.changeLanguage(e,(function(r){if(r)return i(r),void t.eventEmitter.emit("change-language-failed");t.eventEmitter.emit(se.changeLanguageSuccess,e),n()}))}))}},{key:"getCurrentLanguage",value:function(){return this.i18n.language?this.i18n.language:this.i18n.options.fallbackLng?this.i18n.options.fallbackLng[0]:dT(navigator.language)}},{key:"takeSnapshot",value:function(e,t,n,i,r){var o=this.getPDFPageRender(e);if(!o)throw new Error("page not found: ".concat(e));return o.getSnapshot(t,n,i,r)}},{key:"uploadImage",value:function(e){var t=this;return this.snapshotServer.uploadImage(e).then((function(e){return t.snapshotServer.render,t.snapshotServer.render(e),Promise.resolve(e)})).catch((function(e){return console.warn(t.i18n.t("viewer_:error.snapshotServer")),Promise.reject(e)}))}},{key:"copySnapshot",value:function(e){isSecureContext||console.error("Access clipboard data requires a secure origin, either HTTPS or localhost.");try{return fetch(e).then((function(e){return e.blob()})).then((function(e){return function(){if(W.isFirefox||W.isSafari)return Promise.resolve(!1);if(!navigator.permissions)return Promise.resolve(!1);try{return navigator.permissions.query({name:"clipboard-write",allowWithoutGesture:!1}).then((function(e){return"granted"===e.state}))}catch(e){return Promise.resolve(!1)}}().then((function(t){return t?navigator.clipboard.write([new ClipboardItem({"image/png":e})]).then((function(){return Promise.resolve(!0)}),(function(){return Promise.resolve(!1)})):Promise.resolve(!1)}))}))}catch(e){return console.error(e),Promise.resolve(!1)}}},{key:"copyImage",value:function(e){this.copySnapshot(e)}},{key:"getKeyboardEventBinder",value:function(e){var t=this.keyboard.getBinder(e);if(!t)throw new Error("event binder not found error: ".concat(e));return t}},{key:"switchKeyboardEventBinder",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.keyboard.activeBinder(e,t)}},{key:"addKeyboardShortcutEventListener",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getDefaultKeyboardEventBinder();return(n=(0,T._)(i,lC)?i:this.keyboard.getBinder(i))?n.on(e,t):zR}},{key:"getDefaultKeyboardEventBinder",value:function(){return this.keyboard.getDefaultKeyboardEventBinder()}},{key:"getWebPDFJR",value:function(){var e=this;if(this.webPDFJRPromise)return this.webPDFJRPromise;var t=(0,W.createDeferred)();return Promise.resolve().then(n.bind(n,9867)).then((function(n){var i=new(n.default(PS))(e.config.jr,e.eventEmitter,{storage:e.getDeprecatedStorage(),configuration:{annotation:{cemicircleCloudy:e.customs.cemicircleCloudy,syncTextScaling:e.customs.syncTextScaling},spellChecker:e.customs.spellChecker,serviceWorkerAvailable:!!navigator.serviceWorker}},e.ioc);e.webPDFJR=i;var r="viewer_:error.initEngine.c2";return i.setDefaultAnnotConfig(e.defaultAnnotConfig),i.init().then((function(n){var i=n.other;if(i){var o=location.href,a=!0;if(i.h){a=!1;for(var s=i.h,c=s.length;c--;){var u=s[c];if(new RegExp(u).test(o)){a=!0;break}}}if(!a)return e.viewerUI.alert(r),void t.reject(new Error("failed to initialize WebPDF JR Engine"));var l=Date.now(),A=i.b;if(A&&!(a=l>A))return e.viewerUI.alert(r),void t.reject(new Error("failed to initialize WebPDF JR Engine"));var d=i.e;if(d&&!(a=l<d))return e.viewerUI.alert(r),void t.reject(new Error("failed to initialize WebPDF JR Engine"));if(!a)return e.viewerUI.alert(r),void t.reject(new Error("failed to initialize WebPDF JR Engine"))}return n})).then((function(n){if(n){var r=Promise.resolve(!1);return n.clientId&&(r=function(e,t,n,i){return PT.apply(this,arguments)}(e,e.config.messageSyncServiceWorker,n.clientId,e.customs.syncMsg)),r.then((function(e){return i.api.workerPromise.emit("serviceWorkerReady",e)})).then((function(){return n})).then((function(n){var r={"viewer  component":{version:eC},"core component":{version:n.version},JR:{version:!0}};return console.table&&console.table(r),e.eventEmitter.emit(se.jrLicenseSuccess),e.getModuleLicenseRight(),t.resolve(i)}))}}),(function(n){e.isDestroyed||e.viewerUI.alert(e.i18n.t("viewer_:error.initEngine.c"+n||0)),t.reject(n)})),i})),this.webPDFJRPromise=t.promise}},{key:"getWebPDFSR",value:function(){var e=this;return this.webPDFSRPromise?this.webPDFSRPromise:this.webPDFSRPromise=Promise.resolve().then(zR.bind(null,n)).catch(zR).then((function(t){var n=new(t.default(PS))(e.config.sr,e.eventEmitter,{storage:e.storage},e.ioc);return e.webPDFSR=n,n.setDefaultAnnotConfig(e.defaultAnnotConfig),n.init().then((function(){var t={"viewer  component":{version:eC},SR:{version:!0}};console.table&&console.table(t),e.isWebPDFSR=!0,e.scaleFrequency=4,e.config.scaleFrequency=4,e.eventEmitter.emit(se.srLicenseSuccess)}),(function(t){alert(e.i18n.t(["viewer_:error.initEngine.c1","viewer_:error.initEngine.c2"][t-1]||"viewer_:error.c-1"))})),n}))}},{key:"initAnnotationIcons",value:function(e){var t=this,n=arguments;Array.isArray(e)&&(e=e.reduce((function(e,t,n){var i=t.annotType||"stamp",r=t.category,o=t.name;if(!r)throw new Error("Missing category for icon at ".concat(n,": ").concat(JSON.stringify(t,null,2)));if(!o)throw new Error("Missing name for icon at ".concat(n,": ").concat(JSON.stringify(t,null,2)));var a=e[i]=e[i]||{},s=a[r]=a[r]||{},c={url:t.url,fileType:t.fileType,width:t.width>0?t.width:150,height:t.height>0?t.height:45,category:r,name:o,annotType:i};return s[o]=c,e}),{}));var i=e.stamp;return i&&Object.keys(i).forEach((function(e){rM({key:"category",value:e,notSpecialChar:!0}),Object.keys(i[e]).forEach((function(e){return rM({key:"name",value:e,notSpecialChar:!0})}))})),this.pdfEngine.then((function(t){return t.setIcons(e)})).then((function(i){return!n[1]&&t.eventEmitter.emit(se.iconInited,e)}))}},{key:"addAnnotationIcon",value:function(e){var t=this;if(["url","annotType","fileType"].forEach((function(t){if(!e[t])throw new Error("Icon property lost: "+t)})),rM({key:"category",value:e.category,notSpecialChar:!0}),rM({key:"name",value:e.name,notSpecialChar:!0}),0==["png","bmp","jpg","jpeg","pdf","webp"].filter((function(t){return e.fileType.toLowerCase()==t})).length)throw new Error("The fileType is wrong");return e.fileType=e.fileType.toLowerCase(),this.pdfEngine.then((function(t){return t.addIcon(e)})).then((function(n){n&&t.eventEmitter.emit(se.iconAdded,e)}))}},{key:"removeAnnotationIcon",value:function(e,t,n){var i=this;t||(n=null);var r=arguments[3];return this.pdfEngine.then((function(i){return i.removeIcon(e,t,n,r)})).then((function(o){return i.eventEmitter.emit(se.iconRemoved,{type:e,category:t,name:n,index:r})}))}},{key:"init",value:function(e){var t=this;this.$ui=j()(e),this.element=this.eUi=this.$ui.get(0);var n,i=this.viewModeManager.get(this.config.defaultViewMode);(this.pdfViewerRender=new ip(this.$ui,i,this),this.collaborationOptions)&&(this.collaborationOptions.enable?this.initCollaboration():this._collaborationDefer.resolve(null));n="function"!=typeof this.customs.getAnnotPermissions?function(){return Ce}:this.customs.getAnnotPermissions,this.annotationAuthorityManager=new sI(this,n),this.actionCallbackManager=new hT(this);var r,o=this,a=(r=(0,P._)((function(e){var t,n,i,r;return(0,L.Jh)(this,(function(a){switch(a.label){case 0:return o.annotationAuthorityManager.clear(),[4,e.isPdfaDoc()];case 1:if(!(t=a.sent()))return[2];switch(n=XR,i=KR,r=ZR,o.editPDFAPermission){case n:o.getStore().dispatch("showPDFADialog",t);break;case i:e.setPdfaEditable(!0);break;case r:e.setPdfaEditable(!1)}a.label=2;case 2:return[2]}}))})),function(e){return r.apply(this,arguments)}),s=this;this.progressHandler=function(){var e=(0,P._)((function(e,t,n){var i;return(0,L.Jh)(this,(function(e){switch(e.label){case 0:return s.progressHandler.status||n!==Rx.PROGRESSING?[3,4]:s.progress?[3,2]:[4,s.viewerUI.progress(t,document.body)];case 1:return s.progress=e.sent(),[3,3];case 2:s.progress.show(document.body),s.progress.updateProgress(t,n),e.label=3;case 3:return s.progressHandler.status="start",[3,5];case 4:s.progress&&s.progress.updateProgress(t,n),n!==Rx.FAIL&&n!==Rx.SUCCESS||(i=setTimeout((function(){s.progress&&s.progress.hide()}),500),s.addDestroyHook((function(){clearTimeout(i)})),delete s.progressHandler.status),e.label=5;case 5:return[2]}}))}));return function(t,n,i){return e.apply(this,arguments)}}();var c,u=function(e,n,i){t.progressHandler(e,n,i)},l=function(e){e?t.loading=t.viewerUI.loading(document.body):t.loading&&t.loading()};this.eventEmitter.on(se.openFileSuccess,a),this.eventEmitter.on(se.progressChanged,u),this.eventEmitter.on(se.showLoading,l),this.addDestroyHook((function(){t.annotationAuthorityManager.destroy(),t.eventEmitter.off(se.openFileSuccess,a),t.eventEmitter.off(se.progressChanged,u),t.eventEmitter.off(se.showLoading,l)}));var A=function(){clearTimeout(c),c=setTimeout((function(){var e=t.getAllActiveElements();if(e.length){var n=t.stateHandlerManager.currentStateHandler.getStateName();if(!(n!==ei&&n!=yn&&Object.keys(mi).indexOf(n)<0&&Object.keys(yi).indexOf(n)<0)){var i=!e.find((function(e){var t=e.annot;if(!t)return!1;var n=t.getType(),i=!!t.isArea&&t.isArea();return"highlight"===n&&!i||"strikeout"===n||"underline"===n||"squiggly"===n||"caret"===n}));e.forEach((function(e){var t=e.shapeControl;t&&t.moveEnable&&t.moveDisable&&(i&&t.moveable?t.moveEnable():t.moveDisable())}))}}}),0)};this.eventEmitter.on(se.activeElementChanged,A),this.addDestroyHook((function(){return t.eventEmitter.off(se.activeElementChanged,A)})),this.initializeDefer.resolve()}},{key:"afterInitialized",value:function(){return this.initializeDefer.promise}},{key:"setAnnotPermissionCallback",value:function(e){this.customs.getAnnotPermissions=e,this.annotationAuthorityManager.setAnnotPermissionCallback(e)}},{key:"getCollaboration",value:function(){return this._collaborationDefer.promise}},{key:"getAnnotAuthorityManager",value:function(){return this.annotationAuthorityManager}},{key:"getActionCallbackManager",value:function(){return this.actionCallbackManager}},{key:"collaborate",value:function(e,t){return this.getCollaboration().then((function(n){if(n)return("function"==typeof t?Promise.resolve(t()):Promise.resolve(t)).then((function(t){return n.send({action:e,data:t})}))}))}},{key:"initCollaboration",value:function(){var e=new zS(this,this.collaborationOptions);e.registerBuiltInHandler($S),e.registerBuiltInHandler(GS),e.registerBuiltInHandler(YS),e.registerBuiltInHandler(cI),e.registerBuiltInHandler(tI),e.registerBuiltInHandler(nI),e.registerBuiltInHandler(iI),e.registerBuiltInHandler(uI),e.registerBuiltInHandler(rI),e.registerBuiltInHandler(lI),e.registerBuiltInHandler(eI),e.registerBuiltInHandler(ZS),e.registerBuiltInHandler(XS),e.registerBuiltInHandler(QS),e.registerBuiltInHandler(MI),this.addDestroyHook((function(){e.destroy()})),e.prepare(),this._collaborationDefer.resolve(e)}},{key:"redraw",value:function(e){var t=this,n=arguments;return this.pdfViewerRender&&this.pdfViewerRender.pdfDocRender?(this.redrawTask||Promise.resolve()).then((function(i){var r=t.pdfViewerRender.pdfDocRender;if(!r)return Promise.resolve(!1);try{var o=r.pagesRender;if(!o)return Promise.resolve(!1);e&&o.setRenderFlags(7);var a=[],s=n[1];return void 0===s&&(s=!0),!e&&s?(t.getScrollWrap().disable(1),t.store.dispatch("force-redraw",!0),a.push(t.zoomTo(o.scale,null,0).finally((function(){t.store.dispatch("force-redraw",!1)})))):a.push(o.renderVisiblePages()),t.redrawTask=Promise.all(a).then((function(e){t.getScrollWrap().disable(0)})).finally((function(){delete t.redrawTask}))}catch(e){return Promise.reject(e)}})):Promise.resolve(!1)}},{key:"redrawContent",value:function(){if(!this.pdfViewerRender||!this.pdfViewerRender.pdfDocRender)return Promise.resolve(!1);try{var e=this.pdfViewerRender.pdfDocRender.pagesRender;return null==e||e.setRenderFlags(2),null==e?void 0:e.renderVisiblePages()}catch(e){return Promise.reject(e)}}},{key:"rotateTo",value:function(e,t){return(0,W.assertThat)((0,W.isValidRotationAngle)(e),"Incorrect rotation degree: ".concat(e,", It should be 0, 90, 180 or 270")),this.pdfViewerRender.rotateTo(e,t)}},{key:"getRotation",value:function(){return this.pdfViewerRender.getRotation()}},{key:"getScrollWrap",value:function(){return this.pdfViewerRender.scrollWrap}},{key:"openPDFByFile",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.pdfEngine;if(this.customs.isSupportFileType&&!this.customs.isSupportFileType(e))return Promise.reject();n.isOpenNewFileAfterClose&&this.currentPDFDoc&&this.currentPDFDoc.otherOptions&&(this.currentPDFDoc.otherOptions.isOpenNewFileAfterClose=!0);var r=(0,w._)({},qR,n);return this.openFileOptions=r,e.name&&!r.fileName&&(r.fileName=e.name),void 0===r.isRenderOnDocLoaded&&(r.isRenderOnDocLoaded=!0),"function"!=typeof r.beforeRenderPDFDoc&&(r.beforeRenderPDFDoc=this.customs.beforeRenderPDFDoc),this.close().then((function(){var n=t.resourceGenerator(sb.PDF_DOCUMENT_CLOSING,cb.OBJECT_URL).expose().URL;return t.eventEmitter.emit(se.beforeOpenFile,n.createObjectURL(new Blob([e],{type:"application/pdf"}))),i?Promise.resolve(i):t.getWebPDFJR()}),(function(e){return W.LoggerFactory.getLogger("PDFViewer").warn("An error occurred while opening a pdf file: ",e),Promise.reject({error:-3})})).then((function(n){t.eventEmitter.emit(se.beforeLoadPDFDoc,"memory",e,r,i);var o=n.getPDFDocByFile(e,r);return r.isRenderOnDocLoaded&&t.pdfViewerRender.rendering(),o})).then((function(n){return t._reopenPDFDoc(n,r,{type:NS.FROM_FILE,fileName:r.fileName,file:e,options:r})}),(function(e){return t.eventEmitter.emit(se.openFileFailed,e),Promise.reject(e)})).finally((function(){r.isRenderOnDocLoaded&&t.pdfViewerRender.rendered()}))}},{key:"openPDFByHttpRangeRequest",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fileName:""},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.pdfEngine,r=(0,w._)({},qR,n);this.openFileOptions=r;var o=e.range.url;if(!r.fileName&&o.endsWith(".pdf")){var a=o.lastIndexOf("/"),s=o.substring(a+1);s=decodeURIComponent(s),r.fileName=s}if(void 0===r.isRenderOnDocLoaded&&(r.isRenderOnDocLoaded=!0),"function"!=typeof r.beforeRenderPDFDoc&&(r.beforeRenderPDFDoc=this.customs.beforeRenderPDFDoc),!Rv(o)){var c=Pv();e.range.url=Dv(c).join(o).absolute()}if(e.range.enableChunkPrecache&&navigator.serviceWorker&&navigator.serviceWorker.controller){var u,l,A=null!==(l=null!==(u=e.range.precacheChunkSize)&&void 0!==u?u:e.range.chunkSize)&&void 0!==l?l:131072;this.getPrecacheService().startPrecache(e.range.url,A,e.range.headers)}return this.close().then((function(){var e;return t.eventEmitter.emit(se.beforeOpenFile,o),e=i?Promise.resolve(i):t.getWebPDFJR(),r.isRenderOnDocLoaded&&t.pdfViewerRender.rendering(),e}),(function(e){throw e})).then((function(n){return t.eventEmitter.emit(se.beforeLoadPDFDoc,"http",e,r,i),n.getPDFDocByHttpRangeRequest(e,r)})).then((function(n){return t._reopenPDFDoc(n,r,{type:NS.FROM_URL,range:e.range,size:e.size,options:r})}),(function(e){throw t.eventEmitter.emit(se.openFileFailed,e),e})).finally((function(){r.isRenderOnDocLoaded&&t.pdfViewerRender&&t.pdfViewerRender.rendered()}))}},{key:"getPrecacheService",value:function(){return this.ioc.getInstanceByClass(tR)}},{key:"getPDFDocByFileNoOpen",value:function(e){var t=this;return(0,P._)((function(){var n,i;return(0,L.Jh)(this,(function(r){switch(r.label){case 0:return o=(0,P._)((function(e){var t,n,i=arguments;return(0,L.Jh)(this,(function(r){switch(r.label){case 0:t=i.length>1&&void 0!==i[1]?i[1]:"",n=i.length>2&&void 0!==i[2]?i[2]:{},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.parse((0,k._)((0,w._)({},n),{password:t}))];case 2:return r.sent(),[2,e];case 3:return[2,r.sent()];case 4:return[2]}}))})),n=function(e){return o.apply(this,arguments)},[4,t.getWebPDFJR()];case 1:return[4,r.sent().getPDFDocByFile(e)];case 2:return i=r.sent(),[4,n(i)];case 3:return[2,r.sent()]}var o}))}))()}},{key:"openPDFById",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fileName:""};return void 0===n.isRenderOnDocLoaded&&(n.isRenderOnDocLoaded=!0),this.close().then((function(){var e;return t.eventEmitter.emit(se.beforeOpenFile),e=t.getWebPDFSR(),n.isRenderOnDocLoaded&&t.pdfViewerRender.rendering(),e}),(function(e){throw e})).then((function(e){return Promise.all([e,tM(n)])})).then((function(i){var r=(0,R._)(i,2),o=r[0],a=r[1];return n.idJWT=a||n.jwt,t.eventEmitter.emit(se.beforeLoadPDFDoc,"id",e,n),o.getPDFDocById(e,n)})).then((function(e){return t._reopenPDFDoc(e,n)}),(function(e){return t.eventEmitter.emit(se.openFileFailed,e),Promise.reject(e)})).finally((function(){n.isRenderOnDocLoaded&&t.pdfViewerRender.rendered()}))}},{key:"openPDFByExistsDocId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fileName:""},n=this;return(0,P._)((function(){var i,r,o;return(0,L.Jh)(this,(function(a){switch(a.label){case 0:return[4,n.getWebPDFJR()];case 1:return[4,a.sent().getPDFDocById(e)];case 2:return[4,a.sent().getDocBuffer(n)];case 3:return i=a.sent(),r=new Blob(i),o=new File([r],"".concat(t.fileName),{type:"application/pdf"}),[2,n.openPDFByFile(o,t)]}}))}))()}},{key:"createNewDoc",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"untitled.pdf",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{height:842,width:595},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{isRenderOnDocLoaded:!0},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.pdfEngine;void 0===r.isRenderOnDocLoaded&&(r.isRenderOnDocLoaded=!0);var a=(0,w._)({},qR,r);return this.openFileOptions=a,this.close().then((function(){return o?Promise.resolve(o):e.getWebPDFJR()}),(function(e){return e||(e=new Error("An unknown error occurred while closing the current opening document!")),e.error=-3,Promise.reject(e)})).then((function(e){return e.createNewDoc(t,n,i)})).then((function(n){return r.password=Se,r.fileName=t,e.reopenPDFDoc(n,r,{type:NS.FROM_FILE,options:r,file:function(){var e=[];return n.getStream((function(t){e.push(t)})).then((function(){return new Blob(e,{type:"application/pdf"})}))}})}))}},{key:"loadPDFDocByFile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getPDFDocParserService().loadPDFDocByFile(e,t)}},{key:"loadPDFDocByHttpRangeRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getPDFDocParserService().loadPDFDocByHttpRangeRequest(e,t)}},{key:"createNewPortfolioDoc",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Portfolio.pdf";return this.close().then((function(){return n.pdfEngine?Promise.resolve(n.pdfEngine):n.getWebPDFJR()}),(function(e){return e||(e=new Error("An unknown error occurred while closing the current opening document!")),e.error=-3,Promise.reject(e)})).then((function(n){return n.createNewPortfolioDoc(e,t,i)})).then((function(e){var t={isRenderOnDocLoaded:!0,password:"",fileName:i};return n.reopenPDFDoc(e,t,{type:NS.FROM_FILE,options:t,file:function(){var t=[];return e.getStream((function(e){t.push(e)})).then((function(){return new Blob(t,{type:"application/pdf"})}))}})}))}},{key:"convertImageToPDFDoc",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"untitled.pdf",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=(arguments.length>5&&void 0!==arguments[5]||this.pdfEngine,[]),a=null,s=(0,T._)(e,ArrayBuffer),c=null;return new Promise((function(n,i){var r=new Image;if(r.onload=function(){var e=(0,W.getDPI)(),t=r.width/e.x*72,i=r.height/e.y*72;n(o=[t,i])},r.onerror=function(){i(new Error("The input file could not be loaded as an supported image."))},s){var a=new Blob([e]);r.src=c=URL.createObjectURL(a)}else r.src=e?c=URL.createObjectURL(e):t})).then((function(e){return n.createNewDoc(i,r,{height:e[1],width:e[0]},{isRenderOnDocLoaded:!1},n.pdfEngine)})).then((function(e){return(a=e).getPageByIndex(0)})).then((function(n){var i=s?Promise.resolve(e):xv(e?c:t);return Promise.all([Promise.resolve(n),i])})).then((function(e){var t=(0,R._)(e,2),n=t[0],i=t[1];c&&URL.revokeObjectURL(c);var r={left:0,top:o[1],right:o[0],bottom:0};return n.addImage(i,r)})).then((function(e){if(e)return a;throw new Error("faied to insert image")})).catch((function(e){return n.eventEmitter.emit(se.openFileFailed,null),e&&console.error(e),Promise.reject(e)}))}},{key:"getPDFDocFromImageFile",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"untitled.pdf",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=[],a=null,s=(0,T._)(e,ArrayBuffer),c=null;return new Promise((function(n,i){var r=new Image;if(r.onload=function(){var e=(0,W.getDPI)(),t=r.width/e.x*72,i=r.height/e.y*72;n(o=[t,i])},r.onerror=function(){i(new Error("The input file could not be loaded as an supported image."))},s){var a=new Blob([e]);r.src=c=URL.createObjectURL(a)}else r.src=e?c=URL.createObjectURL(e):t})).then((function(e){return n.pdfEngine.then((function(t){return t.createNewDoc(i,r,{height:e[1],width:e[0]})}))})).then((function(e){return(a=e).getPageByIndex(0)})).then((function(n){var i=s?Promise.resolve(e):xv(e?c:t);return Promise.all([Promise.resolve(n),i])})).then((function(e){var t=(0,R._)(e,2),n=t[0],i=t[1];c&&URL.revokeObjectURL(c);var r={left:0,top:o[1],right:o[0],bottom:0};return n.addImage(i,r)})).then((function(e){if(e)return a;throw new Error("faied to insert image")})).catch((function(e){return e&&console.error(e),Promise.reject(e)}))}},{key:"renderDoc",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.config.defaultScale;if(this.pdfViewerRender.pdfDocRender){var i=this.pdfViewerRender.pdfDocRender.pagesRender;if(e==this.currentPDFDoc&&i&&i.isPageDOMsLoaded)return Promise.resolve(!0)}return this.pdfViewerRender.rendering(),this.pdfViewerRender.renderDoc(e,n).then((function(){return t.eventEmitter.emit(se.openFileSuccess,e,{type:NS.FROM_FILE,options:{fileName:e.info.fileName}}),t.eventEmitter.emit(se.renderFileSuccess,e),!0}),(function(n){return t.eventEmitter.emit(se.renderFileFailed,e),n||(n=new Error("An unknown error occurred while closing the current opening document!")),n.error=-3,Promise.reject(n)})).finally((function(){t.pdfViewerRender.rendered()}))}},{key:"reopenPDFDoc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},t),i=arguments[2];return this.eventEmitter.emit(se.beforeOpenFile),void 0===n.isRenderOnDocLoaded&&(n.isRenderOnDocLoaded=!0),this._reopenPDFDoc(e,n,i)}},{key:"_reopenPDFDoc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=this;return(0,P._)((function(){var r,o,a,s,c,u,l;return(0,L.Jh)(this,(function(A){switch(A.label){case 0:return[4,i.getWebPDFJR()];case 1:return r=A.sent(),(o=r.uiStateManagerAPI).setCurrentDocId(e&&e.id),o.setDocFileName(e&&e.info.fileName||""),i.startListenAnnotMouseEvent(),a=!1,s=!1,c=!1!==t.isRenderOnDocLoaded,"function"!=typeof(u=t.beforeRenderPDFDoc)&&(l=i.customs.beforeRenderPDFDoc,u="function"!=typeof l?zR:l),u!==zR&&(c=!0),[2,Promise.resolve(tM(t)).then((function(n){return t.idJWT=n||t.jwt,e.parse(t)})).then((function(e){e.defineRemoteAPI($e.ACTION_EXECUTOR_CHANNEL_ID,new CR(e,i));var t=e.getPageCount(),r=t<2;if((r=r||t>=500)&&i.viewModeManager.get(_h.getName()))i.viewModeManager.switchTo(_h.getName());else{var o=i.viewModeManager.get(i.config.defaultViewMode);i.viewModeManager.switchTo(o.getName())}i.currentPDFDoc=e,a=!0;var l=[e];if(c){i.eventEmitter.once(se.renderPageSuccess,(function(){s=!0}));var A=Promise.resolve(u.call(i,e)).then((function(){var t=i.pdfViewerRender.renderDoc(e);return i.eventEmitter.emit(se.openFileSuccess,e,n),t}));l.push(A)}return Promise.all(l)}),(function(t){o.setCurrentDocId(void 0),i.currentPDFDoc=null;var n={error:t&&t.code,pdfDoc:e,encryptDict:t&&t.encryptDict};return i.eventEmitter.emit(se.openFileFailed,n),Promise.reject(n)})).then((function(e){var n,r=(0,R._)(e,1)[0];return i.mixPdfJREngine?i.mixPdfJREngine.then((function(e){return n=e,r.resetEngineInstance(e)})).then((function(e){return i.pdfEngine=n,delete i.mixPdfJREngine,i.eventEmitter.emit(se.toggleEngineSr2JrSuccess,e),c&&i.eventEmitter.emit(se.renderFileSuccess,e),e}),(function(e){return n&&(i.pdfEngine=n),t.isRenderOnDocLoaded&&i.eventEmitter.emit(se.renderFileSuccess,e),e})):(c&&i.eventEmitter.emit(se.renderFileSuccess,r),r)}),(function(t){if(a&&s)return i.eventEmitter.emit(se.renderFileSuccess,e),e;c&&i.eventEmitter.emit(se.renderFileFailed,e);var n={error:-1,pdfDoc:e};try{var r,o,u="number";(void 0===t?"undefined":(0,F._)(t))===u?r=t:(0,F._)(t.error)===u?(r=t.error,o=t.encryptDict):r=t,n={error:r,pdfDoc:e,encryptDict:o}}catch(e){}return Promise.reject(n)}))]}}))}))()}},{key:"close",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.customs.closeDocBefore,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.customs.closeDocAfter,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this;return(0,P._)((function(){var r,o,a;return(0,L.Jh)(this,(function(s){switch(s.label){case 0:return[4,i.getWebPDFJR()];case 1:return r=s.sent(),o=r.uiStateManagerAPI,i.stopListenAnnotMouseEvent(),i.currentPDFDoc?(a=Object.assign({},i.openFileOptions,n),[2,Promise.resolve(e(i.currentPDFDoc,a)).then((function(e){if(!1===e)return Promise.reject("Document cannot be closed because it was rejected by the before callback");i.stopFormDesginerAssist(),i.activationManager.clear(),i.eventEmitter.emit(se.willCloseDocument,i.currentPDFDoc),i.currentPDFDoc=null;var t,n=i.pdfViewerRender.closeOldDocRender(a);try{t=i.pdfViewerRender.pdfDocRender}catch(e){}return t?(t.hidden(),n.then((function(e){return i.pdfViewerRender.closeOldDocRender(a)}))):n})).then((function(e){if(!1!==e)return o.setCurrentDocId(void 0),t()})).finally((function(){i.eventEmitter.emit(se.documentClosed)}))]):[2,Promise.resolve()]}}))}))()}},{key:"destroy",value:function(){var e=this,t=this;return(0,P._)((function(){var n,r,o;return(0,L.Jh)(this,(function(a){switch(a.label){case 0:if(t.isDestroyed)return[2,Promise.resolve()];a.label=1;case 1:return a.trys.push([1,12,,13]),[4,t.close()];case 2:if(a.sent(),(0,E._)((0,S._)(i.prototype),"destroy",e).call(t),t.initializers&&t.initializers.forEach((function(e){return e.destroy()})),t.keyboard.destroy(),t.stopListenAnnotMouseEvent(),t.viewerUI.destroy(),t.viewerUI=null,t.pdfViewerRender&&(t.pdfViewerRender.destroy(),t.pdfViewerRender=null),!t.pdfEngine)return[3,7];n=t.webPDFJR,a.label=3;case 3:return a.trys.push([3,5,,6]),[4,t.pdfEngine];case 4:return n=a.sent(),[3,6];case 5:return a.sent(),[3,6];case 6:n&&n.destroy(),n&&n.api&&n.api.workerPromise&&n.api.workerPromise.destroy(),a.label=7;case 7:t.store.destroy(),r=t.getStorage(),a.label=8;case 8:return a.trys.push([8,10,,11]),[4,r.destroy()];case 9:return a.sent(),[3,11];case 10:return o=a.sent(),console.error("destroy storage error",o),[3,11];case 11:return t.eventEmitter.removeAllListeners(),t.ioc.destroy(),[3,13];case 12:throw a.sent();case 13:return[2]}}))}))()}},{key:"zoomTo",value:function(e,t){if("number"==typeof e){if(e<this.config.minScale)throw new Error("scale must be greater than minimum scale: ".concat(this.config.minScale,", which is specified in the PDFViewer constructor parameters"));if(e>this.config.maxScale)throw new Error("scale must be less than or equal to maximum scale: ".concat(this.config.maxScale,", which is specified in the PDFViewer constructor parameters"))}try{var n=arguments[2];return void 0===n&&(n=1),n&&this.activeElement(),"pencilStateHandler"==this.getStateHandlerManager().currentStateHandler.getStateName()&&this.stateHandlerManager.switchTo(),this.pdfViewerRender.zoomTo(e,t)}catch(e){return Promise.reject(e)}}},{key:"zoomAtPosition",value:function(e,t){if("number"==typeof e){if(e<this.config.minScale)throw new Error("scale must be greater than minimum scale: ".concat(this.config.minScale,", which is specified in the PDFViewer constructor parameters"));if(e>this.config.maxScale)throw new Error("scale must be greater than maximum scale: ".concat(this.config.maxScale,", which is specified in the PDFViewer constructor parameters"))}return this.activeElement(),this.pdfViewerRender?this.pdfViewerRender.zoomAt(e,t):Promise.resolve()}},{key:"zoom",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.25;try{return this.pdfViewerRender.getScaleRatio().then((function(n){var i=e.config.minScale,r=e.config.maxScale;n===i&&Math.floor(i/t)!==i/t&&(n=Math.floor(n/t)*t);var o=Math.max(i,Math.min(r,n+t));return o=i+Math.round((o-i)/t)*t,o=Math.max(i,Math.min(r,o)),e.zoomTo(o)}))}catch(e){return Promise.reject(e)}}},{key:"goToPage",value:function(e,t,n){var i=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!this.pdfViewerRender)return Promise.reject("PDFViewer has not been initialized completely!");var o=this.getPDFPageRender(e);return o?r&&"number"!=typeof t?o.getPDFPage().then((function(o){return t=o.getHeight(),i.pdfViewerRender.goToPage(e,t,n,r)})):this.pdfViewerRender.goToPage(e,t,n,r):Promise.reject('The page with index "'.concat(e,'" does not exists or the document has not been opened!'))}},{key:"setDestination",value:function(e){var t=this;return(0,P._)((function(){var n,i,r,o,a,s,c,u,l,A,d,h,f,p,v;return(0,L.Jh)(this,(function(g){switch(g.label){case 0:return n=e.pageIndex,i=e.zoomMode,(r=t.getPDFDocRender())&&r.doc?[4,r.doc.getPageByIndex(e.pageIndex)]:[2];case 1:if(!(o=g.sent()))return[2];switch(o.getWidth(),a=o.getHeight(),i){case $e.ZoomMode.ZoomFitHorz:return[3,2];case $e.ZoomMode.ZoomFitPage:return[3,4];case $e.ZoomMode.ZoomFitRect:return[3,6];case $e.ZoomMode.ZoomFitBHorz:return[3,8];case $e.ZoomMode.ZoomXYZ:return[3,10]}return[3,12];case 2:return[4,t.zoomTo("fitWidth",{pageIndex:n,x:0,y:Math.min(a,e.top)})];case 3:return g.sent(),[3,17];case 4:return[4,t.zoomTo("fitHeight",{pageIndex:n,x:0,y:a})];case 5:return g.sent(),[3,17];case 6:return c=null===(s=t.getPDFViewerRender())||void 0===s?void 0:s.scrollWrap,u=t.getPDFPageRender(n),c&&u?(l=c.getScrollHost(),A=l.clientWidth,d=l.clientHeight,h=o.getDeviceRect({left:e.left,top:e.top,bottom:e.bottom,right:e.top},1,u.getRotation()),f=h.right-h.left,p=h.bottom-h.top,v=Math.min(A/f,d/p),isFinite(v)||(v=r.scale),[4,t.zoomTo(v,{pageIndex:n,x:Math.max(0,e.left),y:Math.max(0,e.top)})]):[2];case 7:return g.sent(),[3,17];case 8:return[4,t.zoomTo("fitVisible",{pageIndex:n,x:0,y:Math.max(0,e.top)})];case 9:return g.sent(),[3,17];case 10:return e.zoomFactor?[3,12]:[4,r.goToPage(n,{x:Math.max(0,e.left),y:Math.max(0,e.top)},!0)];case 11:return g.sent(),[3,17];case 12:return e.zoomFactor?[3,14]:[4,r.goToPage(n,{x:Math.max(0,e.left),y:Math.max(0,e.top)},0!==e.top)];case 13:return g.sent(),[3,16];case 14:return[4,t.zoomTo(e.zoomFactor,{pageIndex:n,x:Math.max(0,e.left),y:Math.max(0,e.top)})];case 15:g.sent(),g.label=16;case 16:return[3,17];case 17:return[2]}}))}))()}},{key:"setLayerNodeVisible",value:function(e,t){return this.pdfViewerRender&&this.pdfViewerRender.setLayerNodeVisible(e,t)}},{key:"setEnableLoadJSEngine",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){return t.pdfEngine.then((function(t){return t.api.enableLoadJSEngine({path:"jr"},e)})),[2]}))}))()}},{key:"setEnableJS",value:function(e){this.config.enableJS!==e&&(this.config.enableJS=e,this.pdfEngine.then((function(t){return t.api.enableJavaScript({path:"jr"},e)})),this.eventEmitter.emit(se.changeEnableJS,e))}},{key:"getEnableJS",value:function(){return this.config.enableJS}},{key:"setContinuousAddPencilState",value:function(e){this.continuousAddPencil=e}},{key:"setEnableOpenAction",value:function(e){this.enableOpenAction=e}},{key:"setEnablePageAction",value:function(e){this.enablePageAction=e}},{key:"setEnableScale",value:function(e){this.enableScale=e}},{key:"getEnableScale",value:function(){return"boolean"!=typeof this.enableScale||this.enableScale}},{key:"setSafeReadingMode",value:function(e){this.config.enableSafeMode=e}},{key:"getSafeReadingMode",value:function(){return this.config.enableSafeMode}},{key:"getSmartScale",value:function(e){var t=this.config,n=t.scaleFrequency;return 0===n?e*=W.dpr:e=Math.ceil(e*W.dpr*n)/n,Math.min(Math.max(e,t.minScale*W.dpr),t.maxScale*W.dpr)}},{key:"controlStateSwitch",value:function(e){this.pdfViewerRender&&this.pdfViewerRender.controlStateSwitch(e)}},{key:"getStateHandlerManager",value:function(){return this.stateHandlerManager}},{key:"getInkSignManager",value:function(){return this.inkSignManager}},{key:"getViewModeManager",value:function(){return this.viewModeManager}},{key:"getMementoManager",value:function(){return this.mementoManager}},{key:"getEventEmitter",value:function(){return this.eventEmitter}},{key:"addEventListener",value:function(e,t){var n={};if(Array.isArray(e))e.forEach((function(e){n[e]=t}));else if(e&&"object"==typeof e)Object.keys(e).forEach((function(t){a(e[t]),n[t]=e[t]}));else{if("string"!=typeof e)throw new Error("Incorrect arguments: the arguments of addEventListener must be (string, Function) or (Record<string, Function>) or (Array<string>, Function)");a(t),n[e]=t}var i=this.eventEmitter;for(var r in n)i.on(r,n[r]);var o=function(){for(var e in n)i.off(e,n[e])};return function(){o(),o=zR};function a(e){if("function"!=typeof e)throw new Error("Illegal argument! Event listener should be a function, but actual: "+(void 0===e?"undefined":(0,F._)(e)))}}},{key:"getCurrentPDFDoc",value:function(){return this.currentPDFDoc}},{key:"getPDFViewerRender",value:function(){try{return this.pdfViewerRender}catch(e){return null}}},{key:"getDeviceCurrentPosition",value:function(){var e=this.getPDFDocRender(),t=this.getPDFViewerRender(),n=t.getViewMode(),i=e.getViewMode(),r=e.viewerRender.scrollWrap,o=r.getScrollTop(),a=r.getScrollLeft(),s=i.getCurrentPageIndex();if("single-page-view-mode"===n.getName()){var c=t.$ui.parent()[0].getBoundingClientRect(),u=e.getPDFPageRender(s).$ui.get(0).getBoundingClientRect();return{pageIndex:s,left:c.left-u.left,top:c.top-u.top}}for(var l,A=e.$container.find(".fv__pdf-view-mode-item"),d=0,h=0,f=0;f<A.length;f++){var p=A[f],v=j()(p).find(".fv__pdf-page-layout"),g=v.width(),m=v.height(),y=p.offsetTop,_=y+m,b=p.offsetLeft;if(_>o&&b+g>a){h=o-y,d=a-b,l=f;break}}return{pageIndex:s,left:d,top:h,pageIndexByTop:l}}},{key:"getPDFDocRender",value:function(){try{return this.pdfViewerRender.pdfDocRender||null}catch(e){return null}}},{key:"getPDFPageRender",value:function(e){try{return this.pdfViewerRender.pdfDocRender.getPDFPageRender(e)||null}catch(e){return null}}},{key:"getAnnotRender",value:function(e,t){try{return this.getPDFPageRender(e).getAnnotRender(t)||null}catch(e){return null}}},{key:"getPDFPageRenderAsync",value:function(e){try{return this.pdfViewerRender.pdfDocRender.getPDFPageRender(e)}catch(e){return null}}},{key:"getAnnotRenderAsync",value:function(e,t){try{return this.getPDFPageRenderAsync(e).getAnnotRender(t)}catch(e){return null}}},{key:"killFocus",value:function(){return Promise.resolve(this.activeElement()||!0)}},{key:"isMultiSelectActive",value:function(){if(!this.isMultipleSelectionAvilable)return!1;var e=this.stateHandlerManager.currentStateHandler.getStateName();return(W.isMac?W.keyboardStatus.isWinDown:W.keyboardStatus.isCtrlDown)&&(e===yn||e===ei||Object.keys(mi).indexOf(e)>=0||Object.keys(yi).indexOf(e)>=0)||W.keyboardStatus.isShiftDown&&(e===yn||e===ei)}},{key:"toggleMuiltiSelection",value:function(e){this.isMultipleSelectionAvilable=!!e}},{key:"bindMultiSelectActiveEvents",value:function(e){var t=this,n=function(e){if(e&&e.shapeControl){var n=e.shapeControl,i=n.onPrestart,r=n.onAfterEnd;n.onPrestart=function(e,r,o){t.activationManager.getAllCurrentActivatables().forEach((function(e){if(e.shapeControl&&!e.shapeControl.isDisabled){if(e.annot.getType()===Xi.widget){var i=e.annot.getField();if(i.getType()===pn.Sign&&i.getSignatureType()===gn.pagingSeal)return}var r=t.customs,o=r.isCollaborationMode,a=void 0===o?zR:o,s=r.isAnnotOwner,c=void 0===s?zR:s;a()&&!c(e.annot.getName())||n.companion(e.shapeControl)}})),i&&i(e,r,o)},n.onAfterEnd=function(e){n.clearCompanions(),r&&r(e)}}};(0,T._)(e,K)?e.getAllActivations().forEach((function(e){return n(e)})):n(e)}},{key:"activePageElementByRect",value:function(e,t){var n,i=this;if(!(e.right<=e.left||e.top<=e.bottom)&&t){var r=t.getIndex(),o=null===(n=this.getPDFPageRender(r))||void 0===n?void 0:n.annotsRender;t.getAnnots().then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(t.length){var n=new K,r=[],a=[],s={},c=[];if(t.forEach((function(e){if(e.isGrouped&&e.isGrouped()){var t=e.getGroupHeader(),n=t.id;return s[n]||o.isAnnotHidden(t)||c.push(t),void(s[n]=t)}"popup"==e.getType()||"watermark"==e.getType()||"R"==e.info.RT&&e.info.IRT||o.annotFiltered&&!o.showAnnots.has(e.id)||o.isAnnotHidden(e)||c.push(e)})),c.reverse().forEach((function(t){if(!r.find((function(e){return e===t}))){var o=t.info.rect,a=o.left,s=o.right,c=o.top,u=o.bottom;if(a>=e.left&&a<=e.right&&c>=e.bottom&&c<=e.top||a>=e.left&&a<=e.right&&u>=e.bottom&&u<=e.top||s>=e.left&&s<=e.right&&c>=e.bottom&&c<=e.top||s>=e.left&&s<=e.right&&u>=e.bottom&&u<=e.top)if(t.isGrouped&&t.isGrouped()){var l=t.getGroupElements()||[];if(l.length){var A=new K;l.forEach((function(e){var t=i.getAnnotRender(e.getPDFPage().getIndex(),e.getId()).component;t&&A.add(t)})),n.add(A),r=(0,M._)(r).concat((0,M._)(l))}}else{var d=i.getAnnotRender(t.getPDFPage().getIndex(),t.getId()).component;d&&n.add(d)}}})),a.length)i.eventEmitter.emit("active-widgets-for-multi-select",{widgets:a,activationGroup:n});else{i.bindMultiSelectActiveEvents(n),i.activationManager.active(n),i.getPDFDocRender().setCurrentAnnotHandler(),i.eventEmitter.emit(se.activeElementChanged);var u=n.getAllActivations().map((function(e){var t=e.getPDFPage().getIndex(),n=e.getPDFAnnot().getId();return i.getAnnotRender(t,n)}));if(u.length){if(1===u.length)return i.eventEmitter.emit(se.activeAnnotation,u[0]);i.eventEmitter.emit(se.activeMultipleAnnotations,u)}}}}))}}},{key:"activateElement",value:function(e){return this.activeElement(e)}},{key:"activeElement",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e){if(!this.activationManager.hasActivations())return;return this.activationManager.unActiveCurrent(),void(t&&this.eventEmitter.emit(se.activeElementChanged))}if(this.bindMultiSelectActiveEvents(e),this.isMultiSelectActive()){var n,i=this.activationManager.getCurrentActivatable();if(i){var r=(i.activations||[])[0];r&&r.annot&&r.annot.page.getIndex()!==((0,T._)(e,K)?e.getAllActivations()[0]:e).annot.page.getIndex()&&this.activationManager.unActiveCurrent(),this.bindMultiSelectActiveEvents(i),i.add(e),n=i}else{var o=new K;o.add(e),n=o}if(W.keyboardStatus.isShiftDown){var a=n.getAllActivations(),s=Number.MAX_VALUE,c=-Number.MAX_VALUE,u=-Number.MAX_VALUE,l=Number.MAX_VALUE;a.forEach((function(e){var t=e.annot.info.rect,n=t.left,i=t.right,r=t.top,o=t.bottom;s=Math.min(s,n),c=Math.max(c,i),u=Math.max(u,r),l=Math.min(l,o)}));var A={left:s,right:c,top:u,bottom:l};if(this.multiSelectActiveShiftHandlerFlag==="".concat(JSON.stringify(A),"_").concat(a.length))return;this.multiSelectActiveShiftHandlerFlag="".concat(JSON.stringify(A),"_").concat(a.length);var d=(0,T._)(e,K)?e.getAllActivations()[0]:e;this.activePageElementByRect(A,d.annot.page)}else this.activationManager.active(n),this.getPDFDocRender().setCurrentAnnotHandler(),this.eventEmitter.emit(se.activeElementChanged)}else{var h;if((0,T._)(e,K))h=e;else{var f=new K;f.add(e),h=f}this.activationManager.active(h),this.getPDFDocRender().setCurrentAnnotHandler(),this.eventEmitter.emit(se.activeElementChanged,e)}}},{key:"clearMultiSelectActiveFlag",value:function(){this.multiSelectActiveShiftHandlerFlag=""}},{key:"deactivateElement",value:function(e){return this.unActiveElement(e)}},{key:"unActiveElement",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e&&e.annot&&e.annot.isGrouped&&e.annot.isGrouped()){var n=this.activationManager.getCurrentActivatable();if(!n||!(0,T._)(n,K))return;for(var i=n.activations||[],r=i.length;r--;){var o=i[r];if((0,T._)(o,K)&&o.contains(e)||o===e){this.activationManager.unActive(i[r]);break}}}else this.activationManager.unActive(e);t&&this.eventEmitter.emit(se.activeElementChanged)}},{key:"getCurrentActivatable",value:function(){var e=this.activationManager.getCurrentActivatable();if(!e||e.isActive)return e}},{key:"getAllActivatedElements",value:function(){return this.getAllActiveElements()}},{key:"getAllActiveElements",value:function(){return this.activationManager.getAllCurrentActivatables()}},{key:"getAnnotManager",value:function(){return this.annotManager}},{key:"registerMatchRule",value:function(e){this.annotManager.registerMatchRule(e)}},{key:"setUserConfig",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.pdfEngine;return(t?Promise.resolve(t):this.getWebPDFJR()).then((function(t){return t.setUserConfig(e)}))}},{key:"setUserName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.pdfEngine;return(t?Promise.resolve(t):this.getWebPDFJR()).then((function(t){return t.setUserName(e)}))}},{key:"getUserName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pdfEngine;return(e?Promise.resolve(e):this.getWebPDFJR()).then((function(e){return e.getUserName()}))}},{key:"setFormatOfDynamicStamp",value:function(e,t){return this.getWebPDFJR().then((function(n){return n.setDynamicInfoFormula(e,t)}))}},{key:"getFormatOfDynamicStamp",value:function(){return this.getWebPDFJR().then((function(e){return e.getDynamicInfoFormula()}))}},{key:"registerPrintHandler",value:function(e){if("function"!=typeof e)throw new TypeError("Callback type error");this.printHandler=e}},{key:"printByProgress",value:function(e,t,n,i,r,o,a,s,c,u){var l,A=this,d=this;c||(l=this.pdfViewerRender.pdfDocRender);var h=t.AdditionalActions?Promise.resolve():t.loadAdditionalActions();return r.setTitle(t.getFileName()),h.then((function(e){if(c)return Promise.resolve();l.performAction(5),A.eventEmitter.emit(se.documentWillPrint)})).then((function(e){return Promise.resolve()})).then((function(){return i({state:"start",total:e.length}),e.reduce((function(t,n){var o=n;return("object"==typeof n&&void 0!==n.rect||"object"==typeof n)&&(o=n.pageIndex),t.then((function(e){var t="number"==typeof n;return Promise.all(t?[p(n),e]:[f(n),e])})).then((function(t){var n=(0,R._)(t,2),a=n[0],s=n[1];return i({state:"progress",pageIndex:o,total:e.length,imageURI:a}),a?Promise.all([s,a,r.appendImage(a)]):Promise.resolve([s])})).then((function(e){var t=(0,R._)(e,2),n=t[0],i=t[1];return i&&n.push({pageIndex:o,imageURI:i}),n}))}),Promise.resolve([]))})).then((function(e){return c?Promise.resolve(e):e})).then((function(t){var n=t.reduce((function(e,t){var n=t.pageIndex,i=t.imageURI;return e[n]=i,e}),{});if(i({state:"end",total:e.length,result:n}),c){var o,a=r.getImageCache();(o=s).push.apply(o,(0,M._)(a)),r.clearImageCache()}else r.print(!u),l.performAction(6);return A.eventEmitter.emit(se.documentDidPrint),n}));function f(e){var n=void 0!==e.pageIndex?e.pageIndex:e;return t.getPageByIndex(n).then((function(t){if(!t.isVirtual()){var i=0,r=0,s=0,c=0,u=0;if(void 0!==e.pageIndex){var l=d.getPDFPageRender(n),A=e.rect,h={left:0,right:l.getShowWidth(),top:0,bottom:l.getShowHeight()},f={top:A.y,bottom:A.y+A.height,left:A.x,right:A.x+A.width},p=Nh.on(f).optimize(h).extract();if(p.right===p.left)throw new Error("Invalid print area: width is 0!");if(p.bottom===p.top)throw new Error("Invalid print area: height is 0!");var v=t.reverseDeviceRect(p,l.getScale(),l.getRotation()),m=t.getDeviceRect(v);i=m.left,r=m.top,s=(m.right-m.left)*(3/4),c=(m.bottom-m.top)*(3/4)}else if("number"==typeof e)if((s=t.getWidth())>(c=t.getHeight())){u=90;var y=s;s=c,c=y}else u=0;var _=4*o/300;return t.getPageBitmap(_,u,{x:i*(o/100),y:r*(o/100),width:s*_,height:c*_},a,"print","").then((function(e){var n=e.buffer,i=e.width,r=e.height,o=e.image;return g({buffer:n,width:i,height:r,canvasWidth:t.getWidth()*_,canvasHeight:r*t.getWidth()*_/i,image:o})}))}}))}function p(e){return v.apply(this,arguments)}function v(){return(v=(0,P._)((function(e){var n,i,r,s,c,u,l,A,d;return(0,L.Jh)(this,(function(h){switch(h.label){case 0:return"number"!=typeof e?[2,Promise.resolve()]:(n=e,i=0,r=0,s=0,[4,t.getPageBasicInfo(n)]);case 1:return c=h.sent(),u=c.width,l=c.height,u>l?(s=90,A=u,u=l,l=A):s=0,d=4*o/300,[4,t.getPageByIndex(n)];case 2:return[2,h.sent().getPageBitmap(d,s,{x:i*(o/100),y:r*(o/100),width:u*d,height:l*d},a,"print","").then((function(e){var t=e.buffer,n=e.width,i=e.height,r=e.image;if(r||t)return g({buffer:t,width:n,height:i,canvasWidth:c.width*d,canvasHeight:i*c.width*d/n,image:r})}))]}}))}))).apply(this,arguments)}function g(e){return m.apply(this,arguments)}function m(){return(m=(0,P._)((function(e){var t,i,r,o,a,s,c,u,l,A,d;return(0,L.Jh)(this,(function(h){return t=e.buffer,i=e.width,r=e.height,o=e.canvasWidth,a=e.canvasHeight,(s=e.image)?[2,n.createObjectURL(s)]:((c=document.createElement("canvas")).width=i,c.height=r,u=c.getContext("2d"),(l=u.createImageData(i,r)).data.set(new(Uint8ClampedArray||Uint8Array)(t)),u.putImageData(l,0,0),(A=document.createElement("canvas")).width=o,A.height=a,(d=A.getContext("2d")).imageSmoothingEnabled=!0,d.imageSmoothingQuality="high",d.drawImage(c,0,0,i,r,0,0,o,a),[2,A.toDataURL("image/png",1)])}))}))).apply(this,arguments)}}},{key:"print",value:function(e){var t=e.isPortfolio,n=e.rangeType,i=e.pages,r=void 0===i?[]:i,o=e.printType,a=void 0===o?["page"]:o,s=e.progress,c=e.printer,u=void 0===c?void 0:c,l=e.showHeaderFooter,A=void 0===l?this.getPrintSetting("showHeaderFooter"):l,d=e.quality,h=void 0===d?this.getPrintSetting("quality")||100:d,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zR,p=this;return(0,P._)((function(){var e,i,o,c,l,d,v,g,m,y,_,b,w,k,x,P,C,D,E;return(0,L.Jh)(this,(function(S){switch(S.label){case 0:if(!(e=p.currentPDFDoc).checkPermission(Qt.print|Qt.printHigh))throw new Error("Permission denied!");return i="object"==typeof s,o=void 0===s||!0===s,c=p.resourceGenerator(sb.PDF_DOCUMENT_CLOSING,cb.OBJECT_URL),l=c.expose().URL,d=f,v=0,f=function(e){switch(e.state){case"start":i?(s.show(),s.updateProgress({current:0,total:e.total},Rx.PROGRESSING)):o&&p.eventEmitter.emit(se.progressChanged,"print",{current:0,total:e.total},Rx.PROGRESSING);break;case"progress":i?s.updateProgress({current:v++,total:e.total},Rx.PROGRESSING):o&&p.eventEmitter.emit(se.progressChanged,"print",{current:v++,total:e.total},Rx.PROGRESSING);break;case"end":i?(s.updateProgress({current:v++,total:e.total},Rx.SUCCESS),setTimeout((function(){s.hide()}),0)):o&&p.eventEmitter.emit(se.progressChanged,"print",{current:v++,total:e.total},Rx.SUCCESS),v=0}d(e)},p.printer&&"function"==typeof p.printer.destroy&&p.printer.destroy(),u||(u=new ES),p.printer=u,(g=p.currentPDFDoc.pdfPortfolio&&t?p.currentPDFDoc.pdfPortfolio.root.nodeHandle:"")&&t?"allPDF"!=n?[3,2]:[4,p.currentPDFDoc.pdfPortfolio.getFolioNodePDFDoc()]:[3,10];case 1:return m=S.sent(),[3,4];case 2:return"selectedPDF"!=n?[3,4]:[4,p.currentPDFDoc.pdfPortfolio.getActivedPDFFileByPortFolioNode()];case 3:y=S.sent(),m=y,S.label=4;case 4:for(k in b=[],w=[],m)w.push(k);x=0,S.label=5;case 5:return x<w.length?(P=w[x],[4,m[P].parse()]):[3,9];case 6:for(S.sent(),_=m[P].getPageCount(),C=[],D=0;D<_;D++)C.push(D);return E=m[P],[4,p.printByProgress(C,E,l,f,u,h,a,b,g,A)];case 7:S.sent(),S.label=8;case 8:return x++,[3,5];case 9:return u.print(!A,b),[2];case 10:return[4,p.printByProgress(r,e,l,f,u,h,a,[],g,A)];case 11:return S.sent(),[2]}}))}))()}},{key:"printCurrentView",value:function(){var e=this.getPDFDocRender().getBoundingClientRects();if(!(e.length>1)){var t=e.map((function(e){return{rect:{x:e.x,y:e.y,width:e.width,height:e.height},pageIndex:e.index}}));this.print({pages:t,printType:["page","annot"]})}}},{key:"printEx",value:function(e){var t=this,n=e.type,i=e.pageRange,r=e.reverse,o=e.progress,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zR,s=this.currentPDFDoc;if(!s.checkPermission(Qt.print|Qt.printHigh))throw new Error("Permission denied!");var c="object"==typeof o,u=void 0===o||!0===o,l=a;a=function(e){switch(e.state){case"start":c?(o.show(),o.updateProgress(0,Rx.PROGRESSING)):u&&t.eventEmitter.emit(se.progressChanged,"printEx",0,Rx.PROGRESSING);break;case"progress":c?o.updateProgress(e.progress,Rx.PROGRESSING):u&&t.eventEmitter.emit(se.progressChanged,"printEx",e.progress,Rx.PROGRESSING);break;case"end":c?(o.updateProgress(e.progress,Rx.SUCCESS),setTimeout((function(){o.hide()}),0)):u&&t.eventEmitter.emit(se.progressChanged,"printEx",e.progress,Rx.SUCCESS)}l(e)};var A=s.getPageCount();var d=this.viewerUI;var h=function(e,t){var n=function(e,t){var n=[],i=e,r=new RegExp(/[^\d\-,]/);if(r.test(i))e=i.slice(0,i.length-1);else{if(!(r=new RegExp(/[^\d]/)).test(i.substr(0,1))){for(var o=i.split(","),a=0;a<o.length;a++){var s=o[a];if(s.indexOf("-")>-1){var c=(0,R._)(s.split("-"),3),u=c[0],l=c[1];if(c[2]||""===l)return;var A=Math.min(+u,+l),d=Math.max(+u,+l);if(A<1)return;if(d>t)return d+="",void(e=i.slice(0,i.length-d.length)+t);n.push([A-1,d-1])}else{if(s<1)return;if(s>t)return void(e=i.slice(0,i.length-s.length)+t);n.push([s-1,s-1])}}return n}e=i.slice(0,i.length-1)}}(e,t)||[];if(!(n.length<1)){var i,r=[];return n.sort((function(e,t){return e[0]-t[0]})).forEach((function(e){if(r.length<1)return r.push(e),void(i=e);var t=e[0],n=e[1],o=i[1];t>=o?t>o+1?(r.push(e),i=e):i[1]=n:n>o&&(i[1]=n)})),r}d.alert({message:"dialog.error.validateRange",level:"warning"})}(i,A),f={type:n,range:h,reverse:r||!1,bleed:!1,useWorkFlow:!0},p=function(e){a(e.msg)};s.api.registerWorkflow("printEx",p);var v=this.pdfViewerRender.pdfDocRender;return(s.AdditionalActions?Promise.resolve():s.loadAdditionalActions()).then((function(e){v.setPrintState(!0),v.performAction(5),t.eventEmitter.emit(se.documentWillPrint)})).then((function(e){return s.extractPrintPages(f).then((function(e){if(e){var n=URL.createObjectURL(e);s.addDestroyHook((function(){URL.revokeObjectURL(n)}));var i={printable:n,type:"pdf",base64:!1,frameRemoveDelay:1e3,documentTitle:s.getFileName()};"function"==typeof t.printHandler?(f={data:i.printable,type:Number(f.type),range:f.range},t.printHandler(f)):$I()(i)}v.performAction(6),t.eventEmitter.emit(se.documentDidPrint),v.setPrintState(!1),s.api.unregisterWorkflow("printEx",p)}))}))}},{key:"printPDFDocumentEx",value:function(e){var t=e.startIndex,n=void 0===t?0:t,i=e.endIndex,r=void 0===i?this.currentPDFDoc.getPageCount()-1:i;return r>this.currentPDFDoc.getPageCount()-1&&(r=this.currentPDFDoc.getPageCount()-1),this.printEx({type:1,pageRange:n+1+"-"+(r+1)})}},{key:"printPDFDocument",value:function(e){e.asImage;var t=e.endIndex,n=void 0===t?this.currentPDFDoc.getPageCount()-1:t,i=e.printType,r=void 0===i?["page"]:i,o=(e.reverse,e.shrinkToFit,e.silent,e.startIndex),a=void 0===o?0:o,s=(e.ui,e.rangeType),c=e.total,u=(void 0===c&&this.currentPDFDoc.getPageCount(),e.progress),l=void 0===u?this.printProgress:u,A=e.fromToArray,d=e.hideHeaderFooter,h=void 0===d?!this.getPrintSetting("showHeaderFooter"):d,f=e.quality,p=void 0===f?this.getPrintSetting("quality")||100:f,v=e.isPortfolio,g=[];if("assign"===s)for(var m=0;m<A.length;m++)if(A[m][0]===A[m][1])g.push(A[m][0]-1);else for(var y=A[m][0];y<=A[m][1];y++)g.push(y-1);else{n>this.currentPDFDoc.getPageCount()-1&&(n=this.currentPDFDoc.getPageCount()-1);for(var _=a;_<=n;_++)g.push(_)}return this.print({isPortfolio:v,rangeType:s,pages:g,printType:r,showHeaderFooter:!h,quality:p,progress:l})}},{key:"setHighlightControlsUI",value:function(e){return this.getFormFillerService().setHighlightFields(e)}},{key:"getDisplayHighlightColor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.25,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"HTML";return t>1&&(t=1),(0,W.colorConvertor)(e,n,t)}},{key:"highlightForm",value:function(e){return console.warn("This method is deprecated. Use FormFillerService#setHighlightFields instead!"),this.getFormFillerService().setHighlightFields(e)}},{key:"getFormHighlightColor",value:function(){return{color:(0,W.colorConvertor)(this._runtimeColor,"int",this._runtimeColorOpacity),colorRequired:(0,W.colorConvertor)(this._runtimeColorRequired,"int",this._runtimeColorOpacityRequired)}}},{key:"setFormHighlightColor",value:function(e,t){var n=.5,i=1;if((W.isChrome||W.isFirefox)&&(n=1),"number"==typeof e&&(n=(4278190080&e)>>>24,n/=255,this._runtimeColorOpacity=n,e&=16777215),"number"==typeof t?(i=(4278190080&t)>>>24,i/=255,this._runtimeColorOpacityRequired=i,t&=16777215):t=e,this._runtimeColor=e,this._runtimeColorRequired=t,this.currentPDFDoc){var r=this.getFormFillerService();r.setHighlightColor(e),r.formAPI.setRequiredColor(t)}}},{key:"getStore",value:function(){return this.store}},{key:"getStorage",value:function(){return this.getIoC().getInstanceByClass(mT)}},{key:"getDeprecatedStorage",value:function(){return this.localStorage}},{key:"setJRFontMap",value:function(e){return this.getWebPDFJR().then((function(t){return t.setFontMap(e)}))}},{key:"grantQueryLocalFontsPermission",value:function(e){this.localFontsPermission=e}},{key:"getLocalFontInfos",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.customs.getLocalFontMapFromCache,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.customs.setLocalFontMapToCache,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.customs.createLocalFontProgress,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.customs.confirmLocalFont,r=this;return(0,P._)((function(){var o,a,s,c,u,l,A,d;return(0,L.Jh)(this,(function(h){switch(h.label){case 0:if(!r.currentPDFDoc||"denied"===r.localFontsPermission)return[2,r._emitLocalFontLoaded()];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,navigator.permissions.query({name:"local-fonts"})];case 2:return"denied"===h.sent().state?[2,r._emitLocalFontLoaded()]:[3,4];case 3:return h.sent(),[2,r._emitLocalFontLoaded()];case 4:return h.trys.push([4,6,,7]),[4,e(r)];case 5:return(o=h.sent())&&(a=o.infos,s=o.datas,a&&a.length>0&&s&&s.length===a.length)?[2,r._emitLocalFontLoaded(a,s)]:!1===o?[2,r._emitLocalFontLoaded()]:[3,7];case 6:return h.sent(),[3,7];case 7:return h.trys.push([7,13,,14]),"granted"!==r.localFontsPermission?[3,8]:(c=!0,[3,10]);case 8:return[4,i(r)];case 9:c=h.sent(),h.label=10;case 10:return c?[4,JT(r,t,n)]:[3,12];case 11:return u=h.sent(),l=u.infos,A=u.datas,[2,r._emitLocalFontLoaded(l,A)];case 12:return[3,14];case 13:return d=h.sent(),console.error("font.load",d),[3,14];case 14:return[2,r._emitLocalFontLoaded()]}}))}))()}},{key:"_emitLocalFontLoaded",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.eventEmitter.emit(se.localFontLoaded,this._localFontInfos=e,this._localFontDatas=t),this._localFontInfos.join("")}},{key:"setJRWatermarkFontMap",value:function(e){return this.getWebPDFJR().then((function(t){return t.setWatermarkFontMap(e)}))}},{key:"pasteAnnot",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},r=this.stateHandlerManager.getCurrentStates();if(r){var o=r.getStateName();if("edit-all"===o||"add-path-object"===o||"add-text-object"===o)return}if(e&&t&&!t.isVirtual()){var a=e.isCutAnnot,s=void 0!==a&&a,c=e.annotId;return this.currentPDFDoc.getPageByIndex(e.pageIndex).then((function(e){if(s){var t=[];if(n.cutAnnot&&n.cutAnnot.getId()===c){var i=n.cutAnnot;n.cutAnnotInfo&&n.cutAnnotInfo.objectNumber===c&&(i.info=(0,w._)({},n.cutAnnotInfo),n.cutAnnotInfo=null),t.push(i)}return Promise.resolve(t)}return e.getAnnotsByObjectNumArray([c])})).then((function(e){if(e.length){if(s){var r=(0,w._)({},e[0].getInfo());n.cutAnnot=null;var o=e[0].getRect(),a=o.right-o.left,c=o.top-o.bottom;return o.left=i.x,o.top=i.y,o.right=i.x+a,o.bottom=i.y-c,r.rect=(0,w._)({},o),r.isCutPasteCreate=!0,t.addAnnot(r)}return t.pasteAnnot(e[0],i)}})).then((function(e){if(e.length>0){var i=e[0],r=function(){"widget"===i.getType()&&n.getAnnotRender(t.getIndex(),i.getId()).getComponent().toggleDesignMode(!0);n.eventEmitter.emit(se.addAnnotSuccess,i)};if(s){var o=n.getAnnotRender(t.getIndex(),i.getId()).getComponent();n.copy([o])}var a=n.customs,c=a.isCollaborationMode,u=void 0===c?zR:c,l=a.getUserName,A=void 0===l?zR:l;if(u()){var d=A();d!==i.getTitle()?i.setTitle(d).finally(r):r()}else r()}return e})).catch(zR)}}},{key:"pasteImage",value:function(e,t){var n=this;window.URL=window.URL||window.webkitURL;var i=window.URL.createObjectURL(t),r=j()("<img style='opacity:0' />");r.on("load",(function(t){e=e.then((function(e){return n.getPDFDocRender().getViewBoxCenter(!1)})).then((function(e){var t=(0,R._)(e,2),o=t[0],a=t[1];if(o.isVirtual())throw new Error("Cannot paste image to virtual page!");var s,c,u=n.pdfViewerRender.pdfDocRender.getPDFPageRender(o.getIndex()),l=u.getRotation();90===l||270===l?(s=r.height()/W.dpr,c=r.width()/W.dpr):(s=r.width()/W.dpr,c=r.height()/W.dpr);var A={left:a[0]-s/2,top:a[1]-c/2,right:a[0]+s/2,bottom:a[1]+c/2};A=o.reverseDeviceRect(A,u.scale,l);var d=new XMLHttpRequest;d.open("get",i),d.responseType="arraybuffer";var h=(0,W.createDeferred)();return d.onloadend=function(e){return h.resolve(d.response)},d.send(),Promise.all([o,h.promise,A,l])})).then((function(e){var t=(0,R._)(e,4),n=t[0],i=t[1],r=t[2],o=t[3];return n.addImage(i,r,o)})).then((function(e){window.URL.revokeObjectURL(i),r.remove()})).catch((function(){window.URL.revokeObjectURL(i),r.remove()}))})),r.attr("src",i),j()("body").append(r)}},{key:"paste",value:function(e){var t=this;e||(e=JSON.parse(LR));var n=Promise.resolve(),i=function(e){var i=e.text,r=void 0===i?"":i,o=(e.value,[]);switch(e.type){case"html":o=R_.formatRichText(e.value);break;case"string":r=e.value}var a=t.stateHandlerManager.getCurrentStates();if(a&&"hand"!==a.getStateName())return;n=n.then((function(e){var n=t.getPDFDocRender().getViewMode().getCurrentPageIndex();return t.currentPDFDoc.getPageByIndex(n)})).then((function(e){if(!e.isVirtual()){var n=e.getWidth()/2,i=e.getHeight()/2,a=t.getPDFDocRender().getPDFPageRender(e.getIndex()),s={left:n,top:i,right:n+12,bottom:i-12};return e.addAnnot({type:Xi.freeText,intent:"FreeTextTypewriter",subject:"FreeTextTypewriter",contents:r,defaultAppearance:o.length?{}:{textColor:0,textSize:12},rect:s,rotation:((360-90*e.getRotation()-a.getRotation())%360+360)%360,richText:o.length?o:null}).then((function(e){t.eventEmitter.emit(se.addAnnotSuccess,e[0])}))}})).catch(zR)};this.pastPositionInfo&&this.pastPositionInfo.times++;var r=function(n){var i=t.getPDFDocRender();return i?i.getViewBoxCenter().then((function(i){var r=(0,R._)(i,2),o=r[0],a=r[1];t.pastPositionInfo&&t.pastPositionInfo.pageIndex===o.getIndex()&&t.pastPositionInfo.pos.toString()===a.toString()||(t.pastPositionInfo={pageIndex:o.getIndex(),pos:a,times:0});var s=1e4,c=-1,u=-1,l=1e4;e.forEach((function(e){if("string"===e.type){var t=e.value;if(t.type){var n=t.rect;s=Math.min(n.left,s),c=Math.max(n.right,c),u=Math.max(n.top,u),l=Math.min(n.bottom,l)}}}));var A=c-s,d=u-l,h=o.getWidth(),f=o.getHeight(),p={x:a[0]+(5*t.pastPositionInfo.times-A/2),y:a[1]-(5*t.pastPositionInfo.times+d/2)};if(p.x+A>h){var v=h-A;p.x=v<0?0:h-A}if(p.y-d<0){var g=f-d;p.y=g<0?f:d}return[o,{x:p.x+n.left-s,y:p.y-(u-n.top)}]})):Promise.resolve({x:0,y:0})};this.pasteTimes++;var o={left:1e4,right:-1,top:-1,bottom:1e4},a=0,s=0;e[0]&&"string"===e[0].type&&e[0].value.graphicObject&&function(){e.forEach((function(e){if("string"===e.type){var n=e.value;if(n.doc&&n.graphicObject&&t.currentPDFDoc.id===n.doc){var i=n.rect;o.left=Math.min(i.left,o.left),o.right=Math.max(i.right,o.right),o.top=Math.max(i.top,o.top),o.bottom=Math.min(i.bottom,o.bottom)}}})),a=o.top-o.bottom,s=o.right-o.left;var n=Object.assign({},o);n.top-=a*t.pasteTimes,n.top<0?(t.pasteNeedRestart=!0,t.pasteRestartTimes?t.pasteRestartTimes++:t.pasteRestartTimes=1):(t.pasteNeedRestart=!1,t.pasteRestartTimes=-1)}();var c=[],u=[],l=[];return e.forEach((function(e){if("string"===e.type)try{var A=e.value;if("number"==typeof A)return void i(e.value);A.type?"widget"===A.type?c.push(r(A.rect).then((function(e){var t=(0,R._)(e,2);return[t[0],t[1],A]}))):n=n.then((function(e){return r(A.rect).then((function(e){var n=(0,R._)(e,2),i=n[0],r=n[1];if(!i.isVirtual())return t.pasteAnnot(A,i,r).then((function(e){var t;return e&&(t=l).push.apply(t,(0,M._)(e)),l}))}))})):A.doc&&A.graphicObject&&t.currentPDFDoc.id===A.doc?u.push((h=A.rect,f=A.page,t.currentPDFDoc.getPageByIndex(f).then((function(e){var n=e.getHeight(),i=Math.abs(o.top)-Math.abs(h.top),r=Math.abs(o.left)-Math.abs(h.left),c=Object.assign({},o);return c.top-=a*t.pasteTimes,c.bottom-=a*t.pasteTimes,t.pasteNeedRestart&&(n-t.pasteRestartTimes*a<0&&(t.pasteRestartTimes=0),c.top=n-t.pasteRestartTimes*a,c.bottom=c.top-a,c.left=0,c.right=s),[e,{top:c.top-i,bottom:c.top-i-(h.top-h.bottom),left:c.left-r,right:c.left-r+(h.right-h.left)}]}))).then((function(e){var t=(0,R._)(e,2);return[t[0],t[1],A]}))):i(e)}catch(e){0}else if("file"===e.type){var d=e.value;if(!d)return;/^image.*/.test(d.type)?t.pasteImage(n,d):n=n.then((function(n){return t.currentPDFDoc.attachFile(e.blob)})).catch(zR)}else"html"===e.type&&i(e);var h,f})),c.length&&(n=n.then((function(e){return Promise.all(c).then((function(e){var n=e[0][0];if(!n.isVirtual()){var i=e.map((function(e){var t=(0,R._)(e,3),n=(t[0],t[1]),i=t[2],r=i.srcObjectNumber,o=i.fieldName,a=i.fieldType,s=i.rect;return{objectNumber:r,fieldName:o,fieldObjNumber:i.fieldObjNumber,fieldType:a,pdfRect:Object.assign({},s,{left:n.x,top:n.y,right:n.x+(s.right-s.left),bottom:n.y-(s.top-s.bottom)})}})).filter((function(e){return!!e}));return t.currentPDFDoc.form.internalCopyWidgets(n.getIndex(),i).then((function(e){return n.getUnloadedAnnots().then((function(){return Promise.all(e.map((function(e){return t.currentPDFDoc.query({type:"annot",annotId:e})}))).then((function(e){return e.filter(Boolean)}))})).then((function(e){return e.forEach((function(e){"widget"===e.getType()&&t.getAnnotRender(n.getIndex(),e.getId()).getComponent().toggleDesignMode(!0)})),t.eventEmitter.emit(se.annotationAdded,e,n),e}))}))}}))}))),u.length&&(n=n.then((function(e){return Promise.all(u).then((function(e){if(!e[0][0].isVirtual()){var t=e.map((function(e){var t=(0,R._)(e,3),n=t[0],i=t[1],r=t[2];return n.pasteGraphicObject(r.graphicObject,r.page,i)}));return Promise.all(t).then((function(e){return e}))}}))}))),n.then((function(e){if(t.activeElement(),Array.isArray(e)&&(0,T._)(e[0],vC)){var n=e[0].getPDFPage().getIndex(),i=new K,r=t.getPDFPageRender(n);e.forEach((function(e){var n=new(t.addon.graphicsManager.get(e))(e,r,t.addon);i.add(n)})),t.activeElement(i)}return e}))}},{key:"copy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.activeElement.tagName.toLowerCase();if("textarea"!==n&&"input"!==n&&(e||(e=this.getAllActiveElements()),Array.isArray(e)||(e=[e]),0!==e.length)){var i=[],r=e.map((function(e){if(e&&e.annot&&"widget"===e.annot.getType()){var n=e.annot;return{type:"string",value:{type:n.getType(),rect:n.getRect(),fieldName:n.getField().getName(),fieldObjNumber:n.getField().getObjNumber(),fieldType:n.getField().getType(),srcObjectNumber:n.getObjectNumber()}}}if((0,T._)(e,qd)){var r=e.annot.getType();if("strikeout"===r||"highlight"===r||"squiggly"===r||"underline"===r||"redact"===r||"caret"===r||"screen"===r||"sound"===r)return;return{type:"string",value:{isCutAnnot:t,type:r,rect:e.annot.getRect(),annotId:e.getId(),pageIndex:e.annot.page.getIndex()}}}if(e.graphicsObject&&(0,T._)(e.graphicsObject,vC)){var o=(e=e.graphicsObject).getPDFPage();return i.push(e),{type:"string",value:{page:o.getIndex(),graphicObject:e.getId(),rect:e.getRect(),doc:o.getPDFDoc().getId()}}}})).filter((function(e){return!!e}));if(r.length){if(i.length){var o=i[0].getPDFPage(),a=i.map((function(e){return e.getId()}));o.cloneGraphicObject(o.getIndex(),a)}LR=JSON.stringify(r),(0,W.copyText)(LR),this.eventEmitter.emit(se.copyTextSuccess),this.pasteTimes=0}}}},{key:"copyAnnots",value:function(e){var t=this;if(!Array.isArray(e))throw new Error("Incorrect param format");var n=e.filter((function(e){var t=e.getType();return"widget"==t?e.getField().getType()!==pn.Sign:!(["strikeout","highlight","squiggly","underline","redact","caret","screen","sound","popup"].includes(t)||"R"==e.info.RT&&e.info.IRT)}));if(this.currentPDFDoc.checkPermission(Qt.annotForm)){var i=n.map((function(e){var n=e.getType();if("widget"===n){if(!t.currentPDFDoc.checkPermission(Qt.modify)||!t.currentPDFDoc.checkPermission(Qt.fillForm))return;var i=e,r=i.getField();return{type:n,rect:i.getRect(),fieldName:r.getName(),fieldType:r.getType(),objectNumber:i.getObjectNumber()}}return{type:n,rect:e.getRect(),id:e.getId(),pageIndex:e.getPage().getIndex()}})).filter((function(e){return!!e}));return i}}},{key:"pasteAnnots",value:function(e){var t=this;return(0,P._)((function(){var n,i,r,o,a,s,c;return(0,L.Jh)(this,(function(u){switch(u.label){case 0:return n=[],i=[],e.forEach((function(e){var t=e.type,r=e.rect,o=e.id,a=e.pageIndex,s=e.fieldName,c=e.fieldType,u=e.objectNumber;"widget"==t?i.push({type:"string",value:{type:t,rect:r,fieldName:s,fieldType:c,srcObjectNumber:u}}):n.push({type:"string",value:{isCutAnnot:!1,type:t,rect:r,annotId:o,pageIndex:a}})})),r=[],n.length?(a=(o=(0,M._)(r)).concat,[4,t.paste(n)]):[3,2];case 1:r=a.apply(o,[M._.apply(void 0,[u.sent()])]),u.label=2;case 2:return i.length?(c=(s=(0,M._)(r)).concat,[4,t.paste(i)]):[3,4];case 3:r=c.apply(s,[M._.apply(void 0,[u.sent()])]),u.label=4;case 4:return[2,r]}}))}))()}},{key:"getClipboardText",value:function(){return LR}},{key:"cut",value:function(e){e||(e=[this.getAllActiveElements()[0]]),Array.isArray(e)||(e=[e]);var t=e[0];if(t&&(0,T._)(t,qd)&&"text"===t.annot.getType()&&!t.deleteDisabled()){var n=t.annot,i=n.getReplies(),r=(0,w._)({},n.getInfo());r.repliesSummary.length&&r.repliesSummary.forEach((function(e){if(!e.content){var t=i.find((function(t){return t.getId()===e.id&&t.info.IRT===n.getId()}));t&&(e.content=t.getContent())}})),this.cutAnnotInfo=(0,w._)({},r),this.cutAnnot=n,this.copy(t,!0),t.removeAnnot()}}},{key:"_setSaveBefore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zR;this._saveBefore=e}},{key:"registerSignatureHandler",value:function(e,t,n){throw new Error("this api is not working now!!")}},{key:"setEnableShortcutKey",value:function(e){this.config.enableShortcutKey=e,e?this.keyboard.enable():this.keyboard.disable()}},{key:"isShortcutKeyEnabled",value:function(){return this.config.enableShortcutKey}},{key:"setEnableLoad3DModule",value:function(e){this.config.enableLoad3DModule=e}},{key:"isLoad3DModuleEnabled",value:function(){return this.config.enableLoad3DModule}},{key:"setEnable3DInteraction",value:function(e){var t,n,i;this.config.enable3DInteraction=e,null===(i=this.getPDFDocRender())||void 0===i||null===(n=i.pagesRender)||void 0===n||null===(t=n.pageRenders)||void 0===t||t.forEach((function(t){var n,i=null===(n=t.annotsRender)||void 0===n?void 0:n.annotRenders;if(i)for(var r in i){var o,a=i[r];"3d"===(null==a||null===(o=a.annot)||void 0===o?void 0:o.getType())&&(e?a.component.active3DHandle():a.component.disable3DHandle())}}))}},{key:"is3DInteractionEnabled",value:function(){return this.config.enable3DInteraction}},{key:"isMouseWheelZoomEnabled",value:function(){var e=window.localStorage.getItem("PREFERENCES-GENNERAL");return!!e&&JSON.parse(e).handUseMouseZoom}},{key:"onShortcutKey",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e||!e)throw new Error("Incorrect shortcut param format");var r=W.Shortcut.from(e);if("function"!=typeof t&&"object"!=typeof t||Array.isArray(t))throw new Error("Incorrect handler param format");var o=zR;i&&(o=this.keyboard.interceptor((function(e,t){if(e.context===n.keyboard.getDefaultShortcutContext())return t(e);e.shortcut.equals(r)||t(e)})));var a="function"==typeof t?t:t&&t.keydown,s="function"==typeof t?void 0:t&&t.keyup,c={shortcut:r,keydown:a,keyup:s},u=this.keyboard.onShortcut(r,(function(e){switch(e.opportunity){case W.ShortcutEventApportunity.keydown:c.keydown&&c.keydown(e);break;case W.ShortcutEventApportunity.keyup:c.keyup&&c.keyup(e)}}),{keydown:"function"==typeof a,keyup:"function"==typeof s}),l=function(){o(),u()};return c.remove=l,this.keyboardListeners.push(c),l}},{key:"offShortcutKey",value:function(e,t){if("string"!=typeof e||!e)throw new Error("Incorrect shortcut param format");var n="function"==typeof t?t:t&&t.keydown,i="function"==typeof t?void 0:t&&t.keyup,r=W.Shortcut.from(e);this.keyboardListeners=this.keyboardListeners.filter((function(e){var t=!1;return r.equals(e.shortcut)&&(n||i?(n===e.keydown&&(e.keydown=void 0),i===e.keyup&&(e.keyup=void 0),t=!e.keydown&&!e.keyup):t=!0),!t||(e.remove(),!1)}))}},{key:"getInkSignList",value:function(e){return(this.inkSignManager.getList()||[]).map((function(t){return{dataURL:"blob"===e?RC(t.dataURL):t.dataURL}}))}},{key:"setInkSignList",value:function(e){var t=this;Array.isArray(e)&&e.forEach((function(e){if(e.dataURL&&/^data:(.*?)\/(.*?);base64/g.test(e.dataURL)){var n=t.inkSignManager.addInkSign();n.setDataURL(e.dataURL),t.inkSignManager.push(n)}}))}},{key:"setDefaultPrintSetting",value:function(e){var t=e.quality;if(void 0===t&&(t=e.quality=100),(t-100|1e3-t)<0)throw new Error("quality range error, 100 to 1000");var n=this.config.printSetting;this.config.printSetting=Object.assign(n,e)}},{key:"getPrintSetting",value:function(e){return this.config.printSetting[e]}},{key:"setAutoCompleteSetting",value:function(e){var t=this.config.autoCompleteSetting;this.config.autoCompleteSetting=Object.assign(t,e)}},{key:"getAutoCompleteSetting",value:function(){return this.config.autoCompleteSetting}},{key:"clearAllAutoCompleteEntries",value:function(){return new vI(this).clearDbEntries()}},{key:"deleteAutoCompleteEntry",value:function(e){return new vI(this).deleteEntry(e)}},{key:"getSavedAutoCompleteEntries",value:function(){return new vI(this).getDbEntries()}},{key:"getAllAutoCompleteEntries",value:function(){return new vI(this).getAllEntries()}},{key:"setPencilDrawingTimeOut",value:function(e){this.getStateHandlerManager().pushStateHandlerConfig("pencilStateHandler",{pencilTimeout:e})}},{key:"setEraserSize",value:function(e){this.getStateHandlerManager().pushStateHandlerConfig("eraserStateHandler",{width:e})}},{key:"setSnapMode",value:function(e,t){switch(e){case Tn:case wn:case Rn:case Mn:case Fn:case Nn:case jn:case Bn:break;default:throw new Error("Incorrect state handler name: ".concat(e,"!"))}var n=this.getStateHandlerManager(),i=(n.getStateHandlerConfig(e)||{}).snapMode;n.pushStateHandlerConfig(e,{snapMode:t&&t.slice(0)}),this.eventEmitter.emit(se.snapModeChanged,e,t,i)}},{key:"getSnapMode",value:function(e){return(this.getStateHandlerManager().getStateHandlerConfig(e)||{}).snapMode||[]}},{key:"setDocReadColors",value:function(e){var t=this;if("object"!=typeof e||Array.isArray(e)||!e.hasOwnProperty("background")||!e.hasOwnProperty("foreground"))throw new Error("Nonsupport colors param format");var n=this.getCurrentPDFDoc();if(n)return n.setColors(e).then((function(){var e=t.getPDFDocRender();if(e)for(var n=e.getPDFDoc().getPageCount(),i=0;i<n;i++){var r=t.getPDFPageRender(i);r&&r.isRendered&&r.redraw(!0)}}))}},{key:"setPageDisplayPreferences",value:function(){var e=this.getCurrentPDFDoc(),t=localStorage.getItem("PAGE_DISPLAY_DATA");if(t){var n=JSON.parse(t);e&&e.setPageDisplayPreferences(n)}}},{key:"activateAnnotation",value:function(e){var t=this;if(!e.annotationId)throw new Error("Annotation id can't empty");var n=this.getPDFDocRender();if(!n||!this.currentPDFDoc)return Promise.resolve();var i=e.annotationId;return this.currentPDFDoc.getPageByIndex(e.pageIndex).then((function(e){return"number"==typeof i?e.getAnnotsByObjectNumArray([i]):e.getAnnots().then((function(t){if(i.trim().length<1)return Promise.resolve();var n=e.getAnnotObjectNum(i);return 0==n?Promise.resolve():(i=n,e.getAnnotsByObjectNumArray([n]))}))})).then((function(r){var o=r[0];if(!o)throw new Error("the annotation does not exist");var a=o.getType();if("popup"===a)throw new Error("the popup annotation can not be activated");if(e.showCommentList&&"freetext"!=a){var s=function(){var n=t.getAnnotRender(e.pageIndex,i);if(n)return Promise.resolve(n.component.showReplyDialog()).then((function(){return o}));t.getPDFPageRender(e.pageIndex).getAnnotRenderSafely(i).then((function(e){return Promise.resolve(e.component.showReplyDialog()).then((function(){return o}))}))},c=s();return c||n.goToPage(e.pageIndex,{x:o.getRect().left,y:o.getRect().top},!0).then(s).then((function(){return o}))}return o})).then((function(t){return n.goToPage(e.pageIndex,{x:t.getRect().left,y:t.getRect().top},!0)})).then((function(n){var r=t.getPDFPageRender(e.pageIndex);r.waitRendered().then((function(){r.annotsRender&&r.annotsRender.activeAnnot(i)}))}))}},{key:"convertClientCoordToPDFCoord",value:function(e){for(var t=e.clientX,n=void 0===t?0:t,i=e.clientY,r=void 0===i?0:i,o=0,a=0,s=0,c=this.getPDFDocRender().pagesRender,u=c.getViewMode().getVisibleIndexes(),l=function(e){return n>=e.left&&n<e.right&&r>=e.top&&r<e.bottom},A=0,d=u.length;A<d;A++){o=u[A];var h=c.getPDFPageRender(o).$ui[0].getBoundingClientRect();if(l(h)){a=n-h.left,s=r-h.top;break}if(A==d-1)return Promise.resolve(null)}var f=c.getPDFPageRender(o);return f.reverseDevicePoint([a,s]).then((function(e){var t=(0,R._)(e,2),n=t[0],i=t[1];return{index:o,left:n,top:i,scale:f.getScale(),rotation:f.getRotation()}}))}},{key:"setAutoCalculateFieldsFlag",value:function(e){var t=this.pdfViewerRender.pdfDocRender;if(t){var n=t.getPDFDoc();if(n){var i=n.getPDFForm();i?i.enableCalculate(e):console.error("get form error")}else console.error("get doc error")}else console.error("get doc Render error")}},{key:"getModuleLicenseRight",value:function(){var e=this;this.getWebPDFJR().then((function(t){t.getAllModuleLicenseRight().then((function(t){e.getStore().dispatch(W.MODULE_LICENSE_INFO,t)}))}))}},{key:"addTooltipsForAllFormFields",value:function(){if(this.currentPDFDoc)return this.currentPDFDoc.getPDFForm().addTooltipsForAllFormFields()}},{key:"setLayoutGrid",value:function(e){return e&&((e=Object.assign({unit:"inch",width:1,height:1,offsetLeft:0,offsetTop:0,subdivisions:3,color:"#7f7fff"},e)).color=(0,W.colorConvertor)(e.color),e.subdivisions=Math.max(1,e.subdivisions)),this.config.layoutGrid=e||null,this.redrawContent()}},{key:"setLayoutGridByStorageSettings",value:function(e){var t=nM(),n=t.gridOptions,i=t.settings;return!0===e&&(i.Grid=!i.Grid,iM(i)),this.config.layoutGrid=i.Grid?n:null,this.eventEmitter.emit(se.gridToggle,i.Grid,e),this.redrawContent()}},{key:"setCustomMargin",value:function(e){this.getPDFViewerRender();j()("html").css("--facing-margin",e+"px")}},{key:"setMultipage",value:function(e){var t=this,n=this.viewModeManager.currentViewMode;if(n&&this.getPDFDocRender()){var i=n.getName(),r=["facing-page-view-mode","multipage-view-mode","facing-continuous-page-view-mode"];if(r.forEach((function(n){t.store.dispatch("multipage-"+n,e)})),this.getPDFDocRender().doc.getPageCount()<=1)this.viewModeManager.switchTo("single-page-view-mode");else if(r.includes(i)){var o=this.viewModeManager.ViewModes[i];this.viewModeManager.currentViewMode=o,this.viewModeManager.switchTo(""),setTimeout((function(){t.viewModeManager.switchTo(i)}))}}}},{key:"updateFormatPageNumbers",value:function(){this.eventEmitter.emit(se.pagesLabelChange)}},{key:"getLayoutGrid",value:function(){return this.config.layoutGrid||null}},{key:"setSnapGrid",value:function(e){e&&((e=Object.assign({unit:"inch",width:1,height:1,offsetLeft:0,offsetTop:0,subdivisions:3},e)).subdivisions=Math.max(1,e.subdivisions)),this.config.snapGrid=e||null}},{key:"setSnapGridByStorageSettings",value:function(e){var t=nM(),n=t.gridOptions,i=t.settings;!0===e&&(i.SnapGrid=!i.SnapGrid,iM(i)),this.config.snapGrid=i.SnapGrid?n:null,this.eventEmitter.emit(se.snapGridToggle,i.SnapGrid,e)}},{key:"getSnapGrid",value:function(){return this.config.snapGrid||null}},{key:"setLineWeight",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return n.currentPDFDoc?n.currentPDFDoc.otherOptions.renderConfigLineWeight===e?[2]:(n.currentPDFDoc.otherOptions.renderConfigLineWeight=e,[4,n.currentPDFDoc.setRenderConfigLineWeight(e)]):[3,2];case 1:i.sent(),i.label=2;case 2:return t?(n.pdfViewerRender.pdfDocRender.pagesRender.setRenderFlags(8),n.redrawContent(),[2]):[2]}}))}))()}},{key:"setFormFieldFocusRectangleVisible",value:function(e){this.element.classList.toggle("hide-form-field-focus-rectangle",!e)}},{key:"setJPXDownSample",value:function(e){return this.getWebPDFJR().then((function(t){return t.setJPXDownSample(e)}))}},{key:"setFormCreationContinuously",value:function(e){this.getStore().dispatch(Te,e)}},{key:"isFormCreationContinuously",value:function(){return!!this.getStore().getCurrentValue(Te)}},{key:"startFormDesginerAssist",value:function(){var e=this;return this.isDesignerAssistantEnabled?Promise.resolve():this.currentPDFDoc.startFormDesignerAssit().then((function(){e.isDesignerAssistantEnabled=!0,e.eventEmitter.emit(se.designerAssistantStatusChanged,!0)}))}},{key:"stopFormDesginerAssist",value:function(){var e=this;return this.isDesignerAssistantEnabled?this.currentPDFDoc?this.currentPDFDoc.stopFormDesignerAssit().then((function(){e.isDesignerAssistantEnabled=!1,e.eventEmitter.emit(se.designerAssistantStatusChanged,!1)})):(this.isDesignerAssistantEnabled=!1,void this.eventEmitter.emit(se.designerAssistantStatusChanged,!1)):Promise.resolve()}},{key:"setActionCallback",value:function(e){this.JSEngine&&this.JSEngine.setActionCallback(e)}},{key:"addFontMaps",value:function(e){var t=this.getStore(),n=(t.getCurrentValue(Wh)||{all:[]}).all;return n.length>0&&(e=e.filter((function(e){return!n.some((function(t){return t.name===e.name&&t.style===e.style&&t.charset===e.charset}))}))),t.dispatch(Wh,{all:n.concat(e),new:e}),this.eventEmitter.emit(se.AddFontMaps,e),this.getWebPDFJR().then((function(t){return t.addFontMap(e)}))}},{key:"getIoC",value:function(){return this.ioc}},{key:"getReadAloudService",value:function(){return this.readAloudService||(this.readAloudService=this.ioc.getInstanceByClass(PI)),this.readAloudService}},{key:"getPDFDocParserService",value:function(){return this.ioc.getInstanceByClass(RI)}},{key:"getKeyboard",value:function(){return this.keyboard}},{key:"toggleCollaborationMode",value:function(e){this.eventEmitter.emit(se.toggleCollaborationMode,e)}},{key:"getGroupCount",value:function(){var e={"-1":[]};return this.getAllActiveElements().forEach((function(t){var n=t.annot,i=n.getGroupHeader&&n.getGroupHeader();i?(e[i.getId()]=e[i.getId()]||[]).push(t):e[-1].push(t)})),[Object.keys(e).length-1,e[-1].length,e]}},{key:"initADPs",value:function(){this.ADPs||(this.ADPs=JSON.parse(localStorage.getItem(DefaultAnnotPropertyKey))||{})}},{key:"ADPs",get:function(){var e=this.pdfEngine;return e?e.ADPs:{}}},{key:"setAnnotDefaultProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(this.webPDFJR||this.webPDFSR).setAnnotDefaultProperty(e,t,n),this.eventEmitter.emit("setAnnotDefaultProperty",{type:e,intent:t,props:n})}},{key:"getAnnotDefaultProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(this.webPDFJR||this.webPDFSR).getAnnotDefaultProperty(e,t)}},{key:"setWorker",value:function(e){var t=this;return this.getWebPDFJR().then((function(n){return n.api.setWorker(e),n.cacheFontConfig((t.config.jr.fontServer||"")+"/",[],[])}))}},{key:"previewIconDoc",value:function(e){return this.getWebPDFJR().then((function(t){return t.api.previewIconDoc(e)}))}},{key:"getBuiltInComparisonStringResource",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getCurrentLanguage();return this.i18n.getDataByLanguage(e).viewer_.compareResultStrings}},{key:"loadBuiltinComparisonTemplates",value:function(){var e=this;return(0,P._)((function(){var t,n,i,r,o,a;return(0,L.Jh)(this,(function(s){switch(s.label){case 0:return c=(0,P._)((function(t){var n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return[4,fetch(t)];case 1:return[4,i.sent().blob()];case 2:return n=i.sent(),[2,e.loadPDFDocByFile(n)]}}))})),t=function(e){return c.apply(this,arguments)},n="assets/comparison",i=Tv(e.libPath,n,"new_summary.pdf"),r=Tv(e.libPath,n,"old_summary.pdf"),[4,t(i)];case 1:return o=s.sent(),[4,t(r)];case 2:return a=s.sent(),[2,{newTemplateId:o.id,oldTemplateId:a.id}]}var c}))}))()}},{key:"compareDocuments",value:function(e,t,n,i){var r=this;return(0,P._)((function(){var o,a,s,c,u,l;return(0,L.Jh)(this,(function(A){switch(A.label){case 0:return n.newTemplateId&&n.oldTemplateId?[3,2]:[4,r.loadBuiltinComparisonTemplates()];case 1:o=A.sent(),a=o.newTemplateId,s=o.oldTemplateId,n.newTemplateId=a,n.oldTemplateId=s,A.label=2;case 2:return n.stringResource||(n.stringResource=r.getBuiltInComparisonStringResource()),[4,r.pdfEngine];case 3:return[4,(c=A.sent()).getPDFDocByCacheId(e,{fileName:n.baseFileName})];case 4:return u=A.sent(),[4,c.getPDFDocByCacheId(t,{fileName:n.otherFileName})];case 5:return l=A.sent(),[2,u.compareWith(l,n,i)]}}))}))()}},{key:"getOverlayComparisonService",value:function(){return this.getIoC().getInstanceByClass(cT)}},{key:"getOverlayComparisonOptionsService",value:function(){return this.getIoC().getInstanceByClass(aT)}},{key:"registerProgressHandler",value:function(e){if("function"!=typeof e)throw new TypeError("Callback type error");this.progressHandler=e}},{key:"updateCustomOptions",value:function(e){Object.assign(this.customs,e)}},{key:"getCustomOptionsUpdater",value:function(){return this.ioc.getInstanceByClass(pT)}},{key:"getInstanceId",value:function(){return this.instanceId}},{key:"getBookmarkDataService",value:function(){return this.ioc.getInstanceByClass(qD)}},{key:"registerMultimediaPlayers",value:function(e){var t;(t=this.multimediaPlayers).unshift.apply(t,(0,M._)(e))}},{key:"grantEditPDFAPermission",value:function(e){this.editPDFAPermission=e}},{key:"getFormFillerService",value:function(){return this.ioc.getInstanceByClass(dR)}},{key:"getViewerUI",value:function(){return this.viewerUI}},{key:"getSignatureService",value:function(){return this.ioc.getInstanceByClass(KD)}},{key:"getSpellCheckerService",value:function(){return this.ioc.getInstanceByClass(UR)}}]),i}(W.Disposable);const eM=QR;function tM(e,t){if(e&&"function"==typeof e.getJWT)return e.getJWT(t)}function nM(){var e=JSON.parse(localStorage.getItem("layoutPreference"))||{WidthBetweenLines:"1.000",HeightBetweenLines:"1.000",GridOffsestFromLeftEdge:"1.000",GridOffsestFromTopEdge:"1.000",Subdivisions:"3",GridLineColcor:"#1e43d6",Grid:!1,SnapGrid:!1};return{gridOptions:{unit:"inch",width:e.WidthBetweenLines,height:e.HeightBetweenLines,offsetLeft:e.GridOffsestFromLeftEdge,offsetTop:e.GridOffsestFromTopEdge,subdivisions:Math.max(1,e.Subdivisions),color:(0,W.colorConvertor)(e.GridLineColcor)},settings:e}}function iM(e){localStorage.setItem("layoutPreference",JSON.stringify(e))}function rM(e){var t=e.key,n=e.value,i=e.notNull,r=void 0===i||i,o=e.notSpace,a=void 0!==o&&o,s=e.notSpecialChar;if(void 0!==s&&s&&/[~!@#'\.\$%\^&\*\(\)\=;\[\]\{\}]/.test(n))throw new Error("[Illegal Argument] Invalid ".concat(t,": Special characters is invalid."));if(a&&/\s/.test(n))throw new Error("[Illegal Argument] Invalid ".concat(t,": Space is invalid."));if(r&&0==n.length)throw new Error("[Illegal Argument] Invalid ".concat(t,": ").concat(t," is required."))}function oM(e){if(0===e.size)return Promise.resolve(new Uint8Array(0));var t=new FileReader;return new Promise((function(n,i){t.onload=function(){n(new Uint8Array(t.result))},t.onerror=function(e){return i(e)},t.readAsArrayBuffer(e)}))}function aM(e,t){if(0===e.size)return Promise.resolve("");var n=new FileReader;return new Promise((function(i,r){n.onload=function(){i(n.result)},n.onerror=function(e){return r(e)},n.readAsText(e,t)}))}function sM(e,t){for(var n=0;n<t.length;n++)if(e[n]===t.charCodeAt(n))return!0;return!1}function cM(e,t){if(0===e.size)return Promise.resolve(!1);var n;if(t){var i=t.lastIndexOf(".");n=t.substr(i+1)}return aM(e.slice(0,4)).then((function(e){return"%PDF"===e||"pdf"===n}))}function uM(e){var t=Array.from(e).slice(0,4).map((function(e){return String.fromCharCode(e)})).join("");return"%PDF"===t}function lM(e,t){return 0===e.size?Promise.resolve(!1):oM(e.slice(0,35)).then((function(e){return fM(e,t)?dM():vM(e,t)?hM():pM(e,t)}))}var AM=document.createElement("video");function dM(){return!!AM.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')}function hM(){return!!AM.canPlayType&&!!AM.canPlayType('video/ogg; codecs="theora, vorbis"')}function fM(e,t){return!!t.match(/\.mp4$/)}function pM(e,t){return!!t.match(/\.webm$/)}function vM(e,t){return 79===e[0]&&103===e[1]&&103===e[2]&&83===e[3]&&gM(e)}function gM(e){return 116===e[29]&&104===e[30]&&101===e[31]&&111===e[32]&&114===e[33]&&97===e[34]}var mM=document.createElement("audio");function yM(){return!!mM.canPlayType("audio/mp3")}function _M(){return!!mM.canPlayType&&!!mM.canPlayType('audio/ogg; codecs="vorbis"')}function bM(e,t){return oM(e.slice(0,35)).then((function(e){return wM(e,t)?yM():!!kM(e,t)&&_M()}))}function wM(e,t){return!!t.match(/\.mp3$/)}function kM(e,t){return 79===e[0]&&103===e[1]&&103===e[2]&&83===e[3]&&xM(e)}function xM(e){return 118===e[29]&&111===e[30]&&114===e[31]&&98===e[32]&&105===e[33]&&115===e[34]}function PM(e,t){return oM(e.slice(0,4)).then((function(e){return CM(e)||DM(e)||EM(e)||SM(e)||IM(t)}))}function CM(e){return 255===e[0]&&216===e[1]&&255===e[2]}function DM(e){return 137===e[0]&&80===e[1]&&78===e[2]&&71==e[3]}function EM(e){return 71===e[0]&&73===e[1]&&70===e[2]&&56===e[3]}function SM(e){return 66===e[0]&&77===e[1]}function IM(e){return/\.svg$/.test(e)}function TM(e){return 82===e[0]&&73===e[1]&&70===e[2]&&70===e[3]}function RM(e){return aM(e.slice(0,4)).then((function(e){return"%FDF"===e}))}function MM(e){return aM(e.slice(0,4)).then((function(e){return"%XDP"===e}))}function FM(e){return e>=0&&e<=6||e>=14&&e<=31}var NM=1024;function LM(e,t){return/\.xfdf/.test(t)||0===e.size?Promise.resolve(!1):RM(e).then((function(t){return!t&&MM(e).then((function(t){if(t)return!1;var n=e.size>NM?e.slice(0,NM):e;return"function"==typeof e.stream?function(e){var t=e.stream().getReader();return t.read().then((function e(n){if(n.done)return!0;for(var i=n.value,r=0;r<i.length;r++)if(FM(i[r]))return!1;return t.read().then(e)}))}(n):function(e){var t=512,n=Math.ceil(e.size/t),i=function(e){for(var t=0;t<e.length;t++)if(FM(e[t]))return!1;return!0};return Array(n).fill((function(e){return oM(e).then(i)})).reduce((function(n,i,r){return n.then((function(n){if(n){var o=t*r,a=Math.min(o+t,e.size),s=e.slice(o,a);return i(s)}return!1}))}),Promise.resolve(!0))}(n)}))}))}var OM,jM,BM=function(){function e(t){(0,C._)(this,e),this.pdfViewer=t}return(0,D._)(e,[{key:"getPassword",value:function(){var e=this,t=(0,W.createDeferred)();return setTimeout((function(){var n=prompt(e.pdfViewer.i18n.t("viewer_:tip.inputPassword"),"");if(null===n)return t.reject(new Error("User has been cancelled the prompt dialog"));t.resolve(n)}),0),t.promise}}]),e}(),VM=function(e){return String(e).replace(/[<>&"]/g,(function(e){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[e]}))},UM=function(e){return String(e).replace(/[<>&"\s]/g,(function(e){return{" ":"&nbsp;","<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[e]}))},HM=function(e){return String(e).replace(/([!\"#$%&'()*+,./:;<=>?@\[\\\]^`{|}~])/g,"\\$1")};n(5789);function zM(e){return(0,T._)(e,HTMLElement)?function(n,i){return"selection-update"===i&&n?t(n,e.getBoundingClientRect()):n}:function(n,i){return"selection-update"===i&&n?t(n,e):n};function t(e,t){var n=e.clientLeft,i=e.clientTop,r=n+e.width,o=i+e.height;return n<t.left&&(n=t.left),i<t.top&&(i=t.top),r>t.right&&(r=t.right),o>t.bottom&&(o=t.bottom),{clientLeft:n,clientTop:i,width:r-n,height:o-i}}}!function(e){e.NONE="none",e.DASHED="dashed",e.SOLID="solid",e.DOTTED="dotted"}(OM||(OM={})),function(e){e.START="selection-start",e.UPDATE="selection-update",e.END="selection-end",e.CANCEL="selection-cancel"}(jM||(jM={}));var WM=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,C._)(this,n),e=t.call(this),(0,z._)((0,x._)(e),"anchorElement",document.body),(0,z._)((0,x._)(e),"fillColor","rgba(".concat(125,",",186,",",255,", 0.3)")),(0,z._)((0,x._)(e),"borderColor","#7DBAFF"),(0,z._)((0,x._)(e),"borderStyle","solid"),(0,z._)((0,x._)(e),"borderWidth",1),(0,z._)((0,x._)(e),"removeMaskOnEnd",!0),(0,z._)((0,x._)(e),"areaEl",document.createElement("div")),(0,z._)((0,x._)(e),"builtInInteraction",!0),(0,z._)((0,x._)(e),"isPrepared",!1),(0,z._)((0,x._)(e),"isAvailable",!0),(0,z._)((0,x._)(e),"store",new W.Store),(0,z._)((0,x._)(e),"interceptors",[]),Object.keys(i).forEach((function(t){e[t]=i[t]})),e.areaEl.className="fv__viewer-selections-area",e.areaEl.style.cssText+="\n            outline: ".concat(e.borderWidth,"px ").concat(e.borderStyle," ").concat(e.borderColor,";\n            background-color: ").concat(e.fillColor,";\n        "),e.store.subscribe("selection-update",(function(t){e.areaEl.style.cssText+="\n                width: ".concat(t.width,"px;\n                height: ").concat(t.height,"px;\n                left: ").concat(t.clientLeft,"px;\n                top: ").concat(t.clientTop,"px;\n            ")})),e.addDestroyHook((function(){e.store.destroy()})),e}return(0,D._)(n,[{key:"eventInterceptor",value:function(e){this.interceptors.push(e)}},{key:"reducer",value:function(e){this.store.reducer(e)}},{key:"on",value:function(e,t){return this.builtInInteraction&&this.prepare(),this.store.subscribe(e,t)}},{key:"start",value:function(e,t){document.body.appendChild(this.areaEl);var n=this.anchorElement.getBoundingClientRect();this.store.dispatch("selection-start",{clientLeft:e,clientTop:t,left:e-n.left,top:t-n.top,width:0,height:0})}},{key:"adjust",value:function(e,t){var n=this.store.getCurrentValue("selection-start"),i=n.clientLeft+e,r=n.clientTop+t,o=Math.min(n.clientLeft,i),a=Math.min(n.clientTop,r),s=Math.abs(e),c=Math.abs(t),u=this.anchorElement.getBoundingClientRect();this.store.dispatch("selection-update",{clientLeft:o,clientTop:a,left:o-u.left,top:a-u.top,width:s,height:c})}},{key:"end",value:function(){this.removeMaskOnEnd&&this.removeMask();var e=this.store.getCurrentValue("selection-update");this.store.dispatch("selection-end",e)}},{key:"cancel",value:function(){this.removeMask(),this.store.dispatch("selection-cancel",void 0)}},{key:"removeMask",value:function(){this.areaEl.parentElement===document.body&&document.body.removeChild(this.areaEl)}},{key:"enable",value:function(){this.isAvailable=!0}},{key:"disable",value:function(){this.isAvailable=!1}},{key:"prepare",value:function(){var e=this;if(!this.isPrepared){var t=new qr.Manager(this.anchorElement);t.add(new qr.Pan({direction:qr.DIRECTION_ALL}));var n,i=!1;t.on("panstart",(function(t){e.isAvailable&&(e.interceptors.some((function(e){return!e(t)}))||(i=!0,n=t.center,e.start(t.center.x,t.center.y),e.adjust(0,0)))})),t.on("panmove",(function(t){if(e.isAvailable&&i){var r=t.center.x-n.x,o=t.center.y-n.y;e.adjust(r,o)}})),t.on("panend",(function(t){e.isAvailable&&i&&(i=!1,e.end())})),t.on("pancancel",(function(t){e.isAvailable&&i&&(i=!1,e.cancel())})),this.addDestroyHook((function(){t.destroy(),e.end()}))}}}]),n}(W.Disposable);var GM=function(e){var t={isAllowed:!1,print:2,accessibility:!0,copy:!0,change:4};return"password"===e?(0,w._)({userPassword:"",ownerPassword:"",isEncryptMetadata:!0,cipherType:jC.AES128},t):"certificate"===e?t:{}},YM=function(e){if(void 0===e)return{};var t={};return t.print=2048&e?2:4&e?1:0,t.accessibility=!!(512&e),t.copy=!!(16&e),t.change=8&e&&32&e&&256&e?4:32&e&&256&e?3:256&e?2:1024&e?1:0,t},$M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.print,n=e.change,i=e.accessibility,r=e.copy;if("number"!=typeof t||"number"!=typeof n||"boolean"!=typeof i||"boolean"!=typeof r)return 0;var o=65532;return t<2&&(o^=2048,t<1&&(o^=4)),i||(o^=512),r||(o^=16),4===(n=+n)?o^=1024:3===n?(o^=8,o^=1024):2===n?(o^=8,o^=32,o^=1024):1===n?(o^=8,o^=32,o^=256):0===n&&(o^=8,o^=32,o^=256,o^=1024),o+=4294901760},JM=null,qM=function(){return JM},KM=function(e){JM=e},ZM="",XM=function(){return ZM},QM=function(){ZM=arguments.length>0&&void 0!==arguments[0]?arguments[0]:""},eF=function(e,t){if(!e||!t)return Promise.resolve(!1);var n=t.recipientList,i=t.cipherType,r=t.isEncryptMetadata,o=e.pdfViewer.currentPDFDoc,a=n.map((function(e){return{cerFile:e.cerFile,permission:e.permissionData.isAllowed?e.permissionData:null}}));return o.setCertificateAndPermission(a,i,r).then((function(t){return t&&(e.alert({message:"password-protect:warning.apply-to-document",level:"warning",again:!0,id:"set-certificate-permission-alert"}),e.eventEmitter.emit(se.securityTypeChanged),KM(null)),t}))},tF=function(e,t){e.alert({message:"password-protect:warning.apply-to-document",level:"warning",again:!0,id:"set-password-permission-alert"}),e.eventEmitter.emit(se.securityTypeChanged);var n=(0,k._)((0,w._)({},t,YM(t.permissionData.value)),{isAllowed:t.permissionData.isAllowed});delete n.permissionData,KM(n),QM(t.ownerPassword)},nF=function(e,t,n){if(e){var i=e.pdfViewer.currentPDFDoc,r=function(t){return e.promptPassword("","password-protect:buttons.inputOwnerPassword","password-protect:buttons.title","body",t?"error":void 0,t)},o=function(e){return e?(n||i).checkPassword(e).then((function(n){if(3!==n)throw r("password-protect:warning.incorrect-owner-pwd").then(o,(function(){})),"Incorrect password";QM(e),t&&t(e)})):r("password-protect:error.admin-pwd-cannot-blank").then(o,(function(){}))};return r().then(o,(function(){throw"User cancel input password"}))}};var iF=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.$ui.get(0).parentElement;return(0,C._)(this,n),(i=t.call(this,e)).scrollHost=r,i.clientWidth=-1,i.clientHeight=-1,window.ResizeObserver&&(i.observer=new ResizeObserver((function(e){(0,R._)(e,1)[0]&&(i.clientWidth=r.clientWidth,i.clientHeight=r.clientHeight)})),i.observer.observe(r),i.addDestroyHook((function(){i.observer.unobserve(r)}))),i}return(0,D._)(n,[{key:"getScrollHost",value:function(){return this.scrollHost}},{key:"scrollBy",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto",i=this.scrollHost;i.scrollBy?i.scrollBy({top:t,left:e,behavior:n}):(i.scrollLeft=i.scrollLeft+e,i.scrollTop=i.scrollTop+t)}},{key:"scrollTo",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto",i=this.scrollHost,r=i.scrollLeft,o=i.scrollTop;if(i.scrollTo?i.scrollTo({left:e,top:t,behavior:n}):(i.scrollLeft=e,i.scrollTop=t),0===r||!o){var a=new Event("scroll");Object.defineProperty(a,"isMock",{value:!0}),i.dispatchEvent(a)}}},{key:"getScrollOffset",value:function(){var e=this.viewerRender.$ui.get(0),t=e.parentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{offsetLeft:Math.max(0,n.left-t.left),offsetTop:Math.max(0,n.top-t.top)}}},{key:"getScrollOffsetLeft",value:function(){return this.getScrollOffset().offsetLeft}},{key:"getScrollOffsetTop",value:function(){return this.getScrollOffset().offsetTop}},{key:"getScrollTop",value:function(){return this.scrollHost.scrollTop}},{key:"getScrollLeft",value:function(){return this.scrollHost.scrollLeft}},{key:"getScrollX",value:function(){return this.getScrollLeft()}},{key:"getScrollY",value:function(){return this.getScrollTop()}},{key:"getWidth",value:function(){var e;return-1!==this.clientWidth?(e=this.clientWidth,this.clientWidth=-1):e=this.scrollHost.clientWidth,e}},{key:"getHeight",value:function(){var e;return-1!==this.clientHeight?(e=this.clientHeight,this.clientHeight=-1):e=this.scrollHost.clientHeight,e}},{key:"addScrollEventListener",value:function(e){return(0,E._)((0,S._)(n.prototype),"addScrollEventListener",this).call(this,e)}}],[{key:"create",value:function(e){return function(t){(0,I._)(i,t);var n=(0,N._)(i);function i(t){return(0,C._)(this,i),n.call(this,t,e)}return i}(n)}}]),n}(Qh);const rF=iF;var oF;!function(e){e[e.MOVE_TO=1]="MOVE_TO",e[e.LINE_TO=2]="LINE_TO"}(oF||(oF={}));var aF=function(){function e(t,n){(0,C._)(this,e),(0,z._)(this,"x",void 0),(0,z._)(this,"y",void 0),this.x=t,this.y=n}return(0,D._)(e,[{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"div",value:function(e){return this.mult(1/e)}},{key:"mult",value:function(t){return new e(this.x*t,this.y*t)}},{key:"normalize",value:function(){var e=this.length();return this.div(e)}},{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"toPoint",value:function(e){return new sF(this.x,this.y,e)}}]),e}(),sF=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:oF.MOVE_TO;(0,C._)(this,e),(0,z._)(this,"x",void 0),(0,z._)(this,"y",void 0),(0,z._)(this,"type",void 0),this.x=t,this.y=n,this.type=i}return(0,D._)(e,[{key:"distanceTo",value:function(e){return this.vectorTo(e).length()}},{key:"vectorTo",value:function(e){return new aF(e.x-this.x,e.y-this.y)}},{key:"toVector",value:function(){return new aF(this.x,this.y)}},{key:"newType",value:function(t){return e.fromPoint(this,t)}}],[{key:"fromVec",value:function(t,n){return new e(t.x,t.y,n)}},{key:"fromPoint",value:function(t,n){return new e(t.x,t.y,n)}}]),e}(),cF=function(){function e(t,n){(0,C._)(this,e),(0,z._)(this,"radius",void 0),(0,z._)(this,"origin",void 0),this.radius=t,this.origin=n}return(0,D._)(e,[{key:"contains",value:function(e){return this.origin.distanceTo(e)<this.radius}},{key:"intersectsLine",value:function(e,t){var n=e.x,i=e.y,r=t.x,o=t.y,a=this.origin,s=a.x,c=a.y,u=Math.pow(r-n,2)+Math.pow(o-i,2),l=2*((r-n)*(n-s)+(o-i)*(i-c)),A=l*l-4*u*(s*s+c*c+n*n+i*i-2*(s*n+c*i)-this.radius*this.radius),d=[];if(0===A){var h=-l/(2*u),f=new sF(n+h*(r-n),i+h*(o-i));uF(e,t,f)&&d.push(f)}else if(A>0){var p=(-l-Math.sqrt(A))/(2*u),v=(-l+Math.sqrt(A))/(2*u),g=new sF(n+p*(r-n),i+p*(o-i)),m=new sF(n+v*(r-n),i+v*(o-i));uF(e,t,g)&&d.push(g),uF(e,t,m)&&d.push(m)}return d}}]),e}();function uF(e,t,n){var i=Math.min(e.x,t.x),r=Math.max(e.x,t.x),o=Math.min(e.y,t.y),a=Math.max(e.y,t.y);return n.x>=i&&n.x<=r&&n.y>=o&&n.y<=a}var lF=function(){function e(t){(0,C._)(this,e),(0,z._)(this,"radius",void 0),this.radius=t}return(0,D._)(e,[{key:"erase",value:function(e,t){var n=e.reduce((function(e,t){return t.type===oF.MOVE_TO&&e.push([]),e[e.length-1].push(t),e}),[]),i=new cF(this.radius,t);return n.forEach((function(e){for(var t=0;t<e.length-1;){var n=e[t],r=e[t+1];if(i.contains(n))if(i.contains(r))e.splice(t,1,r.newType(oF.MOVE_TO)),t++;else{var o=i.intersectsLine(n,r);1===o.length&&e.splice(t,1,o[0].newType(oF.MOVE_TO)),t++}else{if(i.contains(r)){var a=i.intersectsLine(n,r);1===a.length&&(e.splice(t+1,1,a[0].newType(oF.LINE_TO),r.newType(oF.MOVE_TO)),t++)}else{var s=i.intersectsLine(n,r);2===s.length&&(e.splice(t+1,0,s[0].newType(oF.LINE_TO),s[1].newType(oF.MOVE_TO)),t+=2)}t++}}})),n.reduce((function(e,t){return e.concat(t)}),[])}}]),e}();var AF,dF,hF,fF,pF="unknown",vF="unknown_certify";AF={},(0,z._)(AF,pF,"unknownMsg"),(0,z._)(AF,vF,"unknownMsg_certify"),(0,z._)(AF,"unknownValidityMsg","unknownValidityMsg"),(0,z._)(AF,"validMsg","validMsg"),(0,z._)(AF,"validMsg_certify","validMsg_certify"),(0,z._)(AF,"invalidMsg","invalidMsg"),(0,z._)(AF,"invalidMsg_certify","invalidMsg_certify"),(0,z._)(AF,"invalidMsg_Upper","invalidMsg_Upper"),(0,z._)(AF,"errorSignatureMsg","errorSignatureMsg"),(0,z._)(AF,"errorByteRangeMsg","errorByteRangeMsg"),(0,z._)(AF,"errorByteRangeDetail","errorByteRangeDetail"),(0,z._)(AF,"validInfo","validInfo"),(0,z._)(AF,"validInfo_certify","validInfo_certify"),(0,z._)(AF,"invalidInfo","invalidInfo"),(0,z._)(AF,"invalidInfo_certify","invalidInfo_certify"),(0,z._)(AF,"validityUnknownInfo","validityUnknownInfo"),dF={},(0,z._)(dF,pF,"verifyUnknown"),(0,z._)(dF,"verifyNoChange","verifyNoChange_online"),(0,z._)(dF,"verifyNoChange_certify","verifyNoChange_certify"),(0,z._)(dF,"verifyFuture","verifyFuture"),(0,z._)(dF,"verifyAlteredCorrupted","verifyAlteredCorrupted"),(0,z._)(dF,"verifyChange","verifyChange_online"),(0,z._)(dF,"verifyChange_certify","verifyChange_certify"),(0,z._)(dF,"noSupportFormat","noSupportFormat"),(0,z._)(dF,"noSupportHandler","verifyChange_certify"),(0,z._)(dF,"e_StateVerifyChangeLegal","changeLegal"),(0,z._)(dF,"e_StateVerifyChangeIllegal","changeIllegal"),hF={},(0,z._)(hF,pF,"issueUnknown"),(0,z._)(hF,"issuerInvalid_mac","issuerInvalid_mac"),(0,z._)(hF,"issuerInvalid","issuerInvalid"),(0,z._)(hF,"issuerRevoke","issuerRevoke"),(0,z._)(hF,"issuerExpire_mac","issuerExpire_mac"),(0,z._)(hF,"issuerExpire","issuerExpire"),(0,z._)(hF,"issuerCurrent","issuerCurrent"),(0,z._)(hF,"issuerCurrent_certify","issuerCurrent_certify"),(0,z._)(hF,"issuerValid","issuerValid"),(0,z._)(hF,"issuerValidAndIssueRevoke","issuerValidAndIssueRevoke"),(0,z._)(hF,"issuerIdentityUnknown","issuerIdentityUnknown"),(0,z._)(hF,"identityValidAndUntrustedMsg","identityValidAndUntrustedMsg"),(0,z._)(hF,"notVerifiedIdentityMsg","notVerifiedIdentityMsg"),(0,z._)(hF,"e_StateVerifyIssueUnknown","issueUnknown"),(0,z._)(hF,"e_StateVerifyIssueUncheck","issueUncheck"),fF={},(0,z._)(fF,pF,"timestampUnknown"),(0,z._)(fF,"timestampExpire","timestampExpire_online"),(0,z._)(fF,"timestampDoc","timestampDoc_online"),(0,z._)(fF,"timestampNone","timestampNone_online"),(0,z._)(fF,"timestampEmbeddedAndExpire","timestampEmbeddedAndExpire"),(0,z._)(fF,"timestampEmbeddedAndExpire_mac","timestampEmbeddedAndExpire_mac"),(0,z._)(fF,"timestampEmbeddedAndExpire_mac_panel","timestampEmbeddedAndExpire_mac_panel"),(0,z._)(fF,"timestampEmbedded","timestampEmbedded"),(0,z._)(fF,"timestampEmbedded_mac","timestampEmbedded_mac"),(0,z._)(fF,"timestampEmbedded_mac_panel","timestampEmbedded_mac_panel"),(0,z._)(fF,"timestampEmbeddedAndNotBeVerified","timestampEmbeddedAndNotBeVerified"),(0,z._)(fF,"timestampSecure","timestampSecure"),(0,z._)(fF,"e_StateVerifyTimestampIssueUnknown","timestampIssueUnknown");var gF={NotYetVerified:"notYetVerified",Verified:"verified"};function mF(e){return yF.apply(this,arguments)}function yF(){return(yF=(0,P._)((function(e){var t,n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return!e||e.isPortfolio()?[3,2]:[4,e.getSignaturesInfo()];case 1:return t=i.sent(),n=e.getPDFForm(),[2,Promise.all(t.signedNames.map((function(e){return n.getField(e)})))];case 2:return[2,[]]}}))}))).apply(this,arguments)}function _F(e){var t=!1,n=mF(e);return n.length&&(t=n.some((function(e){return e.signatureInfo&&e.signatureInfo.isSigned&&e.signatureInfo.isCertified}))),t}function bF(e){var t=!1,n=mF(e);return n.length&&(t=n.some((function(e){return e.signatureInfo&&e.signatureInfo.isSigned&&!e.signatureInfo.isCertified}))),t}var wF="uniqueSerialNumber",kF="TrustedCertificateList",xF=1,PF=!1,CF=[{indexKey:"type"},{indexKey:"serialNumber"}],DF={Custom:"Custom",FATL:"FATL",EUTL:"EUTL"};function EF(){return"IsTrustCertListLoaded_version_".concat(xF)}var SF=function(){return{storeName:kF,dbName:"".concat("FoxitPDFSDKForWeb_").concat(kF),version:xF,keyPath:wF,indexArr:CF}},IF=function(){var e=SF(),t=e.storeName,n=e.dbName,i=e.version,r=e.keyPath,o=e.indexArr;return new AI.IndexDBStore(t,n,i,r,o)};function TF(e){return RF.apply(this,arguments)}function RF(){return(RF=(0,P._)((function(e){var t,n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:if(!(t=IF()))return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t.add(e)];case 2:return i.sent(),[2,e];case 3:return n=i.sent(),console.error(n),[2,!1];case 4:return[2,!1]}}))}))).apply(this,arguments)}function MF(e){return FF.apply(this,arguments)}function FF(){return FF=(0,P._)((function(e){var t,n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),(t=IF())?[4,t.remove(e)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[3,4];case 3:return n=i.sent(),console.error(n),[3,4];case 4:return[2]}}))})),FF.apply(this,arguments)}function NF(e){return LF.apply(this,arguments)}function LF(){return LF=(0,P._)((function(e){var t,n,i,r;return(0,L.Jh)(this,(function(o){switch(o.label){case 0:if(o.trys.push([0,5,,6]),!(t=IF()))return[3,4];n=0,o.label=1;case 1:return n<e.length?(i=e[n],[4,t.remove(i)]):[3,4];case 2:o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return[3,6];case 5:return r=o.sent(),console.error(r),[3,6];case 6:return[2]}}))})),LF.apply(this,arguments)}function OF(){return jF.apply(this,arguments)}function jF(){return jF=(0,P._)((function(){var e,t,n,i;return(0,L.Jh)(this,(function(r){switch(r.label){case 0:if(e={isLoaded:!1,trustedCertificateList:null},t=function(){var e=EF();return"true"===localStorage.getItem(e)||PF}(),!t)return[3,5];if(!(n=IF()))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.getAll()];case 2:return(i=r.sent()||[]).length&&(e={isLoaded:!0,trustedCertificateList:i}),[3,4];case 3:return r.sent(),e.isLoaded=!1,[3,4];case 4:case 5:return[2,e]}}))})),jF.apply(this,arguments)}function BF(e){return VF.apply(this,arguments)}function VF(){return(VF=(0,P._)((function(e){var t,n,i,r,o,a,s;return(0,L.Jh)(this,(function(c){switch(c.label){case 0:return[4,OF()];case 1:return t=c.sent(),n=t.isLoaded,i=t.trustedCertificateList,n?[3,3]:[4,UF(e,!0)];case 2:c.sent(),c.label=3;case 3:return c.trys.push([3,8,,9]),r=null!=i?i:[],n?[3,5]:(o=IF())?[4,o.getAll()]:[3,5];case 4:r=null!==(a=c.sent())&&void 0!==a?a:[],c.label=5;case 5:return[3,7];case 6:c.sent().forEach((function(e){var t=r.findIndex((function(t){return t.uniqueSerialNumber===e.uniqueSerialNumber}));t>-1?r[t]=e:r.push(e)})),c.label=7;case 7:return[2,r];case 8:return s=c.sent(),console.error(s),[2,[]];case 9:return[2]}}))}))).apply(this,arguments)}function UF(e){return HF.apply(this,arguments)}function HF(){return HF=(0,P._)((function(e){var t,n,i,r,o,a,s,c,u=arguments;return(0,L.Jh)(this,(function(l){switch(l.label){case 0:return(t=u.length>1&&void 0!==u[1]&&u[1])?[3,2]:[4,OF()];case 1:if(l.sent().isLoaded)return[2];l.label=2;case 2:PF=!1,l.label=3;case 3:return l.trys.push([3,9,10,11]),[4,zF(e,t)];case 4:return(n=l.sent()).length?(n.map((function(e){e.usage=3})),(i=IF())?[4,i.getByIndex("type",DF.Custom)]:[3,8]):[3,8];case 5:return r=l.sent()||[],[4,i.clear()];case 6:return l.sent(),(o=n.concat(r)).forEach((function(e){var t=e||{},n=t.serialNumber,i=t.country,r=t.issuerName;e[wF]="".concat(n,"_").concat(i,"_").concat(r)})),a=function(e,t){var n=new Map;return e.filter((function(e){return!n.has(e[t])&&n.set(e[t],1)}))}(o,wF),[4,i.addItems(a)];case 7:l.sent(),PF=!0,l.label=8;case 8:return[3,11];case 9:return s=l.sent(),PF=!1,console.error(s),[3,11];case 10:return c=EF(),localStorage.setItem(c,PF),[7];case 11:return[2]}}))})),HF.apply(this,arguments)}function zF(e){return WF.apply(this,arguments)}function WF(){return WF=(0,P._)((function(e){var t,n,i,r,o=arguments;return(0,L.Jh)(this,(function(a){switch(a.label){case 0:t=o.length>1&&void 0!==o[1]&&o[1],a.label=1;case 1:return a.trys.push([1,4,,5]),(s=e.libPath).endsWith("/")||(s+="/"),n={static_FATLUrl:{url:"".concat(s,"certFATLAndEUTL/tsfile.foxitdata1?t=").concat((new Date).getTime()),trust_type:1,type:DF.FATL},static_EUTLUrl:{url:"".concat(s,"certFATLAndEUTL/eutlfile.foxitdata1?t=").concat((new Date).getTime()),trust_type:2,type:DF.EUTL},static_FATL2Url:{url:"".concat(s,"certFATLAndEUTL/tsfile.foxitdata2?t=").concat((new Date).getTime()),trust_type:1,type:DF.FATL,purpose_code:"phantomkey"}},i=[n.static_FATLUrl,n.static_FATL2Url,n.static_EUTLUrl],[4,e.getWebPDFJR()];case 2:return[4,a.sent().getFATLAndEUTLList(i,t)];case 3:return r=a.sent(),[2,Promise.resolve(r)];case 4:return a.sent(),[2,Promise.resolve([])];case 5:return[2]}var s}))})),WF.apply(this,arguments)}function GF(e,t,n,i){return YF.apply(this,arguments)}function YF(){return(YF=(0,P._)((function(e,t,n,i){var r,o,a,s;return(0,L.Jh)(this,(function(c){switch(c.label){case 0:return r=t.getName(),o=function(e){var t=e.customs&&e.customs.getVerifySignatureRule?e.customs&&e.customs.getVerifySignatureRule:void 0,n="function"==typeof t?t():{},i=n.is_verify_signature,r=void 0===i||i,o=n.use_expired_tst,a=void 0===o||o,s=n.ignore_doc_info,c=void 0!==s&&s,u=n.time_type,l=void 0===u?0:u,A=n.verifyDocWhenOpened,d=void 0===A||A,h=n.untrustedAlterInfo;return{is_verify_signature:r,use_expired_tst:a,ignore_doc_info:c,time_type:l,verifyDocWhenOpened:d,untrustedAlterInfo:void 0!==h&&h}}(e),a=(0,z._)({},r,!!t.signatureInfo&&t.signatureInfo.isCertified),[4,BF(e)];case 1:return s=c.sent()||[],[2,(0,k._)((0,w._)({},o),{trustedCertificateList:s,isCertTrusted:n,isCertTrustedRoot:i,isCertifiedMap:a})]}}))}))).apply(this,arguments)}function $F(e,t){return JF.apply(this,arguments)}function JF(){return JF=(0,P._)((function(e,t){var n,i,r,o,a,s,c,u,l,A,d=arguments;return(0,L.Jh)(this,(function(h){switch(h.label){case 0:i=(n=d.length>2&&void 0!==d[2]?d[2]:{}).isCertTrusted,r=n.isCertTrustedRoot,o=t.getName(),a={},s={},h.label=1;case 1:return h.trys.push([1,5,,6]),[4,GF(e,t,i,r)];case 2:return c=h.sent(),[4,t.getDigitalSignatureInfo(c.trustedCertificateList,!1)];case 3:return s=h.sent(),[4,t.Verify(c)];case 4:return a=h.sent(),[3,6];case 5:return u=h.sent(),console.error(u),a={},s={},[3,6];case 6:return(l=a[o]?a[o]:{}).checkTime=Ye(new Date,"YYYY.MM.DD HH:mm:ssZ",{separator:"'",suffix:"'"}),A=(0,w._)({},t.signatureInfo,s,l),t.signatureInfo&&t.signatureInfo.status===gF.NotYetVerified&&(t.signatureInfo.status=gF.Verified,A.status=gF.Verified),[2,{name:o,signatureInfo:A}]}}))})),JF.apply(this,arguments)}Date.now(),Math.random();const qF=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";e.endsWith("/")||(e+="/"),t=t.replace(/(\w*?)-(\w*)/,(function(e,t,n){return t+"-"+n.toUpperCase()}));return function(n,i,r){var o;return o={},(0,z._)(o,r,{Approved:{url:"".concat(e,"stamps/").concat(t,"/DynamicStamps/Approved.pdf"),fileType:"pdf"},Revised:{url:"".concat(e,"stamps/").concat(t,"/DynamicStamps/Revised.pdf"),fileType:"pdf"},Reviewed:{url:"".concat(e,"stamps/").concat(t,"/DynamicStamps/Reviewed.pdf"),fileType:"pdf"},Received:{url:"".concat(e,"stamps/").concat(t,"/DynamicStamps/Received.pdf"),fileType:"pdf"},Confidential:{url:"".concat(e,"stamps/").concat(t,"/DynamicStamps/Confidential.pdf"),fileType:"pdf"}}),(0,z._)(o,i,{Accepted:{url:"".concat(e,"stamps/").concat(t,"/SignHere/Accepted.pdf"),fileType:"pdf"},Witness:{url:"".concat(e,"stamps/").concat(t,"/SignHere/Witness.pdf"),fileType:"pdf"},SignHere:{url:"".concat(e,"stamps/").concat(t,"/SignHere/SignHere.pdf"),fileType:"pdf"},Rejected:{url:"".concat(e,"stamps/").concat(t,"/SignHere/Rejected.pdf"),fileType:"pdf"},Initial:{url:"".concat(e,"stamps/").concat(t,"/SignHere/Initial.pdf"),fileType:"pdf"}}),(0,z._)(o,n,{Approved:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Approved.pdf"),fileType:"pdf"},Void:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Void.pdf"),fileType:"pdf"},Verified:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Verified.pdf"),fileType:"pdf"},Revised:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Revised.pdf"),fileType:"pdf"},Reviewed:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Reviewed.pdf"),fileType:"pdf"},Received:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Received.pdf"),fileType:"pdf"},Final:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Final.pdf"),fileType:"pdf"},Expired:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Expired.pdf"),fileType:"pdf"},Emergency:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Emergency.pdf"),fileType:"pdf"},Draft:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Draft.pdf"),fileType:"pdf"},Confidential:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Confidential.pdf"),fileType:"pdf"},Completed:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Completed.pdf"),fileType:"pdf"}}),o}.apply(undefined,(0,M._)(["Static","SignHere","Dynamic"]))};n(9867);var KF=window.MozWebSocket||window.WebSocket,ZF=function(){},XF=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location.origin;(0,C._)(this,e),(0,z._)(this,"websocketServer",void 0),(0,z._)(this,"apiServer",void 0),(0,z._)(this,"messageReceiver",void 0),(0,z._)(this,"closeEventListener",void 0),(0,z._)(this,"connectStatusDefer",void 0),(0,z._)(this,"socket",void 0),this.websocketServer=t,this.apiServer=n,this.messageReceiver=ZF,this.closeEventListener=ZF,this.websocketServer=t.trim(),this.apiServer=n.trim()}return(0,D._)(e,[{key:"isConnected",value:function(){if(this.socket){switch(this.socket.readyState){case KF.OPEN:return Promise.resolve(!0);case KF.CLOSED:case KF.CLOSING:return Promise.resolve(!1)}return this.connectStatusDefer.promise}return Promise.resolve(!1)}},{key:"connect",value:function(e){var t,n=this;if(this.socket)switch(this.socket.readyState){case KF.CLOSED:case KF.CLOSING:break;default:this.socket.onclose=null,this.socket.close()}return this.connectStatusDefer=(0,W.createDeferred)(),this.socket=new KF(Iv(this.websocketServer,"collab-ws/ws")+"?shareId="+e),this.socket.onmessage=function(e){"\n"!==e.data&&n.messageReceiver(e.data)},this.socket.onclose=function(){n.closeEventListener(),clearInterval(t)},this.socket.onopen=function(){t=setInterval((function(){n.socket.send("\t")}),1e4),n.connectStatusDefer.resolve(!0)},this.socket.onerror=function(){n.connectStatusDefer.resolve(!1)},this.connectStatusDefer.promise}},{key:"disconnect",value:function(){return this.socket.onclose=null,this.socket.close(),Promise.resolve(!0)}},{key:"createSession",value:function(e,t){var n=this;return(0,P._)((function(){var e,i,r,o;return(0,L.Jh)(this,(function(a){switch(a.label){case 0:return e=Iv(n.apiServer,"collab-ws","share"),i=new FormData,t.type!==NS.FROM_FILE?[3,2]:[4,t.file()];case 1:return o=a.sent(),(0,T._)(o,Blob)||(o=new Blob([o],{type:"application/pdf"})),i.append("file",o,t.options.fileName),r=JSON.stringify(t,(function(e,t){if("file"!==e)return t})),[3,3];case 2:r=JSON.stringify(t),a.label=3;case 3:return i.append("open-file-params",r),[2,fetch(e,{method:"POST",body:i}).then((function(e){return e.json()})).then((function(e){return e.shareId}))]}}))}))()}},{key:"getSessionInfo",value:function(e){return fetch(Iv(this.apiServer,"collab-ws/session/",e)).then((function(e){var t=e.headers.get("session-info");if("null"!==t&&t){var n,i=JSON.parse(decodeURIComponent(t)),r=i.openFileParams;if(r.type===NS.FROM_FILE)r.file=function(){return n||(n=e.blob()),n};return i}}))}},{key:"send",value:function(e,t){return this.socket&&this.socket.send(t),Promise.resolve()}},{key:"getLostData",value:function(e,t){var n=Iv(this.apiServer,"collab-ws","data",e,""+t);return fetch(n).then((function(e){return e.json()}))}},{key:"registerMessageReceiver",value:function(e){this.messageReceiver=e}},{key:"registerLostConnectionListener",value:function(e){this.closeEventListener=e}},{key:"destroy",value:function(){this.socket&&this.socket.close()}}]),e}(),QF=n(8272),eN=n.n(QF),tN=(n(7868),function(){function e(t){(0,C._)(this,e),this.title=t,this.step=0;var n=document.createElement("div");n.innerHTML=eN()({title:t}),this.element=n.firstElementChild,n.removeChild(this.element),this.totalElement=this.element.querySelector(".fv__ui-print-process-total"),this.currentElement=this.element.querySelector(".fv__ui-print-process-current"),this.progressElement=this.element.querySelector(".fv__ui-print-process-percent")}return(0,D._)(e,[{key:"reset",value:function(){this.updateProgress(0,0)}},{key:"show",value:function(){this.reset(),document.body.appendChild(this.element)}},{key:"updateProgress",value:function(e,t){var n=this.total;this.total=t,n!==t&&(this.totalElement.innerText=t),this.step=e,this.currentElement.innerText=e,this.progressElement.style.cssText+="\n            width: ".concat(e/t*100,"%;\n        ")}},{key:"close",value:function(){document.body.removeChild(this.element)}}]),e}()),nN=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;return(0,C._)(this,n),e=t.call(this),(0,z._)((0,x._)(e),"pageRender",void 0),(0,z._)((0,x._)(e),"shapeDom",void 0),(0,z._)((0,x._)(e),"calloutShape",new H_),(0,z._)((0,x._)(e),"startPoint",void 0),(0,z._)((0,x._)(e),"annotInfo",void 0),e.addDestroyHook((function(){e.calloutShape.hide(),e.startPoint=void 0})),e}return(0,D._)(n,[{key:"prepare",value:function(e){this.pageRender=e;var t=e.$handler.find(".fv__create-callout-canvas")[0];t?this.shapeDom=t:(this.shapeDom=document.createElement("canvas"),this.shapeDom.style.cssText+="position: absolute",this.shapeDom.classList.add("fv__create-callout-state-canvas"),e.$handler.append(this.shapeDom))}},{key:"start",value:function(e){this.startPoint=e}},{key:"update",value:function(e,t){var n;if(this.startPoint&&this.pageRender&&this.shapeDom){var i=this.pageRender,r=i.page,o=Z_.calcCalloutPosition((0,w._)({start:[this.startPoint.x,this.startPoint.y],end:[e.x,e.y],page:r,width:r.getMediaWidth(),height:r.getMediaHeight(),borderStyle:{style:0},endingStyle:0,scale:i.scale,rotate:i.rotate},t||{}));if(o&&!o.invalid){var a=(null===(n=o.calloutLinePoints)||void 0===n?void 0:n.map((function(e){var t=e.x,n=e.y;return r.getDevicePoint([t,n],i.scale,i.rotate)})))||[],s=r.getDeviceRect(o.rect,i.scale,i.rotate),c=r.getDeviceRect(o.innerRect,i.scale,i.rotate);(0,W.cssText)(this.shapeDom,{left:s.left+"px",top:s.top+"px"}),this.calloutShape.init(null,this.shapeDom),this.calloutShape.show(a,s,c),this.annotInfo=o}}}},{key:"complete",value:function(){var e=this,t=this.pageRender;if(!t)return Promise.reject(new Error("[CreateFreeTextCalloutService] not prepared!"));if(!this.annotInfo)return Promise.reject(new Error("[CreateFreeTextCalloutService] Cannot create callout before mouse moved!"));this.calloutShape.hide(),this.startPoint=void 0;var n=t.pdfViewer;return t.getPDFPage().then((function(i){var r=n.getAnnotDefaultProperty("freetext","FreeTextCallout"),o=16777215;void 0!==r.fillColor&&(o=r.fillColor);var a=Object.assign({},{type:"freetext",intent:"FreeTextCallout",subject:n.i18n.t("viewer_:annotSubjects.Callout"),"interior-color":o,rotation:((360-90*i.getRotation()-t.getRotation())%360+360)%360,flags:4},e.annotInfo,r);return i.addAnnot(a)})).then((function(e){var i,r=e[0],o=null===(i=t.annotsRender)||void 0===i?void 0:i.getAnnotRender(r.getId()).component;return n.eventEmitter.emit(se.addAnnotSuccess,o.annot),e}))}}]),n}(W.Disposable),iN=2,rN=10,oN=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;(0,C._)(this,n),i=t.call(this,e);var r=e.pdfViewer.store,o=i.modeName=i.constructor.getName();return i.multipage=r.getCurrentValue("multipage-"+o,iN),i.pageSpacing=r.getCurrentValue("pageSpacing-"+o,rN),i.isJump=!1,i.isCurrentViewMode=!0,i.lastCurrentPageIndex=0,i}return(0,D._)(n,[{key:"getJQItems",value:function(){return j()((0,E._)((0,S._)(n.prototype),"getItems",this).call(this))}},{key:"into",value:function(e,t){this.isCurrentViewMode=!0,(0,E._)((0,S._)(n.prototype),"into",this).call(this,e,t);for(var i=this.modeName,r="",o=1;o<=this.multipage;o++)r=o%2==0?(r=r+"."+i+" .fv__pdf-view-mode-item:nth-of-type("+this.multipage+"n +"+o+") {justify-self: start;}")+".facing-cover-continuous-view-mode."+i+" .fv__pdf-view-mode-item:nth-of-type("+this.multipage+"n +"+o+") {justify-self: end;}":(r=r+i+" .fv__pdf-view-mode-item:nth-of-type("+this.multipage+"n +"+o+") {justify-self: end;}")+".facing-cover-continuous-view-mode."+i+" .fv__pdf-view-mode-item:nth-of-type("+this.multipage+"n +"+o+") {justify-self: start;}",o%this.multipage==0&&(r=r+".facing-cover-continuous-view-mode."+i+" .fv__pdf-view-mode-item:nth-of-type("+this.multipage+"n +"+o+") {justify-self: end;}");var a=["<style>","."+i+" {","margin: 0 auto;","width: min-content;","display: grid;","grid-template-columns: repeat("+this.multipage+", 1fr);","justify-items: end;","}","."+i+".facing-cover-continuous-view-mode::before {",'content: "";',"width: calc("+100/this.multipage+"%);","}","."+i+"::after {",'content: "";',"width: -webkit-fill-available;","}","."+i+" .fv__pdf-view-mode-item {","display: -webkit-box;","display: -ms-flexbox;","display: -webkit-flex;","display: flex;","-ms-flex-pack: center;","-ms-flex-align: center;","-ms-justify-content: flex-end;","-webkit-justify-content: flex-end;","justify-content: flex-end;","align-items: center;","margin-left: 0;","}",r,"."+i+" .fv__pdf-view-mode-item {","margin-right: "+this.pageSpacing+"px;","}","."+i+" .fv__pdf-page-layout{","width: 100%;","}","</style>"].join("");this.$style=j()(a),this.docRender.$container.after(this.$style),this.docRender.$container.addClass(i)}},{key:"bindScrollEvent",value:function(){var e=this;if(this._unwatchScrollEvent&&this._unwatchScrollEvent(),this.docRender){var t=this.docRender.viewerRender.scrollWrap,n=!1,i=t.addScrollEventListener((function(){clearTimeout(e.scrollEventTimer),e.scrollEventTimer=setTimeout((function(){if(!n){var t=e.docRender;if(t){e.isJump=!1;var i=t.pagesRender;i&&i.renderVisiblePages().then((function(){t.isGoto?setTimeout((function(){e.isCurrentViewMode&&(t.isGoto=!1)}),40):t.setCurrentPageIndex(e.getCurrentPageIndex())}),(function(){}))}}}),100)}));this._unwatchScrollEvent=function(){n=!0,e._unwatchScrollEvent=function(){},i()}}}},{key:"out",value:function(){this.isCurrentViewMode=!1,this.docRender.$container.removeClass(this.modeName),this.docRender.pagesRender.$ui.removeAttr("style"),this.$style&&this.$style.remove(),this._unwatchScrollEvent&&this._unwatchScrollEvent(),this.getJQItems().css({width:"",height:""});var e=this.docRender.pagesRender.pageRenders;for(var t in e){e[t].$ui[0].style.maxWidth=null}(0,E._)((0,S._)(n.prototype),"out",this).call(this)}},{key:"renderViewMode",value:function(e,t,n,i,r){if(this.docRender){var o=this.getMaxPageWidth(),a=this.multipage,s=(a-1)*this.pageSpacing;this.docRender.pagesRender.$ui.css({width:o*a*t+s})}}},{key:"fixMargin",value:function(e,t){var n=this.multipage,i=(n-1)*this.pageSpacing;this.docRender.pagesRender.$ui.css({width:e*n+i})}},{key:"getPagesLayout",value:function(){for(var e=this.docRender.doc.pageCache,t=e.length,n=this.multipage,i=Math.ceil(t/n),r=Array(n).fill(0),o=Array(i).fill(0),a=0;a<n;a++)for(var s=a;s<t;s+=n)r[a]=Math.max(r[a],e[s].getPxWidth());for(var c=0;c<i;c++)for(var u=0;u<n;u++)e[c*n+u]&&(o[c]=Math.max(o[c],e[c*n+u].getPxHeight()));var l=[];return e.forEach((function(e,t){l.push({width:r[t%n],height:o[Math.floor(t/3)]})})),l}},{key:"getMaxPageWidth",value:function(){var e,t=0,n=this.docRender.doc.getPageSizesSync(),i=this.docRender.getRotation();for(var r in e=90===i||270===i?"height":"width",n){var o=4*n[r][e]/3;o>t&&(t=o)}return t}},{key:"getFitHeight",value:function(e){var t=this.docRender.viewerRender.scrollWrap;return t.getHeight()-t.getScrollOffsetTop()}},{key:"getFitWidth",value:function(e){var t=this.getMaxPageWidth(),n=this.docRender.viewerRender.scrollWrap,i=this.multipage,r=(n.getWidth()-8-i*this.pageSpacing)/i,o=this.docRender.doc.getPageSize(e);o||(o=this.docRender.doc.getPageSize(0));var a=this.docRender.getRotation();return r*(o?90===a||270===a?o.height:o.width:90===a||270===a?this.getFitHeight(e):r)*4/(3*t)}},{key:"jumpToPage",value:function(e,t){var n=this,i=t.x,r=void 0===i?0:i,o=t.y,a=void 0===o?0:o;this.isJump=!0;var s=this.getJQItems();e>=s.length?e=s.length-1:e<0&&(e=0);var c=s.eq(e),u=this.docRender.viewerRender.scrollWrap.getOffsetOfPageElement(c[0]),l=u.left+r,A=u.top+a;this._unwatchScrollEvent&&this._unwatchScrollEvent(),this.docRender.viewerRender.scrollWrap.scrollTo(l,A),this.currentJumpPageIndex=e,this.docRender.setCurrentPageIndex(e),setTimeout((function(){n.isCurrentViewMode&&n.bindScrollEvent()}))}},{key:"getCurrentPageIndex",value:function(){if(this.isJump)return this.currentJumpPageIndex;if(this.docRender){for(var e,t=this.getJQItems(),n=this.docRender.viewerRender.scrollWrap,i=n.getScrollTop(),r=i+n.getHeight(),o=n.getScrollLeft(),a=o+n.getWidth(),s=[],c=0;c<t.length;c++){var u=t[c],l=j()(u).width(),A=j()(u).height(),d=u.offsetTop,h=d+A,f=u.offsetLeft,p=f+l,v=void 0;if(d<=i&&h>i&&h<=r?v=h-i:d>=i&&h<=r?v=A:d<=i&&h>=r?v=r-i:d>=i&&d<r&&h>=r&&(v=r-d),v){var g=void 0;f<=o&&p>o&&p<a?(g=p-o,s.push({index:c,area:v*g})):f>=o&&p<a?(g=l,s.push({index:c,area:v*g})):f<=o&&p>a?(g=a-o,s.push({index:c,area:v*g})):f>=o&&f<a&&p>a&&(g=a-f,s.push({index:c,area:v*g}))}}for(var m=0,y=0;y<s.length;y++)s[y].area>m&&(m=s[y].area,e=s[y].index);return void 0!==e&&(this.lastCurrentPageIndex=e),this.lastCurrentPageIndex}}},{key:"getNextPageIndex",value:function(){var e=this.docRender.doc.getPageCount(),t=this.getCurrentPageIndex();if(t<e-1){var n=this.docRender.viewerRender.scrollWrap,i=this.docRender.pagesRender.$ui.width(),r=n.getWidth()-16,o=this.multipage;if(r>=i)t=Math.ceil((t+1)/o)*o;else t++}return t>e-1&&(t=e-1),t}},{key:"getPrevPageIndex",value:function(){var e=this.getCurrentPageIndex();if(e>0){var t=this.docRender.viewerRender.scrollWrap,n=this.docRender.pagesRender.$ui.width(),i=t.getWidth()-16,r=this.multipage;if(i>=n)e=(Math.ceil((e+1)/r)-2)*r;else e--}return e<0&&(e=0),e}}],[{key:"getName",value:function(){return"multipage-view-mode"}},{key:"setMultipage",value:function(e){iN=e}},{key:"getMultipage",value:function(){return iN}},{key:"setPageSpacing",value:function(e){rN=e}},{key:"getPageSpacing",value:function(){return rN}}]),n}(fh);var aN=function(e){if("undefined"==typeof window||!window.document)return function(){throw new Error(e+".js requires a window with a document")};var t={add:function(e,n,i,r){t._eventFun=function(e){i&&i.call(r,e)},e.addEventListener(n,t._eventFun,!1)},remove:function(e,n){e.removeEventListener(n,t._eventFun,!1),t._eventFun=void 0}};Node.prototype.parents=function(e){var t=this.parentNode;return this.classList.contains(e)||"BODY"===t.nodeName?this:t.parents(e)},Node.prototype.hasChildren=function(e){for(var t=e;t;){if(this===t)return!0;t=t.parentNode}return!1};var n,i=function(e,t){if(e){var n={};if(e.dataset)n=e.dataset;else for(var i=0;i<e.attributes.length;i++){var r=e.attributes[i];if(0===r.name.indexOf("data-")){var o=r.name.replace("data-",""),a=r.value;n[o]=a}}for(var o in t){a=t[o];e.dataset?e.dataset[o]=a:e.setAttribute("data-"+o,a)}return n}};function r(t,n){var i=this;if(this.options=Object.assign({draggable:"",dragClass:e+"-drag",chosenClass:e+"-chosen",treeItemIconClass:"tree-item-icon",dragOverStrict:!0,endStrict:!0,inventedNode:null,onStart:"",onBeforeHover:"",onHover:"",onEnd:"",allowDrag:!0,excludeDraggable:"",enabled:!0,checkIsMoveToRight:function(){return!i.options.dragOverStrict&&i.end.classList.contains(i.options.treeItemIconClass)}},n),!t)throw new Error("el must be a dom node: "+t);if(!this.options.draggable)throw new Error("draggable class cannot be a empty string: "+this.options.draggable);this.options.enabled&&(this.el=t,this._bindEvent(),this._appendStyle(),this._cache={overData:[],doms:[]})}return"function"!=typeof Object.assign&&(Object.prototype.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}),r.prototype=(n={_addClass:function(e,t,n){n&&this._removeClass(t,e),e.classList.add(t)},_removeClass:function(e,t){var n=this;(e=(0,T._)(e,Array)?e:[e]).forEach((function(e){for(var i=n.el.querySelectorAll("."+e),r=0;r<i.length;r++){var o=i[r];t&&o===t||o.classList.remove(e)}}))},_initDragEvent:function(e){if(e){var t=this;e.draggable=this.options.allowDrag&&this._isEnabled(e),e.ondragstart=function(n){t._isEnabled(e)?t._onDragstart.call(t,n.target):n.preventDefault()},e.ondragover=function(n){if(e.draggable){var r=n.currentTarget;if(!1!==(t.options.onBeforeHover&&t.options.onBeforeHover({dom:r,attrs:Object.assign(i(r),{text:r.innerText.trim()})}))){var o={mouseX:df(n),mouseY:hf(n)};n.preventDefault(),t.options.enabled&&t._onDragover.call(t,n.target,o)}}},e.ondragenter=function(n){if(e.draggable){var r=n.currentTarget;if(!1!==(t.options.onBeforeHover&&t.options.onBeforeHover({dom:r,attrs:Object.assign(i(r),{text:r.innerText.trim()})}))){n.stopPropagation();var o={mouseX:df(n),mouseY:hf(n)};t.options.enabled&&t._onDragenter.call(t,n.target,o)}}},e.ondragleave=function(n){if(e.draggable){var i={mouseX:df(n),mouseY:hf(n)};t.options.enabled&&t._onDragleave.call(t,n.target,i)}},e.ondragend=function(n){if(e.draggable){var i={mouseX:df(n),mouseY:hf(n)};t.options.enabled&&t._onDragend.call(t,n.target,i)}},e.ondrop=function(n){e.draggable&&(n.stopPropagation(),n.preventDefault(),t.options.enabled&&t._onDrop.call(t,{target:n.target,files:n.dataTransfer.files,altKey:n.altKey,ctrlKey:n.ctrlKey,mouseX:df(n),mouseY:hf(n)}))}}},_getDragImage:function(){var e=document.createElement("img");return e.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",e.width=0,e.height=0,e.opacity=0,e},_setInventedNode:function(){var e=this.options.draggable;if(this._inventedNodeClassName="_"+e,!this.el.querySelector("."+this._inventedNodeClassName)){var t=this.options.inventedNode;if(!1!==t)if(t)t.classList.add(e),t.classList.add(this._inventedNodeClassName),this._initDragEvent(t),this.el.insertBefore(t,this.el.lastChild.nextSibling);else{t=document.createElement("div");var n=this.el.querySelectorAll("."+e)[0].getBoundingClientRect();t.style.position="fixed",t.style.width=n.width+"px",t.style.height=parseInt(n.height/2)+"px",t.style.top=n.top+"px",t.style.left=n.left+"px",t.style.transform="rotateZ(180deg)",t.style.borderWidth="1px",t.style.overflow="hidden",t.style.backgroundColor="rgba(0, 0, 0, 0)",t.style.zIndex="999",i(t,{id:"-1"}),t.classList.add(e),t.classList.add(this._inventedNodeClassName),this._initDragEvent(t),this.el.insertBefore(t,this.el.childNodes[0])}}},_removeInventedNode:function(){var e=this.el.querySelector("."+this._inventedNodeClassName);e&&(e.remove?e.remove():e.removeNode(!0))},_isTopest:function(e){var t=this.el.getBoundingClientRect();return e.clientY-t.y<12},destroy:function(){t.remove(this.el,"pointerdown")},_bindEvent:function(){var e=this;t.add(this.el,"pointerdown",this.setDraggable,this);var n=function(t){var n,i;if((0,T._)(t,TouchEvent)){var r=t.changedTouches||t.touches;if(1!==r.length)return;var o=r[0];n=o.clientX,i=o.clientY}else"clientX"in t&&(n=t.clientX,i=t.clientY);return document.elementFromPoint(n,i).closest("."+e.options.draggable)};if(W.isTouchDevice&&!W.isChromebook){var r,o,a=!1,s=function(t){if(e.options.enabled){var i=n(t);if(i){r=i,o=null,a=!0,document.addEventListener("pointerup",(function(t){a=!1,e.end=o,e._onDragend()}),{once:!0,capture:!0});var s={mouseX:df(t),mouseY:hf(t)};e._onDragstart.call(e,i,s),t.preventDefault()}}},c=function(t){if(a){t.preventDefault();var s={mouseX:df(t),mouseY:hf(t)},c=n(t);if(!c)return o=c,void(e.options.onHover&&e.options.onHover({dom:c,info:s}));c!==r&&(o!==c&&(c&&(e._onDragenter.call(e,c,s),setTimeout((function(){e.end=c,e.setBlwAndBrw(c),e._addClass(c,e.options.chosenClass);var t=Object.assign(i(c),{text:c.innerText.trim()});e.options.onHover&&c!==e.from&&e.options.onHover({dom:c,attrs:t,info:s})}))),o&&e._onDragleave.call(e,o,s)),c&&c.ondragover(t)),o=c}else o=void 0};this.el.addEventListener("pointerdown",s,{capture:!0,passive:!1}),this.el.addEventListener("touchmove",c,{capture:!0,passive:!1}),this.unbindEventOnDocument=function(){e.el.removeEventListener("pointerdown",s,{capture:!0,passive:!1}),e.el.removeEventListener("mousemove",c,{capture:!0,passive:!1})}}},_appendStyle:function(){this._style=document.createElement("style"),document.head.appendChild(this._style)},setDraggable:function(e){var t;this.options.draggable.trim()&&(t=this.el.querySelectorAll("."+this.options.draggable)),t&&0!==t.length||(t=this.el.children);for(var n=0;n<t.length;n++){var i=t[n];this._initDragEvent(i)}if(this._cache.doms=t,this.options.excludeDraggable){var r=this.el.querySelectorAll("."+this.options.excludeDraggable)||[];for(n=0;n<r.length;n++){(i=r[n]).draggable=!1}}},_onDragstart:function(e,t){var n=this;setTimeout((function(){n._setInventedNode()}),0),this._addClass(e,this.options.dragClass,!0),this.end=null,this.from=e;var r=e.parents(this.options.draggable);this.fromAttrs=Object.assign(i(r),{text:r.innerText.trim()}),this.options.onStart&&this.options.onStart({dom:this.from,attrs:this.fromAttrs,info:t})},_onDragover:function(e,t){var n=this._getTarget(e);if(this.end=n,this.setBlwAndBrw(e,t),this._addClass(n,this.options.chosenClass),-1===this._cache.overData.indexOf(n)&&(this._cache.overData=[]),this._cache.overData.push(n),20===this._cache.overData.length){var r=Object.assign(i(n),{text:n.innerText.trim()});this.options.onHover&&n!==this.from&&this.options.onHover({dom:n,attrs:r})}},_onDragenter:function(e,t){var n=this._getTarget(e);this.end=n,this._addClass(n,this.options.chosenClass,!0),this.setBlwAndBrw(e,t)},_getTarget:function(e){var t=this.options.dragOverStrict?e.parents(this.options.draggable):e;return"#text"===t.nodeName&&(t=t.parentNode),t},setBlwAndBrw:function(e,t){var n=this.options.checkIsMoveToRight(e,t);n?(this.end.style.setProperty("--blw","0"),this.end.style.setProperty("--brw","2px")):(this.end.style.setProperty("--blw","2px"),this.end.style.setProperty("--brw","0")),this.isMoveToRight=n},_onDragleave:function(e){this._removeClass(this.options.chosenClass),this.end=null,this._cache.overData=[],this.options.onHover&&this.options.onHover({dom:null})},_onDrop:function(e){var t=e.target,n=e.files,r=e.altKey,o=e.ctrlKey,a=this.end,s=a&&a.parents(this.options.draggable),c=s&&Object.assign(i(s),{text:s.innerText.trim()}),u=this.isMoveToRight;this.options.onDrop&&this.options.onDrop({endAttrs:c,dragFiles:n,isMoveToRight:u,target:t}),t.querySelector("."+this.options.chosenClass)||(this.end.altKey=r,this.end.ctrlKey=o)},_onDragend:function(){this._cache.overData=[],this._removeClass([this.options.chosenClass]),this._removeInventedNode();var e=this.end,t=e&&e.parents(this.options.draggable),n=t&&Object.assign(i(t),{text:t.innerText.trim()});t===this.from&&this.options.endStrict||this.options.onEnd&&this.options.onEnd({from:this.from,fromAttrs:this.fromAttrs,end:e,endAttrs:n,isMoveToRight:this.isMoveToRight})},destory:function(){t.remove(this.el,"pointerdown"),document.head.removeChild(this._style),this._cache.doms.forEach((function(e){e.removeAttribute("draggable"),e.ondragstart=null,e.ondragover=null,e.ondragenter=null,e.ondragleave=null,e.ondragend=null,e.ondrop=null})),this._cache=null}},(0,z._)(n,"destroy",(function(){this.options.enabled&&this.destory()})),(0,z._)(n,"_isEnabled",(function(e){return this.options.enabled&&(!e||!("true"===e.getAttribute("disabled-drag")))})),n),r.create=function(e,t){return new r(e,t)},r.version="1.0.0",r}("Draggable");const sN=aN;const cN={cipherNone:0,cipherRC4:1,cipherAES:2},uN=$e.ZoomMode,lN={ThreadAction:nD,ResetFormAction:KC,URIAction:qm,JavaScriptAction:YC,HideAction:QC,GoToAction:Jm,SubmitFormAction:JC,LaunchAction:HC,ImportDataAction:XC,NamedAction:WC,SetOCGStateAction:iD,RemoteGotoAction:eD,ActionFactory:oD,ZoomMode:uN};var AN=function(){function e(t,n,i){(0,C._)(this,e),this.doc=t,this.field=n,this.info=i,this.changes={}}return(0,D._)(e,[{key:"getExportValue",value:function(){return this.info.exportValue}},{key:"setExportValue",value:function(e){this.info.exportValue=e}},{key:"updateProperty",value:function(e,t){return this.changes[e]=t,this.info&&-1==this.info.objectNumber||!this.doc?Promise.resolve():this.doc.api.updateFormControl(this.doc.id,this.field.getName(),this.info.objectNumber,e,t)}},{key:"getProperty",value:function(e){return this.changes[e]}},{key:"destroy",value:function(){this.doc=null,this.info=null}},{key:"isEmpty",value:function(){return this.changes==={}}},{key:"setWidget",value:function(e){this.widget=e}},{key:"getWidget",value:function(){return this.widget}},{key:"getWidgetAnnot",value:function(){var e=this;return this.widget?Promise.resolve(this.widget):this.doc.api.getControlPageIndex(this.doc.id,this.field.getName(),this.info.objectNumber).then((function(t){if(t>=0)return e.doc.getPageAnnots(t)})).then((function(t){return e.widget?e.widget:t?e.widget=t.find((function(t){return t.info.objectNumber==e.info.objectNumber})):void 0}))}},{key:"getIndex",value:function(){return this.info.index}},{key:"getField",value:function(){return this.field}},{key:"getDefaultAppearance",value:function(){var e=this.info&&this.info.DA;if(e&&Object.keys(e).length>0)return e=Object.assign({},this.info.DA);var t=this.getField();return Object.assign({},t.info&&t.info.DA)}},{key:"setDefaultAppearance",value:function(e){var t=this;if(!this.doc.checkPermission(Qt.fillForm|Qt.annotForm))throw new Error("Permission error");var n=(e=Object.assign({},this.info.DA,e)).textColor,i=e.textSize;if("number"!=typeof n||"number"!=typeof i)throw new Error("param error. Only number is available.");n=(4278190080|n)>>>0,e.textColor=n,e.textSize=i;(0,W.colorConvertor)(n,"RGB");var r=JSON.stringify(e);return this.doc.api.updateFormControl(this.doc.id,this.field.getName(),this.info.objectNumber,"DA",r).then((function(){t.info.DA=e;var n=t.widget;if(n)return n.updateMKProperty("DA",e).then((function(i){var r=n.getPDFPage();t.widget.info.DA=e,t.doc.engine.eventEmitter.emit(se.annotationUpdated,[n],r,en.defaultAppearanceUpdated),n.updateUI({type:"DA",value:e})}))}))}}]),e}();const dN=AN;var hN=function(){function e(t,n,i){(0,C._)(this,e),this.doc=t,this.form=n,this.info=i,this.controls=[],this.updateControls(this.info.controls)}return(0,D._)(e,[{key:"destroy",value:function(){this.destroyed=!0,this.doc=null,this.form=null,this.controls.forEach((function(e){return e.destroy()})),this.controls=[],this.info=null}},{key:"getWidget",value:function(e){var t;return null===(t=this.controls[e])||void 0===t?void 0:t.getWidget()}},{key:"getLoadedWidgets",value:function(){return this.controls.map((function(e){return e.getWidget()})).filter((function(e){return e}))}},{key:"getIndex",value:function(){return this.info.index}},{key:"updateWidgetsUI",value:function(e,t,n,i,r){var o=this,a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!this.doc)return Promise.resolve();-1!==["value","comb","multiline","choiceMultiSelect","comboEdit","maxLength","hidden","password","readonly","required","noScroll","clearItems","deleteItems","setItems","icon","insertItemAt"].indexOf(n)&&this.doc.engine.eventEmitter.emit(ae.Z.formValueChanged);var s=[];return this.controls.forEach((function(e){var t,c=e.getWidget();c?(t=r?o.form.addTask((function(e){return r(c).then((function(e){return c.updateUI({type:n,value:i})}))}),a):o.form.addTask((function(e){return c.updateUI({type:n,value:i})}),a),s.push(t)):s.push(o.form.addTask((function(t){return e.updateProperty(n,i).then((function(t){return e.info&&e.info.objectNumber>0&&e.getWidgetAnnot().then((function(e){if(e&&r)return r(e)}))}))}),a))})),Promise.all(s).then((function(e){return!0}))}},{key:"getControlById",value:function(e){for(var t=0;t<this.controls.length;t++){var n=this.controls[t];if(n.info.objectNumber==e)return n}}},{key:"getPDFForm",value:function(){return this.form}},{key:"getName",value:function(){return this.info.name}},{key:"getAlternateName",value:function(){return this.info.alternateName}},{key:"setAlternateName",value:function(e){var t=this;this.form.checkFillPerm(),this.info.alternateName=e,this.update("alternateName",e).then((function(e){t.triggerUpdateEvent(en.formFieldAlternateName)}))}},{key:"getMappingName",value:function(){return this.info.mappingName}},{key:"setMappingName",value:function(e){var t=this;this.form.checkFillPerm(),this.getType()!==pn.Sign&&(this.info.mappingName=e,this.update("mappingName",e).then((function(e){t.triggerUpdateEvent(en.formFieldMappingName)})))}},{key:"getType",value:function(){return this.info.type}},{key:"getFlags",value:function(){return this.info.flag}},{key:"setFlags",value:function(e){var t=this,n=function(e){var n=void 0,o=void 0,u=function(){return Promise.resolve()};c&&a[e]==s?(n="value",o=t.getValue()):(n=_[a[e]],o=r[a[e]]),"hidden"==n&&(u=function(e){var t=e.info.flag;return o?(t&=-2,t&=-33,t|=6):(t&=-2,t&=-3,t&=-33,t|=4),e.setFlagValue(t)}),t.controls.forEach((function(e){var t,r=e.getWidget();r?(t=u(r).then((function(e){return r.updateUI({type:n,value:o})})),y.push(t)):y.push(i.form.addTask((function(t){return e.updateProperty(n,o)})))}))},i=this;this.form.checkFillPerm();var r={};Object.entries(vn).forEach((function(t){"number"==typeof t[1]&&(e&vn[t[0]])>0?r[t[0]]=!0:r[t[0]]=!1}));var o=Promise.resolve(),a=Object.keys(r),s="ButtonRadiosInUnison",c=this.getType()==pn.RadioButton,u=this.info.flag,l=!0,A=!1,d=void 0;try{for(var h,f=Object.entries(r)[Symbol.iterator]();!(l=(h=f.next()).done);l=!0){var p=(0,R._)(h.value,2),v=p[0],g=p[1];"Hidden"!==v&&(g?u|=vn[v]:u&=~vn[v])}}catch(e){A=!0,d=e}finally{try{l||null==f.return||f.return()}finally{if(A)throw d}}this.info.flag=u;var m=(0,M._)(Object.keys(vn)).filter((function(e){return["NoExport","CommitOnSelChange"].every((function(t){return t!==e}))}));(0,M._)(a).filter((function(e){return-1!==m.indexOf(e)})).length&&this.doc.engine.eventEmitter.emit(ae.Z.formValueChanged);for(var y=[],_={ReadOnly:"readonly",Required:"required",Hidden:"hidden",TextMultiline:"multiline",TextPassword:"password",TextDoNotSpellCheck:"noSpellCheck",TextDoNotScroll:"noScroll",TextComb:"comb",ComboEdit:"comboEdit",ChoiceMultiSelect:"choiceMultiSelect"},b=0;b<a.length;b++)n(b);o.then((function(e){var t=[];return i.controls.forEach((function(e){e.getWidget()&&t.push(i.update("flag",i.info.flag))})),Promise.all(t)})).then((function(e){return i.triggerUpdateEvent(en.flagsUpdated),Promise.all(y).then((function(e){return!0}))}))}},{key:"setComb",value:function(e){var t=this;this.form.checkFillPerm(),this.info.flag=e?this.info.flag|vn.TextComb:this.info.flag&~vn.TextComb,this.updateWidgetsUI(this.form,this.info.name,"comb",e),this.update("flag",this.info.flag).then((function(){t.triggerUpdateEvent(en.flagsUpdated)}))}},{key:"setMultiline",value:function(e){var t=this;this.form.checkFillPerm(),this.info.flag=e?this.info.flag|vn.TextMultiline:this.info.flag&~vn.TextMultiline,this.updateWidgetsUI(this.form,this.info.name,"multiline",e),this.update("flag",this.info.flag).then((function(){t.triggerUpdateEvent(en.flagsUpdated)}))}},{key:"setChoiceMultiSelect",value:function(e){var t=this;this.form.checkFillPerm(),this.info.flag=e?this.info.flag|vn.ChoiceMultiSelect:this.info.flag&~vn.ChoiceMultiSelect,this.updateWidgetsUI(this.form,this.info.name,"choiceMultiSelect",e),this.update("flag",this.info.flag).then((function(){t.triggerUpdateEvent(en.flagsUpdated)}))}},{key:"setComboEdit",value:function(e){var t=this;this.form.checkFillPerm(),this.info.flag=e?this.info.flag|vn.ComboEdit:this.info.flag&~vn.ComboEdit,this.updateWidgetsUI(this.form,this.info.name,"comboEdit",e),this.update("flag",this.info.flag).then((function(){t.triggerUpdateEvent(en.flagsUpdated)}))}},{key:"update",value:function(e,t){var n=this;return this.form.addTask((function(i){return n.doc.api.updateField(n.doc.id,n.info.name,e,t)}))}},{key:"getValue",value:function(){return this.info&&String(this.info.value).length>0?this.info.value:""}},{key:"getValueIndex",value:function(){if(!this.info)return-1;for(var e=this.info.options,t=0;t<e.length;t++)if(e[t].value==this.info.value)return t;return-1}},{key:"getDefaultValue",value:function(){return this.info?this.info.defaultValue:""}},{key:"setDefaultValue",value:function(e){var t=this;this.form.checkFillPerm(),this.update("defaultValue",e);var n=this.getType();return(n==pn.RadioButton||n==pn.CheckBox)&&this.info.controls.forEach((function(n){var i=t.getControlById(n.objectNumber),r=i.widget&&i.widget.getOnAS();n.isDefaultChecked=r===e,n.isDefaultChecked=r===e})),this.info.defaultValue=e}},{key:"getAlignment",value:function(){return this.info.alignment}},{key:"setAlignment",value:function(e){var t,n=this;if(this.form.checkFillPerm(),1===this.getType())return Promise.resolve();switch(+e){case 0:t="left";break;case 1:t="center";break;case 2:t="right";break;default:throw new Error("Unknown alignment: "+e)}return this.updateWidgetsUI(this.form,this.info.name,"align",t,(function(t){return t.updateMKProperty("alignment",+e)})).then((function(t){return n.update("align",e),n.info.alignment=e}))}},{key:"setAlignmentWithString",value:function(e,t){return this.form.checkFillPerm(),this.updateWidgetsUI(this.form,this.info.name,"align",t||e),this.update("align",e),this.info.alignment=e}},{key:"getBorderStyle",value:function(){var e=this.controls[0].getWidget(),t=0;switch(e&&(t=e.getBorderStyle()),t){case 0:return"solid";case 1:return"dashed";case 2:return"underline";case 3:return"beveled";case 4:return"inset"}}},{key:"getRotation",value:function(){var e=this.controls[0].getWidget(),t=0;return e&&(t=e.getRotation()),-90*t}},{key:"setBorderStyle",value:function(e){var t,n;switch(this.form.checkFillPerm(),e){case"solid":n=0;break;case"dashed":n=1,t=[3,3];break;case"underline":n=2;break;case"beveled":n=3,e="outset";break;case"inset":n=4;break;default:return}return this.setBorderStyleWithParam(n,e,t)}},{key:"setBorderStyleWithParam",value:function(e,t,n){return this.updateWidgetsUI(this.form,this.info.name,"borderStyle",t,(function(t){return t.setBorderStyle(e,n)}))}},{key:"setBorderWidth",value:function(e){var t,n=this;switch(this.form.checkFillPerm(),e){case"thin":t=1;break;case"medium":t=2;break;case"thick":t=3;break;default:return}return this.updateWidgetsUI(this.form,this.info.name,"borderWidth",e,(function(e){var i=e.setBorderWidth(t);return n.form.engine.eventEmitter.emit(ae.Z.annotationUpdated,[e],e.getPDFPage(),en.borderWidthUpdated),i}))}},{key:"setBorderColor",value:function(e){var t=this;return this.form.checkFillPerm(),e=0===e?0:(0,W.colorConvertor)(e,"int"),this.form.addTask((function(n){return t.updateWidgetsUI(t.form,t.info.name,"borderColor",e,(function(n){var i=n.setMKProperty("borderColor",e);return t.form.engine.eventEmitter.emit(ae.Z.annotationUpdated,[n],n.getPDFPage(),en.borderColorUpdated),i}))}))}},{key:"getBorderColor",value:function(){var e=this.controls[0].getWidget();return e?e.getMKProperty("borderColor"):0}},{key:"setFillColor",value:function(e){var t=this;return this.form.checkFillPerm(),e=0===e?e:(0,W.colorConvertor)(e,"int"),this.form.addTask((function(n){return t.updateWidgetsUI(t.form,t.info.name,"fillColor",e,(function(n){var i=n.setMKProperty("fillColor",e);return t.form.engine.eventEmitter.emit(ae.Z.annotationUpdated,[n],n.getPDFPage(),en.fillColorUpdated),i}))}))}},{key:"getFillColor",value:function(){var e=this.controls[0].getWidget();return e?e.getMKProperty("fillColor"):0}},{key:"getOptions",value:function(){return this.info.options||[]}},{key:"getMaxLength",value:function(){return this.info.maxLength}},{key:"setMaxLength",value:function(e){var t=this;return this.form.checkFillPerm(),this.getType()!==pn.Text?0:(this.info.maxLength=e,this.form.addTask((function(n){return t.triggerUpdateEvent(en.formFieldsMaxLengthUpdated),t.updateWidgetsUI(t.form,t.info.name,"maxLength",e)})),this.update("maxLength",e),e)}},{key:"setValueWithoutAction",value:function(e){this.info&&((0,T._)(e,Array)?this.info.value=e:this.info.value=""+e)}},{key:"syncValue",value:function(e){var t=this;if(!this.info)return Promise.resolve();this.info.value=e;var n=this.info.name;return this.doc.api.setFieldValue(this.doc.id,n,e).then((function(i){var r=t.controls.map((function(e){return e.getWidget()}));return t.triggerUpdateEvent(en.formFieldValueUpdated,"value",r),t.updateWidgetsUI(t.form,n,"value",e)}))}},{key:"setValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.setValueEx(e,t)}},{key:"setValueEx",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e=i?i.info.objectNumber:this.controls[0].info.objectNumber,!this.doc.checkPermission(Qt.fillForm|Qt.annotForm))throw new Error("Permission error");var a=this.getType();if(7===a||1===a)return Promise.resolve();var s=this.getValue();if(a!==pn.RadioButton&&s===n&&!o)return Promise.resolve();var c=a==pn.RadioButton||a==pn.CheckBox,u=a==pn.ListBox,l=a==pn.ComboBox;if(c){var A=!1;this.info.controls.forEach((function(e){if(e.exportValue==n)e.isChecked=!0,A=!0;else{var i=t.getControlById(e.objectNumber),r=i.widget&&i.widget.info.ApStates;r&&r.indexOf(n)>-1&&(A=!0),e.isChecked=!1}})),A||(n="Off")}var d=this.getOptions();if(u&&r){if(Array.isArray(n)){for(var h=function(e){if(!d.find((function(t){return t.value===n[e]})))return f=!1,"break"},f=!0,p=n.length;p--;){if("break"===h(p))break}f||(n="")}else d.find((function(e){return e.value===n}))||(n="");d.forEach((function(e){(Array.isArray(n)?n.indexOf(e.value)>-1:e.value==n)?e.selected=!0:e.selected=!1}))}else l&&d.forEach((function(e){(Array.isArray(n)?n.indexOf(e.value)>-1:e.value==n)?e.selected=!0:e.selected=!1}));if(Array.isArray(n)||(n=""+n),this.info.value==n&&!c&&!o)return Promise.resolve(n);this.info.value=n;var v=this.info.name,g=[];return a==pn.RadioButton&&this.controls.forEach((function(e){var t=e.getWidget();t&&g.push(t.getAS())})),this.doc.api.setFieldValue(this.doc.id,v,n).then((function(r){var o=Promise.resolve();return c&&t.controls.forEach((function(t){var i=t.getWidget();i&&(o=i.update().then((function(t){return i.setAS(n,e)})))})),t.NeedExecuteValidateAction=!0,o.then((function(e){return t.updateWidgetsUI(t.form,v,"value",n)})).then((function(){var e=i&&(0,T._)(i,Cr)?[i]:[];if(a==pn.RadioButton){var r=[];if(t.controls.forEach((function(e){var t=e.getWidget();t&&r.push(t.getAS())})),g.toString()!=r.toString())for(var o=0;o<r.length;o++)r[o]!=g[o]&&e.push(t.controls[o].getWidget());if(s!==n&&!e.length){var c=t.controls[0].getWidget();e=c?[c]:[]}}else{var u=t.controls[0].getWidget();e=u?[u]:[]}t.triggerUpdateEvent(en.formFieldValueUpdated,"value",e),t.NeedExecuteValidateAction=!1}))}))}},{key:"triggerUpdateEvent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(this.form&&this.form.engine){var i=this.form.engine.eventEmitter;if(e==en.formFieldValueUpdated){if(!n.length)return;return i.emit(ae.Z.annotationUpdated,n,n[0].getPDFPage(),e,t)}this.controls.forEach((function(n){var r=n.getWidget();r&&i.emit(ae.Z.annotationUpdated,[r],r.getPDFPage(),e,t)}))}}},{key:"setValueByIndex",value:function(e){this.form.checkFillPerm();var t=this.info.options[e].value;return this.setValue(t),e}},{key:"setHidden",value:function(e){this.form.checkFillPerm(),this.updateWidgetsUI(this.form,this.info.name,"hidden",e,(function(t){var n=t.info.flag;return e?(n&=-2,n&=-33,n|=6):(n&=-2,n&=-3,n&=-33,n|=4),t.setFlagValue(n)}),!0)}},{key:"setPassword",value:function(e){var t=this;this.form.checkFillPerm(),this.info.flag=e?this.info.flag|vn.TextPassword:this.info.flag&~vn.TextPassword,this.updateWidgetsUI(this.form,this.info.name,"password",e),this.update("flag",this.info.flag).then((function(){t.triggerUpdateEvent(en.flagsUpdated)}))}},{key:"setReadonly",value:function(e){var t=this;return this.form.checkFillPerm(),this.info.flag=e?this.info.flag|vn.ReadOnly:this.info.flag&~vn.ReadOnly,this.updateWidgetsUI(this.form,this.info.name,"readonly",e),this.update("flag",this.info.flag).then((function(){t.triggerUpdateEvent(en.flagsUpdated)}))}},{key:"setRequired",value:function(e){var t=this;return this.form.checkFillPerm(),this.info.flag=e?this.info.flag|vn.Required:this.info.flag&~vn.Required,this.updateWidgetsUI(this.form,this.info.name,"required",e),this.update("flag",this.info.flag).then((function(){t.triggerUpdateEvent(en.flagsUpdated)}))}},{key:"setNoScroll",value:function(e){var t=this;this.form.checkFillPerm(),this.info.flag=e?this.info.flag|vn.TextDoNotScroll:this.info.flag&~vn.TextDoNotScroll,this.updateWidgetsUI(this.form,this.info.name,"noScroll",e),this.update("flag",this.info.flag).then((function(){t.triggerUpdateEvent(en.flagsUpdated)}))}},{key:"setNoSpellCheck",value:function(e){var t=this;this.form.checkFillPerm(),this.info.flag=e?this.info.flag|vn.TextDoNotSpellCheck:this.info.flag&~vn.TextDoNotSpellCheck,this.updateWidgetsUI(this.form,this.info.name,"noSpellCheck",e),this.update("flag",this.info.flag).then((function(){t.triggerUpdateEvent(en.flagsUpdated)}))}},{key:"setInUnison",value:function(e){var t=this;this.form.checkFillPerm();var n=Promise.resolve();if(e)this.info.flag=this.info.flag|vn.ButtonRadiosInUnison;else{this.info.flag=this.info.flag&~vn.ButtonRadiosInUnison;var i=this.info.controls[0].exportValue;n=n.then((function(e){return t.doc.api.setFieldValue(t.doc.id,t.getName(),i)}))}n.then((function(e){return t.update("flag",t.info.flag)})).then((function(e){t.triggerUpdateEvent(en.flagsUpdated);var n=t.getValue();t.updateWidgetsUI(t.form,name,"value",n)}))}},{key:"setMKProperty",value:function(e,t){this.updateWidgetsUI(this.form,this.info.name,e,t,(function(n){return n.setMKProperty(e,t)}))}},{key:"clearItems",value:function(){this.form.checkFillPerm(),this.info.options.length=0,this.info.value="",this.updateWidgetsUI(this.form,this.info.name,"clearItems"),this.update("clearItems")}},{key:"deleteItems",value:function(e){this.form.checkFillPerm(),e<0||e>=this.info.options.length||(this.info.options[e].value==this.info.value&&(this.info.value=""),this.info.options.splice(e,1),this.updateWidgetsUI(this.form,this.info.name,"deleteItems",e),this.update("deleteItems",e))}},{key:"insertItemAt",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.form.checkFillPerm();var i=this.info.options;-1==n&&(n=i.length),t||(t=e);var r=n==i.length?n-1:n;i[r]&&i[r].value==t?this.info.value=t:(this.info.options=[].concat(i.slice(0,n),{label:e,value:t,defaultSelected:!1,selected:!1},i.slice(n,i.length)),this.info.value=t,this.updateWidgetsUI(this.form,this.info.name,"insertItemAt",n),this.update("insertItemAt",{index:n,label:e,value:t,defaultSelected:!1,selected:!1}))}},{key:"showDisplayValue",value:function(e){return this.form&&this.info?this.info.displayValue==e?Promise.resolve():void this.updateWidgetsUI(this.form,this.info.name,"displayValue",e):Promise.resolve()}},{key:"getAction",value:function(e){if(!this.engineActions)for(var t in this.engineActions={},this.info.AA)this.engineActions[t]=this.doc.engine.actionFactory.createAction(this.info.AA[t],this.doc);return this.engineActions[e]}},{key:"getDAFontSize",value:function(){return this.info.DA.textSize}},{key:"getDAFontColor",value:function(){return this.info.DA.textColor}},{key:"isDAFontEmbedded",value:function(){return this.info.DA.isEmbedded}},{key:"getDAFontBuffer",value:function(){return this.doc.api.getFontBufferByName(this.doc.id,this.info.DA.fontName)}},{key:"setDAFontColor",value:function(e){this.form.checkFillPerm();var t=(0,W.colorConvertor)(e,"int");return t==this.info.DA.textColor||(this.info.DA.textColor=t,this.updateWidgetsUI(this.form,this.info.name,"textColor",(0,W.colorConvertor)(e,"HTML"),(function(e){return e.updateMKProperty("fontColor",t)})),this.update("textColor",t)),t}},{key:"setDAFontColorAsync",value:function(e){var t=this;this.form.checkFillPerm();var n=(0,W.colorConvertor)(e,"int");return this.info.DA.textColor=n,this.updateWidgetsUI(this.form,this.info.name,"textColor",(0,W.colorConvertor)(e,"HTML"),(function(e){return e.updateMKProperty("fontColor",n)})).then((function(){return t.update("textColor",n)})).then((function(){return n}))}},{key:"getControlByIndex",value:function(e){return this.controls[e]}},{key:"removeControlInfo",value:function(e){var t;for((!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.form.checkFillPerm(),t=0;t<this.info.controls.length;t++){if(this.info.controls[t].objectNumber==e){this.info.controls.splice(t,1);break}}return this.controls[t].destroy(),this.controls.splice(t,1),this.info.controls.length}},{key:"getControlsCount",value:function(){return this.info.controls.length}},{key:"focus",value:function(){var e=this.controls[0]&&this.controls[0].getWidget();e&&e.updateUI({type:"focus"})}},{key:"getControlExportValues",value:function(e){return this.info.controls[e].exportValue}},{key:"getExportValues",value:function(){for(var e=[],t=0;t<this.info.controls.length;t++)e.push(this.info.controls[t].exportValue);return e}},{key:"setExportValue",value:function(e,t){var n=this,i=this.info.controls[e];return i.exportValue=t,this.doc.api.updateFormControl(this.doc.id,this.getName(),i.objectNumber,"exportValue",t).then((function(e){n.triggerUpdateEvent(en.formFieldExportValueUpdated,"exportValue"),e.forEach((function(e,t){var i=n.controls[t];i.setExportValue(e);var r=i.getWidget();if(r)return r._update().then((function(e){return r.updateUI({})}))}))}))}},{key:"setWidgetDisplay",value:function(e,t){return this.updateWidgetsUI(this.form,this.info.name,"display",e,(function(n){return n.setDisplay(e,t)}),!0)}},{key:"setIconObj",value:function(e,t){this.form.checkFillPerm(),this.updateWidgetsUI(this.form,this.info.name,"icon",null,(function(n){return n.setIconObj(e,t)}))}},{key:"setOptions",value:function(e){var t=this;if(this.form&&(this.form.checkFillPerm(),4===this.getType()||5===this.getType())){e.length>0&&!e.some((function(e){return e.selected}))&&(e[0].selected=!0),this.info.options=e;var n=this.update("setItems",this.info.options);return arguments[1]?n:n.then((function(n){t.info.defaultValue=n.defaultValue;t.info.value;for(var i=0;i<e.length;i++)if(e[i].selected){e[i].value;break}return t.info.options=n.options,Promise.resolve()})).then((function(){var e=t.updateWidgetsUI(t.form,t.info.name,"setItems");return t.triggerUpdateEvent(en.formFieldItemsUpdated),e}))}}},{key:"setItems",value:function(e){var t=this;this.form.checkFillPerm();var n=Array.from(new Set(e.map((function(e){return JSON.stringify(e)}))));e=n.map((function(e){return JSON.parse(e)}));var i=[];return e.forEach((function(e){Array.isArray(e)?e[0]&&i.push({label:e[0].toString(),value:e[1].toString(),selected:e[2]||!1,defaultSelected:e[3]||!1}):e&&i.push({label:e.toString(),value:e.toString(),selected:!1,defaultSelected:!1})})),i.length?new Promise((function(e){t.form.addTask((function(n){e(t.setOptions(i))}))})):Promise.resolve()}},{key:"setDisplayValue",value:function(e){return this.displayValue==e?Promise.resolve():(this.displayValue=e,this.update("displayValue",e))}},{key:"getDisplayValue",value:function(){return this.displayValue}},{key:"setRect",value:function(e){this.rect=e,this.updateWidgetsUI(this.form,this.info.name,"rect",e,(function(t){return t.setRect(e)}))}},{key:"updateControls",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0;t<e.length;t++){var n=this.controls[t];n?n.info=e[t]:(n=new dN(this.doc,this,e[t]),this.controls.push(n))}this.info.controls=e}},{key:"setAction",value:function(e,t){var n=this;if(-1!=e&&(e-kt.keyStroke|kt.onBlur-e)<0)throw new Error("Trigger error. Please refer to Constant Action_Trigger");if(!t)throw new Error("Action should not be null.");this.form.checkDesignPerm();var i=t.info;if("string"==typeof t){var r=new YC;r.setScript(t),i=(t=r).info}var o=this.info.name,a={trigger:e,data:i,field:o};if(e>6&&e<11){var s=this.getAction(e);return this.update("AA",a).then((function(i){n.triggerEvents(ae.Z[s?"actionUpdated":"actionAdd"],n.controls[0].getWidget()),n.triggerUpdateEvent(en[s?"formFieldActionUpdated":"addAction"]);var r=n.doc;t.init(i,r.engine.actionFactory,r,r.api,r.engine.eventEmitter,n),e==kt.calculate&&n.form.addCO(n),n.info.AA[e]=i,n.engineActions&&(n.engineActions[e]=t)}))}return this.updateWidgetsUI(this.form,o,"action",a,(function(n){return n.setAction(e,t)}))}},{key:"triggerEvents",value:function(e){if(this.form&&this.form.engine){var t=this.form.engine.eventEmitter;this.controls.forEach((function(n){var i=n.getWidget();i&&t.emit(e,[i])}))}}},{key:"removeAction",value:function(e){var t=this.info.name,n={trigger:e,data:null,field:t};return e==kt.calculate&&this.form.removeFieldInCO(t),this.updateWidgetsUI(this.form,t,"action",n,(function(t){return t.removeAction(e)}))}},{key:"hasControl",value:function(e){return this.info.controls.some((function(t){return t.objectNumber==e}))}},{key:"getBorderWidth",value:function(){var e=this.controls[0].getWidget();return e?e.getBorderWidth():0}},{key:"isDateType",value:function(){var e=this.getType(),t=this.info;return 6===e&&t.AA&&t.AA[kt.keyStroke]&&t.AA[kt.keyStroke].javascript&&t.AA[kt.keyStroke].javascript.indexOf("Date")>-1}},{key:"isImageType",value:function(){var e=this.getType(),t=this.getWidget(0);if(!t)return!1;var n=t.info;return 1===e&&n.iconFit&&n.iconFit.isProportionalScaling}}]),e}();!function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e,i,r){return(0,C._)(this,n),t.call(this,e,i,r)}(0,D._)(n,[{key:"isSigned",value:function(){return this.info.isSigned}},{key:"getByteRange",value:function(){return this.info.byteRange}},{key:"getFilter",value:function(){return this.info.filter}},{key:"getSubfilter",value:function(){return this.info.subfilter}},{key:"getSigner",value:function(){return this.info.signer}},{key:"setLockAction",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Array.isArray(n)||(n=n.split(",")),this.form.addTask((function(i){return t.doc.api.setLockAction(t.doc.id,t.info.name,e,n).then((function(i){return t.info.lockAction={type:e,fields:n}}))}))}},{key:"getLockAction",value:function(){return this.info.lockAction}},{key:"Verify",value:function(e){var t=this;return this.form.addTask((function(n){return t.doc.engine.ensureSideModeLoaded().then((function(n){return t.doc.api.VerifySignature(t.doc.id,t.info.name,e)}))}))}},{key:"verifySignatureLtv",value:function(e){var t=this;return this.form.addTask((function(n){return t.doc.engine.ensureSideModeLoaded().then((function(n){return t.doc.api.verifySignatureLtv(t.doc.id,t.info.name,e)}))}))}},{key:"clearSignature",value:function(e){var t=this;return this.form.addTask((function(n){return t.doc.engine.ensureSideModeLoaded().then((function(n){return t.doc.api.clearSignature(t.doc.id,t.info.name,e)}))}))}},{key:"_getDigitalSignatureInfo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.form.addTask((function(n){return e.doc.engine.ensureSideModeLoaded().then((function(n){return e.doc.api.getDigitalSignatureInfo(e.doc.id,e.info.name,t)}))}))}},{key:"getDigitalSignatureInfo",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this;return new Promise((e=(0,P._)((function(e,r){var o,a,s,c,u,l,A,d,h,f,p,v,g,m,y,_,b,x,P,C,D,E,S,I,T,R,M,F,N,O;return(0,L.Jh)(this,(function(r){switch(r.label){case 0:if(i.destroyed)return e({}),[2];if(o={},a={},s=i.info,c=s.isSigned,u=s.signer,l=s.originalSigner,A=void 0===l?u:l,!c)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i._getDigitalSignatureInfo(t)];case 2:return a=r.sent(),d=a.certificateInfo,h=(void 0===d?{}:d).subjectChain,u=(u=((f=void 0===h?[]:h)[f.length-1]||{}).subjectName||"")||A,[3,4];case 3:return p=r.sent(),a={},console.error(p),[3,4];case 4:return n?(v=i.info,g=v.name,m=v.signTimeFormat,y=v.location,_=v.reason,b=v.contact,x=v.DN,P=v.text,C=v.isCertified,D=v.fileSizeOfSignedVersion,E=v.signedVersion,S=v.isVisible,I=v.filter,T=v.subfilter,R=v.creatorName,M={name:g,isSigned:c,isVisible:S},c&&(F={signTime:m,originalSigner:A,signer:u,location:y,reason:_,contact:b,DN:x,text:P,isCertified:C,fileSizeOfSignedVersion:D,signedVersion:E,filter:I,subfilter:T,creatorName:R},M=(0,w._)({},M,F),i.info=(0,k._)((0,w._)({},i.info,a),{signer:u,originalSigner:A})),[4,i.getControlByIndex(0).getWidgetAnnot()]):[3,6];case 5:return N=r.sent(),O={pageIndex:N?N.getPage().getIndex():0,top:N?N.info.rect.top:0,widgetId:N?N.getId():void 0},o=(0,w._)({},M,a,O),[3,7];case 6:o=(0,w._)({},i.signatureInfo||{},a),r.label=7;case 7:return e(o),[2]}}))})),function(t,n){return e.apply(this,arguments)}))}},{key:"isLast",value:function(){return this.doc.api.isLastSignature(this.doc.id,this.getName())}},{key:"getImage",value:function(){return this.getBitmap().then((function(e){if(!e)return null;var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d"),i=new(Uint8ClampedArray||Uint8Array)(e.buffer),r=n.createImageData(e.width,e.height);return r.data.set(i),n.putImageData(r,0,0),t.toDataURL()}))}},{key:"getBitmap",value:function(){return this.doc.api.getSignatureBitmap(this.doc.id,this.info.name)}},{key:"setBitmap",value:function(e){var t=this,n=this.getWidget(0);return this.doc.api.setSignatureBitmap(this.doc.id,this.info.name,e).then((function(){return t.doc.engine.eventEmitter.emit(ae.Z.annotationAppearanceUpdated,[n],n.getPDFPage()),t}))}},{key:"getSignInfo",value:function(){var e=this;return this.isSigned()?this.getControlByIndex(0).getWidgetAnnot().then((function(t){var n=t.getRect(),i=t.getPage().getIndex(),r=e.info,o=r.filter,a=r.subfilter,s=r.apFlag,c=r.signer,u=r.location,l=r.reason,A=r.DN,d=r.text,h=r.name,f=r.signTime,p=r.contact;return e.getImage().then((function(e){return{filter:o,subfilter:a,rect:n,pageIndex:i,flag:s,signer:c,reason:l,email:p,distinguishName:A,location:u,textValue:d,fieldName:h,signTime:f,image:e}}))})):Promise.resolve({})}},{key:"getSignatureType",value:function(){return this.info.signatureType}},{key:"getPagingSealConfig",value:function(){return this.info.signatureType!==gn.pagingSeal?null:this.info.pagingSealConfig}}])}(hN);var fN=function(){function e(t){(0,C._)(this,e),this.engine=t,this.api=t.api}return(0,D._)(e,[{key:"combineFormsToCSV",value:function(e,t){return this.api.combineFormsToCSV(e,t)}},{key:"destroy",value:function(){this.engine=null,this.api=null}}]),e}();const pN=fN;var vN,gN=function(){function e(t){(0,C._)(this,e),(0,z._)(this,"pdfRect",{left:0,right:0,top:0,bottom:0}),(0,z._)(this,"deviceRect",{left:0,right:0,top:0,bottom:0}),(0,z._)(this,"pdfViewer",void 0),(0,z._)(this,"page",void 0),(0,z._)(this,"pageRender",void 0),(0,z._)(this,"scale",void 0),(0,z._)(this,"rotate",void 0),(0,z._)(this,"intent",void 0),(0,z._)(this,"annotationInfo",this.getDefaultAnnotInfo()),(0,z._)(this,"eContainer",document.createElement("div")),(0,z._)(this,"renderer",void 0),this.eContainer.classList.add("fv__viewer-fake-annot-container"),this.pdfViewer=t.pdfViewer,this.pageRender=t.pageRender,this.intent=t.info.intent,(0,W.extendOptions)(this.annotationInfo,t.info,this.getDefaultAnnotConfig()),this.annotationInfo.type=this.getType(),this.page=t.pageRender.page,this.scale=t.pageRender.scale,this.rotate=t.pageRender.rotate,this.pageRender.$annotsContainer.append(this.eContainer)}return(0,D._)(e,[{key:"setRect",value:function(e){this.deviceRect=e;var t=Math.abs(e.right-e.left),n=Math.abs(e.bottom-e.top),i=(0,G.F2)(this.annotationInfo.borderInfo.width)*this.scale*2;if(t<i){var r=.5*(i-t)*(e.right-e.left>0?1:-1);e.right+=r,e.left-=r}if(n<i){var o=.5*(i-n)*(e.bottom-e.top>0?1:-1);e.top-=o,e.bottom+=o}t=Math.abs(e.right-e.left),n=Math.abs(e.bottom-e.top);var a=this.pageRender.rotate;this.pdfRect=this.page.reverseDeviceRect(e,this.scale,a),(0,W.cssText)(this.eContainer,{left:e.left+"px",top:e.left+"px",width:t+"px",height:n+"px"})}},{key:"setContent",value:function(e){this.annotationInfo.content=e,this.annotationInfo.contents=e}},{key:"zoomTo",value:function(e){this.scale=e}},{key:"draw",value:function(){this.renderer||(this.renderer=this.generateApRenderer(),this.renderer.prepare(),this.renderer.willRender()),this.renderer.component&&this.renderer.render(this.scale,this.rotate)}},{key:"getContainerElement",value:function(){return this.eContainer}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.pdfViewer.getSmartScale(e),i=this.getDeviceRect(e,t),r=this.getOuterDeviceRect(e,t),o=this.getDeviceRect(n,t);return{annotInfo:this.annotationInfo,annotFlag:new Fd(this.annotationInfo.flags),smartScale:n,rect:r,outerDeviceRect:r,innerDeviceRect:i,engineRenderingRect:o,scale:e,rotate:t,page:this.page}}},{key:"getDeviceRect",value:function(e,t){return this.page.getDeviceRect(this.pdfRect,e,t)}},{key:"getOuterDeviceRect",value:function(e,t){var n=this.annotationInfo.borderInfo;if(n&&5===n.style){var i=this.pageRender.getContainerVisibleRect(),r=i.right-i.left,o=i.bottom-i.top,a=this.page.getDeviceRect(this.pdfRect,e,t),s=(r-(a.right-a.left))/2,c=(o-(a.bottom-a.top))/2;return{left:a.left-s,right:a.right+s,top:a.top-c,bottom:a.bottom+c}}return this.page.getDeviceRect(this.pdfRect,e,t)}},{key:"apply",value:function(){var e=this;return(0,P._)((function(){var t,n;return(0,L.Jh)(this,(function(i){switch(i.label){case 0:return null===(t=e.renderer)||void 0===t||t.afterRender(),[4,e.getCreationJSON()];case 1:return(n=i.sent()).endingStyle&&(n.endStyle=n.endingStyle,delete n.endingStyle),n.rect=e.pdfRect,[2,e.page.addAnnot(n).then((function(t){var n=e.pdfViewer.addEventListener("renderAnnotSuccess",(function(){e.destroy(),n()})),i=t[0];return e.pageRender.annotsRender.activeAnnot(i.getId()),e.pdfViewer.eventEmitter.emit(se.addAnnotSuccess,i),t}))]}}))}))()}},{key:"destroy",value:function(){var e;null===(e=this.renderer)||void 0===e||e.destroy(),this.getContainerElement().remove()}},{key:"getCreationJSON",value:function(){return this.annotationInfo}},{key:"getDefaultAnnotInfo",value:function(){return{borderInfo:{width:2,style:he.SOLID},color:16711680,opacity:1,flags:4,date:new Date}}},{key:"getDefaultAnnotConfig",value:function(){var e=this.pdfViewer.getDefaultAnnotConfig();return"function"==typeof e?e(this.getType(),this.getIntent()):{}}},{key:"getIntent",value:function(){return this.intent}}]),e}(),mN=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"getTileConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.pdfViewer.getSmartScale(e),i=this.pdfViewer.config.tileSize,r=this.page.getDeviceRect(this.pdfRect,1,t),o=this.page.getDeviceRect(this.pdfRect,n,t),a=o.right-o.left,s=o.bottom-o.bottom;return[Math.ceil(s/i),Math.ceil(a/i),a,s,i,n,e,t,r.left,r.top]}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=(0,E._)((0,S._)(n.prototype),"getRenderingData",this).call(this,e,t);return Object.assign(i,{opacity:this.annotationInfo.opacity,tileConfig:this.getTileConfig(e,t)})}}]),n}(gN),yN=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"getType",value:function(){return"square"}},{key:"generateApRenderer",value:function(){return new Xm(this)}}]),n}(mN),_N=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"getType",value:function(){return"circle"}},{key:"generateApRenderer",value:function(){return new oy(this)}},{key:"getCreationJSON",value:function(){var e=this,t=(0,E._)((0,S._)(n.prototype),"getCreationJSON",this).call(this);return"CircleDimension"===this.annotationInfo.intent?this.page.getMeasureScaleRatio().then((function(n){if(n&&n.scale){var i=e.pdfViewer.getStore().getCurrentValue("measurementData"),r=am(e.pdfViewer),o=Gi(i.displayUnit.name)?e.pdfViewer.i18n.t("measurement.units.".concat(i.displayUnit.name)):i.displayUnit.name;t.contents=r+parseFloat(i.area).toFixed(2)+" sq "+o}return t})):t}}]),n}(mN),bN=["Jan","Feb","Mar","Apr","May","Jun","Ju","Aug","Sep","Oct","Nov","Dec"],wN=["January","February","March","April","May","June","July","August","September","October","November","December"],kN=function(){function e(){(0,C._)(this,e)}return(0,D._)(e,null,[{key:"MakeFixed",value:function(e,t){return(Array(t).join("0")+e).slice(-t)}},{key:"FormatDateTimeString",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,r=e.GetDate(t,i);n&&""!=n||(r=new Date),"Invalid Date"==r.toString()&&(r=new Date);for(var o="",a="",s=r.getFullYear(),c=r.getMonth()+1,u=r.getDate(),l=r.getHours(),A=r.getMinutes(),d=r.getSeconds(),h=0,f=0;h<n.length;){switch(a="",f=n[h]){case"y":case"m":case"d":case"H":case"h":case"M":case"s":case"t":if(n[h+1]!=f){switch(f){case"y":a+=f;break;case"m":a=c;break;case"d":a=u;break;case"H":a=l;break;case"h":a=l>12?l-12:l;break;case"M":a=A;break;case"s":a=d;break;case"t":a+=l>=12?"p":"a"}h++}else if(n[h+1]==f&&n[h+2]!=f){switch(f){case"y":a=this.MakeFixed(s-100*parseInt(s/100),2);break;case"m":a=this.MakeFixed(c,2);break;case"d":a=this.MakeFixed(u,2);break;case"H":a=this.MakeFixed(l,2);break;case"h":a=this.MakeFixed(l>12?l-12:l,2);break;case"M":a=this.MakeFixed(A,2);break;case"s":a=this.MakeFixed(d,2);break;case"t":a=l>=12?"pm":"am"}h+=2}else if(n[h+1]==f&&n[h+2]==f&&n[h+3]!=f)if("m"===f)h+=3,a+=bN[c-1];else h+=3,a+=f,a+=f,a+=f;else if(n[h+1]==f&&n[h+2]==f&&n[h+3]==f&&n[h+4]!=f)switch(f){case"y":a=s,h+=4;break;case"m":h+=4,a+=wN[c-1];break;default:h+=4,a+=f,a+=f,a+=f,a+=f}else h++,a+=f;break;default:h++,a+=f}o+=a}return o}},{key:"GetDate",value:function(e,t,n){t=(t=(t=t.replace("MM","ii")).replace("M","i")).toLowerCase();for(var i=new Date(e),r=new Date,o=r.getFullYear(),a=r.getMonth(),s=r.getDate(),c=0,u=0;u<t.length&&c<e.length;){switch(t[u]){case"y":for(var l="";"0"<=e[c]&&e[c]<="9";)l+=e[c],c++;for(;"y"==t[u];)u++;if(2===l.length)l="20"+l;o=parseInt(l);break;case"m":var A="";if("A"<=e[c]&&e[c]<="Z")for(;c<e.length&&e[c].match(/[a-zA-Z]/);)A+=e[c],c++;else for(;"0"<=e[c]&&e[c]<="9";)A+=e[c],c++;for(;"m"==t[u];)u++;switch(A.length){case 1:case 2:a=parseInt(A)-1;break;case 3:a=bN.indexOf(A);break;case 4:a=wN.indexOf(A)}break;case"d":for(var d="";"0"<=e[c]&&e[c]<="9";)d+=e[c],c++;for(;"d"==t[u];)u++;s=parseInt(d);break;case"i":for(var h="";"0"<=e[c]&&e[c]<="9";)h+=e[c],c++;for(;"i"==t[u];)u++;r.setMinutes(parseInt(h));break;case"h":for(var f="";"0"<=e[c]&&e[c]<="9";)f+=e[c],c++;for(;"h"==t[u];)u++;r.setHours(parseInt(f));break;case"s":for(var p="";"0"<=e[c]&&e[c]<="9";)p+=e[c],c++;for(;"s"==t[u];)u++;r.setSeconds(parseInt(p));break;case"t":for(var v="";e[c]&&e[c].match(/[AaPpMm]/);)v+=e[c],c++;for(;"t"==t[u];)u++;if("pm"==v.toLowerCase()){var g=r.getHours();g<12&&(g+=12),r.setHours(g)}else{12==r.getHours()&&r.setHours(0)}break;default:c++,u++}}1==a&&29==s&&o%4!=0&&(o&=4294967292),r.setFullYear(o),r.setMonth(a),r.setDate(s);var m=new Date;return Math.abs(i.getFullYear()-m.getFullYear())<Math.abs(r.getFullYear()-m.getFullYear())||Math.abs(i.getMonth()-m.getMonth())<Math.abs(r.getMonth()-m.getMonth())||Math.abs(i.getDate()-m.getDate())<Math.abs(r.getDate()-m.getDate())?i:r}},{key:"getMonth",value:function(e,t){switch(t){case"m":return e;case"F":return wN[e];case"M":return bN[e]}}},{key:"switchFormat",value:function(e,t){return"toLib"==t?e.replace("yyyy","Y").replace("yy","y").replace("dd","d").replace("HH","H").replace("hh","h").replace("MM","i").replace("M","i").replace("mmmm","F").replace("mmm","M").replace("mm","m").replace("ss","S").replace("tt","K"):e.replace("Y","yyyy").replace("y","yy").replace("d","dd").replace("H","HH").replace("h","hh").replace("i","MM").replace("F","mmmm").replace("M","mmm").replace("m","mm").replace("S","ss").replace("K","tt")}}]),e}(),xN=function(){function e(){(0,C._)(this,e),(0,z._)(this,"eventEmitter",new _o.EventEmitter),(0,z._)(this,"isClosed",!1)}return(0,D._)(e,[{key:"getSpace",value:function(e){return[e.id,e.feature].join(".")}},{key:"getAll",value:function(e){var t=this;return(0,P._)((function(){var n;return(0,L.Jh)(this,(function(i){return n=t.getSpace(e),[2,t.getSpaceKeys(e).reduce((function(e,t){var i=t.slice(n.length+1),r=localStorage.getItem(t);return e[i]=r?JSON.parse(r):null,e}),{})]}))}))()}},{key:"get",value:function(e,t){var n=this;return(0,P._)((function(){var i,r;return(0,L.Jh)(this,(function(o){return i=n.generateUniqueKey(e,t),(r=localStorage.getItem(i))?[2,JSON.parse(r)]:[2,null]}))}))()}},{key:"set",value:function(e,t,n){var i=this;return(0,P._)((function(){var r,o,a,s;return(0,L.Jh)(this,(function(c){return null==n?[2]:(r=i.generateUniqueKey(e,t),o=localStorage.getItem(r),a=o?JSON.parse(o):void 0,s=JSON.stringify(n),o===s||(localStorage.setItem(r,s),i.emitChangeEvent({context:e,key:t,oldValue:a,newValue:n})),[2])}))}))()}},{key:"removeAll",value:function(e){var t=this;return(0,P._)((function(){return(0,L.Jh)(this,(function(n){return t.getSpaceKeys(e).forEach((function(n){var i=localStorage.getItem(n);localStorage.removeItem(n),localStorage.getItem(n)!==i&&t.emitRemoveEvent({context:e,key:n})})),[2]}))}))()}},{key:"remove",value:function(e,t){var n=this;return(0,P._)((function(){var i,r;return(0,L.Jh)(this,(function(o){return i=n.generateUniqueKey(e,t),r=localStorage.getItem(i),localStorage.removeItem(i),localStorage.getItem(i)!==r&&n.emitRemoveEvent({context:e,key:t}),[2]}))}))()}},{key:"onChange",value:function(e){return this.addEventListener("change",e)}},{key:"onRemove",value:function(e){return this.addEventListener("remove",e)}},{key:"close",value:function(){this.isClosed=!0}},{key:"addEventListener",value:function(e,t){var n=this,i=function(e){t(e)};return this.eventEmitter.addListener(e,i),function(){n.eventEmitter.removeListener(e,i)}}},{key:"generateUniqueKey",value:function(e,t){return[this.getSpace(e),t].join(".")}},{key:"getSpaceKeys",value:function(e){var t=this.getSpace(e)+".";return Array(localStorage.length).fill(0).map((function(e,t){return localStorage.key(t)})).filter((function(e){return!!e})).filter((function(e){return 0===e.indexOf(t)}))}},{key:"emitChangeEvent",value:function(e){this.eventEmitter.emit("change",e)}},{key:"emitRemoveEvent",value:function(e){this.eventEmitter.emit("remove",e)}}]),e}();!function(e){e.ICON_CLASS="icon-class",e.IMAGE_URL="image-data-uri",e.CANVAS="canvas",e.NONE="none"}(vN||(vN={}));var PN=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){var e;return(0,C._)(this,n),e=t.call(this),(0,z._)((0,x._)(e),"element",void 0),(0,z._)((0,x._)(e),"_isVisible",!1),e.element=document.createElement("div"),e.element.classList.add("fv__viewer-portfolio-previewer"),e}return(0,D._)(n,[{key:"isVisible",get:function(){return this._isVisible}},{key:"getThumb",value:function(e,t){var n=t.fileName,i="fv__icon-portfolio-file",r=n?n.match(/.*\.(.+$)/):void 0,o=r?r[1]:void 0;return o&&(i=i+" fv__icon-portfolio-ext-"+o),Promise.resolve({type:"icon-class",data:i})}},{key:"toggleVisibility",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];"boolean"!=typeof e?this.toggleVisibility(!this._isVisible):(this.element.classList.toggle("portfolio-hidden",!e),this._isVisible=e)}}]),n}(W.Disposable),CN=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),i=t.call(this),(0,z._)((0,x._)(i),"pdfViewer",void 0),(0,z._)((0,x._)(i),"previewerPDFViewer",void 0),(0,z._)((0,x._)(i),"currentFileId",void 0),(0,z._)((0,x._)(i),"executor",void 0),i.pdfViewer=e,i.currentFileId=void 0,i.executor=new W.QueuedAsyncTaskExecutor,e.eventEmitter.on(se.renderFileSuccess,(function(){i.initPDFViewer()})),i}return(0,D._)(n,[{key:"accept",value:function(e,t){return new Promise((function(t,n){var i=new FileReader;i.onload=function(){t("%PDF"===i.result)},i.onerror=function(e){return n(e)},i.readAsText(e.slice(0,4))}))}},{key:"initPDFViewer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{customs:{}};if(this.previewerPDFViewer)return this.previewerPDFViewer;var n=this.pdfViewer;if("JR"!==n.config.engineMode)throw new Error("Unsupported engine mode!");t.customs=Object.assign({},{isSupportFileType:n.$constructorOptions.customs.isSupportFileType,ScrollWrap:rF.create(this.element),getDocPermissions:function(){return 0},getAnnotPermissions:function(){return Promise.resolve([])}},t.customs);var i=Object.assign({},n.$constructorOptions,{defaultAnnotConfig:null,eventEmitter:new _o.EventEmitter,defaultKeyboardEventBinder:tC,collaboration:{enable:!1},enableJS:!1,enableShortcutKey:!1,viewerUI:new DN(n.viewerUI),applicationContext:new W.ApplicationContextImpl},t),r=i.jr;r.readyWorker&&(r.readyWorker=r.readyWorker.clone({loadLocalFonts:!1})),delete i.messageSyncServiceWorker;var o=new eM(i);o.grantQueryLocalFontsPermission("denied");var a=document.createElement("div");return a.className="fv__viewer-portfolio-pdf-previewer-container",o.init(a),this.element.appendChild(a),this.previewerPDFViewer=o,this.addDestroyHook((function(){e.element.removeChild(a),o.destroy()})),o}},{key:"redraw",value:function(){var e=this;this.executor.exec((function(){var t=e.previewerPDFViewer;return t&&t.getCurrentPDFDoc()?t.redraw():Promise.resolve()}))}},{key:"preview",value:function(e,t){var n=this,i=this.initPDFViewer();return this.currentFileId=t.handle,this.executor.exec((function(){return n.openFile(t,i,e)})),function(){return n.currentFileId=void 0,n.executor.exec((function(){return i.close()}))}}},{key:"openFile",value:function(e,t,n){var i={fileName:e.fileName,isRenderOnDocLoaded:!0};"isRenderOnDocLoaded"in e&&(i.isRenderOnDocLoaded=e.isRenderOnDocLoaded);var r=this.pdfViewer.viewerUI;return t.openPDFByFile(n,i).catch((function(e){return o(e,i)}));function o(e,t){switch(e.error){case Je.password:return a(e.pdfDoc,t,{type:NS.FROM_FILE,fileName:t.fileName,file:n,options:t});case Je.format:r.alert("alert.formatError");break;case Je.securityHandler:r.alert("alert.securityError");break;case Je.certificate:r.alert("dialog.openFileFailed.errCertificate");break;default:return r.alert("alert.openFailed"),Promise.reject(e)}}function a(e,n,i){var s,c;return(n.password||"")&&(s="error",c="retry.invalidPassword"),r.promptPassword("","retry.inputPassword","retry.Password","body",s,c).then((function(r){return r?(n.password=r,t.reopenPDFDoc(e,n,i).catch((function(e){o(e,n)}))):a(e,n,i)}),(function(e){if(e)throw e}))}}},{key:"getThumb",value:function(e,t){if("number"!=typeof this.currentFileId&&this.currentFileId!==t.handle)return(0,E._)((0,S._)(n.prototype),"getThumb",this).call(this,e,t);if(!this.previewerPDFViewer)return(0,E._)((0,S._)(n.prototype),"getThumb",this).call(this,e,t);var i=this.previewerPDFViewer.getCurrentPDFDoc();return i?i.getPageByIndex(0).then((function(e){return e.getThumb(0).then((function(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");if(e.buffer){var i=new(Uint8ClampedArray||Uint8Array)(e.buffer),r=n.createImageData(e.width,e.height);return r.data.set(i),n.putImageData(r,0,0),{type:vN.CANVAS,data:t}}if(e.image){var o=new Image;return o.onload=function(){URL.revokeObjectURL(o.src),n.drawImage(o,0,0)},o.src=URL.createObjectURL(e.image),{type:vN.CANVAS,data:t}}}))})):(0,E._)((0,S._)(n.prototype),"getThumb",this).call(this,e,t)}}]),n}(PN),DN=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;return(0,C._)(this,n),i=t.call(this),(0,z._)((0,x._)(i),"origin",void 0),(0,z._)((0,x._)(i),"contextMenu",void 0),i.origin=e,i.contextMenu=new(function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(){return(0,C._)(this,n),t.apply(this,arguments)}return(0,D._)(n,[{key:"showAt",value:function(e,t){return!1}},{key:"destroy",value:function(){}},{key:"disable",value:function(){}},{key:"enable",value:function(){}},{key:"onShown",value:function(){}},{key:"onHidden",value:function(){}}]),n}(Lx)),i}return(0,D._)(n,[{key:"createContextMenu",value:function(){return this.contextMenu}},{key:"alert",value:function(e){return this.origin.alert(e)}},{key:"confirm",value:function(e){return this.origin.confirm(e)}},{key:"prompt",value:function(e,t,n){return this.origin.prompt(e,t,n)}},{key:"promptPassword",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i;return(i=this.origin).promptPassword.apply(i,(0,M._)(t))}},{key:"createFreeTextTooltip",value:function(){}},{key:"createAnnotTooltip",value:function(){}},{key:"createTextSelectionTooltip",value:function(e){return new qx(this.pdfViewer,e)}},{key:"destroy",value:function(){}},{key:"getSignatureUI",value:function(){return this.origin.getSignatureUI()}},{key:"getJSDialogUI",value:function(){return this.origin.getJSDialogUI()}},{key:"getJSDynamicDialogUI",value:function(){return this.origin.getJSDynamicDialogUI()}},{key:"getActionEditorUI",value:function(){return this.origin.getActionEditorUI()}},{key:"getJSPopupMenuUI",value:function(){return this.origin.getJSPopupMenuUI()}}]),n}(Ox),EN=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;(0,C._)(this,n);return(i=t.call(this,e)).annotationInfo.dicts=Object.assign({AreaHi:"AreaHi"},i.annotationInfo.dicts||{}),i.eContainer.classList.add("fv__viewer-fake-highlight-area-annot"),i}return(0,D._)(n,[{key:"setRect",value:function(e){(0,E._)((0,S._)(n.prototype),"setRect",this).call(this,e),this.annotationInfo.coords=[this.pdfRect],this.annotationInfo.quadPoints=[{x:this.pdfRect.left,y:this.pdfRect.top},{x:this.pdfRect.right,y:this.pdfRect.top},{x:this.pdfRect.right,y:this.pdfRect.bottom},{x:this.pdfRect.left,y:this.pdfRect.bottom}]}},{key:"getDefaultAnnotInfo",value:function(){var e=(0,E._)((0,S._)(n.prototype),"getDefaultAnnotInfo",this).call(this);return e.color=16776960,e}},{key:"getDefaultAnnotConfig",value:function(){var e=this.pdfViewer.getDefaultAnnotConfig();return"function"==typeof e?e(this.getType(),"Area"):{}}},{key:"generateApRenderer",value:function(){return new Gg(this)}},{key:"getType",value:function(){return"highlight"}},{key:"getCreationJSON",value:function(){return(0,k._)((0,w._)({},(0,E._)((0,S._)(n.prototype),"getCreationJSON",this).call(this)),{color:this.annotationInfo.color})}},{key:"getRenderingData",value:function(e,t){var i=(0,E._)((0,S._)(n.prototype),"getRenderingData",this).call(this,e,t);return(0,k._)((0,w._)({},i),{coords:[i.outerDeviceRect],isArea:!0})}}]),n}(mN),SN=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i,r;((0,C._)(this,n),i=t.call(this,e),(0,z._)((0,x._)(i),"vertexes",[]),(0,z._)((0,x._)(i),"deviceVertexes",[]),(0,z._)((0,x._)(i),"lastPoint",{x:0,y:0}),i.annotationInfo.vertexes)&&(r=i.vertexes).push.apply(r,(0,M._)(i.annotationInfo.vertexes));return i.annotationInfo.vertexes=i.vertexes,i}return(0,D._)(n,[{key:"getVertexes",value:function(){return this.vertexes}},{key:"getDeviceVertexes",value:function(){return this.deviceVertexes}},{key:"addPoint",value:function(e,t){var n=(0,R._)(this.page.reverseDevicePoint([e,t],this.scale,this.rotate),2),i=n[0],r=n[1];this.vertexes.push({x:i,y:r}),this.lastPoint={x:i,y:r},this.deviceVertexes.push({x:e,y:t}),this.updateRect()}},{key:"setLastPoint",value:function(e,t){var n=this.deviceVertexes[this.deviceVertexes.length-1],i="number"==typeof e?e:n.x,r="number"==typeof t?t:n.y,o=(0,R._)(this.page.reverseDevicePoint([i,r],this.scale,this.rotate),2),a=o[0],s=o[1];this.lastPoint={x:a,y:s},this.updateRect()}},{key:"getLastPoint",value:function(){return this.lastPoint}},{key:"zoomTo",value:function(e){var t=this;this.scale!==e&&((0,E._)((0,S._)(n.prototype),"zoomTo",this).call(this,e),this.deviceVertexes=this.vertexes.map((function(n){var i=(0,R._)(t.page.getDevicePoint([n.x,n.y],e,t.rotate),2);return{x:i[0],y:i[1]}})),this.updateRect())}},{key:"removeLastPoint",value:function(){}},{key:"getRenderingData",value:function(e,t){var i=(0,E._)((0,S._)(n.prototype),"getRenderingData",this).call(this,e,t),r=(0,Qu._)(this.vertexes).slice(0);return r.push(this.lastPoint),(0,k._)((0,w._)({},i),{vertexes:r})}},{key:"generateApRenderer",value:function(){return new Dm(this)}},{key:"getType",value:function(){return"polyline"}},{key:"getOuterDeviceRect",value:function(e,t){return(0,E._)((0,S._)(n.prototype),"getDeviceRect",this).call(this,e,t)}},{key:"updateRect",value:function(){if(0!==this.deviceVertexes.length){var e=(0,R._)(this.page.getDevicePoint([this.lastPoint.x,this.lastPoint.y],this.scale,this.rotate),2),t={x:e[0],y:e[1]},n=t.x,i=t.y,r=t.x,o=t.y;this.deviceVertexes.forEach((function(e){n=Math.min(n,e.x),r=Math.max(r,e.x),i=Math.min(i,e.y),o=Math.max(o,e.y)}));var a=(0,G.F2)(this.annotationInfo.borderInfo.width)*this.scale*2+20;n-=a/2,i-=a/2,r+=a/2,o+=a/2,this.setRect({left:n,top:i,right:r,bottom:o})}}},{key:"apply",value:function(){var e=this;return(0,E._)((0,S._)(n.prototype),"apply",this).call(this).then((function(t){var n=e.annotationInfo.intent;return"PolygonDimension"===n||"PolyLineDimension"===n?e.page.getMeasureScaleRatio().then((function(i){if(i&&i.scale){var r=e.pdfViewer.getStore().getCurrentValue("measurementData"),o=am(e.pdfViewer),a=Gi(r.displayUnit.name)?e.pdfViewer.i18n.t("measurement.units.".concat(r.displayUnit.name)):r.displayUnit.name;return t[0].setContent(o+parseFloat("PolyLineDimension"===n?r.perimeter:r.area).toFixed(2)+" "+a).then((function(e){return t}))}return t})):t}))}}]),n}(mN),IN=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;(0,C._)(this,n),i=t.call(this,e),(0,z._)((0,x._)(i),"isCloudy",!1);var r=i.annotationInfo;if(r.borderStyle)switch(r.borderInfo.style=r.borderStyle,r.borderStyle){case he.CLOUDY:i.annotationInfo.borderInfo.cloudIntensity=r.borderStyleParam,i.isCloudy=!0;break;case he.DASHED:i.annotationInfo.borderInfo.dashes=r.borderStyleParam}return r.borderInfo.style===he.CLOUDY?i.isCloudy=!0:i.isCloudy=!1,i}return(0,D._)(n,[{key:"setFlag",value:function(e,t){this.renderer.setFlag(e,t)}},{key:"generateApRenderer",value:function(){var e=this.isCloudy;return new jm(this,e)}},{key:"getOuterDeviceRect",value:function(e,t){return this.isCloudy?Nh.on(this.getDeviceRect(e,t)).expand(100*e).extract():(0,E._)((0,S._)(n.prototype),"getDeviceRect",this).call(this,e,t)}},{key:"getType",value:function(){return"polygon"}}]),n}(SN),TN=ge,RN=function(e){(0,I._)(n,e);var t=(0,N._)(n);function n(e){var i;(0,C._)(this,n);var r=(i=t.call(this,e)).annotationInfo;switch(i.annotationInfo.endStyle&&(r.endingStyle=i.annotationInfo.endStyle),r.intent){case pe.LINE_ARROW:r.endingStyle===TN.None&&(r.endingStyle=TN.OpenArrow);break;case pe.LINE_DIMENSION:r.startStyle===TN.None&&(r.startStyle=TN.OpenArrow),r.endingStyle===TN.None&&(r.endingStyle=TN.OpenArrow)}return r.hasCaption=r.enableCaption,r.leaderLinePoints.start=r.startPoint,i}return(0,D._)(n,[{key:"setRect",value:function(e){this.deviceRect=e;var t=Math.abs(e.right-e.left),n=Math.abs(e.bottom-e.top);t=Math.abs(e.right-e.left),n=Math.abs(e.bottom-e.top);var i=this.pageRender.rotate;this.pdfRect=this.page.reverseDeviceRect(e,this.scale,i),this.eContainer.style.cssText+="\n            width: ".concat(t,"px;\n            height: ").concat(n,"px;\n        ")}},{key:"generateApRenderer",value:function(){return new lm(this)}},{key:"getType",value:function(){return"line"}},{key:"getStartPoint",value:function(){return this.annotationInfo.startPoint}},{key:"getEndPoint",value:function(){return this.annotationInfo.endPoint}},{key:"setEndPoint",value:function(e){var t=(0,R._)(this.page.reverseDevicePoint([e.x,e.y],this.scale,this.rotate),2),n=t[0],i=t[1];this.annotationInfo.endPoint={x:n,y:i},this.annotationInfo.leaderLinePoints.end=this.annotationInfo.endPoint;var r=this.annotationInfo.startPoint,o=r.x,a=r.y,s=(0,R._)(this.page.getDevicePoint([o,a],this.scale,this.rotate),2),c=s[0],u=s[1];this.setRect({left:c,top:u,right:e.x,bottom:e.y}),this.annotationInfo.intent==pe.LINE_DIMENSION&&this.calculateLeaderLinePoints()}},{key:"calculateLeaderLinePoints",value:function(){var e=this.getStartPoint(),t=this.getEndPoint(),n=t.y-e.y,i=t.x-e.x,r=-1/(n/i),o=Math.atan(r),a=1,s=(this.page.getRotationAngle()+this.rotate)%360;if(t.x<e.x&&t.y<e.y||t.x>e.x&&t.y>e.y)switch(s){case 180:case 270:a=-1;break;default:a=1}else switch(s){case 90:case 180:a=1;break;default:a=-1}var c=this.annotationInfo.leaderLineLength,u=a*Math.cos(o)*c,l=a*Math.sin(o)*c,A={x:e.x+u,y:e.y+l},d=t,h=this.pdfRect;h.left<A.x&&A.x<h.right&&h.bottom<A.y&&A.y<h.top?d={x:t.x+u,y:t.y+l}:(A={x:e.x-u,y:e.y-l},d={x:t.x-u,y:t.y-l}),this.annotationInfo.leaderLinePoints.start=A,this.annotationInfo.leaderLinePoints.end=d}},{key:"getRenderingData",value:function(){var e=(0,E._)((0,S._)(n.prototype),"getRenderingData",this).call(this);return(0,w._)({},e,this.annotationInfo)}},{key:"getOuterDeviceRect",value:function(e,t){var n=this.annotationInfo.leaderLinePoints.start,i=this.annotationInfo.startPoint,r=this.annotationInfo.leaderLineExtend,o=this.annotationInfo.borderInfo.width,a=Fi.convertTo(o,Hi)*this.scale,s=Math.max(Math.abs(n.x-i.x),Math.abs(n.y-i.y))+r,c=Fi.convertTo(s,Hi)*this.scale;return Nh.on(this.getDeviceRect(e,t)).expand(c+a).extract()}},{key:"getDefaultAnnotInfo",value:function(){var e={x:0,y:0},t={x:0,y:0};return(0,k._)((0,w._)({},(0,E._)((0,S._)(n.prototype),"getDefaultAnnotInfo",this).call(this)),{startPoint:e,endPoint:t,leaderLineLength:15,leaderLineExtend:5,captionOffset:{x:0,y:0},enableCaption:!1,leaderLinePoints:{start:e,end:t},leaderLineOffset:0,captionPos:me.POS_INLINE,content:"",startStyle:et.None,endingStyle:et.None})}},{key:"apply",value:function(){var e=this;return(0,E._)((0,S._)(n.prototype),"apply",this).call(this).then((function(t){return"LineDimension"===e.annotationInfo.intent?e.page.getMeasureScaleRatio().then((function(n){if(n&&n.scale){var i=e.pdfViewer.getStore().getCurrentValue("measurementData"),r=am(e.pdfViewer),o=Gi(i.displayUnit.name)?e.pdfViewer.i18n.t("measurement.units.".concat(i.displayUnit.name)):i.displayUnit.name;return t[0].setContent(r+parseFloat(i.distance).toFixed(2)+" "+o).then((function(e){return t}))}return t})):t}))}}]),n}(mN),MN=se,FN=rF,NN={Hammer:Kr(),EventEmitter:bo(),jQuery:j()},LN=NN,ON={DiffColor:iT,OverlayComparisonOptionsService:aT,OverlayComparisonService:cT},jN=(0,k._)((0,w._)({},_),{browser:W.browser,receiveImageBuffer:xv,units:c,download:Oh,createClass:W.createClass,DebounceAsyncTaskExecutor:W.DebounceAsyncTaskExecutor,ThrottleAsyncTaskExecutor:W.ThrottleAsyncTaskExecutor,QueuedAsyncTaskExecutor:W.QueuedAsyncTaskExecutor,areaSelections:p,cipherType:jC,securityEncryptType:{Unknown:-1,None:0,Password:1,Certificate:2,FoxitDRM:3,Custom:4,RMS:5,CDRM:6,MIP:7},keyUsageType:{Unknown:-1,Signature:0,Encryption:1,SignatureAndEncryption:2},securityUtils:v,IndexDBCache:AI.default,IndexDBStore:AI.IndexDBStore,fileUtils:A,FileFormat:h,activation:i,keyboardStatus:W.keyboardStatus,getUnitByName:Gi,getClientX:df,getClientY:hf,DebouncePromiseQueue:ue,extendOptions:W.extendOptions,convertFromNumberToHex:W.convertFromNumberToHex,convertFromNumberToRGBA:W.convertFromNumberToRGBA,colorConvertor:W.colorConvertor,setThemeColor:W.setThemeColor,standardColorAsARGBNumber:W.standardColorAsARGBNumber,CalloutPointsReviser:Z_,createDeferred:W.createDeferred,Store:W.Store,ValueStore:W.ValueStore,Disposable:W.Disposable,getAnnotThumbnail:function(e){e.endsWith("/")||(e+="/");var t="png",n=12,i=12;return{text:{url:"".concat(e,"annotThumbnail/Textbox_12.png"),type:t,width:n,height:i},freetext:{url:"".concat(e,"annotThumbnail/Typewriter_12.png"),type:t,width:n,height:i},line:{url:"".concat(e,"annotThumbnail/Line_12.png"),type:t,width:n,height:i},square:{url:"".concat(e,"annotThumbnail/Square Tool_12.png"),type:t,width:n,height:i},circle:{url:"".concat(e,"annotThumbnail/Ellipse Tool_12.png"),type:t,width:n,height:i},polygon:{url:"".concat(e,"annotThumbnail/Polygon Tool_12.png"),type:t,width:n,height:i},polyline:{url:"".concat(e,"annotThumbnail/Polygon Line Tool_12.png"),type:t,width:n,height:i},highlight:{url:"".concat(e,"annotThumbnail/Highlight Tool_12.png"),type:t,width:n,height:i},underline:{url:"".concat(e,"annotThumbnail/Underline Tool_12.png"),type:t,width:n,height:i},squiggly:{url:"".concat(e,"annotThumbnail/Squiggly Tool_12.png"),type:t,width:n,height:i},strikeout:{url:"".concat(e,"annotThumbnail/Strikeout Tool_12.png"),type:t,width:n,height:i},stamp:{url:"".concat(e,"annotThumbnail/Stamp_12.png"),type:t,width:n,height:i},caret:{url:"".concat(e,"annotThumbnail/Caret Tool_12.png"),type:t,width:n,height:i},ink:{url:"".concat(e,"annotThumbnail/Inksig_12.png"),type:t,width:n,height:i},fileattachment:{url:"".concat(e,"annotThumbnail/AttachAnnot_12.png"),type:t,width:n,height:i}}},getRanges:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=[];return t.forEach((function(e){"number"==typeof e?i.push(e):i=i.concat(function(e,t){for(var n=[],i=e;i<=t;i++)n.push(i);return n}(e[0],e[1]))})),Array.from(new Set(i))},DebounceTaskExecutor:W.DebounceTaskExecutor,debounce:W.debounce,eraser:g,observeResize:W.observeResize,throttle:function(e){var t,n,i,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=0,c=function(){s=!1===a.leading?0:Date.now(),t=null,r=e.apply(n,i),t||(n=i=null)};function u(){var u=Date.now();s||!1!==a.leading||(s=u);var l=o-(u-s);return n=this,i=arguments,l<=0||l>o?(t&&(clearTimeout(t),t=null),s=u,r=e.apply(n,i),t||(n=i=null)):t||!1===a.trailing||(t=setTimeout(c,l)),r}return u.cancel=function(){clearTimeout(t),s=0,t=n=i=null},u},Draggable:sN,BuiltinIntersectionObserver:W.BuiltinIntersectionObserver,getDefaultStamps:qF,Color:W.Color,isEditableElement:W.isEditableElement,attachContextMenuEvent:W.attachContextMenuEvent,eventPath:W.eventPath,createFocusEvent:W.createFocusEvent,dpr:W.dpr,getDPI:W.getDPI,resolvePath:Tv}),BN={CreateFreeTextCalloutService:nN},VN={Log_Levels:W.Log_Levels,LEVELS:W.Log_Levels,setLogLevel:W.setLogLevel,LoggerFactory:W.LoggerFactory},UN={getDevicePagePoint:ff,deltaDeviceRect:of,appendSelectMark:function(e,t){cf(e);for(var n=j()(document.createDocumentFragment()),i=0,r=t.length;i<r;i++){var o=t[i],a=["top:"+o.top+"px","left:"+o.left+"px","width:"+(o.right-o.left)+"px","height:"+(o.bottom-o.top)+"px"].join(";");n.append('<mark class="'+af+'" style="'+a+'"></mark>')}e.append(n)},removeSelectMark:cf,getBoundingPoint:rf,getCaretRectAndRotate:uf,removeTextSelectedRangeMark:lf,showTextSelectedRangeMark:Af},HN={IStateHandler:nf,HandStateHandler:Zf,StateHandlerConsts:s,StateHandlerUtils:UN,CreateMeasurementService:or},zN={IViewMode:fh,UsualViewModeShortcutHandler:Mv,ViewModeShortcutHandler:dh,MultipageViewMode:oN},WN={ProgressComponent:nP,IFloatingTooltip:jx,IViewerUI:Ox,IContextMenu:Lx,TinyViewerUI:QP,TinyFloatingTooltip:qx,TextSelectionTool:Ux,IDateTimePicker:iP},GN={Activatable:q,CustomOptionsUpdater:pT,ScrollWrap:Qh,PDFViewerRendering:U,PDFDocRendering:kh,PDFPageRendering:Y,ProgressComponent:nP,TextSelectionTool:Ux},YN=WN,$N={constant:Object.assign({Cipher_Type:cN,User_Permissions:Qt,DataEvents:ae.Z,AnnotUpdatedType:en,ZoomMode:uN},o),actions:(0,w._)({},lN,$e),bookmark:{BookmarkRelationship:MD,BookmarkZoomMode:VD},common:{FileSpec:VC},annots:(0,w._)({constant:{Annot_Flags:tn,Annot_Type:Xi,Annot_Unit_Type:Si,MARKUP_ANNOTATION_STATE:Ae},AnnotFlag:Fd},un),form:Object.create(wr,{constant:{value:{Field_Flag:vn,Field_Type:pn,Signature_Type:gn}},Widget:Cr,PDFFormField:IC,PDFForm:LC}),HeaderFooter:BC,DataEvents:ae.Z,Error_Code:Je,engine:{GraphicsObject:vC},Matrix:nn.Z,comparison:{},PDFPageBatchProcessor:yr},JN={ViewerEvents:MN,STATE_HANDLER_NAMES:s,ANNOTATION_PERMISSION:n_,OPEN_FILE_TYPE:NS,SNAP_MODE:em,PagePointType:Kd,PROGRESS_STATUS:Rx,DIRECTION:Eg},qN={BuiltinShortcutContext:Od,BuiltinCommand:Ld,BuiltinShortcutCommand:Ld,Keyboard:W.KeyboardImpl,KeyboardUtils:W.KeyboardUtils,Shortcut:W.Shortcut,interceptors:W.interceptors},KN={COLLABORATION_ACTION:Nd,WebSocketCommunicator:XF},ZN={PrintProgress:tN},XN=K,QN={consts:{ADD_FONT_MAP_LIST:Wh},shared:{Lazy:W.Lazy,attachKeypressEvent:W.attachKeypressEvent,preventFastClickByKeydown:W.preventFastClickByKeydown,createClickEvent:W.createClickEvent,stopPropagationOnShortcutEvent:W.stopPropagationOnShortcutEvent,IoCScope:W.IoCScope},form:{CFR_Utils:kN}},eL={PDFPageRender:lh,PDFDocRender:Xh,annotsRender:{AnnotRender:ne,ViewerAnnotManager:zb}},tL={BookmarkDataService:qD};window.PDF=$N;var nL=n(5461),iL=n.n(nL);ze().extend(iL())},4593:(e,t,n)=>{"use strict";n(1359),n(6176),n(1718);window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){var i=this.toDataURL(t,n).split(",")[1];setTimeout((function(){for(var n=atob(i),r=n.length,o=new Uint8Array(r),a=0;a<r;a++)o[a]=n.charCodeAt(a);e(new Blob([o],{type:t||"image/png"}))}))}})},1359:()=>{!function(){var e=function(e){return e.replace(i,(function(e,t){return t.toUpperCase()}))},t=function(){for(var t={},n=this.attributes,i=n.length,o=0;o<i;o+=1){var a=n[o],s=a.name,c=a.value;s.substring(0,r.length)===r&&(t[e(s.substring(r.length))]=c)}return t},n=document.createElement("_");if(void 0===n.dataset){var i=/\-([a-z])/gi,r="data-",o=!!document.addEventListener,a=!1,s="DOMAttrModified";o?n.addEventListener(s,c,!1):n.attachEvent("on"+s,c),n.setAttribute("foo","bar"),Object.defineProperty(Element.prototype,"dataset",{get:a?function(){return this._datasetCache||(this._datasetCache=t.call(this)),this._datasetCache}:t}),a&&o&&document.addEventListener(s,(function(e){delete e.target._datasetCache}),!1)}function c(){o?n.removeEventListener(s,c,!1):n.detachEvent("on"+s,c),a=!0}}()},1718:()=>{Array.prototype.findLast||(Array.prototype.findLast=function(e){for(var t=this.length-1;t>0;){var n=this[t];if(e(n,t,this))return n;t--}})},6176:()=>{!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=function(e){for(var t=window.document,n=r(t);n;)n=r(t=n.ownerDocument);return t}(),t=[],n=null,i=null;a.prototype.THROTTLE_TIMEOUT=100,a.prototype.POLL_INTERVAL=null,a.prototype.USE_MUTATION_OBSERVER=!0,a._setupCrossOriginUpdater=function(){return n||(n=function(e,n){i=e&&n?d(e,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},t.forEach((function(e){e._checkForIntersections()}))}),n},a._resetCrossOriginUpdater=function(){n=null,i=null},a.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},a.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},a.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},a.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},a.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},a.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},a.prototype._monitorIntersections=function(t){var n=t.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(t)){var i=this._checkForIntersections,o=null,a=null;this.POLL_INTERVAL?o=n.setInterval(i,this.POLL_INTERVAL):(s(n,"resize",i,!0),s(t,"scroll",i,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(a=new n.MutationObserver(i)).observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(t),this._monitoringUnsubscribes.push((function(){var e=t.defaultView;e&&(o&&e.clearInterval(o),c(e,"resize",i,!0)),c(t,"scroll",i,!0),a&&a.disconnect()}));var u=this.root&&(this.root.ownerDocument||this.root)||e;if(t!=u){var l=r(t);l&&this._monitorIntersections(l.ownerDocument)}}},a.prototype._unmonitorIntersections=function(t){var n=this._monitoringDocuments.indexOf(t);if(-1!=n){var i=this.root&&(this.root.ownerDocument||this.root)||e,o=this._observationTargets.some((function(e){var n=e.element.ownerDocument;if(n==t)return!0;for(;n&&n!=i;){var o=r(n);if((n=o&&o.ownerDocument)==t)return!0}return!1}));if(!o){var a=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),a(),t!=i){var s=r(t);s&&this._unmonitorIntersections(s.ownerDocument)}}}},a.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var t=0;t<e.length;t++)e[t]()},a.prototype._checkForIntersections=function(){if(this.root||!n||i){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(i){var r=i.element,a=l(r),s=this._rootContainsTarget(r),c=i.entry,u=e&&s&&this._computeTargetAndRootIntersection(r,a,t),A=null;this._rootContainsTarget(r)?n&&!this.root||(A=t):A={top:0,bottom:0,left:0,right:0,width:0,height:0};var d=i.entry=new o({time:window.performance&&performance.now&&performance.now(),target:r,boundingClientRect:a,rootBounds:A,intersectionRect:u});c?e&&s?this._hasCrossedThreshold(c,d)&&this._queuedEntries.push(d):c&&c.isIntersecting&&this._queuedEntries.push(d):this._queuedEntries.push(d)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},a.prototype._computeTargetAndRootIntersection=function(t,r,o){if("none"!=window.getComputedStyle(t).display){for(var a=r,s=f(t),c=!1;!c&&s;){var A=null,h=1==s.nodeType?window.getComputedStyle(s):{};if("none"==h.display)return null;if(s==this.root||9==s.nodeType)if(c=!0,s==this.root||s==e)n&&!this.root?!i||0==i.width&&0==i.height?(s=null,A=null,a=null):A=i:A=o;else{var p=f(s),v=p&&l(p),g=p&&this._computeTargetAndRootIntersection(p,v,o);v&&g?(s=p,A=d(v,g)):(s=null,a=null)}else{var m=s.ownerDocument;s!=m.body&&s!=m.documentElement&&"visible"!=h.overflow&&(A=l(s))}if(A&&(a=u(A,a)),!a)break;s=s&&f(s)}return a}},a.prototype._getRootRect=function(){var t;if(this.root&&!p(this.root))t=l(this.root);else{var n=p(this.root)?this.root:e,i=n.documentElement,r=n.body;t={top:0,left:0,right:i.clientWidth||r.clientWidth,width:i.clientWidth||r.clientWidth,bottom:i.clientHeight||r.clientHeight,height:i.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(t)},a.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},a.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,i=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==i)for(var r=0;r<this.thresholds.length;r++){var o=this.thresholds[r];if(o==n||o==i||o<n!=o<i)return!0}},a.prototype._rootIsInDom=function(){return!this.root||h(e,this.root)},a.prototype._rootContainsTarget=function(t){var n=this.root&&(this.root.ownerDocument||this.root)||e;return h(n,t)&&(!this.root||n==t.ownerDocument)},a.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},a.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=a,window.IntersectionObserverEntry=o}function r(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(e){return null}}function o(e){this.time=e.time,this.target=e.target,this.rootBounds=A(e.rootBounds),this.boundingClientRect=A(e.boundingClientRect),this.intersectionRect=A(e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,i=this.intersectionRect,r=i.width*i.height;this.intersectionRatio=n?Number((r/n).toFixed(4)):this.isIntersecting?1:0}function a(e,t){var n,i,r,o=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType&&9!=o.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),i=this.THROTTLE_TIMEOUT,r=null,function(){r||(r=setTimeout((function(){n(),r=null}),i))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function s(e,t,n,i){"function"==typeof e.addEventListener?e.addEventListener(t,n,i||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function c(e,t,n,i){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,i||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function u(e,t){var n=Math.max(e.top,t.top),i=Math.min(e.bottom,t.bottom),r=Math.max(e.left,t.left),o=Math.min(e.right,t.right),a=o-r,s=i-n;return a>=0&&s>=0&&{top:n,bottom:i,left:r,right:o,width:a,height:s}||null}function l(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function A(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function d(e,t){var n=t.top-e.top,i=t.left-e.left;return{top:n,left:i,height:t.height,width:t.width,bottom:n+t.height,right:i+t.width}}function h(e,t){for(var n=t;n;){if(n==e)return!0;n=f(n)}return!1}function f(t){var n=t.parentNode;return 9==t.nodeType&&t!=e?r(t):(n&&n.assignedSlot&&(n=n.assignedSlot.parentNode),n&&11==n.nodeType&&n.host?n.host:n)}function p(e){return e&&9===e.nodeType}}()},9960:(e,t,n)=>{"use strict";n.r(t),n.d(t,{IndexDBStore:()=>h,default:()=>d});var i=n(9227),r=n(7424),o=n(5467),a=n(5376),s=n(7984),c="object"==typeof window?window:"function"==typeof importScripts?self:{},u=c.indexedDB||c.mozIndexedDB||c.webkitIndexedDB||c.msIndexedDB,l=c.IDBTransaction||c.webkitIDBTransaction||c.msIDBTransaction,A={},d=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];(0,i._)(this,e),this.dbName=n,this.storeName=t,this.keyPath="id",this.version=r,this.indexArr=o}return(0,r._)(e,[{key:"_getDB",value:function(){var e=this,t=this.dbName,n=A[t];if(n)return n;var i=(0,s.createDeferred)(),r=A[t]=i.promise,o=u.open(t,this.version),a=this.keyPath;return o.onerror=function(e){i.reject(e)},o.onupgradeneeded=function(t){var n=t.target.result;if(!n.objectStoreNames.contains(e.storeName)){var i=n.createObjectStore(e.storeName,{keyPath:a});e.indexArr.length&&e.indexArr.forEach((function(e){var t=e.indexKey,n=e.unique,r=void 0!==n&&n;i.createIndex(t,t,{unique:r})}))}},o.onsuccess=function(e){i.resolve(e.target.result)},r}},{key:"set",value:function(e,t){var n=this;return u?this._getDB().then((function(i){var r=n.storeName,o=n.keyPath,a=i.transaction([r],l.READ_WRITE||"readwrite").objectStore(r),c={value:t};c[o]=e.toString();var u=a.put(c),A=(0,s.createDeferred)();return u.onsuccess=function(e){A.resolve()},u.onerror=function(e){A.reject(e)},A.promise})):Promise.resolve()}},{key:"get",value:function(e){var t=this;return u?this._getDB().then((function(n){var i=(0,s.createDeferred)(),r=t.storeName;if(!n.objectStoreNames.contains(r))return i.resolve();var o=n.transaction([r]).objectStore(r).get(e);return o.onsuccess=function(e){var t=e.target.result;if(!t)return i.resolve();i.resolve(t.value)},o.onerror=function(e){i.reject(e)},o.oncomplete=function(e){},i.promise})):Promise.resolve(null)}},{key:"getByIndex",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return u&&this.indexArr.some((function(t){return t.indexKey===e}))?this._getDB().then((function(r){var o=(0,s.createDeferred)(),a=n.storeName;if(!r.objectStoreNames.contains(a))return o.resolve();var c=r.transaction([a]).objectStore(a).index(e).openCursor(null,"next"),u=[];return c.onsuccess=function(n){var r=n.target.result;if(r){var a=r.value[e];return i?a.toLowerCase().indexOf(t.toLowerCase())>-1&&u.push(r.value):a===t&&u.push(r.value),void r.continue()}o.resolve(u)},c.onerror=function(e){o.reject(e)},c.oncomplete=function(e){},o.promise})):Promise.resolve(null)}},{key:"remove",value:function(e){var t=this;return u?this._getDB().then((function(n){var i=t.storeName;if(n.objectStoreNames.contains(i)){var r=n.transaction([i],l.READ_WRITE||"readwrite").objectStore(i).delete(e),o=(0,s.createDeferred)();return r.onsuccess=function(e){o.resolve()},r.onerror=function(e){o.reject()},o.promise}})):Promise.resolve()}},{key:"clear",value:function(){var e=this;return u?this._getDB().then((function(t){var n=e.storeName;if(t.objectStoreNames.contains(n)){var i=t.transaction([n],l.READ_WRITE||"readwrite").objectStore(n).clear(),r=(0,s.createDeferred)();return i.onsuccess=function(e){r.resolve()},i.onerror=function(e){r.reject()},r.promise}})):Promise.resolve()}},{key:"destroy",value:function(){var e=this.dbName;delete A[e],u&&u.deleteDatabase(e)}},{key:"getAllKeys",value:function(){var e=this;return u?this._getDB().then((function(t){var n=(0,s.createDeferred)(),i=e.storeName;if(!t.objectStoreNames.contains(i))return n.resolve();var r=t.transaction([i]).objectStore(i).getAllKeys();return r.onsuccess=function(e){var t=e.target.result;if(!t)return n.resolve([]);n.resolve(t)},r.onerror=function(e){n.reject(e)},r.oncomplete=function(e){},n.promise})):Promise.resolve([])}}]),e}(),h=function(e){(0,o._)(n,e);var t=(0,a._)(n);function n(e,r){var o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"id",c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return(0,i._)(this,n),(o=t.call(this,e,r,a,c)).keyPath=s,o}return(0,r._)(n,[{key:"set",value:function(){throw new Error('This method is duplicated, please use "add" instead.')}},{key:"add",value:function(e){var t=this;return u?this._getDB().then((function(n){var i=t.storeName,r=(t.keyPath,n.transaction([i],l.READ_WRITE||"readwrite").objectStore(i).put(e)),o=(0,s.createDeferred)();return r.onsuccess=function(e){o.resolve()},r.onerror=function(e){o.reject(e)},o.promise})):Promise.resolve()}},{key:"addItems",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(t)&&t.length&&u?this._getDB().then((function(n){for(var i=function(e){var n=t[e],i=o.put(n),r=(0,s.createDeferred)();i.onsuccess=function(e){r.resolve()},i.onerror=function(e){r.reject(e)},c.push(r.promise)},r=e.storeName,o=(e.keyPath,n.transaction([r],l.READ_WRITE||"readwrite").objectStore(r)),a=t.length,c=[],u=0;u<a;u++)i(u);return Promise.all(c)})):Promise.resolve()}},{key:"update",value:function(e,t,n){var i=this;return u?this.get(e).then((function(e){return e[t]=n,i.add(e)})):Promise.resolve()}},{key:"get",value:function(e){var t=this;return u?this._getDB().then((function(n){var i=(0,s.createDeferred)(),r=t.storeName;if(!n.objectStoreNames.contains(r))return i.resolve();var o=n.transaction([r]).objectStore(r).get(e);return o.onsuccess=function(e){var t=e.target.result;if(!t)return i.resolve();i.resolve(t)},o.onerror=function(e){i.reject(e)},o.oncomplete=function(e){},i.promise})):Promise.resolve(null)}},{key:"getAll",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return u?this._getDB().then((function(i){var r=(0,s.createDeferred)(),o=e.storeName;if(!i.objectStoreNames.contains(o))return r.resolve();var a=i.transaction([o]).objectStore(o);if(IDBObjectStore.prototype.getAll){var c=a.getAll(t,n);return c.onsuccess=function(e){var t=e.target.result;if(!t)return r.resolve();r.resolve(t)},c.onerror=function(e){r.reject(e)},r.promise}var u=a.openCursor(t),l=[];return u.onsuccess=function(e){var t=e.target.result;t&&(l.push(t.value),void 0===n||l.length<n)?t.continue():r.resolve(l)},u.onerror=function(e){r.reject(e)},r.promise})):Promise.resolve(null)}},{key:"getAllKeys",value:function(e){var t=this;return u?this._getDB().then((function(n){var i=(0,s.createDeferred)(),r=t.storeName;if(!n.objectStoreNames.contains(r))return i.resolve();var o=n.transaction([r]).objectStore(r);if(IDBObjectStore.prototype.getAllKeys){var a=o.getAllKeys(null,e);return a.onsuccess=function(e){var t=e.target.result;if(!t)return i.resolve();i.resolve(t)},a.onerror=function(e){i.reject(e)},i.promise}var c=o.openCursor(key),u=[];return c.onsuccess=function(t){var n=t.target.result;n&&(u.push(n.key),void 0===e||u.length<e)?n.continue():i.resolve(u)},c.onerror=function(e){i.reject(e)},i.promise})):Promise.resolve(null)}}]),n}(d)},3397:(e,t,n)=>{"use strict";n.d(t,{T:()=>i,vg:()=>o,yR:()=>r});var i=function(){return!0},r=function(e){return e},o=function(e,t){return t[e]}},3601:(e,t,n)=>{"use strict";n.d(t,{ke:()=>p,oC:()=>f,F2:()=>h});var i=n(7984);n(248);var r=n(9227),o=n(7424),a=n(5991),s=n(449);var c,u=function(){function e(t){(0,r._)(this,e),(0,a._)(this,"values",void 0),(0,a._)(this,"cols",void 0),(0,i.assertThat)(Array.isArray(t),"Illegal Matrix values, it should be an array! But actual: "+t),(0,i.assertThat)(16===t.length,"Incorrect matrix values size, it must be 16!"),this.values=t,this.cols=Math.sqrt(t.length)}return(0,o._)(e,[{key:"multiVec4",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return[this.getAt(0,0)*e+this.getAt(0,1)*t+this.getAt(0,2)*n+this.getAt(0,3)*i,this.getAt(1,0)*e+this.getAt(1,1)*t+this.getAt(1,2)*n+this.getAt(1,3)*i,this.getAt(2,0)*e+this.getAt(2,1)*t+this.getAt(2,2)*n+this.getAt(2,3)*i,this.getAt(3,0)*e+this.getAt(3,1)*t+this.getAt(3,2)*n+this.getAt(3,3)*i]}},{key:"getAt",value:function(e,t){var n=e*this.cols+t;return(0,i.assertThat)(n<this.values.length,"Cannot access value at (".concat(e,",").concat(t,"), it out bound of this matrix!")),this.values[n]}}]),e}(),l=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,r._)(this,e),(0,a._)(this,"a",void 0),(0,a._)(this,"b",void 0),(0,a._)(this,"c",void 0),(0,a._)(this,"d",void 0),this.a=t,this.b=n,this.c=i,this.d=o}return(0,o._)(e,[{key:"transform",value:function(t){var n=(0,s._)(t.multiVec4(this.a,this.b,this.c,this.d),4);return new e(n[0],n[1],n[2],n[3])}},{key:"scale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return this.transform(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return new u([e,0,0,0,0,t,0,0,0,0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,0,0,0,0,1])}(e,t,n))}},{key:"rotateZ",value:function(e){return this.transform(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)/180*Math.PI,t=Math.cos(e),n=Math.sin(e);return new u([t,n,0,0,-n,t,0,0,0,0,1,0,0,0,0,1])}(e))}},{key:"translate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.transform(function(e){return new u([1,0,0,e,0,1,0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,0,0,1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,0,0,0,1])}(e,t,n))}}]),e}(),A=72;function d(e){return function(){if(!c){var e=(0,i.getDPI)();c=[e.x,e.y]}return c}()[e]}function h(e){return e*d(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)/A}function f(e){return e*i.dpr}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=new l(e,t,0).scale(n).rotateZ(i);return[Math.round(Math.abs(r.a)),Math.round(Math.abs(r.b))]}},6453:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(9227);const r=function e(t,n){(0,i._)(this,e),this.option=t,this.ioc=n}},9475:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(3397);const r={annotationUpdated:"annotation-updated",annotationIDUpdated:"annotation-id-updated",annotationAppearanceUpdated:"annotation-appearance-updated",annotationReplyAdd:"annotation-reply-add",annotationReplyAdded:"annotation-reply-add",annotationReviewStateAnnotAdd:"annotation-review-state-annot-add",annotationReviewStateAnnotAdded:"annotation-review-state-annot-add",annotationMarkedStateAnnotAdd:"annotation-marked-state-annot-add",annotationMarkedStateAnnotAdded:"annotation-marked-state-annot-add",annotationStatesCleared:"annotation-states-cleared",annotationRemoved:"annotation-removed",annotationMovedPosition:"annotation-moved-position",annotationPositionMoved:"annotation-moved-position",annotationOrderChanged:"annotation-order-changed",annotationAdded:"annotation-add",annotationAdd:"annotation-add",moveAnnotsToPages:"moveAnnotsToPages",annotationImported:"annotation-imported",annotationImportedEx:"annotation-imported-ex",annotationLoaded:"annotation-loaded",actionUpdated:"action-updated",actionAdd:"action-add",actionAdded:"action-add",actionRemove:"action-remove",actionRemoved:"action-remove",layerVisibleChange:"layer-visible-change",layerVisibleChanged:"layer-visible-change",layerRemoved:"layer-removed",layerMerged:"layer-merged",layerAdded:"layer-added",bookmarkAdded:"bookmark-added",structureBookmarkAdded:"structure-bookmark-added",bookmarkUpdated:"bookmark-updated",bookmarkRemoved:"bookmark-removed",stateAnnotNameUpdated:"state-annot-name-updated",pageInfoChange:"page-info-change",pageInfoChanged:"page-info-change",pageRotationChange:"page-rotation-change",beforePageRotationChanged:"before-page-rotation-changed",pageRotationChanged:"page-rotation-change",imageAdded:"image-added",watermarksAdded:"watermarks-added",watermarkAdded:"watermark-added",watermarkRemoved:"watermark-removed",graphicsUpdated:"graphics-updated",permissionChanged:"permission-changed",docPasswordChanged:(0,i.yR)("doc-password-changed"),drmEncryptSuccess:"drm-encrypt-success",drmEncryptSucceeded:"drm-encrypt-success",drmEncryptFailed:"drm-encrypt-failed",removePwdAndPerm:(0,i.yR)("remove-password-and-permission"),pwdAndPermRemoved:(0,i.yR)("remove-password-and-permission"),securityTypeChanged:"security-type-changed",pageMoved:"page-moved",pageRemoved:"page-removed",pageAdded:"page-added",insertPages:"import-pages",pagesInserted:"import-pages",importPages:"import-pages",documentAttachmentAdd:"document-attachment-add",docAttachmentAdded:"document-attachment-add",documentAttachmentModify:"document-attachment-modify",docAttachmentModified:"document-attachment-modify",documentAttachmentRemove:"document-attachment-remove",docAttachmentRemoved:"document-attachment-remove",applyRedaction:"apply-redaction",redactionApplied:"apply-redaction",removeReviewState:"remove-review-state",reviewStateRemoved:"remove-review-state",removeMarkedState:"remove-marked-state",markedStateRemoved:"remove-marked-state",formValueChanged:"form-value-changed",metaDataChanged:"meta-data-changed",docModified:"doc-modified",flattened:"flattened",flattenAnnotation:"flatten-annotation",headerFooterUpdated:"headerFooterUpdated",headerFooterAdded:"headerFooterAdded",calculationOrderUpdated:"calculationOrderUpdated",COChange:"COChange",COChanged:"COChange",pagesMoved:"pages-moved",pagesReverseStart:"pagesReverseStart",pagesReversed:"pagesReversed",pagesRemoved:"pages-removed",pagesRotated:"pages-rotated",pageMeasureScaleRatioChanged:" page-measure-scale-ratio-changed",obtainsPageFromEngine:"obtains-page-from-engine",pagesBoxChange:"pages-box-changed",pagesBoxChanged:"pages-box-changed",pagesLabelChange:"pages-label-change",pagesLabelChanged:"pages-label-change",pagesLabelNeedUpdate:"pages-label-need-change",pagesLabelNeedUpdated:"pages-label-need-change",pagesReplace:"pages-replace",pagesReplaced:"pages-replace",recognitionForm:"recognition-form",removeEmbeddedPageThumbnail:"remove-embedded-page-thumbnail",embeddedPageThumbnailRemoved:"remove-embedded-page-thumbnail",objectStartEdit:"object-start-edit",objectEndEdit:"object-end-edit",objectSelectionChanged:"object-selection-changed",objectAdded:"object-added",objectPropertyChanged:"object-property-changed",objectContentChanged:"object-content-changed",paragraphContentChanged:"paragraph-text-changed",paragraphTextOnActivate:"paragraph-text-on-activate",paragraphTextOnDeactivate:"paragraph-text-on-deactivate",paragraphTextEnterEdit:"paragraph-text-enter-edit",paragraphTextExitEdit:"paragraph-text-exit-edit",paragraphTextOnChar:"paragraph-text-on-char",findSuccess:"find-success",replaceSuccess:"replace-success",replaceAllSuccess:"replace-all-success",articleThreadAdded:"article-thread-added",articleThreadUpdated:"article-thread-updated",articleThreadRemoved:"article-thread-removed",articleBeadAdded:"article-bead-added",articleBeadRemoved:"article-bead-removed",articleBeadUpdated:"article-bead-updated",articleEnterReadMode:"article-enter-read-mode",articleOutReadMode:"article-out-read-mode",invalidRect:"invalidRect",xfaContentChanged:"xfa-content-changed",formReloaded:"formReloaded",formFieldImported:"form-field-imported",pagingSealUpdated:"paging-seal-updated",xfaFormImported:"xfa-form-imported",xfaFormReset:"xfa-form-reset",xfaFormRemoved:"xfa-form-removed",textSplited:"text-splited",formFieldPropertyUpdated:"form-field-property-updated",formFieldRenamed:"form-field-renamed",formFieldRemoved:"form-field-removed",formReset:"form-reset",formImported:"form-imported",tabOrderTypeUpdated:"tab-order-type-updated",pageAdditionalActionAdded:"page-additional-action-added",pageAdditionalActionUpdated:"page-additional-action-updated",pageAdditionalActionRemoved:"page-additional-action-removed",docAdditionalActionAdded:"doc-additional-action-added",docAdditionalActionUpdated:"doc-additional-action-updated",docAdditionalActionRemoved:"doc-additional-action-removed",docOpenActionUpdated:"doc-open-action-updated",docOpenActionRemoved:"doc-open-action-removed",formWidgetCreated:"form-widget-created",pdfDocCreated:"pdf-doc-created"}},248:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(9227),r=n(7424),o=n(5843);const a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if((0,i._)(this,e),"function"==typeof t.transformRect){var c=t;t=c.a,n=c.b,r=c.c,o=c.d,a=c.e,s=c.f}else if(Array.isArray(t)){var u=t;t=u[0],n=u[1],r=u[2],o=u[3],a=u[4],s=u[5]}this.a=t,this.b=n,this.c=r,this.d=o,this.e=a,this.f=s}return(0,r._)(e,[{key:"set",value:function(e,t,n,i,r,o){this.a=e,this.b=t,this.c=n,this.d=i,this.e=r,this.f=o}},{key:"reset",value:function(){this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0}},{key:"reverse",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,n=t.a*t.d-t.b*t.c;if(0==n)return t;var i=-n;return new e(t.d/n,t.b/i,t.c/i,t.a/n,(t.c*t.f-t.d*t.e)/n,(t.a*t.f-t.b*t.e)/i)}},{key:"setReverse",value:function(e){var t=this.reverse(e);this.set(t.a,t.b,t.c,t.d,t.e,t.f)}},{key:"rotate",value:function(t,n){var i,r=Math.cos(t),o=Math.sin(t),a=new e(r,o,-o,r,0,0);i=n?e.Concat2mt(a,this):e.Concat2mt(this,a),this.set(i.a,i.b,i.c,i.d,i.e,i.f)}},{key:"rotateAt",value:function(e,t,n,i){this.translate(e,t,i),this.rotate(n,i),this.translate(-e,-t,i)}},{key:"translate",value:function(e,t,n){n?(this.e+=e*this.a+t*this.c,this.f+=t*this.d+e*this.b):(this.e+=e,this.f+=t)}},{key:"concat",value:function(t,n,i,r,a,s,c){var u,l;(0,o._)(t,e)?(u=t,c=n):u=new e(t,n,i,r,a,s),l=c?e.Concat2mt(u,this):e.Concat2mt(this,u),this.set(l.a,l.b,l.c,l.d,l.e,l.f)}},{key:"is90Rotated",value:function(){var e=1e3*this.a;e<0&&(e*=-1);var t=1e3*this.d;t<0&&(t*=-1);var n=this.b;n<0&&(n*=-1);var i=this.c;return i<0&&(i*=-1),e<n&&t<i}},{key:"isScaled",value:function(){var e=1e3*this.b;e<0&&(e*=-1);var t=1e3*this.c;t<0&&(t*=-1);var n=this.a;n<0&&(n*=-1);var i=this.d;return i<0&&(i*=-1),e<n&&t<i}},{key:"getA",value:function(){return this.a}},{key:"getB",value:function(){return this.b}},{key:"getC",value:function(){return this.c}},{key:"getD",value:function(){return this.d}},{key:"getE",value:function(){return this.e}},{key:"getF",value:function(){return this.f}},{key:"scale",value:function(e,t,n){this.a*=e,this.d*=t,n?(this.b*=e,this.c*=t):(this.b*=t,this.c*=e,this.e*=e,this.f*=t)}},{key:"transformXDistance",value:function(e){var t=this.a*e,n=this.b*e;return Math.sqrt(t*t+n*n)}},{key:"transformYDistance",value:function(e){var t=this.c*e,n=this.d*e;return Math.sqrt(t*t+n*n)}},{key:"transformDistance",value:function(e,t){var n=this.a*e+this.c*t,i=this.b*e+this.d*t;return Math.sqrt(n*n+i*i)}},{key:"transformPoint",value:function(e,t){return[this.a*e+this.c*t+this.e,this.b*e+this.d*t+this.f]}},{key:"transformRect",value:function(e,t,n,i){for(var r,o=[e,e,n,n],a=[t,i,t,i],s=0;s<4;s++)r=this.transformPoint(o[s],a[s]),o[s]=r[0],a[s]=r[1];for(var c=[o[0],o[0],a[0],a[0]],u=1;u<4;u++)c[0]>o[u]&&(c[0]=o[u]),c[1]<o[u]&&(c[1]=o[u]),c[2]>a[u]&&(c[2]=a[u]),c[3]<a[u]&&(c[3]=a[u]);return[c[0],c[2],c[1],c[3]]}},{key:"getXUnit",value:function(){var e=this.a,t=this.b;return 0===t?Math.abs(e):0===e?Math.abs(t):Math.sqrt(e*e+t*t)}},{key:"getYUnit",value:function(){var e=this.c,t=this.d;return 0===e?Math.abs(t):0===t?Math.abs(e):Math.sqrt(e*e+t*t)}},{key:"getUnitRect",value:function(){return this.transformRect(0,0,1,1)}},{key:"matchRect",value:function(e,t){var n=t[0]-t[2];this.a=Math.abs(n)<.001?1:(e[0]-e[2])/n,n=t[3]-t[1],this.d=Math.abs(n)<.001?1:(e[3]-e[1])/n,this.e=e[0]-t[0]*this.a,this.f=e[3]-t[3]*this.d,this.b=0,this.c=0}},{key:"getAngle",value:function(){return Math.atan2(this.b,this.a)}},{key:"toArray",value:function(){return[this.a,this.b,this.c,this.d,this.e,this.f]}}],[{key:"Concat2mt",value:function(t,n){return new e(t.a*n.a+t.b*n.c,t.a*n.b+t.b*n.d,t.c*n.a+t.d*n.c,t.c*n.b+t.d*n.d,t.e*n.a+t.f*n.c+n.e,t.e*n.b+t.f*n.d+n.f)}}]),e}()},9880:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(9227),r=n(7424),o=n(6905),a=n(9418),s=n(5467),c=n(5843),u=n(5376),l=n(7984),A=function(){};const d=function(e){(0,s._)(n,e);var t=(0,u._)(n);function n(e,r){var o;(0,i._)(this,n);(o=t.call(this)).cacheMap={},o.callMap={},o.listeners={};o.ioc=r,o.setWorker(e),o.promises=[],o.workflow={out:[]},o._isIE10=l.isIE10,o.isDestroyed=!1;var a=o.ioc.getInstanceByClass(l.SyncGeneratorInvoker);return o.syncInvoker=a,o}return(0,r._)(n,[{key:"createMessageChannel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new l.MessageChannel(this.syncInvoker.workerMessageAdaptor(this.worker),e,t);return n.ownsTo(this),n}},{key:"destroy",value:function(){this.isDestroyed||((0,o._)((0,a._)(n.prototype),"destroy",this).call(this),this.isDestroyed=!0,this.worker&&this.worker.terminate())}},{key:"setWorker",value:function(e){var t=this,n=this.cacheMap,i=this.callMap,r=this.listeners;this.worker=e,e.onmessage=function(o){var a=o.data;if(a.workflow){var s=t.workflow[a.workflow];return s?s.forEach((function(e){return e(a)})):void 0}var u=a.destroyId;if(u)delete i[u];else{var l=a.params;if(a.uiListener){var d=r[a.uiListener];if(d)for(var h=0,f=d.length;h<f;h++)d[h](l)}else{var p=a.callId;if(p)Promise.resolve((i[p]||A)(l)).then((function(n){var i=(0,c._)(n,ArrayBuffer)?[n]:[];t._isIE10&&(i=null),e.postMessage({backId:a.backId,params:n},i)}));else{var v=a.id,g=n[v];if(g){delete n[v];var m=+a.type;try{if(0===m)g&&g.resolve(l);else if(1===m){var y=new Error(l.message);y.stack=l.stack,g&&g.reject(y)}else 0}catch(e){0}}setTimeout((function(){if(Object.keys(n).length<1){var e=t.listeners.idle;e&&e.forEach((function(e){return e()}));var i=t.listeners.reset;i&&i.forEach((function(e){return e()}))}}),0)}}}},e.onerror=function(e){console.error("WorkerError",e)}}},{key:"emit",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._isIE10&&(i=i[0]);var o=t&&t[0];return"object"==typeof o&&"clientTransfer"in o&&(i=o.clientTransfer),new Promise((function(o,a){var s=(0,l.getUniqueId)("worker");if(n.cacheMap[s]={resolve:o,reject:a},n.syncInvoker.isStarted())n.syncInvoker.postWorkerMessage({name:e,params:t,id:s,more:r});else try{n.worker.postMessage({name:e,params:t,id:s,more:r},i)}catch(i){n.worker.postMessage({name:e,params:t,id:s,more:r})}}))}},{key:"calls",value:function(e){var t=(0,l.getUniqueId)("worker_call");return this.callMap[t]=e,t}},{key:"releaseCall",value:function(e){delete this.callMap[e]}},{key:"once",value:function(e,t){var n=this,i=arguments,r=this.listeners[e]=this.listeners[e]||[],o=function(){t.apply(n,i),n.off(e,o)};return r.push(o),function(){return n.off(e,o)}}},{key:"on",value:function(e,t){(this.listeners[e]=this.listeners[e]||[]).push(t)}},{key:"registerWorkflow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"out",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.workflow[e]?this.workflow[e].push(t):this.workflow[e]=[t]}},{key:"unregisterWorkflow",value:function(e,t){var n=this.workflow[e].indexOf(t);n>=0&&this.workflow[e].splice(n,1)}},{key:"off",value:function(e,t){var n=this.listeners[e];if(n){var i=n.indexOf(t);-1!=i&&n.splice(i,1)}}},{key:"over",value:function(e){}}]),n}(l.Disposable)},9867:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var i=n(9227),r=n(7424),o=n(5467),a=n(5376),s=(n(6929),n(7984)),c=(n(7147),n(1550)),u=n(5843),l=n(6073),A=n(4919),d=n(6453),h=n(9880);function f(e){var t=[];return(0,u._)(e,ArrayBuffer)&&(t=[e]),t}var p="FoxitPDFSDKForWeb_JREngineCache_",v=p+"wasmBinary",g=p+"asmMem",m=p+"asmJs",y={get:function(e,t,n){return void 0===e[t]?function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.workerPromise.emit(t,i)}:Reflect.get(e,t,n)}},_=function(e){(0,o._)(n,e);var t=(0,a._)(n);function n(e,r){var o,a;if((0,i._)(this,n),(o=t.call(this,e,r)).readyWorker=null,a=e.readyWorker){o.readyWorker=a,w(o.workerPromise=new h.Z(a.worker,o.ioc));var c=function(){e.licenseSN=e.licenseKey=e.l=""};return a.initJREnginePromise.then(c,c),(0,l._)(o)}var u=e.workerPath,A=e.workerBlobUrl;"/"!==u[u.length-1]&&(u+="/");var d=o.workerUrl=u+"WebPDFJRWorker.js?h=44ee28cef20a1315c04a834083f17852",f=A||d;f+=(f.indexOf("?")>-1?"&":"?")+"dpr="+window.devicePixelRatio;var p=new Worker(f);return s.isIE&&(p.terminate(),p=new Worker(f)),w(o.workerPromise=new h.Z(p,o.ioc)),o}return(0,r._)(n,[{key:"setWorker",value:function(e){this.workerPromise.setWorker(e)}},{key:"registerWorkflow",value:function(e,t){this.workerPromise.registerWorkflow(e,t)}},{key:"unregisterWorkflow",value:function(e,t){this.workerPromise.unregisterWorkflow(e,t)}},{key:"init",value:function(){var e;if(e=this.readyWorker)return new Promise((function(t,n){return e.initJREnginePromise.then(t,n)}));var t,n={};(t=localStorage.getItem(v))&&(n.wasmBinary=t),(t=localStorage.getItem(g))&&(n.asmMem=t),(t=localStorage.getItem(m))&&(n.asmJs=t);var i=this.option,r=this.workerPromise;i.cache=n,i.compatibilityURL=r.calls((function(e){return URL.createObjectURL(e)})),i.d=location.href;var o=r.emit("initJREngine",i).then((function(e){return e}));return o.finally((function(){r.releaseCall(i.compatibilityURL)})),o}},{key:"once",value:function(e,t){return this.workerPromise.once(e,t)}},{key:"off",value:function(e,t){return this.workerPromise.off(e,t)}},{key:"handleGroupMarkup",value:function(e,t,n,i){return this.workerPromise.emit("handleGroupMarkup",{docId:e,pageId:t,annotIds:n,isGroup:i})}},{key:"continueProgress",value:function(e){return this.workerPromise.emit("progressContinue",{progressiveId:e})}},{key:"cancleProgress",value:function(e){return this.workerPromise.emit("cancleProgress",{progressiveId:e})}},{key:"getPDFDocIdByFile",value:function(e,t){var n=f(e);return this.workerPromise.emit("getPDFDocByFile",{file:e,option:t},n)}},{key:"createNewDoc",value:function(e,t,n){return this.workerPromise.emit("createNewDoc",{title:e,author:t,pageSize:n})}},{key:"createNewDocEx",value:function(e,t,n){return this.workerPromise.emit("createNewDocEx",{title:e,author:t,pageSize:n})}},{key:"createNewPortfolioDoc",value:function(e,t,n){var i=[e].concat((0,A._)(t||[]));return this.workerPromise.emit("createNewPortfolioDoc",{fileCoversheet:e,files:t,title:n},i)}},{key:"getPDFDocIdByChunk",value:function(e,t){var n=this,i=this.workerPromise.calls(t),r=this.workerPromise.emit("getPDFDocAsync",{size:e,getChunk:i});return r.finally((function(){n.workerPromise.releaseCall(i)})),r}},{key:"getPDFDocIdByHttpRangeRequest",value:function(e){return this.workerPromise.emit("getPDFDocIdByHttpRangeRequest",{size:e.size,range:e.range})}},{key:"getPDFDocIdByArrayBuffer",value:function(e){return this.workerPromise.emit("getPDFDocByArrayBuffer",{buffer:e},[e])}},{key:"setIcons",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.workerPromise.emit("setIcons",{icons:e})}},{key:"addIcon",value:function(e){return this.workerPromise.emit("addIcon",{icon:e})}},{key:"removeIcon",value:function(e,t,n){return this.workerPromise.emit("removeIcon",{type:e,catalog:t,name:n})}},{key:"checkCertificatePassword",value:function(e,t){return this.workerPromise.emit("checkCertificatePassword",{pfxFile:e,password:t})}},{key:"getCertificateInfo",value:function(e,t){return this.workerPromise.emit("getCertificateInfo",{file:e,password:t})}},{key:"createCertificateFile",value:function(e,t){return this.workerPromise.emit("createCertificateFile",{docId:e,info:t})}},{key:"getCertificateSerials",value:function(e){return this.workerPromise.emit("getCertificateSerials",{docId:e})}},{key:"parseByCertificate",value:function(e,t){return this.workerPromise.emit("parseByCertificate",{docId:e,info:t})}},{key:"parsePDFDocByPassword",value:function(e,t,n){var i=[],r=n.fdf;return r&&(0,u._)(r.file,ArrayBuffer)&&(i=[r.file]),this.workerPromise.emit("parsePDFDocByPassword",{id:e,password:t,initData:n},i)}},{key:"getPDFDocInfoById",value:function(e){return this.workerPromise.emit("getPDFDocInfoById",e)}},{key:"getMetadata",value:function(e){return this.workerPromise.emit("getMetadata",e)}},{key:"setMetadataValue",value:function(e,t,n){return this.workerPromise.emit("setMetadataValue",{id:e,key:t,value:n})}},{key:"getFileVersion",value:function(e){return this.workerPromise.emit("getFileVersion",e)}},{key:"isLinearized",value:function(e){return this.workerPromise.emit("isLinearized",{docId:e})}},{key:"loadForm",value:function(e){return this.workerPromise.emit("loadForm",{docId:e})}},{key:"updateFormControl",value:function(e,t,n,i,r){return this.workerPromise.emit("updateFormControl",{docId:e,fieldName:t,objectNumber:n,key:i,value:r})}},{key:"updateField",value:function(e,t,n,i){return this.workerPromise.emit("updateField",{docId:e,title:t,key:n,value:i})}},{key:"reloadFieldByName",value:function(e,t){return this.workerPromise.emit("reloadFieldByName",{docId:e,fieldName:t})}},{key:"updateMKProperty",value:function(e,t,n,i,r){return this.workerPromise.emit("updateMKProperty",{docId:e,pageId:t,annotId:n,key:i,value:r})}},{key:"setWidgetAS",value:function(e,t,n,i){return this.workerPromise.emit("setWidgetAS",{docId:e,pageId:t,annotId:n,AS:i})}},{key:"setFieldValue",value:function(e,t,n){return this.workerPromise.emit("setFieldValue",{docId:e,title:t,value:n})}},{key:"formFillerEvent",value:function(e,t,n,i){return this.workerPromise.emit("formFillerEvent",{docId:e,type:t,pageIndex:n,point:i})}},{key:"getFieldsValue",value:function(e){return this.workerPromise.emit("getFieldsValue",{docId:e})}},{key:"addControl",value:function(e,t,n,i,r,o){return this.workerPromise.emit("addControl",{docId:e,pageIndex:t,fieldName:n,fieldType:i,rect:r,options:o})}},{key:"addSignatureControlBatch",value:function(e,t,n){return this.workerPromise.emit("addSignatureControlBatch",{docId:e,signatureInfos:t,shareVDictType:n})}},{key:"createFieldByCopyControl",value:function(e,t,n,i,r,o,a,s){return this.workerPromise.emit("createFieldByCopyControl",{docId:e,pageIndex:t,fieldType:n,isImgFieldType:i,newFieldName:r,newRect:o,srcFieldName:a,srcObjectNumber:s})}},{key:"validateFieldName",value:function(e,t,n){return this.workerPromise.emit("validateFieldName",{docId:e,fieldName:t,fieldType:n})}},{key:"renameField",value:function(e,t,n){return this.workerPromise.emit("renameField",{docId:e,fieldName:t,newName:n})}},{key:"removeField",value:function(e,t){return this.workerPromise.emit("removeField",{docId:e,fieldName:t})}},{key:"removeControl",value:function(e,t,n,i){return this.workerPromise.emit("removeControl",{docId:e,fieldName:n,pageIndex:t,controlObjectNumber:i})}},{key:"isLastSignature",value:function(e,t){return this.workerPromise.emit("isLastSignature",{docId:e,fieldName:t})}},{key:"fixPageFields",value:function(e,t){return this.workerPromise.emit("fixPageFields",{docId:e,pageIndex:t})}},{key:"hasFixedPageFields",value:function(e,t){return this.workerPromise.emit("hasFixedPageFields",{docId:e,pageIndex:t})}},{key:"getControlCount",value:function(e,t){return this.workerPromise.emit("getControlCount",{docId:e,pageIndex:t})}},{key:"copyControls",value:function(e,t,n,i){return this.workerPromise.emit("copyControls",{docId:e,pageIndex:t,dstPageIndex:n,controls:i})}},{key:"getControlPageIndex",value:function(e,t,n){return this.workerPromise.emit("getControlPageIndex",{docId:e,fieldName:t,objectNumber:n})}},{key:"getPageInfoByIndex",value:function(e,t){return this.workerPromise.emit("getPageInfoByIndex",{id:e,index:t})}},{key:"setRenderFlag",value:function(e,t){return this.workerPromise.emit("setRenderFlag",{docId:e,flags:t})}},{key:"getPageBitmap",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:["page"],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"view",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",c=arguments.length>8&&void 0!==arguments[8]&&arguments[8],u=arguments.length>9?arguments[9]:void 0;return this.workerPromise.emit("getPageBitmap",{docId:e,pageId:t,scale:n,rotate:i,rect:r,flags:o,usage:a,id:s,isSharedPage:c,annotData:u})}},{key:"getAnnotsBitmap",value:function(e,t,n,i,r,o,a,s,c,u){return this.workerPromise.emit("getAnnotsBitmap",{docId:e,pageId:t,arrayBuffer:n,scale:i,rotate:r,rect:o,flags:a,usage:s,annotData:c,pdfRect:u},n?[n]:[])}},{key:"getPageAndHighlightBitmap",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return this.workerPromise.emit("getPageAndHighlightBitmap",{docId:e,pageId:t,scale:n,rotate:i,rect:r,exclude:o})}},{key:"clearDesignerAssitCache",value:function(e,t){return this.workerPromise.emit("clearDesignerAssitCache",{docId:e,pageId:t})}},{key:"clearAllDesignerAssistCache",value:function(e){return this.workerPromise.emit("clearAllDesignerAssistCache",{docId:e})}},{key:"getAnnotBitmapByRange",value:function(e,t,n,i,r,o){return this.workerPromise.emit("getAnnotBitmapByRange",{docId:e,pageId:t,range:n,scale:i,rotate:r,rect:o})}},{key:"getAnnot",value:function(e,t,n){return this.workerPromise.emit("getAnnot",{docId:e,pageId:t,annotId:n})}},{key:"getPageAnnotIDList",value:function(e,t){return this.workerPromise.emit("getPageAnnotIDList",{docId:e,pageId:t})}},{key:"getAnnots",value:function(e,t,n,i){return this.workerPromise.emit("getAnnots",{docId:e,pageId:t,idList:n,reload:i})}},{key:"getAnnotBitmap",value:function(e,t,n,i,r,o,a,s,c){return this.workerPromise.emit("getAnnotBitmap",{docId:e,pageId:t,annotId:n,scale:i,rotate:r,rect:o,renderAppearanceType:a,viewerAnnotFlag:s,annotData:c})}},{key:"getAnnotObjNumByNM",value:function(e,t,n){return this.workerPromise.emit("getAnnotObjNumByNM",{docId:e,pageId:t,nm:n})}},{key:"getAnnotIdAtPoint",value:function(e,t,n,i){var r=n.x,o=n.y;return this.workerPromise.emit("getAnnotIdAtPoint",{docId:e,pageId:t,points:{x:r,y:o},tolerance:i})}},{key:"getAnnotIdAtDevicePoint",value:function(e,t,n,i,r){var o=n.x,a=n.y;return this.workerPromise.emit("getAnnotIdAtDevicePoint",{docId:e,pageId:t,points:{x:o,y:a},tolerance:i,matrix:r})}},{key:"getAnnotObjectNumAtPoint",value:function(e,t,n,i){var r=n.x,o=n.y;return this.workerPromise.emit("getAnnotObjectNumAtPoint",{docId:e,pageId:t,points:{x:r,y:o},tolerance:i})}},{key:"getAnnotObjectNumAtDevicePoint",value:function(e,t,n,i,r){var o=n.x,a=n.y;return this.workerPromise.emit("getAnnotObjectNumAtDevicePoint",{docId:e,pageId:t,points:{x:o,y:a},tolerance:i,matrix:r})}},{key:"getCharInfoAtPoint",value:function(e,t,n,i){var r=n.x,o=n.y;return this.workerPromise.emit("getCharInfoAtPoint",{docId:e,pageId:t,points:{x:r,y:o},tolerance:i})}},{key:"getThumb",value:function(e,t,n,i){return this.workerPromise.emit("getThumb",{docId:e,pageId:t,rotate:n,ratio:i})}},{key:"getMediaBoxBitmap",value:function(e,t,n,i){return this.workerPromise.emit("getMediaBoxBitmap",{docId:e,pageId:t,width:n,height:i})}},{key:"movePageTo",value:function(e,t,n){return this.workerPromise.emit("movePageTo",{docId:e,pageId:t,destIndex:n})}},{key:"insertPage",value:function(e,t,n,i){return this.workerPromise.emit("insertPage",{docId:e,pageIndex:t,width:n,height:i})}},{key:"removePage",value:function(e,t){return this.workerPromise.emit("removePage",{docId:e,pageIndex:t})}},{key:"updateAnnotQuadPointsByCharIndex",value:function(e,t,n,i,r){return this.workerPromise.emit("updateAnnotQuadPointsByCharIndex",{docId:e,pageId:t,annotId:n,startCharIndex:i,endCharIndex:r})}},{key:"setAnnotContent",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotContent",{docId:e,pageId:t,annotId:n,content:i})}},{key:"setAnnotBorderColor",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotBorderColor",{docId:e,pageId:t,annotId:n,color:i})}},{key:"setAnnotBorderStyle",value:function(e,t,n,i,r){return this.workerPromise.emit("setAnnotBorderStyle",{docId:e,pageId:t,annotId:n,style:i,styleParam:r})}},{key:"setAnnotBorderWidth",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotBorderWidth",{docId:e,pageId:t,annotId:n,width:i})}},{key:"setAnnotFillColor",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotFillColor",{docId:e,pageId:t,annotId:n,color:i})}},{key:"setRedactAnnotFillColor",value:function(e,t,n,i,r){return this.workerPromise.emit("setRedactAnnotFillColor",{docId:e,pageId:t,annotId:n,color:i,onlyForFill:r})}},{key:"setAnnotBorderInfo",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotBorderInfo",{docId:e,pageId:t,annotId:n,borderInfo:i})}},{key:"setRedactOverlayText",value:function(e,t,n,i){return this.workerPromise.emit("setRedactOverlayText",{docId:e,pageId:t,annotId:n,overlayText:i})}},{key:"removeRedactOverlayText",value:function(e,t,n){return this.workerPromise.emit("removeRedactOverlayText",{docId:e,pageId:t,annotId:n})}},{key:"setRedactOverlayTextAlignment",value:function(e,t,n,i){return this.workerPromise.emit("setRedactOverlayTextAlignment",{docId:e,pageId:t,annotId:n,alignment:i})}},{key:"setRedactRepeat",value:function(e,t,n,i){return this.workerPromise.emit("setRedactRepeat",{docId:e,pageId:t,annotId:n,isRepeat:i})}},{key:"setRedactAutoFontSize",value:function(e,t,n,i){return this.workerPromise.emit("setRedactAutoFontSize",{docId:e,pageId:t,annotId:n,isAutoFontSize:i})}},{key:"getRedactDefaultAppearance",value:function(e,t,n){return this.workerPromise.emit("getRedactDefaultAppearance",{docId:e,pageId:t,annotId:n})}},{key:"setRedactDefaultAppearance",value:function(e,t,n,i){return this.workerPromise.emit("setRedactDefaultAppearance",{docId:e,pageId:t,annotId:n,appearance:i})}},{key:"setRedactOpacity",value:function(e,t,n,i,r){return this.workerPromise.emit("setRedactOpacity",{docId:e,pageId:t,annotId:n,opacity:i,only4Fill:r})}},{key:"setRedactApplyFillColor",value:function(e,t,n,i){return this.workerPromise.emit("setRedactApplyFillColor",{docId:e,pageId:t,annotId:n,color:i})}},{key:"setAnnotOpacity",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotOpacity",{docId:e,pageId:t,annotId:n,opacity:i})}},{key:"setAnnotRotation",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotRotation",{docId:e,pageId:t,annotId:n,rotation:i})}},{key:"removeAnnot",value:function(e,t,n){return this.workerPromise.emit("removeAnnot",{docId:e,pageId:t,annotId:n})}},{key:"annotAddReply",value:function(e,t,n,i){return this.workerPromise.emit("annotAddReply",{docId:e,pageId:t,annotId:n,content:i})}},{key:"setAnnotRect",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotRect",{docId:e,pageId:t,annotId:n,rect:i})}},{key:"setAnnotRectAndInnerRect",value:function(e,t,n,i,r){return this.workerPromise.emit("setAnnotRectAndInnerRect",{docId:e,pageId:t,annotId:n,rect:i,innerRect:r})}},{key:"getAnnotInnerRect",value:function(e,t,n){return this.workerPromise.emit("getAnnotInnerRect",{docId:e,pageId:t,annotId:n})}},{key:"moveAnnotTo",value:function(e,t,n,i){return this.workerPromise.emit("moveAnnotTo",{docId:e,pageId:t,annotId:n,position:i})}},{key:"getPDFDocStream",value:function(e,t,n,i){var r=this,o=this.workerPromise.calls(t),a=this.workerPromise.emit("getPDFDocStream",{docId:e,writeStream:o,flag:n,endAllOperations:i});return a.finally((function(){r.workerPromise.releaseCall(o)})),a}},{key:"setAnnotIconName",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotIconName",{docId:e,pageId:t,annotId:n,iconName:i})}},{key:"getFileattachmentStream",value:function(e,t,n,i){var r=this,o=this.workerPromise.calls(i),a=this.workerPromise.emit("getFileattachmentStream",{docId:e,pageId:t,annotId:n,writeStream:o});return a.finally((function(){r.workerPromise.releaseCall(o)})),a}},{key:"setAnnotEndingStyle",value:function(e,t,n,i,r){return this.workerPromise.emit("setAnnotEndingStyle",{docId:e,pageId:t,annotId:n,isBeginning:i,style:r})}},{key:"setLineStartPoint",value:function(e,t,n,i,r){return this.workerPromise.emit("setLineStartPoint",{docId:e,pageId:t,annotId:n,x:i,y:r})}},{key:"setLineEndPoint",value:function(e,t,n,i,r){return this.workerPromise.emit("setLineEndPoint",{docId:e,pageId:t,annotId:n,x:i,y:r})}},{key:"setAnnotLeaderLineLength",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotLeaderLineLength",{docId:e,pageId:t,annotId:n,length:i})}},{key:"setAnnotLeaderLineExtend",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotLeaderLineExtend",{docId:e,pageId:t,annotId:n,length:i})}},{key:"setAnnotLeaderLineOffset",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotLeaderLineOffset",{docId:e,pageId:t,annotId:n,offset:i})}},{key:"setAnnotCaptionOffset",value:function(e,t,n,i,r){return this.workerPromise.emit("setAnnotCaptionOffset",{docId:e,pageId:t,annotId:n,x:i,y:r})}},{key:"updateAnnotVertexes",value:function(e,t,n,i,r,o){return this.workerPromise.emit("updateAnnotVertexes",{docId:e,pageId:t,annotId:n,pointIndex:i,x:r,y:o})}},{key:"setAnnotVertexes",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotVertexes",{docId:e,pageId:t,annotId:n,vertexes:i})}},{key:"setHighlightingMode",value:function(e,t,n,i){return this.workerPromise.emit("setHighlightingMode",{docId:e,pageId:t,annotId:n,highlightingMode:i})}},{key:"setAnnotAPBitmap",value:function(e,t,n,i,r){return this.workerPromise.emit("setAnnotAPBitmap",{docId:e,pageId:t,annotId:n,url:i,size:r})}},{key:"getBitmapBuffer",value:function(e,t,n){return this.workerPromise.emit("getBitmapBuffer",{docId:e,pageId:t,annotId:n})}},{key:"setAnnotInnerRect",value:function(e,t,n,i){var r=i.left,o=i.right,a=i.top,s=i.bottom;return this.workerPromise.emit("setAnnotInnerRect",{docId:e,pageId:t,annotId:n,rect:{left:r,right:o,top:a,bottom:s}})}},{key:"setCalloutLineEndingStyle",value:function(e,t,n,i){return this.workerPromise.emit("setCalloutLineEndingStyle",{docId:e,pageId:t,annotId:n,endingStyle:i})}},{key:"setAction",value:function(e,t,n,i,r,o){return this.workerPromise.emit("setAction",{docId:e,pageId:t,annotId:n,type:i,trigger:r,append:o})}},{key:"removeAction",value:function(e,t,n,i,r,o){return this.workerPromise.emit("removeAction",{docId:e,pageId:t,annotId:n,trigger:i,parentObject:r,objectNumber:o})}},{key:"setDefaultAppearance",value:function(e,t,n,i){return this.workerPromise.emit("setDefaultAppearance",{docId:e,pageId:t,annotId:n,da:i})}},{key:"removeAnnotAction",value:function(e,t,n){return this.workerPromise.emit("removeAnnotAction",{docId:e,pageId:t,annotId:n})}},{key:"getAction",value:function(e,t,n){return this.workerPromise.emit("getAction",{docId:e,pageId:t,annotId:n})}},{key:"getStructureRoles",value:function(e){return this.workerPromise.emit("getStructureRoles",{docId:e})}},{key:"setActionDataByIndex",value:function(e,t,n,i,r){return this.workerPromise.emit("setActionDataByIndex",{docId:e,pageId:t,annotId:n,data:i,actionIndex:r})}},{key:"addBookmarksFromStructureRoles",value:function(e,t,n){return this.workerPromise.emit("addBookmarksFromStructureRoles",{docId:e,structureRoles:t,rootTitle:n})}},{key:"setCalloutLinePoints",value:function(e,t,n,i){return this.workerPromise.emit("setCalloutLinePoints",{docId:e,pageId:t,annotId:n,calloutLinePoints:i})}},{key:"setSubject",value:function(e,t,n,i){return this.workerPromise.emit("setSubject",{docId:e,pageId:t,annotId:n,subject:i})}},{key:"setTitle",value:function(e,t,n,i){return this.workerPromise.emit("setTitle",{docId:e,pageId:t,annotId:n,title:i})}},{key:"setCreateDateTime",value:function(e,t,n,i){return this.workerPromise.emit("setCreateDateTime",{docId:e,pageId:t,annotId:n,date:i})}},{key:"setModifiedDateTime",value:function(e,t,n,i){return this.workerPromise.emit("setModifiedDateTime",{docId:e,pageId:t,annotId:n,date:i})}},{key:"setUniqueId",value:function(e,t,n,i){return this.workerPromise.emit("setUniqueId",{docId:e,pageId:t,annotId:n,newId:i})}},{key:"setDefaultAp",value:function(e,t,n,i){return this.workerPromise.emit("setDefaultAp",{docId:e,pageId:t,annotId:n,defaultAppearance:i})}},{key:"setAlignment",value:function(e,t,n,i){return this.workerPromise.emit("setAlignment",{docId:e,pageId:t,annotId:n,value:i})}},{key:"setAnnotFlag",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotFlag",{docId:e,pageId:t,annotId:n,flag:i})}},{key:"importFromFDF",value:function(e,t,n){var i=f(t);return this.workerPromise.emit("importFromFDF",{docId:e,fdf:t,dataType:n},i)}},{key:"importFromFDFFile",value:function(e,t,n,i){return this.workerPromise.emit("importFromFDFFile",{docId:e,file:t,size:n,type:i})}},{key:"exportToStardardXml",value:function(e,t,n,i){var r=this,o=this.workerPromise.calls(n),a=this.workerPromise.emit("exportToStardardXml",{docId:e,fileName:t,callbackId:o,range:i});return a.finally((function(){r.workerPromise.releaseCall(o)})),a}},{key:"exportToFDF",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.workerPromise.emit("exportToFDF",{docId:e,fileType:t,dataType:n,pageAnnots:i})}},{key:"exportToImage",value:function(e,t,n,i,r){var o=this,a=this.workerPromise.calls(r),s=this.workerPromise.emit("exportToImage",{docId:e,imageSetting:t,fileName:n,pageRange:i,callbackId:a});return s.finally((function(){o.workerPromise.releaseCall(a)})),s}},{key:"exportToTxt",value:function(e,t,n,i){var r=this,o=this.workerPromise.calls(i),a=this.workerPromise.emit("exportToTxt",{docId:e,taskName:t,pageRange:n,callbackId:o});return a.finally((function(){r.workerPromise.releaseCall(o)})),a}},{key:"exportImageObjectToImage",value:function(e,t,n,i,r){var o=this,a=this.workerPromise.calls(r),s=this.workerPromise.emit("exportImageObjectToImage",{docId:e,graphicsObject:t,imageSetting:n,fileName:i,callbackId:a});return s.finally((function(){o.workerPromise.releaseCall(a)})),s}},{key:"cancelExport",value:function(e){return this.workerPromise.emit("cancelExport",{docId:e})}},{key:"addAnnot",value:function(e,t,n){return this.workerPromise.emit("addAnnot",{docId:e,pageId:t,annot:n})}},{key:"addAnnots",value:function(e,t,n){var i=this,r=this.workerPromise.calls(n),o=this.workerPromise.emit("addAnnots",{docId:e,annotJsonArray:t,progress:r});return o.finally((function(){i.workerPromise.releaseCall(r)})),o}},{key:"markRedactAnnot",value:function(e,t,n,i){return this.workerPromise.emit("markRedactAnnot",{docId:e,pageId:t,rects:n,annot:i})}},{key:"redactApply",value:function(e,t,n){return this.workerPromise.emit("redactApply",{docId:e,pageId:t,annotId:n})}},{key:"applyRedaction",value:function(e){return this.workerPromise.emit("applyRedaction",{docId:e})}},{key:"addAnnotGroup",value:function(e,t,n,i){return this.workerPromise.emit("addAnnotGroup",{docId:e,pageId:t,annots:n,headerIndex:i})}},{key:"getBlankPageIndexes",value:function(e){return this.workerPromise.emit("getBlankPageIndexes",{docId:e})}},{key:"getBookmarks",value:function(e){return this.workerPromise.emit("getBookmarks",{docId:e})}},{key:"getCurFileSymbolId",value:function(e){return this.workerPromise.emit("getCurFileSymbolId",{docId:e})}},{key:"getFadeOutBackground",value:function(e,t){return this.workerPromise.emit("getFadeOutBackground",{docId:e,imgBuffer:t})}},{key:"getConvertToMono",value:function(e,t){return this.workerPromise.emit("getConvertToMono",{docId:e,imgBuffer:t})}},{key:"createRootBookmark",value:function(e){return this.workerPromise.emit("createRootBookmark",{docId:e})}},{key:"setBookmarkProperty",value:function(e,t,n){return this.workerPromise.emit("setBookmarkProperty",{docId:e,bkId:t,properties:n})}},{key:"removeBookmark",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.workerPromise.emit("removeBookmark",{docId:e,bkId:t,isOldVersion:n})}},{key:"getBookmarkDestination",value:function(e,t){return this.workerPromise.emit("getBookmarkDestination",{docId:e,bkId:t})}},{key:"setBookmarkDestination",value:function(e,t,n){return this.workerPromise.emit("setBookmarkDestination",{docId:e,bkId:t,gotoAction:n})}},{key:"getBookmarkAction",value:function(e,t){return this.workerPromise.emit("getBookmarkAction",{docId:e,bkId:t})}},{key:"setBookmarkAction",value:function(e,t,n){return this.workerPromise.emit("setBookmarkAction",{docId:e,bkId:t,action:n})}},{key:"moveBookmarkAction",value:function(e,t,n){return this.workerPromise.emit("moveBookmarkAction",{docId:e,bkId:t,moveInfo:n})}},{key:"removeBookmarkAction",value:function(e,t,n){return this.workerPromise.emit("removeBookmarkAction",{docId:e,bkId:t,action:n})}},{key:"getLayerNodes",value:function(e){return this.workerPromise.emit("getLayerNodes",{docId:e})}},{key:"setLayerNodeVisiable",value:function(e,t,n){return this.workerPromise.emit("setLayerNodeVisiable",{docId:e,layerId:t,visiable:n})}},{key:"getTextRectsAtRect",value:function(e,t,n){return this.workerPromise.emit("getTextRectsAtRect",{docId:e,pageId:t,rect:n})}},{key:"getTextContinuousRectsAtRect",value:function(e,t,n){return this.workerPromise.emit("getTextContinuousRectsAtRect",{docId:e,pageId:t,rect:n})}},{key:"getTextContinuousRectsAtPoints",value:function(e,t,n,i,r,o,a,s){return this.workerPromise.emit("getTextContinuousRectsAtPoints",{docId:e,pageId:t,point1:n,point2:i,tolerance:r,start:o,end:a,isTextIndex:s})}},{key:"getTextContinuousCharsAtRect",value:function(e,t,n,i){return this.workerPromise.emit("getTextContinuousCharsAtRect",{docId:e,pageId:t,rect:n,allInRect:i})}},{key:"getDoubleClickTextRectAtPoint",value:function(e,t,n,i){return this.workerPromise.emit("getDoubleClickTextRectAtPoint",{docId:e,pageId:t,doubleClickPoint:n,tolerance:i})}},{key:"getTextSearch",value:function(e,t,n,i){return this.workerPromise.emit("getTextSearch",{docId:e,pageId:t,pattern:n,flags:i})}},{key:"getAnnotTextSearch",value:function(e,t,n,i,r){return this.workerPromise.emit("getAnnotTextSearch",{docId:e,pageId:t,annotId:n,pattern:i,flags:r})}},{key:"textSearchFindNext",value:function(e){return this.workerPromise.emit("textSearchFindNext",{id:e})}},{key:"textSearchFindPrev",value:function(e){return this.workerPromise.emit("textSearchFindPrev",{id:e})}},{key:"textSearchDestroy",value:function(e){return this.workerPromise.emit("textSearchDestroy",{id:e})}},{key:"registerSecurityCallback",value:function(e,t){return this.workerPromise.emit("registerSecurityCallback",{type:e,options:t})}},{key:"registerCustomWebPluginSecurityCallback",value:function(e,t,n){return this.workerPromise.emit("registerCustomWebPluginSecurityCallback",{fileName:e,filter:t,pluginSecurityObj:n})}},{key:"unRegisterSecurityHandler",value:function(e,t){return this.workerPromise.emit("unRegisterSecurityHandler",{pluginId:e,filter:t})}},{key:"customProtectDoc",value:function(e,t){return this.workerPromise.emit("customProtectDoc",{docId:e,filter:t})}},{key:"destroyDoc",value:function(e){return this.workerPromise.emit("destroyDoc",{id:e})}},{key:"destroyPage",value:function(e,t){return this.workerPromise.emit("destroyPage",{docId:e,pageId:t})}},{key:"setDocOpenAction",value:function(e,t,n){return this.workerPromise.emit("setDocOpenAction",{docId:e,type:t,params:n})}},{key:"setDocActionData",value:function(e,t,n){return this.workerPromise.emit("setDocActionData",{docId:e,data:t,index:n})}},{key:"moveCaretRectByCharIndex",value:function(e,t,n,i){return this.workerPromise.emit("moveCaretRectByCharIndex",{docId:e,pageId:t,annotId:n,charIndex:i})}},{key:"setAnnotIntent",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotIntent",{docId:e,pageId:t,annotId:n,intent:i})}},{key:"setInkList",value:function(e,t,n,i){return this.workerPromise.emit("setInkList",{docId:e,pageId:t,annotId:n,inkList:i})}},{key:"setUserName",value:function(e){return this.workerPromise.emit("setUserName",{name:e})}},{key:"getUserName",value:function(){return this.workerPromise.emit("getUserName")}},{key:"addAnnotReviewState",value:function(e,t,n,i){return this.workerPromise.emit("addAnnotReviewState",{docId:e,pageId:t,annotId:n,stateName:i})}},{key:"addAnnotMarkedState",value:function(e,t,n,i){return this.workerPromise.emit("addAnnotMarkedState",{docId:e,pageId:t,annotId:n,stateName:i})}},{key:"removeAllStateAnnots",value:function(e,t,n){return this.workerPromise.emit("removeAllStateAnnots",{docId:e,pageId:t,annotId:n})}},{key:"setStateName",value:function(e,t,n,i){return this.workerPromise.emit("setStateName",{docId:e,pageId:t,stateAnnotId:n,stateName:i})}},{key:"setNoteOpenStatus",value:function(e,t,n,i){return this.workerPromise.emit("setNoteOpenStatus",{docId:e,pageId:t,annotId:n,isOpen:i})}},{key:"flatten",value:function(e,t,n){return this.workerPromise.emit("flatten",{docId:e,pageId:t,option:n})}},{key:"setDynamicInfoFormula",value:function(e,t){return this.workerPromise.emit("setDynamicInfoFormula",{seperator:e,timeFormat:t})}},{key:"getDynamicInfoFormula",value:function(){return this.workerPromise.emit("getDynamicInfoFormula")}},{key:"setDigitalTimeFormat",value:function(e){return this.workerPromise.emit("setDigitalTimeFormat",{timeFormat:e})}},{key:"setDigitalInfo",value:function(e){return this.workerPromise.emit("setDigitalInfo",{identityInfo:e})}},{key:"getGraphicObjectsInfo",value:function(e,t){return this.workerPromise.emit("getGraphicObjectsInfo",{docId:e,pageId:t})}},{key:"updatePageInfo",value:function(e,t){return this.workerPromise.emit("updatePageInfo",{docId:e,pageId:t})}},{key:"setPageRotation",value:function(e,t,n){return this.workerPromise.emit("setPageRotation",{docId:e,pageId:t,rotation:n})}},{key:"addPageImage",value:function(e,t,n,i,r,o,a){return this.workerPromise.emit("addPageImage",{docId:e,pageId:t,imageBuffer:n,point:i,width:r,height:o,rotation:a})}},{key:"getPageAction",value:function(e,t,n){return this.workerPromise.emit("getPageAction",{docId:e,pageId:t,trigger:n})}},{key:"setPageAction",value:function(e,t,n,i){return this.workerPromise.emit("setPageAction",{docId:e,pageId:t,trigger:n,action:i})}},{key:"removePageAction",value:function(e,t,n,i){return this.workerPromise.emit("removePageAction",{docId:e,pageId:t,trigger:n,action:i})}},{key:"movePageAction",value:function(e,t,n){return this.workerPromise.emit("movePageAction",{docId:e,pageId:t,moveInfo:n})}},{key:"addWatermark",value:function(e,t,n){return this.workerPromise.emit("addWatermark",{docId:e,pageId:t,data:n})}},{key:"getSecurityType",value:function(e){return this.workerPromise.emit("getSecurityType",{docId:e})}},{key:"setCertificateAndPermission",value:function(e,t,n,i){return this.workerPromise.emit("setCertificateAndPermission",{docId:e,infos:t,cipher:n,isEncryptMetadata:i})}},{key:"setPasswordAndPermission",value:function(e,t,n,i,r,o){return this.workerPromise.emit("setPasswordAndPermission",{docId:e,userPassword:t,ownerPassword:n,permission:i,cipher:r,isEncryptMetadata:o})}},{key:"removeSecurity",value:function(e){return this.workerPromise.emit("removeSecurity",{docId:e})}},{key:"checkPassword",value:function(e,t){return this.workerPromise.emit("checkPassword",{docId:e,password:t})}},{key:"getPermission",value:function(e){return this.workerPromise.emit("getPermission",{docId:e})}},{key:"getStdCipherOptions",value:function(e){return this.workerPromise.emit("getStdCipherOptions",{docId:e})}},{key:"getUserPassword",value:function(e,t){return this.workerPromise.emit("getUserPassword",{docId:e,password:t})}},{key:"getGraphicsObjectAtPoint",value:function(e,t,n,i,r,o){return this.workerPromise.emit("getGraphicsObjectAtPoint",{docId:e,pageId:t,point:n,tolerance:i,type:r,rect:o})}},{key:"setGraphicsObjectMatrix",value:function(e,t,n,i){return this.workerPromise.emit("setGraphicsObjectMatrix",{docId:e,pageId:t,id:n,matrix:i})}},{key:"setGraphicsObjectRect",value:function(e,t,n,i){return this.workerPromise.emit("setGraphicsObjectRect",{docId:e,pageId:t,id:n,rect:i})}},{key:"getGraphicsObjectBitmap",value:function(e,t,n,i,r){return this.workerPromise.emit("getGraphicsObjectBitmap",{docId:e,pageId:t,id:n,scale:i,rotation:r})}},{key:"setGraphicsObjectBorderStyle",value:function(e,t,n,i,r){return this.workerPromise.emit("setGraphicsObjectBorderStyle",{docId:e,pageId:t,id:n,value:i,dashes:r})}},{key:"setGraphicsObjectBorderWidth",value:function(e,t,n,i){return this.workerPromise.emit("setGraphicsObjectBorderWidth",{docId:e,pageId:t,id:n,width:i})}},{key:"setGraphicsObjectBorderColor",value:function(e,t,n,i){return this.workerPromise.emit("setGraphicsObjectBorderColor",{docId:e,pageId:t,id:n,color:i})}},{key:"setGraphicsObjectFillColor",value:function(e,t,n,i){return this.workerPromise.emit("setGraphicsObjectFillColor",{docId:e,pageId:t,id:n,color:i})}},{key:"setGraphicsObjectOpacity",value:function(e,t,n,i){return this.workerPromise.emit("setGraphicsObjectOpacity",{docId:e,pageId:t,id:n,opacity:i})}},{key:"addGraphicsObject",value:function(e,t,n){return this.workerPromise.emit("addGraphicsObject",{docId:e,pageId:t,info:n})}},{key:"setImageObjectOpacity",value:function(e,t,n,i){return this.workerPromise.emit("setImageObjectOpacity",{docId:e,pageId:t,id:n,opacity:i})}},{key:"setImageObjectRotation",value:function(e,t,n,i){return this.workerPromise.emit("setImageObjectRotation",{docId:e,pageId:t,id:n,rotation:i})}},{key:"getImageObjectStream",value:function(e,t,n){return this.workerPromise.emit("getImageObjectStream",{docId:e,pageId:t,id:n})}},{key:"setActionDestination",value:function(e,t,n){return this.workerPromise.emit("setActionDestination",{docId:e,objNum:t,destination:n})}},{key:"setActionFieldNames",value:function(e,t,n){return this.workerPromise.emit("setActionFieldNames",{docId:e,objNum:t,fieldNames:n})}},{key:"setActionHideState",value:function(e,t,n){return this.workerPromise.emit("setActionHideState",{docId:e,objNum:t,isHide:n})}},{key:"setActionScript",value:function(e,t,n){return this.workerPromise.emit("setActionScript",{docId:e,objNum:t,script:n})}},{key:"setActionOCGState",value:function(e,t,n,i){return this.workerPromise.emit("setActionOCGState",{docId:e,objNum:t,hideLayerIds:n,visibleLayerIds:i})}},{key:"setThreadActionIndex",value:function(e,t,n){return this.workerPromise.emit("setThreadActionIndex",{docId:e,objNum:t,index:n})}},{key:"setActionFlags",value:function(e,t,n){return this.workerPromise.emit("setActionFlags",{docId:e,objNum:t,flags:n})}},{key:"setActionURI",value:function(e,t,n){return this.workerPromise.emit("setActionURI",{docId:e,objNum:t,uri:n})}},{key:"insertSubAction",value:function(e,t,n,i){return this.workerPromise.emit("insertSubAction",{docId:e,objNum:t,index:n,type:i})}},{key:"setSubAction",value:function(e,t,n,i){return this.workerPromise.emit("setSubAction",{docId:e,objNum:t,index:n,type:i})}},{key:"removeAllSubActions",value:function(e,t){return this.workerPromise.emit("removeAllSubActions",{docId:e,objNum:t})}},{key:"removeSubAction",value:function(e,t,n){return this.workerPromise.emit("removeSubAction",{docId:e,objNum:t,index:n})}},{key:"setActionData",value:function(e,t,n){return this.workerPromise.emit("setActionData",{docId:e,objNum:t,data:n})}},{key:"moveAction",value:function(e,t,n,i){return this.workerPromise.emit("moveAction",{docId:e,pageId:t,objNum:n,moveInfo:i})}},{key:"removeGraphicsObject",value:function(e,t,n,i){return this.workerPromise.emit("removeGraphicsObject",{docId:e,pageId:t,id:n,isFinal:i})}},{key:"setPopupOpenStatus",value:function(e,t,n,i){return this.workerPromise.emit("setPopupOpenStatus",{docId:e,pageId:t,annotId:n,status:i})}},{key:"removePageAllAnnot",value:function(e,t){return this.workerPromise.emit("removePageAllAnnot",{docId:e,pageId:t})}},{key:"setTextObjectChar",value:function(e,t,n,i){return this.workerPromise.emit("setTextObjectChar",{docId:e,pageId:t,id:n,char:i})}},{key:"setTextObjectItalic",value:function(e,t,n,i){return this.workerPromise.emit("setTextObjectItalic",{docId:e,pageId:t,id:n,italic:i})}},{key:"setTextObjectBold",value:function(e,t,n,i){return this.workerPromise.emit("setTextObjectBold",{docId:e,pageId:t,id:n,bold:i})}},{key:"setTextObjectFontSize",value:function(e,t,n,i){return this.workerPromise.emit("setTextObjectFontSize",{docId:e,pageId:t,id:n,size:i})}},{key:"setTextObjectStandardFont",value:function(e,t,n,i){return this.workerPromise.emit("setTextObjectStandardFont",{docId:e,pageId:t,id:n,standardId:i})}},{key:"setTextObjectFontByName",value:function(e,t,n,i,r,o){return this.workerPromise.emit("setTextObjectFontByName",{docId:e,pageId:t,id:n,name:i,styles:r,charset:o})}},{key:"getTextObjectWoff",value:function(e,t,n){return this.workerPromise.emit("getTextObjectWoff",{docId:e,pageId:t,id:n})}},{key:"getAnnotWoff",value:function(e,t,n){return this.workerPromise.emit("getAnnotWoff",{docId:e,pageId:t,id:n})}},{key:"drmEncrypt",value:function(e,t){return this.workerPromise.emit("drmEncrypt",{docId:e,options:t})}},{key:"getActionFileStream",value:function(e,t,n){var i=this,r=this.workerPromise.calls(n),o=this.workerPromise.emit("getActionFileStream",{docId:e,objNum:t,writeStream:r});return o.finally((function(){i.workerPromise.releaseCall(r)})),o}},{key:"getTemplates",value:function(e){return this.workerPromise.emit("getTemplates",{docId:e})}},{key:"hideTemplate",value:function(e,t,n){return this.workerPromise.emit("hideTemplate",{docId:e,templateObj:t,isHidden:n})}},{key:"spawnPage",value:function(e,t,n,i,r){return this.workerPromise.emit("spawnPage",{docId:e,templateObj:t,nPage:n,bRename:i,bOverlay:r})}},{key:"setFieldsValue",value:function(e,t,n){return this.workerPromise.emit("setFieldsValue",{docId:e,fieldsValue:t,resetAP:n})}},{key:"removeTemplate",value:function(e,t){return this.workerPromise.emit("removeTemplate",{docId:e,name:t})}},{key:"getFontBufferByName",value:function(e,t){return this.workerPromise.emit("getFontBufferByName",{docId:e,fontName:t})}},{key:"getPageSizes",value:function(e,t,n){return this.workerPromise.emit("getPageSizes",{docId:e,index:t,count:n})}},{key:"setMeasureRatio",value:function(e,t,n,i){return this.workerPromise.emit("setMeasureRatio",{docId:e,pageId:t,annotId:n,ratioInfo:i})}},{key:"setMeasureUnit",value:function(e,t,n,i,r){return this.workerPromise.emit("setMeasureUnit",{docId:e,pageId:t,annotId:n,unit:i,measureType:r})}},{key:"setMeasureConversionFactor",value:function(e,t,n,i){return this.workerPromise.emit("setMeasureConversionFactor",{docId:e,pageId:t,annotId:n,factor:i})}},{key:"startImportPages",value:function(e,t,n,i,r,o,a,s){return this.workerPromise.emit("startImportPages",{docId:e,destIndex:t,file:n,password:i,flags:r,layerName:o,startIndex:a,endIndex:s})}},{key:"importPagesFromPDFDocs",value:function(e,t,n,i){return this.workerPromise.emit("importPagesFromPDFDocs",{docId:e,destIndex:t,srcDocs:n,layerName:i})}},{key:"exportPagesToPDFDocs",value:function(e,t,n,i,r){return this.workerPromise.emit("exportPagesToPDFDocs",{docId:e,srcPages:t,destDocs:n,layerName:i,bookmarkTitle:r})}},{key:"extractPages",value:function(e,t,n,i,r){var o=this,a=this.workerPromise.calls(n),s=this.workerPromise.emit("extractPages",{docId:e,pageRange:t,writeStream:a,file:i,password:r});return s.finally((function(){o.workerPromise.releaseCall(a)})),s}},{key:"copyPages",value:function(e,t,n){return this.workerPromise.emit("copyPages",{docId:e,pageRange:t,destIndex:n})}},{key:"saveCopyPagesData",value:function(e,t){return this.workerPromise.emit("saveCopyPagesData",{docId:e,pageRange:t})}},{key:"pastePages",value:function(e,t){return this.workerPromise.emit("pastePages",{docId:e,destIndex:t})}},{key:"embedAllPageThumbnail",value:function(e){return this.workerPromise.emit("embedAllPageThumbnail",{docId:e})}},{key:"removeEmbeddedPageThumbnail",value:function(e){return this.workerPromise.emit("removeEmbeddedPageThumbnail",{docId:e})}},{key:"getAllBoxes",value:function(e,t){return this.workerPromise.emit("getAllBoxes",{docId:e,index:t})}},{key:"setAllBoxesByIndexes",value:function(e,t,n,i,r,o,a,s){return this.workerPromise.emit("setAllBoxesByIndexes",{docId:e,indexes:t,width:n,height:i,xOffset:r,yOffset:o,boxes:a,isMoveWhite:s})}},{key:"getPageFormat",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0;return this.workerPromise.emit("getPageFormat",{docId:e,type:t,previewWidth:n,previewHeight:i,fileName:r,newDocId:o,localFormat:a})}},{key:"getPageFormatThumb",value:function(e,t,n,i,r,o,a,s){return this.workerPromise.emit("getPageFormatThumb",{docId:e,type:t,pageIndex:n,data:i,isUpdate:r,bitmapWidth:o,bitmapHeight:a,rotate:s})}},{key:"addPageFormat",value:function(e,t,n,i){return this.workerPromise.emit("addPageFormat",{docId:e,type:t,data:n,isUpdate:i})}},{key:"removeAllPageFormat",value:function(e,t){return this.workerPromise.emit("removeAllPageFormat",{docId:e,type:t})}},{key:"extractPrintPages",value:function(e,t){return this.workerPromise.emit("extractPrintPages",{docId:e,data:t})}},{key:"getHeaderFooter",value:function(e){return this.workerPromise.emit("getHeaderFooter",e)}},{key:"addHeaderFooter",value:function(e,t){return this.workerPromise.emit("addHeaderFooter",{headerFooter:t,docId:e})}},{key:"updateHeaderFooter",value:function(e,t){return this.workerPromise.emit("updateHeaderFooter",{headerFooter:t,docId:e})}},{key:"removeHeaderFooter",value:function(e){return this.workerPromise.emit("removeHeaderFooter",e)}},{key:"paste",value:function(e,t,n,i,r,o){return this.workerPromise.emit("paste",{docId:e,pageId:t,srcPageId:n,type:i,objectId:r,position:o})}},{key:"setFontMap",value:function(e){return this.workerPromise.emit("setFontMap",e)}},{key:"setWatermarkFontMap",value:function(e){return this.workerPromise.emit("setWatermarkFontMap",e)}},{key:"addFontMap",value:function(e){return this.workerPromise.emit("addFontMap",e)}},{key:"setJPXDownSample",value:function(e){return this.workerPromise.emit("setJPXDownSample",e)}},{key:"getAnnotsRawData",value:function(e,t){return this.workerPromise.emit("getAnnotsRawData",{docId:e,rawAnnots:t})}},{key:"attachFile",value:function(e,t){return this.workerPromise.emit("attachFile",{docId:e,blob:t})}},{key:"signDoc",value:function(e,t,n){return this.workerPromise.emit("signDoc",{docId:e,signInfo:t,ap:n})}},{key:"signDocForESignCN",value:function(e,t){return this.workerPromise.emit("signDocForESignCN",{docId:e,signInfo:t})}},{key:"getGraphicsObjectByIndex",value:function(e,t,n){return this.workerPromise.emit("getGraphicsObjectByIndex",{docId:e,pageId:t,index:n})}},{key:"getGraphicsObjectsCount",value:function(e,t){return this.workerPromise.emit("getGraphicsObjectsCount",{docId:e,pageId:t})}},{key:"getFontsInfo",value:function(e){return this.workerPromise.emit("getFontsInfo",{docId:e})}},{key:"getDocAdditionalActions",value:function(e){return this.workerPromise.emit("getDocAdditionalActions",{docId:e})}},{key:"calcPageContentBBox",value:function(e,t,n){return this.workerPromise.emit("calcPageContentBBox",{docId:e,pageIndex:t,mode:n})}},{key:"getPageBox",value:function(e,t,n){return this.workerPromise.emit("getPageBox",{docId:e,pageIndex:t,boxType:n})}},{key:"setPageBox",value:function(e,t,n,i){return this.workerPromise.emit("setPageBox",{docId:e,pageIndex:t,boxType:n,rect:i})}},{key:"setPageSize",value:function(e,t,n,i){return this.workerPromise.emit("setPageSize",{docId:e,pageIndex:t,width:n,height:i})}},{key:"syncDataCache",value:function(e,t){return this.workerPromise.emit("syncDataCache",{docId:e,pageIdMap:t})}},{key:"setDocColors",value:function(e,t){return this.workerPromise.emit("setDocColors",{docId:e,colors:t})}},{key:"setPageDisplayPreferences",value:function(e,t){return this.workerPromise.emit("setPageDisplayPreferences",{docId:e,pageDisplayPreferences:t})}},{key:"moveAnnotsToPage",value:function(e,t,n,i){return this.workerPromise.emit("moveAnnotsToPage",{docId:e,srcPageId:t,dstPageId:n,annotInfos:i})}},{key:"getOriginalStream",value:function(e){return this.workerPromise.emit("getOriginalStream",{docId:e})}},{key:"hasForm",value:function(e){return this.workerPromise.emit("hasForm",{docId:e})}},{key:"setTabOrder",value:function(e,t,n){return this.workerPromise.emit("setTabOrder",{docId:e,pageIndex:t,type:n})}},{key:"getTabOrder",value:function(e,t){return this.workerPromise.emit("getTabOrder",{docId:e,pageIndex:t})}},{key:"setStructureOrder",value:function(e,t,n){return this.workerPromise.emit("setStructureOrder",{docId:e,pageIndex:t,idList:n})}},{key:"setLockAction",value:function(e,t,n,i){return this.workerPromise.emit("setLockAction",{docId:e,title:t,type:n,fieldNames:i})}},{key:"VerifySignature",value:function(e,t,n){return this.workerPromise.emit("VerifySignature",{docId:e,fieldName:t,verifyConfig:n})}},{key:"getDigitalSignatureInfo",value:function(e,t,n){return this.workerPromise.emit("getDigitalSignatureInfo",{docId:e,fieldName:t,trustedCertificateList:n})}},{key:"verifyDocSignature",value:function(e,t){return this.workerPromise.emit("verifyDocSignature",{docId:e,verifyConfig:t})}},{key:"verifySignatureLtv",value:function(e,t,n){return this.workerPromise.emit("verifySignatureLtv",{docId:e,fieldName:t,verifyConfig:n})}},{key:"clearSignature",value:function(e,t,n){return this.workerPromise.emit("clearSignature",{docId:e,fieldName:t,verifyConfig:n})}},{key:"setImage",value:function(e,t,n,i){return this.workerPromise.emit("setImage",{docId:e,pageId:t,annotId:n,buffer:i})}},{key:"getWidgetMkOption",value:function(e,t,n){return this.workerPromise.emit("getWidgetMkOption",{docId:e,pageId:t,annotId:n})}},{key:"setWidgetIconCaptionRelation",value:function(e,t,n,i){return this.workerPromise.emit("setWidgetIconCaptionRelation",{docId:e,pageId:t,annotId:n,relation:i})}},{key:"setWidgetHighlighting",value:function(e,t,n,i){return this.workerPromise.emit("setWidgetHighlighting",{docId:e,pageId:t,annotId:n,mode:i})}},{key:"setWidgetMkCaption",value:function(e,t,n,i,r){return this.workerPromise.emit("setWidgetMkCaption",{docId:e,pageId:t,annotId:n,position:i,caption:r})}},{key:"setWidgetMkIcon",value:function(e,t,n,i,r){return this.workerPromise.emit("setWidgetMkIcon",{docId:e,pageId:t,annotId:n,position:i,buffer:r})}},{key:"getWidgetIconFitOption",value:function(e,t,n){return this.workerPromise.emit("getWidgetIconFitOption",{docId:e,pageId:t,annotId:n})}},{key:"setWidgetIconFitOption",value:function(e,t,n,i){return this.workerPromise.emit("setWidgetIconFitOption",{docId:e,pageId:t,annotId:n,option:i})}},{key:"duplicateWidget",value:function(e,t,n,i){return this.workerPromise.emit("duplicateWidget",{docId:e,pages:t,fieldName:n,objectNumber:i})}},{key:"duplicateField",value:function(e,t,n,i,r,o,a){return this.workerPromise.emit("duplicateField",{docId:e,fieldName:t,pageIndex:n,annotObjNum:i,columns:r,rows:o,positions:a})}},{key:"getAllModuleLicenseRight",value:function(){return this.workerPromise.emit("getAllModuleLicenseRight")}},{key:"ensureSideModeLoaded",value:function(e){return this.workerPromise.emit("ensureSideModeLoaded",{moduleType:e})}},{key:"moveGraphicsObjectByPosition",value:function(e,t,n,i,r){return this.workerPromise.emit("moveGraphicsObjectByPosition",{docId:e,pageId:t,id:n,type:i,graphicObjectId:r})}},{key:"setDictionaryEntry",value:function(e,t,n,i,r){return this.workerPromise.emit("setDictionaryEntry",{docId:e,pageId:t,annotId:n,key:i,value:r})}},{key:"getDictionaryEntry",value:function(e,t,n,i){return this.workerPromise.emit("getDictionaryEntry",{docId:e,pageId:t,annotId:n,key:i})}},{key:"resetAppearanceStream",value:function(e,t,n){return this.workerPromise.emit("resetAppearanceStream",{docId:e,pageId:t,annotId:n})}},{key:"setCO",value:function(e,t){return this.workerPromise.emit("setCO",{docId:e,CO:t})}},{key:"renderTemplatesByObjNum",value:function(e,t){return this.workerPromise.emit("renderTemplatesByObjNum",{docId:e,objNum:t})}},{key:"getNameTree",value:function(e,t){return this.workerPromise.emit("getNameTree",{docId:e,type:t})}},{key:"addNameTreeObj",value:function(e,t,n,i){return this.workerPromise.emit("addNameTreeObj",{docId:e,type:t,name:n,objNum:i})}},{key:"removeNameTreeObj",value:function(e,t,n){return this.workerPromise.emit("removeNameTreeObj",{docId:e,type:t,name:n})}},{key:"replaceNameTreeObj",value:function(e,t,n,i){return this.workerPromise.emit("replaceNameTreeObj",{docId:e,type:t,name:n,objNum:i})}},{key:"renameNameTreeObj",value:function(e,t,n,i){return this.workerPromise.emit("renameNameTreeObj",{docId:e,type:t,oldName:n,newName:i})}},{key:"getPageIndexByObjNum",value:function(e,t){return this.workerPromise.emit("getPageIndexByObjNum",{docId:e,objNum:t})}},{key:"nameTreeTemplatesToPages",value:function(e,t){return this.workerPromise.emit("nameTreeTemplatesToPages",{docId:e,name:t})}},{key:"nameTreePagesToTemplates",value:function(e,t){return this.workerPromise.emit("nameTreePagesToTemplates",{docId:e,name:t})}},{key:"showNameTreePageAtTheEnd",value:function(e){return this.workerPromise.emit("showNameTreePageAtTheEnd",{docId:e})}},{key:"hideNameTreePage",value:function(e,t){return this.workerPromise.emit("hideNameTreePage",{docId:e,pageIndex:t})}},{key:"addFileSpec",value:function(e,t,n,i){return this.workerPromise.emit("addFileSpec",{docId:e,fileName:t,fileBuffer:n,modifiedDateTime:i})}},{key:"setFileSpecDesc",value:function(e,t,n){return this.workerPromise.emit("setFileSpecDesc",{docId:e,desc:t,objNum:n})}},{key:"getFileSpecStream",value:function(e,t,n){var i=this,r=this.workerPromise.calls(n),o=this.workerPromise.emit("getFileSpecStream",{docId:e,fileSpecObjNum:t,writeStreamCall:r});return o.finally((function(){i.workerPromise.releaseCall(r)})),o}},{key:"getFileSpecStreamByName",value:function(e,t,n){var i=this,r=this.workerPromise.calls(n),o=this.workerPromise.emit("getFileSpecStreamByName",{docId:e,name:t,writeStreamCall:r});return o.finally((function(){i.workerPromise.releaseCall(r)})),o}},{key:"addEmbeddedFileByAttachments",value:function(e,t,n){return this.workerPromise.emit("addEmbeddedFileByAttachments",{docId:e,name:t,objNum:n})}},{key:"setEmbeddedFileByAttachments",value:function(e,t,n){return this.workerPromise.emit("setEmbeddedFileByAttachments",{docId:e,name:t,objNum:n})}},{key:"removeEmbeddedFileByAttachments",value:function(e,t){return this.workerPromise.emit("removeEmbeddedFileByAttachments",{docId:e,name:t})}},{key:"cancelEmbedAllPageThumbnail",value:function(e){return this.workerPromise.emit("cancelEmbedAllPageThumbnail",{docId:e})}},{key:"cancelRemoveEmbeddedPageThumbnail",value:function(e){return this.workerPromise.emit("cancelRemoveEmbeddedPageThumbnail",{docId:e})}},{key:"moveControl",value:function(e,t,n,i){return this.workerPromise.emit("moveControl",{docId:e,fieldId:t,fieldName:n,newName:i})}},{key:"getAnnotIdArrayByOrder",value:function(e,t){return this.workerPromise.emit("getAnnotIdArrayByOrder",{docId:e,pageId:t})}},{key:"getAAJson",value:function(e,t){return this.workerPromise.emit("getAAJson",{docId:e,fieldName:t})}},{key:"getPageDictionary",value:function(e,t){return this.workerPromise.emit("getPageDictionary",{docId:e,pageId:t})}},{key:"getPDFDictInfo",value:function(e){return this.workerPromise.emit("getPDFDictInfo",{docId:e})}},{key:"startFormDesignerAssit",value:function(e){return this.workerPromise.emit("startFormDesignerAssit",{docId:e})}},{key:"stopFormDesignerAssit",value:function(e){return this.workerPromise.emit("stopFormDesignerAssit",{docId:e})}},{key:"getPageLabels",value:function(e,t){return this.workerPromise.emit("getPageLabels",{docId:e,indexes:t})}},{key:"hasKey",value:function(e,t,n){return this.workerPromise.emit("hasKey",{docId:e,id:t,key:n})}},{key:"setAt",value:function(e,t,n,i){return this.workerPromise.emit("setAt",{docId:e,id:t,key:n,value:i})}},{key:"getAt",value:function(e,t,n){return this.workerPromise.emit("getAt",{docId:e,id:t,key:n})}},{key:"getSuggestedFormDesignerRect",value:function(e,t,n){return this.workerPromise.emit("getSuggestedFormDesignerRect",{docId:e,pageId:t,point:n})}},{key:"autoRecognitionForm",value:function(e,t){return this.workerPromise.emit("autoRecognitionForm",{docId:e,options:t})}},{key:"isStaticXFA",value:function(e){return this.workerPromise.emit("isStaticXFA",{docId:e})}},{key:"isXFA",value:function(e){return this.workerPromise.emit("isXFA",{docId:e})}},{key:"removeXFA",value:function(e){return this.workerPromise.emit("removeXFA",{docId:e})}},{key:"getAllXFAWidgetsByPageIndex",value:function(e,t){return this.workerPromise.emit("getAllXFAWidgetsByPageIndex",{docId:e,pageIndex:t})}},{key:"triggerXFAWidgetEvent",value:function(e,t,n){return this.workerPromise.emit("triggerXFAWidgetEvent",{docId:e,pageIndex:t,info:n})}},{key:"createWebLinks",value:function(e,t,n){return this.workerPromise.emit("createWebLinks",{docId:e,pageId:t,paramPages:n})}},{key:"removeWebLinks",value:function(e,t,n){return this.workerPromise.emit("removeWebLinks",{docId:e,pageId:t,paramPages:n})}},{key:"linkHasPA",value:function(e,t,n){return this.workerPromise.emit("linkHasPA",{docId:e,pageId:t,annotId:n})}},{key:"linkResetAByPA",value:function(e,t,n){return this.workerPromise.emit("linkResetAByPA",{docId:e,pageId:t,annotId:n})}},{key:"getDestinationsArray",value:function(e){return this.workerPromise.emit("getDestinationsArray",{docId:e})}},{key:"deleteDestination",value:function(e,t,n){return this.workerPromise.emit("deleteDestination",{docId:e,pageId:t,name:n})}},{key:"renameDestination",value:function(e,t,n,i){return this.workerPromise.emit("renameDestination",{docId:e,pageId:t,oldName:n,newName:i})}},{key:"createDestination",value:function(e,t,n,i){return this.workerPromise.emit("createDestination",{docId:e,pageId:t,title:n,pageNum:i})}},{key:"resetDestination",value:function(e,t,n,i){return this.workerPromise.emit("resetDestination",{docId:e,pageId:t,title:n,pageNum:i})}},{key:"moveBookmark",value:function(e,t,n,i,r){return this.workerPromise.emit("moveBookmark",{docId:e,targetBookmarkId:t,destBookmarkId:n,position:i,isOldVersion:r})}},{key:"combineFormsToCSV",value:function(e,t){var n=this,i=this.workerPromise.calls(t),r=this.workerPromise.emit("combineFormsToCSV",{filesArray:e,writeStreamCall:i});return r.finally((function(){n.workerPromise.releaseCall(i)})),r}},{key:"addAnnotObjects",value:function(e,t,n){return this.workerPromise.emit("addAnnotObjects",{docId:e,pageId:t,objects:n})}},{key:"reversePages",value:function(e,t){return this.workerPromise.emit("reversePages",{docId:e,pageRanges:t})}},{key:"movePagesTo",value:function(e,t,n){return this.workerPromise.emit("movePagesTo",{docId:e,pageRange:t,destIndex:n})}},{key:"removePages",value:function(e,t){return this.workerPromise.emit("removePages",{docId:e,pageRange:t})}},{key:"insertBlankPages",value:function(e,t,n,i){return this.workerPromise.emit("insertBlankPages",{docId:e,pageRange:t,width:n,height:i})}},{key:"insertBlankPages2",value:function(e,t,n,i){return this.workerPromise.emit("insertBlankPages2",{docId:e,pageRange:t,width:n,height:i})}},{key:"rotatePages",value:function(e,t,n){return this.workerPromise.emit("rotatePages",{docId:e,pageRange:t,rotation:n})}},{key:"getPageIndexByLabelText",value:function(e,t){return this.workerPromise.emit("getPageIndexByLabelText",{docId:e,text:t})}},{key:"getCurrentPageLabelInfo",value:function(e,t){return this.workerPromise.emit("getCurrentPageLabelInfo",{docId:e,pageIndex:t})}},{key:"checkDocIsUseLogicPage",value:function(e){return this.workerPromise.emit("checkDocIsUseLogicPage",{docId:e})}},{key:"formatPageNumbers",value:function(e,t,n,i){return this.workerPromise.emit("formatPageNumbers",{docId:e,isExtendNumbering:t,pageRange:n,numberingInfo:i})}},{key:"updatePageLabelsByAction",value:function(e,t,n){return this.workerPromise.emit("updatePageLabelsByAction",{docId:e,action:t,args:n})}},{key:"getPortfolioTreeNode",value:function(e){return this.workerPromise.emit("getPortfolioTreeNode",{docId:e})}},{key:"getPortfolioInitialNodePath",value:function(e){return this.workerPromise.emit("getPortfolioInitialNodePath",{docId:e})}},{key:"sendSortFolioParam",value:function(e,t,n){return this.workerPromise.emit("sendSortFolioParam",{docId:e,target:t,order:n})}},{key:"getFolioNodePDFDoc",value:function(e){return this.workerPromise.emit("getFolioNodePDFDoc",{docId:e})}},{key:"recordPDFFileByPortFolioNode",value:function(e,t){return this.workerPromise.emit("recordPDFFileByPortFolioNode",{docId:e,handle:t})}},{key:"getPortfolioFileStream",value:function(e,t,n){var i=this,r=this.workerPromise.calls(n),o=this.workerPromise.emit("getPortfolioFileStream",{docId:e,nodeHandle:t,writeStream:r});return o.finally((function(){i.workerPromise.releaseCall(r)})),o}},{key:"getPortfolioStream",value:function(e,t){return this.workerPromise.emit("getPortfolioStream",{docId:e,nodeHandles:t})}},{key:"getPortfolioSubNodes",value:function(e,t){return this.workerPromise.emit("getPortfolioSubNodes",{docId:e,nodeHandle:t})}},{key:"changePortfolioSubNodesOrder",value:function(e,t,n,i){return this.workerPromise.emit("changePortfolioSubNodesOrder",{docId:e,nodeHandle:t,sourceIndexes:n,targetIndex:i})}},{key:"portfolioMoveSubNodeToSubFolderNode",value:function(e,t,n,i){return this.workerPromise.emit("portfolioMoveSubNodeToSubFolderNode",{docId:e,nodeHandle:t,sourceHandles:n,targetHandle:i})}},{key:"portfolioHasSameNameSubNode",value:function(e,t,n,i){return this.workerPromise.emit("portfolioHasSameNameSubNode",{docId:e,name:t,type:n,targetHandle:i})}},{key:"setPortfolioInitialViewMode",value:function(e,t){return this.workerPromise.emit("setPortfolioInitialViewMode",{docId:e,value:t})}},{key:"setPortfolioSortingOrder",value:function(e,t){return this.workerPromise.emit("setPortfolioSortingOrder",{docId:e,bool:t})}},{key:"setPortfolioOrderSchemaField",value:function(e,t){return this.workerPromise.emit("setPortfolioOrderSchemaField",{docId:e,keyName:t})}},{key:"deletePortfolioSchemaField",value:function(e,t){return this.workerPromise.emit("deletePortfolioSchemaField",{docId:e,index:t})}},{key:"addPortfolioSchemaField",value:function(e,t){return this.workerPromise.emit("addPortfolioSchemaField",{docId:e,name:t})}},{key:"changePortfolioSchemaFieldVisible",value:function(e,t,n){return this.workerPromise.emit("changePortfolioSchemaFieldVisible",{docId:e,index:t,isVisible:n})}},{key:"changePortfolioSchemaFieldPosition",value:function(e,t,n){return this.workerPromise.emit("changePortfolioSchemaFieldPosition",{docId:e,index:t,offset:n})}},{key:"getPortfolioInfo",value:function(e){return this.workerPromise.emit("getPortfolioInfo",{docId:e})}},{key:"setPortfolioInfo",value:function(e,t){return this.workerPromise.emit("setPortfolioInfo",{docId:e,info:t})}},{key:"portfolioAddFiles",value:function(e,t,n,i){return this.workerPromise.emit("portfolioAddFiles",{docId:e,files:t,targetIndex:n,folderNodeHandle:i})}},{key:"portfolioCreateFolder",value:function(e,t,n){return this.workerPromise.emit("portfolioCreateFolder",{docId:e,name:t,folderNodeHandle:n})}},{key:"portfolioRemoveSubNodes",value:function(e,t,n){return this.workerPromise.emit("portfolioRemoveSubNodes",{docId:e,folderNodeHandle:t,subNodeHandles:n})}},{key:"portfolioRegenerateTOC",value:function(e,t){return this.workerPromise.emit("portfolioRegenerateTOC",{docId:e,title:t})}},{key:"getSnappedPoint",value:function(e,t,n,i){return this.workerPromise.emit("getSnappedPoint",{docId:e,pageId:t,point:n,mode:i})}},{key:"getPageTextRectCount",value:function(e,t){return this.workerPromise.emit("getPageTextRectCount",{docId:e,pageId:t})}},{key:"getPageTextByRectIndex",value:function(e,t,n){return this.workerPromise.emit("getPageTextByRectIndex",{docId:e,pageId:t,rectIndex:n})}},{key:"updateEncryptedEngineDocForMIP",value:function(e,t){return this.workerPromise.emit("updateEncryptedEngineDocForMIP",{docId:e,isSave:t})}},{key:"GetUnprotectedPDFDoc",value:function(e,t,n,i){return this.workerPromise.emit("GetUnprotectedPDFDoc",{docId:e,decryptedDataFile:t,permissions:n,isFullControl:i})}},{key:"StartSaveRawDataTobeEncrypted",value:function(e,t){return this.workerPromise.emit("StartSaveRawDataTobeEncrypted",{docId:e,isSavingByMipLabel:t})}},{key:"StartSaveasFromMIPEncryptedPDF",value:function(e,t,n){return this.workerPromise.emit("StartSaveasFromMIPEncryptedPDF",{docId:e,encryptedArrayBuffer:t,fileName:n})}},{key:"StartSaveasFromMIPLabel",value:function(e,t,n,i,r,o,a){return this.workerPromise.emit("StartSaveasFromMIPLabel",{docId:e,fileBuffer:t,wrapperBuffer:n,metaDataInfo:i,have_print_permission:r,have_copy_permission:o,fileName:a})}},{key:"getAppliedMIPLabelID",value:function(e){return this.workerPromise.emit("getAppliedMIPLabelID",{docId:e})}},{key:"removeAppliedMIPLabel",value:function(e){return this.workerPromise.emit("removeAppliedMIPLabel",{docId:e})}},{key:"checkIsMIPProtected",value:function(e){return this.workerPromise.emit("checkIsMIPProtected",{docId:e})}},{key:"isCPDF",value:function(e){return this.workerPromise.emit("isCPDF",{docId:e})}},{key:"getDocURI",value:function(e){return this.workerPromise.emit("getDocURI",{docId:e})}},{key:"convertToCPDF",value:function(e,t,n,i,r){return this.workerPromise.emit("convertToCPDF",{docId:e,cPDFFileName:t,cPDFEndPoint:n,cPDFUserToken:i,cPDFUserIDFromToken:r})}},{key:"removeCDocId",value:function(e,t,n,i,r){return this.workerPromise.emit("removeCDocId",{docId:e,cPDFFileName:t,cPDFEndPoint:n,cPDFUserToken:i,cPDFUserIDFromToken:r})}},{key:"changePEProperty",value:function(e,t,n,i){return this.workerPromise.emit("changePEProperty",{docId:e,type:n,fn:t,param:i})}},{key:"handlePageEditorEvent",value:function(e,t,n){for(var i=arguments.length,r=new Array(i>3?i-3:0),o=3;o<i;o++)r[o-3]=arguments[o];return this.workerPromise.emit("handlePageEditorEvent",{docId:e,fn:t,delay:n,args:r})}},{key:"reInitPageEditor",value:function(e){return this.workerPromise.emit("reInitPageEditor",{docId:e})}},{key:"updateWinlessMatrix",value:function(e,t,n){return this.workerPromise.emit("updateWinlessMatrix",{docId:e,type:t,matrixes:n})}},{key:"changeEditingProperty",value:function(e,t,n){return this.workerPromise.emit("changeEditingProperty",{docId:e,fn:t,args:n})}},{key:"triggerPopMenuAction",value:function(e,t){return this.workerPromise.emit("triggerPopMenuAction",{docId:e,action:t})}},{key:"removeMetadata",value:function(e,t){return this.workerPromise.emit("removeMetadata",{id:e,key:t})}},{key:"getViewerPreference",value:function(e){return this.workerPromise.emit("getViewerPreference",{docId:e})}},{key:"setViewPreference",value:function(e,t,n){return this.workerPromise.emit("setViewPreference",{docId:e,key:t,value:n})}},{key:"handleTouchUpEvent",value:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return this.workerPromise.emit("handleTouchUpEvent",{docId:e,fn:t,args:i})}},{key:"handleFindReplaceEvent",value:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return this.workerPromise.emit("handleFindReplaceEvent",{docId:e,fn:t,args:i})}},{key:"triggerTUPopMenuAction",value:function(e,t,n){return this.workerPromise.emit("triggerTUPopMenuAction",{docId:e,action:t,args:n})}},{key:"removeLayerNode",value:function(e,t){return this.workerPromise.emit("removeLayerNode",{docId:e,layerId:t})}},{key:"getLayersByPage",value:function(e,t){return this.workerPromise.emit("getLayersByPage",{docId:e,pageId:t})}},{key:"updateLayerInfo",value:function(e,t){return this.workerPromise.emit("updateLayerInfo",{docId:e,layerInfo:t})}},{key:"flattenLayers",value:function(e){return this.workerPromise.emit("flattenLayers",{docId:e})}},{key:"mergeLayers",value:function(e,t,n){return this.workerPromise.emit("mergeLayers",{docId:e,layerIds:t,mergeTo:n})}},{key:"getLayerRelatedAnnots",value:function(e,t){return this.workerPromise.emit("getLayerRelatedAnnots",{docId:e,layerId:t})}},{key:"layerMoveTo",value:function(e,t,n,i){return this.workerPromise.emit("layerMoveTo",{docId:e,layerId:t,parentLayerId:n,index:i})}},{key:"getInfos",value:function(e){return this.workerPromise.emit("getInfos",{docId:e})}},{key:"hasDocIsWrapped",value:function(e){return this.workerPromise.emit("hasDocIsWrapped",{docId:e})}},{key:"getEmbeddedFontData",value:function(e){return this.workerPromise.emit("getEmbeddedFontData",{docId:e})}},{key:"computeAuditSpace",value:function(e){return this.workerPromise.emit("computeAuditSpace",{docId:e})}},{key:"optimizer",value:function(e,t,n){return this.workerPromise.emit("optimizer",{docId:e,option:t,portfolioNodeHandle:n})}},{key:"optimizeScannedPDF",value:function(e,t,n){var i=this,r=this.workerPromise.calls(n),o=this.workerPromise.emit("optimizeScannedPDF",{docId:e,option:t,callback:r});return o.finally((function(){i.workerPromise.releaseCall(r)})),o}},{key:"startReplacePages",value:function(e,t,n,i,r){return this.workerPromise.emit("startReplacePages",{docId:e,startIndex:t,count:n,srcPdfDocId:i,srcPageindexRange:r})}},{key:"importAsLayer",value:function(e,t){return this.workerPromise.emit("importAsLayer",{docId:e,args:t})}},{key:"previewImportLayer",value:function(e,t){return this.workerPromise.emit("previewImportLayer",{docId:e,args:t})}},{key:"reloadLayer",value:function(e){return this.workerPromise.emit("reloadLayer",{docId:e})}},{key:"cloneGraphicObject",value:function(e,t,n,i){return this.workerPromise.emit("cloneGraphicObject",{docId:e,pageId:t,srcPageId:n,ids:i})}},{key:"compareDoc",value:function(e){var t={baseDocId:e.baseDocId,basePageCount:e.basePageCount,basePageIndex:e.basePageIndex,baseFileName:e.baseFileName,compareDocId:e.compareDocId,comparedPageCount:e.comparedPageCount,comparePageIndex:e.comparePageIndex,comparePageNum:e.comparePageNum,compareFileName:e.compareFileName,newTemplateId:e.newTemplateId,oldTemplateId:e.oldTemplateId,inputOptions:e.options,compareResultStrings:e.compareResultStrings};return this.workerPromise.emit("compareDoc",{compareDocParam:t})}},{key:"searchDoc",value:function(e,t,n,i,r){return this.workerPromise.emit("searchDoc",{docId:e,type:t,words:n,flag:i,isForRedact:r})}},{key:"generateDocHash",value:function(e,t){return this.workerPromise.emit("generateDocHash",{docId:e,buffer:t})}},{key:"getSignIdForEvidence",value:function(e){return this.workerPromise.emit("getSignIdForEvidence",{docId:e})}},{key:"assignSignerForESignCN",value:function(e,t){return this.workerPromise.emit("assignSignerForESignCN",{docId:e,data:t})}},{key:"setESignCNFlowSignMode",value:function(e,t){return this.workerPromise.emit("setESignCNFlowSignMode",{docId:e,type:t})}},{key:"getESignCNFlowSignMode",value:function(e){return this.workerPromise.emit("getESignCNFlowSignMode",{docId:e})}},{key:"isESignCNFile",value:function(e){return this.workerPromise.emit("isESignCNFile",{docId:e})}},{key:"getESignCNMode",value:function(e,t){return this.workerPromise.emit("getESignCNMode",{docId:e,fieldName:t})}},{key:"isESignCNSignature",value:function(e,t,n){return this.workerPromise.emit("isESignCNSignature",{docId:e,fieldId:t,pageIndex:n})}},{key:"addAuditTrail",value:function(e){return this.workerPromise.emit("addAuditTrail",{docId:e})}},{key:"getDocAuditTrail",value:function(e,t,n){return this.workerPromise.emit("getDocAuditTrail",{docId:e,buffer:t,flowSignAnnots:n})}},{key:"destroyForm",value:function(e){return this.workerPromise.emit("destroyForm",{docId:e})}},{key:"updatePropAuthDictForESignCN",value:function(e,t,n){return this.workerPromise.emit("updatePropAuthDictForESignCN",{docId:e,fieldName:t,willingnessInfo:n})}},{key:"getAssignInfoForESignCN",value:function(e){return this.workerPromise.emit("getAssignInfoForESignCN",{docId:e})}},{key:"getOrderOfSignFlowFile",value:function(e){return this.workerPromise.emit("getOrderOfSignFlowFile",{docId:e})}},{key:"checkFieldWhetherFill",value:function(e,t){return this.workerPromise.emit("checkFieldWhetherFill",{docId:e,emailValue:t})}},{key:"setSignatureAP",value:function(e,t,n,i,r){return this.workerPromise.emit("setSignatureAP",{docId:e,pageIndex:t,annotId:n,inkSignBuffer:i,pagingSigObjNum:r})}},{key:"getFlowSignInfo",value:function(e){return this.workerPromise.emit("getFlowSignInfo",{docId:e})}},{key:"addPagingSealSignature",value:function(e,t){return this.workerPromise.emit("addPagingSealSignature",{docId:e,pagingSigConfig:t})}},{key:"updatePagingSealSignature",value:function(e,t,n){return this.workerPromise.emit("updatePagingSealSignature",{docId:e,pagingSigConfig:t,pagingSigObjNum:n})}},{key:"getAllPagingSealSignatures",value:function(e,t){return this.workerPromise.emit("getAllPagingSealSignatures",{docId:e,pagingSigObjNum:t})}},{key:"removePagingSealSignature",value:function(e,t){return this.workerPromise.emit("removePagingSealSignature",{docId:e,pagingSigObjNum:t})}},{key:"getAllPagingSigsInfo",value:function(e,t){return this.workerPromise.emit("getAllPagingSigsInfo",{docId:e,pagingSigObjNum:t})}},{key:"normalizePage",value:function(e,t){return this.workerPromise.emit("normalizePage",{docId:e,pageId:t})}},{key:"getViewportRect",value:function(e,t){return this.workerPromise.emit("getViewportRect",{docId:e,pageId:t})}},{key:"getMeasureScaleRatio",value:function(e,t){return this.workerPromise.emit("getMeasureScaleRatio",{docId:e,pageId:t})}},{key:"setMeasureScaleRatio",value:function(e,t,n,i){return this.workerPromise.emit("setMeasureScaleRatio",{docId:e,pageId:t,storeInPage:n,measureInfo:i})}},{key:"exportMeasureData",value:function(e,t){return this.workerPromise.emit("exportMeasureData",{docId:e,columnNames:t})}},{key:"setRenderConfigLineWeight",value:function(e,t){return this.workerPromise.emit("setRenderConfigLineWeight",{docId:e,lineWeight:t})}},{key:"convertToTextMarkup",value:function(e,t){return this.workerPromise.emit("convertToTextMarkup",{docId:e,findResults:t})}},{key:"redactSearch",value:function(e,t,n,i,r,o){return this.workerPromise.emit("redactSearch",{docId:e,findResults:t,start:n,count:i,overlayTexts:r,opts:o})}},{key:"setRedactAppearance",value:function(e,t,n,i){return this.workerPromise.emit("setRedactAppearance",{docId:e,pageId:t,annotId:n,option:i})}},{key:"getCompareFileFilterNums",value:function(e){return this.workerPromise.emit("getCompareFileFilterNums",{docId:e})}},{key:"getPDFDocFromImageFile",value:function(e,t){return this.workerPromise.emit("getPDFDocFromImageFile",e,t)}},{key:"isScannedDoc",value:function(e){return this.workerPromise.emit("isScannedDoc",{docId:e})}},{key:"getPageCountAsync",value:function(e){return this.workerPromise.emit("getPageCountAsync",{docId:e})}},{key:"getPageTexts",value:function(e,t,n,i,r){return this.workerPromise.emit("getPageTexts",{docId:e,pageId:t,settings:n,minWidth:i,eol:r})}},{key:"hasOwnerPassword",value:function(e){return this.workerPromise.emit("hasOwnerPassword",{docId:e})}},{key:"removePDFAID",value:function(e){return this.workerPromise.emit("removePDFAID",{docId:e})}},{key:"setPageTransition",value:function(e,t,n,i,r){return this.workerPromise.emit("setPageTransition",{docId:e,transName:t,direction:n,speed:i,range:r})}},{key:"getPageTransitionByIndex",value:function(e,t){return this.workerPromise.emit("getPageTransitionByIndex",{docId:e,pageIndex:t})}},{key:"getStampTypeByPageIndex",value:function(e,t){return this.workerPromise.emit("getStampTypeByPageIndex",{docId:e,pageIndex:t})}},{key:"getText",value:function(e,t,n,i){var r=this,o=this.workerPromise.calls(i),a=this.workerPromise.emit("getText",{docId:e,pageRange:t,taskId:n,taskProgress:o});return a.finally((function(){r.workerPromise.releaseCall(o)})),a}},{key:"cancelTaskProgress",value:function(e,t){return this.workerPromise.emit("cancelTaskProgress",{docId:e,taskId:t})}},{key:"isScannedPage",value:function(e,t){return this.workerPromise.emit("isScannedPage",{docId:e,pageId:t})}},{key:"createSummarizeComments",value:function(e,t,n){var i=this,r=this.workerPromise.calls(t),o=this.workerPromise.emit("createSummarizeComments",{docId:e,param:n,writeStream:r});return o.finally((function(){i.workerPromise.releaseCall(r)})),o}},{key:"getPageTransition",value:function(e,t){return this.workerPromise.emit("getPageTransition",{docId:e,pageId:t})}},{key:"hiddenDataSanitizeDocument",value:function(e){return this.workerPromise.emit("hiddenDataSanitizeDocument",{docId:e})}},{key:"hiddenDataRemoveHiddenInfo",value:function(e,t){return this.workerPromise.emit("hiddenDataRemoveHiddenInfo",{docId:e,options:t})}},{key:"cacheFontConfig",value:function(e,t,n){return this.workerPromise.emit("cacheFontConfig",{fontServerRoot:e,notExistFonts:t,customUploadFonts:n})}},{key:"getFxcoreFontList",value:function(){return this.workerPromise.emit("getFxcoreFontList")}},{key:"getPureTexts",value:function(e,t,n){return this.workerPromise.emit("getPureTexts",{docId:e,pageId:t,order:n})}},{key:"getLRContentForChatWithDoc",value:function(e,t){return this.workerPromise.emit("getLRContentForChatWithDoc",{docId:e,options:t})}},{key:"getDocPurText",value:function(e){return this.workerPromise.emit("getDocPurText",{docId:e})}},{key:"docCanDoOcr",value:function(e,t){return this.workerPromise.emit("docCanDoOcr",{docId:e,checkImage:t})}},{key:"fetchContentByType",value:function(e,t){return this.workerPromise.emit("fetchContentByType",{docId:e,options:t})}},{key:"getFATLAndEUTLList",value:function(e,t){return this.workerPromise.emit("getFATLAndEUTLList",{urls:e,isUpdate:t})}},{key:"getTextInRect",value:function(e,t,n,i){return this.workerPromise.emit("getTextInRect",{docId:e,pageId:t,rect:n,type:i})}},{key:"previewIconDoc",value:function(e){return this.workerPromise.emit("previewIconDoc",{icon:e})}},{key:"getAnnotRects",value:function(e,t){return this.workerPromise.emit("getAnnotRects",{docId:e,pageId:t})}},{key:"transformPage",value:function(e,t,n){return this.workerPromise.emit("transformPage",{docId:e,pageId:t,options:n})}},{key:"getSignatureBitmap",value:function(e,t){return this.workerPromise.emit("getSignatureBitmap",{docId:e,fieldName:t})}},{key:"setSignatureBitmap",value:function(e,t,n){return this.workerPromise.emit("setSignatureBitmap",{docId:e,fieldName:t,buffer:n})}},{key:"getGraphicsObjectsByRect",value:function(e,t,n,i,r,o){return this.workerPromise.emit("getGraphicsObjectsByRect",{docId:e,pageId:t,rect:n,tolerance:i,type:r,isInRect:o})}},{key:"removeAllEmbeddedFiles",value:function(e){return this.workerPromise.emit("removeAllEmbeddedFiles",{docId:e})}},{key:"getEmbeddedFileNames",value:function(e){return this.workerPromise.emit("getEmbeddedFileNames",{docId:e})}},{key:"comparePDFDocuments",value:function(e,t,n,i){return this.workerPromise.emit("comparePDFDocuments",{docId:e,otherDocId:t,params:n,progressId:i})}},{key:"getCharBBox",value:function(e,t){return this.workerPromise.emit("getCharBBox",{fontId:e,unicode:t})}},{key:"getCharWidthByFontID",value:function(e,t){return this.workerPromise.emit("getCharWidthByFontID",{fontId:e,unicode:t})}},{key:"getFontToneByFontID",value:function(e){return this.workerPromise.emit("getFontToneByFontID",{fontId:e})}},{key:"updateCalloutFigure",value:function(e,t,n,i,r,o){return this.workerPromise.emit("updateCalloutFigure",{docId:e,pageId:t,annotId:n,outerRect:i,innerRect:r,calloutLinePoints:o})}},{key:"clearPageRenderCache",value:function(e,t){return this.workerPromise.emit("clearPageRenderCache",{docId:e,pageId:t})}},{key:"updateRectFigure",value:function(e,t,n,i,r){return this.workerPromise.emit("updateRectFigure",{docId:e,pageId:t,annotId:n,outerRect:i,innerRect:r})}},{key:"drawTextString",value:function(e,t){return this.workerPromise.emit("drawTextString",{docId:e,font:t})}},{key:"loadAdvEditorConfigFile",value:function(e,t,n){return this.workerPromise.emit("loadAdvEditorConfigFile",{docId:e,fileBuffer:t,moduleName:n})}},{key:"setAdvEditorTextToolStyle",value:function(e,t){return this.workerPromise.emit("setAdvEditorTextToolStyle",{docId:e,style:t})}},{key:"setAdvEditorEditingObjectToolStyle",value:function(e,t){return this.workerPromise.emit("setAdvEditorEditingObjectToolStyle",{docId:e,style:t})}},{key:"setConfiguration",value:function(e){return this.workerPromise.emit("setConfiguration",e)}}]),n}(d.Z);const b=new Proxy(_,{construct:function(e,t){return new Proxy((0,c._)(e,(0,A._)(t)),y)}});function w(e){e.on("wasmBinary",(function(e){localStorage.setItem(v,e)})),e.on("asmMem",(function(e){localStorage.setItem(g,e)})),e.on("asmJs",(function(e){localStorage.setItem(m,e)}))}const k=function(e){return function(e){(0,o._)(n,e);var t=(0,a._)(n);function n(e,r,o,a){var s;return(0,i._)(this,n),(s=t.call(this,e,r,o,a)).api=new b(e,a),o.configuration&&s.updateConfigurations(o.configuration),s}return(0,r._)(n,[{key:"createMessageChannel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.api.workerPromise.createMessageChannel(this.clientId+"."+e,t);return n.ownsTo(this),n}},{key:"defineRemoteAPI",value:function(e,t){var n=this.createMessageChannel(e,t);return function(){n.destroy()}}},{key:"obtainRemoteAPI",value:function(e){return this.createMessageChannel(e).remoteImplementation}},{key:"registerSecurityCallback",value:function(e,t){return this.api.registerSecurityCallback(e,t)}},{key:"registerCustomWebPluginSecurityCallback",value:function(e,t,n){return this.api.registerCustomWebPluginSecurityCallback(e,t,n)}},{key:"unRegisterSecurityHandler",value:function(e,t){return this.api.unRegisterSecurityHandler(e,t)}},{key:"setFontMap",value:function(e){return this.api.setFontMap(e)}},{key:"setWatermarkFontMap",value:function(e){return this.api.setWatermarkFontMap(e)}},{key:"addFontMap",value:function(e){return this.api.addFontMap(e)}},{key:"getCharBBox",value:function(e,t){return this.api.getCharBBox(e,t)}},{key:"getCharWidthByFontID",value:function(e,t){return this.api.getCharWidthByFontID(e,t)}},{key:"getFontToneByFontID",value:function(e){return this.api.getFontToneByFontID(e)}},{key:"setJPXDownSample",value:function(e){return this.api.setJPXDownSample(e)}},{key:"cacheFontConfig",value:function(e,t,n){return this.api.cacheFontConfig(e,t,n)}},{key:"getFxcoreFontList",value:function(){return this.api.getFxcoreFontList()}},{key:"getFATLAndEUTLList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.api.getFATLAndEUTLList(e,t)}},{key:"updateConfigurations",value:function(e){return this.configuration=(0,s.extendOptions)({},this.configuration||{},e),this.api.setConfiguration(e)}}]),n}(e)}},1783:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>A});var i=n(9227),r=n(5467),o=n(5376),a=n(7424),s=n(5843),c=n(9880),u="0.6264421889420926";function l(e){var t=Object.getOwnPropertyNames(e.prototype);return function(e){(0,r._)(l,e);var n=(0,o._)(l);function l(e,r){var o,a=function(e){var n=t[e],i=f.indexOf(n);if(-1!==i)return f.splice(i,1),"continue";o[n]=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return h.emit(n,t)}};(0,i._)(this,l),o=n.call(this,e,r);var s=e.workerPath,A=e.workerBlobUrl;"/"!==s.slice(-1)&&(s+="/");for(var d=new Worker(A||s+"WebPDFSRWorker.js?h="+u),h=o.workerPromise=new c.Z(d),f=Object.getOwnPropertyNames(o.constructor.prototype),p=t.length;p--;)a(p);return o}return(0,a._)(l,[{key:"init",value:function(){return this.workerPromise.emit("initSREngine",this.option)}},{key:"getPDFDocIdByFile",value:function(e,t){var n=function(e){var t=[];return(0,s._)(e,ArrayBuffer)&&(t=[e]),t}(e);return this.workerPromise.emit("getPDFDocByFile",[e,t],n)}},{key:"getPDFDocStream",value:function(e,t,n){var i=this,r=this.workerPromise.calls(t),o=this.workerPromise.emit("getPDFDocStream",[e,r,n]);return o.finally((function(){i.workerPromise.releaseCall(r)})),o}},{key:"getFileattachmentStream",value:function(e,t,n,i){var r=this,o=this.workerPromise.calls(i),a=this.workerPromise.emit("getFileattachmentStream",[e,t,n,o]);return a.finally((function(){r.workerPromise.releaseCall(o)})),a}},{key:"resetEngine",value:function(e){return this.workerPromise.emit("resetEngine",[e])}}]),l}(e)}const A=function(e){return function(e){(0,r._)(n,e);var t=(0,o._)(n);function n(e,r,o,a){var s;return(0,i._)(this,n),(s=t.call(this,e,r,o,a)).api=new(l(s.api.constructor))(e),s}return n}(e)}},4231:function(e){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){var t;switch(i(e)){case"string":return/Z$/.test(e)?0:(t=/([+-])(\d{2}):?(\d{2})/.exec(e))&&(+t[3]+60*t[2])*("+"===t[1]?1:-1);case"number":return Number.isNaN(e)?null:Math.abs(e)<16?60*e:e;default:return null}}n.r(t);var o=function(e,t,n){var i=String(e);return!i||i.length>=t?e:"".concat(Array(t+1-i.length).join(n)).concat(e)},a=function(e){var t=Math.abs(e),n=Math.floor(t/60),i=t%60;return"".concat(e<=0?"+":"-").concat(o(n,2,"0"),":").concat(o(i,2,"0"))};function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var c=(new Date).getTimezoneOffset(),u=Date.prototype;function l(e){return 6e4*(e-(arguments.length>1&&void 0!==arguments[1]?arguments[1]:c))}var A=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.getTimezoneOffset();!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$d=new Date(t.getTime()-l(n)),this.$timezoneOffset=n}var t,n,i;return t=e,(n=[{key:"getTimezoneOffset",value:function(){return this.$timezoneOffset}},{key:"setTimezoneOffset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$timezoneOffset;this.$d.setTime(this.$d.getTime()+l(this.$timezoneOffset,e)),this.$timezoneOffset=e}}])&&s(t.prototype,n),i&&s(t,i),e}();["toDateString","toLocaleString","toLocaleDateString","toLocaleTimeString","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setYear","getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getYear"].forEach((function(e){A.prototype[e]=function(){return u[e].apply(this.$d,arguments)}})),["toISOString","toUTCString","toGMTString","toJSON","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","valueOf","getTime"].forEach((function(e){A.prototype[e]=function(){return u[e].apply(new Date(this.$d.getTime()+l(this.$timezoneOffset)),arguments)}})),["setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds"].forEach((function(e){A.prototype[e]=function(){var t=new Date(this.$d.getTime()+l(this.$timezoneOffset));u[e].apply(t,arguments),t.setTime(t.getTime()-l(this.$timezoneOffset)),this.$d=t}})),["toString","toTimeString"].forEach((function(e){A.prototype[e]=function(){return u[e].apply(this.$d,arguments).replace(/GMT(.*)$/,"GMT".concat(a(this.$timezoneOffset)))}}));var d=A,h=!1,f=function(e,t){["clone","add","subtract","startOf"].forEach((function(n){e[n]=function(){var e=this.utcOffset();return t[n].apply(this,arguments).utcOffset(e)}})),e.utc=function(){return this.utcOffset(0)},e.local=function(){return this.utcOffset(-c)},e.utcOffset=function(e){if(void 0===e){var t=this.$d.getTimezoneOffset();return 0===t?0:-t}return null!==r(e)&&(this.$d.setTimezoneOffset(-r(e)),this.init()),this},e.toDate=function(){return new Date(this.$d.getTime())},e.isLocal=function(){return this.$d.getTimezoneOffset()===c},e.isUTC=function(){return 0===this.$d.getTimezoneOffset()},e.$set=function(){for(var e,n=this.$d.getTimezoneOffset(),i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.$set).call.apply(e,[this].concat(r)),this.$d instanceof Date&&(this.$d=new d(this.$d,n)),this},e.parse=function(e){t.parse.call(this,e);var n=this.$d,i="string"==typeof e.date?r(e.date):null;this.$d=new d(n,null===i?c:-i),h&&this.local(),this.init()}};t.default=function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;h=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).parseToLocal;var n=e.prototype,i=function(){};i.prototype=n;var o=new i;f(o,n),o.constructor=e.constructor,e.prototype=o,t.utc=function(e){var t=this(e);return"string"==typeof e&&null===r(e)&&(t.$d.$timezoneOffset=0),t.utc()}}}])},7990:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,i="millisecond",r="second",o="minute",a="hour",s="day",c="week",u="month",l="quarter",A="year",d="date",h="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},g=function(e,t,n){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(n)+e},m={s:g,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),i=Math.floor(n/60),r=n%60;return(t<=0?"+":"-")+g(i,2,"0")+":"+g(r,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var i=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(i,u),o=n-r<0,a=t.clone().add(i+(o?-1:1),u);return+(-(i+(n-r)/(o?r-a:a-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:A,w:c,d:s,D:d,h:a,m:o,s:r,ms:i,Q:l}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",_={};_[y]=v;var b="$isDayjsObject",w=function(e){return e instanceof C||!(!e||!e[b])},k=function e(t,n,i){var r;if(!t)return y;if("string"==typeof t){var o=t.toLowerCase();_[o]&&(r=o),n&&(_[o]=n,r=o);var a=t.split("-");if(!r&&a.length>1)return e(a[0])}else{var s=t.name;_[s]=t,r=s}return!i&&r&&(y=r),r||!i&&y},x=function(e,t){if(w(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new C(n)},P=m;P.l=k,P.i=w,P.w=function(e,t){return x(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var C=function(){function v(e){this.$L=k(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[b]=!0}var g=v.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(P.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var i=t.match(f);if(i){var r=i[2]-1||0,o=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)):new Date(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)}}return new Date(t)}(e),this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return P},g.isValid=function(){return!(this.$d.toString()===h)},g.isSame=function(e,t){var n=x(e);return this.startOf(t)<=n&&n<=this.endOf(t)},g.isAfter=function(e,t){return x(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<x(e)},g.$g=function(e,t,n){return P.u(e)?this[t]:this.set(n,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var n=this,i=!!P.u(t)||t,l=P.p(e),h=function(e,t){var r=P.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return i?r:r.endOf(s)},f=function(e,t){return P.w(n.toDate()[e].apply(n.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},p=this.$W,v=this.$M,g=this.$D,m="set"+(this.$u?"UTC":"");switch(l){case A:return i?h(1,0):h(31,11);case u:return i?h(1,v):h(0,v+1);case c:var y=this.$locale().weekStart||0,_=(p<y?p+7:p)-y;return h(i?g-_:g+(6-_),v);case s:case d:return f(m+"Hours",0);case a:return f(m+"Minutes",1);case o:return f(m+"Seconds",2);case r:return f(m+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var n,c=P.p(e),l="set"+(this.$u?"UTC":""),h=(n={},n[s]=l+"Date",n[d]=l+"Date",n[u]=l+"Month",n[A]=l+"FullYear",n[a]=l+"Hours",n[o]=l+"Minutes",n[r]=l+"Seconds",n[i]=l+"Milliseconds",n)[c],f=c===s?this.$D+(t-this.$W):t;if(c===u||c===A){var p=this.clone().set(d,1);p.$d[h](f),p.init(),this.$d=p.set(d,Math.min(this.$D,p.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[P.p(e)]()},g.add=function(i,l){var d,h=this;i=Number(i);var f=P.p(l),p=function(e){var t=x(h);return P.w(t.date(t.date()+Math.round(e*i)),h)};if(f===u)return this.set(u,this.$M+i);if(f===A)return this.set(A,this.$y+i);if(f===s)return p(1);if(f===c)return p(7);var v=(d={},d[o]=t,d[a]=n,d[r]=e,d)[f]||1,g=this.$d.getTime()+i*v;return P.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var i=e||"YYYY-MM-DDTHH:mm:ssZ",r=P.z(this),o=this.$H,a=this.$m,s=this.$M,c=n.weekdays,u=n.months,l=n.meridiem,A=function(e,n,r,o){return e&&(e[n]||e(t,i))||r[n].slice(0,o)},d=function(e){return P.s(o%12||12,e,"0")},f=l||function(e,t,n){var i=e<12?"AM":"PM";return n?i.toLowerCase():i};return i.replace(p,(function(e,i){return i||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return P.s(t.$y,4,"0");case"M":return s+1;case"MM":return P.s(s+1,2,"0");case"MMM":return A(n.monthsShort,s,u,3);case"MMMM":return A(u,s);case"D":return t.$D;case"DD":return P.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return A(n.weekdaysMin,t.$W,c,2);case"ddd":return A(n.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(o);case"HH":return P.s(o,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return f(o,a,!0);case"A":return f(o,a,!1);case"m":return String(a);case"mm":return P.s(a,2,"0");case"s":return String(t.$s);case"ss":return P.s(t.$s,2,"0");case"SSS":return P.s(t.$ms,3,"0");case"Z":return r}return null}(e)||r.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(i,d,h){var f,p=this,v=P.p(d),g=x(i),m=(g.utcOffset()-this.utcOffset())*t,y=this-g,_=function(){return P.m(p,g)};switch(v){case A:f=_()/12;break;case u:f=_();break;case l:f=_()/3;break;case c:f=(y-m)/6048e5;break;case s:f=(y-m)/864e5;break;case a:f=y/n;break;case o:f=y/t;break;case r:f=y/e;break;default:f=y}return h?f:P.a(f)},g.daysInMonth=function(){return this.endOf(u).$D},g.$locale=function(){return _[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),i=k(e,t,!0);return i&&(n.$L=i),n},g.clone=function(){return P.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},v}(),D=C.prototype;return x.prototype=D,[["$ms",i],["$s",r],["$m",o],["$H",a],["$W",s],["$M",u],["$y",A],["$D",d]].forEach((function(e){D[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),x.extend=function(e,t){return e.$i||(e(t,C,x),e.$i=!0),x},x.locale=k,x.isDayjs=w,x.unix=function(e){return x(1e3*e)},x.en=_[y],x.Ls=_,x.p={},x}()},8990:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),i={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function r(e,t,n){var r=i[n];return Array.isArray(r)&&(r=r[t?0:1]),r.replace("%d",e)}var o={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),ordinal:function(e){return e+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r}};return n.default.locale(o,null,!0),o}(n(7990))},4883:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),i={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(e){return e+"º"}};return n.default.locale(i,null,!0),i}(n(7990))},5522:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),i={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return e+(1===e?"er":"")}};return n.default.locale(i,null,!0),i}(n(7990))},890:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),i={name:"it",weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"qualche secondo",m:"un minuto",mm:"%d minuti",h:"un' ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:function(e){return e+"º"}};return n.default.locale(i,null,!0),i}(n(7990))},859:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),i={name:"ja",weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e){return e+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日(ddd) HH:mm"},meridiem:function(e){return e<12?"午前":"午後"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}};return n.default.locale(i,null,!0),i}(n(7990))},5576:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),i={name:"ko",weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),ordinal:function(e){return e+"일"},formats:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h:mm",LLLL:"YYYY년 MMMM D일 dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY년 MMMM D일",lll:"YYYY년 MMMM D일 A h:mm",llll:"YYYY년 MMMM D일 dddd A h:mm"},meridiem:function(e){return e<12?"오전":"오후"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇 초",m:"1분",mm:"%d분",h:"한 시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한 달",MM:"%d달",y:"일 년",yy:"%d년"}};return n.default.locale(i,null,!0),i}(n(7990))},3765:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),i={name:"nl",weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),ordinal:function(e){return"["+e+(1===e||8===e||e>=20?"ste":"de")+"]"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"een minuut",mm:"%d minuten",h:"een uur",hh:"%d uur",d:"een dag",dd:"%d dagen",M:"een maand",MM:"%d maanden",y:"een jaar",yy:"%d jaar"}};return n.default.locale(i,null,!0),i}(n(7990))},1128:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),i={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e,t){return"W"===t?e+"周":e+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(e,t){var n=100*e+t;return n<600?"凌晨":n<900?"早上":n<1100?"上午":n<1300?"中午":n<1800?"下午":"晚上"}};return n.default.locale(i,null,!0),i}(n(7990))},7074:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),i={name:"zh-hk",months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),ordinal:function(e,t){return"W"===t?e+"週":e+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"一分鐘",mm:"%d 分鐘",h:"一小時",hh:"%d 小時",d:"一天",dd:"%d 天",M:"一個月",MM:"%d 個月",y:"一年",yy:"%d 年"},meridiem:function(e,t){var n=100*e+t;return n<600?"凌晨":n<900?"早上":n<1100?"上午":n<1300?"中午":n<1800?"下午":"晚上"}};return n.default.locale(i,null,!0),i}(n(7990))},579:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),i={name:"zh-tw",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e,t){return"W"===t?e+"週":e+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"},meridiem:function(e,t){var n=100*e+t;return n<600?"凌晨":n<900?"早上":n<1100?"上午":n<1300?"中午":n<1800?"下午":"晚上"}};return n.default.locale(i,null,!0),i}(n(7990))},1434:function(e){e.exports=function(){"use strict";return function(e,t){var n=t.prototype,i=n.format;n.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return i.bind(this)(e);var r=this.$utils(),o=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return n.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return n.ordinal(t.week(),"W");case"w":case"ww":return r.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return r.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return r.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}}));return i.bind(this)(o)}}}()},7983:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,i=/\d\d?/,r=/\d*[^-_:/,()\s\d]+/,o={},a=function(e){return(e=+e)+(e>68?1900:2e3)},s=function(e){return function(t){this[e]=+t}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],u=function(e){var t=o[e];return t&&(t.indexOf?t:t.s.concat(t.f))},l=function(e,t){var n,i=o.meridiem;if(i){for(var r=1;r<=24;r+=1)if(e.indexOf(i(r,0,t))>-1){n=r>12;break}}else n=e===(t?"pm":"PM");return n},A={A:[r,function(e){this.afternoon=l(e,!1)}],a:[r,function(e){this.afternoon=l(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[n,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[i,s("seconds")],ss:[i,s("seconds")],m:[i,s("minutes")],mm:[i,s("minutes")],H:[i,s("hours")],h:[i,s("hours")],HH:[i,s("hours")],hh:[i,s("hours")],D:[i,s("day")],DD:[n,s("day")],Do:[r,function(e){var t=o.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var i=1;i<=31;i+=1)t(i).replace(/\[|\]/g,"")===e&&(this.day=i)}],M:[i,s("month")],MM:[n,s("month")],MMM:[r,function(e){var t=u("months"),n=(u("monthsShort")||t.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[r,function(e){var t=u("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,s("year")],YY:[n,function(e){this.year=a(e)}],YYYY:[/\d{4}/,s("year")],Z:c,ZZ:c};function d(n){var i,r;i=n,r=o&&o.formats;for(var a=(n=i.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,i){var o=i&&i.toUpperCase();return n||r[i]||e[i]||r[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))).match(t),s=a.length,c=0;c<s;c+=1){var u=a[c],l=A[u],d=l&&l[0],h=l&&l[1];a[c]=h?{regex:d,parser:h}:u.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,i=0;n<s;n+=1){var r=a[n];if("string"==typeof r)i+=r.length;else{var o=r.regex,c=r.parser,u=e.slice(i),l=o.exec(u)[0];c.call(t,l),e=e.replace(l,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(a=e.parseTwoDigitYear);var i=t.prototype,r=i.parse;i.parse=function(e){var t=e.date,i=e.utc,a=e.args;this.$u=i;var s=a[1];if("string"==typeof s){var c=!0===a[2],u=!0===a[3],l=c||u,A=a[2];u&&(A=a[2]),o=this.$locale(),!c&&A&&(o=n.Ls[A]),this.$d=function(e,t,n){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var i=d(t)(e),r=i.year,o=i.month,a=i.day,s=i.hours,c=i.minutes,u=i.seconds,l=i.milliseconds,A=i.zone,h=new Date,f=a||(r||o?1:h.getDate()),p=r||h.getFullYear(),v=0;r&&!o||(v=o>0?o-1:h.getMonth());var g=s||0,m=c||0,y=u||0,_=l||0;return A?new Date(Date.UTC(p,v,f,g,m,y,_+60*A.offset*1e3)):n?new Date(Date.UTC(p,v,f,g,m,y,_)):new Date(p,v,f,g,m,y,_)}catch(e){return new Date("")}}(t,s,i),this.init(),A&&!0!==A&&(this.$L=this.locale(A).$L),l&&t!=this.format(s)&&(this.$d=new Date("")),o={}}else if(s instanceof Array)for(var h=s.length,f=1;f<=h;f+=1){a[1]=s[f-1];var p=n.apply(this,a);if(p.isValid()){this.$d=p.$d,this.$L=p.$L,this.init();break}f===h&&(this.$d=new Date(""))}else r.call(this,e)}}}()},8366:function(e){e.exports=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(i,r,o){var a=r.prototype;o.utc=function(e){return new r({date:e,utc:!0,args:arguments})},a.utc=function(t){var n=o(this.toDate(),{locale:this.$L,utc:!0});return t?n.add(this.utcOffset(),e):n},a.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var s=a.parse;a.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),s.call(this,e)};var c=a.init;a.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else c.call(this)};var u=a.utcOffset;a.utcOffset=function(i,r){var o=this.$utils().u;if(o(i))return this.$u?0:o(this.$offset)?u.call(this):this.$offset;if("string"==typeof i&&(i=function(e){void 0===e&&(e="");var i=e.match(t);if(!i)return null;var r=(""+i[0]).match(n)||["-",0,0],o=r[0],a=60*+r[1]+ +r[2];return 0===a?0:"+"===o?a:-a}(i),null===i))return this;var a=Math.abs(i)<=16?60*i:i,s=this;if(r)return s.$offset=a,s.$u=0===i,s;if(0!==i){var c=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(s=this.local().add(a+c,e)).$offset=a,s.$x.$localOffset=c}else s=this.utc();return s};var l=a.format;a.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return l.call(this,t)},a.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var A=a.toDate;a.toDate=function(e){return"s"===e&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():A.call(this)};var d=a.diff;a.diff=function(e,t,n){if(e&&this.$u===e.$u)return d.call(this,e,t,n);var i=this.local(),r=o(e).local();return d.call(i,r,t,n)}}}()},2778:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function i(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,i,o,a){if("function"!=typeof i)throw new TypeError("The listener must be a function");var s=new r(i,o||e,a),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function s(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,i,r=[];if(0===this._eventsCount)return r;for(i in e=this._events)t.call(e,i)&&r.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},s.prototype.listeners=function(e){var t=n?n+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,o=i.length,a=new Array(o);r<o;r++)a[r]=i[r].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,i=this._events[t];return i?i.fn?1:i.length:0},s.prototype.emit=function(e,t,i,r,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var c,u,l=this._events[s],A=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),A){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,i),!0;case 4:return l.fn.call(l.context,t,i,r),!0;case 5:return l.fn.call(l.context,t,i,r,o),!0;case 6:return l.fn.call(l.context,t,i,r,o,a),!0}for(u=1,c=new Array(A-1);u<A;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var d,h=l.length;for(u=0;u<h;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),A){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,i);break;case 4:l[u].fn.call(l[u].context,t,i,r);break;default:if(!c)for(d=1,c=new Array(A-1);d<A;d++)c[d-1]=arguments[d];l[u].fn.apply(l[u].context,c)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,i,r){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||r&&!s.once||i&&s.context!==i||a(this,o);else{for(var c=0,u=[],l=s.length;c<l;c++)(s[c].fn!==t||r&&!s[c].once||i&&s[c].context!==i)&&u.push(s[c]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},636:function(e,t){var n;
/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(i,r){"use strict";var o=[],a=Object.getPrototypeOf,s=o.slice,c=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},u=o.push,l=o.indexOf,A={},d=A.toString,h=A.hasOwnProperty,f=h.toString,p=f.call(Object),v={},g=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},m=function(e){return null!=e&&e===e.window},y=i.document,_={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var i,r,o=(n=n||y).createElement("script");if(o.text=e,t)for(i in _)(r=t[i]||t.getAttribute&&t.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?A[d.call(e)]||"object":typeof e}var k="3.7.1",x=/HTML$/i,P=function(e,t){return new P.fn.init(e,t)};function C(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!g(e)&&!m(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function D(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}P.fn=P.prototype={jquery:k,constructor:P,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=P.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return P.each(this,e)},map:function(e){return this.pushStack(P.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(P.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(P.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:o.sort,splice:o.splice},P.extend=P.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||g(a)||(a={}),s===c&&(a=this,s--);s<c;s++)if(null!=(e=arguments[s]))for(t in e)i=e[t],"__proto__"!==t&&a!==i&&(u&&i&&(P.isPlainObject(i)||(r=Array.isArray(i)))?(n=a[t],o=r&&!Array.isArray(n)?[]:r||P.isPlainObject(n)?n:{},r=!1,a[t]=P.extend(u,o,i)):void 0!==i&&(a[t]=i));return a},P.extend({expando:"jQuery"+(k+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==d.call(e))&&(!(t=a(e))||"function"==typeof(n=h.call(t,"constructor")&&t.constructor)&&f.call(n)===p)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(C(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},text:function(e){var t,n="",i=0,r=e.nodeType;if(!r)for(;t=e[i++];)n+=P.text(t);return 1===r||11===r?e.textContent:9===r?e.documentElement.textContent:3===r||4===r?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(C(Object(e))?P.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:l.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!x.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++)!t(e[r],r)!==a&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,a=[];if(C(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&a.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&a.push(r);return c(a)},guid:1,support:v}),"function"==typeof Symbol&&(P.fn[Symbol.iterator]=o[Symbol.iterator]),P.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){A["[object "+t+"]"]=t.toLowerCase()}));var E=o.pop,S=o.sort,I=o.splice,T="[\\x20\\t\\r\\n\\f]",R=new RegExp("^"+T+"+|((?:^|[^\\\\])(?:\\\\.)*)"+T+"+$","g");P.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var M=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function F(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}P.escapeSelector=function(e){return(e+"").replace(M,F)};var N=y,L=u;!function(){var e,t,n,r,a,c,u,A,d,f,p=L,g=P.expando,m=0,y=0,_=ee(),b=ee(),w=ee(),k=ee(),x=function(e,t){return e===t&&(a=!0),0},C="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="(?:\\\\[\\da-fA-F]{1,6}"+T+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",F="\\["+T+"*("+M+")(?:"+T+"*([*^$|!~]?=)"+T+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+T+"*\\]",O=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",j=new RegExp(T+"+","g"),B=new RegExp("^"+T+"*,"+T+"*"),V=new RegExp("^"+T+"*([>+~]|"+T+")"+T+"*"),U=new RegExp(T+"|>"),H=new RegExp(O),z=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+T+"*(even|odd|(([+-]|)(\\d*)n|)"+T+"*(?:([+-]|)"+T+"*(\\d+)|))"+T+"*\\)|)","i"),bool:new RegExp("^(?:"+C+")$","i"),needsContext:new RegExp("^"+T+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+T+"*((?:-\\d)?\\d*)"+T+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,q=new RegExp("\\\\[\\da-fA-F]{1,6}"+T+"?|\\\\([^\\r\\n\\f])","g"),K=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},Z=function(){ce()},X=de((function(e){return!0===e.disabled&&D(e,"fieldset")}),{dir:"parentNode",next:"legend"});try{p.apply(o=s.call(N.childNodes),N.childNodes),o[N.childNodes.length].nodeType}catch(e){p={apply:function(e,t){L.apply(e,s.call(t))},call:function(e){L.apply(e,s.call(arguments,1))}}}function Q(e,t,n,i){var r,o,a,s,u,l,h,f=t&&t.ownerDocument,m=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!i&&(ce(t),t=t||c,A)){if(11!==m&&(u=$.exec(e)))if(r=u[1]){if(9===m){if(!(a=t.getElementById(r)))return n;if(a.id===r)return p.call(n,a),n}else if(f&&(a=f.getElementById(r))&&Q.contains(t,a)&&a.id===r)return p.call(n,a),n}else{if(u[2])return p.apply(n,t.getElementsByTagName(e)),n;if((r=u[3])&&t.getElementsByClassName)return p.apply(n,t.getElementsByClassName(r)),n}if(!(k[e+" "]||d&&d.test(e))){if(h=e,f=t,1===m&&(U.test(e)||V.test(e))){for((f=J.test(e)&&se(t.parentNode)||t)==t&&v.scope||((s=t.getAttribute("id"))?s=P.escapeSelector(s):t.setAttribute("id",s=g)),o=(l=le(e)).length;o--;)l[o]=(s?"#"+s:":scope")+" "+Ae(l[o]);h=l.join(",")}try{return p.apply(n,f.querySelectorAll(h)),n}catch(t){k(e,!0)}finally{s===g&&t.removeAttribute("id")}}}return me(e.replace(R,"$1"),t,n,i)}function ee(){var e=[];return function n(i,r){return e.push(i+" ")>t.cacheLength&&delete n[e.shift()],n[i+" "]=r}}function te(e){return e[g]=!0,e}function ne(e){var t=c.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ie(e){return function(t){return D(t,"input")&&t.type===e}}function re(e){return function(t){return(D(t,"input")||D(t,"button"))&&t.type===e}}function oe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&X(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ae(e){return te((function(t){return t=+t,te((function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))}))}))}function se(e){return e&&void 0!==e.getElementsByTagName&&e}function ce(e){var n,i=e?e.ownerDocument||e:N;return i!=c&&9===i.nodeType&&i.documentElement?(u=(c=i).documentElement,A=!P.isXMLDoc(c),f=u.matches||u.webkitMatchesSelector||u.msMatchesSelector,u.msMatchesSelector&&N!=c&&(n=c.defaultView)&&n.top!==n&&n.addEventListener("unload",Z),v.getById=ne((function(e){return u.appendChild(e).id=P.expando,!c.getElementsByName||!c.getElementsByName(P.expando).length})),v.disconnectedMatch=ne((function(e){return f.call(e,"*")})),v.scope=ne((function(){return c.querySelectorAll(":scope")})),v.cssHas=ne((function(){try{return c.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}})),v.getById?(t.filter.ID=function(e){var t=e.replace(q,K);return function(e){return e.getAttribute("id")===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&A){var n=t.getElementById(e);return n?[n]:[]}}):(t.filter.ID=function(e){var t=e.replace(q,K);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&A){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),t.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},t.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&A)return t.getElementsByClassName(e)},d=[],ne((function(e){var t;u.appendChild(e).innerHTML="<a id='"+g+"' href='' disabled='disabled'></a><select id='"+g+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+T+"*(?:value|"+C+")"),e.querySelectorAll("[id~="+g+"-]").length||d.push("~="),e.querySelectorAll("a#"+g+"+*").length||d.push(".#.+[+~]"),e.querySelectorAll(":checked").length||d.push(":checked"),(t=c.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),u.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&d.push(":enabled",":disabled"),(t=c.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||d.push("\\["+T+"*name"+T+"*="+T+"*(?:''|\"\")")})),v.cssHas||d.push(":has"),d=d.length&&new RegExp(d.join("|")),x=function(e,t){if(e===t)return a=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!v.sortDetached&&t.compareDocumentPosition(e)===n?e===c||e.ownerDocument==N&&Q.contains(N,e)?-1:t===c||t.ownerDocument==N&&Q.contains(N,t)?1:r?l.call(r,e)-l.call(r,t):0:4&n?-1:1)},c):c}for(e in Q.matches=function(e,t){return Q(e,null,null,t)},Q.matchesSelector=function(e,t){if(ce(e),A&&!k[t+" "]&&(!d||!d.test(t)))try{var n=f.call(e,t);if(n||v.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){k(t,!0)}return Q(t,c,null,[e]).length>0},Q.contains=function(e,t){return(e.ownerDocument||e)!=c&&ce(e),P.contains(e,t)},Q.attr=function(e,n){(e.ownerDocument||e)!=c&&ce(e);var i=t.attrHandle[n.toLowerCase()],r=i&&h.call(t.attrHandle,n.toLowerCase())?i(e,n,!A):void 0;return void 0!==r?r:e.getAttribute(n)},Q.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},P.uniqueSort=function(e){var t,n=[],i=0,o=0;if(a=!v.sortStable,r=!v.sortStable&&s.call(e,0),S.call(e,x),a){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)I.call(e,n[i],1)}return r=null,e},P.fn.uniqueSort=function(){return this.pushStack(P.uniqueSort(s.apply(this)))},t=P.expr={cacheLength:50,createPseudo:te,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(q,K),e[3]=(e[3]||e[4]||e[5]||"").replace(q,K),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Q.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Q.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return W.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&H.test(n)&&(t=le(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(q,K).toLowerCase();return"*"===e?function(){return!0}:function(e){return D(e,t)}},CLASS:function(e){var t=_[e+" "];return t||(t=new RegExp("(^|"+T+")"+e+"("+T+"|$)"))&&_(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var r=Q.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(j," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,c){var u,l,A,d,h,f=o!==a?"nextSibling":"previousSibling",p=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!c&&!s,_=!1;if(p){if(o){for(;f;){for(A=t;A=A[f];)if(s?D(A,v):1===A.nodeType)return!1;h=f="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?p.firstChild:p.lastChild],a&&y){for(_=(d=(u=(l=p[g]||(p[g]={}))[e]||[])[0]===m&&u[1])&&u[2],A=d&&p.childNodes[d];A=++d&&A&&A[f]||(_=d=0)||h.pop();)if(1===A.nodeType&&++_&&A===t){l[e]=[m,d,_];break}}else if(y&&(_=d=(u=(l=t[g]||(t[g]={}))[e]||[])[0]===m&&u[1]),!1===_)for(;(A=++d&&A&&A[f]||(_=d=0)||h.pop())&&(!(s?D(A,v):1===A.nodeType)||!++_||(y&&((l=A[g]||(A[g]={}))[e]=[m,_]),A!==t)););return(_-=r)===i||_%i==0&&_/i>=0}}},PSEUDO:function(e,n){var i,r=t.pseudos[e]||t.setFilters[e.toLowerCase()]||Q.error("unsupported pseudo: "+e);return r[g]?r(n):r.length>1?(i=[e,e,"",n],t.setFilters.hasOwnProperty(e.toLowerCase())?te((function(e,t){for(var i,o=r(e,n),a=o.length;a--;)e[i=l.call(e,o[a])]=!(t[i]=o[a])})):function(e){return r(e,0,i)}):r}},pseudos:{not:te((function(e){var t=[],n=[],i=ge(e.replace(R,"$1"));return i[g]?te((function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}})),has:te((function(e){return function(t){return Q(e,t).length>0}})),contains:te((function(e){return e=e.replace(q,K),function(t){return(t.textContent||P.text(t)).indexOf(e)>-1}})),lang:te((function(e){return z.test(e||"")||Q.error("unsupported lang: "+e),e=e.replace(q,K).toLowerCase(),function(t){var n;do{if(n=A?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=i.location&&i.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===u},focus:function(e){return e===function(){try{return c.activeElement}catch(e){}}()&&c.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:oe(!1),disabled:oe(!0),checked:function(e){return D(e,"input")&&!!e.checked||D(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!t.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){return D(e,"input")&&"button"===e.type||D(e,"button")},text:function(e){var t;return D(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ae((function(){return[0]})),last:ae((function(e,t){return[t-1]})),eq:ae((function(e,t,n){return[n<0?n+t:n]})),even:ae((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ae((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ae((function(e,t,n){var i;for(i=n<0?n+t:n>t?t:n;--i>=0;)e.push(i);return e})),gt:ae((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}},t.pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=ie(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=re(e);function ue(){}function le(e,n){var i,r,o,a,s,c,u,l=b[e+" "];if(l)return n?0:l.slice(0);for(s=e,c=[],u=t.preFilter;s;){for(a in i&&!(r=B.exec(s))||(r&&(s=s.slice(r[0].length)||s),c.push(o=[])),i=!1,(r=V.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(R," ")}),s=s.slice(i.length)),t.filter)!(r=W[a].exec(s))||u[a]&&!(r=u[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?Q.error(e):b(e,c).slice(0)}function Ae(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function de(e,t,n){var i=t.dir,r=t.next,o=r||i,a=n&&"parentNode"===o,s=y++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,r);return!1}:function(t,n,c){var u,l,A=[m,s];if(c){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,c))return!0}else for(;t=t[i];)if(1===t.nodeType||a)if(l=t[g]||(t[g]={}),r&&D(t,r))t=t[i]||t;else{if((u=l[o])&&u[0]===m&&u[1]===s)return A[2]=u[2];if(l[o]=A,A[2]=e(t,n,c))return!0}return!1}}function he(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function fe(e,t,n,i,r){for(var o,a=[],s=0,c=e.length,u=null!=t;s<c;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),u&&t.push(s)));return a}function pe(e,t,n,i,r,o){return i&&!i[g]&&(i=pe(i)),r&&!r[g]&&(r=pe(r,o)),te((function(o,a,s,c){var u,A,d,h,f=[],v=[],g=a.length,m=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)Q(e,t[i],n);return n}(t||"*",s.nodeType?[s]:s,[]),y=!e||!o&&t?m:fe(m,f,e,s,c);if(n?n(y,h=r||(o?e:g||i)?[]:a,s,c):h=y,i)for(u=fe(h,v),i(u,[],s,c),A=u.length;A--;)(d=u[A])&&(h[v[A]]=!(y[v[A]]=d));if(o){if(r||e){if(r){for(u=[],A=h.length;A--;)(d=h[A])&&u.push(y[A]=d);r(null,h=[],u,c)}for(A=h.length;A--;)(d=h[A])&&(u=r?l.call(o,d):f[A])>-1&&(o[u]=!(a[u]=d))}}else h=fe(h===a?h.splice(g,h.length):h),r?r(null,a,h,c):p.apply(a,h)}))}function ve(e){for(var i,r,o,a=e.length,s=t.relative[e[0].type],c=s||t.relative[" "],u=s?1:0,A=de((function(e){return e===i}),c,!0),d=de((function(e){return l.call(i,e)>-1}),c,!0),h=[function(e,t,r){var o=!s&&(r||t!=n)||((i=t).nodeType?A(e,t,r):d(e,t,r));return i=null,o}];u<a;u++)if(r=t.relative[e[u].type])h=[de(he(h),r)];else{if((r=t.filter[e[u].type].apply(null,e[u].matches))[g]){for(o=++u;o<a&&!t.relative[e[o].type];o++);return pe(u>1&&he(h),u>1&&Ae(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(R,"$1"),r,u<o&&ve(e.slice(u,o)),o<a&&ve(e=e.slice(o)),o<a&&Ae(e))}h.push(r)}return he(h)}function ge(e,i){var r,o=[],a=[],s=w[e+" "];if(!s){for(i||(i=le(e)),r=i.length;r--;)(s=ve(i[r]))[g]?o.push(s):a.push(s);s=w(e,function(e,i){var r=i.length>0,o=e.length>0,a=function(a,s,u,l,d){var h,f,v,g=0,y="0",_=a&&[],b=[],w=n,k=a||o&&t.find.TAG("*",d),x=m+=null==w?1:Math.random()||.1,C=k.length;for(d&&(n=s==c||s||d);y!==C&&null!=(h=k[y]);y++){if(o&&h){for(f=0,s||h.ownerDocument==c||(ce(h),u=!A);v=e[f++];)if(v(h,s||c,u)){p.call(l,h);break}d&&(m=x)}r&&((h=!v&&h)&&g--,a&&_.push(h))}if(g+=y,r&&y!==g){for(f=0;v=i[f++];)v(_,b,s,u);if(a){if(g>0)for(;y--;)_[y]||b[y]||(b[y]=E.call(l));b=fe(b)}p.apply(l,b),d&&!a&&b.length>0&&g+i.length>1&&P.uniqueSort(l)}return d&&(m=x,n=w),_};return r?te(a):a}(a,o)),s.selector=e}return s}function me(e,n,i,r){var o,a,s,c,u,l="function"==typeof e&&e,d=!r&&le(e=l.selector||e);if(i=i||[],1===d.length){if((a=d[0]=d[0].slice(0)).length>2&&"ID"===(s=a[0]).type&&9===n.nodeType&&A&&t.relative[a[1].type]){if(!(n=(t.find.ID(s.matches[0].replace(q,K),n)||[])[0]))return i;l&&(n=n.parentNode),e=e.slice(a.shift().value.length)}for(o=W.needsContext.test(e)?0:a.length;o--&&(s=a[o],!t.relative[c=s.type]);)if((u=t.find[c])&&(r=u(s.matches[0].replace(q,K),J.test(a[0].type)&&se(n.parentNode)||n))){if(a.splice(o,1),!(e=r.length&&Ae(a)))return p.apply(i,r),i;break}}return(l||ge(e,d))(r,n,!A,i,!n||J.test(e)&&se(n.parentNode)||n),i}ue.prototype=t.filters=t.pseudos,t.setFilters=new ue,v.sortStable=g.split("").sort(x).join("")===g,ce(),v.sortDetached=ne((function(e){return 1&e.compareDocumentPosition(c.createElement("fieldset"))})),P.find=Q,P.expr[":"]=P.expr.pseudos,P.unique=P.uniqueSort,Q.compile=ge,Q.select=me,Q.setDocument=ce,Q.tokenize=le,Q.escape=P.escapeSelector,Q.getText=P.text,Q.isXML=P.isXMLDoc,Q.selectors=P.expr,Q.support=P.support,Q.uniqueSort=P.uniqueSort}();var O=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&P(e).is(n))break;i.push(e)}return i},j=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},B=P.expr.match.needsContext,V=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function U(e,t,n){return g(t)?P.grep(e,(function(e,i){return!!t.call(e,i,e)!==n})):t.nodeType?P.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?P.grep(e,(function(e){return l.call(t,e)>-1!==n})):P.filter(t,e,n)}P.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?P.find.matchesSelector(i,e)?[i]:[]:P.find.matches(e,P.grep(t,(function(e){return 1===e.nodeType})))},P.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(P(e).filter((function(){for(t=0;t<i;t++)if(P.contains(r[t],this))return!0})));for(n=this.pushStack([]),t=0;t<i;t++)P.find(e,r[t],n);return i>1?P.uniqueSort(n):n},filter:function(e){return this.pushStack(U(this,e||[],!1))},not:function(e){return this.pushStack(U(this,e||[],!0))},is:function(e){return!!U(this,"string"==typeof e&&B.test(e)?P(e):e||[],!1).length}});var H,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(P.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||H,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:z.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof P?t[0]:t,P.merge(this,P.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:y,!0)),V.test(i[1])&&P.isPlainObject(t))for(i in t)g(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=y.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==n.ready?n.ready(e):e(P):P.makeArray(e,this)}).prototype=P.fn,H=P(y);var W=/^(?:parents|prev(?:Until|All))/,G={children:!0,contents:!0,next:!0,prev:!0};function Y(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}P.fn.extend({has:function(e){var t=P(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(P.contains(this,t[e]))return!0}))},closest:function(e,t){var n,i=0,r=this.length,o=[],a="string"!=typeof e&&P(e);if(!B.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&P.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?P.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?l.call(P(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(P.uniqueSort(P.merge(this.get(),P(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),P.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return O(e,"parentNode")},parentsUntil:function(e,t,n){return O(e,"parentNode",n)},next:function(e){return Y(e,"nextSibling")},prev:function(e){return Y(e,"previousSibling")},nextAll:function(e){return O(e,"nextSibling")},prevAll:function(e){return O(e,"previousSibling")},nextUntil:function(e,t,n){return O(e,"nextSibling",n)},prevUntil:function(e,t,n){return O(e,"previousSibling",n)},siblings:function(e){return j((e.parentNode||{}).firstChild,e)},children:function(e){return j(e.firstChild)},contents:function(e){return null!=e.contentDocument&&a(e.contentDocument)?e.contentDocument:(D(e,"template")&&(e=e.content||e),P.merge([],e.childNodes))}},(function(e,t){P.fn[e]=function(n,i){var r=P.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=P.filter(i,r)),this.length>1&&(G[e]||P.uniqueSort(r),W.test(e)&&r.reverse()),this.pushStack(r)}}));var $=/[^\x20\t\r\n\f]+/g;function J(e){return e}function q(e){throw e}function K(e,t,n,i){var r;try{e&&g(r=e.promise)?r.call(e).done(t).fail(n):e&&g(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}P.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return P.each(e.match($)||[],(function(e,n){t[n]=!0})),t}(e):P.extend({},e);var t,n,i,r,o=[],a=[],s=-1,c=function(){for(r=r||e.once,i=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:"")},u={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){P.each(n,(function(n,i){g(i)?e.unique&&u.has(i)||o.push(i):i&&i.length&&"string"!==w(i)&&t(i)}))}(arguments),n&&!t&&c()),this},remove:function(){return P.each(arguments,(function(e,t){for(var n;(n=P.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--})),this},has:function(e){return e?P.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||t||(o=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},P.extend({Deferred:function(e){var t=[["notify","progress",P.Callbacks("memory"),P.Callbacks("memory"),2],["resolve","done",P.Callbacks("once memory"),P.Callbacks("once memory"),0,"resolved"],["reject","fail",P.Callbacks("once memory"),P.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return P.Deferred((function(n){P.each(t,(function(t,i){var r=g(e[i[4]])&&e[i[4]];o[i[1]]((function(){var e=r&&r.apply(this,arguments);e&&g(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,r){var o=0;function a(e,t,n,r){return function(){var s=this,c=arguments,u=function(){var i,u;if(!(e<o)){if((i=n.apply(s,c))===t.promise())throw new TypeError("Thenable self-resolution");u=i&&("object"==typeof i||"function"==typeof i)&&i.then,g(u)?r?u.call(i,a(o,t,J,r),a(o,t,q,r)):(o++,u.call(i,a(o,t,J,r),a(o,t,q,r),a(o,t,J,t.notifyWith))):(n!==J&&(s=void 0,c=[i]),(r||t.resolveWith)(s,c))}},l=r?u:function(){try{u()}catch(i){P.Deferred.exceptionHook&&P.Deferred.exceptionHook(i,l.error),e+1>=o&&(n!==q&&(s=void 0,c=[i]),t.rejectWith(s,c))}};e?l():(P.Deferred.getErrorHook?l.error=P.Deferred.getErrorHook():P.Deferred.getStackHook&&(l.error=P.Deferred.getStackHook()),i.setTimeout(l))}}return P.Deferred((function(i){t[0][3].add(a(0,i,g(r)?r:J,i.notifyWith)),t[1][3].add(a(0,i,g(e)?e:J)),t[2][3].add(a(0,i,g(n)?n:q))})).promise()},promise:function(e){return null!=e?P.extend(e,r):r}},o={};return P.each(t,(function(e,i){var a=i[2],s=i[5];r[i[1]]=a.add,s&&a.add((function(){n=s}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(i[3].fire),o[i[0]]=function(){return o[i[0]+"With"](this===o?void 0:this,arguments),this},o[i[0]+"With"]=a.fireWith})),r.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),r=s.call(arguments),o=P.Deferred(),a=function(e){return function(n){i[e]=this,r[e]=arguments.length>1?s.call(arguments):n,--t||o.resolveWith(i,r)}};if(t<=1&&(K(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||g(r[n]&&r[n].then)))return o.then();for(;n--;)K(r[n],a(n),o.reject);return o.promise()}});var Z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;P.Deferred.exceptionHook=function(e,t){i.console&&i.console.warn&&e&&Z.test(e.name)&&i.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},P.readyException=function(e){i.setTimeout((function(){throw e}))};var X=P.Deferred();function Q(){y.removeEventListener("DOMContentLoaded",Q),i.removeEventListener("load",Q),P.ready()}P.fn.ready=function(e){return X.then(e).catch((function(e){P.readyException(e)})),this},P.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--P.readyWait:P.isReady)||(P.isReady=!0,!0!==e&&--P.readyWait>0||X.resolveWith(y,[P]))}}),P.ready.then=X.then,"complete"===y.readyState||"loading"!==y.readyState&&!y.documentElement.doScroll?i.setTimeout(P.ready):(y.addEventListener("DOMContentLoaded",Q),i.addEventListener("load",Q));var ee=function(e,t,n,i,r,o,a){var s=0,c=e.length,u=null==n;if("object"===w(n))for(s in r=!0,n)ee(e,t,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,g(i)||(a=!0),u&&(a?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(P(e),n)})),t))for(;s<c;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:u?t.call(e):c?t(e[0],n):o},te=/^-ms-/,ne=/-([a-z])/g;function ie(e,t){return t.toUpperCase()}function re(e){return e.replace(te,"ms-").replace(ne,ie)}var oe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function ae(){this.expando=P.expando+ae.uid++}ae.uid=1,ae.prototype={cache:function(e){var t=e[this.expando];return t||(t={},oe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[re(t)]=n;else for(i in t)r[re(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][re(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(re):(t=re(t))in i?[t]:t.match($)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||P.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!P.isEmptyObject(t)}};var se=new ae,ce=new ae,ue=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,le=/[A-Z]/g;function Ae(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(le,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ue.test(e)?JSON.parse(e):e)}(n)}catch(e){}ce.set(e,t,n)}else n=void 0;return n}P.extend({hasData:function(e){return ce.hasData(e)||se.hasData(e)},data:function(e,t,n){return ce.access(e,t,n)},removeData:function(e,t){ce.remove(e,t)},_data:function(e,t,n){return se.access(e,t,n)},_removeData:function(e,t){se.remove(e,t)}}),P.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=ce.get(o),1===o.nodeType&&!se.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=re(i.slice(5)),Ae(o,i,r[i]));se.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each((function(){ce.set(this,e)})):ee(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=ce.get(o,e))||void 0!==(n=Ae(o,e))?n:void 0;this.each((function(){ce.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){ce.remove(this,e)}))}}),P.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=se.get(e,t),n&&(!i||Array.isArray(n)?i=se.access(e,t,P.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=P.queue(e,t),i=n.length,r=n.shift(),o=P._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,(function(){P.dequeue(e,t)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return se.get(e,n)||se.access(e,n,{empty:P.Callbacks("once memory").add((function(){se.remove(e,[t+"queue",n])}))})}}),P.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?P.queue(this[0],e):void 0===t?this:this.each((function(){var n=P.queue(this,e,t);P._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&P.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){P.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=P.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=se.get(o[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var de=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,he=new RegExp("^(?:([+-])=|)("+de+")([a-z%]*)$","i"),fe=["Top","Right","Bottom","Left"],pe=y.documentElement,ve=function(e){return P.contains(e.ownerDocument,e)},ge={composed:!0};pe.getRootNode&&(ve=function(e){return P.contains(e.ownerDocument,e)||e.getRootNode(ge)===e.ownerDocument});var me=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ve(e)&&"none"===P.css(e,"display")};function ye(e,t,n,i){var r,o,a=20,s=i?function(){return i.cur()}:function(){return P.css(e,t,"")},c=s(),u=n&&n[3]||(P.cssNumber[t]?"":"px"),l=e.nodeType&&(P.cssNumber[t]||"px"!==u&&+c)&&he.exec(P.css(e,t));if(l&&l[3]!==u){for(c/=2,u=u||l[3],l=+c||1;a--;)P.style(e,t,l+u),(1-o)*(1-(o=s()/c||.5))<=0&&(a=0),l/=o;l*=2,P.style(e,t,l+u),n=n||[]}return n&&(l=+l||+c||0,r=n[1]?l+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=l,i.end=r)),r}var _e={};function be(e){var t,n=e.ownerDocument,i=e.nodeName,r=_e[i];return r||(t=n.body.appendChild(n.createElement(i)),r=P.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),_e[i]=r,r)}function we(e,t){for(var n,i,r=[],o=0,a=e.length;o<a;o++)(i=e[o]).style&&(n=i.style.display,t?("none"===n&&(r[o]=se.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&me(i)&&(r[o]=be(i))):"none"!==n&&(r[o]="none",se.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}P.fn.extend({show:function(){return we(this,!0)},hide:function(){return we(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){me(this)?P(this).show():P(this).hide()}))}});var ke,xe,Pe=/^(?:checkbox|radio)$/i,Ce=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,De=/^$|^module$|\/(?:java|ecma)script/i;ke=y.createDocumentFragment().appendChild(y.createElement("div")),(xe=y.createElement("input")).setAttribute("type","radio"),xe.setAttribute("checked","checked"),xe.setAttribute("name","t"),ke.appendChild(xe),v.checkClone=ke.cloneNode(!0).cloneNode(!0).lastChild.checked,ke.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!ke.cloneNode(!0).lastChild.defaultValue,ke.innerHTML="<option></option>",v.option=!!ke.lastChild;var Ee={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Se(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&D(e,t)?P.merge([e],n):n}function Ie(e,t){for(var n=0,i=e.length;n<i;n++)se.set(e[n],"globalEval",!t||se.get(t[n],"globalEval"))}Ee.tbody=Ee.tfoot=Ee.colgroup=Ee.caption=Ee.thead,Ee.th=Ee.td,v.option||(Ee.optgroup=Ee.option=[1,"<select multiple='multiple'>","</select>"]);var Te=/<|&#?\w+;/;function Re(e,t,n,i,r){for(var o,a,s,c,u,l,A=t.createDocumentFragment(),d=[],h=0,f=e.length;h<f;h++)if((o=e[h])||0===o)if("object"===w(o))P.merge(d,o.nodeType?[o]:o);else if(Te.test(o)){for(a=a||A.appendChild(t.createElement("div")),s=(Ce.exec(o)||["",""])[1].toLowerCase(),c=Ee[s]||Ee._default,a.innerHTML=c[1]+P.htmlPrefilter(o)+c[2],l=c[0];l--;)a=a.lastChild;P.merge(d,a.childNodes),(a=A.firstChild).textContent=""}else d.push(t.createTextNode(o));for(A.textContent="",h=0;o=d[h++];)if(i&&P.inArray(o,i)>-1)r&&r.push(o);else if(u=ve(o),a=Se(A.appendChild(o),"script"),u&&Ie(a),n)for(l=0;o=a[l++];)De.test(o.type||"")&&n.push(o);return A}var Me=/^([^.]*)(?:\.(.+)|)/;function Fe(){return!0}function Ne(){return!1}function Le(e,t,n,i,r,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)Le(e,s,n,i,t[s],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Ne;else if(!r)return e;return 1===o&&(a=r,r=function(e){return P().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=P.guid++)),e.each((function(){P.event.add(this,t,r,i,n)}))}function Oe(e,t,n){n?(se.set(e,t,!1),P.event.add(e,t,{namespace:!1,handler:function(e){var n,i=se.get(this,t);if(1&e.isTrigger&&this[t]){if(i)(P.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=s.call(arguments),se.set(this,t,i),this[t](),n=se.get(this,t),se.set(this,t,!1),i!==n)return e.stopImmediatePropagation(),e.preventDefault(),n}else i&&(se.set(this,t,P.event.trigger(i[0],i.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Fe)}})):void 0===se.get(e,t)&&P.event.add(e,t,Fe)}P.event={global:{},add:function(e,t,n,i,r){var o,a,s,c,u,l,A,d,h,f,p,v=se.get(e);if(oe(e))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&P.find.matchesSelector(pe,r),n.guid||(n.guid=P.guid++),(c=v.events)||(c=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(t){return void 0!==P&&P.event.triggered!==t.type?P.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match($)||[""]).length;u--;)h=p=(s=Me.exec(t[u])||[])[1],f=(s[2]||"").split(".").sort(),h&&(A=P.event.special[h]||{},h=(r?A.delegateType:A.bindType)||h,A=P.event.special[h]||{},l=P.extend({type:h,origType:p,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&P.expr.match.needsContext.test(r),namespace:f.join(".")},o),(d=c[h])||((d=c[h]=[]).delegateCount=0,A.setup&&!1!==A.setup.call(e,i,f,a)||e.addEventListener&&e.addEventListener(h,a)),A.add&&(A.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,l):d.push(l),P.event.global[h]=!0)},remove:function(e,t,n,i,r){var o,a,s,c,u,l,A,d,h,f,p,v=se.hasData(e)&&se.get(e);if(v&&(c=v.events)){for(u=(t=(t||"").match($)||[""]).length;u--;)if(h=p=(s=Me.exec(t[u])||[])[1],f=(s[2]||"").split(".").sort(),h){for(A=P.event.special[h]||{},d=c[h=(i?A.delegateType:A.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)l=d[o],!r&&p!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||i&&i!==l.selector&&("**"!==i||!l.selector)||(d.splice(o,1),l.selector&&d.delegateCount--,A.remove&&A.remove.call(e,l));a&&!d.length&&(A.teardown&&!1!==A.teardown.call(e,f,v.handle)||P.removeEvent(e,h,v.handle),delete c[h])}else for(h in c)P.event.remove(e,h+t[u],n,i,!0);P.isEmptyObject(c)&&se.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,a,s=new Array(arguments.length),c=P.event.fix(e),u=(se.get(this,"events")||Object.create(null))[c.type]||[],l=P.event.special[c.type]||{};for(s[0]=c,t=1;t<arguments.length;t++)s[t]=arguments[t];if(c.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,c)){for(a=P.event.handlers.call(this,c,u),t=0;(r=a[t++])&&!c.isPropagationStopped();)for(c.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==o.namespace&&!c.rnamespace.test(o.namespace)||(c.handleObj=o,c.data=o.data,void 0!==(i=((P.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))&&!1===(c.result=i)&&(c.preventDefault(),c.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,c),c.result}},handlers:function(e,t){var n,i,r,o,a,s=[],c=t.delegateCount,u=e.target;if(c&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(o=[],a={},n=0;n<c;n++)void 0===a[r=(i=t[n]).selector+" "]&&(a[r]=i.needsContext?P(r,this).index(u)>-1:P.find(r,this,null,[u]).length),a[r]&&o.push(i);o.length&&s.push({elem:u,handlers:o})}return u=this,c<t.length&&s.push({elem:u,handlers:t.slice(c)}),s},addProp:function(e,t){Object.defineProperty(P.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[P.expando]?e:new P.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Pe.test(t.type)&&t.click&&D(t,"input")&&Oe(t,"click",!0),!1},trigger:function(e){var t=this||e;return Pe.test(t.type)&&t.click&&D(t,"input")&&Oe(t,"click"),!0},_default:function(e){var t=e.target;return Pe.test(t.type)&&t.click&&D(t,"input")&&se.get(t,"click")||D(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},P.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},P.Event=function(e,t){if(!(this instanceof P.Event))return new P.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Fe:Ne,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&P.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[P.expando]=!0},P.Event.prototype={constructor:P.Event,isDefaultPrevented:Ne,isPropagationStopped:Ne,isImmediatePropagationStopped:Ne,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Fe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Fe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Fe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},P.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},P.event.addProp),P.each({focus:"focusin",blur:"focusout"},(function(e,t){function n(e){if(y.documentMode){var n=se.get(this,"handle"),i=P.event.fix(e);i.type="focusin"===e.type?"focus":"blur",i.isSimulated=!0,n(e),i.target===i.currentTarget&&n(i)}else P.event.simulate(t,e.target,P.event.fix(e))}P.event.special[e]={setup:function(){var i;if(Oe(this,e,!0),!y.documentMode)return!1;(i=se.get(this,t))||this.addEventListener(t,n),se.set(this,t,(i||0)+1)},trigger:function(){return Oe(this,e),!0},teardown:function(){var e;if(!y.documentMode)return!1;(e=se.get(this,t)-1)?se.set(this,t,e):(this.removeEventListener(t,n),se.remove(this,t))},_default:function(t){return se.get(t.target,e)},delegateType:t},P.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,r=y.documentMode?this:i,o=se.get(r,t);o||(y.documentMode?this.addEventListener(t,n):i.addEventListener(e,n,!0)),se.set(r,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=y.documentMode?this:i,o=se.get(r,t)-1;o?se.set(r,t,o):(y.documentMode?this.removeEventListener(t,n):i.removeEventListener(e,n,!0),se.remove(r,t))}}})),P.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){P.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,r=e.handleObj;return i&&(i===this||P.contains(this,i))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}})),P.fn.extend({on:function(e,t,n,i){return Le(this,e,t,n,i)},one:function(e,t,n,i){return Le(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,P(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ne),this.each((function(){P.event.remove(this,e,n,t)}))}});var je=/<script|<style|<link/i,Be=/checked\s*(?:[^=]|=\s*.checked.)/i,Ve=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ue(e,t){return D(e,"table")&&D(11!==t.nodeType?t:t.firstChild,"tr")&&P(e).children("tbody")[0]||e}function He(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ze(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function We(e,t){var n,i,r,o,a,s;if(1===t.nodeType){if(se.hasData(e)&&(s=se.get(e).events))for(r in se.remove(t,"handle events"),s)for(n=0,i=s[r].length;n<i;n++)P.event.add(t,r,s[r][n]);ce.hasData(e)&&(o=ce.access(e),a=P.extend({},o),ce.set(t,a))}}function Ge(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Pe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Ye(e,t,n,i){t=c(t);var r,o,a,s,u,l,A=0,d=e.length,h=d-1,f=t[0],p=g(f);if(p||d>1&&"string"==typeof f&&!v.checkClone&&Be.test(f))return e.each((function(r){var o=e.eq(r);p&&(t[0]=f.call(this,r,o.html())),Ye(o,t,n,i)}));if(d&&(o=(r=Re(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(s=(a=P.map(Se(r,"script"),He)).length;A<d;A++)u=r,A!==h&&(u=P.clone(u,!0,!0),s&&P.merge(a,Se(u,"script"))),n.call(e[A],u,A);if(s)for(l=a[a.length-1].ownerDocument,P.map(a,ze),A=0;A<s;A++)u=a[A],De.test(u.type||"")&&!se.access(u,"globalEval")&&P.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?P._evalUrl&&!u.noModule&&P._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(Ve,""),u,l))}return e}function $e(e,t,n){for(var i,r=t?P.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||P.cleanData(Se(i)),i.parentNode&&(n&&ve(i)&&Ie(Se(i,"script")),i.parentNode.removeChild(i));return e}P.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,r,o,a,s=e.cloneNode(!0),c=ve(e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||P.isXMLDoc(e)))for(a=Se(s),i=0,r=(o=Se(e)).length;i<r;i++)Ge(o[i],a[i]);if(t)if(n)for(o=o||Se(e),a=a||Se(s),i=0,r=o.length;i<r;i++)We(o[i],a[i]);else We(e,s);return(a=Se(s,"script")).length>0&&Ie(a,!c&&Se(e,"script")),s},cleanData:function(e){for(var t,n,i,r=P.event.special,o=0;void 0!==(n=e[o]);o++)if(oe(n)){if(t=n[se.expando]){if(t.events)for(i in t.events)r[i]?P.event.remove(n,i):P.removeEvent(n,i,t.handle);n[se.expando]=void 0}n[ce.expando]&&(n[ce.expando]=void 0)}}}),P.fn.extend({detach:function(e){return $e(this,e,!0)},remove:function(e){return $e(this,e)},text:function(e){return ee(this,(function(e){return void 0===e?P.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Ye(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ue(this,e).appendChild(e)}))},prepend:function(){return Ye(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ue(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Ye(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Ye(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(P.cleanData(Se(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return P.clone(this,e,t)}))},html:function(e){return ee(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!je.test(e)&&!Ee[(Ce.exec(e)||["",""])[1].toLowerCase()]){e=P.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(P.cleanData(Se(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Ye(this,arguments,(function(t){var n=this.parentNode;P.inArray(this,e)<0&&(P.cleanData(Se(this)),n&&n.replaceChild(t,this))}),e)}}),P.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){P.fn[e]=function(e){for(var n,i=[],r=P(e),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),P(r[a])[t](n),u.apply(i,n.get());return this.pushStack(i)}}));var Je=new RegExp("^("+de+")(?!px)[a-z%]+$","i"),qe=/^--/,Ke=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=i),t.getComputedStyle(e)},Ze=function(e,t,n){var i,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];for(r in i=n.call(e),t)e.style[r]=o[r];return i},Xe=new RegExp(fe.join("|"),"i");function Qe(e,t,n){var i,r,o,a,s=qe.test(t),c=e.style;return(n=n||Ke(e))&&(a=n.getPropertyValue(t)||n[t],s&&a&&(a=a.replace(R,"$1")||void 0),""!==a||ve(e)||(a=P.style(e,t)),!v.pixelBoxStyles()&&Je.test(a)&&Xe.test(t)&&(i=c.width,r=c.minWidth,o=c.maxWidth,c.minWidth=c.maxWidth=c.width=a,a=n.width,c.width=i,c.minWidth=r,c.maxWidth=o)),void 0!==a?a+"":a}function et(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",pe.appendChild(u).appendChild(l);var e=i.getComputedStyle(l);n="1%"!==e.top,c=12===t(e.marginLeft),l.style.right="60%",a=36===t(e.right),r=36===t(e.width),l.style.position="absolute",o=12===t(l.offsetWidth/3),pe.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,o,a,s,c,u=y.createElement("div"),l=y.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===l.style.backgroundClip,P.extend(v,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),c},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,n,r;return null==s&&(e=y.createElement("table"),t=y.createElement("tr"),n=y.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",pe.appendChild(e).appendChild(t).appendChild(n),r=i.getComputedStyle(t),s=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,pe.removeChild(e)),s}}))}();var tt=["Webkit","Moz","ms"],nt=y.createElement("div").style,it={};function rt(e){var t=P.cssProps[e]||it[e];return t||(e in nt?e:it[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=tt.length;n--;)if((e=tt[n]+t)in nt)return e}(e)||e)}var ot=/^(none|table(?!-c[ea]).+)/,at={position:"absolute",visibility:"hidden",display:"block"},st={letterSpacing:"0",fontWeight:"400"};function ct(e,t,n){var i=he.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function ut(e,t,n,i,r,o){var a="width"===t?1:0,s=0,c=0,u=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=P.css(e,n+fe[a],!0,r)),i?("content"===n&&(c-=P.css(e,"padding"+fe[a],!0,r)),"margin"!==n&&(c-=P.css(e,"border"+fe[a]+"Width",!0,r))):(c+=P.css(e,"padding"+fe[a],!0,r),"padding"!==n?c+=P.css(e,"border"+fe[a]+"Width",!0,r):s+=P.css(e,"border"+fe[a]+"Width",!0,r));return!i&&o>=0&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-c-s-.5))||0),c+u}function lt(e,t,n){var i=Ke(e),r=(!v.boxSizingReliable()||n)&&"border-box"===P.css(e,"boxSizing",!1,i),o=r,a=Qe(e,t,i),s="offset"+t[0].toUpperCase()+t.slice(1);if(Je.test(a)){if(!n)return a;a="auto"}return(!v.boxSizingReliable()&&r||!v.reliableTrDimensions()&&D(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===P.css(e,"display",!1,i))&&e.getClientRects().length&&(r="border-box"===P.css(e,"boxSizing",!1,i),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+ut(e,t,n||(r?"border":"content"),o,i,a)+"px"}function At(e,t,n,i,r){return new At.prototype.init(e,t,n,i,r)}P.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Qe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=re(t),c=qe.test(t),u=e.style;if(c||(t=rt(s)),a=P.cssHooks[t]||P.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:u[t];"string"===(o=typeof n)&&(r=he.exec(n))&&r[1]&&(n=ye(e,t,r),o="number"),null!=n&&n==n&&("number"!==o||c||(n+=r&&r[3]||(P.cssNumber[s]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(c?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,i){var r,o,a,s=re(t);return qe.test(t)||(t=rt(s)),(a=P.cssHooks[t]||P.cssHooks[s])&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=Qe(e,t,i)),"normal"===r&&t in st&&(r=st[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),P.each(["height","width"],(function(e,t){P.cssHooks[t]={get:function(e,n,i){if(n)return!ot.test(P.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?lt(e,t,i):Ze(e,at,(function(){return lt(e,t,i)}))},set:function(e,n,i){var r,o=Ke(e),a=!v.scrollboxSize()&&"absolute"===o.position,s=(a||i)&&"border-box"===P.css(e,"boxSizing",!1,o),c=i?ut(e,t,i,s,o):0;return s&&a&&(c-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-ut(e,t,"border",!1,o)-.5)),c&&(r=he.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=P.css(e,t)),ct(0,n,c)}}})),P.cssHooks.marginLeft=et(v.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Qe(e,"marginLeft"))||e.getBoundingClientRect().left-Ze(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),P.each({margin:"",padding:"",border:"Width"},(function(e,t){P.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+fe[i]+t]=o[i]||o[i-2]||o[0];return r}},"margin"!==e&&(P.cssHooks[e+t].set=ct)})),P.fn.extend({css:function(e,t){return ee(this,(function(e,t,n){var i,r,o={},a=0;if(Array.isArray(t)){for(i=Ke(e),r=t.length;a<r;a++)o[t[a]]=P.css(e,t[a],!1,i);return o}return void 0!==n?P.style(e,t,n):P.css(e,t)}),e,t,arguments.length>1)}}),P.Tween=At,At.prototype={constructor:At,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||P.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(P.cssNumber[n]?"":"px")},cur:function(){var e=At.propHooks[this.prop];return e&&e.get?e.get(this):At.propHooks._default.get(this)},run:function(e){var t,n=At.propHooks[this.prop];return this.options.duration?this.pos=t=P.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):At.propHooks._default.set(this),this}},At.prototype.init.prototype=At.prototype,At.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=P.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){P.fx.step[e.prop]?P.fx.step[e.prop](e):1!==e.elem.nodeType||!P.cssHooks[e.prop]&&null==e.elem.style[rt(e.prop)]?e.elem[e.prop]=e.now:P.style(e.elem,e.prop,e.now+e.unit)}}},At.propHooks.scrollTop=At.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},P.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},P.fx=At.prototype.init,P.fx.step={};var dt,ht,ft=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;function vt(){ht&&(!1===y.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(vt):i.setTimeout(vt,P.fx.interval),P.fx.tick())}function gt(){return i.setTimeout((function(){dt=void 0})),dt=Date.now()}function mt(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=fe[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function yt(e,t,n){for(var i,r=(_t.tweeners[t]||[]).concat(_t.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function _t(e,t,n){var i,r,o=0,a=_t.prefilters.length,s=P.Deferred().always((function(){delete c.elem})),c=function(){if(r)return!1;for(var t=dt||gt(),n=Math.max(0,u.startTime+u.duration-t),i=1-(n/u.duration||0),o=0,a=u.tweens.length;o<a;o++)u.tweens[o].run(i);return s.notifyWith(e,[u,i,n]),i<1&&a?n:(a||s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:P.extend({},t),opts:P.extend(!0,{specialEasing:{},easing:P.easing._default},n),originalProperties:t,originalOptions:n,startTime:dt||gt(),duration:n.duration,tweens:[],createTween:function(t,n){var i=P.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),l=u.props;for(!function(e,t){var n,i,r,o,a;for(n in e)if(r=t[i=re(n)],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=P.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(l,u.opts.specialEasing);o<a;o++)if(i=_t.prefilters[o].call(u,e,l,u.opts))return g(i.stop)&&(P._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return P.map(l,yt,u),g(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),P.fx.timer(P.extend(c,{elem:e,anim:u,queue:u.opts.queue})),u}P.Animation=P.extend(_t,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ye(n.elem,e,he.exec(t),n),n}]},tweener:function(e,t){g(e)?(t=e,e=["*"]):e=e.match($);for(var n,i=0,r=e.length;i<r;i++)n=e[i],_t.tweeners[n]=_t.tweeners[n]||[],_t.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,o,a,s,c,u,l,A="width"in t||"height"in t,d=this,h={},f=e.style,p=e.nodeType&&me(e),v=se.get(e,"fxshow");for(i in n.queue||(null==(a=P._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always((function(){d.always((function(){a.unqueued--,P.queue(e,"fx").length||a.empty.fire()}))}))),t)if(r=t[i],ft.test(r)){if(delete t[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!v||void 0===v[i])continue;p=!0}h[i]=v&&v[i]||P.style(e,i)}if((c=!P.isEmptyObject(t))||!P.isEmptyObject(h))for(i in A&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(u=v&&v.display)&&(u=se.get(e,"display")),"none"===(l=P.css(e,"display"))&&(u?l=u:(we([e],!0),u=e.style.display||u,l=P.css(e,"display"),we([e]))),("inline"===l||"inline-block"===l&&null!=u)&&"none"===P.css(e,"float")&&(c||(d.done((function(){f.display=u})),null==u&&(l=f.display,u="none"===l?"":l)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),c=!1,h)c||(v?"hidden"in v&&(p=v.hidden):v=se.access(e,"fxshow",{display:u}),o&&(v.hidden=!p),p&&we([e],!0),d.done((function(){for(i in p||we([e]),se.remove(e,"fxshow"),h)P.style(e,i,h[i])}))),c=yt(p?v[i]:0,i,d),i in v||(v[i]=c.start,p&&(c.end=c.start,c.start=0))}],prefilter:function(e,t){t?_t.prefilters.unshift(e):_t.prefilters.push(e)}}),P.speed=function(e,t,n){var i=e&&"object"==typeof e?P.extend({},e):{complete:n||!n&&t||g(e)&&e,duration:e,easing:n&&t||t&&!g(t)&&t};return P.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in P.fx.speeds?i.duration=P.fx.speeds[i.duration]:i.duration=P.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){g(i.old)&&i.old.call(this),i.queue&&P.dequeue(this,i.queue)},i},P.fn.extend({fadeTo:function(e,t,n,i){return this.filter(me).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=P.isEmptyObject(e),o=P.speed(t,n,i),a=function(){var t=_t(this,P.extend({},e),o);(r||se.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,r=null!=e&&e+"queueHooks",o=P.timers,a=se.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&pt.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||P.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=se.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=P.timers,a=i?i.length:0;for(n.finish=!0,P.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish}))}}),P.each(["toggle","show","hide"],(function(e,t){var n=P.fn[t];P.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(mt(t,!0),e,i,r)}})),P.each({slideDown:mt("show"),slideUp:mt("hide"),slideToggle:mt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){P.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),P.timers=[],P.fx.tick=function(){var e,t=0,n=P.timers;for(dt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||P.fx.stop(),dt=void 0},P.fx.timer=function(e){P.timers.push(e),P.fx.start()},P.fx.interval=13,P.fx.start=function(){ht||(ht=!0,vt())},P.fx.stop=function(){ht=null},P.fx.speeds={slow:600,fast:200,_default:400},P.fn.delay=function(e,t){return e=P.fx&&P.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var r=i.setTimeout(t,e);n.stop=function(){i.clearTimeout(r)}}))},function(){var e=y.createElement("input"),t=y.createElement("select").appendChild(y.createElement("option"));e.type="checkbox",v.checkOn=""!==e.value,v.optSelected=t.selected,(e=y.createElement("input")).value="t",e.type="radio",v.radioValue="t"===e.value}();var bt,wt=P.expr.attrHandle;P.fn.extend({attr:function(e,t){return ee(this,P.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){P.removeAttr(this,e)}))}}),P.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?P.prop(e,t,n):(1===o&&P.isXMLDoc(e)||(r=P.attrHooks[t.toLowerCase()]||(P.expr.match.bool.test(t)?bt:void 0)),void 0!==n?null===n?void P.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=P.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&D(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match($);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),bt={set:function(e,t,n){return!1===t?P.removeAttr(e,n):e.setAttribute(n,n),n}},P.each(P.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=wt[t]||P.find.attr;wt[t]=function(e,t,i){var r,o,a=t.toLowerCase();return i||(o=wt[a],wt[a]=r,r=null!=n(e,t,i)?a:null,wt[a]=o),r}}));var kt=/^(?:input|select|textarea|button)$/i,xt=/^(?:a|area)$/i;function Pt(e){return(e.match($)||[]).join(" ")}function Ct(e){return e.getAttribute&&e.getAttribute("class")||""}function Dt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match($)||[]}P.fn.extend({prop:function(e,t){return ee(this,P.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[P.propFix[e]||e]}))}}),P.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&P.isXMLDoc(e)||(t=P.propFix[t]||t,r=P.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=P.find.attr(e,"tabindex");return t?parseInt(t,10):kt.test(e.nodeName)||xt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(P.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),P.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){P.propFix[this.toLowerCase()]=this})),P.fn.extend({addClass:function(e){var t,n,i,r,o,a;return g(e)?this.each((function(t){P(this).addClass(e.call(this,t,Ct(this)))})):(t=Dt(e)).length?this.each((function(){if(i=Ct(this),n=1===this.nodeType&&" "+Pt(i)+" "){for(o=0;o<t.length;o++)r=t[o],n.indexOf(" "+r+" ")<0&&(n+=r+" ");a=Pt(n),i!==a&&this.setAttribute("class",a)}})):this},removeClass:function(e){var t,n,i,r,o,a;return g(e)?this.each((function(t){P(this).removeClass(e.call(this,t,Ct(this)))})):arguments.length?(t=Dt(e)).length?this.each((function(){if(i=Ct(this),n=1===this.nodeType&&" "+Pt(i)+" "){for(o=0;o<t.length;o++)for(r=t[o];n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");a=Pt(n),i!==a&&this.setAttribute("class",a)}})):this:this.attr("class","")},toggleClass:function(e,t){var n,i,r,o,a=typeof e,s="string"===a||Array.isArray(e);return g(e)?this.each((function(n){P(this).toggleClass(e.call(this,n,Ct(this),t),t)})):"boolean"==typeof t&&s?t?this.addClass(e):this.removeClass(e):(n=Dt(e),this.each((function(){if(s)for(o=P(this),r=0;r<n.length;r++)i=n[r],o.hasClass(i)?o.removeClass(i):o.addClass(i);else void 0!==e&&"boolean"!==a||((i=Ct(this))&&se.set(this,"__className__",i),this.setAttribute&&this.setAttribute("class",i||!1===e?"":se.get(this,"__className__")||""))})))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+Pt(Ct(n))+" ").indexOf(t)>-1)return!0;return!1}});var Et=/\r/g;P.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=g(e),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,P(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=P.map(r,(function(e){return null==e?"":e+""}))),(t=P.valHooks[this.type]||P.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))}))):r?(t=P.valHooks[r.type]||P.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(Et,""):null==n?"":n:void 0}}),P.extend({valHooks:{option:{get:function(e){var t=P.find.attr(e,"value");return null!=t?t:Pt(P.text(e))}},select:{get:function(e){var t,n,i,r=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],c=a?o+1:r.length;for(i=o<0?c:a?o:0;i<c;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!D(n.parentNode,"optgroup"))){if(t=P(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=P.makeArray(t),a=r.length;a--;)((i=r[a]).selected=P.inArray(P.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),P.each(["radio","checkbox"],(function(){P.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=P.inArray(P(e).val(),t)>-1}},v.checkOn||(P.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var St=i.location,It={guid:Date.now()},Tt=/\?/;P.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new i.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||P.error("Invalid XML: "+(n?P.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var Rt=/^(?:focusinfocus|focusoutblur)$/,Mt=function(e){e.stopPropagation()};P.extend(P.event,{trigger:function(e,t,n,r){var o,a,s,c,u,l,A,d,f=[n||y],p=h.call(e,"type")?e.type:e,v=h.call(e,"namespace")?e.namespace.split("."):[];if(a=d=s=n=n||y,3!==n.nodeType&&8!==n.nodeType&&!Rt.test(p+P.event.triggered)&&(p.indexOf(".")>-1&&(v=p.split("."),p=v.shift(),v.sort()),u=p.indexOf(":")<0&&"on"+p,(e=e[P.expando]?e:new P.Event(p,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:P.makeArray(t,[e]),A=P.event.special[p]||{},r||!A.trigger||!1!==A.trigger.apply(n,t))){if(!r&&!A.noBubble&&!m(n)){for(c=A.delegateType||p,Rt.test(c+p)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(n.ownerDocument||y)&&f.push(s.defaultView||s.parentWindow||i)}for(o=0;(a=f[o++])&&!e.isPropagationStopped();)d=a,e.type=o>1?c:A.bindType||p,(l=(se.get(a,"events")||Object.create(null))[e.type]&&se.get(a,"handle"))&&l.apply(a,t),(l=u&&a[u])&&l.apply&&oe(a)&&(e.result=l.apply(a,t),!1===e.result&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||A._default&&!1!==A._default.apply(f.pop(),t)||!oe(n)||u&&g(n[p])&&!m(n)&&((s=n[u])&&(n[u]=null),P.event.triggered=p,e.isPropagationStopped()&&d.addEventListener(p,Mt),n[p](),e.isPropagationStopped()&&d.removeEventListener(p,Mt),P.event.triggered=void 0,s&&(n[u]=s)),e.result}},simulate:function(e,t,n){var i=P.extend(new P.Event,n,{type:e,isSimulated:!0});P.event.trigger(i,null,t)}}),P.fn.extend({trigger:function(e,t){return this.each((function(){P.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return P.event.trigger(e,t,n,!0)}});var Ft=/\[\]$/,Nt=/\r?\n/g,Lt=/^(?:submit|button|image|reset|file)$/i,Ot=/^(?:input|select|textarea|keygen)/i;function jt(e,t,n,i){var r;if(Array.isArray(t))P.each(t,(function(t,r){n||Ft.test(e)?i(e,r):jt(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)}));else if(n||"object"!==w(t))i(e,t);else for(r in t)jt(e+"["+r+"]",t[r],n,i)}P.param=function(e,t){var n,i=[],r=function(e,t){var n=g(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!P.isPlainObject(e))P.each(e,(function(){r(this.name,this.value)}));else for(n in e)jt(n,e[n],t,r);return i.join("&")},P.fn.extend({serialize:function(){return P.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=P.prop(this,"elements");return e?P.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!P(this).is(":disabled")&&Ot.test(this.nodeName)&&!Lt.test(e)&&(this.checked||!Pe.test(e))})).map((function(e,t){var n=P(this).val();return null==n?null:Array.isArray(n)?P.map(n,(function(e){return{name:t.name,value:e.replace(Nt,"\r\n")}})):{name:t.name,value:n.replace(Nt,"\r\n")}})).get()}});var Bt=/%20/g,Vt=/#.*$/,Ut=/([?&])_=[^&]*/,Ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,zt=/^(?:GET|HEAD)$/,Wt=/^\/\//,Gt={},Yt={},$t="*/".concat("*"),Jt=y.createElement("a");function qt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match($)||[];if(g(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Kt(e,t,n,i){var r={},o=e===Yt;function a(s){var c;return r[s]=!0,P.each(e[s]||[],(function(e,s){var u=s(t,n,i);return"string"!=typeof u||o||r[u]?o?!(c=u):void 0:(t.dataTypes.unshift(u),a(u),!1)})),c}return a(t.dataTypes[0])||!r["*"]&&a("*")}function Zt(e,t){var n,i,r=P.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&P.extend(!0,e,i),e}Jt.href=St.href,P.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:St.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(St.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":P.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Zt(Zt(e,P.ajaxSettings),t):Zt(P.ajaxSettings,e)},ajaxPrefilter:qt(Gt),ajaxTransport:qt(Yt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,o,a,s,c,u,l,A,d,h=P.ajaxSetup({},t),f=h.context||h,p=h.context&&(f.nodeType||f.jquery)?P(f):P.event,v=P.Deferred(),g=P.Callbacks("once memory"),m=h.statusCode||{},_={},b={},w="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(u){if(!a)for(a={};t=Ht.exec(o);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?o:null},setRequestHeader:function(e,t){return null==u&&(e=b[e.toLowerCase()]=b[e.toLowerCase()]||e,_[e]=t),this},overrideMimeType:function(e){return null==u&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)k.always(e[k.status]);else for(t in e)m[t]=[m[t],e[t]];return this},abort:function(e){var t=e||w;return n&&n.abort(t),x(0,t),this}};if(v.promise(k),h.url=((e||h.url||St.href)+"").replace(Wt,St.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match($)||[""],null==h.crossDomain){c=y.createElement("a");try{c.href=h.url,c.href=c.href,h.crossDomain=Jt.protocol+"//"+Jt.host!=c.protocol+"//"+c.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=P.param(h.data,h.traditional)),Kt(Gt,h,t,k),u)return k;for(A in(l=P.event&&h.global)&&0==P.active++&&P.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!zt.test(h.type),r=h.url.replace(Vt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Bt,"+")):(d=h.url.slice(r.length),h.data&&(h.processData||"string"==typeof h.data)&&(r+=(Tt.test(r)?"&":"?")+h.data,delete h.data),!1===h.cache&&(r=r.replace(Ut,"$1"),d=(Tt.test(r)?"&":"?")+"_="+It.guid+++d),h.url=r+d),h.ifModified&&(P.lastModified[r]&&k.setRequestHeader("If-Modified-Since",P.lastModified[r]),P.etag[r]&&k.setRequestHeader("If-None-Match",P.etag[r])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&k.setRequestHeader("Content-Type",h.contentType),k.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+$t+"; q=0.01":""):h.accepts["*"]),h.headers)k.setRequestHeader(A,h.headers[A]);if(h.beforeSend&&(!1===h.beforeSend.call(f,k,h)||u))return k.abort();if(w="abort",g.add(h.complete),k.done(h.success),k.fail(h.error),n=Kt(Yt,h,t,k)){if(k.readyState=1,l&&p.trigger("ajaxSend",[k,h]),u)return k;h.async&&h.timeout>0&&(s=i.setTimeout((function(){k.abort("timeout")}),h.timeout));try{u=!1,n.send(_,x)}catch(e){if(u)throw e;x(-1,e)}}else x(-1,"No Transport");function x(e,t,a,c){var A,d,y,_,b,w=t;u||(u=!0,s&&i.clearTimeout(s),n=void 0,o=c||"",k.readyState=e>0?4:0,A=e>=200&&e<300||304===e,a&&(_=function(e,t,n){for(var i,r,o,a,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){c.unshift(r);break}if(c[0]in n)o=c[0];else{for(r in n){if(!c[0]||e.converters[r+" "+c[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==c[0]&&c.unshift(o),n[o]}(h,k,a)),!A&&P.inArray("script",h.dataTypes)>-1&&P.inArray("json",h.dataTypes)<0&&(h.converters["text script"]=function(){}),_=function(e,t,n,i){var r,o,a,s,c,u={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!c&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=o,o=l.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(!(a=u[c+" "+o]||u["* "+o]))for(r in u)if((s=r.split(" "))[1]===o&&(a=u[c+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[r]:!0!==u[r]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+c+" to "+o}}}return{state:"success",data:t}}(h,_,k,A),A?(h.ifModified&&((b=k.getResponseHeader("Last-Modified"))&&(P.lastModified[r]=b),(b=k.getResponseHeader("etag"))&&(P.etag[r]=b)),204===e||"HEAD"===h.type?w="nocontent":304===e?w="notmodified":(w=_.state,d=_.data,A=!(y=_.error))):(y=w,!e&&w||(w="error",e<0&&(e=0))),k.status=e,k.statusText=(t||w)+"",A?v.resolveWith(f,[d,w,k]):v.rejectWith(f,[k,w,y]),k.statusCode(m),m=void 0,l&&p.trigger(A?"ajaxSuccess":"ajaxError",[k,h,A?d:y]),g.fireWith(f,[k,w]),l&&(p.trigger("ajaxComplete",[k,h]),--P.active||P.event.trigger("ajaxStop")))}return k},getJSON:function(e,t,n){return P.get(e,t,n,"json")},getScript:function(e,t){return P.get(e,void 0,t,"script")}}),P.each(["get","post"],(function(e,t){P[t]=function(e,n,i,r){return g(n)&&(r=r||i,i=n,n=void 0),P.ajax(P.extend({url:e,type:t,dataType:r,data:n,success:i},P.isPlainObject(e)&&e))}})),P.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),P._evalUrl=function(e,t,n){return P.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){P.globalEval(e,t,n)}})},P.fn.extend({wrapAll:function(e){var t;return this[0]&&(g(e)&&(e=e.call(this[0])),t=P(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return g(e)?this.each((function(t){P(this).wrapInner(e.call(this,t))})):this.each((function(){var t=P(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=g(e);return this.each((function(n){P(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){P(this).replaceWith(this.childNodes)})),this}}),P.expr.pseudos.hidden=function(e){return!P.expr.pseudos.visible(e)},P.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},P.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(e){}};var Xt={0:200,1223:204},Qt=P.ajaxSettings.xhr();v.cors=!!Qt&&"withCredentials"in Qt,v.ajax=Qt=!!Qt,P.ajaxTransport((function(e){var t,n;if(v.cors||Qt&&!e.crossDomain)return{send:function(r,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);t=function(e){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Xt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&i.setTimeout((function(){t&&n()}))},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),P.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),P.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return P.globalEval(e),e}}}),P.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),P.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,r){t=P("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),y.head.appendChild(t[0])},abort:function(){n&&n()}}}));var en,tn=[],nn=/(=)\?(?=&|$)|\?\?/;P.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tn.pop()||P.expando+"_"+It.guid++;return this[e]=!0,e}}),P.ajaxPrefilter("json jsonp",(function(e,t,n){var r,o,a,s=!1!==e.jsonp&&(nn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&nn.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=g(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(nn,"$1"+r):!1!==e.jsonp&&(e.url+=(Tt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||P.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=i[r],i[r]=function(){a=arguments},n.always((function(){void 0===o?P(i).removeProp(r):i[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,tn.push(r)),a&&g(o)&&o(a[0]),a=o=void 0})),"script"})),v.createHTMLDocument=((en=y.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===en.childNodes.length),P.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((i=(t=y.implementation.createHTMLDocument("")).createElement("base")).href=y.location.href,t.head.appendChild(i)):t=y),o=!n&&[],(r=V.exec(e))?[t.createElement(r[1])]:(r=Re([e],t,o),o&&o.length&&P(o).remove(),P.merge([],r.childNodes)));var i,r,o},P.fn.load=function(e,t,n){var i,r,o,a=this,s=e.indexOf(" ");return s>-1&&(i=Pt(e.slice(s)),e=e.slice(0,s)),g(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&P.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done((function(e){o=arguments,a.html(i?P("<div>").append(P.parseHTML(e)).find(i):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},P.expr.pseudos.animated=function(e){return P.grep(P.timers,(function(t){return e===t.elem})).length},P.offset={setOffset:function(e,t,n){var i,r,o,a,s,c,u=P.css(e,"position"),l=P(e),A={};"static"===u&&(e.style.position="relative"),s=l.offset(),o=P.css(e,"top"),c=P.css(e,"left"),("absolute"===u||"fixed"===u)&&(o+c).indexOf("auto")>-1?(a=(i=l.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(c)||0),g(t)&&(t=t.call(e,n,P.extend({},s))),null!=t.top&&(A.top=t.top-s.top+a),null!=t.left&&(A.left=t.left-s.left+r),"using"in t?t.using.call(e,A):l.css(A)}},P.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){P.offset.setOffset(this,e,t)}));var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===P.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===P.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=P(e).offset()).top+=P.css(e,"borderTopWidth",!0),r.left+=P.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-P.css(i,"marginTop",!0),left:t.left-r.left-P.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===P.css(e,"position");)e=e.offsetParent;return e||pe}))}}),P.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;P.fn[e]=function(i){return ee(this,(function(e,i,r){var o;if(m(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r}),e,i,arguments.length)}})),P.each(["top","left"],(function(e,t){P.cssHooks[t]=et(v.pixelPosition,(function(e,n){if(n)return n=Qe(e,t),Je.test(n)?P(e).position()[t]+"px":n}))})),P.each({Height:"height",Width:"width"},(function(e,t){P.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,i){P.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===o?"margin":"border");return ee(this,(function(t,n,r){var o;return m(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?P.css(t,n,s):P.style(t,n,r,s)}),t,a?r:void 0,a)}}))})),P.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){P.fn[t]=function(e){return this.on(t,e)}})),P.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),P.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){P.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var rn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;P.proxy=function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),g(e))return i=s.call(arguments,2),r=function(){return e.apply(t||this,i.concat(s.call(arguments)))},r.guid=e.guid=e.guid||P.guid++,r},P.holdReady=function(e){e?P.readyWait++:P.ready(!0)},P.isArray=Array.isArray,P.parseJSON=JSON.parse,P.nodeName=D,P.isFunction=g,P.isWindow=m,P.camelCase=re,P.type=w,P.now=Date.now,P.isNumeric=function(e){var t=P.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},P.trim=function(e){return null==e?"":(e+"").replace(rn,"$1")},void 0===(n=function(){return P}.apply(t,[]))||(e.exports=n);var on=i.jQuery,an=i.$;return P.noConflict=function(e){return i.$===P&&(i.$=an),e&&i.jQuery===P&&(i.jQuery=on),P},void 0===r&&(i.jQuery=i.$=P),P}))},7151:(e,t,n)=>{"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n.d(t,{_:()=>i})},7294:(e,t,n)=>{"use strict";function i(e){if(Array.isArray(e))return e}n.d(t,{_:()=>i})},1540:(e,t,n)=>{"use strict";function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{_:()=>i})},5578:(e,t,n)=>{"use strict";function i(e,t,n,i,r,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,c,"next",e)}function c(e){i(a,r,o,s,c,"throw",e)}s(void 0)}))}}n.d(t,{_:()=>r})},9227:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var i=n(5843);function r(e,t){if(!(0,i._)(e,t))throw new TypeError("Cannot call a class as a function")}},1550:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var i=n(4694),r=n(2251);function o(e,t,n){return o=(0,i._)()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&(0,r._)(o,n.prototype),o},o.apply(null,arguments)}},7424:(e,t,n)=>{"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,{_:()=>r})},5376:(e,t,n)=>{"use strict";n.d(t,{_:()=>a});var i=n(9418),r=n(4694),o=n(6073);function a(e){var t=(0,r._)();return function(){var n,r=(0,i._)(e);if(t){var a=(0,i._)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,o._)(this,n)}}},5991:(e,t,n)=>{"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{_:()=>i})},6905:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var i=n(9418);function r(e,t,n){return r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,i._)(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n||e):o.value}},r(e,t,n||e)}},9418:(e,t,n)=>{"use strict";function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}n.d(t,{_:()=>i})},5467:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var i=n(2251);function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,i._)(e,t)}},5843:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var i=n(5843);function r(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):(0,i._)(e,t)}},4694:(e,t,n)=>{"use strict";function i(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(i=function(){return!!e})()}n.d(t,{_:()=>i})},5077:(e,t,n)=>{"use strict";function i(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{_:()=>i})},4279:(e,t,n)=>{"use strict";function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{_:()=>i})},2956:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var i=n(5991);function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){(0,i._)(e,t,n[t])}))}return e}},9149:(e,t,n)=>{"use strict";function i(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}n.d(t,{_:()=>i})},6073:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var i=n(1540),r=n(9256);function o(e,t){return!t||"object"!==(0,r._)(t)&&"function"!=typeof t?(0,i._)(e):t}},2251:(e,t,n)=>{"use strict";function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}n.d(t,{_:()=>i})},449:(e,t,n)=>{"use strict";n.d(t,{_:()=>a});var i=n(7294);var r=n(4279),o=n(6223);function a(e,t){return(0,i._)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}(e,t)||(0,o._)(e,t)||(0,r._)()}},6663:(e,t,n)=>{"use strict";n.d(t,{_:()=>s});var i=n(7294),r=n(5077),o=n(4279),a=n(6223);function s(e){return(0,i._)(e)||(0,r._)(e)||(0,a._)(e)||(0,o._)()}},4919:(e,t,n)=>{"use strict";n.d(t,{_:()=>a});var i=n(7151);var r=n(5077);var o=n(6223);function a(e){return function(e){if(Array.isArray(e))return(0,i._)(e)}(e)||(0,r._)(e)||(0,o._)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9256:(e,t,n)=>{"use strict";function i(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}n.d(t,{_:()=>i})},6223:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var i=n(7151);function r(e,t){if(e){if("string"==typeof e)return(0,i._)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,i._)(e,t):void 0}}},7582:(e,t,n)=>{"use strict";n.d(t,{Jh:()=>i,XA:()=>r});function i(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}Object.create;function r(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.create;"function"==typeof SuppressedError&&SuppressedError}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.amdD=function(){throw new Error("define cannot be used indirect")},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n(4593),n(1940)})()));