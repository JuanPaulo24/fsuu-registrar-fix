!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],t):"object"==typeof exports?exports.RedactionAddon=t(require("UIExtension")):e.RedactionAddon=t(e.UIExtension)}(self,(e=>(()=>{var t={819:(e,t,n)=>{n(779);e.exports=function(e){"use strict";e=e||{};return'<layer name="redaction-page-popup" class="fv__redaction-page-popup center"  append-to="body" class="center" modal backdrop >\n<layer-header title="redaction:buttons.redact_page" @draggable="{type:\'parent\'}"></layer-header>\n<div class="fv__range-body">\n<div class="fv__range-title">redaction:dialog.pageRange</div>\n<div class="fv__range-types">\n<div class="fv__redaction-container">\n<label>\n<input name="redaction-page-type" class="redaction-page-radio" type="radio" checked value="1" />\n<span data-i18n="redaction:dialog.redaction_page.mark_current_page"></span>\n</label>\n</div>\n<div class="fv__redaction-container">\n<label>\n<input name="redaction-page-type" class="redaction-page-radio" type="radio" value="2" />\n<span data-i18n="redaction:dialog.redaction_page.mark_specific_page"></span>\n<div class="fv__redaction-range">\n<range:input\nname="redactPages"\nlayer-name="redaction-page-popup"\ntype="common"\nrange="1"\npage-count="1"></range:input>\n</div>\n</label>\n</div> \n</div> \n</div> \n<div class="fv__redaction-container footer" style="text-align:right">\n<button type="button" class="fv__redaction-btn fv__ui-dialog-ok-button" name="fv__ui-dialog-ok-button" data-i18n="redaction:buttons.ok"></button>\n<button type="button" class="fv__redaction-cancel fv__ui-dialog-cancel-button" name="fv__ui-dialog-cancel-button" data-i18n="redaction:buttons.cancel"></button>\n</div>\n</layer>','<layer name="redaction-page-popup" class="fv__redaction-page-popup center"  append-to="body" class="center" modal backdrop >\n<layer-header title="redaction:buttons.redact_page" @draggable="{type:\'parent\'}"></layer-header>\n<div class="fv__range-body">\n<div class="fv__range-title">redaction:dialog.pageRange</div>\n<div class="fv__range-types">\n<div class="fv__redaction-container">\n<label>\n<input name="redaction-page-type" class="redaction-page-radio" type="radio" checked value="1" />\n<span data-i18n="redaction:dialog.redaction_page.mark_current_page"></span>\n</label>\n</div>\n<div class="fv__redaction-container">\n<label>\n<input name="redaction-page-type" class="redaction-page-radio" type="radio" value="2" />\n<span data-i18n="redaction:dialog.redaction_page.mark_specific_page"></span>\n<div class="fv__redaction-range">\n<range:input\nname="redactPages"\nlayer-name="redaction-page-popup"\ntype="common"\nrange="1"\npage-count="1"></range:input>\n</div>\n</label>\n</div> \n</div> \n</div> \n<div class="fv__redaction-container footer" style="text-align:right">\n<button type="button" class="fv__redaction-btn fv__ui-dialog-ok-button" name="fv__ui-dialog-ok-button" data-i18n="redaction:buttons.ok"></button>\n<button type="button" class="fv__redaction-cancel fv__ui-dialog-cancel-button" name="fv__ui-dialog-cancel-button" data-i18n="redaction:buttons.cancel"></button>\n</div>\n</layer>'}},6:(e,t,n)=>{n(779);e.exports=function(e){"use strict";e=e||{};return'<dropdown @tooltip name="create-redaction-controllers" tooltip-title="redaction:tooltips.redaction" icon-class="fv__icon-toolbar-redaction" popup-class="fv__ui-redaction-redaction-list" class="fv__ui-redaction-dropdown" text="redaction:buttons.title" separate="false">\n<dropdown-button class="fv__ui-redaction-item" name="create-text-redaction" @controller="redaction:RedactionTextAndImageController" icon-class="fv__icon-toolbar-text-redaction" tabindex="0">\nredaction:buttons.redact_text\n</dropdown-button>\n<dropdown-button class="fv__ui-redaction-item" name="create-area-redaction" @controller="redaction:RedactionController" icon-class="fv__icon-toolbar-area-redaction" tabindex="0">\nredaction:buttons.redact_area\n</dropdown-button>\n<dropdown-button class="fv__ui-redaction-item" name="create-page-redaction" @controller="redaction:RedactionPageController" icon-class="fv__icon-toolbar-page-redaction" tabindex="0">\nredaction:buttons.redact_page\n</dropdown-button>\n</dropdown>','<dropdown @tooltip name="create-redaction-controllers" tooltip-title="redaction:tooltips.redaction" icon-class="fv__icon-toolbar-redaction" popup-class="fv__ui-redaction-redaction-list" class="fv__ui-redaction-dropdown" text="redaction:buttons.title" separate="false">\n<dropdown-button class="fv__ui-redaction-item" name="create-text-redaction" @controller="redaction:RedactionTextAndImageController" icon-class="fv__icon-toolbar-text-redaction" tabindex="0">\nredaction:buttons.redact_text\n</dropdown-button>\n<dropdown-button class="fv__ui-redaction-item" name="create-area-redaction" @controller="redaction:RedactionController" icon-class="fv__icon-toolbar-area-redaction" tabindex="0">\nredaction:buttons.redact_area\n</dropdown-button>\n<dropdown-button class="fv__ui-redaction-item" name="create-page-redaction" @controller="redaction:RedactionPageController" icon-class="fv__icon-toolbar-page-redaction" tabindex="0">\nredaction:buttons.redact_page\n</dropdown-button>\n</dropdown>'}},437:(e,t,n)=>{n(779);e.exports=function(e){"use strict";e=e||{};return'<ribbon-button icon-class="fv__icon-toolbar-redaction" @tooltip name="create-redaction-controllers" @var.self="$component"  tooltip-title="redaction:tooltips.redaction" text="redaction:buttons.title" not-immediately="true">\n<dropdown popup-class="fv__ui-redaction-redaction-list" class="fv__ui-redaction-dropdown" name="create-redactions-ribbon-inner-dropdown" separate="false">\n\x3c!-- <redaction:create-text-image-redaction-button></redaction:create-text-image-redaction-button> --\x3e\n\x3c!-- <redaction:create-area-redaction-button></redaction:create-area-redaction-button> --\x3e\n<redaction:create-text-images-redaction-button></redaction:create-text-images-redaction-button>\n<redaction:create-page-redaction-button @require-modules="range"></redaction:create-page-redaction-button>\n<redaction:redaction-search-button></redaction:redaction-search-button>\n<li class="fv__ui-dropdown-separator"></li>\n<redaction:apply-redactions-button></redaction:apply-redactions-button>\n</dropdown>\n</ribbon-button>','<ribbon-button icon-class="fv__icon-toolbar-redaction" @tooltip name="create-redaction-controllers" @var.self="$component"  tooltip-title="redaction:tooltips.redaction" text="redaction:buttons.title" not-immediately="true">\n<dropdown popup-class="fv__ui-redaction-redaction-list" class="fv__ui-redaction-dropdown" name="create-redactions-ribbon-inner-dropdown" separate="false">\n\x3c!-- <redaction:create-text-image-redaction-button></redaction:create-text-image-redaction-button> --\x3e\n\x3c!-- <redaction:create-area-redaction-button></redaction:create-area-redaction-button> --\x3e\n<redaction:create-text-images-redaction-button></redaction:create-text-images-redaction-button>\n<redaction:create-page-redaction-button @require-modules="range"></redaction:create-page-redaction-button>\n<redaction:redaction-search-button></redaction:redaction-search-button>\n<li class="fv__ui-dropdown-separator"></li>\n<redaction:apply-redactions-button></redaction:apply-redactions-button>\n</dropdown>\n</ribbon-button>'}},557:(e,t,n)=>{n(779);e.exports=function(e){"use strict";e=e||{};return'<xbutton class="fv__ui-redaction-item"\nname="create-page-redaction"\n@tooltip\ntooltip-title="redaction:buttons.redact_page"\n@controller="redaction:RedactionPageController"\nicon-class="fx-icon-sm fv__icon-toolbar-page-redaction">\nredaction:buttons.redact_page\n</xbutton>','<xbutton class="fv__ui-redaction-item"\nname="create-page-redaction"\n@tooltip\ntooltip-title="redaction:buttons.redact_page"\n@controller="redaction:RedactionPageController"\nicon-class="fx-icon-sm fv__icon-toolbar-page-redaction">\nredaction:buttons.redact_page\n</xbutton>'}},683:(e,t,n)=>{n(779);e.exports=function(e){"use strict";e=e||{};return'<xbutton class="fv__ui-redaction-item"\nname="create-text-image-redaction"\n@tooltip\ntooltip-title="redaction:buttons.redact_text_image"\n@controller="redaction:RedactionController"\nicon-class="fx-icon-sm fv__icon-toolbar-text-image-redaction">\nredaction:buttons.redact_text_image\n</xbutton>','<xbutton class="fv__ui-redaction-item"\nname="create-text-image-redaction"\n@tooltip\ntooltip-title="redaction:buttons.redact_text_image"\n@controller="redaction:RedactionController"\nicon-class="fx-icon-sm fv__icon-toolbar-text-image-redaction">\nredaction:buttons.redact_text_image\n</xbutton>'}},408:e=>{e.exports=null},585:(e,t,n)=>{"use strict";
/*! art-template@runtime | https://github.com/aui/art-template */var o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{},r=Object.create(o),a=/["&'<>]/;function i(e){return"string"!=typeof e&&(e=null==e?"":"function"==typeof e?i(e.call(e)):JSON.stringify(e)),e}r.$escape=function(e){return function(e){var t=""+e,n=a.exec(t);if(!n)return e;var o="",r=void 0,i=void 0,c=void 0;for(r=n.index,i=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:c="&#34;";break;case 38:c="&#38;";break;case 39:c="&#39;";break;case 60:c="&#60;";break;case 62:c="&#62;";break;default:continue}i!==r&&(o+=t.substring(i,r)),i=r+1,o+=c}return i!==r?o+t.substring(i,r):o}(i(e))},r.$each=function(e,t){if(Array.isArray(e))for(var n=0,o=e.length;n<o;n++)t(e[n],n);else for(var r in e)t(e[r],r)},e.exports=r},779:(e,t,n)=>{"use strict";e.exports=n(585)},616:t=>{"use strict";t.exports=e}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,o),a.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};return(()=>{"use strict";function e(t,n){return null!=n&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):e(t,n)}function t(t,n){if(!e(t,n))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(l=function(){return!!e})()}function d(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function u(e){var t=l();return function(){var n,o=s(e);if(t){var r=s(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return d(this,n)}}o.d(r,{default:()=>be});var p=o(616);function f(e,t,n){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n||e):r.value}},f(e,t,n||e)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const v="apply-redaction",m="apply-all-redaction",b="annotation-removed",y="add-redaction-area",P="flatten-annotation";function _(e,t,n,o,r,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(o,r)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function i(e){_(a,o,r,i,c,"next",e)}function c(e){_(a,o,r,i,c,"throw",e)}i(void 0)}))}}function k(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,o&&(r=2&c[0]?o.return:c[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,c[1])).done)return r;switch(o=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,o=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){i.label=c[1];break}if(6===c[0]&&i.label<r[1]){i.label=r[1],r=c;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(c);break}r[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],o=0}finally{n=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;var x=p.PDFViewCtrl,C=p.getDevicePagePoint,R=p.vendors.Hammer,D=x.shared.DebouncePromiseQueue,A=x.PDF.constant.Graphics_ObjectType,S=x.stateHandler.StateHandlerUtils,F=S.appendSelectMark,E=S.removeSelectMark,V=function(){function e(n){t(this,e),this.owner=n,this.cursorStyle="fv__cursor-text",this.destroyHooks=[],this.isTextSelect=!1,this.pdfViewer=n.pdfViewer}return a(e,[{key:"pageHandler",value:function(e){var t=this;this.pageRender=e;var n,o=e.$handler,r=o.get(0),a=function(e){t.owner.shapeControl||t.panStatus?n&&clearTimeout(n):(n&&clearTimeout(n),n=setTimeout((function(){var n=C(r,{srcEvent:e,deltaX:0,deltaY:0}),a=[n.x,n.y],i=[a[0]+10,a[1]+10];t.getTextRect(a,i,-1,-1).then((function(e){var n=t.isTextSelect=e&&e.length>0;o.removeClass(t.cursorStyle).removeClass(t.owner.cursorStyle).addClass(n?t.cursorStyle:t.owner.cursorStyle)}))}),50))},i=this.pdfViewer.customs.OtelFnWrapper||function(e,t,n){return n};r.addEventListener("mousemove",a),this.destroyHooks.push((function(){r.removeEventListener("mousemove",a)}));var c=this.owner.hammer;c.add(new R.Tap({event:"doubletap",taps:2})),c.on("doubletap",i("doubletap",!0,(function(e){t.hideSelectMark(),t.doubleClickSelectHandle(e,r)})))}},{key:"panstart",value:function(e){this.panStatus="start";var t=this.pageRender.$handler.get(0);this.start=-1,this.end=-1;var n=C(t,e);this.startPoint=[n.x,n.y],this.hideSelectMark(),this.debouncePromiseQueue=new D}},{key:"panmove",value:function(e){var t=this;this.debouncePromiseQueue.push((function(){var n=t.pageRender,o=t.startPoint,r=[o[0]+e.deltaX,o[1]+e.deltaY];return t.getTextRect(o,r,t.start,t.end).then((function(e){var o;return(o=e[0])&&"string"==typeof o.text&&(t.start=o.start,t.end=o.end),Promise.all([n.getPDFPage(),e])})).then((function(e){var t=h(e,2),o=t[0],r=t[1];return n.transformRectArray(o,r)})).then((function(e){t.showSelectMark(e)}))}))}},{key:"panend",value:function(e){var t=this;this.debouncePromiseQueue.end(),this.debouncePromiseQueue=null,this.panStatus=void 0;var n=this.pageRender,o=this.startPoint,r=[o[0]+e.deltaX,o[1]+e.deltaY];return this.getTextRect(o,r,this.start,this.end).then((function(e){var o;return(o=e[0])&&"string"==typeof o.text&&(t.start=o.start,t.end=o.end),t.hideSelectMark(),Promise.all([n.getPDFPage(),e])})).then((function(e){var n=h(e,2),o=n[0],r=n[1];return r.length<1?Promise.resolve():t.addAnnot(o,r).then((function(e){var n=e[0],o=t.pageRender.annotsRender.getAnnotRender(n.getId()).component;return t.afterAddAnnot(o),t.pageRender.annotsRender.activeAnnot(n.getId()),e})).then((function(e){if(t.pdfViewer.config.showCommentList){var n=e[e.length-2];t.pageRender.annotsRender.getAnnotRender(n.getId()).component.showReplyDialog()}})).catch((function(e){}))}))}},{key:"getTextRect",value:function(e,t,n,o){return this.pageRender.getTextContinueRectAtDevicePoints(e,t,n,o)}},{key:"showSelectMark",value:function(e){F(this.pageRender.$handler,e)}},{key:"hideSelectMark",value:function(){E(this.pageRender.$handler)}},{key:"addAnnot",value:function(e,t){var n=this;return e.markRedactAnnot(t).then((function(e){var t=e[0];t.setViewRotate(n.pageRender.getRotation()),t.setSubject(n.pdfViewer.i18n.t("viewer_:annotSubjects.Redact"));var o=n.pdfViewer.getAnnotDefaultProperty("redact"),r=16711680;return o.defaultAppearance&&void 0!==o.defaultAppearance.textColor&&(r=o.defaultAppearance.textColor),t.setRedactAppearance(Object.assign({textColor:r},o)),e})).catch((function(e){if(-6===e.error)return n.pdfViewer.viewerUI.alert("dialog.error.noRedactionLicense"),Promise.reject(e)}))}},{key:"afterAddAnnot",value:function(e){this.pdfViewer.eventEmitter.emit("markRedactAnnotSuccess",e.annot)}},{key:"doubleClickSelectHandle",value:function(e,t){var n=this,o=C(t,e),r=[o.x,o.y],a=this.pageRender;a.getPDFPage().then((function(e){return[e,e.reverseDevicePoint(r,a.getScale(),a.getRotation())]})).then((function(e){var t=h(e,2),o=t[0],i=h(t[1],2),c=i[0],s=i[1];o.getGraphicsObjectAtPoint([c,s],0,A.All).then((function(e){if(e){var t=e.getType();if(t===A.Image||t===A.Text){var o=Promise.resolve([e.getRect()]);return t===A.Text&&(o=a.getDoubleClickTextRectAtPoint(r)),Promise.all([a.getPDFPage(),o]).then((function(e){var t=h(e,2),o=t[0],r=t[1];n.addAnnotWithRectArray(o,r)}))}}}))}))}},{key:"addAnnotWithRectArray",value:function(e,t){var n=this;return t.length<1?Promise.resolve():this.addAnnot(e,t).then((function(e){var t=e[0],o=n.pageRender.annotsRender.getAnnotRender(t.getId()).component;return n.afterAddAnnot(o),n.pageRender.annotsRender.activeAnnot(t.getId()),o})).then((function(e){n.pdfViewer.config.showCommentList&&e.showReplyDialog()})).catch((function(e){}))}},{key:"destroyPageHandler",value:function(){this.pageRender.$handler.removeClass(this.cursorStyle),this.destroyHooks.forEach((function(e){return e()}))}}]),e}(),I=function(e){c(o,e);var n=u(o);function o(e){var r;return t(this,o),(r=n.call(this,e,"square")).pdfViewer=e,r.cursorStyle="fv__cursor-cross",r.destroyHooks=[],r}return a(o,[{key:"correctPosition",value:function(e){var t=this.pageRender.getShowWidth(),n=this.pageRender.getShowHeight();return{x:Math.max(0,Math.min(t,e.x)),y:Math.max(0,Math.min(n,e.y))}}},{key:"start",value:function(e,t){var n=t.left,o=t.top;this.shapeControl||(this.shapeControl=new x.ShapeControl({resizable:!1,enableDiagonally:!0}),this.shapeControl.active(e.$handler,e.$handler,{left:n,top:o,width:0,height:0}))}},{key:"adjust",value:function(e,t,n){var o,r,a=t.x,i=t.y,c=n.x,s=n.y,l=Math.abs(a-c),d=Math.abs(i-s),u={left:o=Math.min(a,c),top:r=Math.min(i,s),width:l=Math.max(l,1),height:d=Math.max(d,1)},p={left:o,top:r,right:o+l,bottom:r+d};e._applyAnnotBoundary(u),e.shape.boundary=p,e.shape.shape=u,e._updatePreviewer()}},{key:"pageHandler",value:function(e){var t=this;return w((function(){var n,o,r,a,i;return k(this,(function(c){return n=t.constructor.getStateName(),t.pageRender=e,o=e.$handler.get(0),e.$handler.addClass(t.cursorStyle),r=t.hammer=new R.Manager(o),(a=t.createnTextAndImageHandler=new V(t)).pageHandler(e),t.addAnnot&&(a.addAnnot=t.addAnnot),r.add(new R.Pan({direction:R.DIRECTION_ALL})),i=t.pdfViewer.customs.OtelFnWrapper||function(e,t,n){return n},r.on("panstart",i(n+"_panStart",!1,(function(n){if(t.startPoint=C(o,n),a.isTextSelect)return a.panstart(n);e.getPDFPage().then((function(n){var o=h(n.reverseDevicePoint([t.startPoint.x,t.startPoint.y],t.pageRender.scale,t.pageRender.getRotation()),2),r=o[0],a=o[1];t.start(e,{left:r,top:a})}))}))),r.on("panmove",(function(e){if(a.isTextSelect)return a.panmove(e);var n=t.correctPosition({x:t.startPoint.x+e.deltaX,y:t.startPoint.y+e.deltaY});return t.currentPoint=n,t.adjust(t.shapeControl,t.startPoint,t.currentPoint)})),r.on("panend",i(n+"_panEnd",!1,(function(n){if(a.isTextSelect)return a.panend(n);var o=t.correctPosition({x:t.startPoint.x+n.deltaX,y:t.startPoint.y+n.deltaY});if(t.currentPoint=o,t.adjust(t.shapeControl,t.startPoint,t.currentPoint),t.addAnnot){var r=e.page,i=t.shapeControl.shape.boundary,c=r.reverseDeviceRect(i,e.scale,e.getRotation());t.addAnnot(r,[c])}else t.pdfViewer.eventEmitter.emit(y,e,t.shapeControl.shape.boundary);t.shapeControl.destroy(),t.shapeControl=null}))),r.on("pancancel",(function(e){t.shapeControl.destroy(),t.shapeControl=null})),[2]}))}))()}},{key:"destroyPageHandler",value:function(){this.createnTextAndImageHandler&&(this.createnTextAndImageHandler.destroyPageHandler(),this.createnTextAndImageHandler=void 0),this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.destroyHooks.forEach((function(e){return e()}))}}],[{key:"getStateName",value:function(){return"create-redaction-state"}}]),o}(x.IStateHandler),T=p.PDFViewCtrl.ViewerEvents,O=p.PDFViewCtrl.Consts.PDFDocPermission;const j=function(e){c(o,e);var n=u(o);function o(e){return t(this,o),n.call(this,e,I)}return a(o,[{key:"changePermission",value:function(e){var t=this;this.getPDFUI().getPDFDocRender().then((function(t){return Promise.all([t&&t.getUserPermission().getValue(),e.readonly()])})).then((function(e){var n=h(e,2),o=n[0],r=n[1];o&t.constructor.permission&&!r?t.component.unlock&&t.component.unlock():t.component.lock&&t.component.lock()}))}},{key:"mounted",value:function(){var e=this,t=this.getPDFUI();this.addDestroyHook(t.addViewerEventListener(y,(function(e,n){e.getPDFPage().then((function(o){var r=o.reverseDeviceRect(n,e.scale,e.getRotation());return o.markRedactAnnot([r]).then((function(t){t[0].setViewRotate(e.getRotation()),t[0].setSubject(e.pdfViewer.i18n.t("viewer_:annotSubjects.Redact"));var n=e.pdfViewer.getAnnotDefaultProperty("redact"),o=16711680;return n.defaultAppearance&&void 0!==n.defaultAppearance.textColor&&(o=n.defaultAppearance.textColor),t[0].setRedactAppearance(Object.assign({textColor:o},n)).then((function(e){return t}))})).catch((function(e){if(-6===e.error)return t.alert("dialog.error.noRedactionLicense"),Promise.reject(e);console.error(e)}))})).then((function(n){var o=n[0],r=e.annotsRender.getAnnotRender(o.getId()).component;return t.eventEmitter.emit("markRedactAnnotSuccess",r.annot),e.annotsRender.activeAnnot(o.getId()),r})).then((function(t){e.pdfViewer.config.showCommentList&&t.showReplyDialog()})).catch((function(){}))})),t.addViewerEventListener(T.openFileSuccess,(function(t){return e.changePermission(t)})),t.addViewerEventListener(T.permissionChanged,(function(t){return e.changePermission(t)}))),t.getCurrentPDFDoc().then((function(t){return t&&e.changePermission(t)}))}},{key:"stateOut",value:function(){f(s(o.prototype),"stateOut",this).call(this);var e=this.component.parent.element.classList;this.getPDFUI().getStateHandlerManager().then((function(t){"create-redaction-text-image-state"!==t.getCurrentStates().getStateName()&&e.remove("selected")}))}},{key:"handle",value:function(){f(s(o.prototype),"handle",this).call(this),this.component.parent.element.classList.add("selected"),this.getPDFUI().getStateHandlerManager().then((function(e){e.switchTo("create-redaction-state")}))}}],[{key:"getName",value:function(){return"RedactionController"}},{key:"permission",get:function(){return O.AnnotForm}}]),o}(p.StatefulController);var L=p.PDFViewCtrl.PDF.constant.Graphics_ObjectType,H=p.PDFViewCtrl.stateHandler.StateHandlerUtils.getDevicePagePoint,U=p.vendors.Hammer,M=function(e){c(o,e);var n=u(o);function o(e){var r;return t(this,o),(r=n.call(this,e)).cursorStyle="fv__cursor-highlight",r}return a(o,[{key:"pageHandler",value:function(e){var t=this;f(s(o.prototype),"pageHandler",this).call(this,e);var n=e.$handler[0],r=this.hammer;r.add(new U.Tap({event:"doubletap",taps:2})),r.add(new U.Tap({event:"singletap"})),r.get("doubletap").recognizeWith("singletap"),r.get("singletap").requireFailure("doubletap"),r.on("doubletap",(function(e){t.hideSelectMark(),t.doubleClickSelectHandle(e,n)}))}},{key:"doubleClickSelectHandle",value:function(e,t){var n=this,o=H(t,e),r=[o.x,o.y],a=this.pageRender;a.getPDFPage().then((function(e){return[e,e.reverseDevicePoint(r,a.getScale(),a.getRotation())]})).then((function(e){var t=h(e,2),o=t[0],i=h(t[1],2),c=i[0],s=i[1];o.getGraphicsObjectAtPoint([c,s],0,L.All).then((function(e){if(e){var t=e.getType();if(t===L.Image||t===L.Text){var o=Promise.resolve([e.getRect()]);return t===L.Text&&(o=a.getDoubleClickTextRectAtPoint(r)),Promise.all([a.getPDFPage(),o]).then((function(e){var t=h(e,2),o=t[0],r=t[1];n.addAnnotWithRectArray(o,r)}))}}}))}))}},{key:"addAnnotWithRectArray",value:function(e,t){var n=this;return t.length<1?Promise.resolve():this.addAnnot(e,t).then((function(e){var t=e[0],o=n.pageRender.annotsRender.getAnnotRender(t.getId()).component;return n.afterAddAnnot(o),n.pageRender.annotsRender.activeAnnot(t.getId()),o})).then((function(e){n.pdfViewer.config.showCommentList&&e.showReplyDialog()})).catch((function(e){}))}},{key:"addAnnot",value:function(e,t){var n=this;return e.markRedactAnnot(t).then((function(e){var t=e[0];t.setSubject(n.pdfViewer.i18n.t("viewer_:annotSubjects.Redact"));var o=n.pdfViewer.getAnnotDefaultProperty("redact"),r=16711680;return o.defaultAppearance&&void 0!==o.defaultAppearance.textColor&&(r=o.defaultAppearance.textColor),t.setRedactAppearance(Object.assign({textColor:r},o)),e})).catch((function(e){if(-6===e.error)return n.pdfViewer.viewerUI.alert("dialog.error.noRedactionLicense"),Promise.reject(e)}))}},{key:"afterAddAnnot",value:function(e){this.pdfViewer.eventEmitter.emit("markRedactAnnotSuccess",e.annot)}}],[{key:"getStateName",value:function(){return"create-redaction-text-image-state"}}]),o}(p.TextMarkupStateHandler);const N=function(e){c(o,e);var n=u(o);function o(e){return t(this,o),n.call(this,e,M)}return a(o,[{key:"stateOut",value:function(){f(s(o.prototype),"stateOut",this).call(this);var e=this.component.parent.element.classList;this.getPDFUI().getStateHandlerManager().then((function(t){"create-redaction-state"!==t.getCurrentStates().getStateName()&&e.remove("selected")}))}},{key:"handle",value:function(){f(s(o.prototype),"handle",this).call(this),this.component.parent.element.classList.add("selected"),this.getPDFUI().getStateHandlerManager().then((function(e){e.switchTo("create-redaction-text-image-state")}))}}],[{key:"getName",value:function(){return"RedactionTextAndImageController"}},{key:"permission",get:function(){return p.PDFViewCtrl.Consts.PDFDocPermission.AnnotForm}}]),o}(p.StatefulController);var B=p.vendors.jQuery,$="password-input-tip",q=function(){B("."+$).remove()},W=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(q(),e){var o=B('<span class="'.concat($,'"><span>')),r=B('<i class="password-input-tip-text" role="alert" aria-live="assertive" ><i>');if(r.text(e),o.empty().append(r),n)B(t).before(o),o.css({left:0,top:"calc(100% + 8px)"}).addClass("relative");else{var a=t.getBoundingClientRect();o.css({left:a.left-13+"px"}).appendTo("body"),o.css({top:a.top+35+"px"})}}},Q=p.PDFViewCtrl.Deps.jQuery,X=function(e){c(o,e);var n=u(o);function o(e){var r;return t(this,o),(r=n.call(this,e)).unBindEventHooks=[],r}return a(o,[{key:"getElement",value:function(){return this.component.element}},{key:"updateText",value:function(e,t){this.docPageCount=t,Q(this.getElement()).find("[name=pageCount]").text(t),this.getComponentByName("redactPages").updatePageCount(t)}},{key:"bindEvent",value:function(e,t,n){var o=this,r=this.getElement().querySelectorAll(e);0!=r.length&&r.forEach((function(e){e.addEventListener(t,n),o.unBindEventHooks.push((function(){e.removeEventListener(t,n)}))}))}},{key:"mounted",value:function(){var e=this;this.bindEvent(".redaction-page-radio","change",(function(t){if(t.target.checked){e.hideError();var n=e.getElement().querySelector(".range-input__input");if("1"==t.target.value)n.setAttribute("disabled","");else{n.removeAttribute("disabled");var o=e.pdfUI.pdfViewer.getPDFDocRender(),r=o.doc,a=o.getCurrentPageIndex()+1;e.getComponentByName("redactPages").reset({doc:r,pageCount:e.docPageCount,currentIndexOrPages:""+a})}}})),this.bindEvent(".fv__redaction-cancel","click",(function(t){e.hide()})),this.bindEvent(".fv__redaction-btn","click",(function(t){e.submit()})),this.bindEvent(".range-input__input","keydown",(function(t){e.hideError()}))}},{key:"setSubmitCallback",value:function(e){this.submitCallback=e}},{key:"submit",value:function(){this.docPageCount;var e=!1;this.getElement().querySelectorAll(".redaction-page-radio").forEach((function(t){t.checked&&"1"==t.value&&(e=!0)}));var t=[];if(e){var n=this.pdfUI.pdfViewer.getPDFDocRender();t.push(n.getCurrentPageIndex())}else t=this.computePages();this.submitCallback(t)}},{key:"reset",value:function(){this.hideError(),this.getElement().querySelector(".redaction-page-radio").click();var e=this.getElement().querySelector(".range-input__input");e.value="",e.disabled=1}},{key:"showError",value:function(e){var t=this.getElement().querySelector(".range-input__input");t.classList.add("fv__redaction-error"),W(t.getAttribute("placeholder"),t)}},{key:"hideError",value:function(){this.getElement().querySelector(".range-input__input").classList.remove("fv__redaction-error"),q()}},{key:"hide",value:function(){this.component.hide(),W()}},{key:"destroy",value:function(){this.unBindEventHooks.forEach((function(e){return e()})),f(s(o.prototype),"destroy",this).call(this)}},{key:"computePages",value:function(){for(var e=[],t=(this.getComponentByName("redactPages").getRange()+"").split(","),n=0;n<t.length;n++){var o=t[n];if(o)if(o.indexOf("-")<1){var r=parseInt(o);r>0&&e.push(r-1)}else{for(var a=o.split("-"),i=0,c=0,s=0;s<a.length;s++){var l=a[s];if(l){var d=parseInt(l);0===i?(i=d,c=d):d<i?i=d:d>c&&(c=d)}}if(i>0)for(var u=i;u<=c;u++)e.push(u-1)}}return e.length>0&&(e=e.sort()),e}}],[{key:"getName",value:function(){return"RedactionPagesController"}}]),o}(p.Controller),G=o(819),Y=o.n(G),z=(p.PDFViewCtrl._internal.shared.Lazy,p.PDFViewCtrl.Events);const J=function(e){c(o,e);var n=u(o);function o(e){return t(this,o),n.call(this,e)}return a(o,[{key:"changePermission",value:function(e){var t=this;this.getPDFUI().getPDFDocRender().then((function(t){return Promise.all([t&&t.getUserPermission().getValue(),e.readonly()])})).then((function(e){var n=h(e,2),o=n[0],r=n[1];o&t.constructor.permission&&!r?t.component.unlock&&t.component.unlock():t.component.lock&&t.component.lock()}))}},{key:"handle",value:function(){var e,t=this;this.uiInited?e=Promise.resolve(this.popop=this.getComponentByName("redaction-page-popup")).then((function(e){t.resetDialog()})):(e=this.getPDFUI().getComponentByName("template-container").then((function(e){e.append(Y()(),[{target:"redaction-page-popup",config:{callback:X}}]),t.popop=e.getComponentByName("redaction-page-popup"),t.resetDialog()})),this.uiInited=!0),e.then((function(e){t.popop.show(),t.popop.controller.reset()}))}},{key:"mounted",value:function(){var e=this,t=this.getPDFUI(),n=function(){e.popop&&t.getCurrentPDFDoc().then((function(n){var o=n.getPageCount(),r=t.i18n.t("redaction:dialog.readaction_page_max")+o;e.popop.controller.updateText(r,o)}))},o=function(t){e.pdfDoc=t,e.resetDialog(),e.changePermission(t)};this.addDestroyHook(t.addViewerEventListener("change-language-success",(function(n){if(e.popop){var o=e.pdfDoc?e.pdfDoc.getPageCount():0,r=t.i18n.t("redaction:dialog.readaction_page_max")+o;e.popop.controller.updateText(r,o)}})),t.addViewerEventListener(z.pageRemoved,n),t.addViewerEventListener(z.pagesRemoved,n),t.addViewerEventListener(z.pageAdded,n),t.addViewerEventListener(z.insertPages,n),t.addViewerEventListener(z.openFileSuccess,o),t.addViewerEventListener(z.willCloseDocument,(function(){e.pdfDoc=null})),t.addViewerEventListener(z.permissionChanged,(function(t){return e.changePermission(t)}))),t.getCurrentPDFDoc().then((function(e){return e&&o(e)}))}},{key:"resetDialog",value:function(){var e=this;if(this.popop){var t=this.pdfDoc,n=this.getPDFUI(),o=t.getPageCount();this.popop.controller.setSubmitCallback((function(t){n.activateElement(),0==t.length?n.getPDFViewer().then((function(o){t=[o.getPDFDocRender().getCurrentPageIndex()],e.pdfDoc.makeRedactByPages(t).then((function(t){a(t),e.popop.hide()})).catch((function(e){-6===e.error&&n.alert("dialog.error.noRedactionLicense")}))})):e.pdfDoc.makeRedactByPages(t).then((function(t){a(t),e.popop.hide()})).catch((function(e){-6===e.error&&n.alert("dialog.error.noRedactionLicense")}))}));var r=n.i18n.t("redaction:dialog.readaction_page_max")+o;this.popop.controller.updateText(r,o)}function a(e){n.getPDFViewer().then((function(t){var n=t.getAnnotDefaultProperty("redact"),o=[],r=16711680;n.defaultAppearance&&void 0!==n.defaultAppearance.textColor&&(r=n.defaultAppearance.textColor),e.map((function(e){var a=e[0];o.push(a);var i=a.getPage().getIndex(),c=t.getPDFDocRender().getPDFPageRender(i);c&&a.setViewRotate(c.getRotation()),a.setRedactAppearance(Object.assign({textColor:r},n))})),t.eventEmitter.emit("makeRedactByPagesSuccess",o)}))}}}],[{key:"getName",value:function(){return"RedactionPageController"}},{key:"permission",get:function(){return p.PDFViewCtrl.Consts.PDFDocPermission.AnnotForm}}]),o}(p.Controller);const K={print:4,modify:8,extract:16,annotForm:32,fillForm:256,extractAccess:512,assemble:1024,printHigh:2048};var Z=p.PDFViewCtrl.Events;const ee=function(e){c(o,e);var n=u(o);function o(e){return t(this,o),n.call(this,e)}return a(o,[{key:"handle",value:function(){var e=this;if(!this.component.disabled){var t=this.getPDFUI();return t.getPDFViewer().then((function(n){return e.checkApplicablePermission(n).then((function(e){e?t.confirm({message:"redaction:dialog.apply_alert",level:"warning",hideOnConfirm:!1}).then((function(e){e.hide();var o=n.getCurrentPDFDoc();o.applyRedaction().then((function(){t.eventEmitter.emit(p.UIEvents.undoRedoStoreChange,null,"clearAll")}),(function(e){if(-6!==e.error)throw e;t.alert({message:"dialog.error.noRedactionLicense",level:"warning"})})),o.redacted=!0})):t.alert({message:"dialog.error.noRedactionApplyPermission",level:"warning"})}))}))}}},{key:"mounted",value:function(){var e=this,t=this.getPDFUI();t.addDestroyHook(t.addViewerEventListener(m,(function(t,n){e.component.lock()})),t.addViewerEventListener(v,(function(t,n){e.isRedactExist()})),t.addViewerEventListener(Z.openFileSuccess,(function(t){e.component.lock()})),t.addViewerEventListener(Z.renderPageSuccess,(function(n){if(e.component.isLocked){var o,r=e;t.getPDFDocRender().then((o=w((function(e){var t;return k(this,(function(o){switch(o.label){case 0:return 8&e.getUserPermission().getValue()?!(t=e.getPDFDoc())||t.isDestroyed?[2]:[4,t.hasRedactAnnot(n.index)]:[3,2];case 1:o.sent()&&r.component.unlock(),o.label=2;case 2:return[2]}}))})),function(e){return o.apply(this,arguments)}))}})),t.addViewerEventListener(Z.annotationAdd,(function(n){e.component.isLocked&&t.getPDFDocRender().then((function(t){8&t.getUserPermission().getValue()&&(n.some((function(e){return function(e){return"redact"==e.info.type&&!1===e.info.isDeleted}(e)}))&&e.component.unlock())}))})),t.addViewerEventListener(b,(function(n){t.getCurrentPDFDoc().then((function(t){t&&t.checkPermission(K.modify)&&t.checkPermission(K.annotForm)&&e.isRedactExist()}))})),t.addViewerEventListener(P,(function(n,o){t.getCurrentPDFDoc().then((function(t){t&&t.checkPermission(K.modify)&&t.checkPermission(K.annotForm)&&e.isRedactExist()}))}))),t.getCurrentPDFDoc().then((function(t){t&&t.checkPermission(K.modify)&&t.checkPermission(K.annotForm)&&t.pageCache.some((function(e){return e.annots.some((function(e){return"redact"==e.getType()}))}))?e.component.unlock():e.component.lock()}))}},{key:"isRedactExist",value:function(){var e=this;this.getPDFUI().getPDFViewer().then((function(e){return e.currentPDFDoc.isRedactExist()})).then((function(t){t?e.component.unlock():e.component.lock()}))}},{key:"checkApplicablePermission",value:function(e){return Promise.resolve(!0)}}],[{key:"permission",get:function(){return p.PDFViewCtrl.Consts.PDFDocPermission.ModifyDocument}}]),o}(p.Controller);var te=p.UIEvents;const ne=function(e){c(o,e);var n=u(o);function o(e){return t(this,o),n.call(this,e)}return a(o,[{key:"changePermission",value:function(e){var t=this;(PDFViewCtrl.DeviceInfo.isMobile||PDFViewCtrl.DeviceInfo.isTablet)&&this.getPDFUI().getPDFDocRender().then((function(t){return Promise.all([t&&t.getUserPermission().getValue(),e.readonly()])})).then((function(e){var n=h(e,2),o=n[0],r=n[1];o&t.constructor.permission&&!r?t.component.unlock&&t.component.unlock():t.component.lock&&t.component.lock()}))}},{key:"handle",value:function(){PDFViewCtrl.DeviceInfo.isMobile||PDFViewCtrl.DeviceInfo.isTablet?(this.getComponentByName("sidebar").expand(),this.getComponentByName("sidebar-search").active(),this.getComponentByName("fv-search-sidebar-panel").activeRedactionMode(),this.getPDFUI().eventEmitter.emit(te.redeModeShowSidebar)):this.pdfUI.callAddonAPI("SearchAddon","openPanel",["redaction","exact"])}}]),o}(p.Controller);var oe=function(e){c(o,e);var n=u(o);function o(e){var r;return t(this,o),(r=n.call(this,e)).cursorStyle="fv__cursor-crosshair",r}return a(o,[{key:"addAnnot",value:function(e,t){var n=this;return e.markRedactAnnot(t).then((function(e){var t=e[0];return t.setBorderColor(8231855),t.setRedactAppearance({applyFillColor:16777215}),e})).then((function(e){n.pdfViewer.viewerUI.confirm({message:"redaction:dialog.apply_whiteout_alert",again:!0,id:"WhiteoutConfirm",level:"warning"}).then((function(){e[0].apply()}),(function(){e.forEach((function(e){e.getPDFPage().removeAnnot(e)}))}))}))}}],[{key:"getStateName",value:function(){return"create-whiteout-state"}}]),o}(I);const re=function(e){c(o,e);var n=u(o);function o(e){return t(this,o),n.call(this,e,oe)}return a(o,[{key:"stateOut",value:function(){f(s(o.prototype),"stateOut",this).call(this);var e=this.component.parent.element.classList;this.getPDFUI().getStateHandlerManager().then((function(t){"create-whiteout-state"!==t.getCurrentStates().getStateName()&&e.remove("selected")}))}},{key:"handle",value:function(){f(s(o.prototype),"handle",this).call(this),this.component.parent.element.classList.add("selected"),this.getPDFUI().getStateHandlerManager().then((function(e){e.switchTo("create-whiteout-state")}))}}],[{key:"getName",value:function(){return"WhiteoutController"}},{key:"permission",get:function(){return p.PDFViewCtrl.Consts.PDFDocPermission.ModifyDocument}}]),o}(p.StatefulController);var ae=o(6),ie=o.n(ae),ce=o(437),se=o.n(ce),le=o(557),de=o.n(le),ue=o(683),pe=o.n(ue),fe=o(408),ge=o.n(fe),he=p.shared.replaceRibbonButton2XButton,ve=ie()(),me=se()(),be=function(e){c(o,e);var n=u(o);function o(){return t(this,o),n.apply(this,arguments)}return a(o,[{key:"fragments",value:function(){return[]}}],[{key:"getName",value:function(){return"redaction"}},{key:"getLoader",value:function(){return ge()}},{key:"initOnLoad",value:function(){var e=p.modular.module("redaction",[]),n=e.getRegistry();this.module=e,n.registerController(j),n.registerController(N),n.registerController(J);var o={template:ve,config:[{target:"create-redaction-controllers",callback:function(e){c(o,e);var n=u(o);function o(){return t(this,o),n.apply(this,arguments)}return a(o,[{key:"changePermission",value:function(e){}}]),o}(p.Controller)}]};e.registerPreConfiguredComponent("create-redactions-dropdown",o),e.registerPreConfiguredComponent("create-redactions-ribbon-dropdown",Object.assign({},o,{template:me}));var r={template:'<ribbon-button text="redaction:buttons.apply" name="redaction-apply"  icon-class="fx-icon-sm fv__icon-toolbar-apply-redaction"  @tooltip>redaction:buttons.apply</ribbon-button>',config:[{target:"redaction-apply",tooltip:{title:"redaction:tooltips.apply"},callback:ee}]};e.registerPreConfiguredComponent("apply-redactions-button",Object.assign({},r,{template:he(r.template)}));var i={template:'<ribbon-button text="redaction:buttons.redact_search" name="redaction-search" icon-class="fx-icon-sm fv__icon-toolbar-search-redaction" @tooltip>redaction:buttons.redact_search</ribbon-button>',config:[{target:"redaction-search",tooltip:{title:"redaction:buttons.redact_search"},callback:ne}]};e.registerPreConfiguredComponent("redaction-search-button",Object.assign({},i,{template:he(i.template)})),e.registerPreConfiguredComponent("create-page-redaction-button",{template:de()()}),e.registerPreConfiguredComponent("create-text-images-redaction-button",{template:pe()()}),e.registerPreConfiguredComponent("create-whiteout-button",{template:'<ribbon-button text="redaction:buttons.whiteout" name="whiteout" icon-class="fv__icon-toolbar-whiteout" @tooltip>redaction:buttons.whiteout</ribbon-button>',config:[{target:"whiteout",tooltip:{title:"redaction:tooltips.whiteout"},callback:re}]})}}]),o}(p.UIXAddon)})(),r=r.default})()));