!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],e):"object"==typeof exports?exports.DigitalStampUIXAddon=e(require("UIExtension")):t.DigitalStampUIXAddon=e(t.UIExtension)}(self,(t=>(()=>{var e={9888:(t,e,n)=>{n(5779);t.exports=function(t){"use strict";t=t||{};return'<li name="fv__ui-digital-stamps" @var.self="$component" class="fv__ui-digital-stamps">\n<div class="fv__ui-digital-stamps-title">digital-stamp:Digital</div>\n<ul class="fv__ui-digital-stamps-ul">\n<li @foreach="item in self.stampsList" title=\'@{item.name}\' @on.native.click="self.selectHandler(item,$event)" class="fv__ui-digital-stamps-li">\n<img class="fv__ui-digital-stamps-icon"/>\n</li>\n</ul>\n</li>','<li name="fv__ui-digital-stamps" @var.self="$component" class="fv__ui-digital-stamps">\n<div class="fv__ui-digital-stamps-title">digital-stamp:Digital</div>\n<ul class="fv__ui-digital-stamps-ul">\n<li @foreach="item in self.stampsList" title=\'@{item.name}\' @on.native.click="self.selectHandler(item,$event)" class="fv__ui-digital-stamps-li">\n<img class="fv__ui-digital-stamps-icon"/>\n</li>\n</ul>\n</li>'}},9483:(t,e,n)=>{n(5779);t.exports=function(t){"use strict";t=t||{};return'<layer class="fv__ui-identity-info-dialog" append-to="body" backdrop @var.self="$component" style="width: 556px" @isolate>\n<layer-header @draggable="{type: \'parent\'}" title="digital-stamp:IdentityDialog.header"></layer-header>\n<layer-view class="fv__ui-identity-info-dialog-body">\n<div class="fv__ui-identity-info-dialog-title">digital-stamp:IdentityDialog.description</div>\n<fieldset class="fv__ui-identity-info-dialog-fieldset d_f fd_c jc_c ai_fs">\n<div class="fv__ui-identity-info-dialog-fieldset-field d_f ai_c">\n<label class="fv__ui-identity-info-name d_ib" data-i18n="digital-stamp:IdentityDialog.surname"></label>\n<input name="surname" class="f_1" type="text" @model="self.idInfo.surname"/>\n</div>\n<div class="fv__ui-identity-info-dialog-fieldset-field d_f ai_c">\n<label class="fv__ui-identity-info-name d_ib" data-i18n="digital-stamp:IdentityDialog.name"></label>\n<input name="name"  class="f_1" type="text" @model="self.idInfo.name"/>\n</div>\n<div class="fv__ui-identity-info-dialog-fieldset-field d_f ai_c">\n<label class="fv__ui-identity-info-name d_ib" data-i18n="digital-stamp:IdentityDialog.title"></label>\n<input name="title" class="f_1" type="text" @model="self.idInfo.title"/>\n</div>\n<div class="fv__ui-identity-info-dialog-fieldset-field d_f ai_c">\n<label class="fv__ui-identity-info-name d_ib" data-i18n="digital-stamp:IdentityDialog.associationName"></label>\n<input name="associationName" class="f_1" type="text" @model="self.idInfo.associationName"/>\n</div>\n<div class="fv__ui-identity-info-dialog-fieldset-field d_f ai_c">\n<label class="fv__ui-identity-info-name d_ib" data-i18n="digital-stamp:IdentityDialog.organizationName"></label>\n<input name="organizationName" class="f_1" type="text" @model="self.idInfo.organizationName"/>\n</div>\n</fieldset>\n</layer-view>\n<layer-toolbar class="fv__ui-identity-info-dialog-footer d_f ai_c jc_sb">\n<checkbox name="notAgain" @on.change="self.noAgain.apply(self,$args)" text="common-dialogs.notAgain"></checkbox>\n<div class="fv__ui-dialog-buttons">\n<xbutton class="fv__ui-dialog-ok-button" @on.native.click="self.ok($event)">common-dialogs.ok</xbutton>\n<xbutton class="fv__ui-dialog-cancel-button" @on.click="self.cancel()">common-dialogs.cancel</xbutton>\n</div>\n</layer-toolbar>\n</layer>','<layer class="fv__ui-identity-info-dialog" append-to="body" backdrop @var.self="$component" style="width: 556px" @isolate>\n<layer-header @draggable="{type: \'parent\'}" title="digital-stamp:IdentityDialog.header"></layer-header>\n<layer-view class="fv__ui-identity-info-dialog-body">\n<div class="fv__ui-identity-info-dialog-title">digital-stamp:IdentityDialog.description</div>\n<fieldset class="fv__ui-identity-info-dialog-fieldset d_f fd_c jc_c ai_fs">\n<div class="fv__ui-identity-info-dialog-fieldset-field d_f ai_c">\n<label class="fv__ui-identity-info-name d_ib" data-i18n="digital-stamp:IdentityDialog.surname"></label>\n<input name="surname" class="f_1" type="text" @model="self.idInfo.surname"/>\n</div>\n<div class="fv__ui-identity-info-dialog-fieldset-field d_f ai_c">\n<label class="fv__ui-identity-info-name d_ib" data-i18n="digital-stamp:IdentityDialog.name"></label>\n<input name="name"  class="f_1" type="text" @model="self.idInfo.name"/>\n</div>\n<div class="fv__ui-identity-info-dialog-fieldset-field d_f ai_c">\n<label class="fv__ui-identity-info-name d_ib" data-i18n="digital-stamp:IdentityDialog.title"></label>\n<input name="title" class="f_1" type="text" @model="self.idInfo.title"/>\n</div>\n<div class="fv__ui-identity-info-dialog-fieldset-field d_f ai_c">\n<label class="fv__ui-identity-info-name d_ib" data-i18n="digital-stamp:IdentityDialog.associationName"></label>\n<input name="associationName" class="f_1" type="text" @model="self.idInfo.associationName"/>\n</div>\n<div class="fv__ui-identity-info-dialog-fieldset-field d_f ai_c">\n<label class="fv__ui-identity-info-name d_ib" data-i18n="digital-stamp:IdentityDialog.organizationName"></label>\n<input name="organizationName" class="f_1" type="text" @model="self.idInfo.organizationName"/>\n</div>\n</fieldset>\n</layer-view>\n<layer-toolbar class="fv__ui-identity-info-dialog-footer d_f ai_c jc_sb">\n<checkbox name="notAgain" @on.change="self.noAgain.apply(self,$args)" text="common-dialogs.notAgain"></checkbox>\n<div class="fv__ui-dialog-buttons">\n<xbutton class="fv__ui-dialog-ok-button" @on.native.click="self.ok($event)">common-dialogs.ok</xbutton>\n<xbutton class="fv__ui-dialog-cancel-button" @on.click="self.cancel()">common-dialogs.cancel</xbutton>\n</div>\n</layer-toolbar>\n</layer>'}},88:t=>{t.exports=null},5585:(t,e,n)=>{"use strict";
/*! art-template@runtime | https://github.com/aui/art-template */var i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{},r=Object.create(i),a=/["&'<>]/;function o(t){return"string"!=typeof t&&(t=null==t?"":"function"==typeof t?o(t.call(t)):JSON.stringify(t)),t}r.$escape=function(t){return function(t){var e=""+t,n=a.exec(e);if(!n)return t;var i="",r=void 0,o=void 0,s=void 0;for(r=n.index,o=0;r<e.length;r++){switch(e.charCodeAt(r)){case 34:s="&#34;";break;case 38:s="&#38;";break;case 39:s="&#39;";break;case 60:s="&#60;";break;case 62:s="&#62;";break;default:continue}o!==r&&(i+=e.substring(o,r)),o=r+1,i+=s}return o!==r?i+e.substring(o,r):i}(o(t))},r.$each=function(t,e){if(Array.isArray(t))for(var n=0,i=t.length;n<i;n++)e(t[n],n);else for(var r in t)e(t[r],r)},t.exports=r},5779:(t,e,n)=>{"use strict";t.exports=n(5585)},8552:(t,e,n)=>{var i=n(852)(n(5639),"DataView");t.exports=i},1989:(t,e,n)=>{var i=n(1789),r=n(401),a=n(7667),o=n(1327),s=n(1866);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,t.exports=l},8407:(t,e,n)=>{var i=n(7040),r=n(4125),a=n(2117),o=n(7518),s=n(4705);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,t.exports=l},7071:(t,e,n)=>{var i=n(852)(n(5639),"Map");t.exports=i},3369:(t,e,n)=>{var i=n(4785),r=n(1285),a=n(6e3),o=n(9916),s=n(5265);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,t.exports=l},3818:(t,e,n)=>{var i=n(852)(n(5639),"Promise");t.exports=i},8525:(t,e,n)=>{var i=n(852)(n(5639),"Set");t.exports=i},8668:(t,e,n)=>{var i=n(3369),r=n(619),a=n(2385);function o(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new i;++e<n;)this.add(t[e])}o.prototype.add=o.prototype.push=r,o.prototype.has=a,t.exports=o},6384:(t,e,n)=>{var i=n(8407),r=n(7465),a=n(3779),o=n(7599),s=n(4758),l=n(4309);function u(t){var e=this.__data__=new i(t);this.size=e.size}u.prototype.clear=r,u.prototype.delete=a,u.prototype.get=o,u.prototype.has=s,u.prototype.set=l,t.exports=u},2705:(t,e,n)=>{var i=n(5639).Symbol;t.exports=i},1149:(t,e,n)=>{var i=n(5639).Uint8Array;t.exports=i},577:(t,e,n)=>{var i=n(852)(n(5639),"WeakMap");t.exports=i},4963:t=>{t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length,r=0,a=[];++n<i;){var o=t[n];e(o,n,t)&&(a[r++]=o)}return a}},4636:(t,e,n)=>{var i=n(2545),r=n(5694),a=n(1469),o=n(4144),s=n(5776),l=n(6719),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=a(t),c=!n&&r(t),f=!n&&!c&&o(t),d=!n&&!c&&!f&&l(t),p=n||c||f||d,v=p?i(t.length,String):[],h=v.length;for(var g in t)!e&&!u.call(t,g)||p&&("length"==g||f&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,h))||v.push(g);return v}},2488:t=>{t.exports=function(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}},2908:t=>{t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}},8470:(t,e,n)=>{var i=n(7813);t.exports=function(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1}},8866:(t,e,n)=>{var i=n(2488),r=n(1469);t.exports=function(t,e,n){var a=e(t);return r(t)?a:i(a,n(t))}},4239:(t,e,n)=>{var i=n(2705),r=n(9607),a=n(2333),o=i?i.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":o&&o in Object(t)?r(t):a(t)}},9454:(t,e,n)=>{var i=n(4239),r=n(7005);t.exports=function(t){return r(t)&&"[object Arguments]"==i(t)}},939:(t,e,n)=>{var i=n(2492),r=n(7005);t.exports=function t(e,n,a,o,s){return e===n||(null==e||null==n||!r(e)&&!r(n)?e!=e&&n!=n:i(e,n,a,o,t,s))}},2492:(t,e,n)=>{var i=n(6384),r=n(7114),a=n(8351),o=n(6096),s=n(4160),l=n(1469),u=n(4144),c=n(6719),f="[object Arguments]",d="[object Array]",p="[object Object]",v=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,h,g,m){var y=l(t),_=l(e),b=y?d:s(t),S=_?d:s(e),w=(b=b==f?p:b)==p,x=(S=S==f?p:S)==p,I=b==S;if(I&&u(t)){if(!u(e))return!1;y=!0,w=!1}if(I&&!w)return m||(m=new i),y||c(t)?r(t,e,n,h,g,m):a(t,e,b,n,h,g,m);if(!(1&n)){var j=w&&v.call(t,"__wrapped__"),k=x&&v.call(e,"__wrapped__");if(j||k){var D=j?t.value():t,O=k?e.value():e;return m||(m=new i),g(D,O,n,h,m)}}return!!I&&(m||(m=new i),o(t,e,n,h,g,m))}},8458:(t,e,n)=>{var i=n(3560),r=n(5346),a=n(3218),o=n(346),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,f=u.hasOwnProperty,d=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!a(t)||r(t))&&(i(t)?d:s).test(o(t))}},8749:(t,e,n)=>{var i=n(4239),r=n(1780),a=n(7005),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,t.exports=function(t){return a(t)&&r(t.length)&&!!o[i(t)]}},280:(t,e,n)=>{var i=n(5726),r=n(6916),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!i(t))return r(t);var e=[];for(var n in Object(t))a.call(t,n)&&"constructor"!=n&&e.push(n);return e}},2545:t=>{t.exports=function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}},1717:t=>{t.exports=function(t){return function(e){return t(e)}}},4757:t=>{t.exports=function(t,e){return t.has(e)}},4429:(t,e,n)=>{var i=n(5639)["__core-js_shared__"];t.exports=i},7114:(t,e,n)=>{var i=n(8668),r=n(2908),a=n(4757);t.exports=function(t,e,n,o,s,l){var u=1&n,c=t.length,f=e.length;if(c!=f&&!(u&&f>c))return!1;var d=l.get(t),p=l.get(e);if(d&&p)return d==e&&p==t;var v=-1,h=!0,g=2&n?new i:void 0;for(l.set(t,e),l.set(e,t);++v<c;){var m=t[v],y=e[v];if(o)var _=u?o(y,m,v,e,t,l):o(m,y,v,t,e,l);if(void 0!==_){if(_)continue;h=!1;break}if(g){if(!r(e,(function(t,e){if(!a(g,e)&&(m===t||s(m,t,n,o,l)))return g.push(e)}))){h=!1;break}}else if(m!==y&&!s(m,y,n,o,l)){h=!1;break}}return l.delete(t),l.delete(e),h}},8351:(t,e,n)=>{var i=n(2705),r=n(1149),a=n(7813),o=n(7114),s=n(8776),l=n(1814),u=i?i.prototype:void 0,c=u?u.valueOf:void 0;t.exports=function(t,e,n,i,u,f,d){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!f(new r(t),new r(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var p=s;case"[object Set]":var v=1&i;if(p||(p=l),t.size!=e.size&&!v)return!1;var h=d.get(t);if(h)return h==e;i|=2,d.set(t,e);var g=o(p(t),p(e),i,u,f,d);return d.delete(t),g;case"[object Symbol]":if(c)return c.call(t)==c.call(e)}return!1}},6096:(t,e,n)=>{var i=n(8234),r=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,a,o,s){var l=1&n,u=i(t),c=u.length;if(c!=i(e).length&&!l)return!1;for(var f=c;f--;){var d=u[f];if(!(l?d in e:r.call(e,d)))return!1}var p=s.get(t),v=s.get(e);if(p&&v)return p==e&&v==t;var h=!0;s.set(t,e),s.set(e,t);for(var g=l;++f<c;){var m=t[d=u[f]],y=e[d];if(a)var _=l?a(y,m,d,e,t,s):a(m,y,d,t,e,s);if(!(void 0===_?m===y||o(m,y,n,a,s):_)){h=!1;break}g||(g="constructor"==d)}if(h&&!g){var b=t.constructor,S=e.constructor;b==S||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof S&&S instanceof S||(h=!1)}return s.delete(t),s.delete(e),h}},1957:(t,e,n)=>{var i="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=i},8234:(t,e,n)=>{var i=n(8866),r=n(9551),a=n(3674);t.exports=function(t){return i(t,a,r)}},5050:(t,e,n)=>{var i=n(7019);t.exports=function(t,e){var n=t.__data__;return i(e)?n["string"==typeof e?"string":"hash"]:n.map}},852:(t,e,n)=>{var i=n(8458),r=n(7801);t.exports=function(t,e){var n=r(t,e);return i(n)?n:void 0}},9607:(t,e,n)=>{var i=n(2705),r=Object.prototype,a=r.hasOwnProperty,o=r.toString,s=i?i.toStringTag:void 0;t.exports=function(t){var e=a.call(t,s),n=t[s];try{t[s]=void 0;var i=!0}catch(t){}var r=o.call(t);return i&&(e?t[s]=n:delete t[s]),r}},9551:(t,e,n)=>{var i=n(4963),r=n(479),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(t){return null==t?[]:(t=Object(t),i(o(t),(function(e){return a.call(t,e)})))}:r;t.exports=s},4160:(t,e,n)=>{var i=n(8552),r=n(7071),a=n(3818),o=n(8525),s=n(577),l=n(4239),u=n(346),c="[object Map]",f="[object Promise]",d="[object Set]",p="[object WeakMap]",v="[object DataView]",h=u(i),g=u(r),m=u(a),y=u(o),_=u(s),b=l;(i&&b(new i(new ArrayBuffer(1)))!=v||r&&b(new r)!=c||a&&b(a.resolve())!=f||o&&b(new o)!=d||s&&b(new s)!=p)&&(b=function(t){var e=l(t),n="[object Object]"==e?t.constructor:void 0,i=n?u(n):"";if(i)switch(i){case h:return v;case g:return c;case m:return f;case y:return d;case _:return p}return e}),t.exports=b},7801:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},1789:(t,e,n)=>{var i=n(4536);t.exports=function(){this.__data__=i?i(null):{},this.size=0}},401:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},7667:(t,e,n)=>{var i=n(4536),r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(i){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(e,t)?e[t]:void 0}},1327:(t,e,n)=>{var i=n(4536),r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return i?void 0!==e[t]:r.call(e,t)}},1866:(t,e,n)=>{var i=n(4536);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=i&&void 0===e?"__lodash_hash_undefined__":e,this}},5776:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var i=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==i||"symbol"!=i&&e.test(t))&&t>-1&&t%1==0&&t<n}},7019:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},5346:(t,e,n)=>{var i,r=n(4429),a=(i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";t.exports=function(t){return!!a&&a in t}},5726:t=>{var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},7040:t=>{t.exports=function(){this.__data__=[],this.size=0}},4125:(t,e,n)=>{var i=n(8470),r=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=i(e,t);return!(n<0)&&(n==e.length-1?e.pop():r.call(e,n,1),--this.size,!0)}},2117:(t,e,n)=>{var i=n(8470);t.exports=function(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]}},7518:(t,e,n)=>{var i=n(8470);t.exports=function(t){return i(this.__data__,t)>-1}},4705:(t,e,n)=>{var i=n(8470);t.exports=function(t,e){var n=this.__data__,r=i(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}},4785:(t,e,n)=>{var i=n(1989),r=n(8407),a=n(7071);t.exports=function(){this.size=0,this.__data__={hash:new i,map:new(a||r),string:new i}}},1285:(t,e,n)=>{var i=n(5050);t.exports=function(t){var e=i(this,t).delete(t);return this.size-=e?1:0,e}},6e3:(t,e,n)=>{var i=n(5050);t.exports=function(t){return i(this,t).get(t)}},9916:(t,e,n)=>{var i=n(5050);t.exports=function(t){return i(this,t).has(t)}},5265:(t,e,n)=>{var i=n(5050);t.exports=function(t,e){var n=i(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}},8776:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}},4536:(t,e,n)=>{var i=n(852)(Object,"create");t.exports=i},6916:(t,e,n)=>{var i=n(5569)(Object.keys,Object);t.exports=i},1167:(t,e,n)=>{t=n.nmd(t);var i=n(1957),r=e&&!e.nodeType&&e,a=r&&t&&!t.nodeType&&t,o=a&&a.exports===r&&i.process,s=function(){try{var t=a&&a.require&&a.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=s},2333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},5569:t=>{t.exports=function(t,e){return function(n){return t(e(n))}}},5639:(t,e,n)=>{var i=n(1957),r="object"==typeof self&&self&&self.Object===Object&&self,a=i||r||Function("return this")();t.exports=a},619:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},2385:t=>{t.exports=function(t){return this.__data__.has(t)}},1814:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},7465:(t,e,n)=>{var i=n(8407);t.exports=function(){this.__data__=new i,this.size=0}},3779:t=>{t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},7599:t=>{t.exports=function(t){return this.__data__.get(t)}},4758:t=>{t.exports=function(t){return this.__data__.has(t)}},4309:(t,e,n)=>{var i=n(8407),r=n(7071),a=n(3369);t.exports=function(t,e){var n=this.__data__;if(n instanceof i){var o=n.__data__;if(!r||o.length<199)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(t,e),this.size=n.size,this}},346:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},7813:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},5694:(t,e,n)=>{var i=n(9454),r=n(7005),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(t){return r(t)&&o.call(t,"callee")&&!s.call(t,"callee")};t.exports=l},1469:t=>{var e=Array.isArray;t.exports=e},8612:(t,e,n)=>{var i=n(3560),r=n(1780);t.exports=function(t){return null!=t&&r(t.length)&&!i(t)}},4144:(t,e,n)=>{t=n.nmd(t);var i=n(5639),r=n(5062),a=e&&!e.nodeType&&e,o=a&&t&&!t.nodeType&&t,s=o&&o.exports===a?i.Buffer:void 0,l=(s?s.isBuffer:void 0)||r;t.exports=l},8446:(t,e,n)=>{var i=n(939);t.exports=function(t,e){return i(t,e)}},3560:(t,e,n)=>{var i=n(4239),r=n(3218);t.exports=function(t){if(!r(t))return!1;var e=i(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1780:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},3218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},7005:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},6719:(t,e,n)=>{var i=n(8749),r=n(1717),a=n(1167),o=a&&a.isTypedArray,s=o?r(o):i;t.exports=s},3674:(t,e,n)=>{var i=n(4636),r=n(280),a=n(8612);t.exports=function(t){return a(t)?i(t):r(t)}},479:t=>{t.exports=function(){return[]}},5062:t=>{t.exports=function(){return!1}},4616:e=>{"use strict";e.exports=t}},n={};function i(t){var r=n[t];if(void 0!==r)return r.exports;var a=n[t]={id:t,loaded:!1,exports:{}};return e[t](a,a.exports,i),a.loaded=!0,a.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var r={};return(()=>{"use strict";function t(e,n){return null!=n&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](e):t(e,n)}function e(e,n){if(!t(e,n))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(t,e){return o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},o(t,e)}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){return!e||"object"!=((n=e)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof e?c(t):e;var n}function d(t){var e=u();return function(){var n,i=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return f(this,n)}}i.d(r,{default:()=>pt});var p=i(4616),v=p.PDFViewCtrl,h=v.shared,g=v.DeviceInfo,m=p.vendors,y=(p.PDFUI,p.UIXAddon),_=v.PDFViewer,b=v.ViewerEvents,S=v.IStateHandler,w=h.extendOptions,x=h.ValueStore,I=h.getClientX,j=h.getClientY,k=(v.constants.STATE_HANDLER_NAMES,g.isTouchDevice),D=(g.isMac,g.isDesktop,p.modular),O=p.SeniorComponentFactory,A=(p.Controller,p.Directive,m.Hammer),C=(m.jQuery,p.UIConsts.COMPONENT_EVENTS,function(t){return t.replace(/(\w*?)-(\w*)/,(function(t,e,n){return e+"-"+n.toUpperCase()}))}),E="CreateDigitalStamp",P="Digital",T="NotAgainInfoDialog",z=["Name","OrganizationDateName","AssociationDateOrganization","StatusDateAssociation"],U="switchDigitalStampEvent",N="enableDigitalStampEvent",L=i(88),R=i.n(L);function F(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var H={surname:"",name:"",title:"",associationName:"",organizationName:""};const V="digital-info-removed",$="digital-info-updated",B="custom-digital-templates-added",M="custom-digital-templates-updated",q="custom-digital-templates-removed",W="digital-stamps-updated";var J=i(8446),X=i.n(J),G=function(){function t(){e(this,t),F(this,"info",void 0),F(this,"allowShowDialog",!0),F(this,"viewer",void 0),this.info=H}return a(t,[{key:"resetIdentityInfo",value:function(){var t=this;return this.info===H?Promise.resolve():(this.info=H,this.viewer.getWebPDFJR().then((function(e){return e.setDigitalInfo(t.info)})).then((function(e){t.viewer.eventEmitter.emit(V)})))}},{key:"setIdentityInfo",value:function(t){var e=this;if(X()(this.info,t||{}))return Promise.resolve();var n=w({},this.info,t);return this.viewer.getWebPDFJR().then((function(t){return t.setDigitalInfo(n)})).then((function(t){e.info=n,e.viewer.eventEmitter.emit($)}))}},{key:"getIdentityInfo",value:function(){return this.info}},{key:"hasEmptyInfo",value:function(){return Object.values(this.info).some((function(t){return!Boolean(t)}))}},{key:"enableShowDialog",value:function(t){this.allowShowDialog=t}},{key:"getAllowShowDialog",value:function(){return this.allowShowDialog}}],[{key:"inject",value:function(){return{viewer:_}}}]),t}();function Y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Q(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(t);!(o=(i=n.next()).done)&&(a.push(i.value),!e||a.length!==e);o=!0);}catch(t){s=!0,r=t}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var K=function(){function t(){e(this,t),F(this,"currentStamp",void 0),F(this,"viewer",void 0),F(this,"currentPreviewerImg",void 0),F(this,"stamps",[]),F(this,"customTemplateArr",[]),F(this,"isUpdateStamps",!1),F(this,"digitalStampStore",void 0),F(this,"defaultStampSize",void 0),F(this,"enableDigitalStamp",!0);var n=document.createElement("img");n.draggable=!1,n.style.cssText="position: absolute;opacity:0.5",this.currentPreviewerImg=n,this.defaultStampSize={width:50,height:50}}return a(t,[{key:"allInjected",value:function(){var t=this,e=V,n=$,i=M,r=function(){t.updateStampsList(i)};this.viewer.eventEmitter.on(e,r),this.viewer.eventEmitter.on(n,r),this.digitalStampStore=new x}},{key:"getDigitalStampStore",value:function(){return this.digitalStampStore}},{key:"setCurrentStamp",value:function(t){var e=this.getStampByName(t);if(this.currentStamp=e,!e)throw new Error("Stamp not found: category: ".concat(P,", name: ").concat(t));this.currentPreviewerImg.src=e.showUrl||""}},{key:"getCurrentStampConfig",value:function(){return this.currentStamp}},{key:"getStampByName",value:function(t){return Object.assign({},this.stamps.find((function(e){return e.name===t})))}},{key:"getPreviewerImage",value:function(){return this.currentPreviewerImg}},{key:"getStampsList",value:function(){var t=this;return this.stamps.length>0&&!this.isUpdateStamps?Promise.resolve(this.stamps):this[this.customTemplateArr.length>0?"getCustomStampIcons":"getDefaultStampIcons"]().then((function(e){t.isUpdateStamps=!1,t.stamps=e,t.viewer.eventEmitter.emit(W);var n=t.currentStamp;if(n?(n=t.getStampByName(n.name))&&t.setCurrentStamp(n.name):t.clearCurrentStamp(),!t.currentStamp){var i=t.viewer.getStateHandlerManager();i.currentStateHandler.getStateName()===E&&i.switchTo()}return t.stamps}))}},{key:"getDefaultStampIcons",value:function(){var t=this,e=this.defaultStampSize,n=e.width,i=e.height;return Promise.all(z.map((function(e){var r="".concat(t.viewer.libPath,"stamps/").concat(t.viewer.getCurrentLanguage(),"/DigitalStamps/").concat(e,".pdf");return t.getStampIcons(r,e,n,i)}))).then((function(t){return t.filter(Boolean)}))}},{key:"setCustomDigitalStampTemplates",value:function(t){return this.customTemplateArr=t,this.updateStampsList(B)}},{key:"removeCustomDigitalStampTemplates",value:function(t){for(var e=this.customTemplateArr,n=0;n<t.length;n++)for(var i=0;i<e.length;i++)t[n]==e[i].name&&e.splice(i,1);return this.updateStampsList(q)}},{key:"getCustomDigitalStampTemplates",value:function(){return this.customTemplateArr}},{key:"getCustomStampIcons",value:function(){var t=this;return Promise.all(this.customTemplateArr.map((function(e){var n=e.pdfPath,i=e.name,r=e.width,a=e.height;return t.getStampIcons(n,i,r,a,!1)}))).then((function(t){return t.filter(Boolean)}))}},{key:"getStampIcons",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultStampSize.width,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.defaultStampSize.height,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a={annotType:"stamp",category:P,fileType:"pdf",url:t,name:e};return this.viewer.previewIconDoc(a).then((function(a){var o=URL.createObjectURL(a);return{url:t,showUrl:o,name:e,category:P,fileType:"pdf",width:n,height:i,isDefault:r}})).catch((function(t){}))}},{key:"setTimeFormatOfDigitalStamp",value:function(t){var e=this;return this.viewer.getWebPDFJR().then((function(e){return e.setDigitalTimeFormat(t)})).then((function(t){return e.updateStampsList(M)}))}},{key:"updateStampsList",value:function(t){var e=this;return this.isUpdateStamps=!0,this.getStampsList().then((function(n){e.viewer.eventEmitter.emit(t)}))}},{key:"clearCurrentStamp",value:function(){this.currentStamp=void 0,this.currentPreviewerImg.src=""}},{key:"setDefaultSize",value:function(t,e){var n=this;t&&(this.defaultStampSize.width=t),e&&(this.defaultStampSize.height=e),this.stamps.forEach((function(t){t.isDefault&&z.includes(t.name)&&(t.width=n.defaultStampSize.width,t.height=n.defaultStampSize.height)}))}},{key:"getDefaultDigitalStampSize",value:function(){return this.defaultStampSize}},{key:"setEnableDigitalStamp",value:function(t){this.enableDigitalStamp=t,this.viewer.eventEmitter.emit(N,t)}},{key:"isEnableDigitalStamp",value:function(){return this.enableDigitalStamp}}],[{key:"inject",value:function(){return{viewer:_}}}]),t}(),Z=function(t){s(i,t);var n=d(i);function i(t){var r;return e(this,i),F(c(r=n.call(this,t)),"pageRender",void 0),F(c(r),"hammer",void 0),F(c(r),"previewStampImg",void 0),F(c(r),"destroyList",void 0),r}return a(i,[{key:"pageHandler",value:function(t){this.pageRender=t;var e=t.$handler,n=t.pdfViewer;e.addClass("fv__create-stamp-state-handler");var i=!1,r=e[0],a=this.hammer=new A.Manager(r,{recognizers:[[A.Tap]]}),o=n.getIoC().getInstanceByClass(K),s=o.getPreviewerImage();function l(n){var i=o.getCurrentStampConfig(),a=r.getBoundingClientRect(),l=n.clientX-a.left,u=n.clientY-a.top;k||(s.style.cssText+="\n                    transform: scale(".concat(t.getScale(),");\n                    top: ").concat(u-2*i.height/3,"px;\n                    left: ").concat(l-2*i.width/3,"px;\n                "),s.style.display="",e.append(s))}this.previewStampImg=s,n.getStore().subscribe(U,(function(t){l(t)})),this.addEvent(e,"mousemove",(function(t){i||l(t)})),a.on("tap",(function(e){if(!i){var a=r.getBoundingClientRect(),l=e.srcEvent,u="",c=I(l),f=j(l),d=[c-a.left,f-a.top],p=d[0],v=d[1];i=!0;var h=o.getCurrentStampConfig(),g=h.width,m=h.height,y=h.category,_=h.name,S=h.fileType,w=h.url;return t.getPDFPage().then((function(e){var n=2*g/3*t.scale,i=2*m/3*t.scale,r={left:p-n,right:p+n,top:v-i,bottom:v+i};r=e.reverseDeviceRect(r,t.scale,t.getRotation());var a={rotation:(360-(90*e.getRotation()+t.getRotation()))%360,type:"stamp",flags:4,rect:r,subject:z.includes(_)?t.pdfViewer.i18n.t("digital-stamp:".concat(_)):_,iconInfo:{category:y,name:_,fileType:S,url:w}};return Object.assign(a,t.pdfViewer.getDefaultAnnotConfig()("stamp")||{}),e.addAnnot(a)})).then((function(e){var n=t.annotsRender.getAnnotRender(e[0].objectNumber).component;return u=n,t.pdfViewer.eventEmitter.emit(b.addAnnotSuccess,n.annot),n.getRenderPromise().finally((function(){setTimeout((function(){i=!1,s.style.cssText+="\n                                display: none;\n                                opacity: 0.5;\n                            "}),500)})),n})).then((function(t){n.getStateHandlerManager().switchTo(),s.style.opacity=1,n.activeElement(t),n.config.showCommentList&&u.showReplyDialog()})).catch((function(){i=!1,s.style.cssText+="\n                        display: none;\n                        opacity: 0.5;\n                    "}))}}))}},{key:"destroyPageHandler",value:function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass("fv__create-stamp-state-handler");var t=this.previewStampImg;t.parentElement&&t.parentElement.removeChild(t),this.destroyList.map((function(t){var e=Q(t,3),n=e[0],i=e[1],r=e[2];n.off(i,r)}))}},{key:"out",value:function(){this.destroyPageHandler()}},{key:"addEvent",value:function(t,e,n){this.destroyList=this.destroyList||[],t.on(e,n),this.destroyList.push([t,e,n])}}],[{key:"inject",value:function(){return{stampsService:K}}},{key:"getStateName",value:function(){return E}},{key:"setParams",value:function(t,e){var n=e.getIoC().getInstanceByClass(K);n.setCurrentStamp(t.name);var i=n.getPreviewerImage(),r=n.getCurrentStampConfig(),a=r.width,o=r.height,s=r.showUrl;k||(i.style.cssText+="\n                width: ".concat(4*a/3,"px;\n                height: ").concat(4*o/3,"px;\n                pointer-events:none;\n            "),i.src=s)}}]),i}(S);function tt(t,e,n){return tt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n||t):r.value}},tt(t,e,n||t)}var et=D.module("digital-stamp",[]),nt=i(9888),it=i.n(nt),rt=function(t){s(i,t);var n=d(i);function i(){var t;return e(this,i),F(c(t=n.apply(this,arguments)),"identityService",void 0),F(c(t),"stampsService",void 0),F(c(t),"disabled",void 0),t}return a(i,[{key:"mounted",value:function(){var t=this;tt(l(i.prototype),"mounted",this).call(this),this.stampsList=[];var e=this.getPDFUI(),n=function(){t.updateDom()},r=function(){if("zh-CN"===C(e.pdfViewer.getCurrentLanguage())&&t.stampsService.isEnableDigitalStamp())if(window.requestIdleCallback){var i=window.requestIdleCallback((function(){n()}));t.addDestroyHook((function(){window.cancelIdleCallback(i)}))}else n()};r();var a,o=B,s=M,u=q;e.addDestroyHook(e.addViewerEventListener((F(a={},b.permissionChanged,(function(){return e.getPDFDocRender().then((function(t){return t.getUserPermission().getValue()})).then((function(t){return Promise.all([32&t,e.getComponentByName("create-digital-stamp-dropdown")])})).then((function(e){var n=Q(e,2),i=n[0],r=n[1];return t.disabled=!i,i?r.unlock():r.lock()}))})),F(a,o,n),F(a,s,n),F(a,u,n),F(a,"change-language-success",r),F(a,N,r),a)))}},{key:"updateDom",value:function(){var t=this;this.stampsService.getStampsList().then((function(e){t.stampsList=e,t.controller.digest(!0)}))}},{key:"selectHandler",value:function(t,e){if(!this.disabled){var n=this.getPDFUI(),i=n.pdfViewer.getStore(),r=i.getCurrentValue(T);if(!this.identityService.getAllowShowDialog()||!this.identityService.hasEmptyInfo()||!0===r){var a=t.name,o=t.category;return n.getStateHandlerManager().then((function(t){t.switchTo(E,{name:a,e}),n.eventEmitter.emit("stampSelectedChange",[o,a]),i.dispatch(U,e)}))}this.stampsService.getDigitalStampStore().dispatch(t.name);var s=this.getRoot().querySelectorAll("@digital-stamp:identity-info-dialog");if(0===s.length)throw new Error("The `<digital-stamp:identity-info-dialog> ` should be added into your layout template");if(s.length>1)throw new Error("Found more than one of `<digital-stamp:identity-info-dialog>`. Please check if the component has been added repeatedly");s[0].show()}}}],[{key:"getName",value:function(){return"digital-stamps-list"}},{key:"inject",value:function(){return{stampsService:K,identityService:G}}}]),i}(O.createSuperClass({template:it()(),fragments:[{target:"@img",config:{attrs:{"@attr.src":"item.showUrl"}}}]}));et.registerComponent(rt);var at=i(9483),ot=i.n(at),st=function(){function t(){e(this,t),F(this,"viewer",void 0),F(this,"identityService",void 0)}return a(t,[{key:"getIdentityInfo",value:function(){return this.identityService.getIdentityInfo()}},{key:"updateInfo",value:function(t){return this.identityService.setIdentityInfo(t)}},{key:"noAgain",value:function(t){this.viewer.getStore().dispatch(T,t)}}],[{key:"inject",value:function(){return{viewer:_,identityService:G}}}]),t}(),lt=function(t){s(i,t);var n=d(i);function i(){var t;return e(this,i),F(c(t=n.apply(this,arguments)),"dialogService",void 0),F(c(t),"isNoAgain",void 0),F(c(t),"idInfo",H),t}return a(i,[{key:"ok",value:function(t){var e=this;Object.keys(this.idInfo).forEach((function(t){e.idInfo[t]=e.element.querySelector("[name=".concat(t,"]")).value})),this.isNoAgain&&this.dialogService.noAgain(!0),this.dialogService.updateInfo(this.idInfo).then((function(n){e.hide();var i=e.getPDFUI();i.eventEmitter.on(W,e.updateHandler=function(){var n=e.stampsService.getDigitalStampStore().getCurrentValue();i.getStateHandlerManager().then((function(e){e.switchTo(E,{name:n}),i.eventEmitter.emit("stampSelectedChange",[P,n]),i.pdfViewer.getStore().dispatch(U,t)})),i.eventEmitter.off(W,e.updateHandler)})}))}},{key:"noAgain",value:function(t){this.isNoAgain=t}},{key:"updateDom",value:function(){this.idInfo=JSON.parse(JSON.stringify(this.dialogService.getIdentityInfo())),this.controller.digest()}},{key:"doHidden",value:function(){tt(l(i.prototype),"doHidden",this).call(this),this.getComponentByName("notAgain").setValue(!1),this.getPDFUI().eventEmitter.off(W,this.updateHandler)}},{key:"doShown",value:function(){tt(l(i.prototype),"doShown",this).call(this),0!==this.element.offsetWidth&&(this.updateDom(),this.element.style.cssText+="\n            left: calc(50vw - ".concat(this.element.offsetWidth/2,"px);\n            top: calc(50vh - ").concat(this.element.offsetHeight/2,"px);\n        "))}}],[{key:"getName",value:function(){return"identity-info-dialog"}},{key:"inject",value:function(){return{stampsService:K,dialogService:st}}}]),i}(O.createSuperClass({template:ot()()}));function ut(t,e,n,i,r,a,o){try{var s=t[a](o),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(i,r)}et.registerComponent(lt);function ct(t,e){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;var ft=function(t){s(i,UIExtension.Directive);var n=d(i);function i(){return e(this,i),n.apply(this,arguments)}return a(i,[{key:"init",value:function(t){var e=this;tt(l(i.prototype),"init",this).call(this,t),this.verifyHandler();var n=this.component.getPDFUI();this.addDestroyHook(n.addUIEventListener("languageChangeFinished",(function(t){e.verifyHandler()})),n.addUIEventListener(N,(function(t){e.verifyHandler()})))}},{key:"verifyHandler",value:function(){var t,e=this;return(t=function(){var t,n,i,r;return ct(this,(function(a){return t=e.component,n=t.getPDFUI(),i=n.getServiceInstance(K),r="fv__ui-directive-hide-on-language",["zh-CN"].includes(C(n.pdfViewer.getCurrentLanguage()))&&i.isEnableDigitalStamp()?t.removeCSSClass(r):t.addCSSClass(r),[2]}))},function(){var e=this,n=arguments;return new Promise((function(i,r){var a=t.apply(e,n);function o(t){ut(a,i,r,o,s,"next",t)}function s(t){ut(a,i,r,o,s,"throw",t)}o(void 0)}))})()}}],[{key:"getName",value:function(){return"digital-proeprty"}}]),i}();et.getRegistry().registerDirective(ft);var dt=function(t){s(i,t);var n=d(i);function i(){return e(this,i),n.apply(this,arguments)}return a(i,[{key:"init",value:function(t,e){this.pdfUI=t,this.pdfViewer=e,this.pdfUI.getStateHandlerManager().then((function(t){return t.register(Z)})),this.enableDigitalStamp=!1}},{key:"resetIdentityInfo",value:function(){return this.pdfUI.getServiceInstance(G).resetIdentityInfo()}},{key:"setIdentityInfo",value:function(t){return this.pdfUI.getServiceInstance(G).setIdentityInfo(t)}},{key:"getIdentityInfo",value:function(){return this.pdfUI.getServiceInstance(G).getIdentityInfo()}},{key:"setDigitalStampTemplates",value:function(t){return this.pdfUI.getServiceInstance(K).setCustomDigitalStampTemplates(t)}},{key:"removeDigitalStampTemplates",value:function(t){return this.pdfUI.getServiceInstance(K).removeCustomDigitalStampTemplates(t)}},{key:"getDigitalStampTemplate",value:function(){return this.pdfUI.getServiceInstance(K).getCustomDigitalStampTemplates()}},{key:"setTimeFormatOfDigitalStamp",value:function(t){return this.pdfUI.getServiceInstance(K).setTimeFormatOfDigitalStamp(t)}},{key:"setDefaultSize",value:function(t){return this.pdfUI.getServiceInstance(K).setDefaultSize(t.width,t.height)}},{key:"enableShowIdentityInfoDialog",value:function(t){return this.pdfUI.getServiceInstance(G).enableShowDialog(t)}},{key:"setEnableDigitalStamp",value:function(t){return this.pdfUI.getServiceInstance(K).setEnableDigitalStamp(t)}}],[{key:"getName",value:function(){return"DigitalStamp"}},{key:"getLoader",value:function(){return R()}}]),i}(y);const pt=dt})(),r=r.default})()));