!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],n):"object"==typeof exports?exports.RecognitionFormUIXAddon=n(require("UIExtension")):e.RecognitionFormUIXAddon=n(e.UIExtension)}(self,(e=>(()=>{var n={876:e=>{e.exports=null},616:n=>{"use strict";n.exports=e}},o={};function t(e){var r=o[e];if(void 0!==r)return r.exports;var i=o[e]={exports:{}};return n[e](i,i.exports,t),i.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);var r={};return(()=>{"use strict";function e(n,o){return null!=o&&"undefined"!=typeof Symbol&&o[Symbol.hasInstance]?!!o[Symbol.hasInstance](n):e(n,o)}function n(n,o){if(!e(n,o))throw new TypeError("Cannot call a class as a function")}function o(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function i(e,n,t){return n&&o(e.prototype,n),t&&o(e,t),e}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function a(e,n,o){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,o){var t=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=c(e)););return e}(e,n);if(t){var r=Object.getOwnPropertyDescriptor(t,n);return r.get?r.get.call(o||e):r.value}},a(e,n,o||e)}function l(e,n){return l=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},l(e,n)}function s(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&l(e,n)}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(u=function(){return!!e})()}function f(e,n){return!n||"object"!=((o=n)&&"undefined"!=typeof Symbol&&o.constructor===Symbol?"symbol":typeof o)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n;var o}function p(e){var n=u();return function(){var o,t=c(e);if(n){var r=c(this).constructor;o=Reflect.construct(t,arguments,r)}else o=t.apply(this,arguments);return f(this,o)}}t.d(r,{default:()=>_});var d=t(616),m=t(876),g=t.n(m),b=d.shared.replaceRibbonButton2XButton,y=PDFViewCtrl.PDF.constant.User_Permissions,v=d.PDFViewCtrl.Consts.PDFDocPermission,h=d.UIEvents,_=function(e){s(t,e);var o=p(t);function t(){return n(this,t),o.apply(this,arguments)}return i(t,[{key:"init",value:function(e){this.pdfUI=e}},{key:"destroy",value:function(){}}],[{key:"getName",value:function(){return"recognitionForm"}},{key:"getLoader",value:function(){return g()}},{key:"initOnLoad",value:function(){var e=!1,o=d.modular.module("recognition-form",[]),t={template:'<ribbon-button text="recognition-form:tips.recognition" @tooltip name="recognition-form-button" icon-class="fv__icon-toolbar-recognition-form">recognition-form:tips.recognition</ribbon-button>',config:{target:"recognition-form-button",tooltip:{title:"recognition-form:tips.recognition"},callback:function(o){s(r,o);var t=p(r);function r(){return n(this,r),t.apply(this,arguments)}return i(r,[{key:"changePermission",value:function(e){var n=this;e.readonly().then((function(o){var t=!(!e||e.isDestroyed)&&e.checkPermission(y.fillForm)&&e.checkPermission(y.modify);e.checkPermission(n.constructor.permission+y.modify)&&t&&!e.isStaticXFA()&&!e.isDynamicXFA()&&!o&&e.isOwner()?n.component.unlock&&n.component.unlock():n.component.lock&&n.component.lock()}))}},{key:"mounted",value:function(){var e,n,o;a(c(r.prototype),"mounted",this).call(this),this.addDestroyHook(this.getPDFUI().addViewerEventListener((e={},n=h.permissionChanged,o=this.changePermission.bind(this),n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e)))}},{key:"handle",value:function(n){var o,t=this,r=this.getComponentByName("recognition-dialog"),i=this.pdfUI.customsDetectFormFieldsParams||{},c=Promise.resolve(r);r||(c=(o=this.pdfUI,o.getRootComponent().then((function(e){e.append('\n            <layer name="recognition-dialog" class="fv__popup-dialog center fv__ui-recognition-dialog" @resizable backdrop style="max-height: calc(100vh - 40px); overflow: auto;">\n                <layer-header title="recognition-form:dialog.title"></layer-header>\n                <div class="fv__popup-recognition-body" name="fv__popup-recognition-body">\n                    recognition-form:dialog.content\n                    <div class="fv__popup-recognition-body-employee">Employee Name:\n                        <div class="fv__popup-recognition-body-employee-lever-1">1</div>\n                        <span><label>Employee Name</label></span>\n                        <div class="fv__popup-recognition-body-employee-lever-2">2</div>\n                    </div>\n                    recognition-form:dialog.description\n                </div>\n                <layer-toolbar class="fv__ui-recognition-bottom-bar footer">\n                    <label class="fv__ui-checkbox checkbox mb_5" @controller="recognition-form:NotAgain" name="recognition-form-not-again">\n                        <span class="fv__ui-checkbox-wrapper">\n                            <input type="checkbox" class="fv__ui-checkbox-input" @aria:labelledby="::parent()::nextSiblings()">\n                            <span class="fv__ui-checkbox-inner"></span>\n                        </span>\n                        <span class="fv__ui-checkbox-text" data-i18n="recognition-form:dialog.notAgain"></span>\n                    </label>\n                    <xbutton data-action="OK" class="fv__ui-dialog-ok-button" @controller="recognition-form:HideDialog">dialog.ok</xbutton>\n                </layer-toolbar>\n            </layer>\n        ')}))).then((function(e){r=t.getComponentByName("recognition-dialog")}))),c.then((function(e){return t.pdfUI.getStateHandlerManager().then((function(e){return e.switchTo("hand")}))})).then((function(n){t.pdfUI.getCurrentPDFDoc().then((function(e){return e.autoRecognitionForm()})).then((function(n){for(var o=t.component.element.parentElement;o;){if("form-toolbar-group-list"===o.getAttribute("name")){var c=o.querySelector(".fx-ribbon-item-active");c||(c=o.querySelector(".fx-ribbon-item.selected")),c.focus();break}o=o.parentElement}0===n?t.pdfUI.alert("recognition-form:error.noFields","recognition-form:error.title",void 0,"warning").then((function(){i.successAfter&&i.successAfter()})):(t.pdfUI.redraw(!0),!e&&r.show()),setTimeout((function(){t.component.lock&&t.component.lock()}),200)}))}))}}],[{key:"permission",get:function(){return v.FillForm}}]),r}(d.Controller)}};o.registerPreConfiguredComponent("recognition-form-ribbon-button",t),o.registerPreConfiguredComponent("recognition-form-button",Object.assign({},t,{template:b(t.template)})),o.controller("HideDialog",{handle:function(){var e=this.pdfUI.customsDetectFormFieldsParams||{},n=this.getComponentByName("recognition-dialog");e.successAfter&&e.successAfter(),n&&n.hide()}}),o.controller("NotAgain",{handle:function(n){if("INPUT"===n.target.nodeName){var o=n.target;e=o.checked}}})}}]),t}(d.UIXAddon)})(),r=r.default})()));