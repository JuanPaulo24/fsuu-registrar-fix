!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("UIExtension"),require("UIExtension").PDFViewCtrl.commons,require("UIExtension").__ui_lib__):"function"==typeof define&&define.amd?define(["UIExtension",["UIExtension","PDFViewCtrl","commons"],["UIExtension","__ui_lib__"]],t):"object"==typeof exports?exports.ARIAUIXAddon=t(require("UIExtension"),require("UIExtension").PDFViewCtrl.commons,require("UIExtension").__ui_lib__):e.ARIAUIXAddon=t(e.UIExtension,e.UIExtension.PDFViewCtrl.commons,e.UIExtension.__ui_lib__)}(self,((e,t,n)=>(()=>{var i={511:e=>{e.exports=null},616:t=>{"use strict";t.exports=e},732:e=>{"use strict";e.exports=t},399:e=>{"use strict";e.exports=n}},a={};function r(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return i[e](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var o={};return(()=>{"use strict";function e(t,n){return null!=n&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):e(t,n)}function t(t,n){if(!e(t,n))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(s=function(){return!!e})()}function u(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function d(e){var t=s();return function(){var n,i=c(e);if(t){var a=c(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return u(this,n)}}r.d(o,{default:()=>Jr});var f=r(616),h=r(511),v=r.n(h);function m(e,t,n){return m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n||e):a.value}},m(e,t,n||e)}var p=function(e){l(a,e);var n=d(a);function a(){return t(this,a),n.apply(this,arguments)}return i(a,[{key:"init",value:function(e){m(c(a.prototype),"init",this).call(this,e),this.attrValue&&e.setAttribute("role",this.attrValue)}}],[{key:"getName",value:function(){return"role"}}]),a}(f.Directive),b=f.PDFViewCtrl,g=b.PDF,y=(g.form.constant.Field_Type,b.shared.browser.eventPath),_=g.constant,E=(_.Action_Trigger,_.Graphics_ObjectType,b.keyboard),w=(E.BuiltinShortcutCommand,E.BuiltinShortcutContext,E.KeyboardUtils),x=b.ViewerEvents,k=f.UIConsts.COMPONENT_EVENTS,A=(f.Directive,b.shared.debounce),S=b.constants.PagePointType,C=b._internal.shared,D=(C.Lazy,C.attachKeypressEvent),q=(C.preventFastClickByKeydown,C.createClickEvent),L=(f.PDFUI,b.shared.ThrottleAsyncTaskExecutor),$=b.constants.STATE_HANDLER_NAMES.STATE_HANDLER_HAND,P=b.commons.isEditable;b.vendors.jQuery;function T(e,t){if(e)for(var n in t)N(e,n,t[n])}function N(e,t,n){null!=n&&e&&e.getAttribute(t)!==n+""&&e.setAttribute(t,n)}function I(e,t){e&&t&&e.removeAttribute(t)}function F(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];e&&n.forEach((function(t){t&&e.removeAttribute(t)}))}var H=function(e){l(a,e);var n=d(a);function a(){return t(this,a),n.apply(this,arguments)}return i(a,[{key:"componentMounted",value:function(){var e=this,t=this.component,n=this.subName;if("tablist"===n)N(t.element,"role","tablist");else if("tab"===n){var i=t.element.getAttribute("body");t.getRoot().getMountedComponentByName(i).then((function(n){e.isDestroyed||T(t.element,{role:"tab","aria-selected":"false","aria-controls":n.element.id})}))}else if("tabpanel"===n){var a=t.getRoot().getComponentByName("toolbar-tabs").element.querySelector("[body=".concat(t.name,"]"));if(!a)return;T(t.element,{role:"tabpanel",tabindex:"0","aria-labelledby":a.id})}}}],[{key:"getName",value:function(){return"toolbar"}}]),a}(f.Directive);function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function O(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}function M(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var U="__aria_addon_override_methods__";function B(e,t){V(e.prototype,t,!0)}function V(e,t){var n=function(n){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=this;return r.call(this,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;return o.apply(i,e)}),t)},r=t[n];if(r[U])throw new Error("The method '".concat(n,"' of ").concat(clazz," has been overwrited more then once! Please confirm whether the'aria' addon has been loaded."));var o=e[n];a.$origin=o,e[n]=a,a[U]=!0,i||"function"!=typeof e.addDestroyHook||e.addDestroyHook((function(){a[U]=!1,e[n]=o}))},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var a in t)n(a)}var z="unique_"+Date.now().toString(36),j=0;function G(e){return[e||"",z,j++].join("_")}var K=f.PDFViewCtrl.shared.isEditableElement,W=w.match,X=w.matchers,Q=w.isMatch,J=X.or,Z=X.ArrowUp,Y=X.ArrowDown,ee=X.ArrowLeft,te=X.ArrowRight,ne=X.Enter,ie=X.Space,ae=X.Home,re=X.End,oe=X.Tab;function le(e,t,n,i,a,r,o){try{var l=e[r](o),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(i,a)}function ce(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var r=e.apply(t,n);function o(e){le(r,i,a,o,l,"next",e)}function l(e){le(r,i,a,o,l,"throw",e)}o(void 0)}))}}function se(e,t){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,l[0]&&(o=0)),o;)try{if(n=1,i&&(a=2&l[0]?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,i=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],i=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;var ue=w.match,de=w.matchers,fe=de.Enter,he=de.ArrowUp,ve=de.ArrowDown,me=de.Escape;function pe(){return pe=ce((function(e,t){var n,i,a,r,o,l,c,s,u,d,f,h,v,m,p,b,g;function y(e,t){var n=r.querySelector("#"+e),i=n.querySelector("label"),a=n.querySelector("input"),o=G(t);T(i,{id:o}),T(a,{"aria-labelledby":o})}return se(this,(function(e){switch(e.label){case 0:return[4,t.getMountedComponentByName("create-stamp-dialog")];case 1:return n=e.sent(),i=n.element.querySelector(".fv__ui-layer-inner"),a=n.querySelector("@stamp:stamp-create"),r=a.element,o=r.querySelector(".fv__ui-stamp-dropdown"),l=r.querySelector(".fv__ui-stamp-source"),c=G("stamp-dropdown"),T(i,{role:"application"}),T(o,{tabindex:"0",role:"button","aria-haspopup":"listbox",id:c}),T(l,{role:"listbox","aria-labelledby":c,tabindex:"-1"}),l.querySelectorAll("li").forEach((function(e,t){T(e,{"aria-posinset":t,tabindex:0,role:"option"})})),l.querySelector("#stamp-local-path"),s=r.querySelector("#stampCategory"),u=s.querySelector("label"),d=G("stamp-category"),f=s.querySelector("input"),h=s.querySelector("select"),T(u,{id:d}),T(f,{"aria-labelledby":d}),T(h,{"aria-labelledby":d}),v=r.querySelector("#stampType"),m=v.querySelector("label"),p=v.querySelector("select"),b=G("stamp-type"),T(m,{id:b}),T(p,{"aria-labelledby":b}),y("stampName","stamp-name"),y("stampWidth","stamp-width"),y("stampHeight","stamp-height"),g=n.querySelectorAll("@xbutton[data-action=OK]"),o.addEventListener("keyup",(function(e){ue(e).when(fe,(function(){var t=l.style;t.display="block"===t.display?"none":"block",l.firstElementChild.focus(),e.stopPropagation()})).when(me,(function(){l.style.display="none",o.focus(),e.stopPropagation()}))})),l.addEventListener("keyup",(function(e){ue(e).switchers(!1).when(fe,(function(){var t=e.target;"LI"===t.tagName&&(t.querySelector("#stamp-local-path")?t.querySelector("span").click():t.querySelector(".fv__ui-stamp-source-lable").click());e.stopPropagation()})).when(he,(function(){var e=document.activeElement;if("LI"===e.tagName){var t,n=M(e.parentElement.children),i=n.indexOf(e);n[--i]?(t=n[i]).focus():(t=e.parentElement.lastElementChild).focus(),e.removeAttribute("aria-selected"),t.setAttribute("aria-selected","true")}})).when(ve,(function(){var e=document.activeElement;if("LI"===e.tagName){var t,n=M(e.parentElement.children),i=n.indexOf(e);n[++i]?(t=n[i]).focus():(t=e.parentElement.firstElementChild).focus(),e.removeAttribute("aria-selected"),t.setAttribute("aria-selected","true")}})).when(me,(function(){l.style.display="none",o.focus(),e.stopPropagation()}))})),n.element.addEventListener("keydown",(function(e){ue(e).switchers(!1).when(fe,(function(){var e=document.activeElement;e.classList&&e.classList.contains("fv__ui-stamp-dialog")?g[0].element.click():"Close"===e.getAttribute("data-action")&&e.children[0].click()})),e.stopPropagation()})),l.querySelector("#stamp-local-path").addEventListener("click",(function(e){o.focus()})),[2]}}))})),pe.apply(this,arguments)}function be(){return(be=ce((function(e,t){return se(this,(function(e){switch(e.label){case 0:return[4,t.getAllMountedComponentsByName("fv--addon-textobject-font-family-size-dropdown")];case 1:return e.sent().forEach((function(e){e.querySelectorAll("@dropdown-button").forEach((function(e){e.setAttribute("role","option")}));var n=e.childAt(1),i="aria:labels.set-font-size";n.on("select",(function(){n._unwatchAriaLabel&&n._unwatchAriaLabel(),n._unwatchThisLabel&&n._unwatchThisLabel();var e=t.localizer.translateSync(i);n.togglerElement.setAttribute("aria-label",e)})),t.localizer.watch(i,{},"",(function(e){n.togglerElement.setAttribute("aria-label",e)}))})),[2]}}))}))).apply(this,arguments)}function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,r=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return r}}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ye=w.match,_e=w.matchers,Ee=(_e.ArrowUp,_e.ArrowDown,_e.Home,_e.End,_e.Enter),we=null;function xe(){return xe=ce((function(e,t){var n,i,a,r,o,l,c,s,u;return se(this,(function(d){switch(d.label){case 0:return[4,t.waitForComponentLifecycle("page-template-dialog","mounted")];case 1:return n=ge.apply(void 0,[d.sent(),1]),(i=n[0])?(we=i.element,T(a=i.getComponentByName("nameTree"),{role:"group","aria-live":"assertive"}),r=t.localizer,o="aria:labels.visibleBox",l=i.controller.resetNameTreeUI,i.controller.resetNameTreeUI=function(){return l.apply(this,arguments).then((function(){var t;Array.from(a.element.children).forEach((function(n,i){n.classList.add("fv__addon-aria-page-template-name-tree-item");var l=n.classList.contains("selected");T(n.lastElementChild,{"aria-posinset":i,tabindex:"0",role:"listitem","aria-selected":l});var c=n.querySelector("[name=visibleBox]");T(c,{role:"checkbox","aria-checked":!0,tabindex:0,"aria-label":r.translateSync(o)}),l&&(t=n.lastElementChild),n.addEventListener("click",(function(){t!==n&&(t&&N(t,"aria-selected","false"),N(n.lastElementChild,"aria-selected","true"),t=n.lastElementChild)})),a.element.addEventListener("keyup",(function(e){var t=e.target;ye(e).when(Ee,(function(){t.click(),ke()})),e.stopPropagation()})),c.addEventListener("click",(function(t){var n=t.target.querySelector(".eye");N(t.target,"aria-checked",Boolean(n)),e.eventEmitter.once("completed-render-visible-pages",(function(){t.target.focus()}))})),c.addEventListener("keyup",(function(e){var t=e.target;ye(e).when(Ee,(function(){t.click()})),e.stopPropagation()}))}))}))},c=i.controller.resetPageThumb,i.controller.resetPageThumb=function(){var e=this;return function(t){c.apply(e,t),Array.from(a.element.children).forEach((function(e,t){e.classList.add("fv__addon-aria-page-template-name-tree-item");var n=e.classList.contains("selected");T(e.lastElementChild,{"aria-posinset":t,tabindex:"0",role:"listitem","aria-selected":n});var i=e.querySelector("[name=visibleBox]"),a=Boolean(i.querySelector(".eye"));T(i,{role:"checkbox","aria-checked":a,tabindex:0,"aria-label":r.translateSync(o)})}))}(arguments)},s=i.controller.resetButtonUI,i.controller.resetButtonUI=function(){var e=this;return function(t){s.apply(e,t),ke()}(arguments)},u=i.controller.resetUI,i.controller.resetUI=function(){var e=this,t=arguments;return u.apply(e,t),void ke()},i.controller.$name.on("keyup",ke),[2]):[2]}}))})),xe.apply(this,arguments)}function ke(){we.querySelectorAll(".fv__ui-dialog-button").forEach((function(e){e.classList.contains("disabled")?(e===document.activeElement&&we.querySelector("[name=name]").focus(),T(e,{tabindex:-1,disabled:!0})):(N(e,"tabindex",0),I(e,"disabled"))}))}var Ae=w.isMatch,Se=(w.match,w.matchers),Ce=Se.or,De=Se.Space,qe=Se.Enter;var Le=w.match,$e=w.matchers,Pe=$e.Enter,Te=$e.Space,Ne=$e.or;function Ie(){return(Ie=ce((function(e,t){var n,i,a,r,o,l;return se(this,(function(e){switch(e.label){case 0:return[4,t.getMountedComponentByName("print-dialog")];case 1:return(n=e.sent())?(i=n.querySelector("fv--print-page-size-container>@div"),a=n.getComponentByName("print-dropdown-quality"),r=n.querySelector("fv--print-page-size-container::nextSiblings()"),a&&i&&T(a.cursorElement,{"aria-labelledby":i.id}),r&&T(r,{role:"alert","aria-live":"assetive","aria-atomic":"true"}),(o=n.getComponentByName("print-dialog-ok-btn"))&&(l=function(e){Le(e).when(Ne(Pe,Te),(function(){o.element.click()}))},o.element.addEventListener("keyup",l),n.addDestroyHook((function(){o.element.removeEventListener("keyup",l)}))),B(n.controller.constructor,{showError:function(e,t){var n=ge(t,1)[0];e(n),n.attr("aria-invalid","true"),n.focus(),n[0].onblur=function(){n.removeAttr("aria-invalid")}}}),[2]):[2]}}))}))).apply(this,arguments)}var Fe=w.match,He=w.matchers,Re=w.isMatch,Oe=He.ArrowUp,Me=He.ArrowDown,Ue=He.ArrowLeft,Be=He.ArrowRight,Ve=He.or,ze=He.Enter,je=He.Space,Ge=He.Escape,Ke=15;function We(e){if(e.isActive)if(e.selectable&&e.selectedItem&&!e.selectedItem.disabled)e.selectedItem.focus();else if(!e.selectable){var t=e.childAt(0);if(!t)return;for(var n=t,i=1;n&&n.disabled;)n=e.childAt(i),i++;if(!n)return;if(n.focus(),!n.hasFocus()){var a=n.childAt&&n.childAt(0);a&&a.focus()}}}var Xe=w.isMatch,Qe=w.matchers,Je=Qe.or,Ze=Qe.Enter,Ye=Qe.Space,et=0;function tt(e){return e+(et++).toString(36)}function nt(e){return e.separate?e.caretElement:e.togglerElement}var it=w.match,at=w.matchers.Enter;w.match;var rt=w.matchers;rt.Space,rt.Enter,rt.ArrowLeft,rt.ArrowRight,rt.Home,rt.End,rt.Tab,rt.or;var ot=f.PDFViewCtrl.shared.createFocusEvent,lt=w.match,ct=w.matchers;function st(e){var t=e.getBoundingClientRect(),n=t.width,i=t.height;return n&&i}var ut=w.match,dt=w.matchers,ft=dt.Enter,ht=dt.Space,vt=dt.ArrowLeft,mt=dt.ArrowRight,pt=dt.ArrowUp,bt=dt.ArrowDown,gt=dt.Home,yt=dt.End,_t=dt.or;var Et=["Static","SignHere","Dynamic","Favorite"];var wt=w.match,xt=w.matchers,kt=xt.Enter,At=xt.Space,St=xt.Home,Ct=xt.End,Dt=xt.ArrowLeft,qt=xt.ArrowRight,Lt=xt.or;var $t=w.match,Pt=w.matchers,Tt=w.isMatch,Nt=Pt.Tab,It=Pt.Enter,Ft=Pt.Escape,Ht=Pt.Home,Rt=Pt.End,Ot=Pt.ArrowUp,Mt=Pt.ArrowDown,Ut=Pt.or;var Bt=function(e,t,n){if(t.lable){var i=t.lable;n.addDestroyHook(n.localizer.watch(i,{},i,(function(t){e.setAttribute("aria-label",t)})))}else e.setAttribute("aria-label",t.value)},Vt=function(e){l(a,e);var n=d(a);function a(){return t(this,a),n.apply(this,arguments)}return i(a,[{key:"init",value:function(e){m(c(a.prototype),"init",this).call(this,e);var t=this.subName,n=this.attrValue;this.addDestroyHook(e.controller.watch(n,(function(n){e.setAttribute("aria-"+t,n)})))}}],[{key:"getName",value:function(){return"attr"}}]),a}(f.Directive),zt=function(n){l(r,n);var a=d(r);function r(e){var n;return t(this,r),(n=a.call(this,e)).order=1/0,n}return i(r,[{key:"getTargetElement",value:function(){var t=this.component,n=e(t,f.components.widgets.DropdownComponent),i=e(t,f.components.widgets.RibbonButtonComponent),a=!n&&e(t,f.components.widgets.SelectComponent);if(n){switch(this.subName){case"caret":return t.caretElement;case"icon":return t.iconElement;case"editor":return t.editElement;case"list":return t.listElement}return t.togglerElement}if(i){if("list"===this.subName){var r=t.getDropdown();return r&&r.listElement}}else if(a)return t.element.querySelector(".fv__ui-select");return t.element}}]),r}(f.Directive),jt=function(e){l(a,e);var n=d(a);function a(e){var i;return t(this,a),(i=n.call(this,e)).order=1/0,i}return i(a,[{key:"componentMounted",value:function(){var e=this.component,t=this.getTargetElement(),n=this.attrValue;n||(n=e.text),n||(n=e.getAttribute("tooltip-title"));var i=e.localizer.watch(n,{},n,(function(e){t.getAttribute("aria-labelledby")&&t.removeAttribute("aria-labelledby"),t.setAttribute("aria-label",e)}));this.addDestroyHook(i)}}],[{key:"getName",value:function(){return"label"}}]),a}(zt),Gt=function(e){l(a,e);var n=d(a);function a(e){var i;return t(this,a),(i=n.call(this,e)).order=1/0,i}return i(a,[{key:"componentMounted",value:function(){var e=this.component,t=this.getTargetElement(),n=this.attrValue;n||(n=e.text),n||(n=e.getAttribute("tooltip-title"));var i=e.localizer.watch(n,{},n,(function(e){t.setAttribute("title",e)}));this.addDestroyHook(i)}}],[{key:"getName",value:function(){return"title"}}]),a}(zt),Kt=function(e){l(a,e);var n=d(a);function a(){return t(this,a),n.apply(this,arguments)}return i(a,[{key:"componentMounted",value:function(){var e=this,t=this.component,n=A((function(){if(!t.isDestroyed){var n=t.querySelectorAll(e.attrValue);if(n.length>0){var i=n.map((function(e){return e.id}));t.setAttribute("aria-describedby",i.join(" "))}else t.removeAttribute("aria-describedby")}}),100),i=t.context;this.addDestroyHook(i.onModifyTree(n),i.onStatusChange(n))}}],[{key:"getName",value:function(){return"describedby"}}]),a}(f.Directive),Wt=function(n){l(r,n);var a=d(r);function r(){return t(this,r),a.apply(this,arguments)}return i(r,[{key:"componentMounted",value:function(){var t=this,n=this.component,i=e(n,f.components.widgets.DropdownComponent),a=!i&&e(n,f.components.widgets.SelectComponent),r=A((function(){if(!n.isDestroyed){var e=n.querySelectorAll(t.attrValue),r=function(){if(i){switch(t.subName){case"caret":return n.caretElement;case"icon":return n.iconElement;case"editor":return n.editElement}return n.togglerElement}return a?n.element.querySelector(".fv__ui-select"):n.element}();if(r)if(e.length>0){var o=e.map((function(e){return e.id}));r.setAttribute("aria-labelledby",o.join(" "))}else r.removeAttribute("aria-labelledby")}}),100),o=n.context;this.addDestroyHook(o.onModifyTree(r),o.onStatusChange(r))}}],[{key:"getName",value:function(){return"labelledby"}}]),r}(f.Directive),Xt=function(e){l(a,e);var n=d(a);function a(){return t(this,a),n.apply(this,arguments)}return i(a,[{key:"componentMounted",value:function(){var e=this,t=this.component,n=A((function(){if(!t.isDestroyed){var n=t.querySelectorAll(e.attrValue),i=e.subName;switch(i){case"activedescendant":case"describedby":case"labelledby":case"flowto":case"owns":case"controls":break;default:throw new Error("[ARIA]".concat(e.attrName,": Unidentified relative aria property: ").concat(i))}var a="aria-"+i;if(n.length>0){var r=n.map((function(e){return e.id}));t.setAttribute(a,r.join(" "))}else t.removeAttribute(a)}}),100),i=t.context;this.addDestroyHook(i.onModifyTree(n),i.onStatusChange(n))}}],[{key:"getName",value:function(){return"rel"}}]),a}(f.Directive),Qt=function(e){l(a,e);var n=d(a);function a(){return t(this,a),n.apply(this,arguments)}return i(a,[{key:"init",value:function(e){m(c(a.prototype),"init",this).call(this,e),this.addDestroyHook(e.localizer.watch(this.attrValue,{},this.attrValue,(function(t){e.setAttribute("alt",t)})))}}],[{key:"getName",value:function(){return"alt"}}]),a}(f.Directive);var Jt=w.match,Zt=w.matchers;var Yt=function(e){l(a,e);var n=d(a);function a(){return t(this,a),n.apply(this,arguments)}return i(a,[{key:"componentMounted",value:function(){var e=this,t=this.component;T(t,{role:"button",tabindex:0});var n=setInterval((function(){if(!e.isDestroyed){var n=t.element;T(n,{"aria-disabled":n.classList.contains("disabled"),tabindex:n.classList.contains("disabled")?"-1":"0"})}}),500);this.addDestroyHook((function(){clearInterval(n)}))}}],[{key:"getName",value:function(){return"button"}}]),a}(f.Directive);var en=["$"," DM","€","fl"," F"," kr","Lit. "," Pts","£","$A. ","$NZ. ","Руб ","ESC. ","HK$ ","P. ","RMB¥","NT$ ","S.$ ","W","¥","zł","SEK ","kr ","C$ "],tn=function(){function e(){t(this,e)}return i(e,null,[{key:"GetSeperatorString",value:function(e,t){var n=""+e,i=n.length;return i>3?0==t?this.GetSeperatorString(parseInt(n.substr(0,i-3)),t)+"."+n.substr(i-3):1==t?this.GetSeperatorString(parseInt(n.substr(0,i-3)),t)+","+n.substr(i-3):this.GetSeperatorString(parseInt(n.substr(0,i-3)),t)+" "+n.substr(i-3):n}},{key:"GetSampNumberFormat",value:function(e,t,n,i,a,r){var o="",l="",c=[];if(t>=0&&n>=0&&i>=0&&r>=0){var s="",u="",d=(l=""+e.toFixed(parseInt(t))).indexOf(".");d>0?(u=l.substr(0,d),s=l.substr(d)):(u=l,s="");var f="";for(0==n&&(f=this.GetSeperatorString(parseInt(u),1)+s),1==n&&(f=l),2==n&&(s=s.replace(".",","),f=this.GetSeperatorString(parseInt(u),0)+s),3==n&&(f=(f=l).replace(".",",")),4==n&&(s=s.replace(".",","),f=this.GetSeperatorString(parseInt(u),2)+s);;){if(0==a){o="$";break}if(1==a){o="DM";break}if(2==a){o="€";break}if(3==a){o="f";break}if(4==a){o="F";break}if(5==a){o="kr";break}if(6==a){o="Lit.";break}if(7==a){o="Pts";break}if(8==a){c[0]=163,o=String.fromCharCode.apply(String,c);break}if(9==a){o="$A.";break}if(10==a){o="$NZ.";break}if(11==a){c[0]=1056,c[1]=1091,c[2]=1073,o=String.fromCharCode.apply(String,c);break}if(12==a){o="ESC.";break}if(13==a){o="HK$";break}if(14==a){o="P.";break}if(15==a){c[0]=65509,o=String.fromCharCode.apply(String,c);break}if(16==a){o="NT$";break}if(17==a){o="S.$";break}if(18==a){c[0]=8361,o=String.fromCharCode.apply(String,c);break}if(19==a){c[0]=165,o=String.fromCharCode.apply(String,c);break}if(20==a){c[0]=122,c[1]=322,o=String.fromCharCode.apply(String,c);break}if(21==a){o="SEK";break}if(22==a){o="kr";break}if(23==a){c[0]=67,c[1]=36,o=String.fromCharCode.apply(String,c);break}if(a>23||a<0)break}if(2&i){0==r?l="("+f+" "+o+")":("(%s",l="("+o+f+")")}else if(0==r)l=f+o;else{l=o+f}}return l}},{key:"GetSampPercentFormat",value:function(e,t,n){var i="";if(t>=0&&n>=0){i=""+(100*e).toFixed(parseInt(t));var a="",r="",o=(i+="%").indexOf(".");o>0?(r=i.substr(0,o),a=i.substr(o)):(r=i,a="");var l="";0==n&&(l=this.GetSeperatorString(parseInt(r),1)+a),1==n&&(l=i),2==n&&(a=a.replace(".",","),l=this.GetSeperatorString(parseInt(r),0)+a),3==n&&(l=(l=i).replace(".",",")),4==n&&(a=a.replace(".",","),l=this.GetSeperatorString(parseInt(r),2)+a),i=l}return i}},{key:"GetFormatStringType",value:function(e){return e&&""!=e?0==e.indexOf("AFNumber_Format")?1:0==e.indexOf("AFPercent_Format")?2:0==e.indexOf("AFDate_FormatEx")?3:0==e.indexOf("AFTime_Format")?4:0==e.indexOf("AFSpecial_Format")?5:-1:0}},{key:"GetKeystrokeStringType",value:function(e){return e&&""!=e?0==e.indexOf("AFNumber_Keystroke")?1:0==e.indexOf("AFPercent_Keystroke")?2:0==e.indexOf("AFDate_KeystrokeEx")?3:0==e.indexOf("AFTime_Keystroke")?4:0==e.indexOf("AFSpecial_Keystroke")?5:-1:0}},{key:"GetPercentageValues",value:function(e){var t,n=-1,i=e.length,a=e.indexOf("("),r=i-a-3,o=e.substr(a+1,r).split(","),l=o[0];t=Number(l);for(var c=0;c<o.length&&!(++c>=2)&&""!=(l=o[c]);)1==c&&(n=Number(l));return{iDec:t,iSep:n}}},{key:"StringFromUnicode",value:function(e){for(var t=!1,n="0x",i="",a=0;a<e.length;a++){var r=e[a];"\\"==e[a]&&a+1<e.length&&("u"==e[a+1]||"U"==e[a+1])?(a+=1,t&&(i+=String.fromCharCode(n),n="0x"),t=!0):t?n+=r:(i+=r,t=!1)}return t&&(i+=String.fromCharCode(n)),i}},{key:"GetNumberValues",value:function(e){var t,n=1,i=-1,a=-1,r=-1,o=-1,l=e.length,c=e.indexOf("("),s=l-c-3,u=e.substr(c+1,s).split(",");t=Number(u[0]);for(var d=0;d<u.length&&!(++d>=6);){var f=u[d];if(""==f)break;if(1!=d)if(2!=d)if(3!=d)if(4!=d){if(5==d)o=f.indexOf("false")>=0?0:1}else{var h=f;if(""==h){r=-1;continue}h=(h=(h=(h=h.replace(/"/g,"")).replace(/'/g,"")).replace("\\u0020"," ")).trim(),h=this.StringFromUnicode(h);for(var v=0;v<24;v++){var m=en[v];if(h==(m=(m=m.replace(" "," ")).trim())){r=v;break}}v>23&&(r=-1)}else a=0;else{var p=Number(f);0!=p&&1!=p&&2!=p&&3!=p||(i=p)}else n=Number(f)}return{iDec:t,iSep:n,iNeg:i,iDef:a,iMoney:r,iPre:o}}},{key:"GetRangeValues",value:function(e){for(var t,n=!1,i=!1,a="",r="",o=e.indexOf("("),l=e.indexOf(")"),c=e.substr(o+1,l-o-1).split(","),s=0;s<c.length;){t=(t=c[s]).trim(),0==s||2==s?"true"==t.toLowerCase()?0==s?n=!0:i=!0:0==s?n=!1:i=!1:1!=s&&3!=s||(1==s?a=t:r=t),s++}return{bFrom:n,bTo:i,csiFrom:a,csiTo:r}}}]),e}(),nn=w.match,an=w.matchers,rn=an.ArrowUp,on=an.ArrowDown;var ln=w.match,cn=w.matchers,sn=cn.Enter,un=cn.Space,dn=cn.ArrowUp,fn=cn.ArrowDown,hn=cn.ArrowLeft,vn=cn.ArrowRight,mn=cn.or;function pn(e){e&&B(e.addon.constructor,{getDialog:function(e){var t=e();return function(e){var t=e.$element;if(!t)return;if("field-pick-dialog"===e.dialog.attrs.name){bn(t);var n=t.find('input[type="radio"]');n.off("focus"),n.on("focus",(function(e){bn(t),function(e,t){var n=e.target.parentElement.querySelectorAll(".fv__pick-left input[type=radio] + label + .fv__submit-datas input");n.length>0&&n.forEach((function(e){e.removeAttribute("disabled")}))}(e)})),n.off("change"),n.on("change",(function(e){var n=t.find(".fv__fiels-bottom .fv__field-buttons #selectAll"),i=t.find(".fv__fiels-bottom .fv__field-buttons #deselectAll");"selectedFieldsButton"===e.target.id?(n.attr("tabindex","0"),i.attr("tabindex","0")):(n.attr("tabindex","-1"),i.attr("tabindex","-1"))}))}else if("multiple-copy-dialog"===e.dialog.attrs.name){var i=t.find(".fv__multiple-copy-position .bg-wrap");i.off("keydown"),i.on("keydown",gn)}var a=t.find("[role=button]");a.off("keyup",yn),a.on("keyup",yn)}(t),t}})}function bn(e){e.find(".fv__pick-left input[type=radio] + label + .fv__submit-datas input").attr("disabled","true")}function gn(e){var t=this;ln(e).when(hn,(function(){t.querySelector(".left").focus()})).when(vn,(function(){t.querySelector(".right").focus()})).when(fn,(function(){t.querySelector(".down").focus()})).when(dn,(function(){t.querySelector(".up").focus()}))}function yn(e){var t=this;ln(e.originalEvent).when(mn(sn,un),(function(){t.click(e)}))}var _n=g.form.constant.Field_Type,En=g.constant.Action_Trigger,wn=w.match,xn=w.matchers,kn=xn.ArrowRight,An=xn.ArrowLeft,Sn=xn.Home,Cn=xn.End,Dn=xn.Enter;function qn(){return qn=ce((function(e,t){var n;function i(){n.dialog.localizer.watch("aria:labels.close-layer-btn",{},"aria:labels.close-layer-btn",(function(e){n.$dialog.find("[name=closeDialog]").attr("aria-label",e)})),n.$tabNav.attr("role","tab"),n.$tabNav.attr("tabindex","-1"),n.$tabNav.filter(".active").attr("tabindex","0"),n.$tabNav.attr("aria-selected","false"),n.$tabNav.each((function(e,t){var i=n.$dialog.find(".fv__ui-form-tab-body > div:not(.lock-mask)");i.attr("role","tabpanel"),i.eq(e).attr("aria-labelledby",t.id),t.setAttribute("aria-controls",i.eq(e).attr("id"))})),function(){n.$tabNav.on("keydown",v),n.$tabNav.on("focus",(function(e){n.$tabNav.attr("tabindex","-1"),n.$tabNav.attr("aria-selected","false"),e.target.setAttribute("tabindex","0"),e.target.setAttribute("aria-selected","true")})),n.$dialog.find("[role='button']").on("keydown",v),n.$dialog.find(".fv__ui-dialog-button[name=advanced]").on("click",o),n.$dialog.find(".fv__ui-dialog-button[name=clearIcon]").on("click",s),n.$dialog.find("select[name=layout]").on("change",a),n.$dialog.find("#chooseIconFile").on("change",c);var e=n.$dialog.find(".fv__advanced-dialog");e.find(".fv__icon-layer-close,.confirm-button,.cancel-button").on("click",l),e.on("keyup",r),n.$dialog.find("[name=validateRadio]").on("change",(function(e){return u("validateRadio")})),n.$dialog.find("[name=calculateRadio]").on("change",(function(e){return u("calculateRadio")})),n.$dialog.find("[name=selectAction]").on("change",f),n.$dialog.find("[name=signAction]").on("change",h)}(),B(n.constructor,{updateContent:function(e){e();var t=n.annot,i=(Object.keys(_n).find((function(e){return _n[e]===t.getField().getType()}))||"").toLowerCase(),a=n.dialog.element.querySelector(".fv__ui-form-tab-nav");if(a){a.setAttribute("role","tablist");var r=n.$dialog.find('.fv_ui_dialog_title > div[show-in-types="'.concat(i,'"]')).attr("id");a.setAttribute("aria-labelledby",r)}!function(){n.$dialog.find(".inputContainer .inlineItem").each((function(e,t){var n=t.querySelector("div").getAttribute("id"),i=t.querySelector("input").getAttribute("id"),a=t.querySelector("span").getAttribute("id");t.querySelector("input").setAttribute("aria-labelledby","".concat(n," ").concat(i," ").concat(a))}));var e=n.$dialog.find(".bg-wrap .fv__ui-dropdown-editor"),t=n.$dialog.find(".bg-wrap .fv__ui-dropdown-caret"),i=e.parent().parent().prev();e.attr("aria-labelledby",i.attr("id")),t.attr("aria-labelledby",i.attr("id")),e[0].parentElement.hasAttribute("disabled")?e.attr("disabled",!0):e.removeAttr("disabled")}()},lockedHandler:function(e){if(e(),n.dialog.element){if(n.$locked.prop("checked")){var t=n.$dialog.find(".fv__ui-form-tab-body");t.find("input,select,textarea,button").not((function(e,t){return t.hasAttribute("data-forbid")})).attr("disabled",!0),t.find(".fv__action_list").addClass("disabled"),t.find('.fv__ui-dialog-button[tabindex="0"],.fv__action_list div[tabindex="0"],.color-picker div[tabindex="0"],.fv__action_add[tabindex="0"],select,input[type="radio"],input[type="checkbox"]').attr("tabindex",-1),t.find(".fv__ui-dialog-button").addClass("disabled"),d(),f(),h()}else{var i=n.$dialog.find(".fv__ui-form-tab-body");i.find("input,select,textarea,button").not((function(e,t){return t.hasAttribute("data-forbid")})).removeAttr("disabled"),i.find(".fv__action_list").removeClass("disabled"),i.find('.fv__ui-dialog-button[tabindex="-1"],.fv__action_list div[tabindex="-1"],.color-picker div[tabindex="-1"],.fv__action_add[tabindex="-1"],select,input[type="radio"],input[type="checkbox"]').attr("tabindex",0),function(){var e=n.$dialog.find(".fv__ui-form-tab-body");if(n.annot&&n.annot.getField){var t=n.annot.getField(),i=e.find("[name=textSize]"),a=e.find("[name=directionRTL]"),r=e.find("[name=fontName]");!t||t.getType()!==_n.Sign&&t.getType()!==_n.CheckBox&&t.getType()!==_n.RadioButton?(i.find("input,button").removeAttr("disabled").removeClass("disabled"),a.removeAttr("disabled").removeClass("disabled"),r.removeAttr("disabled").removeClass("disabled")):(i.find("input,button").attr("disabled",!0).addClass("disabled"),a.attr("disabled",!0).addClass("disabled"),r.attr("disabled",!0).addClass("disabled"))}}(),d(),f(),h(),u("calculateRadio"),function(){var e,t;if(n.annot&&n.annot.getField){if(!(e=n.annot.getField()))return;var i=e.getAction(En.format);i&&"TypeJavaScript"==i.info.type&&(t=i.info.javascript);var a=t?tn.GetFormatStringType(t):0,r=n.$dialog.find('[name="validateRadio"]');1==a||2==a?r.filter("[value=1]").removeAttr("disabled"):r.filter("[value=1]").attr("disabled","disabled"),u("validateRadio")}}()}UIExtension.vendors.jQuery;var a=n.annot;if(!a||a.isEmpty()||!a.getField())return}},destroy:function(e){!function(){if(n.isDestroyed)return;n.$tabNav.off("keydown"),n.$tabNav.off("focus"),n.$dialog.find("[role='button']").off("keydown"),n.$dialog.find(".fv__ui-dialog-button[name=advanced]").off("click",o),n.$dialog.find(".fv__ui-dialog-button[name=clearIcon]").off("click",s),n.$dialog.find("select[name=layout]").off("change",a),n.$dialog.find("#chooseIconFile").off("change",c);var e=n.$dialog.find(".fv__advanced-dialog");e.find(".fv__icon-layer-close,.confirm-button,.cancel-button").off("click",l),e.off("keyup",r),n.$dialog.find("[name=validateRadio]").off("change",(function(e){return u("validateRadio")})),n.$dialog.find("[name=calculateRadio]").off("change",(function(e){return u("calculateRadio")})),n.$dialog.find("[name=selectAction]").off("change",f),n.$dialog.find("[name=signAction]").off("change",h)}(),e()}})}function a(e){var t=e.target.value,i=n.$dialog.find(".fv__ui-dialog-button[name=advanced]"),a=n.$dialog.find(".fv__ui-dialog-button[name=chooseIcon]");"e_MKRelationNoIcon"===t?(i.attr("tabindex",-1),a.attr("tabindex",-1)):"e_MKRelationNoIcon"!==t&&(i.attr("tabindex",0),a.attr("tabindex",0))}function r(e){e=e.originalEvent||e,wn(e).switchers(!1).when(xn.Escape,(function(){e.stopPropagation(),n.$dialog.find(".fv__advanced-dialog .cancel-button").trigger("click"),l()}))}function o(e){setTimeout((function(){n.$dialog.find(".fv__advanced-dialog").focus()}))}function l(e){n.$dialog.find(".fv__ui-dialog-button[name='advanced']").focus()}function c(e){n.$dialog.find(".fv__ui-dialog-button[name=clearIcon]").attr("tabindex",0)}function s(e){e.target.setAttribute("tabindex","-1")}function u(e){n.$dialog.find('[name="'.concat(e,'"]')).each((function(t,i){var a=i.parentElement;if("calculateRadio"===e){var r=a.querySelector("select");r&&i.checked?(r.removeAttribute("disabled"),r.classList.remove("disabled")):r&&!i.checked&&(r.setAttribute("disabled","disabled"),r.classList.add("disabled"))}if(0!=t){var o=a.nextElementSibling;if(o){var l=o.querySelectorAll('input:not([type="radio"]),textarea'),c=o.querySelectorAll("div.fv__ui-dialog-button");l.length>0&&M(l).forEach((function(t){i.checked?"validateRadio"===e&&"textScript"===t.getAttribute("name")||t.removeAttribute("disabled"):t.setAttribute("disabled",!0)})),c.length>0&&M(c).forEach((function(t){i.checked?(t.setAttribute("tabindex",0),t.classList.contains("disabled")&&t.classList.remove("disabled")):(t.setAttribute("tabindex",-1),t.classList.contains("disabled")||(t.classList.add("disabled"),n.$dialog.find('[name="'.concat(e,'"]:checked')).focus()))}))}}}))}function d(){var e=n.$dialog.find(".fv__ui-form-tab-body"),t=e.find(".fv__action_list");if(t.hasClass("disabled"))t.find("[tabindex]").attr("tabindex","-1"),e.find(".fv__ui-dialog-ok-button:not(.disabled)").attr("tabindex","-1");else{var i=t.find(".active");0===i.length?t.find("[role=treeitem]").attr("tabindex","0"):i.parent().attr("tabindex","0"),e.find(".fv__ui-dialog-ok-button:not(.disabled)").attr("tabindex","0")}}function f(){n.$dialog.find('[name="selectAction"]').each((function(e,t){var i=n.$dialog.find("#keyStrokeJS"),a=n.$dialog.find(".btn-edit");"1"===t.getAttribute("data-id")&&(t.checked?(i.removeAttr("disabled"),a.attr("tabindex","0"),a.removeClass("disabled")):(i.attr("disabled",!0),a.addClass("disabled"),a.attr("tabindex","-1")))}))}function h(){n.$dialog.find('[name="signAction"]').each((function(e,t){if("fieldsFlag"===t.id){var i=n.$dialog.find(".fv_sign-fields-category"),a=n.$dialog.find(".fv_-fields-list"),r=n.$dialog.find("#pickField");t.checked?(i.removeAttr("disabled"),a.removeAttr("disabled"),r.hasClass("interactive")?(r.removeAttr("disabled"),r.attr("tabindex","0")):(r.attr("disabled",!0),r.attr("tabindex","-1"))):(i.attr("disabled",!0),a.attr("disabled",!0),r.attr("disabled",!0),r.attr("tabindex","-1"))}else if("customScript"===t.id){var o=n.$dialog.find("#editScript"),l=n.$dialog.find(".fv_sign-script-input");t.checked?(o.attr("tabindex","0"),l.removeAttr("disabled")):(o.attr("tabindex","-1"),l.attr("disabled",!0))}}))}function v(e){e=e.originalEvent||e,wn(e).switchers(!1).when(kn,(function(){!function(){var e=-1,t=n.$tabNav.filter(":visible"),i=t.index(n.$tabNav.filter(".active"));n.$tabNav.removeClass("active"),n.$tabNav.attr("aria-selected","false"),n.$tabNav.attr("tabindex","-1"),e=t.length===i+1?0:i+1;t[e].classList.add("active"),t[e].setAttribute("aria-selected","true"),t[e].setAttribute("tabindex","0"),t[e].focus(),p(t[e])}(),e.preventDefault(),e.stopPropagation()})).when(An,(function(){!function(){var e=-1,t=n.$tabNav.filter(":visible"),i=t.index(n.$tabNav.filter(".active"));n.$tabNav.removeClass("active"),n.$tabNav.attr("aria-selected","false"),n.$tabNav.attr("tabindex","-1"),e=0===i?t.length-1:i-1;t[e].classList.add("active"),t[e].setAttribute("aria-selected","true"),t[e].setAttribute("tabindex","0"),t[e].focus(),p(t[e])}(),e.preventDefault(),e.stopPropagation()})).when(Sn,(function(){var t;t=n.$tabNav.filter(":visible"),n.$tabNav.removeClass("active"),n.$tabNav.attr("aria-selected","false"),n.$tabNav.attr("tabindex","-1"),t[0].classList.add("active"),t[0].setAttribute("aria-selected","true"),t[0].setAttribute("tabindex","0"),t[0].focus(),p(t[0]),e.preventDefault(),e.stopPropagation()})).when(Cn,(function(){!function(){var e=n.$tabNav.filter(":visible"),t=e.length-1;n.$tabNav.removeClass("active"),n.$tabNav.attr("aria-selected","false"),n.$tabNav.attr("tabindex","-1"),e[t].classList.add("active"),e[t].setAttribute("aria-selected","true"),e[t].setAttribute("tabindex","0"),e[t].focus(),p(e[t])}(),e.preventDefault(),e.stopPropagation()})).when(Dn,(function(e){e.target.classList.contains("disabled")||e.target.addEventListener("keyup",m)}))}function m(e){e=e.originalEvent||e,wn(e).when(Dn,(function(){e.target.click(),e.stopPropagation(),e.target.removeEventListener("keyup",m)}))}function p(e){var t=n.$tabNav.index(e),i=n.$dialog.find(".fv__ui-form-tab-body > div:not(.lock-mask)");i.hide(),i.eq(t).show(),n.tabs.forEach((function(e){return e.active&&e.annot&&e.annot.getField()&&e.active()}));var a=n.PDFUI.colorSpectrum;a&&a.isActive&&a.hide()}return se(this,(function(a){switch(a.label){case 0:return[4,t.getMountedComponentByName("form-properties-dialog")];case 1:return a.sent(),(n=e.formDesignDialog)?(i(),function(e){if(e){var t=e.$dialog.find(".fv__comboListOptions_tab");r();var n=t.find("[name=itemLabel]");n.on("keyup",(function(e){r()}));var i=t.find("[name=items]");i.on("keydown",(function(e){var t,n=e.target,i=n.children[n.selectedIndex];nn(e).when(rn,(function(){t=i&&i.previousSibling})).when(on,(function(){t=i&&i.nextSibling})),t&&(t.click(),r()),e.stopPropagation()}));var a=t.find(".fv__ui-dialog-button");a.on("click",r),e.dialog.addDestroyHook((function(){n.off("keyup"),a.off("click"),i.off("keyup")}))}function r(){setTimeout((function(){a.each((function(e,t){N(t,"tabindex",t.classList.contains("disabled")?-1:0)}))}),10)}}(n),pn(n),[2]):[2]}}))})),qn.apply(this,arguments)}function Ln(e){var t=document.activeElement,n=y(e.originalEvent).filter((function(e){return e.classList&&e.classList.contains("fv__action_tab")}))[0];if("DIV"===t.tagName)n.querySelectorAll(".fv__action-delete,.fv__action-edit").forEach((function(e){N(e,"tabindex",0)}));else if("LI"===t.tagName){var i=n.querySelector(".fv__action-edit"),a=n.querySelector(".fv__action-delete");N(i,"tabindex","-1"),N(a,"tabindex","0")}}function $n(e){e();var t=this.$element.find(".fv__action_list"),n=this.$element.find(".fv_action-info-toggler");t.find("[tabindex]").off("keydown",Pn),n.off("click",Hn),t.find("[tabindex]").off("click",Rn)}function Pn(e){var t=function(e){var t=null,n={};if(void 0!==e.key)t="key",n={Enter:"Enter"," ":" ",End:"End",Home:"Home",ArrowLeft:"ArrowLeft",ArrowRight:"ArrowRight",ArrowDown:"ArrowDown",ArrowUp:"ArrowUp","*":"*"};else{if(void 0===e.keyCode)return"";t="keyCode",n={13:"Enter",32:" ",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",56:"*"}}return n[e[t]]}(e);if("Enter"===t)this.querySelector(":nth-child(2)").click(),this.focus();else if(" "===t)this.querySelector(":nth-child(2)").click(),this.focus();else if("End"===t){this.setAttribute("tabindex","-1"),Fn(Tn(e,this))}else if("Home"===t){this.setAttribute("tabindex","-1"),Fn(Tn(e,this,0))}else if("ArrowLeft"===t)if("div"===this.tagName.toLowerCase())In(this),e.stopPropagation();else{if("li"!==this.tagName.toLowerCase())return;if(this.querySelector(".fv_action-info-toggler").classList.contains("fv__minusonly_pc"))In(this),e.stopPropagation();else{var n=function(t){var i=Tn(e,t,-1);return"div"===i.tagName.toLowerCase()?i:n(i)};Fn(n(this))}}else if("ArrowRight"===t)if("div"===this.tagName.toLowerCase())if(this.querySelector(".fv_action-info-toggler").classList.contains("fv__plugonly_pc"))Nn(this),e.stopPropagation();else{var i=Tn(e,this,1);i&&Fn(i)}else{if("li"!==this.tagName.toLowerCase())return;Nn(this),e.stopPropagation()}else if("ArrowDown"===t){this.setAttribute("tabindex","-1");var a=Tn(e,this,1);a&&Fn(a)}else if("ArrowUp"===t){this.setAttribute("tabindex","-1");var r=Tn(e,this,-1);r&&Fn(r)}else{if("*"!==t)return;M(this.parentElement.children).forEach((function(e){e.querySelector(".fv_action-info-toggler").classList.replace("fv__plugonly_pc","fv__minusonly_pc")}))}e.stopPropagation(),e.preventDefault()}function Tn(e,t,n){var i=y(e.originalEvent).filter((function(e){return e.classList&&e.classList.contains("fv__action_tab")}))[0];if(i){var a=i.querySelectorAll("[role='treeitem']"),r=(a=M(a).filter((function(e){var t=e.getBoundingClientRect(),n=t.width,i=t.height;return 0!==n||0!==i}))).indexOf(t),o=a.length;return 0===n?a[0]:"number"==typeof n?a[(r+n+o)%o]:a[o-1]}}function Nn(e){e.querySelector(".fv_action-info-toggler").classList.replace("fv__plugonly_pc","fv__minusonly_pc"),e.setAttribute("aria-expanded","true")}function In(e){e.querySelector(".fv_action-info-toggler").classList.replace("fv__minusonly_pc","fv__plugonly_pc"),e.setAttribute("aria-expanded","false")}function Fn(e){e.setAttribute("tabindex","0"),setTimeout((function(){e.focus()}))}function Hn(e){var t=y(e).filter((function(e){return!!(e.classList&&e.classList.length>0)&&e.classList.contains("fv_action-info-toggler")}));t&&0!==t.length&&(t[0].classList.contains("fv__minusonly_pc")?t[0].parentElement.setAttribute("aria-expanded","false"):t[0].classList.contains("fv__plugonly_pc")&&t[0].parentElement.setAttribute("aria-expanded","true"),Fn(t[0].parentElement))}function Rn(e){var t=y(e.originalEvent).filter((function(e){return e.classList&&e.classList.contains("fv__action_list")}))[0];t&&M(t.querySelectorAll("[role='treeitem'],[tabindex='0']")).filter((function(e){return e!==document.activeElement})).forEach((function(e){N(e,"tabindex","-1")}))}var On=w.match,Mn=w.matchers.Enter,Un="openSignAPDialog";var Bn=w.match,Vn=w.matchers,zn=Vn.ArrowUp,jn=Vn.ArrowDown;var Gn=w.isMatch,Kn=w.match,Wn=w.matchers,Xn=Wn.ArrowUp,Qn=Wn.ArrowDown,Jn=Wn.ArrowLeft,Zn=Wn.ArrowRight,Yn=Wn.Home,ei=Wn.End,ti=Wn.or,ni=Wn.Enter;function ii(){return ii=ce((function(e,t){var n,i,a,r,o,l,c,s,u,d,f,h,v,m,p,b,g,y,_,E,w,x;return se(this,(function(e){switch(e.label){case 0:return[4,t.getMountedComponentByName("create-signature")];case 1:return n=e.sent(),i=n.element.querySelector(".fv__ui-layer-header-title"),a=n.getComponentByName("sign-dialog-tab-panel").element,r=a.querySelector(".fv__ui-sign-dialog-tabs"),o=a.querySelectorAll(".fv__ui-sign-dialog-tab"),l=a.querySelectorAll(".fv__ui-sign-dialog-panel"),c=a.querySelector(".preview-file-error-message"),T(r,{role:"tablist","aria-label":i.innerText}),s=function(e){e.target.textContext?T(e.target,{role:"alert"}):I(e.target,"role")},window.MutationObserver?((u=new MutationObserver((function(e){e.forEach((function(e){e&&e.addedNodes&&e.addedNodes.length>0&&e.addedNodes[0]?T(e.target,{role:"alert"}):I(e.target,"role")}))}))).observe(c,{childList:!0}),n.addDestroyHook((function(){u.disconnect()}))):(d="DOMSubtreeModified",c.addEventListener(d,s),this.addDestroyHook((function(){element.removeEventListener(d,s)}))),f=function(e){o.forEach((function(e){var t=e.classList.contains("active");T(e,{"aria-selected":t,tabindex:t?"0":"-1"})}))},h=function(e){var t,n,i=e.target;Kn(e).when(ti(Xn,Jn),(function(){t=i.previousSibling?i.previousSibling:o[o.length-1]})).when(ti(Qn,Zn),(function(){t=i.nextSibling?i.nextSibling:o[0]})).when(Yn,(function(){t=o[0]})).when(ei,(function(){t=o[o.length-1]})),t&&(n=t,o.forEach((function(e,t){var i=e.id==n.id;e.classList[i?"add":"remove"]("active"),T(e,{"aria-selected":i,tabindex:i?"0":"-1"}),l[t].style.display=i?"block":"none"})),t.focus(),e.preventDefault(),e.stopPropagation())},o.forEach((function(e,t){T(e,{role:"tab",tabindex:e.classList.contains("active")?"0":"-1","aria-selected":"false","aria-labelledby":o[t].id,"aria-controls":l[t].id}),e.addEventListener("keydown",h),e.addEventListener("click",f),n.addDestroyHook((function(){e.removeEventListener("keydown",h),e.addEventListener("click",f)}))})),l.forEach((function(e,t){T(e,{role:"tabpanel","aria-labelledby":o[t].id})})),v=a.querySelector(".fv__ui-sign-dialog-color"),m=v.querySelectorAll("span"),p=a.querySelector(".fv__ui-sign-dialog-size"),b=p.querySelectorAll("span"),g=a.querySelector(".fv__ui-sign-dialog-eraser .fv__icon-toolbar-clear"),y=a.querySelector(".image-title .fv__icon-toolbar-clear"),_=a.querySelector(".fv__ui-sign-dialog-canvas"),E=t.localizer,n.attachEventToElement(g,"keydown",(function(e){Gn(e,ni)&&(g.click(),e.preventDefault(),e.stopPropagation())})),n.attachEventToElement(y,"keydown",(function(e){Gn(e,ni)&&(y.click(),e.preventDefault(),e.stopPropagation())})),n.addDestroyHook(E.watch("",{},"",(function(){T(v,{role:"radiogroup","aria-label":E.translateSync("aria:labels.createInkSign.strokeColor")}),T(p,{role:"radiogroup","aria-label":E.translateSync("aria:labels.createInkSign.brushSize")}),T(g,{role:"button",tabindex:"0","aria-label":E.translateSync("aria:labels.createInkSign.eraser")}),T(y,{role:"button",tabindex:"0","aria-label":E.translateSync("aria:labels.createInkSign.clear")}),T(_,{"aria-label":E.translateSync("aria:labels.createInkSign.preview"),tabindex:"0"}),b.forEach((function(e){T(e,{"aria-label":E.translateSync("aria:labels.createInkSign.unit",{unit:e.getAttribute("data-size")})})}))}))),w=function(e){var t=e.target;t.classList.contains("color-wrapper")||(t=t.parentNode),t.parentElement.querySelectorAll("span").forEach((function(e){var n=e.id==t.id;T(e,{"aria-checked":n,tabindex:n?"0":"-1"})}))},x=function(e){e.parentElement.querySelectorAll("span").forEach((function(t,n){var i=t.id==e.id;t.classList[i?"add":"remove"]("circle-active"),i&&t.click()}))},m.forEach((function(e,t){var i=0==t;T(e,{role:"radio","aria-checked":i?"true":"false",tabindex:i?"0":"-1","aria-label":e.getAttribute("data-color")}),e.addEventListener("keydown",(function(e){return ai(e,x)})),e.addEventListener("click",w),n.addDestroyHook((function(){e.removeEventListener("keydown",(function(e){return ai(e,x)})),e.removeEventListener("click",w)}))})),b.forEach((function(e,t){var i=0==t;T(e,{role:"radio","aria-checked":i?"true":"false",tabindex:i?"0":"-1"}),e.addEventListener("keydown",(function(e){return ai(e,x)})),e.addEventListener("click",w),n.addDestroyHook((function(){e.removeEventListener("keydown",(function(e){return ai(e,x)})),e.removeEventListener("click",w)}))})),n.element.querySelectorAll(".online-checkbox-input").forEach((function(e){var t=e.parentElement;T(t,{role:"checkbox",tabindex:0,"aria-checked":e.checked}),t.addEventListener("click",(function(){N(t,"aria-checked",e.checked)})),t.addEventListener("keydown",(function(e){Kn(e).when(ni,(function(){e.target.click(),e.preventDefault(),e.stopPropagation()}))}))})),[2]}}))})),ii.apply(this,arguments)}function ai(e,t){var n,i=e.target,a=i.parentElement.querySelectorAll("span");Kn(e).when(ti(Xn,Jn),(function(){n=i.previousSibling?i.previousSibling:a[a.length-1]})).when(ti(Qn,Zn),(function(){n=i.nextSibling?i.nextSibling:a[0]})).when(Yn,(function(){n=a[0]})).when(ei,(function(){n=a[a.length-1]})),n&&(t(n),n.focus(),e.preventDefault(),e.stopPropagation())}var ri=function(e){l(a,e);var n=d(a);function a(){return t(this,a),n.apply(this,arguments)}return i(a,[{key:"componentMounted",value:function(){var e=this;this.component.once("enable",(function(){e.component.element.focus()}))}}],[{key:"getName",value:function(){return"auto-focus"}}]),a}(f.Directive),oi=w.isMatch,li=w.match,ci=w.matchers,si=ci.ArrowUp,ui=ci.ArrowDown,di=ci.Home,fi=ci.End,hi=ci.Enter,vi=null;function mi(e){var t,n=e.target,i=n.querySelector(".active");li(e).when(si,(function(){t=i.previousSibling?i.previousSibling:n.lastElementChild})).when(ui,(function(){t=i.nextSibling?i.nextSibling:n.firstElementChild})).when(di,(function(){t=n.firstElementChild})).when(fi,(function(){t=n.lastElementChild})),t&&(t.focus(),t.click(),bi(),pi(),e.stopPropagation(),e.preventDefault())}function pi(){var e=vi.$element[0].querySelectorAll(".fv__ui-dialog-button"),t=vi.$element[0].querySelector("#upButton"),n=vi.$element[0].querySelector("#downButton");document.activeElement===t&&t.classList.contains("disabled")&&!n.classList.contains("disabled")?n.focus():document.activeElement===n&&n.classList.contains("disabled")&&!t.classList.contains("disabled")&&t.focus(),e.forEach((function(e){N(e,"tabindex",e.classList.contains("disabled")?-1:0)}))}function bi(){return gi.apply(this,arguments)}function gi(){return(gi=ce((function(){var e;return se(this,(function(t){switch(t.label){case 0:return[4,Promise.resolve()];case 1:return t.sent(),T((e=vi.$element.find(".fv__fields-list"))[0],{"aria-activedescendant":e.find(".active").attr("id")}),vi.$element.find(".fv_CO-item").each((function(t,n){T(n,{"aria-selected":n.id==e.find(".active").attr("id")})})),[2]}}))}))).apply(this,arguments)}var yi=w.match,_i=w.matchers.Space;function Ei(){return Ei=ce((function(e,t){var n,i,a;return se(this,(function(e){switch(e.label){case 0:return[4,t.waitForComponentLifecycle("multi-media-popup","mounted")];case 1:return n=ge.apply(void 0,[e.sent(),1]),(i=n[0])?(a=i.element,B(i.constructor,{hideRecordError:function(e){e(),F(a.querySelector(".fv__record-error"),"role","aria-live")},showRecordError:function(e){e(),T(a.querySelector(".fv__record-error"),{role:"alert","aria-live":"assertive"})}}),wi(a),i.on("localize",(function(){wi(a)})),[2]):[2]}}))})),Ei.apply(this,arguments)}function wi(e){return xi.apply(this,arguments)}function xi(){return(xi=ce((function(e){var t,n,i,a,r,o;return se(this,(function(l){return N(e.querySelector(".fv__multi-file-div"),"role","radiogroup"),t=e.querySelector(".fv__record-record"),n=e.querySelectorAll(".fv__multi-file-label")[0],T(t,{tabindex:-1,"aria-label":n.innerText}),e.querySelectorAll("[type=radio]").forEach((function(e){N(e,"aria-label",e.nextElementSibling.innerText),e.addEventListener("change",(function(e){N(t,"tabindex",1==e.target.value?-1:0)}))})),i=e.querySelector(".fv__poster-file"),a=e.querySelector(".fv__poster-file-label"),r=G("poster-file"),o=G("poster-file-input"),N(a,"id",r),T(i,{id:o,"aria-labelledby":"".concat(r," ").concat(o)}),[2]}))}))).apply(this,arguments)}var ki=w.match,Ai=w.matchers;var Si=f.PDFViewCtrl.ViewerEvents;var Ci=w.match,Di=w.matchers,qi=Di.ArrowUp,Li=Di.ArrowDown,$i=Di.ArrowLeft,Pi=Di.ArrowRight,Ti=Di.Home,Ni=Di.End,Ii=Di.or;function Fi(){return Fi=ce((function(e,t){var n,i;return se(this,(function(e){switch(e.label){case 0:return[4,t.getMountedComponentByName("stamp-drop-down-ui")];case 1:return(n=e.sent())?((i=n.listElement).addEventListener("keyup",(function(e){var t,n=Array.from(i.querySelectorAll("[tabindex]")),a=n.findIndex((function(t){return t.id==e.target.id}));a<0||(Ci(e).when(Ii(qi,$i),(function(){t=0==a?n[n.length-1]:n[--a]})).when(Ii(Li,Pi),(function(){t=a==n.length-1?n[0]:n[++a]})).when(Ti,(function(){t=n[0]})).when(Ni,(function(){t=n[n.length-1]})),t&&t.focus())})),[2]):[2]}}))})),Fi.apply(this,arguments)}var Hi=f.components.Component,Ri="a,button,input,textarea,select,details,[contenteditable],[tabindex]".split(",").map((function(e){return e+':not([tabindex^="-"]):not([disabled]):not(.fv__ui-aria-focus-secondary-node)'})).join(","),Oi={autoFocusFirst:!0},Mi=function(n){l(r,n);var a=d(r);function r(){return t(this,r),a.apply(this,arguments)}return i(r,[{key:"componentMounted",value:function(){var t,n,i=this.component,a=i.element,r=!0,o=Ui(),l=Ui(),c=Oi;if(this.attrValue&&(c=this.controller.eval(this.attrValue)||Oi),c.selector){var s=i.querySelector(c.selector)||i;if(e(s,Hi))a=s.element;else{if(!e(s,HTMLElement))throw new Error("Incorrect selector: ".concat(c.selector));a=s}}var u=function(e){var i=function(e){var t=Array.from(e.querySelectorAll(Ri)),n=t.find((function(e){return e.getClientRects().length>0})),i=t.findLast((function(e){return e.getClientRects().length>0}));return{first:n,last:i}}(a),r=i.first,o=i.last;t=r,n=o,f()},d=function(){t||u(),!1!==c.autoFocusFirst&&a===document.activeElement&&Promise.resolve().then((function(){t&&t.focus()}))},f=function(){a.firstElementChild!==o&&(o.parentNode!==a&&o.remove(),a.childElementCount>0?a.firstElementChild.before(o):a.appendChild(o)),a.lastElementChild!==l&&(l.parentNode!==a&&l.remove(),a.appendChild(l))},h=A(u);if(window.MutationObserver){var v=new MutationObserver(h);v.observe(a,{subtree:!0,attributeFilter:["tabindex","contenteditable","style","class"],attributes:!0}),this.addDestroyHook((function(){v.disconnect()}))}else{var m="DOMSubtreeModified";a.addEventListener(m,h),this.addDestroyHook((function(){a.removeEventListener(m,h)}))}o.onfocus=function(e){e.relatedTarget&&a.contains(e.relatedTarget)&&!r?n&&n.focus():(r=!1,t&&t.focus())},l.onfocus=function(){t&&t.focus()},a.onfocus=function(){r=!0},i.isVisible&&d(),this.addDestroyHook(i.on("shown",d),i.on("hidden",(function(){o.remove(),l.remove()})))}}],[{key:"getName",value:function(){return"circular-focus"}}]),r}(f.Directive);function Ui(){var e=document.createElement("div");return T(e,{tabindex:0,"aria-hidden":!0,class:"fv__ui-aria-focus-secondary-node"}),e}function Bi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){Bi(e,t,n[t])}))}return e}var zi=w.isMatch,ji=w.matchers;function Gi(e){if(!e.isDestroyed){e.unwatchAriaI18n&&e.unwatchAriaI18n();var t=e.childAt(0),n=e.disabled,i=e.notDropdown,a=e.element,r=e.eRibbonIcon,o=e.eRibbonText,l=e.selectedItem;F(a,"tabindex","aria-label","aria-disabled"),F(r,"tabindex","role","aria-label","aria-disabled"),F(o,"tabindex","role","aria-label","aria-haspopup","aria-disabled");var c=e.localizer.translateSync(e.text||e.tooltipTitle);if(i||!t)T(a,Vi({"aria-label":c},!0===n?{tabindex:-1,"aria-disabled":!0}:{tabindex:0}));else if(t.separate){if(N(a,"tabindex",-1),l){var s=l.getText()||e.text;T(r,Vi({role:"button","aria-label":e.localizer.translateSync(s)},!0===n?{tabindex:-1,"aria-disabled":!0}:{tabindex:0}))}T(o,Vi({role:"button","aria-label":c,"aria-haspopup":"true"},!0===n?{tabindex:-1,"aria-disabled":!0}:{tabindex:0}))}else T(a,Vi({"aria-label":c},!0===n?{tabindex:-1,"aria-disabled":!0}:{tabindex:0})),T(r,{"aria-hidden":!0}),T(o,{role:"presentation"})}}var Ki=w.match,Wi=w.matchers,Xi=Wi.Enter,Qi=Wi.ArrowLeft,Ji=Wi.ArrowRight,Zi=Wi.Home,Yi=Wi.End;function ea(e,t){var n=e.querySelector(".tabPanel").children,i=M(n).filter((function(e){return"none"!==e.style.display})),a=e.querySelector(".tabPanel > .active"),r=i.findIndex((function(e){return e.id===a.id})),o=i[r=0===t?0:"number"==typeof t?(r+t+i.length)%i.length:i.length-1],l=M(n).findIndex((function(e){return o.id===e.id})),c=M(n).findIndex((function(e){return a.id===e.id}));T(a,{tabindex:"-1","aria-selected":!1}),a.classList.remove("active"),T(o,{tabindex:"0","aria-selected":!0}),o.classList.add("active"),e.querySelector(".annot-properties-dialog-body > div:nth-child(".concat(c+1,")")).style.display="none",e.querySelector(".annot-properties-dialog-body > div:nth-child(".concat(l+1,")")).style.display="block",setTimeout((function(){o.focus()}))}function ta(e){Ki(e).when(Xi,(function(){e.target.click(),e.stopPropagation(),e.target.removeEventListener("keyup",ta)}))}var na=UIExtension.vendors.jQuery,ia=w.match,aa=w.matchers,ra=aa.ArrowRight,oa=aa.ArrowLeft,la=aa.Home,ca=aa.End,sa=aa.Enter;function ua(){return ua=ce((function(e,t){var n;function i(){n.once(k.SHOWN,(function(){T(n.$cancel[0],{role:"button",tabindex:0,"aria-label":n.$cancel.text()}),N(n.$nav[0],"role","tabList"),n.$nav.find("a").each((function(e,t){T(t,{role:"tab",tabindex:-1,"aria-selected":t.classList.contains("active"),id:G("nav-item")})})),n.$nav.on("keydown",a),n.$cancel.on("keydown",r),document.addEventListener("keydown",(function(e){e=e.originalEvent||e,y(e).some((function(e){return e===n.element}))&&ia(e).when(aa.Escape,(function(){e.stopPropagation(),y(e).some((function(e){return e===document.activeElement}))&&n.$cancel.click()}))}))})),B(n.constructor,{activeNavItem:function(e){e(),n.$nav.find("a").each((function(e,t){var n=t.classList.contains("active");T(t,{tabindex:n?0:-1,"aria-selected":n})}))},showTab:function(t){t(),function(){var t=[e.i18n.t("file-property:description.desc")],i=n.navData[t[0]];if(!i)return;var a=i.tab.element.querySelector(".file-property-custom");T(a,{role:"button",tabindex:0,"aria-label":a.innerText}),a.addEventListener("keydown",r),a.addEventListener("click",o)}()}})}function a(e){var t,i=(e=e.originalEvent||e).target.parentElement,a=i.querySelector(".active");ia(e).switchers(!1).when(oa,(function(){t=a.previousSibling?a.previousSibling:i.lastElementChild})).when(ra,(function(){t=a.nextSibling?a.nextSibling:i.firstElementChild})).when(la,(function(){t=i.firstElementChild})).when(ca,(function(){t=i.lastElementChild})),t&&(!function(e){n.$nav.find("a").each((function(t,n){var i=n.id==e.id;T(n,{tabindex:i?0:-1,"aria-selected":i})}))}(t),t.focus(),t.click()),e.stopPropagation()}function r(e){e=e.originalEvent||e,ia(e).switchers(!1).when(sa,(function(){var t=document.createEvent("MouseEvents"),n=e.target.getBoundingClientRect(),i=n.x,a=n.y;t.initMouseEvent("click",!0,!0,window,0,0,0,i,a,!1,!1,!1,!1,0,null),e.target.dispatchEvent(t)}))}function o(){n.updateNavData();var t=[e.i18n.t("file-property:description.desc")],i=n.navData[t[0]];if(i){var a=i.customDialog,o=a.$add,l=a.$delete,c=a.$name,s=a.$value,u=a.$table,d=a.$dialog,f=na(".fv__ui-layer-header",a[0]);T(u[0],{role:"group","aria-labelledby":f.attr("id")}),d.find("input").on("input",(function(e){e.preventDefault(),e.stopPropagation();var t=c.val().trim(),n=s.val().trim();t.length>0&&n.length>0?o.attr({disabled:!1,tabindex:0}):o.attr({disabled:!0,tabindex:-1})})),d.find("input").on("change",(function(e){e.preventDefault(),e.stopPropagation();var t=c.val().trim(),n=s.val().trim();t.length>0&&n.length>0&&o.focus()})),Array.from([o,l]).forEach((function(e){T(e[0],{role:"button",tabindex:-1,"aria-label":e.text()}),e.on("keydown",r),e.on("click",(function(e){0===Array.from([o,l]).map((function(e){return N(e[0],"tabindex",-1),e})).filter((function(e){return!e.attr("disabled")})).length&&c.focus(),h(u)}))})),Array.from([c,s]).forEach((function(e){e.on("keyup",(function(e){N(o[0],"tabindex",o.attr("disabled")?-1:0)}))})),c.on("keyup",(function(e){N(o[0],"aria-label",o.text())})),h(u)}function h(e){var t=e.find("tbody tr");Array.from(t).forEach((function(e,n){var i=e.classList.contains("active");T(e,{"aria-posinset":n,tabindex:"0",role:"listitem","aria-selected":i}),e.addEventListener("click",(function(e){var n=t.find(".active")[0];n&&N(n,"aria-selected","false"),N(e.target,"aria-selected","true"),N(l[0],"tabindex",0)})),e.addEventListener("keydown",r)}))}}return se(this,(function(e){switch(e.label){case 0:return[4,t.getMountedComponentByName("file-property-popup")];case 1:return(n=e.sent())?(i(),[2]):[2]}}))})),ua.apply(this,arguments)}var da=w.match,fa=w.matchers;function ha(e,t){var n,i=e.$html.find(".tree-item-main"),a=i.filter(".fv__active"),r=i.index(a),o=(n=1===t||-1===t?i.eq((r+t+i.length)%i.length):0===t?i.first():i.last()).attr("data-id");e.$html.children("ul.tree-list").attr({"aria-activedescendant":o}),e.activeItem(o),function(e){var t=e.closest(".fv__ui-sidebar-panel-body"),n=t.scrollTop(),i=t.offset().top,a=e.offset().top;t.scrollTop(a-i+n)}(n)}var va=w.match,ma=w.matchers,pa=ma.ArrowUp,ba=ma.ArrowDown;ma.Home,ma.End;function ga(e,t){var n=e.$attachmentTable.find(".tr"),i=n.filter(".tr.selected");0===i.length&&(i=n.first());var a=n.index(i),r=n.eq((a+t+n.length)%n.length);return i.removeClass("selected"),r.addClass("selected"),r}var ya=w.match,_a=w.matchers.Enter;var Ea=w.match,wa=w.matchers,xa=wa.ArrowUp,ka=wa.ArrowDown,Aa=wa.Home,Sa=wa.End,Ca=wa.Enter;wa.Space;function Da(e){Ea(e).when(Ca,(function(){e.target.click(),e.stopPropagation(),e.target.removeEventListener("keyup",Da)}))}function qa(e,t){var n,i=e.originalEvent.target,a=i.querySelector(".active"),r=M(i.children).indexOf(a),o=i.children.length;return n=0===t?i.children[t]:"number"==typeof t?i.children[(r+t+o)%o]:i.children[o-1],I(a,"aria-selected"),N(n,"aria-selected","true"),function(e,t){var n=e.scrollTop,i=t.getBoundingClientRect().bottom,a=e.getBoundingClientRect(),r=a.top,o=a.height,l=n+i-r-o;l<0&&(l=0);e.scrollTo(0,l)}(i,n),n}var La=w.isMatch,$a=w.match,Pa=w.matchers,Ta=Pa.or,Na=Pa.Space,Ia=Pa.Enter,Fa=Pa.ArrowDown,Ha=Pa.ArrowUp,Ra=Pa.Home,Oa=Pa.End;var Ma=w.match,Ua=w.matchers,Ba=(w.isMatch,Ua.or,Ua.Home),Va=Ua.End,za=Ua.ArrowUp,ja=Ua.ArrowDown,Ga=Ua.Enter,Ka=Ua.Space;function Wa(e,t){var n=e.$thumbImageContainer.find(".fv__thumb-page"),i=e.$thumbImageContainer.find(".fv__active"),a=0;n.each((function(e){n.eq(e).attr("id")===i.attr("id")&&(a=e)}));var r=0;r=1===t||-1===t?(a+t+n.length)%n.length:"number"==typeof t?(t+n.length)%n.length:n.length-1;var o,l,c,s,u,d=n.eq(r);return i.removeClass("fv__active"),d.addClass("fv__active"),l=(o=d).closest(".fv__thumb-image-container-box"),c=l.scrollTop(),s=l.offset().top,u=o.offset().top,l.scrollTop(u-s+c),d}var Xa=w.isMatch,Qa=w.match,Ja=w.matchers,Za=Ja.or,Ya=Ja.Home,er=Ja.End,tr=Ja.ArrowLeft,nr=Ja.ArrowRight,ir=Ja.Escape;var ar=w.isMatch,rr=w.matchers,or=w.match,lr=rr.or,cr=rr.Space,sr=rr.Enter,ur=rr.ArrowLeft,dr=rr.ArrowRight,fr=rr.Home,hr=rr.End,vr=rr.ArrowUp,mr=rr.ArrowDown,pr=rr.PageUp,br=rr.PageDown;var gr=w.isMatch,yr=w.matchers,_r=yr.Enter,Er=yr.Space,wr=yr.or;var xr=w.isMatch,kr=w.match,Ar=w.matchers,Sr=Ar.Home,Cr=Ar.End,Dr=Ar.ArrowUp,qr=Ar.ArrowDown,Lr=Ar.or;function $r(){return $r=ce((function(e,t){var n,i,a;return se(this,(function(r){switch(r.label){case 0:return[2];case 1:return n=r.sent(),i=function(){},a=function(){var e,t=n.getPDFDocRender(),a=t.$container,r=new L(100),o=function(n){var i=n.target.closest(".fv__pdf-page-layout");if(i){var a=+i.getAttribute("data-index");isFinite(a)&&r.exec(ce((function(){var i,r,o,l,c,s,u,d;return se(this,(function(f){switch(f.label){case 0:return i=t.getPDFPageRender(a),(r=i.$element.find(".fv__ui-aria-mouseover-page-text")[0])||((r=document.createElement("span")).classList.add("fv__ui-aria-sr-only","fv__ui-aria-mouseover-page-text"),r.id=Date.now().toString(16),i.$element.append(r),i.$element.attr("aria-labelledby",r.id)),r.innerHTML="",[4,i.transformPoint({point:{x:n.clientX,y:n.clientY},srcType:S.viewport,destType:S.pdf})];case 1:return o=f.sent(),e&&function(e,t){return e.x>=t.left&&e.x<=t.right&&e.y>=t.bottom&&e.y<=t.top}(o,e)?[2]:[4,i.getPDFPage()];case 2:return[4,f.sent().getTextLineUnderPoint([o.x,o.y])];case 3:return l=f.sent(),c=l.text,s=l.rect,(u=l.textGraphicsObjects)&&0!==u.length?(e=s,d=document.createTextNode(c),r.appendChild(d),[2]):[2]}}))})))}};a[0].addEventListener("mousemove",o,!0),i=function(){r.cancel(),a[0].removeEventListener("mousemove",o,!0)}},t.addDestroyHook(e.addViewerEventListener(x.switchStateHandler,(function(e){i(),e.getStateName()===$&&a()})),e.addViewerEventListener(x.openFileSuccess,(function(){i(),a()}))),[2]}}))})),$r.apply(this,arguments)}var Pr=w.matchers,Tr=w.isMatch,Nr=f.PDFViewCtrl._internal.shared.Lazy,Ir=Pr.or,Fr=Pr.ArrowDown,Hr=Pr.ArrowUp,Rr=Pr.ArrowLeft,Or=Pr.ArrowRight,Mr=Pr.PageDown,Ur=Pr.PageUp,Br=Pr.Home,Vr=Pr.End;var zr=r(732),jr=(r(399),zr.matchers.ArrowDown),Gr=zr.matchers.ArrowLeft,Kr=zr.matchers.ArrowRight,Wr=zr.matchers.ArrowUp;zr.matchers.Enter,zr.matchers.Home,zr.matchers.End;var Xr=[function(){var e=f.modular.root(),t=f.PDFViewCtrl.keyboard.KeyboardUtils,n=t.matchers,i=n.Enter,a=n.Space,r=n.Home,o=n.End,l=n.ArrowLeft,c=n.ArrowRight,s=n.ArrowUp,u=n.ArrowDown,d=n.Tab,h=n.or,v=t.isMatch,m=e.getComponentClass("portfolio-node"),p=e.getComponentClass("portfolio-node-list"),b=e.getComponentClass("portfolio-node-container");V(m,{services:function(e){var t=e();return t.delegateEventService=f.__ui_lib__.DelegateEventService,t}}),V(p,{services:function(e){var t=e();return t.delegateEventService=f.__ui_lib__.DelegateEventService,t}}),B(m,{doActive:function(e){e(),T(this.element,{"aria-selected":!0}),this.getCurrentDisplayElement().focus({preventScroll:!0})},doDeactive:function(e){e(),T(this.element,{"aria-selected":!1})},getCurrentDisplayElement:function(){return"block"===this.display?this.blockElement:this.detailsElement}}),B(p,{postlink:function(e){var t=this;e();var n=function(e){var n=t.children().map((function(e){return e.element})).indexOf(e);if(-1!==n)return t.childAt(n)};this.addDestroyHook(this.layoutService.onLayoutChange((function(e){"details"===e?(t.element.setAttribute("role","rowgroup"),t.parent.element.setAttribute("role","table")):(t.element.setAttribute("role","list"),t.parent.element.removeAttribute("role"))})),this.delegateEventService.delegate(this.element,"focus",(function(e){var t=e.target.closest(".fv__ui-portfolio-node");t&&(n(t)&&t.classList.add("focused"))})),this.delegateEventService.delegate(this.element,"blur",(function(e){var t=e.target.closest(".fv__ui-portfolio-node");t&&(t.contains(document.activeElemen)||t.classList.remove("focused"))})),this.delegateEventService.delegate(this.element,"pointerdown",(function(e){t.element.classList.remove("tabbed")})),this.delegateEventService.delegate(this.element,"keydown",(function(e){if(v(e,d))t.element.classList.add("tabbed");else{var f=e.target.closest(".fv__ui-portfolio-node");if(f){var m=n(f);if(m){var p=m.index();if(v(e,i)||v(e,a))return t.nodeService.isActiveNode(m)?m.handleNodeAction():(m.doActiveNode(),m.element.scrollIntoViewIfNeeded()),void e.preventDefault();if(v(e,h(r,o,l,c,s,u))){var b=p;if(v(e,r)?b=0:v(e,o)?b=t.childrenCount()-1:v(e,h(l,s))?b=Math.max(0,p-1):v(e,h(c,u))&&(b=Math.min(t.childrenCount()-1,p+1)),b===p)return;e.preventDefault();var g=t.childAt(b);return g.doActiveNode(),void g.element.scrollIntoViewIfNeeded()}}}}})))}}),B(b,{mounted:function(e){e()}})},function(){var t=UIExtension.components.widgets,n=t.TreeComponent,i=t.TreeNodeComponent,a=t.TreeNodeListComponent;B(i,{doActive:function(e){e(),T(this.element,{"aria-expanded":!0})},doDeactive:function(e){e(),T(this.element,{"aria-expanded":!1})},render:function(e){e(),this.titleElement.id=this.name+"_title",T(this.element,{"aria-labelledby":this.titleElement.id,tabindex:"0"})},select:function(e){e(),T(this.element,{"aria-selected":!0}),this.focus()},unselect:function(e){e(),T(this.element,{"aria-selected":!1})},mounted:function(e){var t=this;e(),this.attachEventToElement(this.element,"keydown",(function(e){if((0,zr.isMatch)(e,Gr))t.isActive&&t.deactive();else if((0,zr.isMatch)(e,Kr))t.isActive||t.active();else{if(!(0,zr.isMatch)(e,zr.matchers.Enter))return;var n=t.getTree();n.select(t),n.trigger("aria-select",t.id)}e.stopPropagation()}))}}),B(n,{setSelectable:function(e){e(),T(this.element,{"aria-selectable":this.selectable})},setCheckable:function(e){e(),T(this.element,{"aria-multiselectable":this.checkable})},render:function(e){e(),T(this.element,{orientation:"vertical"})},mounted:function(e){var t=this;e(),this.addDestroyHook(this.attachEventToElement(this.element,"keydown",(function(e){if(!t.selectedNode||!t.selectedNode.editting){if((0,zr.isMatch)(e,Wr))t._selectPrevious();else if((0,zr.isMatch)(e,jr))t._selectNext();else if((0,zr.isMatch)(e,zr.matchers.Home)){var n=t._getFirstNode();n&&n.focus()}else{if(!(0,zr.isMatch)(e,zr.matchers.End))return;var i=t._getLastNode();i&&i.focus()}e.stopPropagation()}}),!0))},_selectNext:function(){var e=this._getNext();e&&(this.select(e),this.trigger("aria-select",e.id))},_selectPrevious:function(){var e=this._getPrevious();e&&(this.select(e),this.trigger("aria-select",e.id))},_getNext:function(){var e=this.getSelectedNode();if(!e)return this.querySelector("@tree-node:first");if(e.isActive){var t=e.getChildrenNodes();if(t.length>0)return t[0]}return e.nextSiblings()},_getPrevious:function(){var t=this.getSelectedNode();if(!t)return this.querySelectorAll("@tree-node").pop();var n=t.previousSiblings();if(!n){var a=t.findClosestComponent((function(n){return n!==t&&e(n,i)}));return a||this.querySelectorAll("@tree-node").pop()}if(n.isActive){var r=n.getChildrenNodes();if(0===r.length)return n;for(var o=r[r.length-1];;){if(!o.isActive)return o;var l=o.getChildrenNodes();if(0===l.length)return o;o=l[l.length-1]}}return n},_getFirstNode:function(){return this.querySelectorAll("@tree-node").shift()},_getLastNode:function(){return this.querySelectorAll("@tree-node").pop()}}),B(a,{render:function(e){e(),T(this.element,{role:"group"})}})},function(){var e=f.components.widgets.DropdownComponent;f.components.widgets.DropdownItemComponent,B(e,{doDestroy:function(e){this._unwatchAriaLabel&&this._unwatchAriaLabel(),e()},render:function(e){var t=this;e();var n=tt("dropd-tglr-"),i=tt("dropd-caret-"),a=tt("dropd-icon-"),r=tt("dropd-list-");this.togglerElement.setAttribute("id",n),this.caretElement.setAttribute("id",i),this.iconElement.setAttribute("id",a);var o=nt(this);this.element.setAttribute("role","presentation"),this.separate?this.listElement.setAttribute("aria-labelledby",i):this.listElement.setAttribute("aria-labelledby",n);var l=this.selectable;o.setAttribute("aria-haspopup",l?"listBox":"true"),this.listElement.setAttribute("role",l?"listbox":"menu"),l||(this.listElement.setAttribute("id",r),o.setAttribute("aria-controls",r)),this.separate&&T(this.togglerElement,{role:"group"});this.attachEventToElement(this.togglerElement,"keyup",(function(e){Xe(e,Je(Ze,Ye))&&t.isActive&&We(t)}))},postlink:function(e){var t=this;e();var n=this.text;!n&&this.texts[0]&&(n=this.texts[0].textContent),n||(n=this.getAttribute("tooltip-title")),n&&(this._unwatchThisLabel=this.localizer.watch(n,{},n,(function(e){t.iconElement.setAttribute("aria-label",e),t.editable&&t.editElement.setAttribute("aria-label",e),(t.separate||t.editable)&&t.caretElement.setAttribute("aria-label",e)})),this.addDestroyHook(this._unwatchThisLabel))},select:function(e,t){var n=this,i=ge(t,1)[0];if(i){var a=this.selectedItem;this.selectable&&(a&&a.element&&a.setAttribute("aria-selected","false"),i.setAttribute("aria-selected","true"));var r=i.text;return r||i.texts[0]&&(r=i.texts[0].textContent),r||(r=i.getAttribute("tooltip-title")),this._unwatchAriaLabel&&this._unwatchAriaLabel(),this._unwatchThisLabel&&this._unwatchThisLabel(),r?this._unwatchAriaLabel=this.localizer.watch(r,{},r,(function(e){n.editable&&n.caretElement.setAttribute("aria-label",e),n.separate?n.iconElement.setAttribute("aria-label",e):n.togglerElement.setAttribute("aria-label",e)})):(this.caretElement.removeAttribute("aria-label"),this.togglerElement.removeAttribute("aria-label"),this.iconElement.removeAttribute("aria-label")),e()}},doActive:function(e){e(),nt(this).setAttribute("aria-expanded","true")},doDeactive:function(e){e(),nt(this).setAttribute("aria-expanded","false")},mounted:function(e){if(e(),this.isInsideOtherDropdown()){var t=this.element.parentElement;t.getAttribute("role")||t.setAttribute("role","none"),this.setAttribute("role","menuitem")}},setEditValue:function(e,t){var n;e(),this.numberInput&&"string"==typeof this.numberInput.template?n=this.localizer.translateSync(this.numberInput.template):this.numberInput&&"function"==typeof this.numberInput.template&&(n=this.localizer.translateSync(this.numberInput.template(t))),this.editElement.setAttribute("aria-label",n)}})},function(){B(f.components.Component,{doDisable:function(e){e(),this.setAttribute("aria-disabled","true")},doEnable:function(e){e(),this.removeAttribute("aria-disabled")}})},function(){var t=f.components.widgets.ButtonComponent,n=f.components.widgets.DropdownComponent;B(t,{doActive:function(t){t(),e(this.parent,n)&&this.parent.selectable?this.setAttribute("aria-selected","true"):this.setAttribute("aria-pressed","true")},doDeactive:function(t){t(),e(this.parent,n)&&this.parent.selectable?this.setAttribute("aria-selected","false"):this.setAttribute("aria-pressed","false")},doEnable:function(e){e(),this.setAttribute("tabindex","0")},doDisable:function(e){e(),this.setAttribute("tabindex","-1")},render:function(e){e(),"button"!==this.element.nodeName.toLowerCase()&&(this.element.getAttribute("role")||(this.setAttribute("role","button"),this.setAttribute("tabindex","0"))),this.iconElement.setAttribute("aria-hidden",!0)},postlink:function(e){var t=this;e();var n=this.text;!n&&this.texts[0]&&(n=this.texts[0].textContent),n||(n=this.getAttribute("tooltip-title")),n&&this.addDestroyHook(this.localizer.watch(n,{},n,(function(e){t.element.setAttribute("aria-label",e)})))},mounted:function(t){t(),e(this.parent,n)&&(this.parent.selectable?this.setAttribute("role","option"):this.setAttribute("role","menuitem"))}})},function(){B(f.components.widgets.LoadingComponent,{postlink:function(e){e();var t=this.querySelector(">@ul");N(t,"role","status"),t.querySelectorAll(">@li").forEach((function(e){N(e,"role","presentation")})),T(this,{"aria-busy":!0,role:"alert","aria-describedby":this.querySelector(">@span").id}),this.statusComponent=t},doHidden:function(e){e();var t=this.element.parentElement;t&&t.setAttribute("aria-busy","false"),this.activeElement&&this.activeElement.focus()},doShown:function(e){this.activeElement=document.activeElement,e();var t=this.element.parentElement;t&&t.setAttribute("aria-busy","true")}})},function(){B(f.components.widgets.ProgressComponent,{postlink:function(e){e(),T(this.circlePath,{role:"progressbar","aria-label":"Progress","aria-valuemin":"0","aria-valuemax":"100"})},doHidden:function(e){e();var t=this.element.parentElement;t&&t.setAttribute("aria-busy","false"),this.activeElement&&this.activeElement.focus()},doShown:function(e){this.activeElement=document.activeElement,e();var t=this.element.parentElement;t&&t.setAttribute("aria-busy","true"),T(this.circlePath,{"aria-valuenow":"".concat(this.textElement.innerText)})},updateProgress:function(e){e();this.element.parentElement;T(this.circlePath,{"aria-valuenow":"".concat(this.textElement.innerText)})}})},function(){B(f.components.widgets.GTabItemComponent,{init:function(e){var t=this;e(),T(this,{role:"tab",tabindex:"-1"}),this.bodyComponentPromise.then((function(e){T(e,{"aria-labelledby":t.id,role:"tabpanel"}),N(t,"aria-controls",e.id)}))},doDisable:function(e){e(),I(this.element,"tabindex")},doEnable:function(e){e(),N(this,"tabindex",this.isActive?"0":-1)},doActive:function(e){e(),N(this,"aria-selected","true"),N(this,"tabindex",0)},doDeactive:function(e){e(),N(this,"aria-selected","false"),N(this,"tabindex",-1)}})},function(){B(f.components.widgets.DropdownButtonComponent,{mounted:function(e){e();var t=this.parent.selectable,n=t?"option":"menuitem";this.setAttribute("role",n),t||this.setAttribute("tabindex","0")},postlink:function(e){var t=this;e();var n=this.text;!n&&this.texts[0]&&(n=this.texts[0].textContent),n||(n=this.getAttribute("tooltip-title")),n&&this.addDestroyHook(this.localizer.watch(n,{},n,(function(e){t.element.setAttribute("aria-label",t.textElement.innerText)})))},doDisable:function(e){e(),this.element.setAttribute("tabindex","-1")},doEnable:function(e){e(),this.element.setAttribute("tabindex","0")}})},function(){B(f.components.widgets.ContextMenuComponent,{render:function(e){e(),N(this,"role","application"),T(this.containerElement,{role:"context menu",tabindex:"-1","aria-atomic":"true"})},doShown:function(e){e(),N(this,"aria-hidden","false"),this.containerElement.focus()},doHidden:function(e){e(),N(this,"aria-hidden","true")},rerenderChildren:function(e){e();var t=this.children().filter((function(e){return"contextmenu-separator"!==e.constructor.getName()})),n=t.map((function(e){return e.id}));t.forEach((function(e,n){N(e,"aria-posinset",n+""),N(e,"aria-setsize",t.length)})),T(this.containerElement,{"aria-owns":n.join(" "),"aria-describedby":n.join(" ")})}})},function(){B(f.components.widgets.ContextMenuItemComponent,{doDestroy:function(e){e(),this.unwatchAriaLabel&&this.unwatchAriaLabel()},render:function(e){e(),this.setAttribute("role","menuitem"),this.setAttribute("tabindex","0")},setText:function(e){var t=this;e();var n=this.text;n||this.texts[0]&&(n=this.texts[0].textContent),this.unwatchAriaLabel&&this.unwatchAriaLabel(),n&&(this.unwatchAriaLabel=this.localizer.watch(n,{},"",(function(e){t.setAttribute("aria-label",e)})))}})},function(){B(f.components.widgets.ContextMenuSeparatorComponent,{render:function(e){e(),this.setAttribute("role","menuitem")}})},function(){var e=f.components.widgets.LayerComponent;V(e,{preprocess:function(e,t){var n=ge(t,1)[0];e(),n.vnode.setAttribute("@aria:circular-focus","{autoFocusFirst: false}")}}),B(e,{render:function(e){e();var t=G("layer-inner-");this.containerElement.setAttribute("id",t),T(this,{role:"dialog",tabindex:-1,"aria-modal":!!this.modal})},mounted:function(e){var t=this;e(),this.element.querySelectorAll("input[type=file]").forEach((function(e){e.removeEventListener("click",i),e.addEventListener("click",i)}));var n=!1;function i(){n=!0}function a(e){lt(e).when(ct.Escape,(function(){n&&(e.stopPropagation(),n=!1)}))}this.element.addEventListener("keyup",a),this.addDestroyHook((function(){t.element.removeEventListener("keyup",a)}))},show:function(e){this.currentFocusElement=document.activeElement,e(),this.focusOnShown&&this.element.focus({preventScroll:!0}),this.element.dispatchEvent(ot(this.element))},doHidden:function(e){if(this.currentFocusElement){var t=this.currentFocusElement;if(this.currentFocusElement=document.activeElement,e(),t.getClientRects().length>0)t.focus({preventScroll:!0});else{var n=function(e,t){for(var n=t;n;){if(n.id){var i=e.querySelector("[id=".concat(n.id,"]"));if(i)return i}n=n.parentElement}}(this.getRoot(),t);if(n)if(st(n.element))n.element.focus();else for(var i=n.parent;i;){if(st(i.element)){i.focus();break}i=i.parent}else for(var a=t.parentElement;a;){if(st(a)){a.focus();break}a=a.parentElement}}}else e()}})},function(){var e=f.components.widgets.LayerHeaderComponent,t=f.components.widgets.LayerComponent;B(e,{mounted:function(e){e();var n=this.getClosestComponentByClass(t),i=this.element.querySelector("[action=close]"),a=this.titleElement;n&&i.setAttribute("aria-controls",n.id),this.addDestroyHook(this.localizer.watch("aria:labels.close-layer-btn",{},"",(function(e){i.setAttribute("aria-label",e)})),this.localizer.watch("aria:labels.promptTitle",{},"",(function(e){if(a.innerText){var t=G("layer-title");a.setAttribute("id",t),n.setAttribute("aria-labelledby",t)}else n.setAttribute("aria-label",e)})))}})},function(){B(f.components.widgets.AlertComponent,{postlink:function(e){e(),this.setAttribute("role","alertdialog"),this.setAttribute("aria-describedby",this.body.id)}})},function(){B(f.components.widgets.SidebarComponent,{render:function(e){e(),this.togglerElement.setAttribute("aria-hidden","true"),this.navElement.setAttribute("role","tablist"),this.navElement.setAttribute("tabindex","-1")}})},function(){var t=f.components.widgets.SidebarPanelComponent;B(t,{render:function(e){e();var t=G("sidebar-panel-title-");this.titleElement.id=t,T(this.ctrlElement,{role:"tab","aria-controls":this.element.id,tabindex:-1,"aria-labelledby":t}),T(this.bodyElement,{role:"tabpanel","aria-labelledby":t,tabindex:0})},mounted:function(n){var i=this;n(),this.ctrlElement.addEventListener("keydown",(function(n){if(!i.disabled){var a=function(n){return e(n,t)&&n.isVisible};ut(n).when(_t(ft,ht),(function(){i.isActive?i.parent.collapse():i.active()})).when(_t(bt,mt),(function(){if(i.isActive){var e=i.findNextMatching(a,!0);e&&(e.active(),e.ctrlElement.focus())}n.stopPropagation()})).when(_t(pt,vt),(function(){if(n.stopPropagation(),i.isActive){var e=i.findPreviousMatching(a,!0);e&&(e.active(),e.ctrlElement.focus())}})).when(yt,(function(e){e.stopPropagation();var t=i.parent.last();t.isVisible||(t=t.findPreviousMatching(a)),t&&(t.active(),t.ctrlElement.focus())})).when(gt,(function(e){e.stopPropagation();var t=i.parent.first();t.isVisible||(t=t.findNextMatching(a)),t&&(t.active(),t.ctrlElement.focus())}))}}))},doActive:function(e){e(),T(this.ctrlElement,{"aria-expanded":!0,tabindex:0})},doDeactive:function(e){e(),T(this.ctrlElement,{"aria-expanded":!1,tabindex:-1})}})},function(){B(f.components.widgets.GroupComponent,{render:function(e){var t=this;e();var n=this.btnList.moreElement,i=G("aria-group-more");this.on("shrink",(function(e){var a=function(e){it(e).when(at,(function(){e.target.click(),e.stopPropagation(),e.preventDefault()})),e.currentTarget.removeEventListener("keyup",a)},r=function(e){it(e).when(at,(function(){y(e).every((function(e){return"option"!==e.getAttribute("role")||(e.addEventListener("keyup",a,!0),!1)})),e.stopPropagation(),e.preventDefault()}))};if(e){T(n,{role:"button",tabindex:0,"aria-haspopup":"listbox","aria-controls":t.btnList.id,id:i}),T(t.btnList.element,{role:"listbox",tabindex:-1,"aria-labelledby":i});var o=t.btnList.element.children,l=function(e){M(e).forEach((function(e){if(e.classList.contains("fv__ui-grp-btn-list-title"))T(e,{"aria-hidden":!0});else if("button"===e.getAttribute("role")||"BUTTON"===e.tagName||"LI"===e.tagName)T(e,{role:"option"}),t.attachEventToElement(e,"keydown",r);else if(e.classList.contains("fx-ribbon-items-sm")){var n=e.children;l(n)}}))};l(o)}else{F(n,"aria-haspopup","role","tabindex","aria-controls"),F(t.btnList.element,"role","tabindex","aria-labelledby"),M(t.btnList.element.querySelectorAll("[role=option]")).forEach((function(e){"BUTTON"!==e.tagName&&"LI"!==e.tagName&&T(e,{role:"button"}),e.removeEventListener("keydown",r)}))}})),this.btnList.on("active",(function(){T(n,{"aria-expanded":!0})})),this.btnList.on("deactive",(function(){T(n,{"aria-expanded":!1})})),this.addDestroyHook(this.localizer.watch("",{},"",(function(){T(n,{"aria-label":t.localizer.translateSync(t.shrinkTitle||"toolbar.more.document.title")})})))}})},function(){B(UIExtension.components.widgets.SliderComponent,{render:function(e){e();var t=this.$options.label||this.attrs.label,n=G("slider-label"),i=document.createElement("div");T(i,{"data-i18n":t,id:n}),i.classList.add("fv__ui-aria-sr-only"),this.element.appendChild(i),N(this.element,"tabindex","-1");var a=G("slider-unit");T(this.unitElement,{id:a});var r=G("slider-input");T(this.inputElement,{id:r}),T(this.cursorElement,{role:"slider","aria-valuemin":this.range.min,"aria-valuemax":this.range.max,tabindex:"0","aria-describedby":a,"aria-labelledby":n}),T(this.inputElement,{"aria-labelledby":"".concat(n," ").concat(r," ").concat(a)})},sync:function(e,t){var n,i,a=ge(t,2),r=a[0],o=a[1],l=e();return"label"===r?(i=o,(n=this).labelElement.setAttribute("data-i18n",i),n.localize(),!0):l},doDisable:function(e){e(),T(this.cursorElement,{"aria-disabled":!0,tabindex:-1})},doEnable:function(e){e(),T(this.cursorElement,{"aria-disabled":!1,tabindex:0})},setValue:function(e){e(),this.cursorElement&&this.cursorElement.setAttribute("aria-valuetext",this.value)}})},function(){B(UIExtension.components.widgets.TabItemComponent,{render:function(e){e();var t=G("tab"),n={role:"tab","aria-controls":this.id,id:t};T(this.tabElement,n),T(this,{role:"tabpanel","aria-labelledby":t})},doActive:function(e){e(),N(this.tabElement,"aria-selected","true")},doDeactive:function(e){e(),N(this.tabElement,"aria-selected","false")},mounted:function(e){var t=this;e(),this.on(k.ACTIVE,(function(e){t.parent&&t.parent.$container&&t.parent.$container.$children&&t.parent.$container.$children.forEach&&setTimeout((function(){t.tabElement.focus()}))})),this.attachEventToElement(this.tabElement,"keyup",(function(e){var n,i=t.parent;wt(e).when(Lt(kt,At),(function(){t.active()})).when(St,(function(){n=i.getFirstTab()})).when(Ct,(function(){n=i.getLastTab()})).when(Dt,(function(){n=i.getPreviousOf(t)})).when(qt,(function(){n=i.getNextOf(t)})),n&&(n.tabElement.focus(),n.tabElement.click())}))}})},function(){function e(e){var t=e.element,n=e.colors,i=e.localizer;T(t.querySelector(".fv__ui-colors-picker"),{role:"listbox"}),t.querySelectorAll(".fv__ui-picker-color").forEach((function(t){var a,r=+t.dataset.index,o=n[r],l=function(e){e=e.replace("#","");var t=parseInt(e,16),n=t>>8&255,i=t>>16&255;return"RGB(".concat(255&t,", ").concat(n,", ").concat(i,")")}(o);a=e.isEditing?i.translateSync("aria:labels.color-picker-remove-item",{color:l}):i.translateSync("aria:labels.color-picker-item",{color:l}),T(t,o===e.value?{"aria-label":a,role:"option","aria-posinset":r,"aria-selected":!0,tabindex:0}:{"aria-label":a,role:"option","aria-posinset":r,"aria-selected":!1})}));e.getPDFUI();T(t.querySelector(".fv__ui-picker-addcolor"),{"aria-label":i.translateSync("aria:labels.color-picker-add-color")});var a=t.querySelector(".fv__ui-property-icon-nocolor"),r=i.translateSync("aria:labels.color-picker-transparent");T(a,0===e.value?{role:"option","aria-label":r,"aria-selected":!0,tabindex:0}:{role:"option","aria-label":r}),T(t.querySelector(".fv__ui-picker-removecolor"),{role:"option","aria-label":e.isEditing?i.translateSync("aria:labels.color-picker-confirm-remove"):i.translateSync("aria:labels.color-picker-removecolor")})}B(f.components.widgets.ColorPickerComponent,{render:function(t){t(),e(this)},_activeDom:function(e){e();var t=this.element.querySelector("[aria-selected=true]");t&&N(t,"aria-selected",!1),N(this.element.querySelector(".fv__ui-property-icon-nocolor"),"aria-selected",0===this.value);var n=this.colors.indexOf(this.value);if(n>-1){var i=this.element.querySelectorAll(".fv__ui-picker-color")[n];i&&T(i,{"aria-selected":"true",tabindex:0})}},_toggleEditingMode:function(t){t(),e(this)},mounted:function(t){var n=this;t(),this.addDestroyHook(this.localizer.watch("",{},"",(function(){e(n)})))}})},function(){B(f.components.widgets.ColorSpectrumComponent,{mounted:function(e){var t=this;e(),this.$sliderHelper.attr({tabindex:0,"aria-valuenow":this.$active.css("background-color"),role:"slider"}),this.$draggerHelper.attr({tabindex:0,"aria-valuenow":this.$active.css("background-color"),role:"slider"}),this.$trans.attr({tabindex:0,role:"button"});var n="aria:labels.no-color";this._unwatchThisLabel=this.localizer.watch(n,{},n,(function(e){t.$trans.attr("aria-label",e)})),this.addDestroyHook(this._unwatchThisLabel),this._updateCurrentColor=A((function(){var e=t.$active.css("background-color");t.$active.attr({"aria-label":e}),t.$sliderHelper.attr({"aria-valuetext":e}),t.$draggerHelper.attr({"aria-valuetext":e})}),100);var i=function(e){if(e=e.originalEvent||e,Re(e,Ve(Me,Oe,Ue,Be))){var n=t.$dragger.offset(),i=n.left,a=n.top,r=t.$draggerHelper.offset(),o=r.left,l=r.top,c=o-i+t.$draggerHelper.outerWidth()/2,s=l-a+t.$draggerHelper.outerHeight()/2,u=t.$dragger.height(),d=t.$dragger.width();Fe(e).switchers(!1).when(Ue,(function(){(c-=Ke)<0&&(c=0)})).when(Oe,(function(){(s-=Ke)<0&&(s=0)})).when(Be,(function(){(c+=Ke)>d&&(c=d)})).when(Me,(function(){(s+=Ke)>u&&(s=u)})),e.stopPropagation(),e.preventDefault(),t.currentSaturation=c/d,t.currentValue=(u-s)/u,t.updateColorLocation(),t.active()}};this.$draggerHelper.on("keydown",i),this.$draggerHelper.on("click",(function(e){return e.target.focus()})),this.$sliderHelper.on("keydown",(function(e){if(Re(e,Ve(Me,Oe))){var n=t.$sliderHelper.offset().top-t.$slider.offset().top+Math.ceil(t.$sliderHelper.outerHeight()/2),i=t.$slider.height();Fe(e).when(Oe,(function(){(n-=Ke)<0&&(n=0)})).when(Me,(function(){(n+=Ke)>i&&(n=i)})),t.currentHue=parseFloat(n/t.$slider.height()),t.updateHueLocation(),t.active(),e.stopPropagation(),e.preventDefault()}})),this.$sliderHelper.on("click",(function(e){return e.target.focus()})),this.attachEventToElement(this.element,"keydown",(function(e){Re(e,Ve(je,ze,Ge))&&e.stopPropagation()})),this.addDestroyHook(D(this.element,(function(e){e.stopPropagation(),t.$cancel.click()}),Ge,{capture:!0}),D(this.element,(function(e){if(e.target!==t.$cancel.get(0)){if(e.target===t.$trans[0])return t.$trans.click(),void e.stopPropagation();e.stopPropagation(),t.$choose.click()}}),ze,{capture:!0}),(function(){t.$draggerHelper.off("keydown",i),t.$draggerHelper.off("click",(function(e){return e.target.focus()})),t.$sliderHelper.off("keydown",i),t.$sliderHelper.off("click",(function(e){return e.target.focus()}))}));var a=function(e){t.attachEventToElement(e,"keydown",(function(e){Re(e,Ve(ze,je))&&(e.preventDefault(),e.stopPropagation())})),t.attachEventToElement(e,"keyup",(function(t){if(Re(t,Ve(ze,je))){var n=q(t);t.stopPropagation(),e.dispatchEvent(n)}}))};a(this.$choose.get(0)),a(this.$cancel.get(0))},updateColorLocation:function(e){e()},active:function(e){e(),this.$sliderHelper.attr("tabindex",0),this._updateCurrentColor()},show:function(e){e(),this.previousFocusEle=document.activeElement;var t=this.element.querySelector("#foxit-spectrum-color-dragger");t&&setTimeout((function(){t.focus()}))},hide:function(e){e(),this.previousFocusEle&&this.previousFocusEle.focus()}})},function(){B(f.PDFViewCtrl.printer.PrintProgress,{reset:function(e){this.progressBarElement=this.element.querySelector(".fv__ui-print-process-bar"),e(),T(this.progressBarElement,{tabindex:"-1",role:"progressbar","aria-label":this.title})},show:function(e){e(),this.progressBarElement.focus()},updateProgress:function(e,t){var n=ge(t,2),i=n[0],a=n[1];e(),T(this.progressBarElement,{"aria-valuemin":"0","aria-valuenow":i,"aria-valuemax":a})}})},function(){B(f.components.widgets.SelectComponent,{render:function(e){var t=this;e();var n=G("select-btn-"),i=this.element.querySelector(".fv__ui-select"),a=document.createElement("span");this.selectedLabel=a,T(a,{id:G("selected"),"data-i18n":"[aria-label]aria:labels.select.selectedLabel",class:"fv__ui-aria-sr-only"}),this.element.appendChild(a),T(i,{id:n,role:"listbox","aria-haspopup":"listbox","aria-expanded":"false",tabindex:0}),this.$selector.setAttribute("aria-labelledby",n),this.$selector.setAttribute("role","listbox"),this.$selector.setAttribute("tabindex","-1"),this.$selector.querySelectorAll("li").forEach((function(e,n){var i=t.$options.options[n];Bt(e,i,t),e.setAttribute("role","option"),e.setAttribute("tabIndex","-1")}))},setValue:function(e){var t=e();if(!this.$selector)return t;var n=this.$selector.querySelector('li[data-value="'.concat(this.value,'"]'));n&&(n.setAttribute("aria-selected","true"),n.id||(n.id=G("sel-opt-")),T(this.element.querySelector(".fv__ui-select"),{"aria-describedby":"".concat(this.selectedLabel.id," ").concat(n.id)}));return t},mounted:function(e){var t=this;e();var n=function(e){Tt(e,Ut(Nt,It,Ft,Ht,Rt,Ot,Mt))&&(e.preventDefault(),e.stopPropagation(),$t(e).switchers(!1).when(It,(function(){e.target.click()})).when(Ot,(function(){var e=!1,n=document.activeElement.previousElementSibling;if(n)n.focus(),e=t.setValue(+(n.dataset?n.dataset.value:n.getAttribute("data-value")));else{var i=document.activeElement.parentElement.lastElementChild;i.focus(),e=t.setValue(+(i.dataset?i.dataset.value:i.getAttribute("data-value")))}e&&t.trigger("change",t.value)})).when(Mt,(function(){var e=!1,n=document.activeElement.nextElementSibling;if(n)n.focus(),e=t.setValue(+(n.dataset?n.dataset.value:n.getAttribute("data-value")));else{var i=document.activeElement.parentElement.firstElementChild;i.focus(),e=t.setValue(+(i.dataset?i.dataset.value:i.getAttribute("data-value")))}e&&t.trigger("change",t.value)})).filter((function(){return t.$selector.children.length>5})).when(Ht,(function(){var e=t.$selector.firstElementChild;e.focus(),t.setValue(+(e.dataset?e.dataset.value:e.getAttribute("data-value")))&&t.trigger("change",t.value)})).when(Rt,(function(){var e=t.$selector.lastElementChild;e.focus(),t.setValue(+(e.dataset?e.dataset.value:e.getAttribute("data-value")))&&t.trigger("change",t.value)})))},i=function(e){$t(e).when(It,(function(){t.element.click()}))},a=function(e){t.element.querySelector(".fv__ui-select").setAttribute("aria-expanded","true");var n=t.$selector.querySelector('li[data-value="'.concat(t.value,'"]'));setTimeout((function(){n.focus()}))},r=function(e){"none"!==t.$selector.style.display&&$t(e).when(Ft,(function(){e.stopPropagation();var n=t.element.querySelector(".fv__ui-select");n.setAttribute("aria-expanded","false"),t.$selector.style.display="none",n.focus()}))},o=function(e){if(!t.disabled){var n=t.element.querySelector(".fv__ui-select");n.setAttribute("aria-expanded","false");var i=t.$selector.querySelectorAll('li[aria-selected="true"]');i.length>0&&i.forEach((function(e){return e.removeAttribute("aria-selected")})),y(e).every((function(e){return!e.classList.contains("fv__ui-select-option")||(e.setAttribute("aria-selected",!0),e.click(),!1)})),t.$selector.style.display="none",n&&n.focus()}};this.$selector.querySelectorAll("li").forEach((function(e){e.addEventListener("keydown",n),e.addEventListener("click",o),t.addDestroyHook((function(){e.removeEventListener("keydown",n),e.addEventListener("click",o)}))})),this.element.addEventListener("keydown",i),this.element.addEventListener("click",a),this.element.addEventListener("keyup",r),this.addDestroyHook((function(){t.element.removeEventListener("keydown",i),t.element.removeEventListener("keydown",a),t.element.removeEventListener("keyup",r)}))},doActive:function(e){e(),this.element.querySelector(".fv__ui-select").setAttribute("aria-expanded","true")},doDisable:function(){T(this.element.querySelector(".fv__ui-select"),{"aria-disabled":!0,tabindex:-1})},doEnable:function(){T(this.element.querySelector(".fv__ui-select"),{"aria-disabled":!1,tabindex:0})}})},function(){var e=UIExtension.modular.root(),t=e.getComponentClass("listbox"),n=e.getComponentClass("listbox-item");t&&(B(t,{updateListData:function(e){e(),T(this,{role:"presentation"});this.children().forEach((function(e,t){"listbox-item"===e.nodeName&&(T(e,{"aria-posinset":t}),t++)})),this.childAt(0)&&this.childAt(0).childAt(1)&&this.childAt(0).childAt(1).childAt(0)&&this.childAt(0).childAt(1).childAt(0).element.focus()}}),B(n,{render:function(e){var t=this;if(e(),this.listdata.url){var n=this.path;this.addDestroyHook(this.localizer.watch("",{},"",(function(){var e=n.slice(0,n.length-1).map((function(e){return Et.indexOf(e)>-1?t.localizer.translateSync("stamp.category."+e):e})).join(",");T(t,{"aria-label":e}),t.element.querySelector("img").alt=t.element.title+", "+e}))),T(this.element.querySelector(".stamp-preview"),{"aria-hidden":"true"}),T(this,{role:"option"})}},doActive:function(e){e(),T(this,{"aria-selected":!0})},doDeactive:function(e){e(),T(this,{"aria-selected":!1})}}))},function(){var e=f.modular.root().getComponentClass("field-panel"),t=function(e,t){var i,a=e.$html.find(".fv__field-item:visible"),r=a.filter(".focus"),o=a.index(r);i=1===t||-1===t?a.eq((o+t+a.length)%a.length):0===t?a.first():a.last(),r.removeClass("focus"),i.addClass("focus");var l=i.attr("id");i.closest(".fv__ui-field-container").attr({"aria-activedescendant":l}),n(i)},n=function(e){var t=e.closest(".fv__ui-sidebar-panel-body"),n=t.scrollTop(),i=t.offset().top,a=e.offset().top;t.scrollTop(a-i+n)},i=function(e){var t=e.$html.find(".fv__field-item"),n=t.filter(".fv__active:visible");0===n.length&&(n=t.eq(0)),t.filter(".focus").removeClass("focus"),n.addClass("focus");var i=n.attr("id");e.$html.attr("aria-activedescendant",i)},a=function(e,t,n){for(var i=arguments.length,a=new Array(i>3?i-3:0),r=3;r<i;r++)a[r-3]=arguments[r];var o;(o=t).on.apply(o,[n].concat(M(a))),e.addDestroyHook((function(){var e;(e=t).off.apply(e,[n].concat(M(a)))}))},r=function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return a.apply(void 0,[e,e.$html,t].concat(M(i)))},o=function(e,t,n,i){var a=n.id;T(t,{id:a,"aria-label":e.localizer.i18next.t("aria:labels.field.widget",{type:n.type,name:n.title,page:i}),role:"option"}),T(t.querySelector("input"),{"aria-labelledby":a})},l=function(e,t){var n=e.element,i=t.page,a=n.querySelector('.fv__field-item[data-deep="0"][data-page="'.concat(i,'"]'));if(a&&!a.getAttribute("role")){var r=a.id||G("page-item");T(a,{id:r,role:"option",tabindex:0}),T(a.querySelector("input"),{"aria-labelledby":r}),e.attachEventToElement(a.previousElementSibling,"click",(function(){!function(e,t,n){var i=t.parentElement.nextElementSibling,a=n.page,r=i.querySelectorAll(".fv__field-item:not([role=option])"),l=n.children.reduce((function(e,t){return e[t.id]=t,e}),{});r.forEach((function(t){var n=t.getAttribute("data-id"),i=l[n];o(e,t,i,a)}))}(e,a,t)}))}};B(e,{addField:function(e,t){var n=ge(t,1)[0];e();var i=n.children[0];!function(e,t,n){var i=e.element.querySelector('.fv__field-item[data-deep="0"][data-page="'.concat(t,'"]'));if(i){var a=i.parentElement.nextElementSibling.querySelector('.fv__field-item[data-id="'.concat(n.id,'"]'));o(e,a,n,t)}}(this,n.page,i)},updatePage:function(e,t){var n=ge(t,1)[0];e();var i=!n||!n.children||!n.children.length;this.$html.attr("tabindex",i?"-1":"0"),i||l(this,n)},render:function(e){var t=this;e(),this.$html.attr({role:"listbox",tabindex:"-1"}),r(this,"focus",(function(){i(t)})),r(this,"click",".fv__field-item",(function(){i(t)}))},mounted:function(e){var i=this;e();var a=Zt.ArrowUp,o=Zt.ArrowDown,l=Zt.ArrowRight,c=Zt.ArrowLeft,s=Zt.Home,u=Zt.End,d=Zt.Space,f=Zt.Enter;r(this,"keydown",(function(e){Jt(e.originalEvent).when(a,(function(){t(i,-1),e.preventDefault(),e.stopPropagation()})).when(o,(function(){t(i,1),e.preventDefault(),e.stopPropagation()})).when(l,(function(){var t=i.$html.find(".fv__field-item:visible").filter(".focus"),a=t.closest(".fv__fields_list"),r=a.next();if(r.length>0&&r.hasClass("fv__hide")){var o=a.find(".fv__tree-icon"),l=o.attr("class");o.attr("class",l.replace("fv__plug","fv__minus")),r.removeClass("fv__hide"),t.removeClass("focus"),(t=r.find(".fv__field-item:visible").eq(0)).addClass("focus");var c=t.attr("id");t.closest(".fv__ui-field-container").attr({"aria-activedescendant":c}),n(t)}e.preventDefault(),e.stopPropagation()})).when(c,(function(){var t,a=i.$html.find(".fv__field-item:visible").filter(".focus"),r=a.closest(".fv__field-child"),o=r.prev();if(o.length>0&&!o.hasClass("fv__hide")){t=o.find(".fv__tree-icon");var l=o.find(".fv__field-item:visible").eq(0);l.removeClass("focus"),l.addClass("focus");var c=l.attr("id");l.closest(".fv__ui-field-container").attr({"aria-activedescendant":c}),n(l)}else 0===o.length&&a.length>0&&(r=a.closest(".fv__fields_list").next()).length>0&&(t=r.find(".fv__tree-icon"));var s=t.attr("class");t.attr("class",s.replace("fv__minus","fv__plug")),r.addClass("fv__hide"),e.preventDefault(),e.stopPropagation()})).when(s,(function(){t(i,0),e.preventDefault(),e.stopPropagation()})).when(u,(function(){t(i),e.preventDefault(),e.stopPropagation()})).when(d,(function(){i.$html.find(".fv__field-item:visible").filter(".focus").trigger("click"),i.pdfUI.eventEmitter.once("active-annotation",(function(){e.target.focus()})),e.preventDefault(),e.stopPropagation()})).when(f,(function(){i.$html.find(".fv__field-item:visible").filter(".focus").trigger("click"),i.pdfUI.eventEmitter.once("active-annotation",(function(){e.target.focus()})),e.preventDefault(),e.stopPropagation()}))}))}})},function(){var t=f.components.widgets.FileSelectorComponent,n=f.components.widgets.DropdownComponent;B(t,{postlink:function(e){var t=this;e(),this.addDestroyHook(this.localizer.watch("",{},"",(function(){T(t.inputElement,{"aria-label":t.element.getAttribute("aria-label")})})))},mounted:function(t){var i=this;t(),e(this.parent,n)&&(this.parent.selectable?this.setAttribute("role","option"):this.setAttribute("role","menuitem"));var a=function(e){e.pointerType&&"mouse"===e.pointerType&&(i.inputElement.click(),e.stopPropagation(),e.preventDefault())};"button"===this.element.getAttribute("role")&&(this.element.addEventListener("click",a),this.addDestroyHook((function(){i.element.removeEventListener("click",a)})))},doDisable:function(e){e(),this.element.setAttribute("tabindex","-1")},doEnable:function(e){e(),this.element.setAttribute("tabindex","0")}})},function(){B(f.components.widgets.CheckboxComponent,{render:function(e){var t=this;e(),this.attachEventToElement(this.element,"keyup",(function(e){yi(e).when(_i,(function(){t.inputElement.click(),e.preventDefault()}))}))}})},function(){B(f.components.widgets.RibbonButtonComponent,{mounted:function(e){var t=this;e(),this.on("child_inserted",A((function(){Gi(t)}))),this.watchI18n("",(function(){Gi(t)}));var n=function(e){if(!t.notDropdown&&(zi(e,ji.or(ji.Space,ji.Enter))||"click"===e.type)){var n=t.getDropdown();n&&n.isActive&&(n.once("deactive",(function(){n.separate?t.eRibbonText.focus():t.element.focus()})),We(n))}};this.attachEventToElement(this.eRibbonText,"click",n),this.attachEventToElement(this.element,"click",n);var i=this.eRibbonText.id||G("ribbon-text");N(this.eRibbonText,"id",i);var a=this.getDropdown();if(a){a.listElement["aria-label"]||N(a.listElement,"aria-labelledby",i),a.separate||a.editable?N(a.caretElement,"aria-labelledby",i):N(a.togglerElement,"aria-labelledby",i),this.notDropdown,N(this.element,"role","button");var r=a.separate?this.eRibbonText:this.element;this.attachEventToElement(r,"keyup",(function(e){e.target===r&&zi(e,ji.or(ji.Space,ji.Enter))&&n(e)})),this.addDestroyHook(a.on("active",(function(){F(t.eDropdownContainer,"aria-hidden"),N(r,"aria-expanded","true")})),a.on("deactive",(function(){N(t.eDropdownContainer,"aria-hidden","true"),N(r,"aria-expanded","false")})))}else N(this.eDropdownContainer,"aria-hidden","true"),N(this.element,"role","button")},select:function(e){e(),Gi(this)},doDisable:function(e){e(),Gi(this)},doEnable:function(e){e(),Gi(this)},setText:function(e){e(),Gi(this)}})},function(){B(f.modular.module("layer").getComponentClass("pdflayers"),{update:function(e){e();var t=this.$html.children(".tree-wrapper>ul.tree-list");t.attr({role:"listbox",tabindex:"0","aria-multiselectable":"true"});var n=t.find(".tree-item-main"),i=0,a=n.filter((function(e){return!!n[e].classList.contains(".fv__active")&&(i=e,!0)})),r=n[i]&&n[i].getAttribute("data-id");t.attr("aria-activedescendant",r),0===a.length&&this.activeItem(r);var o=t.find("ul.tree-list"),l=t.find(".tree-item");o.attr({role:"group"}),l.attr({role:"option",tabindex:-1}).attr("id",(function(e){return l.eq(e).find(":nth-child(2)").attr("data-id")})).attr("aria-selected",(function(e){var t=l.eq(e).find("input[type=checkbox]").prop("checked");return!!l.eq(e).find("input[type=checkbox]").hasClass("vb-hidden")||(t?(l.eq(e).attr("aria-checked",!0),!0):(l.eq(e).removeAttr("aria-checked"),!1))})),l.find("input[type=checkbox]").attr("tabindex","-1");n.on("click",(function(e){var n=this.getAttribute("data-id");t.attr("aria-activedescendant",n)}))},events:function(e){var t=this;e();var n=fa.ArrowUp,i=fa.ArrowDown,a=fa.ArrowLeft,r=fa.ArrowRight,o=fa.Space,l=fa.Home,c=fa.End,s=fa.Enter;this.$html.on("keydown",(function(e){da(e.originalEvent).when(n,(function(){ha(t,-1),e.preventDefault(),e.stopPropagation()})).when(i,(function(){ha(t,1),e.preventDefault(),e.stopPropagation()})).when(l,(function(){ha(t,0),e.preventDefault(),e.stopPropagation()})).when(c,(function(){ha(t),e.preventDefault(),e.stopPropagation()})).when(a,(function(){e.stopPropagation()})).when(r,(function(){e.stopPropagation()})).when(o,(function(){var n=t.$html.find(".tree-item-main").filter(".fv__active"),i=n.children(".tree-item-checkbox");i.hasClass("vb-hidden")||(i.prop("checked")?(n.closest("li.tree-item").attr("aria-selected",!1),n.closest("li.tree-item").removeAttr("aria-checked")):(n.closest("li.tree-item").attr("aria-selected",!0),setTimeout((function(){n.closest("li.tree-item").attr("aria-checked",!0)})))),i.trigger("click"),e.preventDefault(),e.stopPropagation()})).when(s,(function(){var n=t.$html.find(".tree-item-main").filter(".fv__active"),i=n.children(".tree-item-checkbox");i.hasClass("vb-hidden")||(i.prop("checked")?(n.closest("li.tree-item").attr("aria-selected",!1),n.closest("li.tree-item").removeAttr("aria-checked")):(n.closest("li.tree-item").attr("aria-selected",!0),setTimeout((function(){n.closest("li.tree-item").attr("aria-checked",!0)})))),i.trigger("click"),e.preventDefault(),e.stopPropagation()}))}))}})},function(){B(f.modular.module("attachment").getComponentClass("attachment-panel"),{mounted:function(e){var t=this;e(),this.$element.on("keydown",(function(e){va(e.originalEvent).when(pa,(function(){var e=ga(t,-1);t.updateButton();var n=e.find(".td:nth-child(1)").attr("id");t.$element.find(".tbody").attr("aria-labelledby",n)})).when(ba,(function(){var e=ga(t,1);t.updateButton();var n=e.find(".td:nth-child(1)").attr("id");t.$element.find(".tbody").attr("aria-labelledby",n)}))}))},renderAttachmentTable:function(e){e(),this.$attachmentTable.find(".tr>.td:nth-child(1)").each((function(e,t){t.id||T(t,{id:G()})}))}})},function(){B(f.modular.module("inksign").getComponentClass("signItem"),{mounted:function(e){var t=this;e(),T(this.signItemBtn,{role:"menuitem",tabindex:0});var n=function(e,n){t.addDestroyHook(t.watchI18n(n,(function(t){e.setAttribute("aria-label",t)})))};n(this.element,"aria:labels.createSignature"),n(this.deleteSignBtn,"aria:labels.deleteSignature")}})},function(){var e=f.widgets.SidebarRightComponent,t=f.SeniorComponents.SidebarTabsComponent;e&&t&&(B(e,{show:function(e){e(),this.focusElement=document.activeElement!==document.body&&document.activeElement},collapse:function(e){var t=this.isExpanded;e(),t&&(this.focusElement?this.focusElement.focus():M(document.querySelectorAll(".fx-ribbon-item-active")).every((function(e){var t=e.getBoundingClientRect(),n=t.width,i=t.height;return!n||!i||(e.focus(),!1)})))}}),B(t,{mounted:function(e){var t=this;e();var n=this.element.querySelector(".fv__ui-sidebar-right-navlist");T(n,{role:"tablist","aria-label":"right panel"});var i=function(e){var n=t.element.querySelectorAll(".fv__ui-sidebar-right-nav"),i=t.element.querySelector(".fv__ui-sidebar-right-nav.active"),a=M(n).indexOf(i);a="number"==typeof e?-1===e||1===e?(a+e+n.length)%n.length:e:n.length-1;var r=t.openTabs[a];t.openTab(r),t.setActivetab(r)};this.attachEventToElement(this.element,"keydown",(function(e){P(e.target)||Xa(e,Za(Ya,er,nr,tr,ir))&&(e.stopPropagation(),e.preventDefault())})),this.attachEventToElement(n,"keyup",(function(e){Qa(e).when(tr,(function(){e.stopPropagation(),e.preventDefault(),i(-1)})).when(nr,(function(){e.stopPropagation(),e.preventDefault(),i(1)})).when(Ya,(function(){e.stopPropagation(),e.preventDefault(),i(0)})).when(er,(function(){e.stopPropagation(),e.preventDefault(),i()})).when(ir,(function(){e.stopPropagation(),e.preventDefault(),function(){var e=t.element.querySelectorAll(".fv__ui-sidebar-right-nav"),n=t.element.querySelector(".fv__ui-sidebar-right-nav.active"),i=M(e).indexOf(n),a=t.openTabs[i];t.closeTab(a)}()}))}),!0)},setActivetab:function(e,t){var n=this,i=ge(t,1)[0];e(),M(this.element.querySelectorAll(".fv__ui-sidebar-right-nav")).forEach((function(e){var t;(T(e.querySelector(".fv__ui-sidebar-nav-close"),{"aria-hidden":"true"}),e.classList.contains("active"))?(T(e,{role:"tab",tabindex:"0","aria-selected":"true","aria-controls":null===(t=n.getTabs().filter((function(e){return e.name===i}))[0])||void 0===t?void 0:t.element.id}),e):T(e,{tabindex:"-1",role:"tab","aria-selected":"false"})}))},closeTab:function(e,t){var n,i=this,a=ge(t,1)[0];e(),M(this.element.querySelectorAll(".fv__ui-sidebar-right-nav")).forEach((function(e){var t;e.classList.contains("active")?(T(e,{role:"tab",tabindex:"0","aria-selected":"true","aria-controls":null===(t=i.getTabs().filter((function(e){return e.name===a}))[0])||void 0===t?void 0:t.element.id}),n=e):T(e,{tabindex:"-1",role:"tab","aria-selected":"false"})})),n&&n.focus()}}))},function(){var e=7,t=9,n=f.modular.module("edit-properties").getComponentClass("edit-properties");n&&B(n,{setHost:function(n,i){var a=ge(i,2),r=(a[0],a[1]);if(n(),r===e){var o=this.measureTab.$element.find("[checkbox]");o.parent().attr("role","group"),o.attr({role:"checkbox",tabindex:"0","aria-checked":!1});var l=this.measureTab.getEleByName("measure-export");l.attr({role:"button",tabindex:"0"}).attr("aria-label",l.attr("title")),o.off("click"),o.on("click",(function(e){e.target.classList.contains("active")?T(e.target,{"aria-checked":!1}):T(e.target,{"aria-checked":!0})})),o.off("keydown"),o.on("keydown",(function(e){ar(e.originalEvent,lr(cr,sr))&&(e.preventDefault(),e.stopPropagation(),o.click())})),l.off("keydown"),l.on("keydown",(function(e){ar(e.originalEvent,lr(cr,sr))&&(e.preventDefault(),e.stopPropagation(),l.click())}))}else if(r===t){var c=function(e){e.target.classList.contains("disabled")||(e.target.classList.contains("up")?T(e.target,{"aria-expanded":!1}):T(e.target,{"aria-expanded":!0}))},s=function(e){if(ar(e.originalEvent,lr(cr,sr))){if(e.target.classList.contains("disabled"))return;e.target.click()}},u=this.noteTab.$element;B(this.noteTab.constructor,{getDialogInstance:function(e){var t=e();if(t&&t.name&&"color"===t.name){var n=t.$element,i=n.find(".fv__ui-layer-inner"),a=n.find(".item-btn");i.attr({tabindex:"0",role:"listbox","aria-labelledby":i.find(":first-child").id,"aria-activedescendant":a[0].id}),a.attr({role:"option"}).attr("aria-label",(function(e){return a[e].style.background})),a.eq(0).attr("aria-selected","true");var r=function(e){var n,a=t.$element.find(".item-btn:visible"),r=-1;a.each((function(e,t){t.getAttribute("aria-selected")&&(r=e,t.removeAttribute("aria-selected"))})),n="number"==typeof e?-1===e||1===e?(r+e+a.length)%a.length:(e+a.length)%a.length:a.length-1;var o=a.eq(n),l=o.attr("id");o.attr("aria-selected","true"),i.attr("aria-activedescendant",l)};n.off("keydown"),n.on("keydown",(function(e){or(e.originalEvent).when(ur,(function(){r(-1),e.stopPropagation(),e.preventDefault()})).when(dr,(function(){r(1),e.stopPropagation(),e.preventDefault()})).when(fr,(function(){r(0),e.stopPropagation(),e.preventDefault()})).when(hr,(function(){r(),e.stopPropagation(),e.preventDefault()})),ar(e.originalEvent,lr(cr,sr))&&e.target.querySelector("[aria-selected]").click()}))}else if("opacity"===t.name){var o=t.$element,l=o.find(".trigger");l.attr({role:"slider",tabindex:"0","aria-valuemax":"".concat(t.valueMax,"%"),"aria-valuemin":"".concat(t.valueMin,"%"),"aria-valuenow":"".concat(t.$label.text(),"%")});var c=function(e,n){var i=+t.$label.text()+e*n;i>100?i=100:i<0&&(i=0),t.updateUI(i);var a=+i/100;t.callback&&t.oldValue!==a&&(t.oldValue=a,t.callback(a)),o.find(".trigger").attr({"aria-valuenow":"".concat(i,"%")})},s=function(e){ar(e.originalEvent,lr(dr,vr))?(c(1,1),e.preventDefault(),e.stopPropagation()):ar(e.originalEvent,lr(mr,ur))?(c(-1,1),e.preventDefault(),e.stopPropagation()):or(e.originalEvent).when(br,(function(){c(-1,10),e.preventDefault(),e.stopPropagation()})).when(pr,(function(){c(1,10),e.preventDefault(),e.stopPropagation()})).when(fr,(function(){c(-100,1),e.preventDefault(),e.stopPropagation()})).when(hr,(function(){c(100,1),e.preventDefault(),e.stopPropagation()}))};l.off("keydown"),l.on("keydown",s)}return t}});var d=u.find(".icon-btn");d.attr({role:"button"}).attr("tabindex",(function(e){return d[e].classList.contains("disabled")?"-1":"0"})).attr("aria-disabled",(function(e){return d[e].classList.contains("disabled")?"true":"false"})),d.off("keydown"),d.on("keydown",s);var f=u.find('[name="toolbar-caret"]');f.attr({role:"button",tabindex:"0","aria-label":"Toolbar Caret"}),f.off("keydown"),f.on("keydown",s),f.off("click",c),f.on("click",c);var h=u.find('[name="color"]');h.attr({tabindex:"0",role:"button","aria-label":"Color"}),h.off("keydown"),h.on("keydown",s);var v=u.find('[name="opacity"]');v.attr({tabindex:"0",role:"button","aria-label":"Opacity"}),v.off("keydown"),v.on("keydown",s)}},doDisable:function(e){e(),this.$element.find("[tabindex=0]").attr({tabindex:-1,"aria-disabled":!0})},doEnable:function(e){e();var t=this.$element.find("[tabindex=-1]:not(.disabled)");t.attr({tabindex:0}),t.removeAttr("aria-disabled")}})},function(){var e=f.widgets.CollapsePanelComponent;e&&B(e,{mounted:function(e){e();var t=this.element.querySelector("[name=text]");T(t,{role:"button",tabindex:this.disabled?"-1":"0"}),this.attachEventToElement(t,"keydown",(function(e){gr(e,wr(Er,_r))&&(e.preventDefault(),e.stopPropagation(),e.target.click())}))},open:function(e){e(),T(this.element.querySelector("[name=text]"),{"aria-expanded":!0})},close:function(e){e(),T(this.element.querySelector("[name=text]"),{"aria-expanded":!1})}})},function(){f.modular.moduleAsync("thumbnail").then((function(e){e.getComponentDefAsync("thumbnail-list").then((function(e){B(e.componentClass,{render:function(e){e(),T(this.element,{role:"listbox",tabindex:0})}})})),e.getComponentDefAsync("thumbnail-item").then((function(e){B(e.componentClass,{render:function(e){e(),N(this.element,"role","option")},doActive:function(e){e();var t=this.parent.element,n=(t.getAttribute("aria-activedescendant")||"").split(/\s+/);n.push(this.id),N(t,"aria-activedescendant",n.join(" ")),N(this.element,"aria-selected",!0)},doDeactive:function(e){e();var t=this.parent.element,n=(t.getAttribute("aria-activedescendant")||"").split(/\s+/),i=n.indexOf(this.id);i>-1&&(n.splice(i,1),N(t,"aria-activedescendant",n.join(" "))),N(this.element,"aria-selected",!1)}})}))}))},function(){B(f.modular.root().getComponentClass("form-group"),{setDescription:function(e){if(e(),this.description){var t=this.descriptionElement.id||G("desc");N(this.element,"aria-describedby",t)}}})},function(){var e=f.widgets,t=e.SelectListComponent;B(e.SelOptionComponent,{setValue:function(e){e(),T(this.element,{title:this.value})},applyNewState:function(e){e(),T(this.element,{"aria-selected":this.isSelected()})}}),B(t,{mounted:function(e){var t=this;e();var n=function(){if(0===t.size())return 1;var e=t.element.clientHeight,n=t.childAt(0).element.clientHeight;return Math.ceil(e/n)};this.attachEventToElement(this.element,"keydown",(function(e){var i=t.getSelectedOptionChildren(),a=-1,r=i[i.length-1],o=i[0]?i[0].index():-1,l=r?r.index():-1,c=t.children().length,s=Nr.value(n);if(Tr(e,Ir(Fr,Or)))0===i.length?a=0:i.length>1?a=l:(a=o+1)>=c&&(a=0);else if(Tr(e,Ir(Hr,Rr)))0===i.length?a=c-1:i.length>1?a=o:(a=o-1)<0&&(a=c-1);else if(Tr(e,Br))a=0;else if(Tr(e,Vr))a=c-1;else if(Tr(e,Mr))a=0===i.length?0:o+(s.value-1);else{if(!Tr(e,Ur))return;a=0===i.length?0:o-(s.value-1)}a=Math.max(Math.min(c-1,a),0);var u=t.childAt(a);u&&(u.select(!0),e.preventDefault())}),{})}})},function(){B(UIExtension.widgets.ColorPickerButtonComponent,{postlink:function(e){e(),T(this.element,{"aria-haspopup":"dialog"})}})}],Qr=[function(e,t){return be.apply(this,arguments)},function(e){var t=f.modular.module("comment-list"),n=t.getComponentClass("comment-list"),i=t.getComponentClass("comment-group-ex"),a=t.getComponentClass("comment"),r=t.getComponentClass("reply"),o=t.getComponentClass("search-comment"),l=t.getComponentClass("filter-dialog"),c=t.getDirectiveClass("search-comment"),s=t.getComponentClass("load-all");B(o,{mounted:function(e){e(),T(this.element.querySelector(".fv__ui-commentlist-not-searching"),{id:G("fv__ui-commentlist-not-searching")})},doDisable:function(e){e(),T(this.openFilterBtnElement,{"aria-disabled":!0,tabindex:"-1"})},doEnable:function(e){e(),F(this.openFilterBtnElement,"aria-disabled"),T(this.openFilterBtnElement,{tabindex:"0"})}}),B(n,{render:function(e){e();var t=document.querySelector(".fv__ui-commentlist-not-searching");T(this.element,{role:"tree","aria-labelledby":t.id})},mounted:function(e){var t=this;e(),this.attachEventToElement(this.element,"keydown",(function(e){var n=function(){e.preventDefault(),e.stopPropagation()},i=e.target.closest(".fv__ui-accordion-card-header"),a=e.target.closest(".fv__ui-accordion-card-body"),r=!!i,o=!!a,l=t.children().filter((function(e){return e.isDOMVisible()})),c=l.length,s=l.findIndex((function(e){return r?e.headerElement===i:e.bodyElement===a})),u=l[s],d=void 0,f=void 0,h=void 0,v=void 0,m=!1;if(r)if(Q(e,ae))f=0;else if(Q(e,re))f=c-1;else if(Q(e,Y)||Q(e,oe)&&!e.shiftKey)if(u.isActive)d=u.children().filter((function(e){return e.isDOMVisible()})),h=0,m=Q(e,oe);else{if(Q(e,oe)&&(f=s+1)>=c)return;f=(s+1)%c}else if(Q(e,Z)||Q(e,oe)&&e.shiftKey){if(Q(e,oe)){if(-1===(f=s-1))return}else f=(s-1+c)%c;var p=l[f];p&&p.isActive&&(f=void 0,h=(d=p.children().filter((function(e){return e.isDOMVisible()}))).length-1,m=Q(e,oe))}else Q(e,te)?(u.active(),n()):Q(e,ee)?(u.deactive(),n()):Q(e,J(ne,ie))&&(u.isActive?u.deactive():u.active());else if(o)if(v=(d=u.children().filter((function(e){return e.isDOMVisible()}))).findIndex((function(e){return e.hasFocus()})),m=Q(e,oe),Q(e,Y))(h=v+1)>=d.length&&(h=void 0,f=(s+1)%c);else if(Q(e,Z))(h=v-1)<0&&(f=s,h=void 0,v=0);else if(Q(e,oe)&&e.shiftKey){var b=d[v];if(e.target!==b.element)return;(h=v-1)<0&&(f=s,h=void 0,v=0)}else if(Q(e,oe)&&!e.shiftKey){var g=d[v];if(g&&e.target===g.replyEditorElement)g.replyEditorElement.innerText.trim()||(h=v+1)>=d.length&&(h=void 0,f=(s+1)%c);else v=void 0}else v=void 0;var y=!1;void 0!==f&&(l[f].headerElement.focus(),y=!0);var _=d?d[v]:void 0;_&&(_.deselect(),_.applyState(),y=!0);var E=d?d[h]:void 0;E&&(E.focus(),E.selected||m||E.trigger("click"),y=!0),y&&n()}))}}),B(i,{render:function(e){e(),T(this.headerElement,{role:"treeitem",tabindex:"0"}),T(this.headerButtonElement,{role:"none",tabindex:"-1"})},mounted:function(e){var t=this;e(),this.attachEventToElement(this.headerElement,"focus",(function(){t.headerElement.classList.add("selected"),T(t.headerElement,{"aria-selected":!0})})),this.attachEventToElement(this.headerElement,"blur",(function(){t.headerElement.classList.remove("selected"),T(t.headerElement,{"aria-selected":!1})}))},doActive:function(e){e(),T(this.headerElement,{"aria-expanded":!0})},doDeactive:function(e){e(),T(this.headerElement,{"aria-expanded":!1})}}),B(r,{render:function(e){e(),T(this.element,{role:"treeitem",tabindex:"-1"})},mounted:function(e){var t=this;e();var n=this.element.querySelector(".fv__ui-commentlist-comment-reply-menu");if(n){var i=n.querySelector(".fv__ui-dropdown-toggler");this.attachEventToElement(i,"focus",(function(){t.element.focus()}))}var a=this.element.querySelector(".fv__ui-commentlist-reply-edit"),r=function(e){Q(e,X.Tab)&&a&&!a.contains(document.activeElement)&&t.publishMessage(),document.removeEventListener("keyup",r)};this.attachEventToElement(this.element,"keydown",(function(e){Q(e,X.Tab)&&document.addEventListener("keyup",r)}))},applyState:function(e){e(),document.activeElement.classList.contains("fv__ui-commentlist-btn")&&this.element.focus()},doDestroy:function(e){if(e(),document.activeElement===document.body){var t=document.querySelector(".fv__biz-sidebar-comment-list.active .fv__ui-commentlist-comment.selected .fv__ui-commentlist-handler");if(t||(t=document.querySelector(".fv__biz-sidebar-comment-list.active .fv__ui-accordion-card-header")),t)T(t,{tabindex:"0"}),t.focus(),d(document.querySelector('[name="comment-list-sidebar-panel"] .fv__ui-sidebar-panel-body'),t)}}}),B(a,{render:function(e){var t=this;e(),this.commentContentElement=this.element.querySelector(".fv__ui-commentlist-comment-content"),this.on("intersection-visible",(function(){T(t.element,{role:"group"}),T(t.addReplyContainerElement,{role:"treeitem",tabindex:"-1"}),T(t.handlerElement,{role:"treeitem",tabindex:"-1"}),T(t.checkMarkElement.parentElement,{tabindex:0}),T(t.commentContentElement,{tabindex:0})}))},mounted:function(e){var t=this;e(),this.commentlist=this.parent.parent,this.group=this.parent,this.groupIndex=this.group.index(),this.on("intersection-visible",(function(){t.attachEventToElement(t.handlerElement,"keydown",(function(e){Q(e,ie)&&(e.preventDefault(),e.stopPropagation())})),t.attachEventToElement(t.commentContentElement,"keydown",(function(e){Q(e,ne)&&(t.trigger("dblclick",e),e.preventDefault(),e.stopPropagation())})),t.attachEventToElement(t.element,"keydown",(function(e){e.target===t.element&&(K(e.target)&&Q(e,J(ne,oe,te,ee,Z,Y,ie,ae,re))&&e.stopPropagation(),Q(e,ne)&&!t.selected&&t.trigger("click"))})),t.attachEventToElement(t.publishMessageBtn,"keydown",(function(e){Q(e,J(ne,ie))&&t.target.click()}));var e=t.handlerElement.querySelector(".fv__ui-commentlist-comment-item-menu"),n=e&&e.querySelector(".fv__ui-dropdown-toggler");e&&(t.attachEventToElement(e,"keyup",(function(t){W(t).when(ie,(function(){"cancel-check-mark"===t.target.getAttribute("component-name")?e.querySelector('[component-name="add-check-mark"]').focus():"add-check-mark"===t.target.getAttribute("component-name")&&e.querySelector('[component-name="cancel-check-mark"]').focus()})),t.preventDefault(),t.stopPropagation()})),t.attachEventToElement(n,"focus",(function(){t.handlerElement.focus()})));var i,a=function(){document.activeElement===document.body&&M(document.querySelector('[name="fv--commentlist-search-load-all"]').children).every((function(e){var t=e.getBoundingClientRect(),n=t.width,i=t.height;return!n||!i||(e.focus(),d(document.querySelector('[name="comment-list-sidebar-panel"] .fv__ui-sidebar-panel-body'),e),!1)}))},r=t.element.querySelector(".fv__ui-commentlist-comment-editor"),o=function(e){Q(e,X.Tab)&&("replyContainer"!==i||t.addReplyContainerElement.contains(document.activeElement)||(t.publishReplyMessage(),a()),"commentEditor"!==i||r.contains(document.activeElement)||(t.publishMessage(),a())),document.removeEventListener("keyup",o)};t.attachEventToElement(t.element,"keydown",(function(e){Q(e,X.Tab)&&(t.addReplyContainerElement.contains(document.activeElement)?i="replyContainer":r.contains(document.activeElement)&&(i="commentEditor"),document.addEventListener("keyup",o))}));var l=t.handlerElement.querySelector(".fv__ui-commentlist-comment-check-mark");t.attachEventToElement(t.handlerElement,"keyup",(function(e){W(e).when(ne,(function(){n&&n.click(),e.preventDefault(),e.stopPropagation()})).when(ie,(function(){l&&(l.click(),T(t.handlerElement,{"aria-checked":l.checked})),e.preventDefault(),e.stopPropagation()}))}))}))},clearReplyEditor:function(e){e();var t=this.element.querySelector(".fv__ui-commentlist-replies .fv__ui-commentlist-reply:last-child"),n=document.querySelector([".fv__ui-accordion-card-header[aria-selected=true]",".fv__ui-commentlist-handler[aria-selected=true]",".fv__ui-commentlist-reply[aria-selected=true]"].join(","));(n&&(n.classList.remove("selected"),F(n,"aria-selected"),T(n,{tabindex:"-1"})),t)&&(t.classList.add("selected"),T(t,{tabindex:"0","aria-selected":!0}),t.focus(),d(document.querySelector('[name="comment-list-sidebar-panel"] .fv__ui-sidebar-panel-body'),t))},applyState:function(e){if(e(),this.element&&(M(this.element.querySelectorAll(".fv__ui-commentlist-comment-editor")).forEach((function(e){T(e,{role:"treeitem"})})),M(this.element.querySelectorAll(".fv__ui-commentlist-btn")).forEach((function(e){T(e,{tabindex:"0",role:"button"})}))),document.activeElement.classList&&document.activeElement.classList.contains("fv__ui-commentlist-btn")){var t=document.querySelector([".fv__ui-accordion-card-header[aria-selected=true]",".fv__ui-commentlist-handler[aria-selected=true]",".fv__ui-commentlist-reply[aria-selected=true]"].join(","));t&&(F(t,"aria-selected"),T(t,{tabindex:"-1"}),t.classList.remove("selected")),this.handlerElement.classList.add("selected"),T(this.handlerElement,{tabindex:"0","aria-selected":!0}),this.handlerElement.focus(),d(document.querySelector('[name="comment-list-sidebar-panel"] .fv__ui-sidebar-panel-body'),this.handlerElement)}},doDestroy:function(e){var t=this.groupIndex,n=this.commentlist.children();e();for(var i=t;i>=0&&i<n.length;i--){var a=n[i];if(a.children().length>0)return void a.headerElement.focus()}for(var r=t;r<n.length;r++){var o=n[r];if(o.children().length>0)return void o.headerElement.focus()}this.commentlist.getClosestComponentByType("sidebar-panel").focus()}}),B(l,{mounted:function(e){e();var t=this.element.querySelector('[name="fv--commentlist-filter-clear-selection-btn"]');T(t,{role:"button",tabindex:0}),M(this.element.querySelectorAll(".fv__ui-commentlist-filter-option .fv--ui-commentlist-fielter-fieldset-label")).forEach((function(e){T(e,{role:"checkbox",tabindex:0,"aria-label":e.textContent})})),this.attachEventToElement(t,"keydown",(function(e){Q(e,J(ie,ne))&&(t.click(),e.preventDefault(),e.stopPropagation())})),this.attachEventToElement(this.element,"click",(function(e){e.target.classList&&e.target.classList.contains("fv--ui-commentlist-fielter-fieldset-label")&&T(e.target,{"aria-checked":!e.target.previousSibling.checked})})),this.attachEventToElement(this.element,"keydown",(function(e){Q(e,J(ie,ne))&&(e.target.classList&&e.target.classList.contains("fv--ui-commentlist-fielter-fieldset-label")&&e.target.click(),e.preventDefault(),e.stopPropagation())}))},updateData:function(e){e(),M(this.element.querySelectorAll(".fv__ui-commentlist-filter-fieldset-author,.fv__ui-commentlist-filter-fieldset-commentType")).forEach((function(e){e.querySelectorAll(".fv__ui-commentlist-filter-option .fv--ui-commentlist-fielter-fieldset-label").forEach((function(e){T(e,{role:"checkbox",tabindex:0,"aria-label":e.textContent})}))}))}}),B(c,{doFoundMatch:function(e){e(),this.component.element.classList.contains("selected")&&this.storeFocusEle&&(this.storeFocusEle.classList.remove("selected"),F(this.storeFocusEle,"aria-selected"),T(this.storeFocusEle,{tabindex:"-1"}))},doFoundNotMatch:function(e){e(),this.component.element.classList.contains("selected")&&(this.storeFocusEle=document.querySelector(".fv__biz-sidebar-comment-list.active .fv__ui-accordion-card-header"),this.storeFocusEle&&(this.storeFocusEle.classList.add("selected"),T(this.storeFocusEle,{tabindex:0,"aria-selected":!0})))}}),B(s,{mounted:function(e){e();var t=this.element.querySelector(".fv__ui-commentlist-search-load-all-load"),n=this.element.querySelector(".fv__ui-commentlist-search-load-all-loading"),i=this.element.querySelector(".fv__ui-commentlist-search-load-all-no-more");T(t,{tabindex:"0",role:"button"}),T(n,{tabindex:"0",role:"button"}),T(i,{tabindex:"0",role:"button"}),this.attachEventToElement(t,"click",(function(e){var t=document.querySelector(".fv__ui-commentlist [aria-selected=true]");t&&(t.focus(),d(document.querySelector('[name="comment-list-sidebar-panel"] .fv__ui-sidebar-panel-body'),t))})),this.attachEventToElement(t,"keydown",(function(e){Q(e,ne)&&(e.preventDefault(),e.stopPropagation())})),this.attachEventToElement(t,"keyup",(function(e){Q(e,ne)&&t.click()}))}});var u=f.UIEvents;function d(e,t){var n=e.scrollTop,i=t.getBoundingClientRect().bottom,a=e.getBoundingClientRect(),r=n+i-a.top-a.height;r<0&&(r=0),e.scrollTo(0,r)}e.addUIEventListener(u.appendCommentListGroup,(function(e){var t=e.localizer,n=e.headerElement,i=function(){var i=t.translateSync("aria:labels.commentlist.group-title",{count:e.annotationCount,page:e.pageNumber});n.setAttribute("aria-label",i)};n.addEventListener("focus",i),e.addDestroyHook((function(){n.removeEventListener("focus",i)}))})),e.addUIEventListener(u.appendCommentListComment,(function(e,t){e.on("intersection-visible",(function(){var n=e.localizer.watch("aria:labels.commentlist.comment",{type:t.getType(),page:t.getPDFPage().getIndex()+1,author:t.getTitle(),content:t.getContent()},"",(function(t){e.handlerElement.setAttribute("aria-label",t)}));e.addDestroyHook(n),M(e.handlerElement.querySelectorAll("button")).forEach((function(e){T(e,{role:"none",tabindex:"-1"})}))}))})),e.addUIEventListener(u.appendCommentListReply,(function(e,t,n){var i=e.localizer.watch("aria:labels.commentlist.reply",{page:t.getPDFPage().getIndex()+1,type:t.getType(),replyAuthor:t.getTitle(),commentAuthor:n.getTitle(),content:t.getContent()},"",(function(t){e.setAttribute("aria-label",t)}));M(e.handlerElement.querySelectorAll("button")).forEach((function(e){T(e,{role:"none",tabindex:"-1"})})),e.addDestroyHook(i)}))},function(e,t){return Ie.apply(this,arguments)},function(e,t){return xe.apply(this,arguments)},function(e,t){return pe.apply(this,arguments)},function(e,t){B(f.modular.module("search").getComponentClass("search-panel"),{render:function(e){e(),T(this.eInput,{"aria-label":this.localizer.translateSync("[placeholder]sidebar.search.panel.placeholder")})}});var n=t.querySelector("@search:search-panel");if(n){var i=n.element,a=i.querySelector("[name=pattern]"),r=t.localizer;n.addDestroyHook(r.watch("",{},"",(function(){T(a,{"aria-label":r.translateSync("sidebar.search.panel.placeholder")})}))),i.querySelectorAll(".fv__search-panel-form-label").forEach((function(e){var t=e.querySelector("input"),n=e.querySelector(".fv__search-panel-form-label-text"),i=G("search-panel-label");T(n,{id:i}),T(t,{"aria-labelledby":i})}))}},function(e,t){B(f.EditActionsTab,{buildActionsDom:function(e){return ce((function(){var t,n,i;return se(this,(function(a){switch(a.label){case 0:return[4,e()];case 1:return a.sent(),t=this.$element.find(".fv__action_list"),n=this.$element.find(".fv__action_title").attr("id"),t.attr({role:"tree","aria-labelledby":n}),t.children().length>0&&((i=t.children().attr({role:"treeitem","aria-expanded":"true",tabindex:"-1"}))[0].setAttribute("tabindex","0"),i.find(".fv__subaction_list").attr("role","group"),i.find(".fv_action-body").attr({role:"treeitem","aria-expanded":"true",tabindex:"-1"}),function(e,t){var n=e.find("[role='treeitem']");n.off("click",Rn),n.on("click",Rn),n.off("keydown",Pn),n.on("keydown",Pn);var i=e.find(".fv_action-info-toggler");i.off("click",Hn),i.on("click",Hn),e.off("click",Ln),e.on("click",Ln)}(t)),[2]}}))})).apply(this)},_setActionBtnStatus:function(e){var t,n;e(),t=this.$element.find(".fv__action_list"),(n=t.closest(".fv__action_tab").find(".fv__action_buttons>.fv__ui-dialog-ok-button")).attr("tabindex",(function(e){return n[e].classList.contains("disabled")?-1:0})),this.$element.find("#upAction, #downAction").each((function(e,t){t.classList.contains("disabled")?N(t,"tabindex","-1"):N(t,"tabindex","0")}));var i=document.activeElement;if("upAction"===i.getAttribute("id")&&i.classList.contains("disabled")?this.$element.find("#downAction:not(.disabled)").length>0&&this.$element.find("#downAction:not(.disabled)").eq(0).focus():"downAction"===i.getAttribute("id")&&i.classList.contains("disabled")&&this.$element.find("#upAction:not(.disabled)").length>0&&this.$element.find("#upAction:not(.disabled)").eq(0).focus(),this.$element.find("[role=tree]").attr({disabled:this.disabled,"aria-disabled":this.disabled}),this.disabled)this.$element.find("[role=treeitem]").attr({tabindex:"-1"});else{var a=this.$element.find("[role=treeitem]");a.length>0&&0===a.filter((function(e){return"0"===a[e].getAttribute("tabindex")})).length&&a.eq(0).attr("tabindex","0")}},syncUI:function(e){e(),this.$element.find("#actionAddButton").attr("tabindex",this.disabled?"-1":"0")},offEvent:$n})},function(e,t){e.eventEmitter.on(PDFViewCtrl.ViewerEvents.renderFileSuccess,(function(){var t=e.signPropertyDialog;t&&B(t.constructor,{updateDialog:function(t){function n(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?{role:"button",tabindex:"0"}:{},i={"aria-labelledby":t.id};T(e,Object.assign({},n,i))}t();var i=this.dialog.element;i.querySelectorAll(".fv__signature-input").forEach((function(e){var t=e.querySelector("span");n(t.nextSibling,t)}));var a=i.querySelector("#permissions");n(a,a.previousSibling);var r=i.querySelector(".fv__ap-edit"),o=r.previousSibling;n(r,o,!0);var l=function(t){On(t).when(Mn,(function(){t.target.click(),e.eventEmitter.emit(Un)}))};r.addEventListener("keyup",l),this.addDestroyHook((function(){r.removeEventListener("keyup",l)}));var c=i.querySelector(".fv__button-ok"),s=i.querySelector(".fv__button-cancle");T(c,{role:"button",tabindex:"0","aria-label":c.innerText}),T(s,{role:"button",tabindex:"0","aria-label":s.innerText})}})}))},function(e,t){e.eventEmitter.on(Un,(function(){var t=e.SigAPDialog.dialog;if(t){var n=t.element,i=n.querySelector(".fv_sig-open-inksign");T(i,{role:"button",tabindex:"-1","aria-label":i.innerText});var a=n.querySelector(".fv__signature-image");T(a,{role:"radiogroup","aria-labelledby":a.previousSibling.id});var r=a.querySelectorAll("input");r.forEach((function(e){var n=e.checked;T(e,{"aria-checked":n?"true":"false",tabindex:n?"0":"-1"});var a=function(e){r.forEach((function(e){T(e,{"aria-checked":"false",tabindex:"-1"})})),T(e.target,{tabindex:"0","aria-checked":"true"})},o=function(e){Bn(e).when(zn,(function(){T(i,{tabindex:"drawingSig"==e.target.id?"0":"-1"})})).when(jn,(function(){T(i,{tabindex:"drawingSig"==e.target.id?"0":"-1"})}))};e.addEventListener("click",a),e.addEventListener("keyup",o),t.addDestroyHook((function(){e.removeEventListener("click",a),e.removeEventListener("keyup",o)}))}));var o=n.querySelector(".fv__signature-labels");T(o,{role:"group","aria-labelledby":o.previousSibling.id});var l=n.querySelector(".fv__button-ok"),c=n.querySelector(".fv__button-cancle");T(l,{role:"button",tabindex:"0","aria-label":l.innerText}),T(c,{role:"button",tabindex:"0","aria-label":c.innerText})}}))},function(e,t){return ii.apply(this,arguments)},function(e,t){e.eventEmitter.once("showCODialog",(function(){var t=(vi=e.CODialog).$element.find("[role=button]"),n=function(e){oi(e,hi)&&(e.target.click(),e.preventDefault(),e.stopPropagation()),e.target.removeEventListener("keyup",n)};t.on("keydown",(function(e){if(oi(e.originalEvent,hi)){if(e.target.classList.contains("disabled"))return;e.target.addEventListener("keyup",n),e.stopPropagation(),e.preventDefault()}})),B(vi.constructor,{show:function(e){e(),this.$element.find(".fv_CO-item").each((function(e,t){T(t,{role:"option","aria-label":t.innerText,"aria-selected":t.classList.contains("active"),id:G("field-item")}),t.addEventListener("click",(function(e){pi(),bi()}))})),this.$element.find(".fv__fields-list")[0].addEventListener("keydown",mi),pi(),bi()},moveItemTo:function(e){e(),pi(),bi(),vi.$element.find(".fv_CO-item").each((function(e,t){T(t,{"aria-label":t.innerText})}))},destroy:function(e){e(),this.$element.find(".fv_CO-item").each((function(e,t){t.removeEventListener("click")})),this.$element.find(".fv__fields-list")[0].removeEventListener("keydown")}})}))},function(e,t){var n=t.getAllComponentsByType("pause-resume-read-aloud");n&&1===n.length&&B(n[0].constructor,{switchToResumeButton:function(e){e(),this.setAttribute("aria-label",this.localizer.translateSync(this.resumeTooltipTitle))},switchToPauseButton:function(e){e(),this.setAttribute("aria-label",this.localizer.translateSync(this.pauseTooltipTitle))}})},function(e,t){return qn.apply(this,arguments)},function(e,t){return Ei.apply(this,arguments)},function(e,t){t.getAllComponentsByType("measurement-popup").forEach((function(e){B(e.constructor,{mounted:function(e){var t=this;e(),this.on(k.SHOWN,(function(){t.element.querySelectorAll("input")[0].focus()}));var n=function(e){e.stopPropagation(),t.hide(),document.removeEventListener("keyup",n)};document.addEventListener("keydown",(function(e){y(e).some((function(e){return e===t.element}))&&ki(e).when(Ai.Escape,(function(){e.stopPropagation(),document.addEventListener("keyup",n)}))}))}})}))},function(e,t){var n;e.addViewerEventListener(Si.openFileSuccess,(n=ce((function(e){var n;return se(this,(function(e){switch(e.label){case 0:return[4,t.getMountedComponentByName("redaction-page-popup")];case 1:return(n=e.sent())?(B(n.constructor,{rendered:function(e){e();var t=this.element.querySelector(".fv__redaction-range");t.firstElementChild.setAttribute("id","page_range"),t.lastElementChild.setAttribute("aria-labelledby","page_range")},showError:function(e){e();var t=this.element.querySelector(".fv__redaction-page-range");t.setAttribute("aria-invalid","true"),t.focus(),t.onblur=function(){t.removeAttribute("aria-invalid")}}}),[2]):[2]}}))})),function(e){return n.apply(this,arguments)}))},function(e,t){return Fi.apply(this,arguments)},function(e,t){var n={};e.getPDFViewer().then((function(i){t.addDestroyHook(e.addViewerEventListener(x.openFileSuccess,(function(e){i.getPDFDocRender().$container.attr({tabindex:"-1",role:"document","aria-roledescription":e.getFileName()})})),e.addViewerEventListener(x.renderFileSuccess,(function(){var e=i.getPDFDocRender();if(e){var t=e.$container.get(0);t.focus({preventScroll:!0});var n=document.createElement("div");n.className="fv__aria-current-page-info fv__ui-aria-sr-only",T(n,{role:"represent","aria-live":"polite","aria-atomic":!0,"aria-relvant":"text"}),t.append(n)}})),e.addViewerEventListener(x.pageNumberChange,(function(e){var n=i.getPDFDocRender();if(n){var a=n.$container.find(".fv__aria-current-page-info");if(a.length){var r=n.doc,o=r.getPageCount(),l=t.localizer.translateSync("aria:labels.PDF.current-page-info",{pageNumber:e,pageCount:o,fileName:r.getFileName(),extra:""});a.text(l)}}})),e.addViewerEventListener(x.renderPageSuccess,(function(e){(window.requestIdleCallback||window.setTimeout)((function(){if(!e.isDestroyed&&!e.ariaSetupDone){var i=e.getPDFDoc();e.ariaSetupDone=1;var a=e.$element,r=i.getPageCount(),o=e.index,l=n[o];l&&l();var c=t.localizer;c.translateSync("aria:labels.PDF.loading",{pageIndex:o+1,pageCount:r});a.attr({"aria-posinset":o,"aria-setsize":r,"aria-busy":!1})}}))})),e.addViewerEventListener(x.willCloseDocument,(function(){for(var e in n){(0,n[e])()}n={}})))}))},function(e,t){return $r.apply(this,arguments)},function(e,t){B(UIExtension.modular.module("field").getControllerClass("field-load-all"),{mounted:function(e){var t=this;e(),this.$html.attr({tabindex:0,role:"button"}),this.element.onfocus=function(e){e.relatedTarget?t.resetFocusElement=e.relatedTarget:t.resetFocusElement=document.body}},loadAllPage:function(e){e();var t=this.$html.prev('[name="fv-field-sidebar-panel"][tabindex=0]');t.length>0?t.focus():this.resetFocusElement?this.resetFocusElement.focus():document.body.focus()}})},function(e,t){var n=f.internals.AnnotPropertiesDialog;B(n,{listenEvent:function(e){var t=this;e();var n=this.dialog.element;T(n.querySelector("[name=annot-property-close]"),{role:"button",tabindex:"0"}),M(n.querySelectorAll(".color-picker")).forEach((function(e){T(e,{role:"button","aria-labelledby":e.previousElementSibling.id,tabindex:"0"})}));var i,a,r,o,l=n.querySelector(".tabPanel");T(l,{"aria-label":n.querySelector(".fv__ui-layer-header-title").textContent}),M(l.children).forEach((function(e,t){T(e,{role:"tab",tabindex:"-1","aria-selected":!1,"aria-controls":n.querySelector(".annot-properties-dialog-body>div:nth-child(".concat(t+1,")")).id}),e.classList.contains("active")&&T(e,{"aria-selected":!0,tabindex:0})})),M(n.querySelector(".tabBody").children).forEach((function(e,n){T(e,{"aria-labelledby":t.dialog.element.querySelector(".tabPanel>div:nth-child(".concat(n+1,")")).id})})),i=this,r="keydown",o=function(e){Ki(e).when(Qi,(function(){ea(n,-1),e.preventDefault(),e.stopPropagation()})).when(Ji,(function(){ea(n,1),e.preventDefault(),e.stopPropagation()})).when(Zi,(function(){ea(n,0),e.preventDefault(),e.stopPropagation()})).when(Yi,(function(){ea(n),e.preventDefault(),e.stopPropagation()}))},(a=n).addEventListener(r,o),i.destroyHooks.push((function(e){return a.removeEventListener(r,o)})),function(e,t,n,i){t.on(n,i),e.destroyHooks.push((function(e){return t.off(n,i)}))}(this,this.dialog,k.SHOWN,(function(e){setTimeout((function(){M(t.dialog.element.querySelector(".tabPanel").children).forEach((function(e){var t=e.classList.contains("active");T(e,{tabindex:t?0:-1,"aria-selected":t})}))}))})),M(n.querySelectorAll("[role=button]")).forEach((function(e){e.addEventListener("keydown",(function(t){Ki(t).when(Xi,(function(){e.classList.contains("disabled")||e.addEventListener("keyup",ta)}))}))}))},toggle:function(e){var t=this;e();var n=this.annotProperties.disabled;if([".color-picker"].forEach((function(e){M(t.dialog.element.querySelectorAll(e)).forEach((function(e){T(e,{tabindex:n?-1:0}),n?T(e,{disabled:!0}):F(e,"disabled")}))})),!0===n){M(this.dialog.element.querySelectorAll(".fv__ui-dialog-ok-button")).forEach((function(e){T(e,{tabindex:"-1"})})),M(this.dialog.element.querySelectorAll('.fv__action_list > [tabindex="0"]')).forEach((function(e){T(e,{tabindex:"-1"})}))}else{M(this.dialog.element.querySelectorAll(".fv__ui-dialog-ok-button:not(.disabled)")).forEach((function(e){T(e,{tabindex:"0"})}));var i=this.dialog.element.querySelectorAll('[role="treeitem"]')[0];i&&T(i,{tabindex:"0"})}}})},function(e,t){return ua.apply(this,arguments)},function(){B(f.internals.AnnotCreateDialog,{_bindEvent:function(e){if(e(),this.$colorBtn){var t=this.$colorBtn,n=this.$colorPickerDialog;t.attr({tabindex:0,role:"button"}),t.on("keydown",(function(e){ya(e.originalEvent).when(_a,(function(){e.target.click(),e.stopPropagation()}))})),t.on("click",(function(){setTimeout((function(){n.find("li[aria-selected=true]").focus()}))})),n.attr("tabindex",-1)}}})},function(e,t){B(f.internals.AppearanceTab,{updateUI:function(e){e();var t=this.getElementByNames("codeSets,addSelectedEntry,codeEntries,editCodes,fillColor,fontColor");t.each((function(e){var n=t.eq(e);n.prop("tabindex",n.prop("disabled")||n.hasClass("disabled")?"-1":"0")}))},bindEvent:function(e){e(),this.$element.find("[role=button]:not([tabindex=-1])").on("keydown",(function(e){Ea(e.originalEvent).when(Ca,(function(){e.target.addEventListener("keyup",Da)}))})),this.$element.find("[name=codeSets],[name=codeEntries]").on("keydown",(function(e){var t=this;Ea(e.originalEvent).when(xa,(function(){var n=qa(e,-1);N(t,"aria-activedescendant",n.getAttribute("id")),n.click(),e.preventDefault(),e.stopPropagation()})).when(ka,(function(){var n=qa(e,1);N(t,"aria-activedescendant",n.getAttribute("id")),n.click(),e.preventDefault(),e.stopPropagation()})).when(Aa,(function(){var n=0;N(t,"aria-activedescendant",n.getAttribute("id")),n.click(),e.preventDefault(),e.stopPropagation()})).when(Sa,(function(){var n=qa(e);N(t,"aria-activedescendant",n.getAttribute("id")),n.click(),e.preventDefault(),e.stopPropagation()}))}))},init:function(e){e();var t=this.$element.find("[name=codeSets],[name=codeEntries]");t.find("li").attr("role","option").attr("id",(function(){return N(this,"id",G("fv__code"))})),t.attr("role","listbox").attr("aria-labelledby",(function(){return this.previousSibling.getAttribute("id")})).attr("aria-activedescendant",(function(){return this.children[0]&&this.children[0].getAttribute("id")}))}})},function(e,t){var n=f.modular.module("search").getComponentClass("search-input");n&&B(n,{mounted:function(e){e(),T(this.inputComponent.element,{"aria-label":this.localizer.translateSync("search:searchbar.input.placeholder")})}})},function(e,t){var n=f.modular.module("search").getComponentClass("search-option-panel"),i=f.modular.module("search").getComponentClass("search-result-panel"),a=f.modular.module("search").getComponentClass("checkbox");n&&B(n,{mounted:function(e){var t=this;e();var n=this.element.querySelector(".fv__ui-search-text"),i=n.getAttribute("placeholder");T(n,{"aria-label":i});var a=this.element.querySelector(".fv__ui-search-country-select");T(a,{"aria-labelledby":a.previousElementSibling.id});var r=this.element.querySelectorAll(".fv__ui-more-less");M(r).forEach((function(e){T(e,{role:"button",tabindex:"0"}),t.attachEventToElement(e,"click",(function(e){setTimeout((function(){M(r).filter((function(e){var t=e.getBoundingClientRect(),n=t.width,i=t.height;return n&&i}))[0].focus()}))})),t.attachEventToElement(e,"keydown",(function(e){La(e,Ta(Na,Ia))&&e.target.click()}))}));if(window.MutationObserver){var o=new MutationObserver((function(e){if(!ge(e,1)[0].target.classList.contains("fv__ui-directive-show-hidden")){var n=t.element.querySelector(".fv__ui-search_button");n&&n.focus()}}));o.observe(this.element,{attributeFilter:["class"],attributes:!0}),this.addDestroyHook((function(){o.disconnect()}))}}}),i&&(B(i,{mounted:function(e){var t=this;e();var n=function(e,n){var a=M(e.querySelectorAll(".fv__ui-search-result-title,.fv__ui-search-result-item")).filter((function(e){return"none"!==e.style.display})),r=e.getAttribute("aria-activedescendant"),o=e.querySelector("[id=".concat(r,"]")),l=a.indexOf(o),c=l,s=a[c="number"==typeof n?-1===n||1===n?(c+n+a.length)%a.length:(n+a.length)%a.length:a.length-1];T(e,{"aria-activedescendant":s.id}),t.updateActiveResult(c-1,l-1),i(e,s)},i=function(e,t){var n=e.scrollTop,i=t.getBoundingClientRect().bottom,a=e.getBoundingClientRect(),r=n+i+20-a.top-a.height;r<0&&(r=0),e.scrollTo(0,r)},a=this.element.querySelector(".fv__ui-search-results"),r=this.element.querySelector(".fv__ui-search-result-title"),o=this.element.querySelector(".fv__ui-search-result-panel-text");T(a,{role:"listbox",tabindex:"0","aria-activedescendant":r.id,"aria-labelledby":o.id}),T(r,{role:"option"}),this.attachEventToElement(this.element,"keyup",(function(e){e.target.classList.contains("fv__ui-search-results")&&La(e,Ta(Fa,Ha,Ra,Oa,Ia,Na))&&(e.stopPropagation(),e.preventDefault())})),this.attachEventToElement(this.element,"keydown",(function(e){e.target.classList.contains("fv__ui-search-results")&&$a(e).when(Ha,(function(){n(e.target,-1),e.stopPropagation(),e.preventDefault()})).when(Fa,(function(){n(e.target,1),e.stopPropagation(),e.preventDefault()})).when(Ra,(function(){n(e.target,0),e.stopPropagation(),e.preventDefault()})).when(Oa,(function(){n(e.target),e.stopPropagation(),e.preventDefault()})).when(Na,(function(){var t=e.target.getAttribute("aria-activedescendant"),n=e.target.querySelector("[id=".concat(t,"]"));if(n){var i=n.querySelector(".fv__ui-checkbox-hide-text,.fv__ui-search-result-item-check");if(i){if(i.classList.contains("fv__icon-search-checked"))T(n,{"aria-checked":!1});else if(i.classList.contains("fv__ui-search-result-item-check")&&!i.classList.contains("fv__icon-search-checked"))T(n,{"aria-checked":!0});else{var a=i.querySelector("input[type=checkbox]");a&&a.checked?T(n,{"aria-checked":!1}):a&&!a.checked&&T(n,{"aria-checked":!0})}i.click(),e.target.focus()}}e.stopPropagation(),e.preventDefault()})).when(Ia,(function(){var t=e.target.getAttribute("aria-activedescendant"),n=e.target.querySelector("[id=".concat(t,"]"));if(n){var i=n.querySelector(".fv__ui-search-result-item-content");i?i.click():n.click()}e.stopPropagation(),e.preventDefault()}))}));if(window.MutationObserver){var l=new MutationObserver((function(e){if(!ge(e,1)[0].target.classList.contains("fv__ui-directive-show-hidden")){var n=t.element.querySelector(".fv__ui-search-results");n&&n.focus()}}));l.observe(this.element,{attributeFilter:["class"],attributes:!0}),this.addDestroyHook((function(){l.disconnect()}))}},setSelectedResult:function(e){var t=this;e();var n=this.element.querySelector(".fv__ui-search-results"),i=this.element.querySelector(".fv__ui-search-result-title"),a=this.element.querySelector(".fv__ui-search-result-panel-text"),r=this.element.querySelectorAll(".fv__search-more");if(n&&i&&a){n.getAttribute("aria-activedescendant")||T(n,{"aria-activedescendant":i.id}),T(n,{role:"listbox",tabindex:"0","aria-labelledby":a.id}),T(i,{role:"option"});var o=i.querySelector("input[type=checkbox]");i.getAttribute("aria-checked")||(o&&!o.checked?T(i,{"aria-checked":!1}):o&&o.checked&&T(i,{"aria-checked":!0})),M(n.querySelectorAll(".fv__ui-search-result-item")).forEach((function(e){T(e,{"aria-checked":!!e.querySelector(".fv__icon-search-checked")})}))}M(r).forEach((function(e){T(e,{tabindex:"0",role:"button"}),t.attachEventToElement(e,"keydown",(function(n){La(n,Ta(Na,Ia))&&(e.click(),t.element.querySelector(".fv__ui-search-results").focus())}))}))},handleClickResult:function(e){var t=this;e(),this.pdfUI.eventEmitter.once("completed-render-visible-pages",(function(){var e=document.querySelector(".fv__ui-ask-dialog");if(e)e.focus();else{var n=t.element.querySelector("#search-result-panel-box");n&&n.focus()}}))},getLookingForText:function(e){e(),T(this.element.querySelector(".fv__ui-checkbox-hide-text .fv__ui-checkbox-input"),{tabindex:"-1"});var t=this.element.querySelectorAll(".fv__ui-search-result-item");0!==t.length&&M(t).forEach((function(e){T(e,{role:"option"})}))}}),a&&B(a,{updateUI:function(e){if(e(),this.element){this.invalid?T(this.element,{"aria-disabled":!0}):F(this.element,"aria-disabled"),T(this.element,{"aria-checked":this.checked});var t=this.element.closest(".fv__ui-search-result-item");t||T(t,{"aria-checked":this.checked})}}}))},function(e,t){var n=f.modular.module("thumbnail").getComponentClass("thumbnail-panel");n&&B(n,{initThumbnailRect:function(e){e();var t=this.$thumbImageContainerBox.find(".fv__thumb-page");t.attr({role:"option"}).attr("aria-labelledby",(function(e){var n=G("fv__thumbnail_page_index"),i=t[e].querySelector(".fv__thumb-page-index");return T(i,{id:n,"aria-hidden":!0,"aria-label":i.textContent}),n})).attr("id",(function(e){return G("fv__thumbnail_page")})),this.$thumbImageContainer.attr({tabindex:"0",role:"listbox","aria-labelledby":this.$thumbImageContainer.closest(".fv__ui-sidebar-panel-body").attr("aria-labelledby"),"aria-activedescendant":this.$thumbImageContainer.find(".fv__thumb-page").eq(0).attr("id")})},updatePageLabel:function(e,t){var n=ge(t,1)[0];e();var i=this.$thumbImageContainerBox.find(".fv__thumb-page").eq(n);i.attr("aria-labelledby")||i.attr({role:"option"}).attr("aria-labelledby",(function(e){var t=G("fv__thumbnail_page"),n=i.find(".fv__thumb-page-index");return T(n[0],{id:t,"aria-hidden":!0,"aria-label":n[0].textContent}),t}))},mounted:function(e){var t=this;e(),this.attachEventToElement(this.$thumbImageContainerBox[0],"click",(function(e){var n=t.$thumbImageContainer.find(".fv__active");t.$thumbImageContainer.attr("aria-activedescendant",n.attr("id"))}));var n=function(e){var n=+e.target.querySelector(".fv__active").getAttribute("data-page-index"),i=t.previePageIndex;t.doPageAction(i,n),t.previePageIndex=n,t.getPDFUI().goToPage(n,0,0,!1),!t.resizing&&!t.moving&&t.calcThumbnailRect(!0,n)};this.attachEventToElement(this.$thumbImageContainerBox[0],"keyup",(function(e){Ma(e).when(Ba,(function(){var n=Wa(t,0);t.$thumbImageContainer.attr("aria-activedescendant",n.attr("id")),e.preventDefault(),e.stopPropagation()})).when(Va,(function(){var n=Wa(t);t.$thumbImageContainer.attr("aria-activedescendant",n.attr("id")),e.preventDefault(),e.stopPropagation()})).when(za,(function(){var n=Wa(t,-1);t.$thumbImageContainer.attr("aria-activedescendant",n.attr("id")),e.preventDefault(),e.stopPropagation()})).when(ja,(function(){var n=Wa(t,1);t.$thumbImageContainer.attr("aria-activedescendant",n.attr("id")),e.preventDefault(),e.stopPropagation()})).when(Ka,(function(){n(e)})).when(Ga,(function(){n(e)}))}))}})},function(e,t){var n=f.internals.NoteTypeTab;n&&B(n,{bindEvent:function(e){e();var t=this.$dom.find(".fv__noteType-body");t.attr({role:"listbox","aria-labelle":"Note Type Icon",tabindex:"0"});var n=t.find(".icon-btn");n.attr({role:"option"});var i=function(e){var i=n.index(n.filter(".active")[0]);i="number"==typeof e?1===e||-1===e?(i+e+n.length)%n.length:e:n.length-1,n.eq(i).click(),n.removeAttr("aria-selected");var a=t.scrollTop(),r=t.offset().top,o=n.eq(i).offset().top;t.scrollTop(o-r+a)};t.on("keydown",(function(e){xr(e.originalEvent,Lr(Sr,Cr,Dr,qr))&&(e.preventDefault(),e.stopPropagation())})),t.on("keyup",(function(e){kr(e.originalEvent).when(qr,(function(){i(1),e.preventDefault(),e.stopPropagation()})).when(Dr,(function(){i(-1),e.preventDefault(),e.stopPropagation()})).when(Sr,(function(){i(0),e.preventDefault(),e.stopPropagation()})).when(Cr,(function(){i(),e.preventDefault(),e.stopPropagation()}))}))},toggle:function(e,t){var n=ge(t,1)[0];e(),this.$dom.find(".fv__noteType-body").attr({"aria-disabled":n,tabindex:n?"0":"-1"})},combine:function(e){e();var t=this.$dom.find(".fv__noteType-body");t.attr("aria-activedescendant",(function(){return t.find(".icon-btn.active").attr("id")}));var n=t.find(".icon-btn");n.attr("aria-selected",(function(e){if(n.eq(e).hasClass("active"))return!0}))}})}];Qr.push((function(e,t){var n=f.modular.module("password-protect").getComponentClass("password-protect-popup"),i=f.modular.module("password-protect").getComponentClass("password-protect-permissionPopup");n&&(B(n,{updateData:function(e){var t=this;e();var n=this.element.querySelector(".fv__ui-layer-panel");T(n.querySelector(".fv__password-protect-error"),{role:"alert"});var i=n.querySelector(".fv__encrypt-settings-radiobox-container"),a=i.children.item(0),r=i.children.item(1),o=r.children.item(0),l=i.children.item(2),c=l.children.item(0),s=G("enc-alg-l"),u=G("env-alg-128"),d=G("env-alg-256");T(i,{"aria-labelledby":s}),N(a,"id",s),N(r,"id",u),N(l,"id",d),T(o,{"aria-labelledby":u}),T(c,{"aria-labelledby":d}),n.querySelectorAll(".check-box-wrapper").forEach((function(e){var t=e.querySelector("input"),n=e.querySelector(".checkbox-inner");T(n,{role:"checkbox",tabindex:0,"aria-checked":t.checked,"aria-disabled":t.disabled}),t.disabled&&I(n,"tabindex"),n.addEventListener("keydown",(function(e){Ae(e,Ce(De,qe))&&e.target.click()})),n.addEventListener("click",(function(){N(n,"aria-checked",!t.checked)}))})),this.bindEvent(".fv__owner-password-checkbox","change",(function(e){t.element.querySelectorAll(".check-box-wrapper").forEach((function(e){var t=e.querySelector("input"),n=e.querySelector(".checkbox-inner");N(n,"aria-disabled",t.disabled),t.disabled?I(n,"tabindex"):N(n,"tabindex","0")}))}))}}),B(i,{updateData:function(e){var t=this;e(),this.element.querySelector(".fv__ui-layer-panel").querySelectorAll(".check-box-wrapper").forEach((function(e){var t=e.querySelector("input"),n=e.querySelector(".checkbox-inner");T(n,{role:"checkbox",tabindex:0,"aria-checked":t.checked,"aria-disabled":t.disabled}),t.disabled&&I(n,"tabindex"),n.addEventListener("keydown",(function(e){Ae(e,Ce(De,qe))&&e.target.click()})),n.addEventListener("click",(function(){N(n,"aria-checked",t.checked)}))})),this.bindEvent(".fv__owner-permission-setting-checkbox","change",(function(e){T(e.target.parentElement.querySelector(".checkbox-inner"),{"aria-checked":e.target.checked}),M(t.element.querySelectorAll(".fv__permission-copy,.fv__permission-accessibility")).forEach((function(e){var t=e.parentElement.querySelector(".checkbox-inner");e.disabled?T(t,{tabindex:-1,"aria-disabled":!0}):(T(t,{tabindex:0}),F(t,"disabled","aria-disabled"))}))})),this.bindEvent(".fv__permission-copy","change",(function(e){T(e.target.parentElement.querySelector(".checkbox-inner"),{"aria-checked":e.target.checked});var n=t.element.querySelector(".fv__permission-accessibility"),i=n.parentElement.querySelector(".checkbox-inner");n.disabled?T(i,{tabindex:-1,"aria-disabled":!0}):(T(i,{tabindex:0}),F(i,"disabled","aria-disabled"))})),this.bindEvent(".fv__permission-accessibility","change",(function(e){T(e.target.parentElement.querySelector(".checkbox-inner"),{"aria-checked":e.target.checked})}))}}))}));var Jr=function(e){l(a,e);var n=d(a);function a(){return t(this,a),n.apply(this,arguments)}return i(a,[{key:"init",value:function(e){var t=this,n=e.renderTo;e.waitForInitialization().then((function(){n.setAttribute("role","main")})),e.getRootComponent().then((function(n){Qr.forEach((function(i){i.call(t,e,n)}))}))}},{key:"receiveAction",value:function(e,t){0}}],[{key:"getName",value:function(){return"aria"}},{key:"getLoader",value:function(){return v()}},{key:"initOnLoad",value:function(){var e=f.modular.module("aria",[]).getRegistry();e.registerDirective(jt),e.registerDirective(Xt),e.registerDirective(Wt),e.registerDirective(Kt),e.registerDirective(Vt),e.registerDirective(Gt),e.registerDirective(H),e.registerDirective(p),e.registerDirective(Qt),e.registerDirective(Yt),e.registerDirective(ri),e.registerDirective(Mi),Xr.forEach((function(e){e.call()}))}}]),a}(f.UIXAddon)})(),o=o.default})()));