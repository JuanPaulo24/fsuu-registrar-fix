!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],t):"object"==typeof exports?exports.FullScreenUIXAddon=t(require("UIExtension")):e.FullScreenUIXAddon=t(e.UIExtension)}(self,(e=>(()=>{var t={463:e=>{e.exports=null},616:t=>{"use strict";t.exports=e}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var l=n[e]={exports:{}};return t[e](l,l.exports,r),l.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var o={};return(()=>{"use strict";function e(t,n){return null!=n&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):e(t,n)}function t(t,n){if(!e(t,n))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(s=function(){return!!e})()}function a(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function f(e){var t=s();return function(){var n,r=i(e);if(t){var o=i(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}r.d(o,{default:()=>O});var p=r(616),d=r(463),m=r.n(d);function v(e,t,n){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n||e):o.value}},v(e,t,n||e)}var h=p.UIEvents,y=function(e){c(r,e);var n=f(r);function r(){return t(this,r),n.apply(this,arguments)}return l(r,[{key:"mounted",value:function(){var e=this;v(i(r.prototype),"mounted",this).call(this),this.on("click",(function(){var e=window.document,t=e.documentElement,n=t.requestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullScreen||t.msRequestFullscreen,r=e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen;e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement?r.call(e):n.call(t)})),this.getPDFUI().addUIEventListener(h.fullscreenchange,(function(t){t?e.setText("full-screen:exit-fullscreen"):e.setText("full-screen:fullscreen"),e.localize()}))}}],[{key:"getName",value:function(){return"toggle-full-screen-button"}}]),r}(p.SeniorComponentFactory.createSuperClass({template:'\n        <xbutton icon-class="fv__icon-toolbar-fullscreen" text="full-screen:fullscreen"></xbutton>\n    '})),b=[["show","hide"],["active","deactive"],["disable","enable"],["collapseTotally","expand"],["toggle","toggle"]],w=b.reduce((function(e,t){return e.concat(t)})),g=b.reduce((function(e,t){return e[t[0]]=t[1],e[t[1]]=t[0],e}),{}),x=function(e){c(r,e);var n=f(r);function r(){return t(this,r),n.apply(this,arguments)}return l(r,[{key:"componentPrelink",value:function(){var e=this,t=this.attrValue||this.subName;t&&-1!==w.indexOf(t)&&this.component.getPDFUI().addUIEventListener("fullscreenchange",(function(n){var r=n?t:g[t];"show"==r&&!1===e.component.autoVisible||e.component[r].call(e.component)}))}}],[{key:"getName",value:function(){return"fullscreen"}}]),r}(p.Directive);function F(e,t,n,r,o,l,u){try{var c=e[l](u),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,o)}function E(e,t){var n,r,o,l,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function c(c){return function(i){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,c[0]&&(u=0)),u;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return u.label++,{value:c[1],done:!1};case 5:u.label++,r=c[1],c=[0];continue;case 7:c=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){u=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){u.label=c[1];break}if(6===c[0]&&u.label<o[1]){u.label=o[1],o=c;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(c);break}o[2]&&u.ops.pop(),u.trys.pop();continue}c=t.call(e,u)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,i])}}}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;var k=p.PDFViewCtrl.BrowserInfo.isIE10,I=function(e){c(r,e);var n=f(r);function r(){return t(this,r),n.apply(this,arguments)}return l(r,[{key:"mounted",value:function(){var e=this;v(i(r.prototype),"mounted",this).call(this),this.pdfUI=this.component.getPDFUI(),this.addDestroyHook(this.pdfUI.addUIEventListener("fullscreenchange",(function(t){t?e.component.setText("full-screen:contextmenu-exit"):e.component.setText("full-screen:contextmenu")})))}},{key:"handle",value:function(){var e,t=this;return(e=function(){var e,n,r,o,l,u;return E(this,(function(c){switch(c.label){case 0:return k?(t.pdfUI.alert("full-screen:browser-not-support"),[2]):t.pdfUI.checkAppSignIn()?[4,t.pdfUI.getComponentByName("float-bar-full-screen")]:[2];case 1:return(e=c.sent())?[2,e.trigger("click")]:[4,t.pdfUI.getPDFViewer()];case 2:return(n=c.sent()).customs&&n.customs.setFullScreen&&t.pdfUI.addUIEventListener("fullscreenchange",(function(e){n.customs.setFullScreen({isFullscreen:e,callExplorer:!1})})),r=window.document,o=r.documentElement,l=o.requestFullscreen||o.mozRequestFullScreen||o.webkitRequestFullScreen||o.msRequestFullscreen,u=r.exitFullscreen||r.mozCancelFullScreen||r.webkitExitFullscreen||r.msExitFullscreen,r.fullscreenElement||r.mozFullScreenElement||r.webkitFullscreenElement||r.msFullscreenElement?u&&u.call(r):l&&l.call(o),[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var l=e.apply(t,n);function u(e){F(l,r,o,u,c,"next",e)}function c(e){F(l,r,o,u,c,"throw",e)}u(void 0)}))})()}}],[{key:"getName",value:function(){return"FullscreenController"}}]),r}(p.Controller),S=p.PDFViewCtrl.DeviceInfo,U=p.PDFViewCtrl.BrowserInfo,O=function(e){c(r,e);var n=f(r);function r(){return t(this,r),n.apply(this,arguments)}return l(r,[{key:"afterMounted",value:function(e){this.pdfUI.eventEmitter.emit("fullscreenchange",this.checkISFullscreen())}},{key:"init",value:function(e){var t=this;this.pdfUI=e;var n=this.checkISFullscreen(),r=function(r){var o=t.checkISFullscreen();n!==o&&(n=o,e.eventEmitter.emit("fullscreenchange",o))};window.addEventListener("resize",r),this._removeResizeEvent=function(){return window.removeEventListener("resize",r)}}},{key:"checkISFullscreen",value:function(){var e=document.mozFullscreen||document.webkitIsFullScreen||document.fullscreen;return S.isMobile?U.isSafari?!!document.webkitCurrentFullScreenElement:e:e||window.innerHeight===window.screen.height&&window.innerWidth===window.screen.width}},{key:"destroy",value:function(){this._removeResizeEvent()}}],[{key:"getName",value:function(){return"full-screen"}},{key:"getLoader",value:function(){return m()}},{key:"initOnLoad",value:function(){var e=p.modular.module("full-screen",[]);e.getRegistry().registerDirective(x),e.registerComponent(y),e.registerController(I),e.registerPreConfiguredComponent("contextmenu-item-fullscreen",{template:'<contextmenu-item name="fv--contextmenu-item-full-screen" @controller="full-screen:FullscreenController" @hide-on-device="ios">full-screen:contextmenu</contextmenu-item>'})}}]),r}(p.UIXAddon)})(),o=o.default})()));